!(function (e) {
  var t = {};
  function i(n) {
    if (t[n]) return t[n].exports;
    var o = (t[n] = { i: n, l: !1, exports: {} });
    return e[n].call(o.exports, o, o.exports, i), (o.l = !0), o.exports;
  }
  (i.m = e),
    (i.c = t),
    (i.d = function (e, t, n) {
      i.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n });
    }),
    (i.r = function (e) {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(e, "__esModule", { value: !0 });
    }),
    (i.t = function (e, t) {
      if ((1 & t && (e = i(e)), 8 & t)) return e;
      if (4 & t && "object" == typeof e && e && e.__esModule) return e;
      var n = Object.create(null);
      if (
        (i.r(n),
          Object.defineProperty(n, "default", { enumerable: !0, value: e }),
          2 & t && "string" != typeof e)
      )
        for (var o in e)
          i.d(
            n,
            o,
            function (t) {
              return e[t];
            }.bind(null, o)
          );
      return n;
    }),
    (i.n = function (e) {
      var t =
        e && e.__esModule
          ? function () {
            return e.default;
          }
          : function () {
            return e;
          };
      return i.d(t, "a", t), t;
    }),
    (i.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    }),
    (i.p = ""),
    i((i.s = 37));
})([
  function (e, t, i) {
    var n;
    /*!
     * jQuery JavaScript Library v3.5.1
     * https://jquery.com/
     *
     * Includes Sizzle.js
     * https://sizzlejs.com/
     *
     * Copyright JS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2020-05-04T22:49Z
     */ !(function (t, i) {
      "use strict";
      "object" == typeof e.exports
        ? (e.exports = t.document
          ? i(t, !0)
          : function (e) {
            if (!e.document)
              throw new Error("jQuery requires a window with a document");
            return i(e);
          })
        : i(t);
    })("undefined" != typeof window ? window : this, function (i, o) {
      "use strict";
      var r = [],
        a = Object.getPrototypeOf,
        s = r.slice,
        l = r.flat
          ? function (e) {
            return r.flat.call(e);
          }
          : function (e) {
            return r.concat.apply([], e);
          },
        c = r.push,
        u = r.indexOf,
        d = {},
        p = d.toString,
        h = d.hasOwnProperty,
        f = h.toString,
        g = f.call(Object),
        m = {},
        v = function (e) {
          return "function" == typeof e && "number" != typeof e.nodeType;
        },
        b = function (e) {
          return null != e && e === e.window;
        },
        y = i.document,
        x = { type: !0, src: !0, nonce: !0, noModule: !0 };
      function w(e, t, i) {
        var n,
          o,
          r = (i = i || y).createElement("script");
        if (((r.text = e), t))
          for (n in x)
            (o = t[n] || (t.getAttribute && t.getAttribute(n))) &&
              r.setAttribute(n, o);
        i.head.appendChild(r).parentNode.removeChild(r);
      }
      function _(e) {
        return null == e
          ? e + ""
          : "object" == typeof e || "function" == typeof e
            ? d[p.call(e)] || "object"
            : typeof e;
      }
      var A = function (e, t) {
        return new A.fn.init(e, t);
      };
      function E(e) {
        var t = !!e && "length" in e && e.length,
          i = _(e);
        return (
          !v(e) &&
          !b(e) &&
          ("array" === i ||
            0 === t ||
            ("number" == typeof t && t > 0 && t - 1 in e))
        );
      }
      (A.fn = A.prototype =
      {
        jquery: "3.5.1",
        constructor: A,
        length: 0,
        toArray: function () {
          return s.call(this);
        },
        get: function (e) {
          return null == e
            ? s.call(this)
            : e < 0
              ? this[e + this.length]
              : this[e];
        },
        pushStack: function (e) {
          var t = A.merge(this.constructor(), e);
          return (t.prevObject = this), t;
        },
        each: function (e) {
          return A.each(this, e);
        },
        map: function (e) {
          return this.pushStack(
            A.map(this, function (t, i) {
              return e.call(t, i, t);
            })
          );
        },
        slice: function () {
          return this.pushStack(s.apply(this, arguments));
        },
        first: function () {
          return this.eq(0);
        },
        last: function () {
          return this.eq(-1);
        },
        even: function () {
          return this.pushStack(
            A.grep(this, function (e, t) {
              return (t + 1) % 2;
            })
          );
        },
        odd: function () {
          return this.pushStack(
            A.grep(this, function (e, t) {
              return t % 2;
            })
          );
        },
        eq: function (e) {
          var t = this.length,
            i = +e + (e < 0 ? t : 0);
          return this.pushStack(i >= 0 && i < t ? [this[i]] : []);
        },
        end: function () {
          return this.prevObject || this.constructor();
        },
        push: c,
        sort: r.sort,
        splice: r.splice,
      }),
        (A.extend = A.fn.extend =
          function () {
            var e,
              t,
              i,
              n,
              o,
              r,
              a = arguments[0] || {},
              s = 1,
              l = arguments.length,
              c = !1;
            for (
              "boolean" == typeof a && ((c = a), (a = arguments[s] || {}), s++),
              "object" == typeof a || v(a) || (a = {}),
              s === l && ((a = this), s--);
              s < l;
              s++
            )
              if (null != (e = arguments[s]))
                for (t in e)
                  (n = e[t]),
                    "__proto__" !== t &&
                    a !== n &&
                    (c && n && (A.isPlainObject(n) || (o = Array.isArray(n)))
                      ? ((i = a[t]),
                        (r =
                          o && !Array.isArray(i)
                            ? []
                            : o || A.isPlainObject(i)
                              ? i
                              : {}),
                        (o = !1),
                        (a[t] = A.extend(c, r, n)))
                      : void 0 !== n && (a[t] = n));
            return a;
          }),
        A.extend({
          expando: "jQuery" + ("3.5.1" + Math.random()).replace(/\D/g, ""),
          isReady: !0,
          error: function (e) {
            throw new Error(e);
          },
          noop: function () { },
          isPlainObject: function (e) {
            var t, i;
            return (
              !(!e || "[object Object]" !== p.call(e)) &&
              (!(t = a(e)) ||
                ("function" ==
                  typeof (i = h.call(t, "constructor") && t.constructor) &&
                  f.call(i) === g))
            );
          },
          isEmptyObject: function (e) {
            var t;
            for (t in e) return !1;
            return !0;
          },
          globalEval: function (e, t, i) {
            w(e, { nonce: t && t.nonce }, i);
          },
          each: function (e, t) {
            var i,
              n = 0;
            if (E(e))
              for (i = e.length; n < i && !1 !== t.call(e[n], n, e[n]); n++);
            else for (n in e) if (!1 === t.call(e[n], n, e[n])) break;
            return e;
          },
          makeArray: function (e, t) {
            var i = t || [];
            return (
              null != e &&
              (E(Object(e))
                ? A.merge(i, "string" == typeof e ? [e] : e)
                : c.call(i, e)),
              i
            );
          },
          inArray: function (e, t, i) {
            return null == t ? -1 : u.call(t, e, i);
          },
          merge: function (e, t) {
            for (var i = +t.length, n = 0, o = e.length; n < i; n++)
              e[o++] = t[n];
            return (e.length = o), e;
          },
          grep: function (e, t, i) {
            for (var n = [], o = 0, r = e.length, a = !i; o < r; o++)
              !t(e[o], o) !== a && n.push(e[o]);
            return n;
          },
          map: function (e, t, i) {
            var n,
              o,
              r = 0,
              a = [];
            if (E(e))
              for (n = e.length; r < n; r++)
                null != (o = t(e[r], r, i)) && a.push(o);
            else for (r in e) null != (o = t(e[r], r, i)) && a.push(o);
            return l(a);
          },
          guid: 1,
          support: m,
        }),
        "function" == typeof Symbol &&
        (A.fn[Symbol.iterator] = r[Symbol.iterator]),
        A.each(
          "Boolean Number String Function Array Date RegExp Object Error Symbol".split(
            " "
          ),
          function (e, t) {
            d["[object " + t + "]"] = t.toLowerCase();
          }
        );
      var S =
        /*!
         * Sizzle CSS Selector Engine v2.3.5
         * https://sizzlejs.com/
         *
         * Copyright JS Foundation and other contributors
         * Released under the MIT license
         * https://js.foundation/
         *
         * Date: 2020-03-14
         */
        (function (e) {
          var t,
            i,
            n,
            o,
            r,
            a,
            s,
            l,
            c,
            u,
            d,
            p,
            h,
            f,
            g,
            m,
            v,
            b,
            y,
            x = "sizzle" + 1 * new Date(),
            w = e.document,
            _ = 0,
            A = 0,
            E = le(),
            S = le(),
            T = le(),
            C = le(),
            k = function (e, t) {
              return e === t && (d = !0), 0;
            },
            L = {}.hasOwnProperty,
            D = [],
            I = D.pop,
            P = D.push,
            O = D.push,
            M = D.slice,
            N = function (e, t) {
              for (var i = 0, n = e.length; i < n; i++)
                if (e[i] === t) return i;
              return -1;
            },
            R =
              "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            B = "[\\x20\\t\\r\\n\\f]",
            z =
              "(?:\\\\[\\da-fA-F]{1,6}" +
              B +
              "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
            $ =
              "\\[" +
              B +
              "*(" +
              z +
              ")(?:" +
              B +
              "*([*^$|!~]?=)" +
              B +
              "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
              z +
              "))|)" +
              B +
              "*\\]",
            H =
              ":(" +
              z +
              ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
              $ +
              ")*)|.*)\\)|)",
            V = new RegExp(B + "+", "g"),
            j = new RegExp(
              "^" + B + "+|((?:^|[^\\\\])(?:\\\\.)*)" + B + "+$",
              "g"
            ),
            F = new RegExp("^" + B + "*," + B + "*"),
            U = new RegExp("^" + B + "*([>+~]|" + B + ")" + B + "*"),
            W = new RegExp(B + "|>"),
            q = new RegExp(H),
            Q = new RegExp("^" + z + "$"),
            G = {
              ID: new RegExp("^#(" + z + ")"),
              CLASS: new RegExp("^\\.(" + z + ")"),
              TAG: new RegExp("^(" + z + "|[*])"),
              ATTR: new RegExp("^" + $),
              PSEUDO: new RegExp("^" + H),
              CHILD: new RegExp(
                "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
                B +
                "*(even|odd|(([+-]|)(\\d*)n|)" +
                B +
                "*(?:([+-]|)" +
                B +
                "*(\\d+)|))" +
                B +
                "*\\)|)",
                "i"
              ),
              bool: new RegExp("^(?:" + R + ")$", "i"),
              needsContext: new RegExp(
                "^" +
                B +
                "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                B +
                "*((?:-\\d)?\\d*)" +
                B +
                "*\\)|)(?=[^-]|$)",
                "i"
              ),
            },
            Y = /HTML$/i,
            Z = /^(?:input|select|textarea|button)$/i,
            X = /^h\d$/i,
            K = /^[^{]+\{\s*\[native \w/,
            J = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            ee = /[+~]/,
            te = new RegExp(
              "\\\\[\\da-fA-F]{1,6}" + B + "?|\\\\([^\\r\\n\\f])",
              "g"
            ),
            ie = function (e, t) {
              var i = "0x" + e.slice(1) - 65536;
              return (
                t ||
                (i < 0
                  ? String.fromCharCode(i + 65536)
                  : String.fromCharCode((i >> 10) | 55296, (1023 & i) | 56320))
              );
            },
            ne = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
            oe = function (e, t) {
              return t
                ? "\0" === e
                  ? "�"
                  : e.slice(0, -1) +
                  "\\" +
                  e.charCodeAt(e.length - 1).toString(16) +
                  " "
                : "\\" + e;
            },
            re = function () {
              p();
            },
            ae = xe(
              function (e) {
                return (
                  !0 === e.disabled && "fieldset" === e.nodeName.toLowerCase()
                );
              },
              { dir: "parentNode", next: "legend" }
            );
          try {
            O.apply((D = M.call(w.childNodes)), w.childNodes),
              D[w.childNodes.length].nodeType;
          } catch (e) {
            O = {
              apply: D.length
                ? function (e, t) {
                  P.apply(e, M.call(t));
                }
                : function (e, t) {
                  for (var i = e.length, n = 0; (e[i++] = t[n++]););
                  e.length = i - 1;
                },
            };
          }
          function se(e, t, n, o) {
            var r,
              s,
              c,
              u,
              d,
              f,
              v,
              b = t && t.ownerDocument,
              w = t ? t.nodeType : 9;
            if (
              ((n = n || []),
                "string" != typeof e || !e || (1 !== w && 9 !== w && 11 !== w))
            )
              return n;
            if (!o && (p(t), (t = t || h), g)) {
              if (11 !== w && (d = J.exec(e)))
                if ((r = d[1])) {
                  if (9 === w) {
                    if (!(c = t.getElementById(r))) return n;
                    if (c.id === r) return n.push(c), n;
                  } else if (
                    b &&
                    (c = b.getElementById(r)) &&
                    y(t, c) &&
                    c.id === r
                  )
                    return n.push(c), n;
                } else {
                  if (d[2]) return O.apply(n, t.getElementsByTagName(e)), n;
                  if (
                    (r = d[3]) &&
                    i.getElementsByClassName &&
                    t.getElementsByClassName
                  )
                    return O.apply(n, t.getElementsByClassName(r)), n;
                }
              if (
                i.qsa &&
                !C[e + " "] &&
                (!m || !m.test(e)) &&
                (1 !== w || "object" !== t.nodeName.toLowerCase())
              ) {
                if (((v = e), (b = t), 1 === w && (W.test(e) || U.test(e)))) {
                  for (
                    ((b = (ee.test(e) && ve(t.parentNode)) || t) === t &&
                      i.scope) ||
                    ((u = t.getAttribute("id"))
                      ? (u = u.replace(ne, oe))
                      : t.setAttribute("id", (u = x))),
                    s = (f = a(e)).length;
                    s--;

                  )
                    f[s] = (u ? "#" + u : ":scope") + " " + ye(f[s]);
                  v = f.join(",");
                }
                try {
                  return O.apply(n, b.querySelectorAll(v)), n;
                } catch (t) {
                  C(e, !0);
                } finally {
                  u === x && t.removeAttribute("id");
                }
              }
            }
            return l(e.replace(j, "$1"), t, n, o);
          }
          function le() {
            var e = [];
            return function t(i, o) {
              return (
                e.push(i + " ") > n.cacheLength && delete t[e.shift()],
                (t[i + " "] = o)
              );
            };
          }
          function ce(e) {
            return (e[x] = !0), e;
          }
          function ue(e) {
            var t = h.createElement("fieldset");
            try {
              return !!e(t);
            } catch (e) {
              return !1;
            } finally {
              t.parentNode && t.parentNode.removeChild(t), (t = null);
            }
          }
          function de(e, t) {
            for (var i = e.split("|"), o = i.length; o--;)
              n.attrHandle[i[o]] = t;
          }
          function pe(e, t) {
            var i = t && e,
              n =
                i &&
                1 === e.nodeType &&
                1 === t.nodeType &&
                e.sourceIndex - t.sourceIndex;
            if (n) return n;
            if (i) for (; (i = i.nextSibling);) if (i === t) return -1;
            return e ? 1 : -1;
          }
          function he(e) {
            return function (t) {
              return "input" === t.nodeName.toLowerCase() && t.type === e;
            };
          }
          function fe(e) {
            return function (t) {
              var i = t.nodeName.toLowerCase();
              return ("input" === i || "button" === i) && t.type === e;
            };
          }
          function ge(e) {
            return function (t) {
              return "form" in t
                ? t.parentNode && !1 === t.disabled
                  ? "label" in t
                    ? "label" in t.parentNode
                      ? t.parentNode.disabled === e
                      : t.disabled === e
                    : t.isDisabled === e || (t.isDisabled !== !e && ae(t) === e)
                  : t.disabled === e
                : "label" in t && t.disabled === e;
            };
          }
          function me(e) {
            return ce(function (t) {
              return (
                (t = +t),
                ce(function (i, n) {
                  for (var o, r = e([], i.length, t), a = r.length; a--;)
                    i[(o = r[a])] && (i[o] = !(n[o] = i[o]));
                })
              );
            });
          }
          function ve(e) {
            return e && void 0 !== e.getElementsByTagName && e;
          }
          for (t in ((i = se.support = {}),
            (r = se.isXML =
              function (e) {
                var t = e.namespaceURI,
                  i = (e.ownerDocument || e).documentElement;
                return !Y.test(t || (i && i.nodeName) || "HTML");
              }),
            (p = se.setDocument =
              function (e) {
                var t,
                  o,
                  a = e ? e.ownerDocument || e : w;
                return a != h && 9 === a.nodeType && a.documentElement
                  ? ((f = (h = a).documentElement),
                    (g = !r(h)),
                    w != h &&
                    (o = h.defaultView) &&
                    o.top !== o &&
                    (o.addEventListener
                      ? o.addEventListener("unload", re, !1)
                      : o.attachEvent && o.attachEvent("onunload", re)),
                    (i.scope = ue(function (e) {
                      return (
                        f.appendChild(e).appendChild(h.createElement("div")),
                        void 0 !== e.querySelectorAll &&
                        !e.querySelectorAll(":scope fieldset div").length
                      );
                    })),
                    (i.attributes = ue(function (e) {
                      return (e.className = "i"), !e.getAttribute("className");
                    })),
                    (i.getElementsByTagName = ue(function (e) {
                      return (
                        e.appendChild(h.createComment("")),
                        !e.getElementsByTagName("*").length
                      );
                    })),
                    (i.getElementsByClassName = K.test(h.getElementsByClassName)),
                    (i.getById = ue(function (e) {
                      return (
                        (f.appendChild(e).id = x),
                        !h.getElementsByName || !h.getElementsByName(x).length
                      );
                    })),
                    i.getById
                      ? ((n.filter.ID = function (e) {
                        var t = e.replace(te, ie);
                        return function (e) {
                          return e.getAttribute("id") === t;
                        };
                      }),
                        (n.find.ID = function (e, t) {
                          if (void 0 !== t.getElementById && g) {
                            var i = t.getElementById(e);
                            return i ? [i] : [];
                          }
                        }))
                      : ((n.filter.ID = function (e) {
                        var t = e.replace(te, ie);
                        return function (e) {
                          var i =
                            void 0 !== e.getAttributeNode &&
                            e.getAttributeNode("id");
                          return i && i.value === t;
                        };
                      }),
                        (n.find.ID = function (e, t) {
                          if (void 0 !== t.getElementById && g) {
                            var i,
                              n,
                              o,
                              r = t.getElementById(e);
                            if (r) {
                              if ((i = r.getAttributeNode("id")) && i.value === e)
                                return [r];
                              for (
                                o = t.getElementsByName(e), n = 0;
                                (r = o[n++]);

                              )
                                if (
                                  (i = r.getAttributeNode("id")) &&
                                  i.value === e
                                )
                                  return [r];
                            }
                            return [];
                          }
                        })),
                    (n.find.TAG = i.getElementsByTagName
                      ? function (e, t) {
                        return void 0 !== t.getElementsByTagName
                          ? t.getElementsByTagName(e)
                          : i.qsa
                            ? t.querySelectorAll(e)
                            : void 0;
                      }
                      : function (e, t) {
                        var i,
                          n = [],
                          o = 0,
                          r = t.getElementsByTagName(e);
                        if ("*" === e) {
                          for (; (i = r[o++]);) 1 === i.nodeType && n.push(i);
                          return n;
                        }
                        return r;
                      }),
                    (n.find.CLASS =
                      i.getElementsByClassName &&
                      function (e, t) {
                        if (void 0 !== t.getElementsByClassName && g)
                          return t.getElementsByClassName(e);
                      }),
                    (v = []),
                    (m = []),
                    (i.qsa = K.test(h.querySelectorAll)) &&
                    (ue(function (e) {
                      var t;
                      (f.appendChild(e).innerHTML =
                        "<a id='" +
                        x +
                        "'></a><select id='" +
                        x +
                        "-\r\\' msallowcapture=''><option selected=''></option></select>"),
                        e.querySelectorAll("[msallowcapture^='']").length &&
                        m.push("[*^$]=" + B + "*(?:''|\"\")"),
                        e.querySelectorAll("[selected]").length ||
                        m.push("\\[" + B + "*(?:value|" + R + ")"),
                        e.querySelectorAll("[id~=" + x + "-]").length ||
                        m.push("~="),
                        (t = h.createElement("input")).setAttribute("name", ""),
                        e.appendChild(t),
                        e.querySelectorAll("[name='']").length ||
                        m.push(
                          "\\[" + B + "*name" + B + "*=" + B + "*(?:''|\"\")"
                        ),
                        e.querySelectorAll(":checked").length ||
                        m.push(":checked"),
                        e.querySelectorAll("a#" + x + "+*").length ||
                        m.push(".#.+[+~]"),
                        e.querySelectorAll("\\\f"),
                        m.push("[\\r\\n\\f]");
                    }),
                      ue(function (e) {
                        e.innerHTML =
                          "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                        var t = h.createElement("input");
                        t.setAttribute("type", "hidden"),
                          e.appendChild(t).setAttribute("name", "D"),
                          e.querySelectorAll("[name=d]").length &&
                          m.push("name" + B + "*[*^$|!~]?="),
                          2 !== e.querySelectorAll(":enabled").length &&
                          m.push(":enabled", ":disabled"),
                          (f.appendChild(e).disabled = !0),
                          2 !== e.querySelectorAll(":disabled").length &&
                          m.push(":enabled", ":disabled"),
                          e.querySelectorAll("*,:x"),
                          m.push(",.*:");
                      })),
                    (i.matchesSelector = K.test(
                      (b =
                        f.matches ||
                        f.webkitMatchesSelector ||
                        f.mozMatchesSelector ||
                        f.oMatchesSelector ||
                        f.msMatchesSelector)
                    )) &&
                    ue(function (e) {
                      (i.disconnectedMatch = b.call(e, "*")),
                        b.call(e, "[s!='']:x"),
                        v.push("!=", H);
                    }),
                    (m = m.length && new RegExp(m.join("|"))),
                    (v = v.length && new RegExp(v.join("|"))),
                    (t = K.test(f.compareDocumentPosition)),
                    (y =
                      t || K.test(f.contains)
                        ? function (e, t) {
                          var i = 9 === e.nodeType ? e.documentElement : e,
                            n = t && t.parentNode;
                          return (
                            e === n ||
                            !(
                              !n ||
                              1 !== n.nodeType ||
                              !(i.contains
                                ? i.contains(n)
                                : e.compareDocumentPosition &&
                                16 & e.compareDocumentPosition(n))
                            )
                          );
                        }
                        : function (e, t) {
                          if (t)
                            for (; (t = t.parentNode);) if (t === e) return !0;
                          return !1;
                        }),
                    (k = t
                      ? function (e, t) {
                        if (e === t) return (d = !0), 0;
                        var n =
                          !e.compareDocumentPosition -
                          !t.compareDocumentPosition;
                        return (
                          n ||
                          (1 &
                            (n =
                              (e.ownerDocument || e) == (t.ownerDocument || t)
                                ? e.compareDocumentPosition(t)
                                : 1) ||
                            (!i.sortDetached &&
                              t.compareDocumentPosition(e) === n)
                            ? e == h || (e.ownerDocument == w && y(w, e))
                              ? -1
                              : t == h || (t.ownerDocument == w && y(w, t))
                                ? 1
                                : u
                                  ? N(u, e) - N(u, t)
                                  : 0
                            : 4 & n
                              ? -1
                              : 1)
                        );
                      }
                      : function (e, t) {
                        if (e === t) return (d = !0), 0;
                        var i,
                          n = 0,
                          o = e.parentNode,
                          r = t.parentNode,
                          a = [e],
                          s = [t];
                        if (!o || !r)
                          return e == h
                            ? -1
                            : t == h
                              ? 1
                              : o
                                ? -1
                                : r
                                  ? 1
                                  : u
                                    ? N(u, e) - N(u, t)
                                    : 0;
                        if (o === r) return pe(e, t);
                        for (i = e; (i = i.parentNode);) a.unshift(i);
                        for (i = t; (i = i.parentNode);) s.unshift(i);
                        for (; a[n] === s[n];) n++;
                        return n
                          ? pe(a[n], s[n])
                          : a[n] == w
                            ? -1
                            : s[n] == w
                              ? 1
                              : 0;
                      }),
                    h)
                  : h;
              }),
            (se.matches = function (e, t) {
              return se(e, null, null, t);
            }),
            (se.matchesSelector = function (e, t) {
              if (
                (p(e),
                  i.matchesSelector &&
                  g &&
                  !C[t + " "] &&
                  (!v || !v.test(t)) &&
                  (!m || !m.test(t)))
              )
                try {
                  var n = b.call(e, t);
                  if (
                    n ||
                    i.disconnectedMatch ||
                    (e.document && 11 !== e.document.nodeType)
                  )
                    return n;
                } catch (e) {
                  C(t, !0);
                }
              return se(t, h, null, [e]).length > 0;
            }),
            (se.contains = function (e, t) {
              return (e.ownerDocument || e) != h && p(e), y(e, t);
            }),
            (se.attr = function (e, t) {
              (e.ownerDocument || e) != h && p(e);
              var o = n.attrHandle[t.toLowerCase()],
                r =
                  o && L.call(n.attrHandle, t.toLowerCase())
                    ? o(e, t, !g)
                    : void 0;
              return void 0 !== r
                ? r
                : i.attributes || !g
                  ? e.getAttribute(t)
                  : (r = e.getAttributeNode(t)) && r.specified
                    ? r.value
                    : null;
            }),
            (se.escape = function (e) {
              return (e + "").replace(ne, oe);
            }),
            (se.error = function (e) {
              throw new Error("Syntax error, unrecognized expression: " + e);
            }),
            (se.uniqueSort = function (e) {
              var t,
                n = [],
                o = 0,
                r = 0;
              if (
                ((d = !i.detectDuplicates),
                  (u = !i.sortStable && e.slice(0)),
                  e.sort(k),
                  d)
              ) {
                for (; (t = e[r++]);) t === e[r] && (o = n.push(r));
                for (; o--;) e.splice(n[o], 1);
              }
              return (u = null), e;
            }),
            (o = se.getText =
              function (e) {
                var t,
                  i = "",
                  n = 0,
                  r = e.nodeType;
                if (r) {
                  if (1 === r || 9 === r || 11 === r) {
                    if ("string" == typeof e.textContent) return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) i += o(e);
                  } else if (3 === r || 4 === r) return e.nodeValue;
                } else for (; (t = e[n++]);) i += o(t);
                return i;
              }),
            ((n = se.selectors =
            {
              cacheLength: 50,
              createPseudo: ce,
              match: G,
              attrHandle: {},
              find: {},
              relative: {
                ">": { dir: "parentNode", first: !0 },
                " ": { dir: "parentNode" },
                "+": { dir: "previousSibling", first: !0 },
                "~": { dir: "previousSibling" },
              },
              preFilter: {
                ATTR: function (e) {
                  return (
                    (e[1] = e[1].replace(te, ie)),
                    (e[3] = (e[3] || e[4] || e[5] || "").replace(te, ie)),
                    "~=" === e[2] && (e[3] = " " + e[3] + " "),
                    e.slice(0, 4)
                  );
                },
                CHILD: function (e) {
                  return (
                    (e[1] = e[1].toLowerCase()),
                    "nth" === e[1].slice(0, 3)
                      ? (e[3] || se.error(e[0]),
                        (e[4] = +(e[4]
                          ? e[5] + (e[6] || 1)
                          : 2 * ("even" === e[3] || "odd" === e[3]))),
                        (e[5] = +(e[7] + e[8] || "odd" === e[3])))
                      : e[3] && se.error(e[0]),
                    e
                  );
                },
                PSEUDO: function (e) {
                  var t,
                    i = !e[6] && e[2];
                  return G.CHILD.test(e[0])
                    ? null
                    : (e[3]
                      ? (e[2] = e[4] || e[5] || "")
                      : i &&
                      q.test(i) &&
                      (t = a(i, !0)) &&
                      (t = i.indexOf(")", i.length - t) - i.length) &&
                      ((e[0] = e[0].slice(0, t)), (e[2] = i.slice(0, t))),
                      e.slice(0, 3));
                },
              },
              filter: {
                TAG: function (e) {
                  var t = e.replace(te, ie).toLowerCase();
                  return "*" === e
                    ? function () {
                      return !0;
                    }
                    : function (e) {
                      return e.nodeName && e.nodeName.toLowerCase() === t;
                    };
                },
                CLASS: function (e) {
                  var t = E[e + " "];
                  return (
                    t ||
                    ((t = new RegExp("(^|" + B + ")" + e + "(" + B + "|$)")) &&
                      E(e, function (e) {
                        return t.test(
                          ("string" == typeof e.className && e.className) ||
                          (void 0 !== e.getAttribute &&
                            e.getAttribute("class")) ||
                          ""
                        );
                      }))
                  );
                },
                ATTR: function (e, t, i) {
                  return function (n) {
                    var o = se.attr(n, e);
                    return null == o
                      ? "!=" === t
                      : !t ||
                      ((o += ""),
                        "=" === t
                          ? o === i
                          : "!=" === t
                            ? o !== i
                            : "^=" === t
                              ? i && 0 === o.indexOf(i)
                              : "*=" === t
                                ? i && o.indexOf(i) > -1
                                : "$=" === t
                                  ? i && o.slice(-i.length) === i
                                  : "~=" === t
                                    ? (" " + o.replace(V, " ") + " ").indexOf(i) > -1
                                    : "|=" === t &&
                                    (o === i ||
                                      o.slice(0, i.length + 1) === i + "-"));
                  };
                },
                CHILD: function (e, t, i, n, o) {
                  var r = "nth" !== e.slice(0, 3),
                    a = "last" !== e.slice(-4),
                    s = "of-type" === t;
                  return 1 === n && 0 === o
                    ? function (e) {
                      return !!e.parentNode;
                    }
                    : function (t, i, l) {
                      var c,
                        u,
                        d,
                        p,
                        h,
                        f,
                        g = r !== a ? "nextSibling" : "previousSibling",
                        m = t.parentNode,
                        v = s && t.nodeName.toLowerCase(),
                        b = !l && !s,
                        y = !1;
                      if (m) {
                        if (r) {
                          for (; g;) {
                            for (p = t; (p = p[g]);)
                              if (
                                s
                                  ? p.nodeName.toLowerCase() === v
                                  : 1 === p.nodeType
                              )
                                return !1;
                            f = g = "only" === e && !f && "nextSibling";
                          }
                          return !0;
                        }
                        if (
                          ((f = [a ? m.firstChild : m.lastChild]), a && b)
                        ) {
                          for (
                            y =
                            (h =
                              (c =
                                (u =
                                  (d = (p = m)[x] || (p[x] = {}))[
                                  p.uniqueID
                                  ] || (d[p.uniqueID] = {}))[e] ||
                                [])[0] === _ && c[1]) && c[2],
                            p = h && m.childNodes[h];
                            (p =
                              (++h && p && p[g]) || (y = h = 0) || f.pop());

                          )
                            if (1 === p.nodeType && ++y && p === t) {
                              u[e] = [_, h, y];
                              break;
                            }
                        } else if (
                          (b &&
                            (y = h =
                              (c =
                                (u =
                                  (d = (p = t)[x] || (p[x] = {}))[
                                  p.uniqueID
                                  ] || (d[p.uniqueID] = {}))[e] || [])[0] ===
                              _ && c[1]),
                            !1 === y)
                        )
                          for (
                            ;
                            (p =
                              (++h && p && p[g]) || (y = h = 0) || f.pop()) &&
                            ((s
                              ? p.nodeName.toLowerCase() !== v
                              : 1 !== p.nodeType) ||
                              !++y ||
                              (b &&
                                ((u =
                                  (d = p[x] || (p[x] = {}))[p.uniqueID] ||
                                  (d[p.uniqueID] = {}))[e] = [_, y]),
                                p !== t));

                          );
                        return (y -= o) === n || (y % n == 0 && y / n >= 0);
                      }
                    };
                },
                PSEUDO: function (e, t) {
                  var i,
                    o =
                      n.pseudos[e] ||
                      n.setFilters[e.toLowerCase()] ||
                      se.error("unsupported pseudo: " + e);
                  return o[x]
                    ? o(t)
                    : o.length > 1
                      ? ((i = [e, e, "", t]),
                        n.setFilters.hasOwnProperty(e.toLowerCase())
                          ? ce(function (e, i) {
                            for (var n, r = o(e, t), a = r.length; a--;)
                              e[(n = N(e, r[a]))] = !(i[n] = r[a]);
                          })
                          : function (e) {
                            return o(e, 0, i);
                          })
                      : o;
                },
              },
              pseudos: {
                not: ce(function (e) {
                  var t = [],
                    i = [],
                    n = s(e.replace(j, "$1"));
                  return n[x]
                    ? ce(function (e, t, i, o) {
                      for (var r, a = n(e, null, o, []), s = e.length; s--;)
                        (r = a[s]) && (e[s] = !(t[s] = r));
                    })
                    : function (e, o, r) {
                      return (
                        (t[0] = e), n(t, null, r, i), (t[0] = null), !i.pop()
                      );
                    };
                }),
                has: ce(function (e) {
                  return function (t) {
                    return se(e, t).length > 0;
                  };
                }),
                contains: ce(function (e) {
                  return (
                    (e = e.replace(te, ie)),
                    function (t) {
                      return (t.textContent || o(t)).indexOf(e) > -1;
                    }
                  );
                }),
                lang: ce(function (e) {
                  return (
                    Q.test(e || "") || se.error("unsupported lang: " + e),
                    (e = e.replace(te, ie).toLowerCase()),
                    function (t) {
                      var i;
                      do {
                        if (
                          (i = g
                            ? t.lang
                            : t.getAttribute("xml:lang") ||
                            t.getAttribute("lang"))
                        )
                          return (
                            (i = i.toLowerCase()) === e ||
                            0 === i.indexOf(e + "-")
                          );
                      } while ((t = t.parentNode) && 1 === t.nodeType);
                      return !1;
                    }
                  );
                }),
                target: function (t) {
                  var i = e.location && e.location.hash;
                  return i && i.slice(1) === t.id;
                },
                root: function (e) {
                  return e === f;
                },
                focus: function (e) {
                  return (
                    e === h.activeElement &&
                    (!h.hasFocus || h.hasFocus()) &&
                    !!(e.type || e.href || ~e.tabIndex)
                  );
                },
                enabled: ge(!1),
                disabled: ge(!0),
                checked: function (e) {
                  var t = e.nodeName.toLowerCase();
                  return (
                    ("input" === t && !!e.checked) ||
                    ("option" === t && !!e.selected)
                  );
                },
                selected: function (e) {
                  return (
                    e.parentNode && e.parentNode.selectedIndex,
                    !0 === e.selected
                  );
                },
                empty: function (e) {
                  for (e = e.firstChild; e; e = e.nextSibling)
                    if (e.nodeType < 6) return !1;
                  return !0;
                },
                parent: function (e) {
                  return !n.pseudos.empty(e);
                },
                header: function (e) {
                  return X.test(e.nodeName);
                },
                input: function (e) {
                  return Z.test(e.nodeName);
                },
                button: function (e) {
                  var t = e.nodeName.toLowerCase();
                  return (
                    ("input" === t && "button" === e.type) || "button" === t
                  );
                },
                text: function (e) {
                  var t;
                  return (
                    "input" === e.nodeName.toLowerCase() &&
                    "text" === e.type &&
                    (null == (t = e.getAttribute("type")) ||
                      "text" === t.toLowerCase())
                  );
                },
                first: me(function () {
                  return [0];
                }),
                last: me(function (e, t) {
                  return [t - 1];
                }),
                eq: me(function (e, t, i) {
                  return [i < 0 ? i + t : i];
                }),
                even: me(function (e, t) {
                  for (var i = 0; i < t; i += 2) e.push(i);
                  return e;
                }),
                odd: me(function (e, t) {
                  for (var i = 1; i < t; i += 2) e.push(i);
                  return e;
                }),
                lt: me(function (e, t, i) {
                  for (var n = i < 0 ? i + t : i > t ? t : i; --n >= 0;)
                    e.push(n);
                  return e;
                }),
                gt: me(function (e, t, i) {
                  for (var n = i < 0 ? i + t : i; ++n < t;) e.push(n);
                  return e;
                }),
              },
            }).pseudos.nth = n.pseudos.eq),
            { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }))
            n.pseudos[t] = he(t);
          for (t in { submit: !0, reset: !0 }) n.pseudos[t] = fe(t);
          function be() { }
          function ye(e) {
            for (var t = 0, i = e.length, n = ""; t < i; t++) n += e[t].value;
            return n;
          }
          function xe(e, t, i) {
            var n = t.dir,
              o = t.next,
              r = o || n,
              a = i && "parentNode" === r,
              s = A++;
            return t.first
              ? function (t, i, o) {
                for (; (t = t[n]);)
                  if (1 === t.nodeType || a) return e(t, i, o);
                return !1;
              }
              : function (t, i, l) {
                var c,
                  u,
                  d,
                  p = [_, s];
                if (l) {
                  for (; (t = t[n]);)
                    if ((1 === t.nodeType || a) && e(t, i, l)) return !0;
                } else
                  for (; (t = t[n]);)
                    if (1 === t.nodeType || a)
                      if (
                        ((u =
                          (d = t[x] || (t[x] = {}))[t.uniqueID] ||
                          (d[t.uniqueID] = {})),
                          o && o === t.nodeName.toLowerCase())
                      )
                        t = t[n] || t;
                      else {
                        if ((c = u[r]) && c[0] === _ && c[1] === s)
                          return (p[2] = c[2]);
                        if (((u[r] = p), (p[2] = e(t, i, l)))) return !0;
                      }
                return !1;
              };
          }
          function we(e) {
            return e.length > 1
              ? function (t, i, n) {
                for (var o = e.length; o--;) if (!e[o](t, i, n)) return !1;
                return !0;
              }
              : e[0];
          }
          function _e(e, t, i, n, o) {
            for (var r, a = [], s = 0, l = e.length, c = null != t; s < l; s++)
              (r = e[s]) && ((i && !i(r, n, o)) || (a.push(r), c && t.push(s)));
            return a;
          }
          function Ae(e, t, i, n, o, r) {
            return (
              n && !n[x] && (n = Ae(n)),
              o && !o[x] && (o = Ae(o, r)),
              ce(function (r, a, s, l) {
                var c,
                  u,
                  d,
                  p = [],
                  h = [],
                  f = a.length,
                  g =
                    r ||
                    (function (e, t, i) {
                      for (var n = 0, o = t.length; n < o; n++) se(e, t[n], i);
                      return i;
                    })(t || "*", s.nodeType ? [s] : s, []),
                  m = !e || (!r && t) ? g : _e(g, p, e, s, l),
                  v = i ? (o || (r ? e : f || n) ? [] : a) : m;
                if ((i && i(m, v, s, l), n))
                  for (c = _e(v, h), n(c, [], s, l), u = c.length; u--;)
                    (d = c[u]) && (v[h[u]] = !(m[h[u]] = d));
                if (r) {
                  if (o || e) {
                    if (o) {
                      for (c = [], u = v.length; u--;)
                        (d = v[u]) && c.push((m[u] = d));
                      o(null, (v = []), c, l);
                    }
                    for (u = v.length; u--;)
                      (d = v[u]) &&
                        (c = o ? N(r, d) : p[u]) > -1 &&
                        (r[c] = !(a[c] = d));
                  }
                } else (v = _e(v === a ? v.splice(f, v.length) : v)), o ? o(null, a, v, l) : O.apply(a, v);
              })
            );
          }
          function Ee(e) {
            for (
              var t,
              i,
              o,
              r = e.length,
              a = n.relative[e[0].type],
              s = a || n.relative[" "],
              l = a ? 1 : 0,
              u = xe(
                function (e) {
                  return e === t;
                },
                s,
                !0
              ),
              d = xe(
                function (e) {
                  return N(t, e) > -1;
                },
                s,
                !0
              ),
              p = [
                function (e, i, n) {
                  var o =
                    (!a && (n || i !== c)) ||
                    ((t = i).nodeType ? u(e, i, n) : d(e, i, n));
                  return (t = null), o;
                },
              ];
              l < r;
              l++
            )
              if ((i = n.relative[e[l].type])) p = [xe(we(p), i)];
              else {
                if ((i = n.filter[e[l].type].apply(null, e[l].matches))[x]) {
                  for (o = ++l; o < r && !n.relative[e[o].type]; o++);
                  return Ae(
                    l > 1 && we(p),
                    l > 1 &&
                    ye(
                      e
                        .slice(0, l - 1)
                        .concat({ value: " " === e[l - 2].type ? "*" : "" })
                    ).replace(j, "$1"),
                    i,
                    l < o && Ee(e.slice(l, o)),
                    o < r && Ee((e = e.slice(o))),
                    o < r && ye(e)
                  );
                }
                p.push(i);
              }
            return we(p);
          }
          return (
            (be.prototype = n.filters = n.pseudos),
            (n.setFilters = new be()),
            (a = se.tokenize =
              function (e, t) {
                var i,
                  o,
                  r,
                  a,
                  s,
                  l,
                  c,
                  u = S[e + " "];
                if (u) return t ? 0 : u.slice(0);
                for (s = e, l = [], c = n.preFilter; s;) {
                  for (a in ((i && !(o = F.exec(s))) ||
                    (o && (s = s.slice(o[0].length) || s), l.push((r = []))),
                    (i = !1),
                    (o = U.exec(s)) &&
                    ((i = o.shift()),
                      r.push({ value: i, type: o[0].replace(j, " ") }),
                      (s = s.slice(i.length))),
                    n.filter))
                    !(o = G[a].exec(s)) ||
                      (c[a] && !(o = c[a](o))) ||
                      ((i = o.shift()),
                        r.push({ value: i, type: a, matches: o }),
                        (s = s.slice(i.length)));
                  if (!i) break;
                }
                return t ? s.length : s ? se.error(e) : S(e, l).slice(0);
              }),
            (s = se.compile =
              function (e, t) {
                var i,
                  o = [],
                  r = [],
                  s = T[e + " "];
                if (!s) {
                  for (t || (t = a(e)), i = t.length; i--;)
                    (s = Ee(t[i]))[x] ? o.push(s) : r.push(s);
                  (s = T(
                    e,
                    (function (e, t) {
                      var i = t.length > 0,
                        o = e.length > 0,
                        r = function (r, a, s, l, u) {
                          var d,
                            f,
                            m,
                            v = 0,
                            b = "0",
                            y = r && [],
                            x = [],
                            w = c,
                            A = r || (o && n.find.TAG("*", u)),
                            E = (_ += null == w ? 1 : Math.random() || 0.1),
                            S = A.length;
                          for (
                            u && (c = a == h || a || u);
                            b !== S && null != (d = A[b]);
                            b++
                          ) {
                            if (o && d) {
                              for (
                                f = 0,
                                a || d.ownerDocument == h || (p(d), (s = !g));
                                (m = e[f++]);

                              )
                                if (m(d, a || h, s)) {
                                  l.push(d);
                                  break;
                                }
                              u && (_ = E);
                            }
                            i && ((d = !m && d) && v--, r && y.push(d));
                          }
                          if (((v += b), i && b !== v)) {
                            for (f = 0; (m = t[f++]);) m(y, x, a, s);
                            if (r) {
                              if (v > 0)
                                for (; b--;)
                                  y[b] || x[b] || (x[b] = I.call(l));
                              x = _e(x);
                            }
                            O.apply(l, x),
                              u &&
                              !r &&
                              x.length > 0 &&
                              v + t.length > 1 &&
                              se.uniqueSort(l);
                          }
                          return u && ((_ = E), (c = w)), y;
                        };
                      return i ? ce(r) : r;
                    })(r, o)
                  )).selector = e;
                }
                return s;
              }),
            (l = se.select =
              function (e, t, i, o) {
                var r,
                  l,
                  c,
                  u,
                  d,
                  p = "function" == typeof e && e,
                  h = !o && a((e = p.selector || e));
                if (((i = i || []), 1 === h.length)) {
                  if (
                    (l = h[0] = h[0].slice(0)).length > 2 &&
                    "ID" === (c = l[0]).type &&
                    9 === t.nodeType &&
                    g &&
                    n.relative[l[1].type]
                  ) {
                    if (
                      !(t = (n.find.ID(c.matches[0].replace(te, ie), t) ||
                        [])[0])
                    )
                      return i;
                    p && (t = t.parentNode),
                      (e = e.slice(l.shift().value.length));
                  }
                  for (
                    r = G.needsContext.test(e) ? 0 : l.length;
                    r-- && ((c = l[r]), !n.relative[(u = c.type)]);

                  )
                    if (
                      (d = n.find[u]) &&
                      (o = d(
                        c.matches[0].replace(te, ie),
                        (ee.test(l[0].type) && ve(t.parentNode)) || t
                      ))
                    ) {
                      if ((l.splice(r, 1), !(e = o.length && ye(l))))
                        return O.apply(i, o), i;
                      break;
                    }
                }
                return (
                  (p || s(e, h))(
                    o,
                    t,
                    !g,
                    i,
                    !t || (ee.test(e) && ve(t.parentNode)) || t
                  ),
                  i
                );
              }),
            (i.sortStable = x.split("").sort(k).join("") === x),
            (i.detectDuplicates = !!d),
            p(),
            (i.sortDetached = ue(function (e) {
              return 1 & e.compareDocumentPosition(h.createElement("fieldset"));
            })),
            ue(function (e) {
              return (
                (e.innerHTML = "<a href='#'></a>"),
                "#" === e.firstChild.getAttribute("href")
              );
            }) ||
            de("type|href|height|width", function (e, t, i) {
              if (!i)
                return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2);
            }),
            (i.attributes &&
              ue(function (e) {
                return (
                  (e.innerHTML = "<input/>"),
                  e.firstChild.setAttribute("value", ""),
                  "" === e.firstChild.getAttribute("value")
                );
              })) ||
            de("value", function (e, t, i) {
              if (!i && "input" === e.nodeName.toLowerCase())
                return e.defaultValue;
            }),
            ue(function (e) {
              return null == e.getAttribute("disabled");
            }) ||
            de(R, function (e, t, i) {
              var n;
              if (!i)
                return !0 === e[t]
                  ? t.toLowerCase()
                  : (n = e.getAttributeNode(t)) && n.specified
                    ? n.value
                    : null;
            }),
            se
          );
        })(i);
      (A.find = S),
        (A.expr = S.selectors),
        (A.expr[":"] = A.expr.pseudos),
        (A.uniqueSort = A.unique = S.uniqueSort),
        (A.text = S.getText),
        (A.isXMLDoc = S.isXML),
        (A.contains = S.contains),
        (A.escapeSelector = S.escape);
      var T = function (e, t, i) {
        for (var n = [], o = void 0 !== i; (e = e[t]) && 9 !== e.nodeType;)
          if (1 === e.nodeType) {
            if (o && A(e).is(i)) break;
            n.push(e);
          }
        return n;
      },
        C = function (e, t) {
          for (var i = []; e; e = e.nextSibling)
            1 === e.nodeType && e !== t && i.push(e);
          return i;
        },
        k = A.expr.match.needsContext;
      function L(e, t) {
        return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase();
      }
      var D = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
      function I(e, t, i) {
        return v(t)
          ? A.grep(e, function (e, n) {
            return !!t.call(e, n, e) !== i;
          })
          : t.nodeType
            ? A.grep(e, function (e) {
              return (e === t) !== i;
            })
            : "string" != typeof t
              ? A.grep(e, function (e) {
                return u.call(t, e) > -1 !== i;
              })
              : A.filter(t, e, i);
      }
      (A.filter = function (e, t, i) {
        var n = t[0];
        return (
          i && (e = ":not(" + e + ")"),
          1 === t.length && 1 === n.nodeType
            ? A.find.matchesSelector(n, e)
              ? [n]
              : []
            : A.find.matches(
              e,
              A.grep(t, function (e) {
                return 1 === e.nodeType;
              })
            )
        );
      }),
        A.fn.extend({
          find: function (e) {
            var t,
              i,
              n = this.length,
              o = this;
            if ("string" != typeof e)
              return this.pushStack(
                A(e).filter(function () {
                  for (t = 0; t < n; t++) if (A.contains(o[t], this)) return !0;
                })
              );
            for (i = this.pushStack([]), t = 0; t < n; t++) A.find(e, o[t], i);
            return n > 1 ? A.uniqueSort(i) : i;
          },
          filter: function (e) {
            return this.pushStack(I(this, e || [], !1));
          },
          not: function (e) {
            return this.pushStack(I(this, e || [], !0));
          },
          is: function (e) {
            return !!I(
              this,
              "string" == typeof e && k.test(e) ? A(e) : e || [],
              !1
            ).length;
          },
        });
      var P,
        O = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
      ((A.fn.init = function (e, t, i) {
        var n, o;
        if (!e) return this;
        if (((i = i || P), "string" == typeof e)) {
          if (
            !(n =
              "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3
                ? [null, e, null]
                : O.exec(e)) ||
            (!n[1] && t)
          )
            return !t || t.jquery
              ? (t || i).find(e)
              : this.constructor(t).find(e);
          if (n[1]) {
            if (
              ((t = t instanceof A ? t[0] : t),
                A.merge(
                  this,
                  A.parseHTML(
                    n[1],
                    t && t.nodeType ? t.ownerDocument || t : y,
                    !0
                  )
                ),
                D.test(n[1]) && A.isPlainObject(t))
            )
              for (n in t) v(this[n]) ? this[n](t[n]) : this.attr(n, t[n]);
            return this;
          }
          return (
            (o = y.getElementById(n[2])) && ((this[0] = o), (this.length = 1)),
            this
          );
        }
        return e.nodeType
          ? ((this[0] = e), (this.length = 1), this)
          : v(e)
            ? void 0 !== i.ready
              ? i.ready(e)
              : e(A)
            : A.makeArray(e, this);
      }).prototype = A.fn),
        (P = A(y));
      var M = /^(?:parents|prev(?:Until|All))/,
        N = { children: !0, contents: !0, next: !0, prev: !0 };
      function R(e, t) {
        for (; (e = e[t]) && 1 !== e.nodeType;);
        return e;
      }
      A.fn.extend({
        has: function (e) {
          var t = A(e, this),
            i = t.length;
          return this.filter(function () {
            for (var e = 0; e < i; e++) if (A.contains(this, t[e])) return !0;
          });
        },
        closest: function (e, t) {
          var i,
            n = 0,
            o = this.length,
            r = [],
            a = "string" != typeof e && A(e);
          if (!k.test(e))
            for (; n < o; n++)
              for (i = this[n]; i && i !== t; i = i.parentNode)
                if (
                  i.nodeType < 11 &&
                  (a
                    ? a.index(i) > -1
                    : 1 === i.nodeType && A.find.matchesSelector(i, e))
                ) {
                  r.push(i);
                  break;
                }
          return this.pushStack(r.length > 1 ? A.uniqueSort(r) : r);
        },
        index: function (e) {
          return e
            ? "string" == typeof e
              ? u.call(A(e), this[0])
              : u.call(this, e.jquery ? e[0] : e)
            : this[0] && this[0].parentNode
              ? this.first().prevAll().length
              : -1;
        },
        add: function (e, t) {
          return this.pushStack(A.uniqueSort(A.merge(this.get(), A(e, t))));
        },
        addBack: function (e) {
          return this.add(
            null == e ? this.prevObject : this.prevObject.filter(e)
          );
        },
      }),
        A.each(
          {
            parent: function (e) {
              var t = e.parentNode;
              return t && 11 !== t.nodeType ? t : null;
            },
            parents: function (e) {
              return T(e, "parentNode");
            },
            parentsUntil: function (e, t, i) {
              return T(e, "parentNode", i);
            },
            next: function (e) {
              return R(e, "nextSibling");
            },
            prev: function (e) {
              return R(e, "previousSibling");
            },
            nextAll: function (e) {
              return T(e, "nextSibling");
            },
            prevAll: function (e) {
              return T(e, "previousSibling");
            },
            nextUntil: function (e, t, i) {
              return T(e, "nextSibling", i);
            },
            prevUntil: function (e, t, i) {
              return T(e, "previousSibling", i);
            },
            siblings: function (e) {
              return C((e.parentNode || {}).firstChild, e);
            },
            children: function (e) {
              return C(e.firstChild);
            },
            contents: function (e) {
              return null != e.contentDocument && a(e.contentDocument)
                ? e.contentDocument
                : (L(e, "template") && (e = e.content || e),
                  A.merge([], e.childNodes));
            },
          },
          function (e, t) {
            A.fn[e] = function (i, n) {
              var o = A.map(this, t, i);
              return (
                "Until" !== e.slice(-5) && (n = i),
                n && "string" == typeof n && (o = A.filter(n, o)),
                this.length > 1 &&
                (N[e] || A.uniqueSort(o), M.test(e) && o.reverse()),
                this.pushStack(o)
              );
            };
          }
        );
      var B = /[^\x20\t\r\n\f]+/g;
      function z(e) {
        return e;
      }
      function $(e) {
        throw e;
      }
      function H(e, t, i, n) {
        var o;
        try {
          e && v((o = e.promise))
            ? o.call(e).done(t).fail(i)
            : e && v((o = e.then))
              ? o.call(e, t, i)
              : t.apply(void 0, [e].slice(n));
        } catch (e) {
          i.apply(void 0, [e]);
        }
      }
      (A.Callbacks = function (e) {
        e =
          "string" == typeof e
            ? (function (e) {
              var t = {};
              return (
                A.each(e.match(B) || [], function (e, i) {
                  t[i] = !0;
                }),
                t
              );
            })(e)
            : A.extend({}, e);
        var t,
          i,
          n,
          o,
          r = [],
          a = [],
          s = -1,
          l = function () {
            for (o = o || e.once, n = t = !0; a.length; s = -1)
              for (i = a.shift(); ++s < r.length;)
                !1 === r[s].apply(i[0], i[1]) &&
                  e.stopOnFalse &&
                  ((s = r.length), (i = !1));
            e.memory || (i = !1), (t = !1), o && (r = i ? [] : "");
          },
          c = {
            add: function () {
              return (
                r &&
                (i && !t && ((s = r.length - 1), a.push(i)),
                  (function t(i) {
                    A.each(i, function (i, n) {
                      v(n)
                        ? (e.unique && c.has(n)) || r.push(n)
                        : n && n.length && "string" !== _(n) && t(n);
                    });
                  })(arguments),
                  i && !t && l()),
                this
              );
            },
            remove: function () {
              return (
                A.each(arguments, function (e, t) {
                  for (var i; (i = A.inArray(t, r, i)) > -1;)
                    r.splice(i, 1), i <= s && s--;
                }),
                this
              );
            },
            has: function (e) {
              return e ? A.inArray(e, r) > -1 : r.length > 0;
            },
            empty: function () {
              return r && (r = []), this;
            },
            disable: function () {
              return (o = a = []), (r = i = ""), this;
            },
            disabled: function () {
              return !r;
            },
            lock: function () {
              return (o = a = []), i || t || (r = i = ""), this;
            },
            locked: function () {
              return !!o;
            },
            fireWith: function (e, i) {
              return (
                o ||
                ((i = [e, (i = i || []).slice ? i.slice() : i]),
                  a.push(i),
                  t || l()),
                this
              );
            },
            fire: function () {
              return c.fireWith(this, arguments), this;
            },
            fired: function () {
              return !!n;
            },
          };
        return c;
      }),
        A.extend({
          Deferred: function (e) {
            var t = [
              [
                "notify",
                "progress",
                A.Callbacks("memory"),
                A.Callbacks("memory"),
                2,
              ],
              [
                "resolve",
                "done",
                A.Callbacks("once memory"),
                A.Callbacks("once memory"),
                0,
                "resolved",
              ],
              [
                "reject",
                "fail",
                A.Callbacks("once memory"),
                A.Callbacks("once memory"),
                1,
                "rejected",
              ],
            ],
              n = "pending",
              o = {
                state: function () {
                  return n;
                },
                always: function () {
                  return r.done(arguments).fail(arguments), this;
                },
                catch: function (e) {
                  return o.then(null, e);
                },
                pipe: function () {
                  var e = arguments;
                  return A.Deferred(function (i) {
                    A.each(t, function (t, n) {
                      var o = v(e[n[4]]) && e[n[4]];
                      r[n[1]](function () {
                        var e = o && o.apply(this, arguments);
                        e && v(e.promise)
                          ? e
                            .promise()
                            .progress(i.notify)
                            .done(i.resolve)
                            .fail(i.reject)
                          : i[n[0] + "With"](this, o ? [e] : arguments);
                      });
                    }),
                      (e = null);
                  }).promise();
                },
                then: function (e, n, o) {
                  var r = 0;
                  function a(e, t, n, o) {
                    return function () {
                      var s = this,
                        l = arguments,
                        c = function () {
                          var i, c;
                          if (!(e < r)) {
                            if ((i = n.apply(s, l)) === t.promise())
                              throw new TypeError("Thenable self-resolution");
                            (c =
                              i &&
                              ("object" == typeof i ||
                                "function" == typeof i) &&
                              i.then),
                              v(c)
                                ? o
                                  ? c.call(i, a(r, t, z, o), a(r, t, $, o))
                                  : (r++,
                                    c.call(
                                      i,
                                      a(r, t, z, o),
                                      a(r, t, $, o),
                                      a(r, t, z, t.notifyWith)
                                    ))
                                : (n !== z && ((s = void 0), (l = [i])),
                                  (o || t.resolveWith)(s, l));
                          }
                        },
                        u = o
                          ? c
                          : function () {
                            try {
                              c();
                            } catch (i) {
                              A.Deferred.exceptionHook &&
                                A.Deferred.exceptionHook(i, u.stackTrace),
                                e + 1 >= r &&
                                (n !== $ && ((s = void 0), (l = [i])),
                                  t.rejectWith(s, l));
                            }
                          };
                      e
                        ? u()
                        : (A.Deferred.getStackHook &&
                          (u.stackTrace = A.Deferred.getStackHook()),
                          i.setTimeout(u));
                    };
                  }
                  return A.Deferred(function (i) {
                    t[0][3].add(a(0, i, v(o) ? o : z, i.notifyWith)),
                      t[1][3].add(a(0, i, v(e) ? e : z)),
                      t[2][3].add(a(0, i, v(n) ? n : $));
                  }).promise();
                },
                promise: function (e) {
                  return null != e ? A.extend(e, o) : o;
                },
              },
              r = {};
            return (
              A.each(t, function (e, i) {
                var a = i[2],
                  s = i[5];
                (o[i[1]] = a.add),
                  s &&
                  a.add(
                    function () {
                      n = s;
                    },
                    t[3 - e][2].disable,
                    t[3 - e][3].disable,
                    t[0][2].lock,
                    t[0][3].lock
                  ),
                  a.add(i[3].fire),
                  (r[i[0]] = function () {
                    return (
                      r[i[0] + "With"](this === r ? void 0 : this, arguments),
                      this
                    );
                  }),
                  (r[i[0] + "With"] = a.fireWith);
              }),
              o.promise(r),
              e && e.call(r, r),
              r
            );
          },
          when: function (e) {
            var t = arguments.length,
              i = t,
              n = Array(i),
              o = s.call(arguments),
              r = A.Deferred(),
              a = function (e) {
                return function (i) {
                  (n[e] = this),
                    (o[e] = arguments.length > 1 ? s.call(arguments) : i),
                    --t || r.resolveWith(n, o);
                };
              };
            if (
              t <= 1 &&
              (H(e, r.done(a(i)).resolve, r.reject, !t),
                "pending" === r.state() || v(o[i] && o[i].then))
            )
              return r.then();
            for (; i--;) H(o[i], a(i), r.reject);
            return r.promise();
          },
        });
      var V = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
      (A.Deferred.exceptionHook = function (e, t) {
        i.console &&
          i.console.warn &&
          e &&
          V.test(e.name) &&
          i.console.warn("jQuery.Deferred exception: " + e.message, e.stack, t);
      }),
        (A.readyException = function (e) {
          i.setTimeout(function () {
            throw e;
          });
        });
      var j = A.Deferred();
      function F() {
        y.removeEventListener("DOMContentLoaded", F),
          i.removeEventListener("load", F),
          A.ready();
      }
      (A.fn.ready = function (e) {
        return (
          j.then(e).catch(function (e) {
            A.readyException(e);
          }),
          this
        );
      }),
        A.extend({
          isReady: !1,
          readyWait: 1,
          ready: function (e) {
            (!0 === e ? --A.readyWait : A.isReady) ||
              ((A.isReady = !0),
                (!0 !== e && --A.readyWait > 0) || j.resolveWith(y, [A]));
          },
        }),
        (A.ready.then = j.then),
        "complete" === y.readyState ||
          ("loading" !== y.readyState && !y.documentElement.doScroll)
          ? i.setTimeout(A.ready)
          : (y.addEventListener("DOMContentLoaded", F),
            i.addEventListener("load", F));
      var U = function (e, t, i, n, o, r, a) {
        var s = 0,
          l = e.length,
          c = null == i;
        if ("object" === _(i))
          for (s in ((o = !0), i)) U(e, t, s, i[s], !0, r, a);
        else if (
          void 0 !== n &&
          ((o = !0),
            v(n) || (a = !0),
            c &&
            (a
              ? (t.call(e, n), (t = null))
              : ((c = t),
                (t = function (e, t, i) {
                  return c.call(A(e), i);
                }))),
            t)
        )
          for (; s < l; s++) t(e[s], i, a ? n : n.call(e[s], s, t(e[s], i)));
        return o ? e : c ? t.call(e) : l ? t(e[0], i) : r;
      },
        W = /^-ms-/,
        q = /-([a-z])/g;
      function Q(e, t) {
        return t.toUpperCase();
      }
      function G(e) {
        return e.replace(W, "ms-").replace(q, Q);
      }
      var Y = function (e) {
        return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType;
      };
      function Z() {
        this.expando = A.expando + Z.uid++;
      }
      (Z.uid = 1),
        (Z.prototype = {
          cache: function (e) {
            var t = e[this.expando];
            return (
              t ||
              ((t = {}),
                Y(e) &&
                (e.nodeType
                  ? (e[this.expando] = t)
                  : Object.defineProperty(e, this.expando, {
                    value: t,
                    configurable: !0,
                  }))),
              t
            );
          },
          set: function (e, t, i) {
            var n,
              o = this.cache(e);
            if ("string" == typeof t) o[G(t)] = i;
            else for (n in t) o[G(n)] = t[n];
            return o;
          },
          get: function (e, t) {
            return void 0 === t
              ? this.cache(e)
              : e[this.expando] && e[this.expando][G(t)];
          },
          access: function (e, t, i) {
            return void 0 === t || (t && "string" == typeof t && void 0 === i)
              ? this.get(e, t)
              : (this.set(e, t, i), void 0 !== i ? i : t);
          },
          remove: function (e, t) {
            var i,
              n = e[this.expando];
            if (void 0 !== n) {
              if (void 0 !== t) {
                i = (t = Array.isArray(t)
                  ? t.map(G)
                  : (t = G(t)) in n
                    ? [t]
                    : t.match(B) || []).length;
                for (; i--;) delete n[t[i]];
              }
              (void 0 === t || A.isEmptyObject(n)) &&
                (e.nodeType
                  ? (e[this.expando] = void 0)
                  : delete e[this.expando]);
            }
          },
          hasData: function (e) {
            var t = e[this.expando];
            return void 0 !== t && !A.isEmptyObject(t);
          },
        });
      var X = new Z(),
        K = new Z(),
        J = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        ee = /[A-Z]/g;
      function te(e, t, i) {
        var n;
        if (void 0 === i && 1 === e.nodeType)
          if (
            ((n = "data-" + t.replace(ee, "-$&").toLowerCase()),
              "string" == typeof (i = e.getAttribute(n)))
          ) {
            try {
              i = (function (e) {
                return (
                  "true" === e ||
                  ("false" !== e &&
                    ("null" === e
                      ? null
                      : e === +e + ""
                        ? +e
                        : J.test(e)
                          ? JSON.parse(e)
                          : e))
                );
              })(i);
            } catch (e) { }
            K.set(e, t, i);
          } else i = void 0;
        return i;
      }
      A.extend({
        hasData: function (e) {
          return K.hasData(e) || X.hasData(e);
        },
        data: function (e, t, i) {
          return K.access(e, t, i);
        },
        removeData: function (e, t) {
          K.remove(e, t);
        },
        _data: function (e, t, i) {
          return X.access(e, t, i);
        },
        _removeData: function (e, t) {
          X.remove(e, t);
        },
      }),
        A.fn.extend({
          data: function (e, t) {
            var i,
              n,
              o,
              r = this[0],
              a = r && r.attributes;
            if (void 0 === e) {
              if (
                this.length &&
                ((o = K.get(r)), 1 === r.nodeType && !X.get(r, "hasDataAttrs"))
              ) {
                for (i = a.length; i--;)
                  a[i] &&
                    0 === (n = a[i].name).indexOf("data-") &&
                    ((n = G(n.slice(5))), te(r, n, o[n]));
                X.set(r, "hasDataAttrs", !0);
              }
              return o;
            }
            return "object" == typeof e
              ? this.each(function () {
                K.set(this, e);
              })
              : U(
                this,
                function (t) {
                  var i;
                  if (r && void 0 === t)
                    return void 0 !== (i = K.get(r, e)) ||
                      void 0 !== (i = te(r, e))
                      ? i
                      : void 0;
                  this.each(function () {
                    K.set(this, e, t);
                  });
                },
                null,
                t,
                arguments.length > 1,
                null,
                !0
              );
          },
          removeData: function (e) {
            return this.each(function () {
              K.remove(this, e);
            });
          },
        }),
        A.extend({
          queue: function (e, t, i) {
            var n;
            if (e)
              return (
                (t = (t || "fx") + "queue"),
                (n = X.get(e, t)),
                i &&
                (!n || Array.isArray(i)
                  ? (n = X.access(e, t, A.makeArray(i)))
                  : n.push(i)),
                n || []
              );
          },
          dequeue: function (e, t) {
            t = t || "fx";
            var i = A.queue(e, t),
              n = i.length,
              o = i.shift(),
              r = A._queueHooks(e, t);
            "inprogress" === o && ((o = i.shift()), n--),
              o &&
              ("fx" === t && i.unshift("inprogress"),
                delete r.stop,
                o.call(
                  e,
                  function () {
                    A.dequeue(e, t);
                  },
                  r
                )),
              !n && r && r.empty.fire();
          },
          _queueHooks: function (e, t) {
            var i = t + "queueHooks";
            return (
              X.get(e, i) ||
              X.access(e, i, {
                empty: A.Callbacks("once memory").add(function () {
                  X.remove(e, [t + "queue", i]);
                }),
              })
            );
          },
        }),
        A.fn.extend({
          queue: function (e, t) {
            var i = 2;
            return (
              "string" != typeof e && ((t = e), (e = "fx"), i--),
              arguments.length < i
                ? A.queue(this[0], e)
                : void 0 === t
                  ? this
                  : this.each(function () {
                    var i = A.queue(this, e, t);
                    A._queueHooks(this, e),
                      "fx" === e && "inprogress" !== i[0] && A.dequeue(this, e);
                  })
            );
          },
          dequeue: function (e) {
            return this.each(function () {
              A.dequeue(this, e);
            });
          },
          clearQueue: function (e) {
            return this.queue(e || "fx", []);
          },
          promise: function (e, t) {
            var i,
              n = 1,
              o = A.Deferred(),
              r = this,
              a = this.length,
              s = function () {
                --n || o.resolveWith(r, [r]);
              };
            for (
              "string" != typeof e && ((t = e), (e = void 0)), e = e || "fx";
              a--;

            )
              (i = X.get(r[a], e + "queueHooks")) &&
                i.empty &&
                (n++, i.empty.add(s));
            return s(), o.promise(t);
          },
        });
      var ie = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        ne = new RegExp("^(?:([+-])=|)(" + ie + ")([a-z%]*)$", "i"),
        oe = ["Top", "Right", "Bottom", "Left"],
        re = y.documentElement,
        ae = function (e) {
          return A.contains(e.ownerDocument, e);
        },
        se = { composed: !0 };
      re.getRootNode &&
        (ae = function (e) {
          return (
            A.contains(e.ownerDocument, e) ||
            e.getRootNode(se) === e.ownerDocument
          );
        });
      var le = function (e, t) {
        return (
          "none" === (e = t || e).style.display ||
          ("" === e.style.display && ae(e) && "none" === A.css(e, "display"))
        );
      };
      function ce(e, t, i, n) {
        var o,
          r,
          a = 20,
          s = n
            ? function () {
              return n.cur();
            }
            : function () {
              return A.css(e, t, "");
            },
          l = s(),
          c = (i && i[3]) || (A.cssNumber[t] ? "" : "px"),
          u =
            e.nodeType &&
            (A.cssNumber[t] || ("px" !== c && +l)) &&
            ne.exec(A.css(e, t));
        if (u && u[3] !== c) {
          for (l /= 2, c = c || u[3], u = +l || 1; a--;)
            A.style(e, t, u + c),
              (1 - r) * (1 - (r = s() / l || 0.5)) <= 0 && (a = 0),
              (u /= r);
          (u *= 2), A.style(e, t, u + c), (i = i || []);
        }
        return (
          i &&
          ((u = +u || +l || 0),
            (o = i[1] ? u + (i[1] + 1) * i[2] : +i[2]),
            n && ((n.unit = c), (n.start = u), (n.end = o))),
          o
        );
      }
      var ue = {};
      function de(e) {
        var t,
          i = e.ownerDocument,
          n = e.nodeName,
          o = ue[n];
        return (
          o ||
          ((t = i.body.appendChild(i.createElement(n))),
            (o = A.css(t, "display")),
            t.parentNode.removeChild(t),
            "none" === o && (o = "block"),
            (ue[n] = o),
            o)
        );
      }
      function pe(e, t) {
        for (var i, n, o = [], r = 0, a = e.length; r < a; r++)
          (n = e[r]).style &&
            ((i = n.style.display),
              t
                ? ("none" === i &&
                  ((o[r] = X.get(n, "display") || null),
                    o[r] || (n.style.display = "")),
                  "" === n.style.display && le(n) && (o[r] = de(n)))
                : "none" !== i && ((o[r] = "none"), X.set(n, "display", i)));
        for (r = 0; r < a; r++) null != o[r] && (e[r].style.display = o[r]);
        return e;
      }
      A.fn.extend({
        show: function () {
          return pe(this, !0);
        },
        hide: function () {
          return pe(this);
        },
        toggle: function (e) {
          return "boolean" == typeof e
            ? e
              ? this.show()
              : this.hide()
            : this.each(function () {
              le(this) ? A(this).show() : A(this).hide();
            });
        },
      });
      var he,
        fe,
        ge = /^(?:checkbox|radio)$/i,
        me = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
        ve = /^$|^module$|\/(?:java|ecma)script/i;
      (he = y.createDocumentFragment().appendChild(y.createElement("div"))),
        (fe = y.createElement("input")).setAttribute("type", "radio"),
        fe.setAttribute("checked", "checked"),
        fe.setAttribute("name", "t"),
        he.appendChild(fe),
        (m.checkClone = he.cloneNode(!0).cloneNode(!0).lastChild.checked),
        (he.innerHTML = "<textarea>x</textarea>"),
        (m.noCloneChecked = !!he.cloneNode(!0).lastChild.defaultValue),
        (he.innerHTML = "<option></option>"),
        (m.option = !!he.lastChild);
      var be = {
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""],
      };
      function ye(e, t) {
        var i;
        return (
          (i =
            void 0 !== e.getElementsByTagName
              ? e.getElementsByTagName(t || "*")
              : void 0 !== e.querySelectorAll
                ? e.querySelectorAll(t || "*")
                : []),
          void 0 === t || (t && L(e, t)) ? A.merge([e], i) : i
        );
      }
      function xe(e, t) {
        for (var i = 0, n = e.length; i < n; i++)
          X.set(e[i], "globalEval", !t || X.get(t[i], "globalEval"));
      }
      (be.tbody = be.tfoot = be.colgroup = be.caption = be.thead),
        (be.th = be.td),
        m.option ||
        (be.optgroup = be.option =
          [1, "<select multiple='multiple'>", "</select>"]);
      var we = /<|&#?\w+;/;
      function _e(e, t, i, n, o) {
        for (
          var r,
          a,
          s,
          l,
          c,
          u,
          d = t.createDocumentFragment(),
          p = [],
          h = 0,
          f = e.length;
          h < f;
          h++
        )
          if ((r = e[h]) || 0 === r)
            if ("object" === _(r)) A.merge(p, r.nodeType ? [r] : r);
            else if (we.test(r)) {
              for (
                a = a || d.appendChild(t.createElement("div")),
                s = (me.exec(r) || ["", ""])[1].toLowerCase(),
                l = be[s] || be._default,
                a.innerHTML = l[1] + A.htmlPrefilter(r) + l[2],
                u = l[0];
                u--;

              )
                a = a.lastChild;
              A.merge(p, a.childNodes), ((a = d.firstChild).textContent = "");
            } else p.push(t.createTextNode(r));
        for (d.textContent = "", h = 0; (r = p[h++]);)
          if (n && A.inArray(r, n) > -1) o && o.push(r);
          else if (
            ((c = ae(r)), (a = ye(d.appendChild(r), "script")), c && xe(a), i)
          )
            for (u = 0; (r = a[u++]);) ve.test(r.type || "") && i.push(r);
        return d;
      }
      var Ae = /^key/,
        Ee = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        Se = /^([^.]*)(?:\.(.+)|)/;
      function Te() {
        return !0;
      }
      function Ce() {
        return !1;
      }
      function ke(e, t) {
        return (
          (e ===
            (function () {
              try {
                return y.activeElement;
              } catch (e) { }
            })()) ==
          ("focus" === t)
        );
      }
      function Le(e, t, i, n, o, r) {
        var a, s;
        if ("object" == typeof t) {
          for (s in ("string" != typeof i && ((n = n || i), (i = void 0)), t))
            Le(e, s, i, n, t[s], r);
          return e;
        }
        if (
          (null == n && null == o
            ? ((o = i), (n = i = void 0))
            : null == o &&
            ("string" == typeof i
              ? ((o = n), (n = void 0))
              : ((o = n), (n = i), (i = void 0))),
            !1 === o)
        )
          o = Ce;
        else if (!o) return e;
        return (
          1 === r &&
          ((a = o),
            ((o = function (e) {
              return A().off(e), a.apply(this, arguments);
            }).guid = a.guid || (a.guid = A.guid++))),
          e.each(function () {
            A.event.add(this, t, o, n, i);
          })
        );
      }
      function De(e, t, i) {
        i
          ? (X.set(e, t, !1),
            A.event.add(e, t, {
              namespace: !1,
              handler: function (e) {
                var n,
                  o,
                  r = X.get(this, t);
                if (1 & e.isTrigger && this[t]) {
                  if (r.length)
                    (A.event.special[t] || {}).delegateType &&
                      e.stopPropagation();
                  else if (
                    ((r = s.call(arguments)),
                      X.set(this, t, r),
                      (n = i(this, t)),
                      this[t](),
                      r !== (o = X.get(this, t)) || n
                        ? X.set(this, t, !1)
                        : (o = {}),
                      r !== o)
                  )
                    return (
                      e.stopImmediatePropagation(), e.preventDefault(), o.value
                    );
                } else
                  r.length &&
                    (X.set(this, t, {
                      value: A.event.trigger(
                        A.extend(r[0], A.Event.prototype),
                        r.slice(1),
                        this
                      ),
                    }),
                      e.stopImmediatePropagation());
              },
            }))
          : void 0 === X.get(e, t) && A.event.add(e, t, Te);
      }
      (A.event = {
        global: {},
        add: function (e, t, i, n, o) {
          var r,
            a,
            s,
            l,
            c,
            u,
            d,
            p,
            h,
            f,
            g,
            m = X.get(e);
          if (Y(e))
            for (
              i.handler && ((i = (r = i).handler), (o = r.selector)),
              o && A.find.matchesSelector(re, o),
              i.guid || (i.guid = A.guid++),
              (l = m.events) || (l = m.events = Object.create(null)),
              (a = m.handle) ||
              (a = m.handle =
                function (t) {
                  return void 0 !== A && A.event.triggered !== t.type
                    ? A.event.dispatch.apply(e, arguments)
                    : void 0;
                }),
              c = (t = (t || "").match(B) || [""]).length;
              c--;

            )
              (h = g = (s = Se.exec(t[c]) || [])[1]),
                (f = (s[2] || "").split(".").sort()),
                h &&
                ((d = A.event.special[h] || {}),
                  (h = (o ? d.delegateType : d.bindType) || h),
                  (d = A.event.special[h] || {}),
                  (u = A.extend(
                    {
                      type: h,
                      origType: g,
                      data: n,
                      handler: i,
                      guid: i.guid,
                      selector: o,
                      needsContext: o && A.expr.match.needsContext.test(o),
                      namespace: f.join("."),
                    },
                    r
                  )),
                  (p = l[h]) ||
                  (((p = l[h] = []).delegateCount = 0),
                    (d.setup && !1 !== d.setup.call(e, n, f, a)) ||
                    (e.addEventListener && e.addEventListener(h, a))),
                  d.add &&
                  (d.add.call(e, u),
                    u.handler.guid || (u.handler.guid = i.guid)),
                  o ? p.splice(p.delegateCount++, 0, u) : p.push(u),
                  (A.event.global[h] = !0));
        },
        remove: function (e, t, i, n, o) {
          var r,
            a,
            s,
            l,
            c,
            u,
            d,
            p,
            h,
            f,
            g,
            m = X.hasData(e) && X.get(e);
          if (m && (l = m.events)) {
            for (c = (t = (t || "").match(B) || [""]).length; c--;)
              if (
                ((h = g = (s = Se.exec(t[c]) || [])[1]),
                  (f = (s[2] || "").split(".").sort()),
                  h)
              ) {
                for (
                  d = A.event.special[h] || {},
                  p = l[(h = (n ? d.delegateType : d.bindType) || h)] || [],
                  s =
                  s[2] &&
                  new RegExp(
                    "(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"
                  ),
                  a = r = p.length;
                  r--;

                )
                  (u = p[r]),
                    (!o && g !== u.origType) ||
                    (i && i.guid !== u.guid) ||
                    (s && !s.test(u.namespace)) ||
                    (n && n !== u.selector && ("**" !== n || !u.selector)) ||
                    (p.splice(r, 1),
                      u.selector && p.delegateCount--,
                      d.remove && d.remove.call(e, u));
                a &&
                  !p.length &&
                  ((d.teardown && !1 !== d.teardown.call(e, f, m.handle)) ||
                    A.removeEvent(e, h, m.handle),
                    delete l[h]);
              } else for (h in l) A.event.remove(e, h + t[c], i, n, !0);
            A.isEmptyObject(l) && X.remove(e, "handle events");
          }
        },
        dispatch: function (e) {
          var t,
            i,
            n,
            o,
            r,
            a,
            s = new Array(arguments.length),
            l = A.event.fix(e),
            c = (X.get(this, "events") || Object.create(null))[l.type] || [],
            u = A.event.special[l.type] || {};
          for (s[0] = l, t = 1; t < arguments.length; t++) s[t] = arguments[t];
          if (
            ((l.delegateTarget = this),
              !u.preDispatch || !1 !== u.preDispatch.call(this, l))
          ) {
            for (
              a = A.event.handlers.call(this, l, c), t = 0;
              (o = a[t++]) && !l.isPropagationStopped();

            )
              for (
                l.currentTarget = o.elem, i = 0;
                (r = o.handlers[i++]) && !l.isImmediatePropagationStopped();

              )
                (l.rnamespace &&
                  !1 !== r.namespace &&
                  !l.rnamespace.test(r.namespace)) ||
                  ((l.handleObj = r),
                    (l.data = r.data),
                    void 0 !==
                    (n = (
                      (A.event.special[r.origType] || {}).handle || r.handler
                    ).apply(o.elem, s)) &&
                    !1 === (l.result = n) &&
                    (l.preventDefault(), l.stopPropagation()));
            return u.postDispatch && u.postDispatch.call(this, l), l.result;
          }
        },
        handlers: function (e, t) {
          var i,
            n,
            o,
            r,
            a,
            s = [],
            l = t.delegateCount,
            c = e.target;
          if (l && c.nodeType && !("click" === e.type && e.button >= 1))
            for (; c !== this; c = c.parentNode || this)
              if (
                1 === c.nodeType &&
                ("click" !== e.type || !0 !== c.disabled)
              ) {
                for (r = [], a = {}, i = 0; i < l; i++)
                  void 0 === a[(o = (n = t[i]).selector + " ")] &&
                    (a[o] = n.needsContext
                      ? A(o, this).index(c) > -1
                      : A.find(o, this, null, [c]).length),
                    a[o] && r.push(n);
                r.length && s.push({ elem: c, handlers: r });
              }
          return (
            (c = this),
            l < t.length && s.push({ elem: c, handlers: t.slice(l) }),
            s
          );
        },
        addProp: function (e, t) {
          Object.defineProperty(A.Event.prototype, e, {
            enumerable: !0,
            configurable: !0,
            get: v(t)
              ? function () {
                if (this.originalEvent) return t(this.originalEvent);
              }
              : function () {
                if (this.originalEvent) return this.originalEvent[e];
              },
            set: function (t) {
              Object.defineProperty(this, e, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: t,
              });
            },
          });
        },
        fix: function (e) {
          return e[A.expando] ? e : new A.Event(e);
        },
        special: {
          load: { noBubble: !0 },
          click: {
            setup: function (e) {
              var t = this || e;
              return (
                ge.test(t.type) &&
                t.click &&
                L(t, "input") &&
                De(t, "click", Te),
                !1
              );
            },
            trigger: function (e) {
              var t = this || e;
              return (
                ge.test(t.type) && t.click && L(t, "input") && De(t, "click"),
                !0
              );
            },
            _default: function (e) {
              var t = e.target;
              return (
                (ge.test(t.type) &&
                  t.click &&
                  L(t, "input") &&
                  X.get(t, "click")) ||
                L(t, "a")
              );
            },
          },
          beforeunload: {
            postDispatch: function (e) {
              void 0 !== e.result &&
                e.originalEvent &&
                (e.originalEvent.returnValue = e.result);
            },
          },
        },
      }),
        (A.removeEvent = function (e, t, i) {
          e.removeEventListener && e.removeEventListener(t, i);
        }),
        (A.Event = function (e, t) {
          if (!(this instanceof A.Event)) return new A.Event(e, t);
          e && e.type
            ? ((this.originalEvent = e),
              (this.type = e.type),
              (this.isDefaultPrevented =
                e.defaultPrevented ||
                  (void 0 === e.defaultPrevented && !1 === e.returnValue)
                  ? Te
                  : Ce),
              (this.target =
                e.target && 3 === e.target.nodeType
                  ? e.target.parentNode
                  : e.target),
              (this.currentTarget = e.currentTarget),
              (this.relatedTarget = e.relatedTarget))
            : (this.type = e),
            t && A.extend(this, t),
            (this.timeStamp = (e && e.timeStamp) || Date.now()),
            (this[A.expando] = !0);
        }),
        (A.Event.prototype = {
          constructor: A.Event,
          isDefaultPrevented: Ce,
          isPropagationStopped: Ce,
          isImmediatePropagationStopped: Ce,
          isSimulated: !1,
          preventDefault: function () {
            var e = this.originalEvent;
            (this.isDefaultPrevented = Te),
              e && !this.isSimulated && e.preventDefault();
          },
          stopPropagation: function () {
            var e = this.originalEvent;
            (this.isPropagationStopped = Te),
              e && !this.isSimulated && e.stopPropagation();
          },
          stopImmediatePropagation: function () {
            var e = this.originalEvent;
            (this.isImmediatePropagationStopped = Te),
              e && !this.isSimulated && e.stopImmediatePropagation(),
              this.stopPropagation();
          },
        }),
        A.each(
          {
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: function (e) {
              var t = e.button;
              return null == e.which && Ae.test(e.type)
                ? null != e.charCode
                  ? e.charCode
                  : e.keyCode
                : !e.which && void 0 !== t && Ee.test(e.type)
                  ? 1 & t
                    ? 1
                    : 2 & t
                      ? 3
                      : 4 & t
                        ? 2
                        : 0
                  : e.which;
            },
          },
          A.event.addProp
        ),
        A.each({ focus: "focusin", blur: "focusout" }, function (e, t) {
          A.event.special[e] = {
            setup: function () {
              return De(this, e, ke), !1;
            },
            trigger: function () {
              return De(this, e), !0;
            },
            delegateType: t,
          };
        }),
        A.each(
          {
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout",
          },
          function (e, t) {
            A.event.special[e] = {
              delegateType: t,
              bindType: t,
              handle: function (e) {
                var i,
                  n = this,
                  o = e.relatedTarget,
                  r = e.handleObj;
                return (
                  (o && (o === n || A.contains(n, o))) ||
                  ((e.type = r.origType),
                    (i = r.handler.apply(this, arguments)),
                    (e.type = t)),
                  i
                );
              },
            };
          }
        ),
        A.fn.extend({
          on: function (e, t, i, n) {
            return Le(this, e, t, i, n);
          },
          one: function (e, t, i, n) {
            return Le(this, e, t, i, n, 1);
          },
          off: function (e, t, i) {
            var n, o;
            if (e && e.preventDefault && e.handleObj)
              return (
                (n = e.handleObj),
                A(e.delegateTarget).off(
                  n.namespace ? n.origType + "." + n.namespace : n.origType,
                  n.selector,
                  n.handler
                ),
                this
              );
            if ("object" == typeof e) {
              for (o in e) this.off(o, t, e[o]);
              return this;
            }
            return (
              (!1 !== t && "function" != typeof t) || ((i = t), (t = void 0)),
              !1 === i && (i = Ce),
              this.each(function () {
                A.event.remove(this, e, i, t);
              })
            );
          },
        });
      var Ie = /<script|<style|<link/i,
        Pe = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Oe = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
      function Me(e, t) {
        return (
          (L(e, "table") &&
            L(11 !== t.nodeType ? t : t.firstChild, "tr") &&
            A(e).children("tbody")[0]) ||
          e
        );
      }
      function Ne(e) {
        return (e.type = (null !== e.getAttribute("type")) + "/" + e.type), e;
      }
      function Re(e) {
        return (
          "true/" === (e.type || "").slice(0, 5)
            ? (e.type = e.type.slice(5))
            : e.removeAttribute("type"),
          e
        );
      }
      function Be(e, t) {
        var i, n, o, r, a, s;
        if (1 === t.nodeType) {
          if (X.hasData(e) && (s = X.get(e).events))
            for (o in (X.remove(t, "handle events"), s))
              for (i = 0, n = s[o].length; i < n; i++)
                A.event.add(t, o, s[o][i]);
          K.hasData(e) &&
            ((r = K.access(e)), (a = A.extend({}, r)), K.set(t, a));
        }
      }
      function ze(e, t) {
        var i = t.nodeName.toLowerCase();
        "input" === i && ge.test(e.type)
          ? (t.checked = e.checked)
          : ("input" !== i && "textarea" !== i) ||
          (t.defaultValue = e.defaultValue);
      }
      function $e(e, t, i, n) {
        t = l(t);
        var o,
          r,
          a,
          s,
          c,
          u,
          d = 0,
          p = e.length,
          h = p - 1,
          f = t[0],
          g = v(f);
        if (g || (p > 1 && "string" == typeof f && !m.checkClone && Pe.test(f)))
          return e.each(function (o) {
            var r = e.eq(o);
            g && (t[0] = f.call(this, o, r.html())), $e(r, t, i, n);
          });
        if (
          p &&
          ((r = (o = _e(t, e[0].ownerDocument, !1, e, n)).firstChild),
            1 === o.childNodes.length && (o = r),
            r || n)
        ) {
          for (s = (a = A.map(ye(o, "script"), Ne)).length; d < p; d++)
            (c = o),
              d !== h &&
              ((c = A.clone(c, !0, !0)), s && A.merge(a, ye(c, "script"))),
              i.call(e[d], c, d);
          if (s)
            for (
              u = a[a.length - 1].ownerDocument, A.map(a, Re), d = 0;
              d < s;
              d++
            )
              (c = a[d]),
                ve.test(c.type || "") &&
                !X.access(c, "globalEval") &&
                A.contains(u, c) &&
                (c.src && "module" !== (c.type || "").toLowerCase()
                  ? A._evalUrl &&
                  !c.noModule &&
                  A._evalUrl(
                    c.src,
                    { nonce: c.nonce || c.getAttribute("nonce") },
                    u
                  )
                  : w(c.textContent.replace(Oe, ""), c, u));
        }
        return e;
      }
      function He(e, t, i) {
        for (var n, o = t ? A.filter(t, e) : e, r = 0; null != (n = o[r]); r++)
          i || 1 !== n.nodeType || A.cleanData(ye(n)),
            n.parentNode &&
            (i && ae(n) && xe(ye(n, "script")), n.parentNode.removeChild(n));
        return e;
      }
      A.extend({
        htmlPrefilter: function (e) {
          return e;
        },
        clone: function (e, t, i) {
          var n,
            o,
            r,
            a,
            s = e.cloneNode(!0),
            l = ae(e);
          if (
            !(
              m.noCloneChecked ||
              (1 !== e.nodeType && 11 !== e.nodeType) ||
              A.isXMLDoc(e)
            )
          )
            for (a = ye(s), n = 0, o = (r = ye(e)).length; n < o; n++)
              ze(r[n], a[n]);
          if (t)
            if (i)
              for (
                r = r || ye(e), a = a || ye(s), n = 0, o = r.length;
                n < o;
                n++
              )
                Be(r[n], a[n]);
            else Be(e, s);
          return (
            (a = ye(s, "script")).length > 0 && xe(a, !l && ye(e, "script")), s
          );
        },
        cleanData: function (e) {
          for (
            var t, i, n, o = A.event.special, r = 0;
            void 0 !== (i = e[r]);
            r++
          )
            if (Y(i)) {
              if ((t = i[X.expando])) {
                if (t.events)
                  for (n in t.events)
                    o[n] ? A.event.remove(i, n) : A.removeEvent(i, n, t.handle);
                i[X.expando] = void 0;
              }
              i[K.expando] && (i[K.expando] = void 0);
            }
        },
      }),
        A.fn.extend({
          detach: function (e) {
            return He(this, e, !0);
          },
          remove: function (e) {
            return He(this, e);
          },
          text: function (e) {
            return U(
              this,
              function (e) {
                return void 0 === e
                  ? A.text(this)
                  : this.empty().each(function () {
                    (1 !== this.nodeType &&
                      11 !== this.nodeType &&
                      9 !== this.nodeType) ||
                      (this.textContent = e);
                  });
              },
              null,
              e,
              arguments.length
            );
          },
          append: function () {
            return $e(this, arguments, function (e) {
              (1 !== this.nodeType &&
                11 !== this.nodeType &&
                9 !== this.nodeType) ||
                Me(this, e).appendChild(e);
            });
          },
          prepend: function () {
            return $e(this, arguments, function (e) {
              if (
                1 === this.nodeType ||
                11 === this.nodeType ||
                9 === this.nodeType
              ) {
                var t = Me(this, e);
                t.insertBefore(e, t.firstChild);
              }
            });
          },
          before: function () {
            return $e(this, arguments, function (e) {
              this.parentNode && this.parentNode.insertBefore(e, this);
            });
          },
          after: function () {
            return $e(this, arguments, function (e) {
              this.parentNode &&
                this.parentNode.insertBefore(e, this.nextSibling);
            });
          },
          empty: function () {
            for (var e, t = 0; null != (e = this[t]); t++)
              1 === e.nodeType &&
                (A.cleanData(ye(e, !1)), (e.textContent = ""));
            return this;
          },
          clone: function (e, t) {
            return (
              (e = null != e && e),
              (t = null == t ? e : t),
              this.map(function () {
                return A.clone(this, e, t);
              })
            );
          },
          html: function (e) {
            return U(
              this,
              function (e) {
                var t = this[0] || {},
                  i = 0,
                  n = this.length;
                if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
                if (
                  "string" == typeof e &&
                  !Ie.test(e) &&
                  !be[(me.exec(e) || ["", ""])[1].toLowerCase()]
                ) {
                  e = A.htmlPrefilter(e);
                  try {
                    for (; i < n; i++)
                      1 === (t = this[i] || {}).nodeType &&
                        (A.cleanData(ye(t, !1)), (t.innerHTML = e));
                    t = 0;
                  } catch (e) { }
                }
                t && this.empty().append(e);
              },
              null,
              e,
              arguments.length
            );
          },
          replaceWith: function () {
            var e = [];
            return $e(
              this,
              arguments,
              function (t) {
                var i = this.parentNode;
                A.inArray(this, e) < 0 &&
                  (A.cleanData(ye(this)), i && i.replaceChild(t, this));
              },
              e
            );
          },
        }),
        A.each(
          {
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith",
          },
          function (e, t) {
            A.fn[e] = function (e) {
              for (
                var i, n = [], o = A(e), r = o.length - 1, a = 0;
                a <= r;
                a++
              )
                (i = a === r ? this : this.clone(!0)),
                  A(o[a])[t](i),
                  c.apply(n, i.get());
              return this.pushStack(n);
            };
          }
        );
      var Ve = new RegExp("^(" + ie + ")(?!px)[a-z%]+$", "i"),
        je = function (e) {
          var t = e.ownerDocument.defaultView;
          return (t && t.opener) || (t = i), t.getComputedStyle(e);
        },
        Fe = function (e, t, i) {
          var n,
            o,
            r = {};
          for (o in t) (r[o] = e.style[o]), (e.style[o] = t[o]);
          for (o in ((n = i.call(e)), t)) e.style[o] = r[o];
          return n;
        },
        Ue = new RegExp(oe.join("|"), "i");
      function We(e, t, i) {
        var n,
          o,
          r,
          a,
          s = e.style;
        return (
          (i = i || je(e)) &&
          ("" !== (a = i.getPropertyValue(t) || i[t]) ||
            ae(e) ||
            (a = A.style(e, t)),
            !m.pixelBoxStyles() &&
            Ve.test(a) &&
            Ue.test(t) &&
            ((n = s.width),
              (o = s.minWidth),
              (r = s.maxWidth),
              (s.minWidth = s.maxWidth = s.width = a),
              (a = i.width),
              (s.width = n),
              (s.minWidth = o),
              (s.maxWidth = r))),
          void 0 !== a ? a + "" : a
        );
      }
      function qe(e, t) {
        return {
          get: function () {
            if (!e()) return (this.get = t).apply(this, arguments);
            delete this.get;
          },
        };
      }
      !(function () {
        function e() {
          if (u) {
            (c.style.cssText =
              "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0"),
              (u.style.cssText =
                "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%"),
              re.appendChild(c).appendChild(u);
            var e = i.getComputedStyle(u);
            (n = "1%" !== e.top),
              (l = 12 === t(e.marginLeft)),
              (u.style.right = "60%"),
              (a = 36 === t(e.right)),
              (o = 36 === t(e.width)),
              (u.style.position = "absolute"),
              (r = 12 === t(u.offsetWidth / 3)),
              re.removeChild(c),
              (u = null);
          }
        }
        function t(e) {
          return Math.round(parseFloat(e));
        }
        var n,
          o,
          r,
          a,
          s,
          l,
          c = y.createElement("div"),
          u = y.createElement("div");
        u.style &&
          ((u.style.backgroundClip = "content-box"),
            (u.cloneNode(!0).style.backgroundClip = ""),
            (m.clearCloneStyle = "content-box" === u.style.backgroundClip),
            A.extend(m, {
              boxSizingReliable: function () {
                return e(), o;
              },
              pixelBoxStyles: function () {
                return e(), a;
              },
              pixelPosition: function () {
                return e(), n;
              },
              reliableMarginLeft: function () {
                return e(), l;
              },
              scrollboxSize: function () {
                return e(), r;
              },
              reliableTrDimensions: function () {
                var e, t, n, o;
                return (
                  null == s &&
                  ((e = y.createElement("table")),
                    (t = y.createElement("tr")),
                    (n = y.createElement("div")),
                    (e.style.cssText = "position:absolute;left:-11111px"),
                    (t.style.height = "1px"),
                    (n.style.height = "9px"),
                    re.appendChild(e).appendChild(t).appendChild(n),
                    (o = i.getComputedStyle(t)),
                    (s = parseInt(o.height) > 3),
                    re.removeChild(e)),
                  s
                );
              },
            }));
      })();
      var Qe = ["Webkit", "Moz", "ms"],
        Ge = y.createElement("div").style,
        Ye = {};
      function Ze(e) {
        var t = A.cssProps[e] || Ye[e];
        return (
          t ||
          (e in Ge
            ? e
            : (Ye[e] =
              (function (e) {
                for (
                  var t = e[0].toUpperCase() + e.slice(1), i = Qe.length;
                  i--;

                )
                  if ((e = Qe[i] + t) in Ge) return e;
              })(e) || e))
        );
      }
      var Xe = /^(none|table(?!-c[ea]).+)/,
        Ke = /^--/,
        Je = { position: "absolute", visibility: "hidden", display: "block" },
        et = { letterSpacing: "0", fontWeight: "400" };
      function tt(e, t, i) {
        var n = ne.exec(t);
        return n ? Math.max(0, n[2] - (i || 0)) + (n[3] || "px") : t;
      }
      function it(e, t, i, n, o, r) {
        var a = "width" === t ? 1 : 0,
          s = 0,
          l = 0;
        if (i === (n ? "border" : "content")) return 0;
        for (; a < 4; a += 2)
          "margin" === i && (l += A.css(e, i + oe[a], !0, o)),
            n
              ? ("content" === i && (l -= A.css(e, "padding" + oe[a], !0, o)),
                "margin" !== i &&
                (l -= A.css(e, "border" + oe[a] + "Width", !0, o)))
              : ((l += A.css(e, "padding" + oe[a], !0, o)),
                "padding" !== i
                  ? (l += A.css(e, "border" + oe[a] + "Width", !0, o))
                  : (s += A.css(e, "border" + oe[a] + "Width", !0, o)));
        return (
          !n &&
          r >= 0 &&
          (l +=
            Math.max(
              0,
              Math.ceil(
                e["offset" + t[0].toUpperCase() + t.slice(1)] -
                r -
                l -
                s -
                0.5
              )
            ) || 0),
          l
        );
      }
      function nt(e, t, i) {
        var n = je(e),
          o =
            (!m.boxSizingReliable() || i) &&
            "border-box" === A.css(e, "boxSizing", !1, n),
          r = o,
          a = We(e, t, n),
          s = "offset" + t[0].toUpperCase() + t.slice(1);
        if (Ve.test(a)) {
          if (!i) return a;
          a = "auto";
        }
        return (
          ((!m.boxSizingReliable() && o) ||
            (!m.reliableTrDimensions() && L(e, "tr")) ||
            "auto" === a ||
            (!parseFloat(a) && "inline" === A.css(e, "display", !1, n))) &&
          e.getClientRects().length &&
          ((o = "border-box" === A.css(e, "boxSizing", !1, n)),
            (r = s in e) && (a = e[s])),
          (a = parseFloat(a) || 0) +
          it(e, t, i || (o ? "border" : "content"), r, n, a) +
          "px"
        );
      }
      function ot(e, t, i, n, o) {
        return new ot.prototype.init(e, t, i, n, o);
      }
      A.extend({
        cssHooks: {
          opacity: {
            get: function (e, t) {
              if (t) {
                var i = We(e, "opacity");
                return "" === i ? "1" : i;
              }
            },
          },
        },
        cssNumber: {
          animationIterationCount: !0,
          columnCount: !0,
          fillOpacity: !0,
          flexGrow: !0,
          flexShrink: !0,
          fontWeight: !0,
          gridArea: !0,
          gridColumn: !0,
          gridColumnEnd: !0,
          gridColumnStart: !0,
          gridRow: !0,
          gridRowEnd: !0,
          gridRowStart: !0,
          lineHeight: !0,
          opacity: !0,
          order: !0,
          orphans: !0,
          widows: !0,
          zIndex: !0,
          zoom: !0,
        },
        cssProps: {},
        style: function (e, t, i, n) {
          if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
            var o,
              r,
              a,
              s = G(t),
              l = Ke.test(t),
              c = e.style;
            if (
              (l || (t = Ze(s)),
                (a = A.cssHooks[t] || A.cssHooks[s]),
                void 0 === i)
            )
              return a && "get" in a && void 0 !== (o = a.get(e, !1, n))
                ? o
                : c[t];
            "string" === (r = typeof i) &&
              (o = ne.exec(i)) &&
              o[1] &&
              ((i = ce(e, t, o)), (r = "number")),
              null != i &&
              i == i &&
              ("number" !== r ||
                l ||
                (i += (o && o[3]) || (A.cssNumber[s] ? "" : "px")),
                m.clearCloneStyle ||
                "" !== i ||
                0 !== t.indexOf("background") ||
                (c[t] = "inherit"),
                (a && "set" in a && void 0 === (i = a.set(e, i, n))) ||
                (l ? c.setProperty(t, i) : (c[t] = i)));
          }
        },
        css: function (e, t, i, n) {
          var o,
            r,
            a,
            s = G(t);
          return (
            Ke.test(t) || (t = Ze(s)),
            (a = A.cssHooks[t] || A.cssHooks[s]) &&
            "get" in a &&
            (o = a.get(e, !0, i)),
            void 0 === o && (o = We(e, t, n)),
            "normal" === o && t in et && (o = et[t]),
            "" === i || i
              ? ((r = parseFloat(o)), !0 === i || isFinite(r) ? r || 0 : o)
              : o
          );
        },
      }),
        A.each(["height", "width"], function (e, t) {
          A.cssHooks[t] = {
            get: function (e, i, n) {
              if (i)
                return !Xe.test(A.css(e, "display")) ||
                  (e.getClientRects().length && e.getBoundingClientRect().width)
                  ? nt(e, t, n)
                  : Fe(e, Je, function () {
                    return nt(e, t, n);
                  });
            },
            set: function (e, i, n) {
              var o,
                r = je(e),
                a = !m.scrollboxSize() && "absolute" === r.position,
                s = (a || n) && "border-box" === A.css(e, "boxSizing", !1, r),
                l = n ? it(e, t, n, s, r) : 0;
              return (
                s &&
                a &&
                (l -= Math.ceil(
                  e["offset" + t[0].toUpperCase() + t.slice(1)] -
                  parseFloat(r[t]) -
                  it(e, t, "border", !1, r) -
                  0.5
                )),
                l &&
                (o = ne.exec(i)) &&
                "px" !== (o[3] || "px") &&
                ((e.style[t] = i), (i = A.css(e, t))),
                tt(0, i, l)
              );
            },
          };
        }),
        (A.cssHooks.marginLeft = qe(m.reliableMarginLeft, function (e, t) {
          if (t)
            return (
              (parseFloat(We(e, "marginLeft")) ||
                e.getBoundingClientRect().left -
                Fe(e, { marginLeft: 0 }, function () {
                  return e.getBoundingClientRect().left;
                })) + "px"
            );
        })),
        A.each({ margin: "", padding: "", border: "Width" }, function (e, t) {
          (A.cssHooks[e + t] = {
            expand: function (i) {
              for (
                var n = 0,
                o = {},
                r = "string" == typeof i ? i.split(" ") : [i];
                n < 4;
                n++
              )
                o[e + oe[n] + t] = r[n] || r[n - 2] || r[0];
              return o;
            },
          }),
            "margin" !== e && (A.cssHooks[e + t].set = tt);
        }),
        A.fn.extend({
          css: function (e, t) {
            return U(
              this,
              function (e, t, i) {
                var n,
                  o,
                  r = {},
                  a = 0;
                if (Array.isArray(t)) {
                  for (n = je(e), o = t.length; a < o; a++)
                    r[t[a]] = A.css(e, t[a], !1, n);
                  return r;
                }
                return void 0 !== i ? A.style(e, t, i) : A.css(e, t);
              },
              e,
              t,
              arguments.length > 1
            );
          },
        }),
        (A.Tween = ot),
        (ot.prototype = {
          constructor: ot,
          init: function (e, t, i, n, o, r) {
            (this.elem = e),
              (this.prop = i),
              (this.easing = o || A.easing._default),
              (this.options = t),
              (this.start = this.now = this.cur()),
              (this.end = n),
              (this.unit = r || (A.cssNumber[i] ? "" : "px"));
          },
          cur: function () {
            var e = ot.propHooks[this.prop];
            return e && e.get ? e.get(this) : ot.propHooks._default.get(this);
          },
          run: function (e) {
            var t,
              i = ot.propHooks[this.prop];
            return (
              this.options.duration
                ? (this.pos = t =
                  A.easing[this.easing](
                    e,
                    this.options.duration * e,
                    0,
                    1,
                    this.options.duration
                  ))
                : (this.pos = t = e),
              (this.now = (this.end - this.start) * t + this.start),
              this.options.step &&
              this.options.step.call(this.elem, this.now, this),
              i && i.set ? i.set(this) : ot.propHooks._default.set(this),
              this
            );
          },
        }),
        (ot.prototype.init.prototype = ot.prototype),
        (ot.propHooks = {
          _default: {
            get: function (e) {
              var t;
              return 1 !== e.elem.nodeType ||
                (null != e.elem[e.prop] && null == e.elem.style[e.prop])
                ? e.elem[e.prop]
                : (t = A.css(e.elem, e.prop, "")) && "auto" !== t
                  ? t
                  : 0;
            },
            set: function (e) {
              A.fx.step[e.prop]
                ? A.fx.step[e.prop](e)
                : 1 !== e.elem.nodeType ||
                  (!A.cssHooks[e.prop] && null == e.elem.style[Ze(e.prop)])
                  ? (e.elem[e.prop] = e.now)
                  : A.style(e.elem, e.prop, e.now + e.unit);
            },
          },
        }),
        (ot.propHooks.scrollTop = ot.propHooks.scrollLeft =
        {
          set: function (e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now);
          },
        }),
        (A.easing = {
          linear: function (e) {
            return e;
          },
          swing: function (e) {
            return 0.5 - Math.cos(e * Math.PI) / 2;
          },
          _default: "swing",
        }),
        (A.fx = ot.prototype.init),
        (A.fx.step = {});
      var rt,
        at,
        st = /^(?:toggle|show|hide)$/,
        lt = /queueHooks$/;
      function ct() {
        at &&
          (!1 === y.hidden && i.requestAnimationFrame
            ? i.requestAnimationFrame(ct)
            : i.setTimeout(ct, A.fx.interval),
            A.fx.tick());
      }
      function ut() {
        return (
          i.setTimeout(function () {
            rt = void 0;
          }),
          (rt = Date.now())
        );
      }
      function dt(e, t) {
        var i,
          n = 0,
          o = { height: e };
        for (t = t ? 1 : 0; n < 4; n += 2 - t)
          o["margin" + (i = oe[n])] = o["padding" + i] = e;
        return t && (o.opacity = o.width = e), o;
      }
      function pt(e, t, i) {
        for (
          var n,
          o = (ht.tweeners[t] || []).concat(ht.tweeners["*"]),
          r = 0,
          a = o.length;
          r < a;
          r++
        )
          if ((n = o[r].call(i, t, e))) return n;
      }
      function ht(e, t, i) {
        var n,
          o,
          r = 0,
          a = ht.prefilters.length,
          s = A.Deferred().always(function () {
            delete l.elem;
          }),
          l = function () {
            if (o) return !1;
            for (
              var t = rt || ut(),
              i = Math.max(0, c.startTime + c.duration - t),
              n = 1 - (i / c.duration || 0),
              r = 0,
              a = c.tweens.length;
              r < a;
              r++
            )
              c.tweens[r].run(n);
            return (
              s.notifyWith(e, [c, n, i]),
              n < 1 && a
                ? i
                : (a || s.notifyWith(e, [c, 1, 0]), s.resolveWith(e, [c]), !1)
            );
          },
          c = s.promise({
            elem: e,
            props: A.extend({}, t),
            opts: A.extend(
              !0,
              { specialEasing: {}, easing: A.easing._default },
              i
            ),
            originalProperties: t,
            originalOptions: i,
            startTime: rt || ut(),
            duration: i.duration,
            tweens: [],
            createTween: function (t, i) {
              var n = A.Tween(
                e,
                c.opts,
                t,
                i,
                c.opts.specialEasing[t] || c.opts.easing
              );
              return c.tweens.push(n), n;
            },
            stop: function (t) {
              var i = 0,
                n = t ? c.tweens.length : 0;
              if (o) return this;
              for (o = !0; i < n; i++) c.tweens[i].run(1);
              return (
                t
                  ? (s.notifyWith(e, [c, 1, 0]), s.resolveWith(e, [c, t]))
                  : s.rejectWith(e, [c, t]),
                this
              );
            },
          }),
          u = c.props;
        for (
          !(function (e, t) {
            var i, n, o, r, a;
            for (i in e)
              if (
                ((o = t[(n = G(i))]),
                  (r = e[i]),
                  Array.isArray(r) && ((o = r[1]), (r = e[i] = r[0])),
                  i !== n && ((e[n] = r), delete e[i]),
                  (a = A.cssHooks[n]) && ("expand" in a))
              )
                for (i in ((r = a.expand(r)), delete e[n], r))
                  (i in e) || ((e[i] = r[i]), (t[i] = o));
              else t[n] = o;
          })(u, c.opts.specialEasing);
          r < a;
          r++
        )
          if ((n = ht.prefilters[r].call(c, e, u, c.opts)))
            return (
              v(n.stop) &&
              (A._queueHooks(c.elem, c.opts.queue).stop = n.stop.bind(n)),
              n
            );
        return (
          A.map(u, pt, c),
          v(c.opts.start) && c.opts.start.call(e, c),
          c
            .progress(c.opts.progress)
            .done(c.opts.done, c.opts.complete)
            .fail(c.opts.fail)
            .always(c.opts.always),
          A.fx.timer(A.extend(l, { elem: e, anim: c, queue: c.opts.queue })),
          c
        );
      }
      (A.Animation = A.extend(ht, {
        tweeners: {
          "*": [
            function (e, t) {
              var i = this.createTween(e, t);
              return ce(i.elem, e, ne.exec(t), i), i;
            },
          ],
        },
        tweener: function (e, t) {
          v(e) ? ((t = e), (e = ["*"])) : (e = e.match(B));
          for (var i, n = 0, o = e.length; n < o; n++)
            (i = e[n]),
              (ht.tweeners[i] = ht.tweeners[i] || []),
              ht.tweeners[i].unshift(t);
        },
        prefilters: [
          function (e, t, i) {
            var n,
              o,
              r,
              a,
              s,
              l,
              c,
              u,
              d = "width" in t || "height" in t,
              p = this,
              h = {},
              f = e.style,
              g = e.nodeType && le(e),
              m = X.get(e, "fxshow");
            for (n in (i.queue ||
              (null == (a = A._queueHooks(e, "fx")).unqueued &&
                ((a.unqueued = 0),
                  (s = a.empty.fire),
                  (a.empty.fire = function () {
                    a.unqueued || s();
                  })),
                a.unqueued++,
                p.always(function () {
                  p.always(function () {
                    a.unqueued--, A.queue(e, "fx").length || a.empty.fire();
                  });
                })),
              t))
              if (((o = t[n]), st.test(o))) {
                if (
                  (delete t[n],
                    (r = r || "toggle" === o),
                    o === (g ? "hide" : "show"))
                ) {
                  if ("show" !== o || !m || void 0 === m[n]) continue;
                  g = !0;
                }
                h[n] = (m && m[n]) || A.style(e, n);
              }
            if ((l = !A.isEmptyObject(t)) || !A.isEmptyObject(h))
              for (n in (d &&
                1 === e.nodeType &&
                ((i.overflow = [f.overflow, f.overflowX, f.overflowY]),
                  null == (c = m && m.display) && (c = X.get(e, "display")),
                  "none" === (u = A.css(e, "display")) &&
                  (c
                    ? (u = c)
                    : (pe([e], !0),
                      (c = e.style.display || c),
                      (u = A.css(e, "display")),
                      pe([e]))),
                  ("inline" === u || ("inline-block" === u && null != c)) &&
                  "none" === A.css(e, "float") &&
                  (l ||
                    (p.done(function () {
                      f.display = c;
                    }),
                      null == c &&
                      ((u = f.display), (c = "none" === u ? "" : u))),
                    (f.display = "inline-block"))),
                i.overflow &&
                ((f.overflow = "hidden"),
                  p.always(function () {
                    (f.overflow = i.overflow[0]),
                      (f.overflowX = i.overflow[1]),
                      (f.overflowY = i.overflow[2]);
                  })),
                (l = !1),
                h))
                l ||
                  (m
                    ? "hidden" in m && (g = m.hidden)
                    : (m = X.access(e, "fxshow", { display: c })),
                    r && (m.hidden = !g),
                    g && pe([e], !0),
                    p.done(function () {
                      for (n in (g || pe([e]), X.remove(e, "fxshow"), h))
                        A.style(e, n, h[n]);
                    })),
                  (l = pt(g ? m[n] : 0, n, p)),
                  n in m ||
                  ((m[n] = l.start), g && ((l.end = l.start), (l.start = 0)));
          },
        ],
        prefilter: function (e, t) {
          t ? ht.prefilters.unshift(e) : ht.prefilters.push(e);
        },
      })),
        (A.speed = function (e, t, i) {
          var n =
            e && "object" == typeof e
              ? A.extend({}, e)
              : {
                complete: i || (!i && t) || (v(e) && e),
                duration: e,
                easing: (i && t) || (t && !v(t) && t),
              };
          return (
            A.fx.off
              ? (n.duration = 0)
              : "number" != typeof n.duration &&
              (n.duration in A.fx.speeds
                ? (n.duration = A.fx.speeds[n.duration])
                : (n.duration = A.fx.speeds._default)),
            (null != n.queue && !0 !== n.queue) || (n.queue = "fx"),
            (n.old = n.complete),
            (n.complete = function () {
              v(n.old) && n.old.call(this), n.queue && A.dequeue(this, n.queue);
            }),
            n
          );
        }),
        A.fn.extend({
          fadeTo: function (e, t, i, n) {
            return this.filter(le)
              .css("opacity", 0)
              .show()
              .end()
              .animate({ opacity: t }, e, i, n);
          },
          animate: function (e, t, i, n) {
            var o = A.isEmptyObject(e),
              r = A.speed(t, i, n),
              a = function () {
                var t = ht(this, A.extend({}, e), r);
                (o || X.get(this, "finish")) && t.stop(!0);
              };
            return (
              (a.finish = a),
              o || !1 === r.queue ? this.each(a) : this.queue(r.queue, a)
            );
          },
          stop: function (e, t, i) {
            var n = function (e) {
              var t = e.stop;
              delete e.stop, t(i);
            };
            return (
              "string" != typeof e && ((i = t), (t = e), (e = void 0)),
              t && this.queue(e || "fx", []),
              this.each(function () {
                var t = !0,
                  o = null != e && e + "queueHooks",
                  r = A.timers,
                  a = X.get(this);
                if (o) a[o] && a[o].stop && n(a[o]);
                else for (o in a) a[o] && a[o].stop && lt.test(o) && n(a[o]);
                for (o = r.length; o--;)
                  r[o].elem !== this ||
                    (null != e && r[o].queue !== e) ||
                    (r[o].anim.stop(i), (t = !1), r.splice(o, 1));
                (!t && i) || A.dequeue(this, e);
              })
            );
          },
          finish: function (e) {
            return (
              !1 !== e && (e = e || "fx"),
              this.each(function () {
                var t,
                  i = X.get(this),
                  n = i[e + "queue"],
                  o = i[e + "queueHooks"],
                  r = A.timers,
                  a = n ? n.length : 0;
                for (
                  i.finish = !0,
                  A.queue(this, e, []),
                  o && o.stop && o.stop.call(this, !0),
                  t = r.length;
                  t--;

                )
                  r[t].elem === this &&
                    r[t].queue === e &&
                    (r[t].anim.stop(!0), r.splice(t, 1));
                for (t = 0; t < a; t++)
                  n[t] && n[t].finish && n[t].finish.call(this);
                delete i.finish;
              })
            );
          },
        }),
        A.each(["toggle", "show", "hide"], function (e, t) {
          var i = A.fn[t];
          A.fn[t] = function (e, n, o) {
            return null == e || "boolean" == typeof e
              ? i.apply(this, arguments)
              : this.animate(dt(t, !0), e, n, o);
          };
        }),
        A.each(
          {
            slideDown: dt("show"),
            slideUp: dt("hide"),
            slideToggle: dt("toggle"),
            fadeIn: { opacity: "show" },
            fadeOut: { opacity: "hide" },
            fadeToggle: { opacity: "toggle" },
          },
          function (e, t) {
            A.fn[e] = function (e, i, n) {
              return this.animate(t, e, i, n);
            };
          }
        ),
        (A.timers = []),
        (A.fx.tick = function () {
          var e,
            t = 0,
            i = A.timers;
          for (rt = Date.now(); t < i.length; t++)
            (e = i[t])() || i[t] !== e || i.splice(t--, 1);
          i.length || A.fx.stop(), (rt = void 0);
        }),
        (A.fx.timer = function (e) {
          A.timers.push(e), A.fx.start();
        }),
        (A.fx.interval = 13),
        (A.fx.start = function () {
          at || ((at = !0), ct());
        }),
        (A.fx.stop = function () {
          at = null;
        }),
        (A.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
        (A.fn.delay = function (e, t) {
          return (
            (e = (A.fx && A.fx.speeds[e]) || e),
            (t = t || "fx"),
            this.queue(t, function (t, n) {
              var o = i.setTimeout(t, e);
              n.stop = function () {
                i.clearTimeout(o);
              };
            })
          );
        }),
        (function () {
          var e = y.createElement("input"),
            t = y
              .createElement("select")
              .appendChild(y.createElement("option"));
          (e.type = "checkbox"),
            (m.checkOn = "" !== e.value),
            (m.optSelected = t.selected),
            ((e = y.createElement("input")).value = "t"),
            (e.type = "radio"),
            (m.radioValue = "t" === e.value);
        })();
      var ft,
        gt = A.expr.attrHandle;
      A.fn.extend({
        attr: function (e, t) {
          return U(this, A.attr, e, t, arguments.length > 1);
        },
        removeAttr: function (e) {
          return this.each(function () {
            A.removeAttr(this, e);
          });
        },
      }),
        A.extend({
          attr: function (e, t, i) {
            var n,
              o,
              r = e.nodeType;
            if (3 !== r && 8 !== r && 2 !== r)
              return void 0 === e.getAttribute
                ? A.prop(e, t, i)
                : ((1 === r && A.isXMLDoc(e)) ||
                  (o =
                    A.attrHooks[t.toLowerCase()] ||
                    (A.expr.match.bool.test(t) ? ft : void 0)),
                  void 0 !== i
                    ? null === i
                      ? void A.removeAttr(e, t)
                      : o && "set" in o && void 0 !== (n = o.set(e, i, t))
                        ? n
                        : (e.setAttribute(t, i + ""), i)
                    : o && "get" in o && null !== (n = o.get(e, t))
                      ? n
                      : null == (n = A.find.attr(e, t))
                        ? void 0
                        : n);
          },
          attrHooks: {
            type: {
              set: function (e, t) {
                if (!m.radioValue && "radio" === t && L(e, "input")) {
                  var i = e.value;
                  return e.setAttribute("type", t), i && (e.value = i), t;
                }
              },
            },
          },
          removeAttr: function (e, t) {
            var i,
              n = 0,
              o = t && t.match(B);
            if (o && 1 === e.nodeType)
              for (; (i = o[n++]);) e.removeAttribute(i);
          },
        }),
        (ft = {
          set: function (e, t, i) {
            return !1 === t ? A.removeAttr(e, i) : e.setAttribute(i, i), i;
          },
        }),
        A.each(A.expr.match.bool.source.match(/\w+/g), function (e, t) {
          var i = gt[t] || A.find.attr;
          gt[t] = function (e, t, n) {
            var o,
              r,
              a = t.toLowerCase();
            return (
              n ||
              ((r = gt[a]),
                (gt[a] = o),
                (o = null != i(e, t, n) ? a : null),
                (gt[a] = r)),
              o
            );
          };
        });
      var mt = /^(?:input|select|textarea|button)$/i,
        vt = /^(?:a|area)$/i;
      function bt(e) {
        return (e.match(B) || []).join(" ");
      }
      function yt(e) {
        return (e.getAttribute && e.getAttribute("class")) || "";
      }
      function xt(e) {
        return Array.isArray(e)
          ? e
          : ("string" == typeof e && e.match(B)) || [];
      }
      A.fn.extend({
        prop: function (e, t) {
          return U(this, A.prop, e, t, arguments.length > 1);
        },
        removeProp: function (e) {
          return this.each(function () {
            delete this[A.propFix[e] || e];
          });
        },
      }),
        A.extend({
          prop: function (e, t, i) {
            var n,
              o,
              r = e.nodeType;
            if (3 !== r && 8 !== r && 2 !== r)
              return (
                (1 === r && A.isXMLDoc(e)) ||
                ((t = A.propFix[t] || t), (o = A.propHooks[t])),
                void 0 !== i
                  ? o && "set" in o && void 0 !== (n = o.set(e, i, t))
                    ? n
                    : (e[t] = i)
                  : o && "get" in o && null !== (n = o.get(e, t))
                    ? n
                    : e[t]
              );
          },
          propHooks: {
            tabIndex: {
              get: function (e) {
                var t = A.find.attr(e, "tabindex");
                return t
                  ? parseInt(t, 10)
                  : mt.test(e.nodeName) || (vt.test(e.nodeName) && e.href)
                    ? 0
                    : -1;
              },
            },
          },
          propFix: { for: "htmlFor", class: "className" },
        }),
        m.optSelected ||
        (A.propHooks.selected = {
          get: function (e) {
            var t = e.parentNode;
            return t && t.parentNode && t.parentNode.selectedIndex, null;
          },
          set: function (e) {
            var t = e.parentNode;
            t &&
              (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex);
          },
        }),
        A.each(
          [
            "tabIndex",
            "readOnly",
            "maxLength",
            "cellSpacing",
            "cellPadding",
            "rowSpan",
            "colSpan",
            "useMap",
            "frameBorder",
            "contentEditable",
          ],
          function () {
            A.propFix[this.toLowerCase()] = this;
          }
        ),
        A.fn.extend({
          addClass: function (e) {
            var t,
              i,
              n,
              o,
              r,
              a,
              s,
              l = 0;
            if (v(e))
              return this.each(function (t) {
                A(this).addClass(e.call(this, t, yt(this)));
              });
            if ((t = xt(e)).length)
              for (; (i = this[l++]);)
                if (
                  ((o = yt(i)), (n = 1 === i.nodeType && " " + bt(o) + " "))
                ) {
                  for (a = 0; (r = t[a++]);)
                    n.indexOf(" " + r + " ") < 0 && (n += r + " ");
                  o !== (s = bt(n)) && i.setAttribute("class", s);
                }
            return this;
          },
          removeClass: function (e) {
            var t,
              i,
              n,
              o,
              r,
              a,
              s,
              l = 0;
            if (v(e))
              return this.each(function (t) {
                A(this).removeClass(e.call(this, t, yt(this)));
              });
            if (!arguments.length) return this.attr("class", "");
            if ((t = xt(e)).length)
              for (; (i = this[l++]);)
                if (
                  ((o = yt(i)), (n = 1 === i.nodeType && " " + bt(o) + " "))
                ) {
                  for (a = 0; (r = t[a++]);)
                    for (; n.indexOf(" " + r + " ") > -1;)
                      n = n.replace(" " + r + " ", " ");
                  o !== (s = bt(n)) && i.setAttribute("class", s);
                }
            return this;
          },
          toggleClass: function (e, t) {
            var i = typeof e,
              n = "string" === i || Array.isArray(e);
            return "boolean" == typeof t && n
              ? t
                ? this.addClass(e)
                : this.removeClass(e)
              : v(e)
                ? this.each(function (i) {
                  A(this).toggleClass(e.call(this, i, yt(this), t), t);
                })
                : this.each(function () {
                  var t, o, r, a;
                  if (n)
                    for (o = 0, r = A(this), a = xt(e); (t = a[o++]);)
                      r.hasClass(t) ? r.removeClass(t) : r.addClass(t);
                  else
                    (void 0 !== e && "boolean" !== i) ||
                      ((t = yt(this)) && X.set(this, "__className__", t),
                        this.setAttribute &&
                        this.setAttribute(
                          "class",
                          t || !1 === e
                            ? ""
                            : X.get(this, "__className__") || ""
                        ));
                });
          },
          hasClass: function (e) {
            var t,
              i,
              n = 0;
            for (t = " " + e + " "; (i = this[n++]);)
              if (1 === i.nodeType && (" " + bt(yt(i)) + " ").indexOf(t) > -1)
                return !0;
            return !1;
          },
        });
      var wt = /\r/g;
      A.fn.extend({
        val: function (e) {
          var t,
            i,
            n,
            o = this[0];
          return arguments.length
            ? ((n = v(e)),
              this.each(function (i) {
                var o;
                1 === this.nodeType &&
                  (null == (o = n ? e.call(this, i, A(this).val()) : e)
                    ? (o = "")
                    : "number" == typeof o
                      ? (o += "")
                      : Array.isArray(o) &&
                      (o = A.map(o, function (e) {
                        return null == e ? "" : e + "";
                      })),
                    ((t =
                      A.valHooks[this.type] ||
                      A.valHooks[this.nodeName.toLowerCase()]) &&
                      "set" in t &&
                      void 0 !== t.set(this, o, "value")) ||
                    (this.value = o));
              }))
            : o
              ? (t =
                A.valHooks[o.type] || A.valHooks[o.nodeName.toLowerCase()]) &&
                "get" in t &&
                void 0 !== (i = t.get(o, "value"))
                ? i
                : "string" == typeof (i = o.value)
                  ? i.replace(wt, "")
                  : null == i
                    ? ""
                    : i
              : void 0;
        },
      }),
        A.extend({
          valHooks: {
            option: {
              get: function (e) {
                var t = A.find.attr(e, "value");
                return null != t ? t : bt(A.text(e));
              },
            },
            select: {
              get: function (e) {
                var t,
                  i,
                  n,
                  o = e.options,
                  r = e.selectedIndex,
                  a = "select-one" === e.type,
                  s = a ? null : [],
                  l = a ? r + 1 : o.length;
                for (n = r < 0 ? l : a ? r : 0; n < l; n++)
                  if (
                    ((i = o[n]).selected || n === r) &&
                    !i.disabled &&
                    (!i.parentNode.disabled || !L(i.parentNode, "optgroup"))
                  ) {
                    if (((t = A(i).val()), a)) return t;
                    s.push(t);
                  }
                return s;
              },
              set: function (e, t) {
                for (
                  var i, n, o = e.options, r = A.makeArray(t), a = o.length;
                  a--;

                )
                  ((n = o[a]).selected =
                    A.inArray(A.valHooks.option.get(n), r) > -1) && (i = !0);
                return i || (e.selectedIndex = -1), r;
              },
            },
          },
        }),
        A.each(["radio", "checkbox"], function () {
          (A.valHooks[this] = {
            set: function (e, t) {
              if (Array.isArray(t))
                return (e.checked = A.inArray(A(e).val(), t) > -1);
            },
          }),
            m.checkOn ||
            (A.valHooks[this].get = function (e) {
              return null === e.getAttribute("value") ? "on" : e.value;
            });
        }),
        (m.focusin = "onfocusin" in i);
      var _t = /^(?:focusinfocus|focusoutblur)$/,
        At = function (e) {
          e.stopPropagation();
        };
      A.extend(A.event, {
        trigger: function (e, t, n, o) {
          var r,
            a,
            s,
            l,
            c,
            u,
            d,
            p,
            f = [n || y],
            g = h.call(e, "type") ? e.type : e,
            m = h.call(e, "namespace") ? e.namespace.split(".") : [];
          if (
            ((a = p = s = n = n || y),
              3 !== n.nodeType &&
              8 !== n.nodeType &&
              !_t.test(g + A.event.triggered) &&
              (g.indexOf(".") > -1 &&
                ((m = g.split(".")), (g = m.shift()), m.sort()),
                (c = g.indexOf(":") < 0 && "on" + g),
                ((e = e[A.expando]
                  ? e
                  : new A.Event(g, "object" == typeof e && e)).isTrigger = o
                    ? 2
                    : 3),
                (e.namespace = m.join(".")),
                (e.rnamespace = e.namespace
                  ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)")
                  : null),
                (e.result = void 0),
                e.target || (e.target = n),
                (t = null == t ? [e] : A.makeArray(t, [e])),
                (d = A.event.special[g] || {}),
                o || !d.trigger || !1 !== d.trigger.apply(n, t)))
          ) {
            if (!o && !d.noBubble && !b(n)) {
              for (
                l = d.delegateType || g, _t.test(l + g) || (a = a.parentNode);
                a;
                a = a.parentNode
              )
                f.push(a), (s = a);
              s === (n.ownerDocument || y) &&
                f.push(s.defaultView || s.parentWindow || i);
            }
            for (r = 0; (a = f[r++]) && !e.isPropagationStopped();)
              (p = a),
                (e.type = r > 1 ? l : d.bindType || g),
                (u =
                  (X.get(a, "events") || Object.create(null))[e.type] &&
                  X.get(a, "handle")) && u.apply(a, t),
                (u = c && a[c]) &&
                u.apply &&
                Y(a) &&
                ((e.result = u.apply(a, t)),
                  !1 === e.result && e.preventDefault());
            return (
              (e.type = g),
              o ||
              e.isDefaultPrevented() ||
              (d._default && !1 !== d._default.apply(f.pop(), t)) ||
              !Y(n) ||
              (c &&
                v(n[g]) &&
                !b(n) &&
                ((s = n[c]) && (n[c] = null),
                  (A.event.triggered = g),
                  e.isPropagationStopped() && p.addEventListener(g, At),
                  n[g](),
                  e.isPropagationStopped() && p.removeEventListener(g, At),
                  (A.event.triggered = void 0),
                  s && (n[c] = s))),
              e.result
            );
          }
        },
        simulate: function (e, t, i) {
          var n = A.extend(new A.Event(), i, { type: e, isSimulated: !0 });
          A.event.trigger(n, null, t);
        },
      }),
        A.fn.extend({
          trigger: function (e, t) {
            return this.each(function () {
              A.event.trigger(e, t, this);
            });
          },
          triggerHandler: function (e, t) {
            var i = this[0];
            if (i) return A.event.trigger(e, t, i, !0);
          },
        }),
        m.focusin ||
        A.each({ focus: "focusin", blur: "focusout" }, function (e, t) {
          var i = function (e) {
            A.event.simulate(t, e.target, A.event.fix(e));
          };
          A.event.special[t] = {
            setup: function () {
              var n = this.ownerDocument || this.document || this,
                o = X.access(n, t);
              o || n.addEventListener(e, i, !0), X.access(n, t, (o || 0) + 1);
            },
            teardown: function () {
              var n = this.ownerDocument || this.document || this,
                o = X.access(n, t) - 1;
              o
                ? X.access(n, t, o)
                : (n.removeEventListener(e, i, !0), X.remove(n, t));
            },
          };
        });
      var Et = i.location,
        St = { guid: Date.now() },
        Tt = /\?/;
      A.parseXML = function (e) {
        var t;
        if (!e || "string" != typeof e) return null;
        try {
          t = new i.DOMParser().parseFromString(e, "text/xml");
        } catch (e) {
          t = void 0;
        }
        return (
          (t && !t.getElementsByTagName("parsererror").length) ||
          A.error("Invalid XML: " + e),
          t
        );
      };
      var Ct = /\[\]$/,
        kt = /\r?\n/g,
        Lt = /^(?:submit|button|image|reset|file)$/i,
        Dt = /^(?:input|select|textarea|keygen)/i;
      function It(e, t, i, n) {
        var o;
        if (Array.isArray(t))
          A.each(t, function (t, o) {
            i || Ct.test(e)
              ? n(e, o)
              : It(
                e + "[" + ("object" == typeof o && null != o ? t : "") + "]",
                o,
                i,
                n
              );
          });
        else if (i || "object" !== _(t)) n(e, t);
        else for (o in t) It(e + "[" + o + "]", t[o], i, n);
      }
      (A.param = function (e, t) {
        var i,
          n = [],
          o = function (e, t) {
            var i = v(t) ? t() : t;
            n[n.length] =
              encodeURIComponent(e) +
              "=" +
              encodeURIComponent(null == i ? "" : i);
          };
        if (null == e) return "";
        if (Array.isArray(e) || (e.jquery && !A.isPlainObject(e)))
          A.each(e, function () {
            o(this.name, this.value);
          });
        else for (i in e) It(i, e[i], t, o);
        return n.join("&");
      }),
        A.fn.extend({
          serialize: function () {
            return A.param(this.serializeArray());
          },
          serializeArray: function () {
            return this.map(function () {
              var e = A.prop(this, "elements");
              return e ? A.makeArray(e) : this;
            })
              .filter(function () {
                var e = this.type;
                return (
                  this.name &&
                  !A(this).is(":disabled") &&
                  Dt.test(this.nodeName) &&
                  !Lt.test(e) &&
                  (this.checked || !ge.test(e))
                );
              })
              .map(function (e, t) {
                var i = A(this).val();
                return null == i
                  ? null
                  : Array.isArray(i)
                    ? A.map(i, function (e) {
                      return { name: t.name, value: e.replace(kt, "\r\n") };
                    })
                    : { name: t.name, value: i.replace(kt, "\r\n") };
              })
              .get();
          },
        });
      var Pt = /%20/g,
        Ot = /#.*$/,
        Mt = /([?&])_=[^&]*/,
        Nt = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        Rt = /^(?:GET|HEAD)$/,
        Bt = /^\/\//,
        zt = {},
        $t = {},
        Ht = "*/".concat("*"),
        Vt = y.createElement("a");
      function jt(e) {
        return function (t, i) {
          "string" != typeof t && ((i = t), (t = "*"));
          var n,
            o = 0,
            r = t.toLowerCase().match(B) || [];
          if (v(i))
            for (; (n = r[o++]);)
              "+" === n[0]
                ? ((n = n.slice(1) || "*"), (e[n] = e[n] || []).unshift(i))
                : (e[n] = e[n] || []).push(i);
        };
      }
      function Ft(e, t, i, n) {
        var o = {},
          r = e === $t;
        function a(s) {
          var l;
          return (
            (o[s] = !0),
            A.each(e[s] || [], function (e, s) {
              var c = s(t, i, n);
              return "string" != typeof c || r || o[c]
                ? r
                  ? !(l = c)
                  : void 0
                : (t.dataTypes.unshift(c), a(c), !1);
            }),
            l
          );
        }
        return a(t.dataTypes[0]) || (!o["*"] && a("*"));
      }
      function Ut(e, t) {
        var i,
          n,
          o = A.ajaxSettings.flatOptions || {};
        for (i in t) void 0 !== t[i] && ((o[i] ? e : n || (n = {}))[i] = t[i]);
        return n && A.extend(!0, e, n), e;
      }
      (Vt.href = Et.href),
        A.extend({
          active: 0,
          lastModified: {},
          etag: {},
          ajaxSettings: {
            url: Et.href,
            type: "GET",
            isLocal:
              /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(
                Et.protocol
              ),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
              "*": Ht,
              text: "text/plain",
              html: "text/html",
              xml: "application/xml, text/xml",
              json: "application/json, text/javascript",
            },
            contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ },
            responseFields: {
              xml: "responseXML",
              text: "responseText",
              json: "responseJSON",
            },
            converters: {
              "* text": String,
              "text html": !0,
              "text json": JSON.parse,
              "text xml": A.parseXML,
            },
            flatOptions: { url: !0, context: !0 },
          },
          ajaxSetup: function (e, t) {
            return t ? Ut(Ut(e, A.ajaxSettings), t) : Ut(A.ajaxSettings, e);
          },
          ajaxPrefilter: jt(zt),
          ajaxTransport: jt($t),
          ajax: function (e, t) {
            "object" == typeof e && ((t = e), (e = void 0)), (t = t || {});
            var n,
              o,
              r,
              a,
              s,
              l,
              c,
              u,
              d,
              p,
              h = A.ajaxSetup({}, t),
              f = h.context || h,
              g = h.context && (f.nodeType || f.jquery) ? A(f) : A.event,
              m = A.Deferred(),
              v = A.Callbacks("once memory"),
              b = h.statusCode || {},
              x = {},
              w = {},
              _ = "canceled",
              E = {
                readyState: 0,
                getResponseHeader: function (e) {
                  var t;
                  if (c) {
                    if (!a)
                      for (a = {}; (t = Nt.exec(r));)
                        a[t[1].toLowerCase() + " "] = (
                          a[t[1].toLowerCase() + " "] || []
                        ).concat(t[2]);
                    t = a[e.toLowerCase() + " "];
                  }
                  return null == t ? null : t.join(", ");
                },
                getAllResponseHeaders: function () {
                  return c ? r : null;
                },
                setRequestHeader: function (e, t) {
                  return (
                    null == c &&
                    ((e = w[e.toLowerCase()] = w[e.toLowerCase()] || e),
                      (x[e] = t)),
                    this
                  );
                },
                overrideMimeType: function (e) {
                  return null == c && (h.mimeType = e), this;
                },
                statusCode: function (e) {
                  var t;
                  if (e)
                    if (c) E.always(e[E.status]);
                    else for (t in e) b[t] = [b[t], e[t]];
                  return this;
                },
                abort: function (e) {
                  var t = e || _;
                  return n && n.abort(t), S(0, t), this;
                },
              };
            if (
              (m.promise(E),
                (h.url = ((e || h.url || Et.href) + "").replace(
                  Bt,
                  Et.protocol + "//"
                )),
                (h.type = t.method || t.type || h.method || h.type),
                (h.dataTypes = (h.dataType || "*").toLowerCase().match(B) || [
                  "",
                ]),
                null == h.crossDomain)
            ) {
              l = y.createElement("a");
              try {
                (l.href = h.url),
                  (l.href = l.href),
                  (h.crossDomain =
                    Vt.protocol + "//" + Vt.host != l.protocol + "//" + l.host);
              } catch (e) {
                h.crossDomain = !0;
              }
            }
            if (
              (h.data &&
                h.processData &&
                "string" != typeof h.data &&
                (h.data = A.param(h.data, h.traditional)),
                Ft(zt, h, t, E),
                c)
            )
              return E;
            for (d in ((u = A.event && h.global) &&
              0 == A.active++ &&
              A.event.trigger("ajaxStart"),
              (h.type = h.type.toUpperCase()),
              (h.hasContent = !Rt.test(h.type)),
              (o = h.url.replace(Ot, "")),
              h.hasContent
                ? h.data &&
                h.processData &&
                0 ===
                (h.contentType || "").indexOf(
                  "application/x-www-form-urlencoded"
                ) &&
                (h.data = h.data.replace(Pt, "+"))
                : ((p = h.url.slice(o.length)),
                  h.data &&
                  (h.processData || "string" == typeof h.data) &&
                  ((o += (Tt.test(o) ? "&" : "?") + h.data), delete h.data),
                  !1 === h.cache &&
                  ((o = o.replace(Mt, "$1")),
                    (p = (Tt.test(o) ? "&" : "?") + "_=" + St.guid++ + p)),
                  (h.url = o + p)),
              h.ifModified &&
              (A.lastModified[o] &&
                E.setRequestHeader("If-Modified-Since", A.lastModified[o]),
                A.etag[o] && E.setRequestHeader("If-None-Match", A.etag[o])),
              ((h.data && h.hasContent && !1 !== h.contentType) ||
                t.contentType) &&
              E.setRequestHeader("Content-Type", h.contentType),
              E.setRequestHeader(
                "Accept",
                h.dataTypes[0] && h.accepts[h.dataTypes[0]]
                  ? h.accepts[h.dataTypes[0]] +
                  ("*" !== h.dataTypes[0] ? ", " + Ht + "; q=0.01" : "")
                  : h.accepts["*"]
              ),
              h.headers))
              E.setRequestHeader(d, h.headers[d]);
            if (h.beforeSend && (!1 === h.beforeSend.call(f, E, h) || c))
              return E.abort();
            if (
              ((_ = "abort"),
                v.add(h.complete),
                E.done(h.success),
                E.fail(h.error),
                (n = Ft($t, h, t, E)))
            ) {
              if (((E.readyState = 1), u && g.trigger("ajaxSend", [E, h]), c))
                return E;
              h.async &&
                h.timeout > 0 &&
                (s = i.setTimeout(function () {
                  E.abort("timeout");
                }, h.timeout));
              try {
                (c = !1), n.send(x, S);
              } catch (e) {
                if (c) throw e;
                S(-1, e);
              }
            } else S(-1, "No Transport");
            function S(e, t, a, l) {
              var d,
                p,
                y,
                x,
                w,
                _ = t;
              c ||
                ((c = !0),
                  s && i.clearTimeout(s),
                  (n = void 0),
                  (r = l || ""),
                  (E.readyState = e > 0 ? 4 : 0),
                  (d = (e >= 200 && e < 300) || 304 === e),
                  a &&
                  (x = (function (e, t, i) {
                    for (
                      var n, o, r, a, s = e.contents, l = e.dataTypes;
                      "*" === l[0];

                    )
                      l.shift(),
                        void 0 === n &&
                        (n =
                          e.mimeType || t.getResponseHeader("Content-Type"));
                    if (n)
                      for (o in s)
                        if (s[o] && s[o].test(n)) {
                          l.unshift(o);
                          break;
                        }
                    if (l[0] in i) r = l[0];
                    else {
                      for (o in i) {
                        if (!l[0] || e.converters[o + " " + l[0]]) {
                          r = o;
                          break;
                        }
                        a || (a = o);
                      }
                      r = r || a;
                    }
                    if (r) return r !== l[0] && l.unshift(r), i[r];
                  })(h, E, a)),
                  !d &&
                  A.inArray("script", h.dataTypes) > -1 &&
                  (h.converters["text script"] = function () { }),
                  (x = (function (e, t, i, n) {
                    var o,
                      r,
                      a,
                      s,
                      l,
                      c = {},
                      u = e.dataTypes.slice();
                    if (u[1])
                      for (a in e.converters)
                        c[a.toLowerCase()] = e.converters[a];
                    for (r = u.shift(); r;)
                      if (
                        (e.responseFields[r] && (i[e.responseFields[r]] = t),
                          !l &&
                          n &&
                          e.dataFilter &&
                          (t = e.dataFilter(t, e.dataType)),
                          (l = r),
                          (r = u.shift()))
                      )
                        if ("*" === r) r = l;
                        else if ("*" !== l && l !== r) {
                          if (!(a = c[l + " " + r] || c["* " + r]))
                            for (o in c)
                              if (
                                (s = o.split(" "))[1] === r &&
                                (a = c[l + " " + s[0]] || c["* " + s[0]])
                              ) {
                                !0 === a
                                  ? (a = c[o])
                                  : !0 !== c[o] && ((r = s[0]), u.unshift(s[1]));
                                break;
                              }
                          if (!0 !== a)
                            if (a && e.throws) t = a(t);
                            else
                              try {
                                t = a(t);
                              } catch (e) {
                                return {
                                  state: "parsererror",
                                  error: a
                                    ? e
                                    : "No conversion from " + l + " to " + r,
                                };
                              }
                        }
                    return { state: "success", data: t };
                  })(h, x, E, d)),
                  d
                    ? (h.ifModified &&
                      ((w = E.getResponseHeader("Last-Modified")) &&
                        (A.lastModified[o] = w),
                        (w = E.getResponseHeader("etag")) && (A.etag[o] = w)),
                      204 === e || "HEAD" === h.type
                        ? (_ = "nocontent")
                        : 304 === e
                          ? (_ = "notmodified")
                          : ((_ = x.state), (p = x.data), (d = !(y = x.error))))
                    : ((y = _), (!e && _) || ((_ = "error"), e < 0 && (e = 0))),
                  (E.status = e),
                  (E.statusText = (t || _) + ""),
                  d ? m.resolveWith(f, [p, _, E]) : m.rejectWith(f, [E, _, y]),
                  E.statusCode(b),
                  (b = void 0),
                  u &&
                  g.trigger(d ? "ajaxSuccess" : "ajaxError", [E, h, d ? p : y]),
                  v.fireWith(f, [E, _]),
                  u &&
                  (g.trigger("ajaxComplete", [E, h]),
                    --A.active || A.event.trigger("ajaxStop")));
            }
            return E;
          },
          getJSON: function (e, t, i) {
            return A.get(e, t, i, "json");
          },
          getScript: function (e, t) {
            return A.get(e, void 0, t, "script");
          },
        }),
        A.each(["get", "post"], function (e, t) {
          A[t] = function (e, i, n, o) {
            return (
              v(i) && ((o = o || n), (n = i), (i = void 0)),
              A.ajax(
                A.extend(
                  { url: e, type: t, dataType: o, data: i, success: n },
                  A.isPlainObject(e) && e
                )
              )
            );
          };
        }),
        A.ajaxPrefilter(function (e) {
          var t;
          for (t in e.headers)
            "content-type" === t.toLowerCase() &&
              (e.contentType = e.headers[t] || "");
        }),
        (A._evalUrl = function (e, t, i) {
          return A.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            converters: { "text script": function () { } },
            dataFilter: function (e) {
              A.globalEval(e, t, i);
            },
          });
        }),
        A.fn.extend({
          wrapAll: function (e) {
            var t;
            return (
              this[0] &&
              (v(e) && (e = e.call(this[0])),
                (t = A(e, this[0].ownerDocument).eq(0).clone(!0)),
                this[0].parentNode && t.insertBefore(this[0]),
                t
                  .map(function () {
                    for (var e = this; e.firstElementChild;)
                      e = e.firstElementChild;
                    return e;
                  })
                  .append(this)),
              this
            );
          },
          wrapInner: function (e) {
            return v(e)
              ? this.each(function (t) {
                A(this).wrapInner(e.call(this, t));
              })
              : this.each(function () {
                var t = A(this),
                  i = t.contents();
                i.length ? i.wrapAll(e) : t.append(e);
              });
          },
          wrap: function (e) {
            var t = v(e);
            return this.each(function (i) {
              A(this).wrapAll(t ? e.call(this, i) : e);
            });
          },
          unwrap: function (e) {
            return (
              this.parent(e)
                .not("body")
                .each(function () {
                  A(this).replaceWith(this.childNodes);
                }),
              this
            );
          },
        }),
        (A.expr.pseudos.hidden = function (e) {
          return !A.expr.pseudos.visible(e);
        }),
        (A.expr.pseudos.visible = function (e) {
          return !!(
            e.offsetWidth ||
            e.offsetHeight ||
            e.getClientRects().length
          );
        }),
        (A.ajaxSettings.xhr = function () {
          try {
            return new i.XMLHttpRequest();
          } catch (e) { }
        });
      var Wt = { 0: 200, 1223: 204 },
        qt = A.ajaxSettings.xhr();
      (m.cors = !!qt && "withCredentials" in qt),
        (m.ajax = qt = !!qt),
        A.ajaxTransport(function (e) {
          var t, n;
          if (m.cors || (qt && !e.crossDomain))
            return {
              send: function (o, r) {
                var a,
                  s = e.xhr();
                if (
                  (s.open(e.type, e.url, e.async, e.username, e.password),
                    e.xhrFields)
                )
                  for (a in e.xhrFields) s[a] = e.xhrFields[a];
                for (a in (e.mimeType &&
                  s.overrideMimeType &&
                  s.overrideMimeType(e.mimeType),
                  e.crossDomain ||
                  o["X-Requested-With"] ||
                  (o["X-Requested-With"] = "XMLHttpRequest"),
                  o))
                  s.setRequestHeader(a, o[a]);
                (t = function (e) {
                  return function () {
                    t &&
                      ((t =
                        n =
                        s.onload =
                        s.onerror =
                        s.onabort =
                        s.ontimeout =
                        s.onreadystatechange =
                        null),
                        "abort" === e
                          ? s.abort()
                          : "error" === e
                            ? "number" != typeof s.status
                              ? r(0, "error")
                              : r(s.status, s.statusText)
                            : r(
                              Wt[s.status] || s.status,
                              s.statusText,
                              "text" !== (s.responseType || "text") ||
                                "string" != typeof s.responseText
                                ? { binary: s.response }
                                : { text: s.responseText },
                              s.getAllResponseHeaders()
                            ));
                  };
                }),
                  (s.onload = t()),
                  (n = s.onerror = s.ontimeout = t("error")),
                  void 0 !== s.onabort
                    ? (s.onabort = n)
                    : (s.onreadystatechange = function () {
                      4 === s.readyState &&
                        i.setTimeout(function () {
                          t && n();
                        });
                    }),
                  (t = t("abort"));
                try {
                  s.send((e.hasContent && e.data) || null);
                } catch (e) {
                  if (t) throw e;
                }
              },
              abort: function () {
                t && t();
              },
            };
        }),
        A.ajaxPrefilter(function (e) {
          e.crossDomain && (e.contents.script = !1);
        }),
        A.ajaxSetup({
          accepts: {
            script:
              "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
          },
          contents: { script: /\b(?:java|ecma)script\b/ },
          converters: {
            "text script": function (e) {
              return A.globalEval(e), e;
            },
          },
        }),
        A.ajaxPrefilter("script", function (e) {
          void 0 === e.cache && (e.cache = !1),
            e.crossDomain && (e.type = "GET");
        }),
        A.ajaxTransport("script", function (e) {
          var t, i;
          if (e.crossDomain || e.scriptAttrs)
            return {
              send: function (n, o) {
                (t = A("<script>")
                  .attr(e.scriptAttrs || {})
                  .prop({ charset: e.scriptCharset, src: e.url })
                  .on(
                    "load error",
                    (i = function (e) {
                      t.remove(),
                        (i = null),
                        e && o("error" === e.type ? 404 : 200, e.type);
                    })
                  )),
                  y.head.appendChild(t[0]);
              },
              abort: function () {
                i && i();
              },
            };
        });
      var Qt,
        Gt = [],
        Yt = /(=)\?(?=&|$)|\?\?/;
      A.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
          var e = Gt.pop() || A.expando + "_" + St.guid++;
          return (this[e] = !0), e;
        },
      }),
        A.ajaxPrefilter("json jsonp", function (e, t, n) {
          var o,
            r,
            a,
            s =
              !1 !== e.jsonp &&
              (Yt.test(e.url)
                ? "url"
                : "string" == typeof e.data &&
                0 ===
                (e.contentType || "").indexOf(
                  "application/x-www-form-urlencoded"
                ) &&
                Yt.test(e.data) &&
                "data");
          if (s || "jsonp" === e.dataTypes[0])
            return (
              (o = e.jsonpCallback =
                v(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback),
              s
                ? (e[s] = e[s].replace(Yt, "$1" + o))
                : !1 !== e.jsonp &&
                (e.url += (Tt.test(e.url) ? "&" : "?") + e.jsonp + "=" + o),
              (e.converters["script json"] = function () {
                return a || A.error(o + " was not called"), a[0];
              }),
              (e.dataTypes[0] = "json"),
              (r = i[o]),
              (i[o] = function () {
                a = arguments;
              }),
              n.always(function () {
                void 0 === r ? A(i).removeProp(o) : (i[o] = r),
                  e[o] && ((e.jsonpCallback = t.jsonpCallback), Gt.push(o)),
                  a && v(r) && r(a[0]),
                  (a = r = void 0);
              }),
              "script"
            );
        }),
        (m.createHTMLDocument =
          (((Qt = y.implementation.createHTMLDocument("").body).innerHTML =
            "<form></form><form></form>"),
            2 === Qt.childNodes.length)),
        (A.parseHTML = function (e, t, i) {
          return "string" != typeof e
            ? []
            : ("boolean" == typeof t && ((i = t), (t = !1)),
              t ||
              (m.createHTMLDocument
                ? (((n = (t =
                  y.implementation.createHTMLDocument("")).createElement(
                    "base"
                  )).href = y.location.href),
                  t.head.appendChild(n))
                : (t = y)),
              (r = !i && []),
              (o = D.exec(e))
                ? [t.createElement(o[1])]
                : ((o = _e([e], t, r)),
                  r && r.length && A(r).remove(),
                  A.merge([], o.childNodes)));
          var n, o, r;
        }),
        (A.fn.load = function (e, t, i) {
          var n,
            o,
            r,
            a = this,
            s = e.indexOf(" ");
          return (
            s > -1 && ((n = bt(e.slice(s))), (e = e.slice(0, s))),
            v(t)
              ? ((i = t), (t = void 0))
              : t && "object" == typeof t && (o = "POST"),
            a.length > 0 &&
            A.ajax({ url: e, type: o || "GET", dataType: "html", data: t })
              .done(function (e) {
                (r = arguments),
                  a.html(n ? A("<div>").append(A.parseHTML(e)).find(n) : e);
              })
              .always(
                i &&
                function (e, t) {
                  a.each(function () {
                    i.apply(this, r || [e.responseText, t, e]);
                  });
                }
              ),
            this
          );
        }),
        (A.expr.pseudos.animated = function (e) {
          return A.grep(A.timers, function (t) {
            return e === t.elem;
          }).length;
        }),
        (A.offset = {
          setOffset: function (e, t, i) {
            var n,
              o,
              r,
              a,
              s,
              l,
              c = A.css(e, "position"),
              u = A(e),
              d = {};
            "static" === c && (e.style.position = "relative"),
              (s = u.offset()),
              (r = A.css(e, "top")),
              (l = A.css(e, "left")),
              ("absolute" === c || "fixed" === c) &&
                (r + l).indexOf("auto") > -1
                ? ((a = (n = u.position()).top), (o = n.left))
                : ((a = parseFloat(r) || 0), (o = parseFloat(l) || 0)),
              v(t) && (t = t.call(e, i, A.extend({}, s))),
              null != t.top && (d.top = t.top - s.top + a),
              null != t.left && (d.left = t.left - s.left + o),
              "using" in t
                ? t.using.call(e, d)
                : ("number" == typeof d.top && (d.top += "px"),
                  "number" == typeof d.left && (d.left += "px"),
                  u.css(d));
          },
        }),
        A.fn.extend({
          offset: function (e) {
            if (arguments.length)
              return void 0 === e
                ? this
                : this.each(function (t) {
                  A.offset.setOffset(this, e, t);
                });
            var t,
              i,
              n = this[0];
            return n
              ? n.getClientRects().length
                ? ((t = n.getBoundingClientRect()),
                  (i = n.ownerDocument.defaultView),
                  { top: t.top + i.pageYOffset, left: t.left + i.pageXOffset })
                : { top: 0, left: 0 }
              : void 0;
          },
          position: function () {
            if (this[0]) {
              var e,
                t,
                i,
                n = this[0],
                o = { top: 0, left: 0 };
              if ("fixed" === A.css(n, "position"))
                t = n.getBoundingClientRect();
              else {
                for (
                  t = this.offset(),
                  i = n.ownerDocument,
                  e = n.offsetParent || i.documentElement;
                  e &&
                  (e === i.body || e === i.documentElement) &&
                  "static" === A.css(e, "position");

                )
                  e = e.parentNode;
                e &&
                  e !== n &&
                  1 === e.nodeType &&
                  (((o = A(e).offset()).top += A.css(e, "borderTopWidth", !0)),
                    (o.left += A.css(e, "borderLeftWidth", !0)));
              }
              return {
                top: t.top - o.top - A.css(n, "marginTop", !0),
                left: t.left - o.left - A.css(n, "marginLeft", !0),
              };
            }
          },
          offsetParent: function () {
            return this.map(function () {
              for (
                var e = this.offsetParent;
                e && "static" === A.css(e, "position");

              )
                e = e.offsetParent;
              return e || re;
            });
          },
        }),
        A.each(
          { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" },
          function (e, t) {
            var i = "pageYOffset" === t;
            A.fn[e] = function (n) {
              return U(
                this,
                function (e, n, o) {
                  var r;
                  if (
                    (b(e) ? (r = e) : 9 === e.nodeType && (r = e.defaultView),
                      void 0 === o)
                  )
                    return r ? r[t] : e[n];
                  r
                    ? r.scrollTo(i ? r.pageXOffset : o, i ? o : r.pageYOffset)
                    : (e[n] = o);
                },
                e,
                n,
                arguments.length
              );
            };
          }
        ),
        A.each(["top", "left"], function (e, t) {
          A.cssHooks[t] = qe(m.pixelPosition, function (e, i) {
            if (i)
              return (i = We(e, t)), Ve.test(i) ? A(e).position()[t] + "px" : i;
          });
        }),
        A.each({ Height: "height", Width: "width" }, function (e, t) {
          A.each(
            { padding: "inner" + e, content: t, "": "outer" + e },
            function (i, n) {
              A.fn[n] = function (o, r) {
                var a = arguments.length && (i || "boolean" != typeof o),
                  s = i || (!0 === o || !0 === r ? "margin" : "border");
                return U(
                  this,
                  function (t, i, o) {
                    var r;
                    return b(t)
                      ? 0 === n.indexOf("outer")
                        ? t["inner" + e]
                        : t.document.documentElement["client" + e]
                      : 9 === t.nodeType
                        ? ((r = t.documentElement),
                          Math.max(
                            t.body["scroll" + e],
                            r["scroll" + e],
                            t.body["offset" + e],
                            r["offset" + e],
                            r["client" + e]
                          ))
                        : void 0 === o
                          ? A.css(t, i, s)
                          : A.style(t, i, o, s);
                  },
                  t,
                  a ? o : void 0,
                  a
                );
              };
            }
          );
        }),
        A.each(
          [
            "ajaxStart",
            "ajaxStop",
            "ajaxComplete",
            "ajaxError",
            "ajaxSuccess",
            "ajaxSend",
          ],
          function (e, t) {
            A.fn[t] = function (e) {
              return this.on(t, e);
            };
          }
        ),
        A.fn.extend({
          bind: function (e, t, i) {
            return this.on(e, null, t, i);
          },
          unbind: function (e, t) {
            return this.off(e, null, t);
          },
          delegate: function (e, t, i, n) {
            return this.on(t, e, i, n);
          },
          undelegate: function (e, t, i) {
            return 1 === arguments.length
              ? this.off(e, "**")
              : this.off(t, e || "**", i);
          },
          hover: function (e, t) {
            return this.mouseenter(e).mouseleave(t || e);
          },
        }),
        A.each(
          "blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(
            " "
          ),
          function (e, t) {
            A.fn[t] = function (e, i) {
              return arguments.length > 0
                ? this.on(t, null, e, i)
                : this.trigger(t);
            };
          }
        );
      var Zt = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
      (A.proxy = function (e, t) {
        var i, n, o;
        if (("string" == typeof t && ((i = e[t]), (t = e), (e = i)), v(e)))
          return (
            (n = s.call(arguments, 2)),
            ((o = function () {
              return e.apply(t || this, n.concat(s.call(arguments)));
            }).guid = e.guid =
              e.guid || A.guid++),
            o
          );
      }),
        (A.holdReady = function (e) {
          e ? A.readyWait++ : A.ready(!0);
        }),
        (A.isArray = Array.isArray),
        (A.parseJSON = JSON.parse),
        (A.nodeName = L),
        (A.isFunction = v),
        (A.isWindow = b),
        (A.camelCase = G),
        (A.type = _),
        (A.now = Date.now),
        (A.isNumeric = function (e) {
          var t = A.type(e);
          return (
            ("number" === t || "string" === t) && !isNaN(e - parseFloat(e))
          );
        }),
        (A.trim = function (e) {
          return null == e ? "" : (e + "").replace(Zt, "");
        }),
        void 0 ===
        (n = function () {
          return A;
        }.apply(t, [])) || (e.exports = n);
      var Xt = i.jQuery,
        Kt = i.$;
      return (
        (A.noConflict = function (e) {
          return (
            i.$ === A && (i.$ = Kt), e && i.jQuery === A && (i.jQuery = Xt), A
          );
        }),
        void 0 === o && (i.jQuery = i.$ = A),
        A
      );
    });
  },
  function (e, t, i) {
    var n, o, r;
    (o = [i(0)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.ui = e.ui || {}), (e.ui.version = "1.12.1");
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    "use strict";
    e.exports = function (e) {
      var t = [];
      return (
        (t.toString = function () {
          return this.map(function (t) {
            var i = (function (e, t) {
              var i = e[1] || "",
                n = e[3];
              if (!n) return i;
              if (t && "function" == typeof btoa) {
                var o =
                  ((a = n),
                    "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," +
                    btoa(unescape(encodeURIComponent(JSON.stringify(a)))) +
                    " */"),
                  r = n.sources.map(function (e) {
                    return "/*# sourceURL=" + n.sourceRoot + e + " */";
                  });
                return [i].concat(r).concat([o]).join("\n");
              }
              var a;
              return [i].join("\n");
            })(t, e);
            return t[2] ? "@media " + t[2] + "{" + i + "}" : i;
          }).join("");
        }),
        (t.i = function (e, i) {
          "string" == typeof e && (e = [[null, e, ""]]);
          for (var n = {}, o = 0; o < this.length; o++) {
            var r = this[o][0];
            null != r && (n[r] = !0);
          }
          for (o = 0; o < e.length; o++) {
            var a = e[o];
            (null != a[0] && n[a[0]]) ||
              (i && !a[2]
                ? (a[2] = i)
                : i && (a[2] = "(" + a[2] + ") and (" + i + ")"),
                t.push(a));
          }
        }),
        t
      );
    };
  },
  function (e, t, i) {
    var n,
      o,
      r = {},
      a =
        ((n = function () {
          return window && document && document.all && !window.atob;
        }),
          function () {
            return void 0 === o && (o = n.apply(this, arguments)), o;
          }),
      s = function (e, t) {
        return t ? t.querySelector(e) : document.querySelector(e);
      },
      l = (function (e) {
        var t = {};
        return function (e, i) {
          if ("function" == typeof e) return e();
          if (void 0 === t[e]) {
            var n = s.call(this, e, i);
            if (
              window.HTMLIFrameElement &&
              n instanceof window.HTMLIFrameElement
            )
              try {
                n = n.contentDocument.head;
              } catch (e) {
                n = null;
              }
            t[e] = n;
          }
          return t[e];
        };
      })(),
      c = null,
      u = 0,
      d = [],
      p = i(53);
    function h(e, t) {
      for (var i = 0; i < e.length; i++) {
        var n = e[i],
          o = r[n.id];
        if (o) {
          o.refs++;
          for (var a = 0; a < o.parts.length; a++) o.parts[a](n.parts[a]);
          for (; a < n.parts.length; a++) o.parts.push(y(n.parts[a], t));
        } else {
          var s = [];
          for (a = 0; a < n.parts.length; a++) s.push(y(n.parts[a], t));
          r[n.id] = { id: n.id, refs: 1, parts: s };
        }
      }
    }
    function f(e, t) {
      for (var i = [], n = {}, o = 0; o < e.length; o++) {
        var r = e[o],
          a = t.base ? r[0] + t.base : r[0],
          s = { css: r[1], media: r[2], sourceMap: r[3] };
        n[a] ? n[a].parts.push(s) : i.push((n[a] = { id: a, parts: [s] }));
      }
      return i;
    }
    function g(e, t) {
      var i = l(e.insertInto);
      if (!i)
        throw new Error(
          "Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid."
        );
      var n = d[d.length - 1];
      if ("top" === e.insertAt)
        n
          ? n.nextSibling
            ? i.insertBefore(t, n.nextSibling)
            : i.appendChild(t)
          : i.insertBefore(t, i.firstChild),
          d.push(t);
      else if ("bottom" === e.insertAt) i.appendChild(t);
      else {
        if ("object" != typeof e.insertAt || !e.insertAt.before)
          throw new Error(
            "[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n"
          );
        var o = l(e.insertAt.before, i);
        i.insertBefore(t, o);
      }
    }
    function m(e) {
      if (null === e.parentNode) return !1;
      e.parentNode.removeChild(e);
      var t = d.indexOf(e);
      t >= 0 && d.splice(t, 1);
    }
    function v(e) {
      var t = document.createElement("style");
      if (
        (void 0 === e.attrs.type && (e.attrs.type = "text/css"),
          void 0 === e.attrs.nonce)
      ) {
        var n = (function () {
          0;
          return i.nc;
        })();
        n && (e.attrs.nonce = n);
      }
      return b(t, e.attrs), g(e, t), t;
    }
    function b(e, t) {
      Object.keys(t).forEach(function (i) {
        e.setAttribute(i, t[i]);
      });
    }
    function y(e, t) {
      var i, n, o, r;
      if (t.transform && e.css) {
        if (
          !(r =
            "function" == typeof t.transform
              ? t.transform(e.css)
              : t.transform.default(e.css))
        )
          return function () { };
        e.css = r;
      }
      if (t.singleton) {
        var a = u++;
        (i = c || (c = v(t))),
          (n = _.bind(null, i, a, !1)),
          (o = _.bind(null, i, a, !0));
      } else
        e.sourceMap &&
          "function" == typeof URL &&
          "function" == typeof URL.createObjectURL &&
          "function" == typeof URL.revokeObjectURL &&
          "function" == typeof Blob &&
          "function" == typeof btoa
          ? ((i = (function (e) {
            var t = document.createElement("link");
            return (
              void 0 === e.attrs.type && (e.attrs.type = "text/css"),
              (e.attrs.rel = "stylesheet"),
              b(t, e.attrs),
              g(e, t),
              t
            );
          })(t)),
            (n = E.bind(null, i, t)),
            (o = function () {
              m(i), i.href && URL.revokeObjectURL(i.href);
            }))
          : ((i = v(t)),
            (n = A.bind(null, i)),
            (o = function () {
              m(i);
            }));
      return (
        n(e),
        function (t) {
          if (t) {
            if (
              t.css === e.css &&
              t.media === e.media &&
              t.sourceMap === e.sourceMap
            )
              return;
            n((e = t));
          } else o();
        }
      );
    }
    e.exports = function (e, t) {
      if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
        throw new Error(
          "The style-loader cannot be used in a non-browser environment"
        );
      ((t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {}),
        t.singleton || "boolean" == typeof t.singleton || (t.singleton = a()),
        t.insertInto || (t.insertInto = "head"),
        t.insertAt || (t.insertAt = "bottom");
      var i = f(e, t);
      return (
        h(i, t),
        function (e) {
          for (var n = [], o = 0; o < i.length; o++) {
            var a = i[o];
            (s = r[a.id]).refs--, n.push(s);
          }
          e && h(f(e, t), t);
          for (o = 0; o < n.length; o++) {
            var s;
            if (0 === (s = n[o]).refs) {
              for (var l = 0; l < s.parts.length; l++) s.parts[l]();
              delete r[s.id];
            }
          }
        }
      );
    };
    var x,
      w =
        ((x = []),
          function (e, t) {
            return (x[e] = t), x.filter(Boolean).join("\n");
          });
    function _(e, t, i, n) {
      var o = i ? "" : n.css;
      if (e.styleSheet) e.styleSheet.cssText = w(t, o);
      else {
        var r = document.createTextNode(o),
          a = e.childNodes;
        a[t] && e.removeChild(a[t]),
          a.length ? e.insertBefore(r, a[t]) : e.appendChild(r);
      }
    }
    function A(e, t) {
      var i = t.css,
        n = t.media;
      if ((n && e.setAttribute("media", n), e.styleSheet))
        e.styleSheet.cssText = i;
      else {
        for (; e.firstChild;) e.removeChild(e.firstChild);
        e.appendChild(document.createTextNode(i));
      }
    }
    function E(e, t, i) {
      var n = i.css,
        o = i.sourceMap,
        r = void 0 === t.convertToAbsoluteUrls && o;
      (t.convertToAbsoluteUrls || r) && (n = p(n)),
        o &&
        (n +=
          "\n/*# sourceMappingURL=data:application/json;base64," +
          btoa(unescape(encodeURIComponent(JSON.stringify(o)))) +
          " */");
      var a = new Blob([n], { type: "text/css" }),
        s = e.href;
      (e.href = URL.createObjectURL(a)), s && URL.revokeObjectURL(s);
    }
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Widget 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            var t,
              i = 0,
              n = Array.prototype.slice;
            return (
              (e.cleanData =
                ((t = e.cleanData),
                  function (i) {
                    var n, o, r;
                    for (r = 0; null != (o = i[r]); r++)
                      try {
                        (n = e._data(o, "events")) &&
                          n.remove &&
                          e(o).triggerHandler("remove");
                      } catch (e) { }
                    t(i);
                  })),
              (e.widget = function (t, i, n) {
                var o,
                  r,
                  a,
                  s = {},
                  l = t.split(".")[0],
                  c = l + "-" + (t = t.split(".")[1]);
                return (
                  n || ((n = i), (i = e.Widget)),
                  e.isArray(n) && (n = e.extend.apply(null, [{}].concat(n))),
                  (e.expr[":"][c.toLowerCase()] = function (t) {
                    return !!e.data(t, c);
                  }),
                  (e[l] = e[l] || {}),
                  (o = e[l][t]),
                  (r = e[l][t] =
                    function (e, t) {
                      if (!this._createWidget) return new r(e, t);
                      arguments.length && this._createWidget(e, t);
                    }),
                  e.extend(r, o, {
                    version: n.version,
                    _proto: e.extend({}, n),
                    _childConstructors: [],
                  }),
                  ((a = new i()).options = e.widget.extend({}, a.options)),
                  e.each(n, function (t, n) {
                    e.isFunction(n)
                      ? (s[t] = (function () {
                        function e() {
                          return i.prototype[t].apply(this, arguments);
                        }
                        function o(e) {
                          return i.prototype[t].apply(this, e);
                        }
                        return function () {
                          var t,
                            i = this._super,
                            r = this._superApply;
                          return (
                            (this._super = e),
                            (this._superApply = o),
                            (t = n.apply(this, arguments)),
                            (this._super = i),
                            (this._superApply = r),
                            t
                          );
                        };
                      })())
                      : (s[t] = n);
                  }),
                  (r.prototype = e.widget.extend(
                    a,
                    { widgetEventPrefix: (o && a.widgetEventPrefix) || t },
                    s,
                    {
                      constructor: r,
                      namespace: l,
                      widgetName: t,
                      widgetFullName: c,
                    }
                  )),
                  o
                    ? (e.each(o._childConstructors, function (t, i) {
                      var n = i.prototype;
                      e.widget(n.namespace + "." + n.widgetName, r, i._proto);
                    }),
                      delete o._childConstructors)
                    : i._childConstructors.push(r),
                  e.widget.bridge(t, r),
                  r
                );
              }),
              (e.widget.extend = function (t) {
                for (
                  var i, o, r = n.call(arguments, 1), a = 0, s = r.length;
                  a < s;
                  a++
                )
                  for (i in r[a])
                    (o = r[a][i]),
                      r[a].hasOwnProperty(i) &&
                      void 0 !== o &&
                      (e.isPlainObject(o)
                        ? (t[i] = e.isPlainObject(t[i])
                          ? e.widget.extend({}, t[i], o)
                          : e.widget.extend({}, o))
                        : (t[i] = o));
                return t;
              }),
              (e.widget.bridge = function (t, i) {
                var o = i.prototype.widgetFullName || t;
                e.fn[t] = function (r) {
                  var a = "string" == typeof r,
                    s = n.call(arguments, 1),
                    l = this;
                  return (
                    a
                      ? this.length || "instance" !== r
                        ? this.each(function () {
                          var i,
                            n = e.data(this, o);
                          return "instance" === r
                            ? ((l = n), !1)
                            : n
                              ? e.isFunction(n[r]) && "_" !== r.charAt(0)
                                ? (i = n[r].apply(n, s)) !== n && void 0 !== i
                                  ? ((l =
                                    i && i.jquery ? l.pushStack(i.get()) : i),
                                    !1)
                                  : void 0
                                : e.error(
                                  "no such method '" +
                                  r +
                                  "' for " +
                                  t +
                                  " widget instance"
                                )
                              : e.error(
                                "cannot call methods on " +
                                t +
                                " prior to initialization; attempted to call method '" +
                                r +
                                "'"
                              );
                        })
                        : (l = void 0)
                      : (s.length &&
                        (r = e.widget.extend.apply(null, [r].concat(s))),
                        this.each(function () {
                          var t = e.data(this, o);
                          t
                            ? (t.option(r || {}), t._init && t._init())
                            : e.data(this, o, new i(r, this));
                        })),
                    l
                  );
                };
              }),
              (e.Widget = function () { }),
              (e.Widget._childConstructors = []),
              (e.Widget.prototype = {
                widgetName: "widget",
                widgetEventPrefix: "",
                defaultElement: "<div>",
                options: { classes: {}, disabled: !1, create: null },
                _createWidget: function (t, n) {
                  (n = e(n || this.defaultElement || this)[0]),
                    (this.element = e(n)),
                    (this.uuid = i++),
                    (this.eventNamespace = "." + this.widgetName + this.uuid),
                    (this.bindings = e()),
                    (this.hoverable = e()),
                    (this.focusable = e()),
                    (this.classesElementLookup = {}),
                    n !== this &&
                    (e.data(n, this.widgetFullName, this),
                      this._on(!0, this.element, {
                        remove: function (e) {
                          e.target === n && this.destroy();
                        },
                      }),
                      (this.document = e(
                        n.style ? n.ownerDocument : n.document || n
                      )),
                      (this.window = e(
                        this.document[0].defaultView ||
                        this.document[0].parentWindow
                      ))),
                    (this.options = e.widget.extend(
                      {},
                      this.options,
                      this._getCreateOptions(),
                      t
                    )),
                    this._create(),
                    this.options.disabled &&
                    this._setOptionDisabled(this.options.disabled),
                    this._trigger("create", null, this._getCreateEventData()),
                    this._init();
                },
                _getCreateOptions: function () {
                  return {};
                },
                _getCreateEventData: e.noop,
                _create: e.noop,
                _init: e.noop,
                destroy: function () {
                  var t = this;
                  this._destroy(),
                    e.each(this.classesElementLookup, function (e, i) {
                      t._removeClass(i, e);
                    }),
                    this.element
                      .off(this.eventNamespace)
                      .removeData(this.widgetFullName),
                    this.widget()
                      .off(this.eventNamespace)
                      .removeAttr("aria-disabled"),
                    this.bindings.off(this.eventNamespace);
                },
                _destroy: e.noop,
                widget: function () {
                  return this.element;
                },
                option: function (t, i) {
                  var n,
                    o,
                    r,
                    a = t;
                  if (0 === arguments.length)
                    return e.widget.extend({}, this.options);
                  if ("string" == typeof t)
                    if (
                      ((a = {}), (n = t.split(".")), (t = n.shift()), n.length)
                    ) {
                      for (
                        o = a[t] = e.widget.extend({}, this.options[t]), r = 0;
                        r < n.length - 1;
                        r++
                      )
                        (o[n[r]] = o[n[r]] || {}), (o = o[n[r]]);
                      if (((t = n.pop()), 1 === arguments.length))
                        return void 0 === o[t] ? null : o[t];
                      o[t] = i;
                    } else {
                      if (1 === arguments.length)
                        return void 0 === this.options[t]
                          ? null
                          : this.options[t];
                      a[t] = i;
                    }
                  return this._setOptions(a), this;
                },
                _setOptions: function (e) {
                  var t;
                  for (t in e) this._setOption(t, e[t]);
                  return this;
                },
                _setOption: function (e, t) {
                  return (
                    "classes" === e && this._setOptionClasses(t),
                    (this.options[e] = t),
                    "disabled" === e && this._setOptionDisabled(t),
                    this
                  );
                },
                _setOptionClasses: function (t) {
                  var i, n, o;
                  for (i in t)
                    (o = this.classesElementLookup[i]),
                      t[i] !== this.options.classes[i] &&
                      o &&
                      o.length &&
                      ((n = e(o.get())),
                        this._removeClass(o, i),
                        n.addClass(
                          this._classes({
                            element: n,
                            keys: i,
                            classes: t,
                            add: !0,
                          })
                        ));
                },
                _setOptionDisabled: function (e) {
                  this._toggleClass(
                    this.widget(),
                    this.widgetFullName + "-disabled",
                    null,
                    !!e
                  ),
                    e &&
                    (this._removeClass(
                      this.hoverable,
                      null,
                      "ui-state-hover"
                    ),
                      this._removeClass(
                        this.focusable,
                        null,
                        "ui-state-focus"
                      ));
                },
                enable: function () {
                  return this._setOptions({ disabled: !1 });
                },
                disable: function () {
                  return this._setOptions({ disabled: !0 });
                },
                _classes: function (t) {
                  var i = [],
                    n = this;
                  function o(o, r) {
                    var a, s;
                    for (s = 0; s < o.length; s++)
                      (a = n.classesElementLookup[o[s]] || e()),
                        (a = t.add
                          ? e(e.unique(a.get().concat(t.element.get())))
                          : e(a.not(t.element).get())),
                        (n.classesElementLookup[o[s]] = a),
                        i.push(o[s]),
                        r && t.classes[o[s]] && i.push(t.classes[o[s]]);
                  }
                  return (
                    (t = e.extend(
                      {
                        element: this.element,
                        classes: this.options.classes || {},
                      },
                      t
                    )),
                    this._on(t.element, { remove: "_untrackClassesElement" }),
                    t.keys && o(t.keys.match(/\S+/g) || [], !0),
                    t.extra && o(t.extra.match(/\S+/g) || []),
                    i.join(" ")
                  );
                },
                _untrackClassesElement: function (t) {
                  var i = this;
                  e.each(i.classesElementLookup, function (n, o) {
                    -1 !== e.inArray(t.target, o) &&
                      (i.classesElementLookup[n] = e(o.not(t.target).get()));
                  });
                },
                _removeClass: function (e, t, i) {
                  return this._toggleClass(e, t, i, !1);
                },
                _addClass: function (e, t, i) {
                  return this._toggleClass(e, t, i, !0);
                },
                _toggleClass: function (e, t, i, n) {
                  n = "boolean" == typeof n ? n : i;
                  var o = "string" == typeof e || null === e,
                    r = {
                      extra: o ? t : i,
                      keys: o ? e : t,
                      element: o ? this.element : e,
                      add: n,
                    };
                  return r.element.toggleClass(this._classes(r), n), this;
                },
                _on: function (t, i, n) {
                  var o,
                    r = this;
                  "boolean" != typeof t && ((n = i), (i = t), (t = !1)),
                    n
                      ? ((i = o = e(i)), (this.bindings = this.bindings.add(i)))
                      : ((n = i), (i = this.element), (o = this.widget())),
                    e.each(n, function (n, a) {
                      function s() {
                        if (
                          t ||
                          (!0 !== r.options.disabled &&
                            !e(this).hasClass("ui-state-disabled"))
                        )
                          return ("string" == typeof a ? r[a] : a).apply(
                            r,
                            arguments
                          );
                      }
                      "string" != typeof a &&
                        (s.guid = a.guid = a.guid || s.guid || e.guid++);
                      var l = n.match(/^([\w:-]*)\s*(.*)$/),
                        c = l[1] + r.eventNamespace,
                        u = l[2];
                      u ? o.on(c, u, s) : i.on(c, s);
                    });
                },
                _off: function (t, i) {
                  (i =
                    (i || "").split(" ").join(this.eventNamespace + " ") +
                    this.eventNamespace),
                    t.off(i).off(i),
                    (this.bindings = e(this.bindings.not(t).get())),
                    (this.focusable = e(this.focusable.not(t).get())),
                    (this.hoverable = e(this.hoverable.not(t).get()));
                },
                _delay: function (e, t) {
                  var i = this;
                  return setTimeout(function () {
                    return ("string" == typeof e ? i[e] : e).apply(
                      i,
                      arguments
                    );
                  }, t || 0);
                },
                _hoverable: function (t) {
                  (this.hoverable = this.hoverable.add(t)),
                    this._on(t, {
                      mouseenter: function (t) {
                        this._addClass(
                          e(t.currentTarget),
                          null,
                          "ui-state-hover"
                        );
                      },
                      mouseleave: function (t) {
                        this._removeClass(
                          e(t.currentTarget),
                          null,
                          "ui-state-hover"
                        );
                      },
                    });
                },
                _focusable: function (t) {
                  (this.focusable = this.focusable.add(t)),
                    this._on(t, {
                      focusin: function (t) {
                        this._addClass(
                          e(t.currentTarget),
                          null,
                          "ui-state-focus"
                        );
                      },
                      focusout: function (t) {
                        this._removeClass(
                          e(t.currentTarget),
                          null,
                          "ui-state-focus"
                        );
                      },
                    });
                },
                _trigger: function (t, i, n) {
                  var o,
                    r,
                    a = this.options[t];
                  if (
                    ((n = n || {}),
                      ((i = e.Event(i)).type = (
                        t === this.widgetEventPrefix
                          ? t
                          : this.widgetEventPrefix + t
                      ).toLowerCase()),
                      (i.target = this.element[0]),
                      (r = i.originalEvent))
                  )
                    for (o in r) o in i || (i[o] = r[o]);
                  return (
                    this.element.trigger(i, n),
                    !(
                      (e.isFunction(a) &&
                        !1 === a.apply(this.element[0], [i].concat(n))) ||
                      i.isDefaultPrevented()
                    )
                  );
                },
              }),
              e.each({ show: "fadeIn", hide: "fadeOut" }, function (t, i) {
                e.Widget.prototype["_" + t] = function (n, o, r) {
                  var a;
                  "string" == typeof o && (o = { effect: o });
                  var s = o
                    ? !0 === o || "number" == typeof o
                      ? i
                      : o.effect || i
                    : t;
                  "number" == typeof (o = o || {}) && (o = { duration: o }),
                    (a = !e.isEmptyObject(o)),
                    (o.complete = r),
                    o.delay && n.delay(o.delay),
                    a && e.effects && e.effects.effect[s]
                      ? n[t](o)
                      : s !== t && n[s]
                        ? n[s](o.duration, o.easing, r)
                        : n.queue(function (i) {
                          e(this)[t](), r && r.call(n[0]), i();
                        });
                };
              }),
              e.widget
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            var t,
              i = e;
            return (
              (e.effects = { effect: {} }),
              /*!
               * jQuery Color Animations v2.1.2
               * https://github.com/jquery/jquery-color
               *
               * Copyright 2014 jQuery Foundation and other contributors
               * Released under the MIT license.
               * http://jquery.org/license
               *
               * Date: Wed Jan 16 08:47:09 2013 -0600
               */
              (function (e, t) {
                var i,
                  n = /^([\-+])=\s*(\d+\.?\d*)/,
                  o = [
                    {
                      re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                      parse: function (e) {
                        return [e[1], e[2], e[3], e[4]];
                      },
                    },
                    {
                      re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                      parse: function (e) {
                        return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]];
                      },
                    },
                    {
                      re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                      parse: function (e) {
                        return [
                          parseInt(e[1], 16),
                          parseInt(e[2], 16),
                          parseInt(e[3], 16),
                        ];
                      },
                    },
                    {
                      re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                      parse: function (e) {
                        return [
                          parseInt(e[1] + e[1], 16),
                          parseInt(e[2] + e[2], 16),
                          parseInt(e[3] + e[3], 16),
                        ];
                      },
                    },
                    {
                      re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                      space: "hsla",
                      parse: function (e) {
                        return [e[1], e[2] / 100, e[3] / 100, e[4]];
                      },
                    },
                  ],
                  r = (e.Color = function (t, i, n, o) {
                    return new e.Color.fn.parse(t, i, n, o);
                  }),
                  a = {
                    rgba: {
                      props: {
                        red: { idx: 0, type: "byte" },
                        green: { idx: 1, type: "byte" },
                        blue: { idx: 2, type: "byte" },
                      },
                    },
                    hsla: {
                      props: {
                        hue: { idx: 0, type: "degrees" },
                        saturation: { idx: 1, type: "percent" },
                        lightness: { idx: 2, type: "percent" },
                      },
                    },
                  },
                  s = {
                    byte: { floor: !0, max: 255 },
                    percent: { max: 1 },
                    degrees: { mod: 360, floor: !0 },
                  },
                  l = (r.support = {}),
                  c = e("<p>")[0],
                  u = e.each;
                function d(e, t, i) {
                  var n = s[t.type] || {};
                  return null == e
                    ? i || !t.def
                      ? null
                      : t.def
                    : ((e = n.floor ? ~~e : parseFloat(e)),
                      isNaN(e)
                        ? t.def
                        : n.mod
                          ? (e + n.mod) % n.mod
                          : 0 > e
                            ? 0
                            : n.max < e
                              ? n.max
                              : e);
                }
                function p(t) {
                  var n = r(),
                    s = (n._rgba = []);
                  return (
                    (t = t.toLowerCase()),
                    u(o, function (e, i) {
                      var o,
                        r = i.re.exec(t),
                        l = r && i.parse(r),
                        c = i.space || "rgba";
                      if (l)
                        return (
                          (o = n[c](l)),
                          (n[a[c].cache] = o[a[c].cache]),
                          (s = n._rgba = o._rgba),
                          !1
                        );
                    }),
                    s.length
                      ? ("0,0,0,0" === s.join() && e.extend(s, i.transparent),
                        n)
                      : i[t]
                  );
                }
                function h(e, t, i) {
                  return 6 * (i = (i + 1) % 1) < 1
                    ? e + (t - e) * i * 6
                    : 2 * i < 1
                      ? t
                      : 3 * i < 2
                        ? e + (t - e) * (2 / 3 - i) * 6
                        : e;
                }
                (c.style.cssText = "background-color:rgba(1,1,1,.5)"),
                  (l.rgba = c.style.backgroundColor.indexOf("rgba") > -1),
                  u(a, function (e, t) {
                    (t.cache = "_" + e),
                      (t.props.alpha = { idx: 3, type: "percent", def: 1 });
                  }),
                  (r.fn = e.extend(r.prototype, {
                    parse: function (t, n, o, s) {
                      if (void 0 === t)
                        return (this._rgba = [null, null, null, null]), this;
                      (t.jquery || t.nodeType) &&
                        ((t = e(t).css(n)), (n = void 0));
                      var l = this,
                        c = e.type(t),
                        h = (this._rgba = []);
                      return (
                        void 0 !== n && ((t = [t, n, o, s]), (c = "array")),
                        "string" === c
                          ? this.parse(p(t) || i._default)
                          : "array" === c
                            ? (u(a.rgba.props, function (e, i) {
                              h[i.idx] = d(t[i.idx], i);
                            }),
                              this)
                            : "object" === c
                              ? (u(
                                a,
                                t instanceof r
                                  ? function (e, i) {
                                    t[i.cache] &&
                                      (l[i.cache] = t[i.cache].slice());
                                  }
                                  : function (i, n) {
                                    var o = n.cache;
                                    u(n.props, function (e, i) {
                                      if (!l[o] && n.to) {
                                        if ("alpha" === e || null == t[e])
                                          return;
                                        l[o] = n.to(l._rgba);
                                      }
                                      l[o][i.idx] = d(t[e], i, !0);
                                    }),
                                      l[o] &&
                                      e.inArray(null, l[o].slice(0, 3)) < 0 &&
                                      ((l[o][3] = 1),
                                        n.from && (l._rgba = n.from(l[o])));
                                  }
                              ),
                                this)
                              : void 0
                      );
                    },
                    is: function (e) {
                      var t = r(e),
                        i = !0,
                        n = this;
                      return (
                        u(a, function (e, o) {
                          var r,
                            a = t[o.cache];
                          return (
                            a &&
                            ((r =
                              n[o.cache] || (o.to && o.to(n._rgba)) || []),
                              u(o.props, function (e, t) {
                                if (null != a[t.idx])
                                  return (i = a[t.idx] === r[t.idx]);
                              })),
                            i
                          );
                        }),
                        i
                      );
                    },
                    _space: function () {
                      var e = [],
                        t = this;
                      return (
                        u(a, function (i, n) {
                          t[n.cache] && e.push(i);
                        }),
                        e.pop()
                      );
                    },
                    transition: function (e, t) {
                      var i = r(e),
                        n = i._space(),
                        o = a[n],
                        l = 0 === this.alpha() ? r("transparent") : this,
                        c = l[o.cache] || o.to(l._rgba),
                        p = c.slice();
                      return (
                        (i = i[o.cache]),
                        u(o.props, function (e, n) {
                          var o = n.idx,
                            r = c[o],
                            a = i[o],
                            l = s[n.type] || {};
                          null !== a &&
                            (null === r
                              ? (p[o] = a)
                              : (l.mod &&
                                (a - r > l.mod / 2
                                  ? (r += l.mod)
                                  : r - a > l.mod / 2 && (r -= l.mod)),
                                (p[o] = d((a - r) * t + r, n))));
                        }),
                        this[n](p)
                      );
                    },
                    blend: function (t) {
                      if (1 === this._rgba[3]) return this;
                      var i = this._rgba.slice(),
                        n = i.pop(),
                        o = r(t)._rgba;
                      return r(
                        e.map(i, function (e, t) {
                          return (1 - n) * o[t] + n * e;
                        })
                      );
                    },
                    toRgbaString: function () {
                      var t = "rgba(",
                        i = e.map(this._rgba, function (e, t) {
                          return null == e ? (t > 2 ? 1 : 0) : e;
                        });
                      return (
                        1 === i[3] && (i.pop(), (t = "rgb(")),
                        t + i.join() + ")"
                      );
                    },
                    toHslaString: function () {
                      var t = "hsla(",
                        i = e.map(this.hsla(), function (e, t) {
                          return (
                            null == e && (e = t > 2 ? 1 : 0),
                            t && t < 3 && (e = Math.round(100 * e) + "%"),
                            e
                          );
                        });
                      return (
                        1 === i[3] && (i.pop(), (t = "hsl(")),
                        t + i.join() + ")"
                      );
                    },
                    toHexString: function (t) {
                      var i = this._rgba.slice(),
                        n = i.pop();
                      return (
                        t && i.push(~~(255 * n)),
                        "#" +
                        e
                          .map(i, function (e) {
                            return 1 === (e = (e || 0).toString(16)).length
                              ? "0" + e
                              : e;
                          })
                          .join("")
                      );
                    },
                    toString: function () {
                      return 0 === this._rgba[3]
                        ? "transparent"
                        : this.toRgbaString();
                    },
                  })),
                  (r.fn.parse.prototype = r.fn),
                  (a.hsla.to = function (e) {
                    if (null == e[0] || null == e[1] || null == e[2])
                      return [null, null, null, e[3]];
                    var t,
                      i,
                      n = e[0] / 255,
                      o = e[1] / 255,
                      r = e[2] / 255,
                      a = e[3],
                      s = Math.max(n, o, r),
                      l = Math.min(n, o, r),
                      c = s - l,
                      u = s + l,
                      d = 0.5 * u;
                    return (
                      (t =
                        l === s
                          ? 0
                          : n === s
                            ? (60 * (o - r)) / c + 360
                            : o === s
                              ? (60 * (r - n)) / c + 120
                              : (60 * (n - o)) / c + 240),
                      (i = 0 === c ? 0 : d <= 0.5 ? c / u : c / (2 - u)),
                      [Math.round(t) % 360, i, d, null == a ? 1 : a]
                    );
                  }),
                  (a.hsla.from = function (e) {
                    if (null == e[0] || null == e[1] || null == e[2])
                      return [null, null, null, e[3]];
                    var t = e[0] / 360,
                      i = e[1],
                      n = e[2],
                      o = e[3],
                      r = n <= 0.5 ? n * (1 + i) : n + i - n * i,
                      a = 2 * n - r;
                    return [
                      Math.round(255 * h(a, r, t + 1 / 3)),
                      Math.round(255 * h(a, r, t)),
                      Math.round(255 * h(a, r, t - 1 / 3)),
                      o,
                    ];
                  }),
                  u(a, function (t, i) {
                    var o = i.props,
                      a = i.cache,
                      s = i.to,
                      l = i.from;
                    (r.fn[t] = function (t) {
                      if (
                        (s && !this[a] && (this[a] = s(this._rgba)),
                          void 0 === t)
                      )
                        return this[a].slice();
                      var i,
                        n = e.type(t),
                        c = "array" === n || "object" === n ? t : arguments,
                        p = this[a].slice();
                      return (
                        u(o, function (e, t) {
                          var i = c["object" === n ? e : t.idx];
                          null == i && (i = p[t.idx]), (p[t.idx] = d(i, t));
                        }),
                        l ? (((i = r(l(p)))[a] = p), i) : r(p)
                      );
                    }),
                      u(o, function (i, o) {
                        r.fn[i] ||
                          (r.fn[i] = function (r) {
                            var a,
                              s = e.type(r),
                              l =
                                "alpha" === i
                                  ? this._hsla
                                    ? "hsla"
                                    : "rgba"
                                  : t,
                              c = this[l](),
                              u = c[o.idx];
                            return "undefined" === s
                              ? u
                              : ("function" === s &&
                                ((r = r.call(this, u)), (s = e.type(r))),
                                null == r && o.empty
                                  ? this
                                  : ("string" === s &&
                                    (a = n.exec(r)) &&
                                    (r =
                                      u +
                                      parseFloat(a[2]) *
                                      ("+" === a[1] ? 1 : -1)),
                                    (c[o.idx] = r),
                                    this[l](c)));
                          });
                      });
                  }),
                  (r.hook = function (t) {
                    var i = t.split(" ");
                    u(i, function (t, i) {
                      (e.cssHooks[i] = {
                        set: function (t, n) {
                          var o,
                            a,
                            s = "";
                          if (
                            "transparent" !== n &&
                            ("string" !== e.type(n) || (o = p(n)))
                          ) {
                            if (
                              ((n = r(o || n)), !l.rgba && 1 !== n._rgba[3])
                            ) {
                              for (
                                a = "backgroundColor" === i ? t.parentNode : t;
                                ("" === s || "transparent" === s) &&
                                a &&
                                a.style;

                              )
                                try {
                                  (s = e.css(a, "backgroundColor")),
                                    (a = a.parentNode);
                                } catch (e) { }
                              n = n.blend(
                                s && "transparent" !== s ? s : "_default"
                              );
                            }
                            n = n.toRgbaString();
                          }
                          try {
                            t.style[i] = n;
                          } catch (e) { }
                        },
                      }),
                        (e.fx.step[i] = function (t) {
                          t.colorInit ||
                            ((t.start = r(t.elem, i)),
                              (t.end = r(t.end)),
                              (t.colorInit = !0)),
                            e.cssHooks[i].set(
                              t.elem,
                              t.start.transition(t.end, t.pos)
                            );
                        });
                    });
                  }),
                  r.hook(
                    "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"
                  ),
                  (e.cssHooks.borderColor = {
                    expand: function (e) {
                      var t = {};
                      return (
                        u(["Top", "Right", "Bottom", "Left"], function (i, n) {
                          t["border" + n + "Color"] = e;
                        }),
                        t
                      );
                    },
                  }),
                  (i = e.Color.names =
                  {
                    aqua: "#00ffff",
                    black: "#000000",
                    blue: "#0000ff",
                    fuchsia: "#ff00ff",
                    gray: "#808080",
                    green: "#008000",
                    lime: "#00ff00",
                    maroon: "#800000",
                    navy: "#000080",
                    olive: "#808000",
                    purple: "#800080",
                    red: "#ff0000",
                    silver: "#c0c0c0",
                    teal: "#008080",
                    white: "#ffffff",
                    yellow: "#ffff00",
                    transparent: [null, null, null, 0],
                    _default: "#ffffff",
                  });
              })(i),
              (function () {
                var t,
                  n = ["add", "remove", "toggle"],
                  o = {
                    border: 1,
                    borderBottom: 1,
                    borderColor: 1,
                    borderLeft: 1,
                    borderRight: 1,
                    borderTop: 1,
                    borderWidth: 1,
                    margin: 1,
                    padding: 1,
                  };
                function r(t) {
                  var i,
                    n,
                    o = t.ownerDocument.defaultView
                      ? t.ownerDocument.defaultView.getComputedStyle(t, null)
                      : t.currentStyle,
                    r = {};
                  if (o && o.length && o[0] && o[o[0]])
                    for (n = o.length; n--;)
                      "string" == typeof o[(i = o[n])] &&
                        (r[e.camelCase(i)] = o[i]);
                  else for (i in o) "string" == typeof o[i] && (r[i] = o[i]);
                  return r;
                }
                e.each(
                  [
                    "borderLeftStyle",
                    "borderRightStyle",
                    "borderBottomStyle",
                    "borderTopStyle",
                  ],
                  function (t, n) {
                    e.fx.step[n] = function (e) {
                      (("none" !== e.end && !e.setAttr) ||
                        (1 === e.pos && !e.setAttr)) &&
                        (i.style(e.elem, n, e.end), (e.setAttr = !0));
                    };
                  }
                ),
                  e.fn.addBack ||
                  (e.fn.addBack = function (e) {
                    return this.add(
                      null == e ? this.prevObject : this.prevObject.filter(e)
                    );
                  }),
                  (e.effects.animateClass = function (t, i, a, s) {
                    var l = e.speed(i, a, s);
                    return this.queue(function () {
                      var i,
                        a = e(this),
                        s = a.attr("class") || "",
                        c = l.children ? a.find("*").addBack() : a;
                      (c = c.map(function () {
                        return { el: e(this), start: r(this) };
                      })),
                        (i = function () {
                          e.each(n, function (e, i) {
                            t[i] && a[i + "Class"](t[i]);
                          });
                        })(),
                        (c = c.map(function () {
                          return (
                            (this.end = r(this.el[0])),
                            (this.diff = (function (t, i) {
                              var n,
                                r,
                                a = {};
                              for (n in i)
                                (r = i[n]),
                                  t[n] !== r &&
                                  (o[n] ||
                                    (!e.fx.step[n] && isNaN(parseFloat(r))) ||
                                    (a[n] = r));
                              return a;
                            })(this.start, this.end)),
                            this
                          );
                        })),
                        a.attr("class", s),
                        (c = c.map(function () {
                          var t = this,
                            i = e.Deferred(),
                            n = e.extend({}, l, {
                              queue: !1,
                              complete: function () {
                                i.resolve(t);
                              },
                            });
                          return this.el.animate(this.diff, n), i.promise();
                        })),
                        e.when.apply(e, c.get()).done(function () {
                          i(),
                            e.each(arguments, function () {
                              var t = this.el;
                              e.each(this.diff, function (e) {
                                t.css(e, "");
                              });
                            }),
                            l.complete.call(a[0]);
                        });
                    });
                  }),
                  e.fn.extend({
                    addClass:
                      ((t = e.fn.addClass),
                        function (i, n, o, r) {
                          return n
                            ? e.effects.animateClass.call(
                              this,
                              { add: i },
                              n,
                              o,
                              r
                            )
                            : t.apply(this, arguments);
                        }),
                    removeClass: (function (t) {
                      return function (i, n, o, r) {
                        return arguments.length > 1
                          ? e.effects.animateClass.call(
                            this,
                            { remove: i },
                            n,
                            o,
                            r
                          )
                          : t.apply(this, arguments);
                      };
                    })(e.fn.removeClass),
                    toggleClass: (function (t) {
                      return function (i, n, o, r, a) {
                        return "boolean" == typeof n || void 0 === n
                          ? o
                            ? e.effects.animateClass.call(
                              this,
                              n ? { add: i } : { remove: i },
                              o,
                              r,
                              a
                            )
                            : t.apply(this, arguments)
                          : e.effects.animateClass.call(
                            this,
                            { toggle: i },
                            n,
                            o,
                            r
                          );
                      };
                    })(e.fn.toggleClass),
                    switchClass: function (t, i, n, o, r) {
                      return e.effects.animateClass.call(
                        this,
                        { add: i, remove: t },
                        n,
                        o,
                        r
                      );
                    },
                  });
              })(),
              (function () {
                var t;
                function i(t, i, n, o) {
                  return (
                    e.isPlainObject(t) && ((i = t), (t = t.effect)),
                    (t = { effect: t }),
                    null == i && (i = {}),
                    e.isFunction(i) && ((o = i), (n = null), (i = {})),
                    ("number" == typeof i || e.fx.speeds[i]) &&
                    ((o = n), (n = i), (i = {})),
                    e.isFunction(n) && ((o = n), (n = null)),
                    i && e.extend(t, i),
                    (n = n || i.duration),
                    (t.duration = e.fx.off
                      ? 0
                      : "number" == typeof n
                        ? n
                        : n in e.fx.speeds
                          ? e.fx.speeds[n]
                          : e.fx.speeds._default),
                    (t.complete = o || i.complete),
                    t
                  );
                }
                function n(t) {
                  return (
                    !(t && "number" != typeof t && !e.fx.speeds[t]) ||
                    ("string" == typeof t && !e.effects.effect[t]) ||
                    !!e.isFunction(t) ||
                    ("object" == typeof t && !t.effect)
                  );
                }
                function o(e, t) {
                  var i = t.outerWidth(),
                    n = t.outerHeight(),
                    o =
                      /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(
                        e
                      ) || ["", 0, i, n, 0];
                  return {
                    top: parseFloat(o[1]) || 0,
                    right: "auto" === o[2] ? i : parseFloat(o[2]),
                    bottom: "auto" === o[3] ? n : parseFloat(o[3]),
                    left: parseFloat(o[4]) || 0,
                  };
                }
                e.expr &&
                  e.expr.filters &&
                  e.expr.filters.animated &&
                  (e.expr.filters.animated =
                    ((t = e.expr.filters.animated),
                      function (i) {
                        return !!e(i).data("ui-effects-animated") || t(i);
                      })),
                  !1 !== e.uiBackCompat &&
                  e.extend(e.effects, {
                    save: function (e, t) {
                      for (var i = 0, n = t.length; i < n; i++)
                        null !== t[i] &&
                          e.data("ui-effects-" + t[i], e[0].style[t[i]]);
                    },
                    restore: function (e, t) {
                      for (var i, n = 0, o = t.length; n < o; n++)
                        null !== t[n] &&
                          ((i = e.data("ui-effects-" + t[n])),
                            e.css(t[n], i));
                    },
                    setMode: function (e, t) {
                      return (
                        "toggle" === t &&
                        (t = e.is(":hidden") ? "show" : "hide"),
                        t
                      );
                    },
                    createWrapper: function (t) {
                      if (t.parent().is(".ui-effects-wrapper"))
                        return t.parent();
                      var i = {
                        width: t.outerWidth(!0),
                        height: t.outerHeight(!0),
                        float: t.css("float"),
                      },
                        n = e("<div></div>")
                          .addClass("ui-effects-wrapper")
                          .css({
                            fontSize: "100%",
                            background: "transparent",
                            border: "none",
                            margin: 0,
                            padding: 0,
                          }),
                        o = { width: t.width(), height: t.height() },
                        r = document.activeElement;
                      try {
                        r.id;
                      } catch (e) {
                        r = document.body;
                      }
                      return (
                        t.wrap(n),
                        (t[0] === r || e.contains(t[0], r)) &&
                        e(r).trigger("focus"),
                        (n = t.parent()),
                        "static" === t.css("position")
                          ? (n.css({ position: "relative" }),
                            t.css({ position: "relative" }))
                          : (e.extend(i, {
                            position: t.css("position"),
                            zIndex: t.css("z-index"),
                          }),
                            e.each(
                              ["top", "left", "bottom", "right"],
                              function (e, n) {
                                (i[n] = t.css(n)),
                                  isNaN(parseInt(i[n], 10)) &&
                                  (i[n] = "auto");
                              }
                            ),
                            t.css({
                              position: "relative",
                              top: 0,
                              left: 0,
                              right: "auto",
                              bottom: "auto",
                            })),
                        t.css(o),
                        n.css(i).show()
                      );
                    },
                    removeWrapper: function (t) {
                      var i = document.activeElement;
                      return (
                        t.parent().is(".ui-effects-wrapper") &&
                        (t.parent().replaceWith(t),
                          (t[0] === i || e.contains(t[0], i)) &&
                          e(i).trigger("focus")),
                        t
                      );
                    },
                  }),
                  e.extend(e.effects, {
                    version: "1.12.1",
                    define: function (t, i, n) {
                      return (
                        n || ((n = i), (i = "effect")),
                        (e.effects.effect[t] = n),
                        (e.effects.effect[t].mode = i),
                        n
                      );
                    },
                    scaledDimensions: function (e, t, i) {
                      if (0 === t)
                        return {
                          height: 0,
                          width: 0,
                          outerHeight: 0,
                          outerWidth: 0,
                        };
                      var n = "horizontal" !== i ? (t || 100) / 100 : 1,
                        o = "vertical" !== i ? (t || 100) / 100 : 1;
                      return {
                        height: e.height() * o,
                        width: e.width() * n,
                        outerHeight: e.outerHeight() * o,
                        outerWidth: e.outerWidth() * n,
                      };
                    },
                    clipToBox: function (e) {
                      return {
                        width: e.clip.right - e.clip.left,
                        height: e.clip.bottom - e.clip.top,
                        left: e.clip.left,
                        top: e.clip.top,
                      };
                    },
                    unshift: function (e, t, i) {
                      var n = e.queue();
                      t > 1 && n.splice.apply(n, [1, 0].concat(n.splice(t, i))),
                        e.dequeue();
                    },
                    saveStyle: function (e) {
                      e.data("ui-effects-style", e[0].style.cssText);
                    },
                    restoreStyle: function (e) {
                      (e[0].style.cssText = e.data("ui-effects-style") || ""),
                        e.removeData("ui-effects-style");
                    },
                    mode: function (e, t) {
                      var i = e.is(":hidden");
                      return (
                        "toggle" === t && (t = i ? "show" : "hide"),
                        (i ? "hide" === t : "show" === t) && (t = "none"),
                        t
                      );
                    },
                    getBaseline: function (e, t) {
                      var i, n;
                      switch (e[0]) {
                        case "top":
                          i = 0;
                          break;
                        case "middle":
                          i = 0.5;
                          break;
                        case "bottom":
                          i = 1;
                          break;
                        default:
                          i = e[0] / t.height;
                      }
                      switch (e[1]) {
                        case "left":
                          n = 0;
                          break;
                        case "center":
                          n = 0.5;
                          break;
                        case "right":
                          n = 1;
                          break;
                        default:
                          n = e[1] / t.width;
                      }
                      return { x: n, y: i };
                    },
                    createPlaceholder: function (t) {
                      var i,
                        n = t.css("position"),
                        o = t.position();
                      return (
                        t
                          .css({
                            marginTop: t.css("marginTop"),
                            marginBottom: t.css("marginBottom"),
                            marginLeft: t.css("marginLeft"),
                            marginRight: t.css("marginRight"),
                          })
                          .outerWidth(t.outerWidth())
                          .outerHeight(t.outerHeight()),
                        /^(static|relative)/.test(n) &&
                        ((n = "absolute"),
                          (i = e("<" + t[0].nodeName + ">")
                            .insertAfter(t)
                            .css({
                              display: /^(inline|ruby)/.test(t.css("display"))
                                ? "inline-block"
                                : "block",
                              visibility: "hidden",
                              marginTop: t.css("marginTop"),
                              marginBottom: t.css("marginBottom"),
                              marginLeft: t.css("marginLeft"),
                              marginRight: t.css("marginRight"),
                              float: t.css("float"),
                            })
                            .outerWidth(t.outerWidth())
                            .outerHeight(t.outerHeight())
                            .addClass("ui-effects-placeholder")),
                          t.data("ui-effects-placeholder", i)),
                        t.css({ position: n, left: o.left, top: o.top }),
                        i
                      );
                    },
                    removePlaceholder: function (e) {
                      var t = "ui-effects-placeholder",
                        i = e.data(t);
                      i && (i.remove(), e.removeData(t));
                    },
                    cleanUp: function (t) {
                      e.effects.restoreStyle(t), e.effects.removePlaceholder(t);
                    },
                    setTransition: function (t, i, n, o) {
                      return (
                        (o = o || {}),
                        e.each(i, function (e, i) {
                          var r = t.cssUnit(i);
                          r[0] > 0 && (o[i] = r[0] * n + r[1]);
                        }),
                        o
                      );
                    },
                  }),
                  e.fn.extend({
                    effect: function () {
                      var t = i.apply(this, arguments),
                        n = e.effects.effect[t.effect],
                        o = n.mode,
                        r = t.queue,
                        a = r || "fx",
                        s = t.complete,
                        l = t.mode,
                        c = [],
                        u = function (t) {
                          var i = e(this),
                            n = e.effects.mode(i, l) || o;
                          i.data("ui-effects-animated", !0),
                            c.push(n),
                            o &&
                            ("show" === n || (n === o && "hide" === n)) &&
                            i.show(),
                            (o && "none" === n) || e.effects.saveStyle(i),
                            e.isFunction(t) && t();
                        };
                      if (e.fx.off || !n)
                        return l
                          ? this[l](t.duration, s)
                          : this.each(function () {
                            s && s.call(this);
                          });
                      function d(i) {
                        var r = e(this);
                        function a() {
                          e.isFunction(s) && s.call(r[0]),
                            e.isFunction(i) && i();
                        }
                        (t.mode = c.shift()),
                          !1 === e.uiBackCompat || o
                            ? "none" === t.mode
                              ? (r[l](), a())
                              : n.call(r[0], t, function () {
                                r.removeData("ui-effects-animated"),
                                  e.effects.cleanUp(r),
                                  "hide" === t.mode && r.hide(),
                                  a();
                              })
                            : (r.is(":hidden") ? "hide" === l : "show" === l)
                              ? (r[l](), a())
                              : n.call(r[0], t, a);
                      }
                      return !1 === r
                        ? this.each(u).each(d)
                        : this.queue(a, u).queue(a, d);
                    },
                    show: (function (e) {
                      return function (t) {
                        if (n(t)) return e.apply(this, arguments);
                        var o = i.apply(this, arguments);
                        return (o.mode = "show"), this.effect.call(this, o);
                      };
                    })(e.fn.show),
                    hide: (function (e) {
                      return function (t) {
                        if (n(t)) return e.apply(this, arguments);
                        var o = i.apply(this, arguments);
                        return (o.mode = "hide"), this.effect.call(this, o);
                      };
                    })(e.fn.hide),
                    toggle: (function (e) {
                      return function (t) {
                        if (n(t) || "boolean" == typeof t)
                          return e.apply(this, arguments);
                        var o = i.apply(this, arguments);
                        return (o.mode = "toggle"), this.effect.call(this, o);
                      };
                    })(e.fn.toggle),
                    cssUnit: function (t) {
                      var i = this.css(t),
                        n = [];
                      return (
                        e.each(["em", "px", "%", "pt"], function (e, t) {
                          i.indexOf(t) > 0 && (n = [parseFloat(i), t]);
                        }),
                        n
                      );
                    },
                    cssClip: function (e) {
                      return e
                        ? this.css(
                          "clip",
                          "rect(" +
                          e.top +
                          "px " +
                          e.right +
                          "px " +
                          e.bottom +
                          "px " +
                          e.left +
                          "px)"
                        )
                        : o(this.css("clip"), this);
                    },
                    transfer: function (t, i) {
                      var n = e(this),
                        o = e(t.to),
                        r = "fixed" === o.css("position"),
                        a = e("body"),
                        s = r ? a.scrollTop() : 0,
                        l = r ? a.scrollLeft() : 0,
                        c = o.offset(),
                        u = {
                          top: c.top - s,
                          left: c.left - l,
                          height: o.innerHeight(),
                          width: o.innerWidth(),
                        },
                        d = n.offset(),
                        p = e("<div class='ui-effects-transfer'></div>")
                          .appendTo("body")
                          .addClass(t.className)
                          .css({
                            top: d.top - s,
                            left: d.left - l,
                            height: n.innerHeight(),
                            width: n.innerWidth(),
                            position: r ? "fixed" : "absolute",
                          })
                          .animate(u, t.duration, t.easing, function () {
                            p.remove(), e.isFunction(i) && i();
                          });
                    },
                  }),
                  (e.fx.step.clip = function (t) {
                    t.clipInit ||
                      ((t.start = e(t.elem).cssClip()),
                        "string" == typeof t.end && (t.end = o(t.end, t.elem)),
                        (t.clipInit = !0)),
                      e(t.elem).cssClip({
                        top: t.pos * (t.end.top - t.start.top) + t.start.top,
                        right:
                          t.pos * (t.end.right - t.start.right) + t.start.right,
                        bottom:
                          t.pos * (t.end.bottom - t.start.bottom) +
                          t.start.bottom,
                        left:
                          t.pos * (t.end.left - t.start.left) + t.start.left,
                      });
                  });
              })(),
              (t = {}),
              e.each(
                ["Quad", "Cubic", "Quart", "Quint", "Expo"],
                function (e, i) {
                  t[i] = function (t) {
                    return Math.pow(t, e + 2);
                  };
                }
              ),
              e.extend(t, {
                Sine: function (e) {
                  return 1 - Math.cos((e * Math.PI) / 2);
                },
                Circ: function (e) {
                  return 1 - Math.sqrt(1 - e * e);
                },
                Elastic: function (e) {
                  return 0 === e || 1 === e
                    ? e
                    : -Math.pow(2, 8 * (e - 1)) *
                    Math.sin(((80 * (e - 1) - 7.5) * Math.PI) / 15);
                },
                Back: function (e) {
                  return e * e * (3 * e - 2);
                },
                Bounce: function (e) {
                  for (var t, i = 4; e < ((t = Math.pow(2, --i)) - 1) / 11;);
                  return (
                    1 / Math.pow(4, 3 - i) -
                    7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
                  );
                },
              }),
              e.each(t, function (t, i) {
                (e.easing["easeIn" + t] = i),
                  (e.easing["easeOut" + t] = function (e) {
                    return 1 - i(1 - e);
                  }),
                  (e.easing["easeInOut" + t] = function (e) {
                    return e < 0.5 ? i(2 * e) / 2 : 1 - i(-2 * e + 2) / 2;
                  });
              }),
              e.effects
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Keycode 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.ui.keyCode = {
              BACKSPACE: 8,
              COMMA: 188,
              DELETE: 46,
              DOWN: 40,
              END: 35,
              ENTER: 13,
              ESCAPE: 27,
              HOME: 36,
              LEFT: 37,
              PAGE_DOWN: 34,
              PAGE_UP: 33,
              PERIOD: 190,
              RIGHT: 39,
              SPACE: 32,
              TAB: 9,
              UP: 38,
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Mouse 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(27), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            var t = !1;
            return (
              e(document).on("mouseup", function () {
                t = !1;
              }),
              e.widget("ui.mouse", {
                version: "1.12.1",
                options: {
                  cancel: "input, textarea, button, select, option",
                  distance: 1,
                  delay: 0,
                },
                _mouseInit: function () {
                  var t = this;
                  this.element
                    .on("mousedown." + this.widgetName, function (e) {
                      return t._mouseDown(e);
                    })
                    .on("click." + this.widgetName, function (i) {
                      if (
                        !0 ===
                        e.data(i.target, t.widgetName + ".preventClickEvent")
                      )
                        return (
                          e.removeData(
                            i.target,
                            t.widgetName + ".preventClickEvent"
                          ),
                          i.stopImmediatePropagation(),
                          !1
                        );
                    }),
                    (this.started = !1);
                },
                _mouseDestroy: function () {
                  this.element.off("." + this.widgetName),
                    this._mouseMoveDelegate &&
                    this.document
                      .off(
                        "mousemove." + this.widgetName,
                        this._mouseMoveDelegate
                      )
                      .off(
                        "mouseup." + this.widgetName,
                        this._mouseUpDelegate
                      );
                },
                _mouseDown: function (i) {
                  if (!t) {
                    (this._mouseMoved = !1),
                      this._mouseStarted && this._mouseUp(i),
                      (this._mouseDownEvent = i);
                    var n = this,
                      o = 1 === i.which,
                      r =
                        !(
                          "string" != typeof this.options.cancel ||
                          !i.target.nodeName
                        ) && e(i.target).closest(this.options.cancel).length;
                    return !(
                      o &&
                      !r &&
                      this._mouseCapture(i) &&
                      ((this.mouseDelayMet = !this.options.delay),
                        this.mouseDelayMet ||
                        (this._mouseDelayTimer = setTimeout(function () {
                          n.mouseDelayMet = !0;
                        }, this.options.delay)),
                        this._mouseDistanceMet(i) &&
                          this._mouseDelayMet(i) &&
                          ((this._mouseStarted = !1 !== this._mouseStart(i)),
                            !this._mouseStarted)
                          ? (i.preventDefault(), 0)
                          : (!0 ===
                            e.data(
                              i.target,
                              this.widgetName + ".preventClickEvent"
                            ) &&
                            e.removeData(
                              i.target,
                              this.widgetName + ".preventClickEvent"
                            ),
                            (this._mouseMoveDelegate = function (e) {
                              return n._mouseMove(e);
                            }),
                            (this._mouseUpDelegate = function (e) {
                              return n._mouseUp(e);
                            }),
                            this.document
                              .on(
                                "mousemove." + this.widgetName,
                                this._mouseMoveDelegate
                              )
                              .on(
                                "mouseup." + this.widgetName,
                                this._mouseUpDelegate
                              ),
                            i.preventDefault(),
                            (t = !0),
                            0))
                    );
                  }
                },
                _mouseMove: function (t) {
                  if (this._mouseMoved) {
                    if (
                      e.ui.ie &&
                      (!document.documentMode || document.documentMode < 9) &&
                      !t.button
                    )
                      return this._mouseUp(t);
                    if (!t.which)
                      if (
                        t.originalEvent.altKey ||
                        t.originalEvent.ctrlKey ||
                        t.originalEvent.metaKey ||
                        t.originalEvent.shiftKey
                      )
                        this.ignoreMissingWhich = !0;
                      else if (!this.ignoreMissingWhich)
                        return this._mouseUp(t);
                  }
                  return (
                    (t.which || t.button) && (this._mouseMoved = !0),
                    this._mouseStarted
                      ? (this._mouseDrag(t), t.preventDefault())
                      : (this._mouseDistanceMet(t) &&
                        this._mouseDelayMet(t) &&
                        ((this._mouseStarted =
                          !1 !== this._mouseStart(this._mouseDownEvent, t)),
                          this._mouseStarted
                            ? this._mouseDrag(t)
                            : this._mouseUp(t)),
                        !this._mouseStarted)
                  );
                },
                _mouseUp: function (i) {
                  this.document
                    .off(
                      "mousemove." + this.widgetName,
                      this._mouseMoveDelegate
                    )
                    .off("mouseup." + this.widgetName, this._mouseUpDelegate),
                    this._mouseStarted &&
                    ((this._mouseStarted = !1),
                      i.target === this._mouseDownEvent.target &&
                      e.data(
                        i.target,
                        this.widgetName + ".preventClickEvent",
                        !0
                      ),
                      this._mouseStop(i)),
                    this._mouseDelayTimer &&
                    (clearTimeout(this._mouseDelayTimer),
                      delete this._mouseDelayTimer),
                    (this.ignoreMissingWhich = !1),
                    (t = !1),
                    i.preventDefault();
                },
                _mouseDistanceMet: function (e) {
                  return (
                    Math.max(
                      Math.abs(this._mouseDownEvent.pageX - e.pageX),
                      Math.abs(this._mouseDownEvent.pageY - e.pageY)
                    ) >= this.options.distance
                  );
                },
                _mouseDelayMet: function () {
                  return this.mouseDelayMet;
                },
                _mouseStart: function () { },
                _mouseDrag: function () { },
                _mouseStop: function () { },
                _mouseCapture: function () {
                  return !0;
                },
              })
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Unique ID 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.fn.extend({
              uniqueId:
                ((t = 0),
                  function () {
                    return this.each(function () {
                      this.id || (this.id = "ui-id-" + ++t);
                    });
                  }),
              removeUniqueId: function () {
                return this.each(function () {
                  /^ui-id-\d+$/.test(this.id) && e(this).removeAttr("id");
                });
              },
            });
            var t;
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Position 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/position/
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (
              (function () {
                var t,
                  i = Math.max,
                  n = Math.abs,
                  o = /left|center|right/,
                  r = /top|center|bottom/,
                  a = /[\+\-]\d+(\.[\d]+)?%?/,
                  s = /^\w+/,
                  l = /%$/,
                  c = e.fn.position;
                function u(e, t, i) {
                  return [
                    parseFloat(e[0]) * (l.test(e[0]) ? t / 100 : 1),
                    parseFloat(e[1]) * (l.test(e[1]) ? i / 100 : 1),
                  ];
                }
                function d(t, i) {
                  return parseInt(e.css(t, i), 10) || 0;
                }
                function p(t) {
                  var i = t[0];
                  return 9 === i.nodeType
                    ? {
                      width: t.width(),
                      height: t.height(),
                      offset: { top: 0, left: 0 },
                    }
                    : e.isWindow(i)
                      ? {
                        width: t.width(),
                        height: t.height(),
                        offset: { top: t.scrollTop(), left: t.scrollLeft() },
                      }
                      : i.preventDefault
                        ? {
                          width: 0,
                          height: 0,
                          offset: { top: i.pageY, left: i.pageX },
                        }
                        : {
                          width: t.outerWidth(),
                          height: t.outerHeight(),
                          offset: t.offset(),
                        };
                }
                (e.position = {
                  scrollbarWidth: function () {
                    if (void 0 !== t) return t;
                    var i,
                      n,
                      o = e(
                        "<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"
                      ),
                      r = o.children()[0];
                    return (
                      e("body").append(o),
                      (i = r.offsetWidth),
                      o.css("overflow", "scroll"),
                      i === (n = r.offsetWidth) && (n = o[0].clientWidth),
                      o.remove(),
                      (t = i - n)
                    );
                  },
                  getScrollInfo: function (t) {
                    var i =
                      t.isWindow || t.isDocument
                        ? ""
                        : t.element.css("overflow-x"),
                      n =
                        t.isWindow || t.isDocument
                          ? ""
                          : t.element.css("overflow-y"),
                      o =
                        "scroll" === i ||
                        ("auto" === i && t.width < t.element[0].scrollWidth);
                    return {
                      width:
                        "scroll" === n ||
                          ("auto" === n && t.height < t.element[0].scrollHeight)
                          ? e.position.scrollbarWidth()
                          : 0,
                      height: o ? e.position.scrollbarWidth() : 0,
                    };
                  },
                  getWithinInfo: function (t) {
                    var i = e(t || window),
                      n = e.isWindow(i[0]),
                      o = !!i[0] && 9 === i[0].nodeType;
                    return {
                      element: i,
                      isWindow: n,
                      isDocument: o,
                      offset: n || o ? { left: 0, top: 0 } : e(t).offset(),
                      scrollLeft: i.scrollLeft(),
                      scrollTop: i.scrollTop(),
                      width: i.outerWidth(),
                      height: i.outerHeight(),
                    };
                  },
                }),
                  (e.fn.position = function (t) {
                    if (!t || !t.of) return c.apply(this, arguments);
                    t = e.extend({}, t);
                    var l,
                      h,
                      f,
                      g,
                      m,
                      v,
                      b = e(t.of),
                      y = e.position.getWithinInfo(t.within),
                      x = e.position.getScrollInfo(y),
                      w = (t.collision || "flip").split(" "),
                      _ = {};
                    return (
                      (v = p(b)),
                      b[0].preventDefault && (t.at = "left top"),
                      (h = v.width),
                      (f = v.height),
                      (g = v.offset),
                      (m = e.extend({}, g)),
                      e.each(["my", "at"], function () {
                        var e,
                          i,
                          n = (t[this] || "").split(" ");
                        1 === n.length &&
                          (n = o.test(n[0])
                            ? n.concat(["center"])
                            : r.test(n[0])
                              ? ["center"].concat(n)
                              : ["center", "center"]),
                          (n[0] = o.test(n[0]) ? n[0] : "center"),
                          (n[1] = r.test(n[1]) ? n[1] : "center"),
                          (e = a.exec(n[0])),
                          (i = a.exec(n[1])),
                          (_[this] = [e ? e[0] : 0, i ? i[0] : 0]),
                          (t[this] = [s.exec(n[0])[0], s.exec(n[1])[0]]);
                      }),
                      1 === w.length && (w[1] = w[0]),
                      "right" === t.at[0]
                        ? (m.left += h)
                        : "center" === t.at[0] && (m.left += h / 2),
                      "bottom" === t.at[1]
                        ? (m.top += f)
                        : "center" === t.at[1] && (m.top += f / 2),
                      (l = u(_.at, h, f)),
                      (m.left += l[0]),
                      (m.top += l[1]),
                      this.each(function () {
                        var o,
                          r,
                          a = e(this),
                          s = a.outerWidth(),
                          c = a.outerHeight(),
                          p = d(this, "marginLeft"),
                          v = d(this, "marginTop"),
                          A = s + p + d(this, "marginRight") + x.width,
                          E = c + v + d(this, "marginBottom") + x.height,
                          S = e.extend({}, m),
                          T = u(_.my, a.outerWidth(), a.outerHeight());
                        "right" === t.my[0]
                          ? (S.left -= s)
                          : "center" === t.my[0] && (S.left -= s / 2),
                          "bottom" === t.my[1]
                            ? (S.top -= c)
                            : "center" === t.my[1] && (S.top -= c / 2),
                          (S.left += T[0]),
                          (S.top += T[1]),
                          (o = { marginLeft: p, marginTop: v }),
                          e.each(["left", "top"], function (i, n) {
                            e.ui.position[w[i]] &&
                              e.ui.position[w[i]][n](S, {
                                targetWidth: h,
                                targetHeight: f,
                                elemWidth: s,
                                elemHeight: c,
                                collisionPosition: o,
                                collisionWidth: A,
                                collisionHeight: E,
                                offset: [l[0] + T[0], l[1] + T[1]],
                                my: t.my,
                                at: t.at,
                                within: y,
                                elem: a,
                              });
                          }),
                          t.using &&
                          (r = function (e) {
                            var o = g.left - S.left,
                              r = o + h - s,
                              l = g.top - S.top,
                              u = l + f - c,
                              d = {
                                target: {
                                  element: b,
                                  left: g.left,
                                  top: g.top,
                                  width: h,
                                  height: f,
                                },
                                element: {
                                  element: a,
                                  left: S.left,
                                  top: S.top,
                                  width: s,
                                  height: c,
                                },
                                horizontal:
                                  r < 0 ? "left" : o > 0 ? "right" : "center",
                                vertical:
                                  u < 0 ? "top" : l > 0 ? "bottom" : "middle",
                              };
                            h < s &&
                              n(o + r) < h &&
                              (d.horizontal = "center"),
                              f < c &&
                              n(l + u) < f &&
                              (d.vertical = "middle"),
                              i(n(o), n(r)) > i(n(l), n(u))
                                ? (d.important = "horizontal")
                                : (d.important = "vertical"),
                              t.using.call(this, e, d);
                          }),
                          a.offset(e.extend(S, { using: r }));
                      })
                    );
                  }),
                  (e.ui.position = {
                    fit: {
                      left: function (e, t) {
                        var n,
                          o = t.within,
                          r = o.isWindow ? o.scrollLeft : o.offset.left,
                          a = o.width,
                          s = e.left - t.collisionPosition.marginLeft,
                          l = r - s,
                          c = s + t.collisionWidth - a - r;
                        t.collisionWidth > a
                          ? l > 0 && c <= 0
                            ? ((n = e.left + l + t.collisionWidth - a - r),
                              (e.left += l - n))
                            : (e.left =
                              c > 0 && l <= 0
                                ? r
                                : l > c
                                  ? r + a - t.collisionWidth
                                  : r)
                          : l > 0
                            ? (e.left += l)
                            : c > 0
                              ? (e.left -= c)
                              : (e.left = i(e.left - s, e.left));
                      },
                      top: function (e, t) {
                        var n,
                          o = t.within,
                          r = o.isWindow ? o.scrollTop : o.offset.top,
                          a = t.within.height,
                          s = e.top - t.collisionPosition.marginTop,
                          l = r - s,
                          c = s + t.collisionHeight - a - r;
                        t.collisionHeight > a
                          ? l > 0 && c <= 0
                            ? ((n = e.top + l + t.collisionHeight - a - r),
                              (e.top += l - n))
                            : (e.top =
                              c > 0 && l <= 0
                                ? r
                                : l > c
                                  ? r + a - t.collisionHeight
                                  : r)
                          : l > 0
                            ? (e.top += l)
                            : c > 0
                              ? (e.top -= c)
                              : (e.top = i(e.top - s, e.top));
                      },
                    },
                    flip: {
                      left: function (e, t) {
                        var i,
                          o,
                          r = t.within,
                          a = r.offset.left + r.scrollLeft,
                          s = r.width,
                          l = r.isWindow ? r.scrollLeft : r.offset.left,
                          c = e.left - t.collisionPosition.marginLeft,
                          u = c - l,
                          d = c + t.collisionWidth - s - l,
                          p =
                            "left" === t.my[0]
                              ? -t.elemWidth
                              : "right" === t.my[0]
                                ? t.elemWidth
                                : 0,
                          h =
                            "left" === t.at[0]
                              ? t.targetWidth
                              : "right" === t.at[0]
                                ? -t.targetWidth
                                : 0,
                          f = -2 * t.offset[0];
                        u < 0
                          ? ((i =
                            e.left + p + h + f + t.collisionWidth - s - a) <
                            0 ||
                            i < n(u)) &&
                          (e.left += p + h + f)
                          : d > 0 &&
                          ((o =
                            e.left -
                            t.collisionPosition.marginLeft +
                            p +
                            h +
                            f -
                            l) > 0 ||
                            n(o) < d) &&
                          (e.left += p + h + f);
                      },
                      top: function (e, t) {
                        var i,
                          o,
                          r = t.within,
                          a = r.offset.top + r.scrollTop,
                          s = r.height,
                          l = r.isWindow ? r.scrollTop : r.offset.top,
                          c = e.top - t.collisionPosition.marginTop,
                          u = c - l,
                          d = c + t.collisionHeight - s - l,
                          p =
                            "top" === t.my[1]
                              ? -t.elemHeight
                              : "bottom" === t.my[1]
                                ? t.elemHeight
                                : 0,
                          h =
                            "top" === t.at[1]
                              ? t.targetHeight
                              : "bottom" === t.at[1]
                                ? -t.targetHeight
                                : 0,
                          f = -2 * t.offset[1];
                        u < 0
                          ? ((o =
                            e.top + p + h + f + t.collisionHeight - s - a) <
                            0 ||
                            o < n(u)) &&
                          (e.top += p + h + f)
                          : d > 0 &&
                          ((i =
                            e.top -
                            t.collisionPosition.marginTop +
                            p +
                            h +
                            f -
                            l) > 0 ||
                            n(i) < d) &&
                          (e.top += p + h + f);
                      },
                    },
                    flipfit: {
                      left: function () {
                        e.ui.position.flip.left.apply(this, arguments),
                          e.ui.position.fit.left.apply(this, arguments);
                      },
                      top: function () {
                        e.ui.position.flip.top.apply(this, arguments),
                          e.ui.position.fit.top.apply(this, arguments);
                      },
                    },
                  });
              })(),
              e.ui.position
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.ui.safeActiveElement = function (e) {
              var t;
              try {
                t = e.activeElement;
              } catch (i) {
                t = e.body;
              }
              return t || (t = e.body), t.nodeName || (t = e.body), t;
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    i(24), (e.exports = angular);
  },
  function (e, t, i) {
    var n, o, r;
    (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.ui.escapeSelector =
              ((t = /([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g),
                function (e) {
                  return e.replace(t, "\\$1");
                }));
            var t;
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    "use strict";
    e.exports = function (e, t) {
      return "string" != typeof e
        ? e
        : (/^['"].*['"]$/.test(e) && (e = e.slice(1, -1)),
          /["'() \t\n]/.test(e) || t
            ? '"' + e.replace(/"/g, '\\"').replace(/\n/g, "\\n") + '"'
            : e);
    };
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI :data 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.extend(e.expr[":"], {
              data: e.expr.createPseudo
                ? e.expr.createPseudo(function (t) {
                  return function (i) {
                    return !!e.data(i, t);
                  };
                })
                : function (t, i, n) {
                  return !!e.data(t, n[3]);
                },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Focusable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (
              (e.ui.focusable = function (t, i) {
                var n,
                  o,
                  r,
                  a,
                  s,
                  l = t.nodeName.toLowerCase();
                return "area" === l
                  ? ((o = (n = t.parentNode).name),
                    !(!t.href || !o || "map" !== n.nodeName.toLowerCase()) &&
                    (r = e("img[usemap='#" + o + "']")).length > 0 &&
                    r.is(":visible"))
                  : (/^(input|select|textarea|button|object)$/.test(l)
                    ? (a = !t.disabled) &&
                    (s = e(t).closest("fieldset")[0]) &&
                    (a = !s.disabled)
                    : (a = ("a" === l && t.href) || i),
                    a &&
                    e(t).is(":visible") &&
                    (function (e) {
                      for (var t = e.css("visibility"); "inherit" === t;)
                        (e = e.parent()), (t = e.css("visibility"));
                      return "hidden" !== t;
                    })(e(t)));
              }),
              e.extend(e.expr[":"], {
                focusable: function (t) {
                  return e.ui.focusable(t, null != e.attr(t, "tabindex"));
                },
              }),
              e.ui.focusable
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Form Reset Mixin 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(83), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.ui.formResetMixin = {
              _formResetHandler: function () {
                var t = e(this);
                setTimeout(function () {
                  var i = t.data("ui-form-reset-instances");
                  e.each(i, function () {
                    this.refresh();
                  });
                });
              },
              _bindFormResetHandler: function () {
                if (((this.form = this.element.form()), this.form.length)) {
                  var e = this.form.data("ui-form-reset-instances") || [];
                  e.length ||
                    this.form.on("reset.ui-form-reset", this._formResetHandler),
                    e.push(this),
                    this.form.data("ui-form-reset-instances", e);
                }
              },
              _unbindFormResetHandler: function () {
                if (this.form.length) {
                  var t = this.form.data("ui-form-reset-instances");
                  t.splice(e.inArray(this, t), 1),
                    t.length
                      ? this.form.data("ui-form-reset-instances", t)
                      : this.form
                        .removeData("ui-form-reset-instances")
                        .off("reset.ui-form-reset");
                }
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Labels 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(12)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.fn.labels = function () {
              var t, i, n, o, r;
              return this[0].labels && this[0].labels.length
                ? this.pushStack(this[0].labels)
                : ((o = this.eq(0).parents("label")),
                  (n = this.attr("id")) &&
                  ((r = (t = this.eq(0).parents().last()).add(
                    t.length ? t.siblings() : this.siblings()
                  )),
                    (i = "label[for='" + e.ui.escapeSelector(n) + "']"),
                    (o = o.add(r.find(i).addBack(i)))),
                  this.pushStack(o));
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Scroll Parent 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.fn.scrollParent = function (t) {
              var i = this.css("position"),
                n = "absolute" === i,
                o = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                r = this.parents()
                  .filter(function () {
                    var t = e(this);
                    return (
                      (!n || "static" !== t.css("position")) &&
                      o.test(
                        t.css("overflow") +
                        t.css("overflow-y") +
                        t.css("overflow-x")
                      )
                    );
                  })
                  .eq(0);
              return "fixed" !== i && r.length
                ? r
                : e(this[0].ownerDocument || document);
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Draggable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(7), i(14), i(28), i(10), i(29), i(18), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (
              e.widget("ui.draggable", e.ui.mouse, {
                version: "1.12.1",
                widgetEventPrefix: "drag",
                options: {
                  addClasses: !0,
                  appendTo: "parent",
                  axis: !1,
                  connectToSortable: !1,
                  containment: !1,
                  cursor: "auto",
                  cursorAt: !1,
                  grid: !1,
                  handle: !1,
                  helper: "original",
                  iframeFix: !1,
                  opacity: !1,
                  refreshPositions: !1,
                  revert: !1,
                  revertDuration: 500,
                  scope: "default",
                  scroll: !0,
                  scrollSensitivity: 20,
                  scrollSpeed: 20,
                  snap: !1,
                  snapMode: "both",
                  snapTolerance: 20,
                  stack: !1,
                  zIndex: !1,
                  drag: null,
                  start: null,
                  stop: null,
                },
                _create: function () {
                  "original" === this.options.helper &&
                    this._setPositionRelative(),
                    this.options.addClasses && this._addClass("ui-draggable"),
                    this._setHandleClassName(),
                    this._mouseInit();
                },
                _setOption: function (e, t) {
                  this._super(e, t),
                    "handle" === e &&
                    (this._removeHandleClassName(),
                      this._setHandleClassName());
                },
                _destroy: function () {
                  (this.helper || this.element).is(".ui-draggable-dragging")
                    ? (this.destroyOnClear = !0)
                    : (this._removeHandleClassName(), this._mouseDestroy());
                },
                _mouseCapture: function (t) {
                  var i = this.options;
                  return !(
                    this.helper ||
                    i.disabled ||
                    e(t.target).closest(".ui-resizable-handle").length > 0 ||
                    ((this.handle = this._getHandle(t)),
                      !this.handle ||
                      (this._blurActiveElement(t),
                        this._blockFrames(
                          !0 === i.iframeFix ? "iframe" : i.iframeFix
                        ),
                        0))
                  );
                },
                _blockFrames: function (t) {
                  this.iframeBlocks = this.document.find(t).map(function () {
                    var t = e(this);
                    return e("<div>")
                      .css("position", "absolute")
                      .appendTo(t.parent())
                      .outerWidth(t.outerWidth())
                      .outerHeight(t.outerHeight())
                      .offset(t.offset())[0];
                  });
                },
                _unblockFrames: function () {
                  this.iframeBlocks &&
                    (this.iframeBlocks.remove(), delete this.iframeBlocks);
                },
                _blurActiveElement: function (t) {
                  var i = e.ui.safeActiveElement(this.document[0]);
                  e(t.target).closest(i).length || e.ui.safeBlur(i);
                },
                _mouseStart: function (t) {
                  var i = this.options;
                  return (
                    (this.helper = this._createHelper(t)),
                    this._addClass(this.helper, "ui-draggable-dragging"),
                    this._cacheHelperProportions(),
                    e.ui.ddmanager && (e.ui.ddmanager.current = this),
                    this._cacheMargins(),
                    (this.cssPosition = this.helper.css("position")),
                    (this.scrollParent = this.helper.scrollParent(!0)),
                    (this.offsetParent = this.helper.offsetParent()),
                    (this.hasFixedAncestor =
                      this.helper.parents().filter(function () {
                        return "fixed" === e(this).css("position");
                      }).length > 0),
                    (this.positionAbs = this.element.offset()),
                    this._refreshOffsets(t),
                    (this.originalPosition = this.position =
                      this._generatePosition(t, !1)),
                    (this.originalPageX = t.pageX),
                    (this.originalPageY = t.pageY),
                    i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
                    this._setContainment(),
                    !1 === this._trigger("start", t)
                      ? (this._clear(), !1)
                      : (this._cacheHelperProportions(),
                        e.ui.ddmanager &&
                        !i.dropBehaviour &&
                        e.ui.ddmanager.prepareOffsets(this, t),
                        this._mouseDrag(t, !0),
                        e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t),
                        !0)
                  );
                },
                _refreshOffsets: function (e) {
                  (this.offset = {
                    top: this.positionAbs.top - this.margins.top,
                    left: this.positionAbs.left - this.margins.left,
                    scroll: !1,
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset(),
                  }),
                    (this.offset.click = {
                      left: e.pageX - this.offset.left,
                      top: e.pageY - this.offset.top,
                    });
                },
                _mouseDrag: function (t, i) {
                  if (
                    (this.hasFixedAncestor &&
                      (this.offset.parent = this._getParentOffset()),
                      (this.position = this._generatePosition(t, !0)),
                      (this.positionAbs = this._convertPositionTo("absolute")),
                      !i)
                  ) {
                    var n = this._uiHash();
                    if (!1 === this._trigger("drag", t, n))
                      return this._mouseUp(new e.Event("mouseup", t)), !1;
                    this.position = n.position;
                  }
                  return (
                    (this.helper[0].style.left = this.position.left + "px"),
                    (this.helper[0].style.top = this.position.top + "px"),
                    e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
                    !1
                  );
                },
                _mouseStop: function (t) {
                  var i = this,
                    n = !1;
                  return (
                    e.ui.ddmanager &&
                    !this.options.dropBehaviour &&
                    (n = e.ui.ddmanager.drop(this, t)),
                    this.dropped && ((n = this.dropped), (this.dropped = !1)),
                    ("invalid" === this.options.revert && !n) ||
                      ("valid" === this.options.revert && n) ||
                      !0 === this.options.revert ||
                      (e.isFunction(this.options.revert) &&
                        this.options.revert.call(this.element, n))
                      ? e(this.helper).animate(
                        this.originalPosition,
                        parseInt(this.options.revertDuration, 10),
                        function () {
                          !1 !== i._trigger("stop", t) && i._clear();
                        }
                      )
                      : !1 !== this._trigger("stop", t) && this._clear(),
                    !1
                  );
                },
                _mouseUp: function (t) {
                  return (
                    this._unblockFrames(),
                    e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t),
                    this.handleElement.is(t.target) &&
                    this.element.trigger("focus"),
                    e.ui.mouse.prototype._mouseUp.call(this, t)
                  );
                },
                cancel: function () {
                  return (
                    this.helper.is(".ui-draggable-dragging")
                      ? this._mouseUp(
                        new e.Event("mouseup", { target: this.element[0] })
                      )
                      : this._clear(),
                    this
                  );
                },
                _getHandle: function (t) {
                  return (
                    !this.options.handle ||
                    !!e(t.target).closest(
                      this.element.find(this.options.handle)
                    ).length
                  );
                },
                _setHandleClassName: function () {
                  (this.handleElement = this.options.handle
                    ? this.element.find(this.options.handle)
                    : this.element),
                    this._addClass(this.handleElement, "ui-draggable-handle");
                },
                _removeHandleClassName: function () {
                  this._removeClass(this.handleElement, "ui-draggable-handle");
                },
                _createHelper: function (t) {
                  var i = this.options,
                    n = e.isFunction(i.helper),
                    o = n
                      ? e(i.helper.apply(this.element[0], [t]))
                      : "clone" === i.helper
                        ? this.element.clone().removeAttr("id")
                        : this.element;
                  return (
                    o.parents("body").length ||
                    o.appendTo(
                      "parent" === i.appendTo
                        ? this.element[0].parentNode
                        : i.appendTo
                    ),
                    n &&
                    o[0] === this.element[0] &&
                    this._setPositionRelative(),
                    o[0] === this.element[0] ||
                    /(fixed|absolute)/.test(o.css("position")) ||
                    o.css("position", "absolute"),
                    o
                  );
                },
                _setPositionRelative: function () {
                  /^(?:r|a|f)/.test(this.element.css("position")) ||
                    (this.element[0].style.position = "relative");
                },
                _adjustOffsetFromHelper: function (t) {
                  "string" == typeof t && (t = t.split(" ")),
                    e.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }),
                    "left" in t &&
                    (this.offset.click.left = t.left + this.margins.left),
                    "right" in t &&
                    (this.offset.click.left =
                      this.helperProportions.width -
                      t.right +
                      this.margins.left),
                    "top" in t &&
                    (this.offset.click.top = t.top + this.margins.top),
                    "bottom" in t &&
                    (this.offset.click.top =
                      this.helperProportions.height -
                      t.bottom +
                      this.margins.top);
                },
                _isRootNode: function (e) {
                  return (
                    /(html|body)/i.test(e.tagName) || e === this.document[0]
                  );
                },
                _getParentOffset: function () {
                  var t = this.offsetParent.offset(),
                    i = this.document[0];
                  return (
                    "absolute" === this.cssPosition &&
                    this.scrollParent[0] !== i &&
                    e.contains(this.scrollParent[0], this.offsetParent[0]) &&
                    ((t.left += this.scrollParent.scrollLeft()),
                      (t.top += this.scrollParent.scrollTop())),
                    this._isRootNode(this.offsetParent[0]) &&
                    (t = { top: 0, left: 0 }),
                    {
                      top:
                        t.top +
                        (parseInt(
                          this.offsetParent.css("borderTopWidth"),
                          10
                        ) || 0),
                      left:
                        t.left +
                        (parseInt(
                          this.offsetParent.css("borderLeftWidth"),
                          10
                        ) || 0),
                    }
                  );
                },
                _getRelativeOffset: function () {
                  if ("relative" !== this.cssPosition)
                    return { top: 0, left: 0 };
                  var e = this.element.position(),
                    t = this._isRootNode(this.scrollParent[0]);
                  return {
                    top:
                      e.top -
                      (parseInt(this.helper.css("top"), 10) || 0) +
                      (t ? 0 : this.scrollParent.scrollTop()),
                    left:
                      e.left -
                      (parseInt(this.helper.css("left"), 10) || 0) +
                      (t ? 0 : this.scrollParent.scrollLeft()),
                  };
                },
                _cacheMargins: function () {
                  this.margins = {
                    left: parseInt(this.element.css("marginLeft"), 10) || 0,
                    top: parseInt(this.element.css("marginTop"), 10) || 0,
                    right: parseInt(this.element.css("marginRight"), 10) || 0,
                    bottom: parseInt(this.element.css("marginBottom"), 10) || 0,
                  };
                },
                _cacheHelperProportions: function () {
                  this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight(),
                  };
                },
                _setContainment: function () {
                  var t,
                    i,
                    n,
                    o = this.options,
                    r = this.document[0];
                  (this.relativeContainer = null),
                    o.containment
                      ? "window" !== o.containment
                        ? "document" !== o.containment
                          ? o.containment.constructor !== Array
                            ? ("parent" === o.containment &&
                              (o.containment = this.helper[0].parentNode),
                              (n = (i = e(o.containment))[0]) &&
                              ((t = /(scroll|auto)/.test(i.css("overflow"))),
                                (this.containment = [
                                  (parseInt(i.css("borderLeftWidth"), 10) ||
                                    0) +
                                  (parseInt(i.css("paddingLeft"), 10) || 0),
                                  (parseInt(i.css("borderTopWidth"), 10) || 0) +
                                  (parseInt(i.css("paddingTop"), 10) || 0),
                                  (t
                                    ? Math.max(n.scrollWidth, n.offsetWidth)
                                    : n.offsetWidth) -
                                  (parseInt(i.css("borderRightWidth"), 10) ||
                                    0) -
                                  (parseInt(i.css("paddingRight"), 10) || 0) -
                                  this.helperProportions.width -
                                  this.margins.left -
                                  this.margins.right,
                                  (t
                                    ? Math.max(n.scrollHeight, n.offsetHeight)
                                    : n.offsetHeight) -
                                  (parseInt(i.css("borderBottomWidth"), 10) ||
                                    0) -
                                  (parseInt(i.css("paddingBottom"), 10) ||
                                    0) -
                                  this.helperProportions.height -
                                  this.margins.top -
                                  this.margins.bottom,
                                ]),
                                (this.relativeContainer = i)))
                            : (this.containment = o.containment)
                          : (this.containment = [
                            0,
                            0,
                            e(r).width() -
                            this.helperProportions.width -
                            this.margins.left,
                            (e(r).height() ||
                              r.body.parentNode.scrollHeight) -
                            this.helperProportions.height -
                            this.margins.top,
                          ])
                        : (this.containment = [
                          e(window).scrollLeft() -
                          this.offset.relative.left -
                          this.offset.parent.left,
                          e(window).scrollTop() -
                          this.offset.relative.top -
                          this.offset.parent.top,
                          e(window).scrollLeft() +
                          e(window).width() -
                          this.helperProportions.width -
                          this.margins.left,
                          e(window).scrollTop() +
                          (e(window).height() ||
                            r.body.parentNode.scrollHeight) -
                          this.helperProportions.height -
                          this.margins.top,
                        ])
                      : (this.containment = null);
                },
                _convertPositionTo: function (e, t) {
                  t || (t = this.position);
                  var i = "absolute" === e ? 1 : -1,
                    n = this._isRootNode(this.scrollParent[0]);
                  return {
                    top:
                      t.top +
                      this.offset.relative.top * i +
                      this.offset.parent.top * i -
                      ("fixed" === this.cssPosition
                        ? -this.offset.scroll.top
                        : n
                          ? 0
                          : this.offset.scroll.top) *
                      i,
                    left:
                      t.left +
                      this.offset.relative.left * i +
                      this.offset.parent.left * i -
                      ("fixed" === this.cssPosition
                        ? -this.offset.scroll.left
                        : n
                          ? 0
                          : this.offset.scroll.left) *
                      i,
                  };
                },
                _generatePosition: function (e, t) {
                  var i,
                    n,
                    o,
                    r,
                    a = this.options,
                    s = this._isRootNode(this.scrollParent[0]),
                    l = e.pageX,
                    c = e.pageY;
                  return (
                    (s && this.offset.scroll) ||
                    (this.offset.scroll = {
                      top: this.scrollParent.scrollTop(),
                      left: this.scrollParent.scrollLeft(),
                    }),
                    t &&
                    (this.containment &&
                      (this.relativeContainer
                        ? ((n = this.relativeContainer.offset()),
                          (i = [
                            this.containment[0] + n.left,
                            this.containment[1] + n.top,
                            this.containment[2] + n.left,
                            this.containment[3] + n.top,
                          ]))
                        : (i = this.containment),
                        e.pageX - this.offset.click.left < i[0] &&
                        (l = i[0] + this.offset.click.left),
                        e.pageY - this.offset.click.top < i[1] &&
                        (c = i[1] + this.offset.click.top),
                        e.pageX - this.offset.click.left > i[2] &&
                        (l = i[2] + this.offset.click.left),
                        e.pageY - this.offset.click.top > i[3] &&
                        (c = i[3] + this.offset.click.top)),
                      a.grid &&
                      ((o = a.grid[1]
                        ? this.originalPageY +
                        Math.round((c - this.originalPageY) / a.grid[1]) *
                        a.grid[1]
                        : this.originalPageY),
                        (c = i
                          ? o - this.offset.click.top >= i[1] ||
                            o - this.offset.click.top > i[3]
                            ? o
                            : o - this.offset.click.top >= i[1]
                              ? o - a.grid[1]
                              : o + a.grid[1]
                          : o),
                        (r = a.grid[0]
                          ? this.originalPageX +
                          Math.round((l - this.originalPageX) / a.grid[0]) *
                          a.grid[0]
                          : this.originalPageX),
                        (l = i
                          ? r - this.offset.click.left >= i[0] ||
                            r - this.offset.click.left > i[2]
                            ? r
                            : r - this.offset.click.left >= i[0]
                              ? r - a.grid[0]
                              : r + a.grid[0]
                          : r)),
                      "y" === a.axis && (l = this.originalPageX),
                      "x" === a.axis && (c = this.originalPageY)),
                    {
                      top:
                        c -
                        this.offset.click.top -
                        this.offset.relative.top -
                        this.offset.parent.top +
                        ("fixed" === this.cssPosition
                          ? -this.offset.scroll.top
                          : s
                            ? 0
                            : this.offset.scroll.top),
                      left:
                        l -
                        this.offset.click.left -
                        this.offset.relative.left -
                        this.offset.parent.left +
                        ("fixed" === this.cssPosition
                          ? -this.offset.scroll.left
                          : s
                            ? 0
                            : this.offset.scroll.left),
                    }
                  );
                },
                _clear: function () {
                  this._removeClass(this.helper, "ui-draggable-dragging"),
                    this.helper[0] === this.element[0] ||
                    this.cancelHelperRemoval ||
                    this.helper.remove(),
                    (this.helper = null),
                    (this.cancelHelperRemoval = !1),
                    this.destroyOnClear && this.destroy();
                },
                _trigger: function (t, i, n) {
                  return (
                    (n = n || this._uiHash()),
                    e.ui.plugin.call(this, t, [i, n, this], !0),
                    /^(drag|start|stop)/.test(t) &&
                    ((this.positionAbs = this._convertPositionTo("absolute")),
                      (n.offset = this.positionAbs)),
                    e.Widget.prototype._trigger.call(this, t, i, n)
                  );
                },
                plugins: {},
                _uiHash: function () {
                  return {
                    helper: this.helper,
                    position: this.position,
                    originalPosition: this.originalPosition,
                    offset: this.positionAbs,
                  };
                },
              }),
              e.ui.plugin.add("draggable", "connectToSortable", {
                start: function (t, i, n) {
                  var o = e.extend({}, i, { item: n.element });
                  (n.sortables = []),
                    e(n.options.connectToSortable).each(function () {
                      var i = e(this).sortable("instance");
                      i &&
                        !i.options.disabled &&
                        (n.sortables.push(i),
                          i.refreshPositions(),
                          i._trigger("activate", t, o));
                    });
                },
                stop: function (t, i, n) {
                  var o = e.extend({}, i, { item: n.element });
                  (n.cancelHelperRemoval = !1),
                    e.each(n.sortables, function () {
                      this.isOver
                        ? ((this.isOver = 0),
                          (n.cancelHelperRemoval = !0),
                          (this.cancelHelperRemoval = !1),
                          (this._storedCSS = {
                            position: this.placeholder.css("position"),
                            top: this.placeholder.css("top"),
                            left: this.placeholder.css("left"),
                          }),
                          this._mouseStop(t),
                          (this.options.helper = this.options._helper))
                        : ((this.cancelHelperRemoval = !0),
                          this._trigger("deactivate", t, o));
                    });
                },
                drag: function (t, i, n) {
                  e.each(n.sortables, function () {
                    var o = !1,
                      r = this;
                    (r.positionAbs = n.positionAbs),
                      (r.helperProportions = n.helperProportions),
                      (r.offset.click = n.offset.click),
                      r._intersectsWith(r.containerCache) &&
                      ((o = !0),
                        e.each(n.sortables, function () {
                          return (
                            (this.positionAbs = n.positionAbs),
                            (this.helperProportions = n.helperProportions),
                            (this.offset.click = n.offset.click),
                            this !== r &&
                            this._intersectsWith(this.containerCache) &&
                            e.contains(r.element[0], this.element[0]) &&
                            (o = !1),
                            o
                          );
                        })),
                      o
                        ? (r.isOver ||
                          ((r.isOver = 1),
                            (n._parent = i.helper.parent()),
                            (r.currentItem = i.helper
                              .appendTo(r.element)
                              .data("ui-sortable-item", !0)),
                            (r.options._helper = r.options.helper),
                            (r.options.helper = function () {
                              return i.helper[0];
                            }),
                            (t.target = r.currentItem[0]),
                            r._mouseCapture(t, !0),
                            r._mouseStart(t, !0, !0),
                            (r.offset.click.top = n.offset.click.top),
                            (r.offset.click.left = n.offset.click.left),
                            (r.offset.parent.left -=
                              n.offset.parent.left - r.offset.parent.left),
                            (r.offset.parent.top -=
                              n.offset.parent.top - r.offset.parent.top),
                            n._trigger("toSortable", t),
                            (n.dropped = r.element),
                            e.each(n.sortables, function () {
                              this.refreshPositions();
                            }),
                            (n.currentItem = n.element),
                            (r.fromOutside = n)),
                          r.currentItem &&
                          (r._mouseDrag(t), (i.position = r.position)))
                        : r.isOver &&
                        ((r.isOver = 0),
                          (r.cancelHelperRemoval = !0),
                          (r.options._revert = r.options.revert),
                          (r.options.revert = !1),
                          r._trigger("out", t, r._uiHash(r)),
                          r._mouseStop(t, !0),
                          (r.options.revert = r.options._revert),
                          (r.options.helper = r.options._helper),
                          r.placeholder && r.placeholder.remove(),
                          i.helper.appendTo(n._parent),
                          n._refreshOffsets(t),
                          (i.position = n._generatePosition(t, !0)),
                          n._trigger("fromSortable", t),
                          (n.dropped = !1),
                          e.each(n.sortables, function () {
                            this.refreshPositions();
                          }));
                  });
                },
              }),
              e.ui.plugin.add("draggable", "cursor", {
                start: function (t, i, n) {
                  var o = e("body"),
                    r = n.options;
                  o.css("cursor") && (r._cursor = o.css("cursor")),
                    o.css("cursor", r.cursor);
                },
                stop: function (t, i, n) {
                  var o = n.options;
                  o._cursor && e("body").css("cursor", o._cursor);
                },
              }),
              e.ui.plugin.add("draggable", "opacity", {
                start: function (t, i, n) {
                  var o = e(i.helper),
                    r = n.options;
                  o.css("opacity") && (r._opacity = o.css("opacity")),
                    o.css("opacity", r.opacity);
                },
                stop: function (t, i, n) {
                  var o = n.options;
                  o._opacity && e(i.helper).css("opacity", o._opacity);
                },
              }),
              e.ui.plugin.add("draggable", "scroll", {
                start: function (e, t, i) {
                  i.scrollParentNotHidden ||
                    (i.scrollParentNotHidden = i.helper.scrollParent(!1)),
                    i.scrollParentNotHidden[0] !== i.document[0] &&
                    "HTML" !== i.scrollParentNotHidden[0].tagName &&
                    (i.overflowOffset = i.scrollParentNotHidden.offset());
                },
                drag: function (t, i, n) {
                  var o = n.options,
                    r = !1,
                    a = n.scrollParentNotHidden[0],
                    s = n.document[0];
                  a !== s && "HTML" !== a.tagName
                    ? ((o.axis && "x" === o.axis) ||
                      (n.overflowOffset.top + a.offsetHeight - t.pageY <
                        o.scrollSensitivity
                        ? (a.scrollTop = r = a.scrollTop + o.scrollSpeed)
                        : t.pageY - n.overflowOffset.top <
                        o.scrollSensitivity &&
                        (a.scrollTop = r = a.scrollTop - o.scrollSpeed)),
                      (o.axis && "y" === o.axis) ||
                      (n.overflowOffset.left + a.offsetWidth - t.pageX <
                        o.scrollSensitivity
                        ? (a.scrollLeft = r = a.scrollLeft + o.scrollSpeed)
                        : t.pageX - n.overflowOffset.left <
                        o.scrollSensitivity &&
                        (a.scrollLeft = r = a.scrollLeft - o.scrollSpeed)))
                    : ((o.axis && "x" === o.axis) ||
                      (t.pageY - e(s).scrollTop() < o.scrollSensitivity
                        ? (r = e(s).scrollTop(
                          e(s).scrollTop() - o.scrollSpeed
                        ))
                        : e(window).height() - (t.pageY - e(s).scrollTop()) <
                        o.scrollSensitivity &&
                        (r = e(s).scrollTop(
                          e(s).scrollTop() + o.scrollSpeed
                        ))),
                      (o.axis && "y" === o.axis) ||
                      (t.pageX - e(s).scrollLeft() < o.scrollSensitivity
                        ? (r = e(s).scrollLeft(
                          e(s).scrollLeft() - o.scrollSpeed
                        ))
                        : e(window).width() - (t.pageX - e(s).scrollLeft()) <
                        o.scrollSensitivity &&
                        (r = e(s).scrollLeft(
                          e(s).scrollLeft() + o.scrollSpeed
                        )))),
                    !1 !== r &&
                    e.ui.ddmanager &&
                    !o.dropBehaviour &&
                    e.ui.ddmanager.prepareOffsets(n, t);
                },
              }),
              e.ui.plugin.add("draggable", "snap", {
                start: function (t, i, n) {
                  var o = n.options;
                  (n.snapElements = []),
                    e(
                      o.snap.constructor !== String
                        ? o.snap.items || ":data(ui-draggable)"
                        : o.snap
                    ).each(function () {
                      var t = e(this),
                        i = t.offset();
                      this !== n.element[0] &&
                        n.snapElements.push({
                          item: this,
                          width: t.outerWidth(),
                          height: t.outerHeight(),
                          top: i.top,
                          left: i.left,
                        });
                    });
                },
                drag: function (t, i, n) {
                  var o,
                    r,
                    a,
                    s,
                    l,
                    c,
                    u,
                    d,
                    p,
                    h,
                    f = n.options,
                    g = f.snapTolerance,
                    m = i.offset.left,
                    v = m + n.helperProportions.width,
                    b = i.offset.top,
                    y = b + n.helperProportions.height;
                  for (p = n.snapElements.length - 1; p >= 0; p--)
                    (c =
                      (l = n.snapElements[p].left - n.margins.left) +
                      n.snapElements[p].width),
                      (d =
                        (u = n.snapElements[p].top - n.margins.top) +
                        n.snapElements[p].height),
                      v < l - g ||
                        m > c + g ||
                        y < u - g ||
                        b > d + g ||
                        !e.contains(
                          n.snapElements[p].item.ownerDocument,
                          n.snapElements[p].item
                        )
                        ? (n.snapElements[p].snapping &&
                          n.options.snap.release &&
                          n.options.snap.release.call(
                            n.element,
                            t,
                            e.extend(n._uiHash(), {
                              snapItem: n.snapElements[p].item,
                            })
                          ),
                          (n.snapElements[p].snapping = !1))
                        : ("inner" !== f.snapMode &&
                          ((o = Math.abs(u - y) <= g),
                            (r = Math.abs(d - b) <= g),
                            (a = Math.abs(l - v) <= g),
                            (s = Math.abs(c - m) <= g),
                            o &&
                            (i.position.top = n._convertPositionTo(
                              "relative",
                              { top: u - n.helperProportions.height, left: 0 }
                            ).top),
                            r &&
                            (i.position.top = n._convertPositionTo(
                              "relative",
                              { top: d, left: 0 }
                            ).top),
                            a &&
                            (i.position.left = n._convertPositionTo(
                              "relative",
                              { top: 0, left: l - n.helperProportions.width }
                            ).left),
                            s &&
                            (i.position.left = n._convertPositionTo(
                              "relative",
                              { top: 0, left: c }
                            ).left)),
                          (h = o || r || a || s),
                          "outer" !== f.snapMode &&
                          ((o = Math.abs(u - b) <= g),
                            (r = Math.abs(d - y) <= g),
                            (a = Math.abs(l - m) <= g),
                            (s = Math.abs(c - v) <= g),
                            o &&
                            (i.position.top = n._convertPositionTo(
                              "relative",
                              { top: u, left: 0 }
                            ).top),
                            r &&
                            (i.position.top = n._convertPositionTo(
                              "relative",
                              { top: d - n.helperProportions.height, left: 0 }
                            ).top),
                            a &&
                            (i.position.left = n._convertPositionTo(
                              "relative",
                              { top: 0, left: l }
                            ).left),
                            s &&
                            (i.position.left = n._convertPositionTo(
                              "relative",
                              { top: 0, left: c - n.helperProportions.width }
                            ).left)),
                          !n.snapElements[p].snapping &&
                          (o || r || a || s || h) &&
                          n.options.snap.snap &&
                          n.options.snap.snap.call(
                            n.element,
                            t,
                            e.extend(n._uiHash(), {
                              snapItem: n.snapElements[p].item,
                            })
                          ),
                          (n.snapElements[p].snapping = o || r || a || s || h));
                },
              }),
              e.ui.plugin.add("draggable", "stack", {
                start: function (t, i, n) {
                  var o,
                    r = n.options,
                    a = e.makeArray(e(r.stack)).sort(function (t, i) {
                      return (
                        (parseInt(e(t).css("zIndex"), 10) || 0) -
                        (parseInt(e(i).css("zIndex"), 10) || 0)
                      );
                    });
                  a.length &&
                    ((o = parseInt(e(a[0]).css("zIndex"), 10) || 0),
                      e(a).each(function (t) {
                        e(this).css("zIndex", o + t);
                      }),
                      this.css("zIndex", o + a.length));
                },
              }),
              e.ui.plugin.add("draggable", "zIndex", {
                start: function (t, i, n) {
                  var o = e(i.helper),
                    r = n.options;
                  o.css("zIndex") && (r._zIndex = o.css("zIndex")),
                    o.css("zIndex", r.zIndex);
                },
                stop: function (t, i, n) {
                  var o = n.options;
                  o._zIndex && e(i.helper).css("zIndex", o._zIndex);
                },
              }),
              e.ui.draggable
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Menu 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(6), i(9), i(10), i(8), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.widget("ui.menu", {
              version: "1.12.1",
              defaultElement: "<ul>",
              delay: 300,
              options: {
                icons: { submenu: "ui-icon-caret-1-e" },
                items: "> *",
                menus: "ul",
                position: { my: "left top", at: "right top" },
                role: "menu",
                blur: null,
                focus: null,
                select: null,
              },
              _create: function () {
                (this.activeMenu = this.element),
                  (this.mouseHandled = !1),
                  this.element
                    .uniqueId()
                    .attr({ role: this.options.role, tabIndex: 0 }),
                  this._addClass("ui-menu", "ui-widget ui-widget-content"),
                  this._on({
                    "mousedown .ui-menu-item": function (e) {
                      e.preventDefault();
                    },
                    "click .ui-menu-item": function (t) {
                      var i = e(t.target),
                        n = e(e.ui.safeActiveElement(this.document[0]));
                      !this.mouseHandled &&
                        i.not(".ui-state-disabled").length &&
                        (this.select(t),
                          t.isPropagationStopped() || (this.mouseHandled = !0),
                          i.has(".ui-menu").length
                            ? this.expand(t)
                            : !this.element.is(":focus") &&
                            n.closest(".ui-menu").length &&
                            (this.element.trigger("focus", [!0]),
                              this.active &&
                              1 === this.active.parents(".ui-menu").length &&
                              clearTimeout(this.timer)));
                    },
                    "mouseenter .ui-menu-item": function (t) {
                      if (!this.previousFilter) {
                        var i = e(t.target).closest(".ui-menu-item"),
                          n = e(t.currentTarget);
                        i[0] === n[0] &&
                          (this._removeClass(
                            n.siblings().children(".ui-state-active"),
                            null,
                            "ui-state-active"
                          ),
                            this.focus(t, n));
                      }
                    },
                    mouseleave: "collapseAll",
                    "mouseleave .ui-menu": "collapseAll",
                    focus: function (e, t) {
                      var i =
                        this.active ||
                        this.element.find(this.options.items).eq(0);
                      t || this.focus(e, i);
                    },
                    blur: function (t) {
                      this._delay(function () {
                        !e.contains(
                          this.element[0],
                          e.ui.safeActiveElement(this.document[0])
                        ) && this.collapseAll(t);
                      });
                    },
                    keydown: "_keydown",
                  }),
                  this.refresh(),
                  this._on(this.document, {
                    click: function (e) {
                      this._closeOnDocumentClick(e) && this.collapseAll(e),
                        (this.mouseHandled = !1);
                    },
                  });
              },
              _destroy: function () {
                var t = this.element
                  .find(".ui-menu-item")
                  .removeAttr("role aria-disabled")
                  .children(".ui-menu-item-wrapper")
                  .removeUniqueId()
                  .removeAttr("tabIndex role aria-haspopup");
                this.element
                  .removeAttr("aria-activedescendant")
                  .find(".ui-menu")
                  .addBack()
                  .removeAttr(
                    "role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex"
                  )
                  .removeUniqueId()
                  .show(),
                  t.children().each(function () {
                    var t = e(this);
                    t.data("ui-menu-submenu-caret") && t.remove();
                  });
              },
              _keydown: function (t) {
                var i,
                  n,
                  o,
                  r,
                  a = !0;
                switch (t.keyCode) {
                  case e.ui.keyCode.PAGE_UP:
                    this.previousPage(t);
                    break;
                  case e.ui.keyCode.PAGE_DOWN:
                    this.nextPage(t);
                    break;
                  case e.ui.keyCode.HOME:
                    this._move("first", "first", t);
                    break;
                  case e.ui.keyCode.END:
                    this._move("last", "last", t);
                    break;
                  case e.ui.keyCode.UP:
                    this.previous(t);
                    break;
                  case e.ui.keyCode.DOWN:
                    this.next(t);
                    break;
                  case e.ui.keyCode.LEFT:
                    this.collapse(t);
                    break;
                  case e.ui.keyCode.RIGHT:
                    this.active &&
                      !this.active.is(".ui-state-disabled") &&
                      this.expand(t);
                    break;
                  case e.ui.keyCode.ENTER:
                  case e.ui.keyCode.SPACE:
                    this._activate(t);
                    break;
                  case e.ui.keyCode.ESCAPE:
                    this.collapse(t);
                    break;
                  default:
                    (a = !1),
                      (n = this.previousFilter || ""),
                      (r = !1),
                      (o =
                        t.keyCode >= 96 && t.keyCode <= 105
                          ? (t.keyCode - 96).toString()
                          : String.fromCharCode(t.keyCode)),
                      clearTimeout(this.filterTimer),
                      o === n ? (r = !0) : (o = n + o),
                      (i = this._filterMenuItems(o)),
                      (i =
                        r && -1 !== i.index(this.active.next())
                          ? this.active.nextAll(".ui-menu-item")
                          : i).length ||
                      ((o = String.fromCharCode(t.keyCode)),
                        (i = this._filterMenuItems(o))),
                      i.length
                        ? (this.focus(t, i),
                          (this.previousFilter = o),
                          (this.filterTimer = this._delay(function () {
                            delete this.previousFilter;
                          }, 1e3)))
                        : delete this.previousFilter;
                }
                a && t.preventDefault();
              },
              _activate: function (e) {
                this.active &&
                  !this.active.is(".ui-state-disabled") &&
                  (this.active.children("[aria-haspopup='true']").length
                    ? this.expand(e)
                    : this.select(e));
              },
              refresh: function () {
                var t,
                  i,
                  n,
                  o,
                  r = this,
                  a = this.options.icons.submenu,
                  s = this.element.find(this.options.menus);
                this._toggleClass(
                  "ui-menu-icons",
                  null,
                  !!this.element.find(".ui-icon").length
                ),
                  (i = s
                    .filter(":not(.ui-menu)")
                    .hide()
                    .attr({
                      role: this.options.role,
                      "aria-hidden": "true",
                      "aria-expanded": "false",
                    })
                    .each(function () {
                      var t = e(this),
                        i = t.prev(),
                        n = e("<span>").data("ui-menu-submenu-caret", !0);
                      r._addClass(n, "ui-menu-icon", "ui-icon " + a),
                        i.attr("aria-haspopup", "true").prepend(n),
                        t.attr("aria-labelledby", i.attr("id"));
                    })),
                  this._addClass(
                    i,
                    "ui-menu",
                    "ui-widget ui-widget-content ui-front"
                  ),
                  (t = s.add(this.element).find(this.options.items))
                    .not(".ui-menu-item")
                    .each(function () {
                      var t = e(this);
                      r._isDivider(t) &&
                        r._addClass(t, "ui-menu-divider", "ui-widget-content");
                    }),
                  (o = (n = t.not(".ui-menu-item, .ui-menu-divider"))
                    .children()
                    .not(".ui-menu")
                    .uniqueId()
                    .attr({ tabIndex: -1, role: this._itemRole() })),
                  this._addClass(n, "ui-menu-item")._addClass(
                    o,
                    "ui-menu-item-wrapper"
                  ),
                  t.filter(".ui-state-disabled").attr("aria-disabled", "true"),
                  this.active &&
                  !e.contains(this.element[0], this.active[0]) &&
                  this.blur();
              },
              _itemRole: function () {
                return { menu: "menuitem", listbox: "option" }[
                  this.options.role
                ];
              },
              _setOption: function (e, t) {
                if ("icons" === e) {
                  var i = this.element.find(".ui-menu-icon");
                  this._removeClass(
                    i,
                    null,
                    this.options.icons.submenu
                  )._addClass(i, null, t.submenu);
                }
                this._super(e, t);
              },
              _setOptionDisabled: function (e) {
                this._super(e),
                  this.element.attr("aria-disabled", String(e)),
                  this._toggleClass(null, "ui-state-disabled", !!e);
              },
              focus: function (e, t) {
                var i, n, o;
                this.blur(e, e && "focus" === e.type),
                  this._scrollIntoView(t),
                  (this.active = t.first()),
                  (n = this.active.children(".ui-menu-item-wrapper")),
                  this._addClass(n, null, "ui-state-active"),
                  this.options.role &&
                  this.element.attr("aria-activedescendant", n.attr("id")),
                  (o = this.active
                    .parent()
                    .closest(".ui-menu-item")
                    .children(".ui-menu-item-wrapper")),
                  this._addClass(o, null, "ui-state-active"),
                  e && "keydown" === e.type
                    ? this._close()
                    : (this.timer = this._delay(function () {
                      this._close();
                    }, this.delay)),
                  (i = t.children(".ui-menu")).length &&
                  e &&
                  /^mouse/.test(e.type) &&
                  this._startOpening(i),
                  (this.activeMenu = t.parent()),
                  this._trigger("focus", e, { item: t });
              },
              _scrollIntoView: function (t) {
                var i, n, o, r, a, s;
                this._hasScroll() &&
                  ((i =
                    parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) ||
                    0),
                    (n =
                      parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0),
                    (o = t.offset().top - this.activeMenu.offset().top - i - n),
                    (r = this.activeMenu.scrollTop()),
                    (a = this.activeMenu.height()),
                    (s = t.outerHeight()),
                    o < 0
                      ? this.activeMenu.scrollTop(r + o)
                      : o + s > a && this.activeMenu.scrollTop(r + o - a + s));
              },
              blur: function (e, t) {
                t || clearTimeout(this.timer),
                  this.active &&
                  (this._removeClass(
                    this.active.children(".ui-menu-item-wrapper"),
                    null,
                    "ui-state-active"
                  ),
                    this._trigger("blur", e, { item: this.active }),
                    (this.active = null));
              },
              _startOpening: function (e) {
                clearTimeout(this.timer),
                  "true" === e.attr("aria-hidden") &&
                  (this.timer = this._delay(function () {
                    this._close(), this._open(e);
                  }, this.delay));
              },
              _open: function (t) {
                var i = e.extend({ of: this.active }, this.options.position);
                clearTimeout(this.timer),
                  this.element
                    .find(".ui-menu")
                    .not(t.parents(".ui-menu"))
                    .hide()
                    .attr("aria-hidden", "true"),
                  t
                    .show()
                    .removeAttr("aria-hidden")
                    .attr("aria-expanded", "true")
                    .position(i);
              },
              collapseAll: function (t, i) {
                clearTimeout(this.timer),
                  (this.timer = this._delay(function () {
                    var n = i
                      ? this.element
                      : e(t && t.target).closest(this.element.find(".ui-menu"));
                    n.length || (n = this.element),
                      this._close(n),
                      this.blur(t),
                      this._removeClass(
                        n.find(".ui-state-active"),
                        null,
                        "ui-state-active"
                      ),
                      (this.activeMenu = n);
                  }, this.delay));
              },
              _close: function (e) {
                e || (e = this.active ? this.active.parent() : this.element),
                  e
                    .find(".ui-menu")
                    .hide()
                    .attr("aria-hidden", "true")
                    .attr("aria-expanded", "false");
              },
              _closeOnDocumentClick: function (t) {
                return !e(t.target).closest(".ui-menu").length;
              },
              _isDivider: function (e) {
                return !/[^\-\u2014\u2013\s]/.test(e.text());
              },
              collapse: function (e) {
                var t =
                  this.active &&
                  this.active.parent().closest(".ui-menu-item", this.element);
                t && t.length && (this._close(), this.focus(e, t));
              },
              expand: function (e) {
                var t =
                  this.active &&
                  this.active
                    .children(".ui-menu ")
                    .find(this.options.items)
                    .first();
                t &&
                  t.length &&
                  (this._open(t.parent()),
                    this._delay(function () {
                      this.focus(e, t);
                    }));
              },
              next: function (e) {
                this._move("next", "first", e);
              },
              previous: function (e) {
                this._move("prev", "last", e);
              },
              isFirstItem: function () {
                return (
                  this.active && !this.active.prevAll(".ui-menu-item").length
                );
              },
              isLastItem: function () {
                return (
                  this.active && !this.active.nextAll(".ui-menu-item").length
                );
              },
              _move: function (e, t, i) {
                var n;
                this.active &&
                  (n =
                    "first" === e || "last" === e
                      ? this.active["first" === e ? "prevAll" : "nextAll"](
                        ".ui-menu-item"
                      ).eq(-1)
                      : this.active[e + "All"](".ui-menu-item").eq(0)),
                  (n && n.length && this.active) ||
                  (n = this.activeMenu.find(this.options.items)[t]()),
                  this.focus(i, n);
              },
              nextPage: function (t) {
                var i, n, o;
                this.active
                  ? this.isLastItem() ||
                  (this._hasScroll()
                    ? ((n = this.active.offset().top),
                      (o = this.element.height()),
                      this.active.nextAll(".ui-menu-item").each(function () {
                        return (i = e(this)).offset().top - n - o < 0;
                      }),
                      this.focus(t, i))
                    : this.focus(
                      t,
                      this.activeMenu
                        .find(this.options.items)
                      [this.active ? "last" : "first"]()
                    ))
                  : this.next(t);
              },
              previousPage: function (t) {
                var i, n, o;
                this.active
                  ? this.isFirstItem() ||
                  (this._hasScroll()
                    ? ((n = this.active.offset().top),
                      (o = this.element.height()),
                      this.active.prevAll(".ui-menu-item").each(function () {
                        return (i = e(this)).offset().top - n + o > 0;
                      }),
                      this.focus(t, i))
                    : this.focus(
                      t,
                      this.activeMenu.find(this.options.items).first()
                    ))
                  : this.next(t);
              },
              _hasScroll: function () {
                return (
                  this.element.outerHeight() < this.element.prop("scrollHeight")
                );
              },
              select: function (t) {
                this.active =
                  this.active || e(t.target).closest(".ui-menu-item");
                var i = { item: this.active };
                this.active.has(".ui-menu").length || this.collapseAll(t, !0),
                  this._trigger("select", t, i);
              },
              _filterMenuItems: function (t) {
                var i = t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"),
                  n = new RegExp("^" + i, "i");
                return this.activeMenu
                  .find(this.options.items)
                  .filter(".ui-menu-item")
                  .filter(function () {
                    return n.test(
                      e.trim(e(this).children(".ui-menu-item-wrapper").text())
                    );
                  });
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Button 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(31), i(32), i(6), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            var t;
            return (
              e.widget("ui.button", {
                version: "1.12.1",
                defaultElement: "<button>",
                options: {
                  classes: { "ui-button": "ui-corner-all" },
                  disabled: null,
                  icon: null,
                  iconPosition: "beginning",
                  label: null,
                  showLabel: !0,
                },
                _getCreateOptions: function () {
                  var e,
                    t = this._super() || {};
                  return (
                    (this.isInput = this.element.is("input")),
                    null != (e = this.element[0].disabled) && (t.disabled = e),
                    (this.originalLabel = this.isInput
                      ? this.element.val()
                      : this.element.html()),
                    this.originalLabel && (t.label = this.originalLabel),
                    t
                  );
                },
                _create: function () {
                  !this.option.showLabel & !this.options.icon &&
                    (this.options.showLabel = !0),
                    null == this.options.disabled &&
                    (this.options.disabled = this.element[0].disabled || !1),
                    (this.hasTitle = !!this.element.attr("title")),
                    this.options.label &&
                    this.options.label !== this.originalLabel &&
                    (this.isInput
                      ? this.element.val(this.options.label)
                      : this.element.html(this.options.label)),
                    this._addClass("ui-button", "ui-widget"),
                    this._setOption("disabled", this.options.disabled),
                    this._enhance(),
                    this.element.is("a") &&
                    this._on({
                      keyup: function (t) {
                        t.keyCode === e.ui.keyCode.SPACE &&
                          (t.preventDefault(),
                            this.element[0].click
                              ? this.element[0].click()
                              : this.element.trigger("click"));
                      },
                    });
                },
                _enhance: function () {
                  this.element.is("button") ||
                    this.element.attr("role", "button"),
                    this.options.icon &&
                    (this._updateIcon("icon", this.options.icon),
                      this._updateTooltip());
                },
                _updateTooltip: function () {
                  (this.title = this.element.attr("title")),
                    this.options.showLabel ||
                    this.title ||
                    this.element.attr("title", this.options.label);
                },
                _updateIcon: function (t, i) {
                  var n = "iconPosition" !== t,
                    o = n ? this.options.iconPosition : i,
                    r = "top" === o || "bottom" === o;
                  this.icon
                    ? n && this._removeClass(this.icon, null, this.options.icon)
                    : ((this.icon = e("<span>")),
                      this._addClass(this.icon, "ui-button-icon", "ui-icon"),
                      this.options.showLabel ||
                      this._addClass("ui-button-icon-only")),
                    n && this._addClass(this.icon, null, i),
                    this._attachIcon(o),
                    r
                      ? (this._addClass(
                        this.icon,
                        null,
                        "ui-widget-icon-block"
                      ),
                        this.iconSpace && this.iconSpace.remove())
                      : (this.iconSpace ||
                        ((this.iconSpace = e("<span> </span>")),
                          this._addClass(
                            this.iconSpace,
                            "ui-button-icon-space"
                          )),
                        this._removeClass(
                          this.icon,
                          null,
                          "ui-wiget-icon-block"
                        ),
                        this._attachIconSpace(o));
                },
                _destroy: function () {
                  this.element.removeAttr("role"),
                    this.icon && this.icon.remove(),
                    this.iconSpace && this.iconSpace.remove(),
                    this.hasTitle || this.element.removeAttr("title");
                },
                _attachIconSpace: function (e) {
                  this.icon[/^(?:end|bottom)/.test(e) ? "before" : "after"](
                    this.iconSpace
                  );
                },
                _attachIcon: function (e) {
                  this.element[
                    /^(?:end|bottom)/.test(e) ? "append" : "prepend"
                  ](this.icon);
                },
                _setOptions: function (e) {
                  var t =
                    void 0 === e.showLabel
                      ? this.options.showLabel
                      : e.showLabel,
                    i = void 0 === e.icon ? this.options.icon : e.icon;
                  t || i || (e.showLabel = !0), this._super(e);
                },
                _setOption: function (e, t) {
                  "icon" === e &&
                    (t
                      ? this._updateIcon(e, t)
                      : this.icon &&
                      (this.icon.remove(),
                        this.iconSpace && this.iconSpace.remove())),
                    "iconPosition" === e && this._updateIcon(e, t),
                    "showLabel" === e &&
                    (this._toggleClass("ui-button-icon-only", null, !t),
                      this._updateTooltip()),
                    "label" === e &&
                    (this.isInput
                      ? this.element.val(t)
                      : (this.element.html(t),
                        this.icon &&
                        (this._attachIcon(this.options.iconPosition),
                          this._attachIconSpace(this.options.iconPosition)))),
                    this._super(e, t),
                    "disabled" === e &&
                    (this._toggleClass(null, "ui-state-disabled", t),
                      (this.element[0].disabled = t),
                      t && this.element.blur());
                },
                refresh: function () {
                  var e = this.element.is("input, button")
                    ? this.element[0].disabled
                    : this.element.hasClass("ui-button-disabled");
                  e !== this.options.disabled &&
                    this._setOptions({ disabled: e }),
                    this._updateTooltip();
                },
              }),
              !1 !== e.uiBackCompat &&
              (e.widget("ui.button", e.ui.button, {
                options: {
                  text: !0,
                  icons: { primary: null, secondary: null },
                },
                _create: function () {
                  this.options.showLabel &&
                    !this.options.text &&
                    (this.options.showLabel = this.options.text),
                    !this.options.showLabel &&
                    this.options.text &&
                    (this.options.text = this.options.showLabel),
                    this.options.icon ||
                      (!this.options.icons.primary &&
                        !this.options.icons.secondary)
                      ? this.options.icon &&
                      (this.options.icons.primary = this.options.icon)
                      : this.options.icons.primary
                        ? (this.options.icon = this.options.icons.primary)
                        : ((this.options.icon = this.options.icons.secondary),
                          (this.options.iconPosition = "end")),
                    this._super();
                },
                _setOption: function (e, t) {
                  "text" !== e
                    ? ("showLabel" === e && (this.options.text = t),
                      "icon" === e && (this.options.icons.primary = t),
                      "icons" === e &&
                      (t.primary
                        ? (this._super("icon", t.primary),
                          this._super("iconPosition", "beginning"))
                        : t.secondary &&
                        (this._super("icon", t.secondary),
                          this._super("iconPosition", "end"))),
                      this._superApply(arguments))
                    : this._super("showLabel", t);
                },
              }),
                (e.fn.button =
                  ((t = e.fn.button),
                    function () {
                      return !this.length ||
                        (this.length && "INPUT" !== this[0].tagName) ||
                        (this.length &&
                          "INPUT" === this[0].tagName &&
                          "checkbox" !== this.attr("type") &&
                          "radio" !== this.attr("type"))
                        ? t.apply(this, arguments)
                        : (e.ui.checkboxradio ||
                          e.error("Checkboxradio widget missing"),
                          0 === arguments.length
                            ? this.checkboxradio({ icon: !1 })
                            : this.checkboxradio.apply(this, arguments));
                    })),
                (e.fn.buttonset = function () {
                  return (
                    e.ui.controlgroup || e.error("Controlgroup widget missing"),
                    "option" === arguments[0] &&
                      "items" === arguments[1] &&
                      arguments[2]
                      ? this.controlgroup.apply(this, [
                        arguments[0],
                        "items.button",
                        arguments[2],
                      ])
                      : "option" === arguments[0] && "items" === arguments[1]
                        ? this.controlgroup.apply(this, [
                          arguments[0],
                          "items.button",
                        ])
                        : ("object" == typeof arguments[0] &&
                          arguments[0].items &&
                          (arguments[0].items = { button: arguments[0].items }),
                          this.controlgroup.apply(this, arguments))
                  );
                })),
              e.ui.button
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    e.exports = i.p + "34cfd3c1c29aab7e0099fd50ebd2e9c5.eot";
  },
  function (e, t, i) {
    e.exports = i.p + "60a9390592198c43de4d029af34683ee.eot";
  },
  function (e, t, i) {
    (function (e) {
      /**
       * @license AngularJS v1.3.15
       * (c) 2010-2014 Google, Inc. http://angularjs.org
       * License: MIT
       */
      !(function (t, i, n) {
        "use strict";
        function o(e, t) {
          return (
            (t = t || Error),
            function () {
              var i,
                n,
                o = arguments[0],
                r = "[" + (e ? e + ":" : "") + o + "] ",
                a = arguments[1],
                s = arguments;
              for (
                i =
                (i =
                  r +
                  a.replace(/\{\d+\}/g, function (e) {
                    var t = +e.slice(1, -1);
                    return t + 2 < s.length ? Le(s[t + 2]) : e;
                  })) +
                "\nhttp://errors.angularjs.org/1.3.15/" +
                (e ? e + "/" : "") +
                o,
                n = 2;
                n < arguments.length;
                n++
              )
                i =
                  i +
                  (2 == n ? "?" : "&") +
                  "p" +
                  (n - 2) +
                  "=" +
                  encodeURIComponent(Le(arguments[n]));
              return new t(i);
            }
          );
        }
        var r = /^\/(.+)\/([a-z]*)$/,
          a = function (e) {
            return N(e) ? e.toLowerCase() : e;
          },
          s = Object.prototype.hasOwnProperty,
          l = function (e) {
            return N(e) ? e.toUpperCase() : e;
          };
        "i" !== "I".toLowerCase() &&
          ((a = function (e) {
            return N(e)
              ? e.replace(/[A-Z]/g, function (e) {
                return String.fromCharCode(32 | e.charCodeAt(0));
              })
              : e;
          }),
            (l = function (e) {
              return N(e)
                ? e.replace(/[a-z]/g, function (e) {
                  return String.fromCharCode(-33 & e.charCodeAt(0));
                })
                : e;
            }));
        var c,
          u,
          d,
          p,
          h = [].slice,
          f = [].splice,
          g = [].push,
          m = Object.prototype.toString,
          v = o("ng"),
          b = t.angular || (t.angular = {}),
          y = 0;
        function x(e) {
          if (null == e || V(e)) return !1;
          var t = e.length;
          return (
            !(e.nodeType !== Ce || !t) ||
            N(e) ||
            z(e) ||
            0 === t ||
            ("number" == typeof t && t > 0 && t - 1 in e)
          );
        }
        function w(e, t, i) {
          var n, o;
          if (e)
            if ($(e))
              for (n in e)
                "prototype" == n ||
                  "length" == n ||
                  "name" == n ||
                  (e.hasOwnProperty && !e.hasOwnProperty(n)) ||
                  t.call(i, e[n], n, e);
            else if (z(e) || x(e)) {
              var r = "object" != typeof e;
              for (n = 0, o = e.length; n < o; n++)
                (r || n in e) && t.call(i, e[n], n, e);
            } else if (e.forEach && e.forEach !== w) e.forEach(t, i, e);
            else for (n in e) e.hasOwnProperty(n) && t.call(i, e[n], n, e);
          return e;
        }
        function _(e) {
          return Object.keys(e).sort();
        }
        function A(e) {
          return function (t, i) {
            e(i, t);
          };
        }
        function E() {
          return ++y;
        }
        function S(e, t) {
          t ? (e.$$hashKey = t) : delete e.$$hashKey;
        }
        function T(e) {
          for (var t = e.$$hashKey, i = 1, n = arguments.length; i < n; i++) {
            var o = arguments[i];
            if (o)
              for (var r = Object.keys(o), a = 0, s = r.length; a < s; a++) {
                var l = r[a];
                e[l] = o[l];
              }
          }
          return S(e, t), e;
        }
        function C(e) {
          return parseInt(e, 10);
        }
        function k(e, t) {
          return T(Object.create(e), t);
        }
        function L() { }
        function D(e) {
          return e;
        }
        function I(e) {
          return function () {
            return e;
          };
        }
        function P(e) {
          return void 0 === e;
        }
        function O(e) {
          return void 0 !== e;
        }
        function M(e) {
          return null !== e && "object" == typeof e;
        }
        function N(e) {
          return "string" == typeof e;
        }
        function R(e) {
          return "number" == typeof e;
        }
        function B(e) {
          return "[object Date]" === m.call(e);
        }
        (c = i.documentMode), (L.$inject = []), (D.$inject = []);
        var z = Array.isArray;
        function $(e) {
          return "function" == typeof e;
        }
        function H(e) {
          return "[object RegExp]" === m.call(e);
        }
        function V(e) {
          return e && e.window === e;
        }
        function j(e) {
          return e && e.$evalAsync && e.$watch;
        }
        function F(e) {
          return "boolean" == typeof e;
        }
        function U(e) {
          return e && $(e.then);
        }
        var W = function (e) {
          return N(e) ? e.trim() : e;
        },
          q = function (e) {
            return e
              .replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1")
              .replace(/\x08/g, "\\x08");
          };
        function Q(e) {
          return !(!e || !(e.nodeName || (e.prop && e.attr && e.find)));
        }
        function G(e) {
          return a(e.nodeName || (e[0] && e[0].nodeName));
        }
        function Y(e, t) {
          var i = e.indexOf(t);
          return i >= 0 && e.splice(i, 1), t;
        }
        function Z(e, t, i, n) {
          if (V(e) || j(e))
            throw v(
              "cpws",
              "Can't copy! Making copies of Window or Scope instances is not supported."
            );
          if (t) {
            if (e === t)
              throw v(
                "cpi",
                "Can't copy! Source and destination are identical."
              );
            if (((i = i || []), (n = n || []), M(e))) {
              var o = i.indexOf(e);
              if (-1 !== o) return n[o];
              i.push(e), n.push(t);
            }
            var r;
            if (z(e)) {
              t.length = 0;
              for (var a = 0; a < e.length; a++)
                (r = Z(e[a], null, i, n)),
                  M(e[a]) && (i.push(e[a]), n.push(r)),
                  t.push(r);
            } else {
              var s = t.$$hashKey;
              for (var l in (z(t)
                ? (t.length = 0)
                : w(t, function (e, i) {
                  delete t[i];
                }),
                e))
                e.hasOwnProperty(l) &&
                  ((r = Z(e[l], null, i, n)),
                    M(e[l]) && (i.push(e[l]), n.push(r)),
                    (t[l] = r));
              S(t, s);
            }
          } else if (((t = e), e))
            if (z(e)) t = Z(e, [], i, n);
            else if (B(e)) t = new Date(e.getTime());
            else if (H(e))
              (t = new RegExp(
                e.source,
                e.toString().match(/[^\/]*$/)[0]
              )).lastIndex = e.lastIndex;
            else if (M(e)) {
              var c = Object.create(Object.getPrototypeOf(e));
              t = Z(e, c, i, n);
            }
          return t;
        }
        function X(e, t) {
          if (z(e)) {
            t = t || [];
            for (var i = 0, n = e.length; i < n; i++) t[i] = e[i];
          } else if (M(e))
            for (var o in ((t = t || {}), e))
              ("$" === o.charAt(0) && "$" === o.charAt(1)) || (t[o] = e[o]);
          return t || e;
        }
        function K(e, t) {
          if (e === t) return !0;
          if (null === e || null === t) return !1;
          if (e != e && t != t) return !0;
          var i,
            n,
            o,
            r = typeof e;
          if (r == typeof t && "object" == r) {
            if (!z(e)) {
              if (B(e)) return !!B(t) && K(e.getTime(), t.getTime());
              if (H(e)) return !!H(t) && e.toString() == t.toString();
              if (j(e) || j(t) || V(e) || V(t) || z(t) || B(t) || H(t))
                return !1;
              for (n in ((o = {}), e))
                if ("$" !== n.charAt(0) && !$(e[n])) {
                  if (!K(e[n], t[n])) return !1;
                  o[n] = !0;
                }
              for (n in t)
                if (
                  !o.hasOwnProperty(n) &&
                  "$" !== n.charAt(0) &&
                  void 0 !== t[n] &&
                  !$(t[n])
                )
                  return !1;
              return !0;
            }
            if (!z(t)) return !1;
            if ((i = e.length) == t.length) {
              for (n = 0; n < i; n++) if (!K(e[n], t[n])) return !1;
              return !0;
            }
          }
          return !1;
        }
        var J = function () {
          if (O(J.isActive_)) return J.isActive_;
          var e = !(
            !i.querySelector("[ng-csp]") && !i.querySelector("[data-ng-csp]")
          );
          if (!e)
            try {
              new Function("");
            } catch (t) {
              e = !0;
            }
          return (J.isActive_ = e);
        };
        function ee(e, t, i) {
          return e.concat(h.call(t, i));
        }
        function te(e, t) {
          return h.call(e, t || 0);
        }
        function ie(e, t) {
          var i = arguments.length > 2 ? te(arguments, 2) : [];
          return !$(t) || t instanceof RegExp
            ? t
            : i.length
              ? function () {
                return arguments.length
                  ? t.apply(e, ee(i, arguments, 0))
                  : t.apply(e, i);
              }
              : function () {
                return arguments.length ? t.apply(e, arguments) : t.call(e);
              };
        }
        function ne(e, t) {
          var n = t;
          return (
            "string" == typeof e && "$" === e.charAt(0) && "$" === e.charAt(1)
              ? (n = void 0)
              : V(t)
                ? (n = "$WINDOW")
                : t && i === t
                  ? (n = "$DOCUMENT")
                  : j(t) && (n = "$SCOPE"),
            n
          );
        }
        function oe(e, t) {
          if (void 0 !== e)
            return R(t) || (t = t ? 2 : null), JSON.stringify(e, ne, t);
        }
        function re(e) {
          return N(e) ? JSON.parse(e) : e;
        }
        function ae(e) {
          e = u(e).clone();
          try {
            e.empty();
          } catch (e) { }
          var t = u("<div>").append(e).html();
          try {
            return e[0].nodeType === ke
              ? a(t)
              : t
                .match(/^(<[^>]+>)/)[1]
                .replace(/^<([\w\-]+)/, function (e, t) {
                  return "<" + a(t);
                });
          } catch (e) {
            return a(t);
          }
        }
        function se(e) {
          try {
            return decodeURIComponent(e);
          } catch (e) { }
        }
        function le(e) {
          var t,
            i,
            n = {};
          return (
            w((e || "").split("&"), function (e) {
              if (
                e &&
                ((t = e.replace(/\+/g, "%20").split("=")), O((i = se(t[0]))))
              ) {
                var o = !O(t[1]) || se(t[1]);
                s.call(n, i)
                  ? z(n[i])
                    ? n[i].push(o)
                    : (n[i] = [n[i], o])
                  : (n[i] = o);
              }
            }),
            n
          );
        }
        function ce(e) {
          var t = [];
          return (
            w(e, function (e, i) {
              z(e)
                ? w(e, function (e) {
                  t.push(de(i, !0) + (!0 === e ? "" : "=" + de(e, !0)));
                })
                : t.push(de(i, !0) + (!0 === e ? "" : "=" + de(e, !0)));
            }),
            t.length ? t.join("&") : ""
          );
        }
        function ue(e) {
          return de(e, !0)
            .replace(/%26/gi, "&")
            .replace(/%3D/gi, "=")
            .replace(/%2B/gi, "+");
        }
        function de(e, t) {
          return encodeURIComponent(e)
            .replace(/%40/gi, "@")
            .replace(/%3A/gi, ":")
            .replace(/%24/g, "$")
            .replace(/%2C/gi, ",")
            .replace(/%3B/gi, ";")
            .replace(/%20/g, t ? "%20" : "+");
        }
        var pe = ["ng-", "data-ng-", "ng:", "x-ng-"];
        function he(e, t) {
          var i,
            n,
            o = {};
          w(pe, function (t) {
            var o = t + "app";
            !i &&
              e.hasAttribute &&
              e.hasAttribute(o) &&
              ((i = e), (n = e.getAttribute(o)));
          }),
            w(pe, function (t) {
              var o,
                r = t + "app";
              !i &&
                (o = e.querySelector("[" + r.replace(":", "\\:") + "]")) &&
                ((i = o), (n = o.getAttribute(r)));
            }),
            i &&
            ((o.strictDi =
              null !==
              (function (e, t) {
                var i,
                  n,
                  o = pe.length;
                for (e = u(e), n = 0; n < o; ++n)
                  if (((i = pe[n] + t), N((i = e.attr(i))))) return i;
                return null;
              })(i, "strict-di")),
              t(i, n ? [n] : [], o));
        }
        function fe(e, n, o) {
          M(o) || (o = {});
          o = T({ strictDi: !1 }, o);
          var r = function () {
            if ((e = u(e)).injector()) {
              var t = e[0] === i ? "document" : ae(e);
              throw v(
                "btstrpd",
                "App Already Bootstrapped with this Element '{0}'",
                t.replace(/</, "&lt;").replace(/>/, "&gt;")
              );
            }
            (n = n || []).unshift([
              "$provide",
              function (t) {
                t.value("$rootElement", e);
              },
            ]),
              o.debugInfoEnabled &&
              n.push([
                "$compileProvider",
                function (e) {
                  e.debugInfoEnabled(!0);
                },
              ]),
              n.unshift("ng");
            var r = _t(n, o.strictDi);
            return (
              r.invoke([
                "$rootScope",
                "$rootElement",
                "$compile",
                "$injector",
                function (e, t, i, n) {
                  e.$apply(function () {
                    t.data("$injector", n), i(t)(e);
                  });
                },
              ]),
              r
            );
          },
            a = /^NG_ENABLE_DEBUG_INFO!/,
            s = /^NG_DEFER_BOOTSTRAP!/;
          if (
            (t &&
              a.test(t.name) &&
              ((o.debugInfoEnabled = !0), (t.name = t.name.replace(a, ""))),
              t && !s.test(t.name))
          )
            return r();
          (t.name = t.name.replace(s, "")),
            (b.resumeBootstrap = function (e) {
              return (
                w(e, function (e) {
                  n.push(e);
                }),
                r()
              );
            }),
            $(b.resumeDeferredBootstrap) && b.resumeDeferredBootstrap();
        }
        function ge() {
          (t.name = "NG_ENABLE_DEBUG_INFO!" + t.name), t.location.reload();
        }
        function me(e) {
          var t = b.element(e).injector();
          if (!t)
            throw v(
              "test",
              "no injector found for element argument to getTestability"
            );
          return t.get("$$testability");
        }
        var ve = /[A-Z]/g;
        function be(e, t) {
          return (
            (t = t || "_"),
            e.replace(ve, function (e, i) {
              return (i ? t : "") + e.toLowerCase();
            })
          );
        }
        var ye,
          xe = !1;
        function we(e, t, i) {
          if (!e)
            throw v("areq", "Argument '{0}' is {1}", t || "?", i || "required");
          return e;
        }
        function _e(e, t, i) {
          return (
            i && z(e) && (e = e[e.length - 1]),
            we(
              $(e),
              t,
              "not a function, got " +
              (e && "object" == typeof e
                ? e.constructor.name || "Object"
                : typeof e)
            ),
            e
          );
        }
        function Ae(e, t) {
          if ("hasOwnProperty" === e)
            throw v("badname", "hasOwnProperty is not a valid {0} name", t);
        }
        function Ee(e, t, i) {
          if (!t) return e;
          for (var n, o = t.split("."), r = e, a = o.length, s = 0; s < a; s++)
            (n = o[s]), e && (e = (r = e)[n]);
          return !i && $(e) ? ie(r, e) : e;
        }
        function Se(e) {
          var t = e[0],
            i = e[e.length - 1],
            n = [t];
          do {
            if (!(t = t.nextSibling)) break;
            n.push(t);
          } while (t !== i);
          return u(n);
        }
        function Te() {
          return Object.create(null);
        }
        var Ce = 1,
          ke = 3;
        function Le(e) {
          return "function" == typeof e
            ? e.toString().replace(/ \{[\s\S]*$/, "")
            : void 0 === e
              ? "undefined"
              : "string" != typeof e
                ? (function (e) {
                  var t = [];
                  return JSON.stringify(e, function (e, i) {
                    if (M((i = ne(e, i)))) {
                      if (t.indexOf(i) >= 0) return "<<already seen>>";
                      t.push(i);
                    }
                    return i;
                  });
                })(e)
                : e;
        }
        var De = {
          full: "1.3.15",
          major: 1,
          minor: 3,
          dot: 15,
          codeName: "locality-filtration",
        };
        Ge.expando = "ng339";
        var Ie = (Ge.cache = {}),
          Pe = 1,
          Oe = function (e, t, i) {
            e.addEventListener(t, i, !1);
          },
          Me = function (e, t, i) {
            e.removeEventListener(t, i, !1);
          };
        Ge._data = function (e) {
          return this.cache[e[this.expando]] || {};
        };
        var Ne = /([\:\-\_]+(.))/g,
          Re = /^moz([A-Z])/,
          Be = { mouseleave: "mouseout", mouseenter: "mouseover" },
          ze = o("jqLite");
        function $e(e) {
          return e
            .replace(Ne, function (e, t, i, n) {
              return n ? i.toUpperCase() : i;
            })
            .replace(Re, "Moz$1");
        }
        var He = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
          Ve = /<|&#?\w+;/,
          je = /<([\w:]+)/,
          Fe =
            /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
          Ue = {
            option: [1, '<select multiple="multiple">', "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""],
          };
        function We(e) {
          return !Ve.test(e);
        }
        function qe(e) {
          var t = e.nodeType;
          return t === Ce || !t || 9 === t;
        }
        function Qe(e, t) {
          var i,
            n,
            o,
            r,
            a = t.createDocumentFragment(),
            s = [];
          if (We(e)) s.push(t.createTextNode(e));
          else {
            for (
              i = i || a.appendChild(t.createElement("div")),
              n = (je.exec(e) || ["", ""])[1].toLowerCase(),
              o = Ue[n] || Ue._default,
              i.innerHTML = o[1] + e.replace(Fe, "<$1></$2>") + o[2],
              r = o[0];
              r--;

            )
              i = i.lastChild;
            (s = ee(s, i.childNodes)), ((i = a.firstChild).textContent = "");
          }
          return (
            (a.textContent = ""),
            (a.innerHTML = ""),
            w(s, function (e) {
              a.appendChild(e);
            }),
            a
          );
        }
        function Ge(e) {
          if (e instanceof Ge) return e;
          var t, n, o, r;
          if ((N(e) && ((e = W(e)), (t = !0)), !(this instanceof Ge))) {
            if (t && "<" != e.charAt(0))
              throw ze(
                "nosel",
                "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element"
              );
            return new Ge(e);
          }
          ot(
            this,
            t
              ? ((n = e),
                (o = o || i),
                (r = He.exec(n))
                  ? [o.createElement(r[1])]
                  : (r = Qe(n, o))
                    ? r.childNodes
                    : [])
              : e
          );
        }
        function Ye(e) {
          return e.cloneNode(!0);
        }
        function Ze(e, t) {
          if ((t || Ke(e), e.querySelectorAll))
            for (
              var i = e.querySelectorAll("*"), n = 0, o = i.length;
              n < o;
              n++
            )
              Ke(i[n]);
        }
        function Xe(e, t, i, n) {
          if (O(n))
            throw ze(
              "offargs",
              "jqLite#off() does not support the `selector` argument"
            );
          var o = Je(e),
            r = o && o.events,
            a = o && o.handle;
          if (a)
            if (t)
              w(t.split(" "), function (t) {
                if (O(i)) {
                  var n = r[t];
                  if ((Y(n || [], i), n && n.length > 0)) return;
                }
                Me(e, t, a), delete r[t];
              });
            else for (t in r) "$destroy" !== t && Me(e, t, a), delete r[t];
        }
        function Ke(e, t) {
          var i = e.ng339,
            n = i && Ie[i];
          if (n) {
            if (t) return void delete n.data[t];
            n.handle && (n.events.$destroy && n.handle({}, "$destroy"), Xe(e)),
              delete Ie[i],
              (e.ng339 = void 0);
          }
        }
        function Je(e, t) {
          var i = e.ng339,
            n = i && Ie[i];
          return (
            t &&
            !n &&
            ((e.ng339 = i = ++Pe),
              (n = Ie[i] = { events: {}, data: {}, handle: void 0 })),
            n
          );
        }
        function et(e, t, i) {
          if (qe(e)) {
            var n = O(i),
              o = !n && t && !M(t),
              r = !t,
              a = Je(e, !o),
              s = a && a.data;
            if (n) s[t] = i;
            else {
              if (r) return s;
              if (o) return s && s[t];
              T(s, t);
            }
          }
        }
        function tt(e, t) {
          return (
            !!e.getAttribute &&
            (" " + (e.getAttribute("class") || "") + " ")
              .replace(/[\n\t]/g, " ")
              .indexOf(" " + t + " ") > -1
          );
        }
        function it(e, t) {
          t &&
            e.setAttribute &&
            w(t.split(" "), function (t) {
              e.setAttribute(
                "class",
                W(
                  (" " + (e.getAttribute("class") || "") + " ")
                    .replace(/[\n\t]/g, " ")
                    .replace(" " + W(t) + " ", " ")
                )
              );
            });
        }
        function nt(e, t) {
          if (t && e.setAttribute) {
            var i = (" " + (e.getAttribute("class") || "") + " ").replace(
              /[\n\t]/g,
              " "
            );
            w(t.split(" "), function (e) {
              (e = W(e)), -1 === i.indexOf(" " + e + " ") && (i += e + " ");
            }),
              e.setAttribute("class", W(i));
          }
        }
        function ot(e, t) {
          if (t)
            if (t.nodeType) e[e.length++] = t;
            else {
              var i = t.length;
              if ("number" == typeof i && t.window !== t) {
                if (i) for (var n = 0; n < i; n++) e[e.length++] = t[n];
              } else e[e.length++] = t;
            }
        }
        function rt(e, t) {
          return at(e, "$" + (t || "ngController") + "Controller");
        }
        function at(e, t, i) {
          9 == e.nodeType && (e = e.documentElement);
          for (var n = z(t) ? t : [t]; e;) {
            for (var o = 0, r = n.length; o < r; o++)
              if (void 0 !== (i = u.data(e, n[o]))) return i;
            e = e.parentNode || (11 === e.nodeType && e.host);
          }
        }
        function st(e) {
          for (Ze(e, !0); e.firstChild;) e.removeChild(e.firstChild);
        }
        function lt(e, t) {
          t || Ze(e);
          var i = e.parentNode;
          i && i.removeChild(e);
        }
        (Ue.optgroup = Ue.option),
          (Ue.tbody = Ue.tfoot = Ue.colgroup = Ue.caption = Ue.thead),
          (Ue.th = Ue.td);
        var ct = (Ge.prototype = {
          ready: function (e) {
            var n = !1;
            function o() {
              n || ((n = !0), e());
            }
            "complete" === i.readyState
              ? setTimeout(o)
              : (this.on("DOMContentLoaded", o), Ge(t).on("load", o));
          },
          toString: function () {
            var e = [];
            return (
              w(this, function (t) {
                e.push("" + t);
              }),
              "[" + e.join(", ") + "]"
            );
          },
          eq: function (e) {
            return u(e >= 0 ? this[e] : this[this.length + e]);
          },
          length: 0,
          push: g,
          sort: [].sort,
          splice: [].splice,
        }),
          ut = {};
        w(
          "multiple,selected,checked,disabled,readOnly,required,open".split(
            ","
          ),
          function (e) {
            ut[a(e)] = e;
          }
        );
        var dt = {};
        w(
          "input,select,option,textarea,button,form,details".split(","),
          function (e) {
            dt[e] = !0;
          }
        );
        var pt = {
          ngMinlength: "minlength",
          ngMaxlength: "maxlength",
          ngMin: "min",
          ngMax: "max",
          ngPattern: "pattern",
        };
        function ht(e, t) {
          var i = ut[t.toLowerCase()];
          return i && dt[G(e)] && i;
        }
        function ft() {
          this.$get = function () {
            return T(Ge, {
              hasClass: function (e, t) {
                return e.attr && (e = e[0]), tt(e, t);
              },
              addClass: function (e, t) {
                return e.attr && (e = e[0]), nt(e, t);
              },
              removeClass: function (e, t) {
                return e.attr && (e = e[0]), it(e, t);
              },
            });
          };
        }
        function gt(e, t) {
          var i = e && e.$$hashKey;
          if (i) return "function" == typeof i && (i = e.$$hashKey()), i;
          var n = typeof e;
          return (i =
            "function" == n || ("object" == n && null !== e)
              ? (e.$$hashKey = n + ":" + (t || E)())
              : n + ":" + e);
        }
        function mt(e, t) {
          if (t) {
            var i = 0;
            this.nextUid = function () {
              return ++i;
            };
          }
          w(e, this.put, this);
        }
        w({ data: et, removeData: Ke }, function (e, t) {
          Ge[t] = e;
        }),
          w(
            {
              data: et,
              inheritedData: at,
              scope: function (e) {
                return (
                  u.data(e, "$scope") ||
                  at(e.parentNode || e, ["$isolateScope", "$scope"])
                );
              },
              isolateScope: function (e) {
                return (
                  u.data(e, "$isolateScope") ||
                  u.data(e, "$isolateScopeNoTemplate")
                );
              },
              controller: rt,
              injector: function (e) {
                return at(e, "$injector");
              },
              removeAttr: function (e, t) {
                e.removeAttribute(t);
              },
              hasClass: tt,
              css: function (e, t, i) {
                if (((t = $e(t)), !O(i))) return e.style[t];
                e.style[t] = i;
              },
              attr: function (e, t, i) {
                var n = a(t);
                if (ut[n]) {
                  if (!O(i))
                    return e[t] || (e.attributes.getNamedItem(t) || L).specified
                      ? n
                      : void 0;
                  i
                    ? ((e[t] = !0), e.setAttribute(t, n))
                    : ((e[t] = !1), e.removeAttribute(n));
                } else if (O(i)) e.setAttribute(t, i);
                else if (e.getAttribute) {
                  var o = e.getAttribute(t, 2);
                  return null === o ? void 0 : o;
                }
              },
              prop: function (e, t, i) {
                if (!O(i)) return e[t];
                e[t] = i;
              },
              text: (function () {
                return (e.$dv = ""), e;
                function e(e, t) {
                  if (P(t)) {
                    var i = e.nodeType;
                    return i === Ce || i === ke ? e.textContent : "";
                  }
                  e.textContent = t;
                }
              })(),
              val: function (e, t) {
                if (P(t)) {
                  if (e.multiple && "select" === G(e)) {
                    var i = [];
                    return (
                      w(e.options, function (e) {
                        e.selected && i.push(e.value || e.text);
                      }),
                      0 === i.length ? null : i
                    );
                  }
                  return e.value;
                }
                e.value = t;
              },
              html: function (e, t) {
                if (P(t)) return e.innerHTML;
                Ze(e, !0), (e.innerHTML = t);
              },
              empty: st,
            },
            function (e, t) {
              Ge.prototype[t] = function (t, i) {
                var n,
                  o,
                  r = this.length;
                if (
                  e !== st &&
                  void 0 === (2 == e.length && e !== tt && e !== rt ? t : i)
                ) {
                  if (M(t)) {
                    for (n = 0; n < r; n++)
                      if (e === et) e(this[n], t);
                      else for (o in t) e(this[n], o, t[o]);
                    return this;
                  }
                  for (
                    var a = e.$dv, s = void 0 === a ? Math.min(r, 1) : r, l = 0;
                    l < s;
                    l++
                  ) {
                    var c = e(this[l], t, i);
                    a = a ? a + c : c;
                  }
                  return a;
                }
                for (n = 0; n < r; n++) e(this[n], t, i);
                return this;
              };
            }
          ),
          w(
            {
              removeData: Ke,
              on: function e(t, i, n, o) {
                if (O(o))
                  throw ze(
                    "onargs",
                    "jqLite#on() does not support the `selector` or `eventData` parameters"
                  );
                if (qe(t)) {
                  var r = Je(t, !0),
                    a = r.events,
                    s = r.handle;
                  s ||
                    (s = r.handle =
                      (function (e, t) {
                        var i = function (i, n) {
                          i.isDefaultPrevented = function () {
                            return i.defaultPrevented;
                          };
                          var o = t[n || i.type],
                            r = o ? o.length : 0;
                          if (r) {
                            if (P(i.immediatePropagationStopped)) {
                              var a = i.stopImmediatePropagation;
                              i.stopImmediatePropagation = function () {
                                (i.immediatePropagationStopped = !0),
                                  i.stopPropagation && i.stopPropagation(),
                                  a && a.call(i);
                              };
                            }
                            (i.isImmediatePropagationStopped = function () {
                              return !0 === i.immediatePropagationStopped;
                            }),
                              r > 1 && (o = X(o));
                            for (var s = 0; s < r; s++)
                              i.isImmediatePropagationStopped() ||
                                o[s].call(e, i);
                          }
                        };
                        return (i.elem = e), i;
                      })(t, a));
                  for (
                    var l = i.indexOf(" ") >= 0 ? i.split(" ") : [i],
                    c = l.length;
                    c--;

                  ) {
                    var u = a[(i = l[c])];
                    u ||
                      ((a[i] = []),
                        "mouseenter" === i || "mouseleave" === i
                          ? e(t, Be[i], function (e) {
                            var t = e.relatedTarget;
                            (t && (t === this || this.contains(t))) || s(e, i);
                          })
                          : "$destroy" !== i && Oe(t, i, s),
                        (u = a[i])),
                      u.push(n);
                  }
                }
              },
              off: Xe,
              one: function (e, t, i) {
                (e = u(e)).on(t, function n() {
                  e.off(t, i), e.off(t, n);
                }),
                  e.on(t, i);
              },
              replaceWith: function (e, t) {
                var i,
                  n = e.parentNode;
                Ze(e),
                  w(new Ge(t), function (t) {
                    i ? n.insertBefore(t, i.nextSibling) : n.replaceChild(t, e),
                      (i = t);
                  });
              },
              children: function (e) {
                var t = [];
                return (
                  w(e.childNodes, function (e) {
                    e.nodeType === Ce && t.push(e);
                  }),
                  t
                );
              },
              contents: function (e) {
                return e.contentDocument || e.childNodes || [];
              },
              append: function (e, t) {
                var i = e.nodeType;
                if (i === Ce || 11 === i)
                  for (var n = 0, o = (t = new Ge(t)).length; n < o; n++) {
                    var r = t[n];
                    e.appendChild(r);
                  }
              },
              prepend: function (e, t) {
                if (e.nodeType === Ce) {
                  var i = e.firstChild;
                  w(new Ge(t), function (t) {
                    e.insertBefore(t, i);
                  });
                }
              },
              wrap: function (e, t) {
                t = u(t).eq(0).clone()[0];
                var i = e.parentNode;
                i && i.replaceChild(t, e), t.appendChild(e);
              },
              remove: lt,
              detach: function (e) {
                lt(e, !0);
              },
              after: function (e, t) {
                for (
                  var i = e,
                  n = e.parentNode,
                  o = 0,
                  r = (t = new Ge(t)).length;
                  o < r;
                  o++
                ) {
                  var a = t[o];
                  n.insertBefore(a, i.nextSibling), (i = a);
                }
              },
              addClass: nt,
              removeClass: it,
              toggleClass: function (e, t, i) {
                t &&
                  w(t.split(" "), function (t) {
                    var n = i;
                    P(n) && (n = !tt(e, t)), (n ? nt : it)(e, t);
                  });
              },
              parent: function (e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null;
              },
              next: function (e) {
                return e.nextElementSibling;
              },
              find: function (e, t) {
                return e.getElementsByTagName ? e.getElementsByTagName(t) : [];
              },
              clone: Ye,
              triggerHandler: function (e, t, i) {
                var n,
                  o,
                  r,
                  a = t.type || t,
                  s = Je(e),
                  l = s && s.events,
                  c = l && l[a];
                c &&
                  ((n = {
                    preventDefault: function () {
                      this.defaultPrevented = !0;
                    },
                    isDefaultPrevented: function () {
                      return !0 === this.defaultPrevented;
                    },
                    stopImmediatePropagation: function () {
                      this.immediatePropagationStopped = !0;
                    },
                    isImmediatePropagationStopped: function () {
                      return !0 === this.immediatePropagationStopped;
                    },
                    stopPropagation: L,
                    type: a,
                    target: e,
                  }),
                    t.type && (n = T(n, t)),
                    (o = X(c)),
                    (r = i ? [n].concat(i) : [n]),
                    w(o, function (t) {
                      n.isImmediatePropagationStopped() || t.apply(e, r);
                    }));
              },
            },
            function (e, t) {
              (Ge.prototype[t] = function (t, i, n) {
                for (var o, r = 0, a = this.length; r < a; r++)
                  P(o)
                    ? O((o = e(this[r], t, i, n))) && (o = u(o))
                    : ot(o, e(this[r], t, i, n));
                return O(o) ? o : this;
              }),
                (Ge.prototype.bind = Ge.prototype.on),
                (Ge.prototype.unbind = Ge.prototype.off);
            }
          ),
          (mt.prototype = {
            put: function (e, t) {
              this[gt(e, this.nextUid)] = t;
            },
            get: function (e) {
              return this[gt(e, this.nextUid)];
            },
            remove: function (e) {
              var t = this[(e = gt(e, this.nextUid))];
              return delete this[e], t;
            },
          });
        var vt = /^function\s*[^\(]*\(\s*([^\)]*)\)/m,
          bt = /,/,
          yt = /^\s*(_?)(\S+?)\1\s*$/,
          xt = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,
          wt = o("$injector");
        function _t(e, t) {
          t = !0 === t;
          var i = {},
            n = [],
            o = new mt([], !0),
            r = {
              $provide: {
                provider: c(u),
                factory: c(h),
                service: c(function (e, t) {
                  return h(e, [
                    "$injector",
                    function (e) {
                      return e.instantiate(t);
                    },
                  ]);
                }),
                value: c(function (e, t) {
                  return h(e, I(t), !1);
                }),
                constant: c(function (e, t) {
                  Ae(e, "constant"), (r[e] = t), (s[e] = t);
                }),
                decorator: function (e, t) {
                  var i = a.get(e + "Provider"),
                    n = i.$get;
                  i.$get = function () {
                    var e = l.invoke(n, i);
                    return l.invoke(t, null, { $delegate: e });
                  };
                },
              },
            },
            a = (r.$injector = f(r, function (e, t) {
              throw (
                (b.isString(t) && n.push(t),
                  wt("unpr", "Unknown provider: {0}", n.join(" <- ")))
              );
            })),
            s = {},
            l = (s.$injector = f(s, function (e, t) {
              var i = a.get(e + "Provider", t);
              return l.invoke(i.$get, i, void 0, e);
            }));
          return (
            w(
              (function e(t) {
                var i,
                  n = [];
                return (
                  w(t, function (t) {
                    if (!o.get(t)) {
                      o.put(t, !0);
                      try {
                        N(t)
                          ? ((i = p(t)),
                            (n = n.concat(e(i.requires)).concat(i._runBlocks)),
                            r(i._invokeQueue),
                            r(i._configBlocks))
                          : $(t) || z(t)
                            ? n.push(a.invoke(t))
                            : _e(t, "module");
                      } catch (e) {
                        throw (
                          (z(t) && (t = t[t.length - 1]),
                            e.message &&
                            e.stack &&
                            -1 == e.stack.indexOf(e.message) &&
                            (e = e.message + "\n" + e.stack),
                            wt(
                              "modulerr",
                              "Failed to instantiate module {0} due to:\n{1}",
                              t,
                              e.stack || e.message || e
                            ))
                        );
                      }
                    }
                    function r(e) {
                      var t, i;
                      for (t = 0, i = e.length; t < i; t++) {
                        var n = e[t],
                          o = a.get(n[0]);
                        o[n[1]].apply(o, n[2]);
                      }
                    }
                  }),
                  n
                );
              })(e),
              function (e) {
                l.invoke(e || L);
              }
            ),
            l
          );
          function c(e) {
            return function (t, i) {
              if (!M(t)) return e(t, i);
              w(t, A(e));
            };
          }
          function u(e, t) {
            if (
              (Ae(e, "service"),
                ($(t) || z(t)) && (t = a.instantiate(t)),
                !t.$get)
            )
              throw wt(
                "pget",
                "Provider '{0}' must define $get factory method.",
                e
              );
            return (r[e + "Provider"] = t);
          }
          function d(e, t) {
            return function () {
              var i = l.invoke(t, this);
              if (P(i))
                throw wt(
                  "undef",
                  "Provider '{0}' must return a value from $get factory method.",
                  e
                );
              return i;
            };
          }
          function h(e, t, i) {
            return u(e, { $get: !1 !== i ? d(e, t) : t });
          }
          function f(e, o) {
            function a(t, r) {
              if (e.hasOwnProperty(t)) {
                if (e[t] === i)
                  throw wt(
                    "cdep",
                    "Circular dependency found: {0}",
                    t + " <- " + n.join(" <- ")
                  );
                return e[t];
              }
              try {
                return n.unshift(t), (e[t] = i), (e[t] = o(t, r));
              } catch (n) {
                throw (e[t] === i && delete e[t], n);
              } finally {
                n.shift();
              }
            }
            function s(e, i, n, o) {
              "string" == typeof n && ((o = n), (n = null));
              var r,
                s,
                l,
                c = [],
                u = _t.$$annotate(e, t, o);
              for (s = 0, r = u.length; s < r; s++) {
                if ("string" != typeof (l = u[s]))
                  throw wt(
                    "itkn",
                    "Incorrect injection token! Expected service name as string, got {0}",
                    l
                  );
                c.push(n && n.hasOwnProperty(l) ? n[l] : a(l, o));
              }
              return z(e) && (e = e[r]), e.apply(i, c);
            }
            return {
              invoke: s,
              instantiate: function (e, t, i) {
                var n = Object.create(
                  (z(e) ? e[e.length - 1] : e).prototype || null
                ),
                  o = s(e, n, t, i);
                return M(o) || $(o) ? o : n;
              },
              get: a,
              annotate: _t.$$annotate,
              has: function (t) {
                return r.hasOwnProperty(t + "Provider") || e.hasOwnProperty(t);
              },
            };
          }
        }
        function At() {
          var e = !0;
          (this.disableAutoScrolling = function () {
            e = !1;
          }),
            (this.$get = [
              "$window",
              "$location",
              "$rootScope",
              function (i, n, o) {
                var r = i.document;
                function a(e) {
                  if (e) {
                    e.scrollIntoView();
                    var t = (function () {
                      var e = s.yOffset;
                      if ($(e)) e = e();
                      else if (Q(e)) {
                        var t = e[0];
                        e =
                          "fixed" !== i.getComputedStyle(t).position
                            ? 0
                            : t.getBoundingClientRect().bottom;
                      } else R(e) || (e = 0);
                      return e;
                    })();
                    if (t) {
                      var n = e.getBoundingClientRect().top;
                      i.scrollBy(0, n - t);
                    }
                  } else i.scrollTo(0, 0);
                }
                function s() {
                  var e,
                    t,
                    i,
                    o = n.hash();
                  o
                    ? (e = r.getElementById(o))
                      ? a(e)
                      : ((t = r.getElementsByName(o)),
                        (i = null),
                        Array.prototype.some.call(t, function (e) {
                          if ("a" === G(e)) return (i = e), !0;
                        }),
                        (e = i) ? a(e) : "top" === o && a(null))
                    : a(null);
                }
                return (
                  e &&
                  o.$watch(
                    function () {
                      return n.hash();
                    },
                    function (e, i) {
                      var n, r;
                      (e === i && "" === e) ||
                        ((n = function () {
                          o.$evalAsync(s);
                        }),
                          "complete" === (r = r || t).document.readyState
                            ? r.setTimeout(n)
                            : u(r).on("load", n));
                    }
                  ),
                  s
                );
              },
            ]);
        }
        _t.$$annotate = function (e, t, i) {
          var n, o;
          if ("function" == typeof e) {
            if (!(n = e.$inject)) {
              if (((n = []), e.length)) {
                if (t)
                  throw (
                    ((N(i) && i) ||
                      (i =
                        e.name ||
                        (function (e) {
                          var t = e.toString().replace(xt, "").match(vt);
                          return t
                            ? "function(" +
                            (t[1] || "").replace(/[\s\r\n]+/, " ") +
                            ")"
                            : "fn";
                        })(e)),
                      wt(
                        "strictdi",
                        "{0} is not using explicit annotation and cannot be invoked in strict mode",
                        i
                      ))
                  );
                w(
                  e.toString().replace(xt, "").match(vt)[1].split(bt),
                  function (e) {
                    e.replace(yt, function (e, t, i) {
                      n.push(i);
                    });
                  }
                );
              }
              e.$inject = n;
            }
          } else
            z(e)
              ? (_e(e[(o = e.length - 1)], "fn"), (n = e.slice(0, o)))
              : _e(e, "fn", !0);
          return n;
        };
        var Et = o("$animate"),
          St = [
            "$provide",
            function (e) {
              (this.$$selectors = {}),
                (this.register = function (t, i) {
                  var n = t + "-animation";
                  if (t && "." != t.charAt(0))
                    throw Et(
                      "notcsel",
                      "Expecting class selector starting with '.' got '{0}'.",
                      t
                    );
                  (this.$$selectors[t.substr(1)] = n), e.factory(n, i);
                }),
                (this.classNameFilter = function (e) {
                  return (
                    1 === arguments.length &&
                    (this.$$classNameFilter = e instanceof RegExp ? e : null),
                    this.$$classNameFilter
                  );
                }),
                (this.$get = [
                  "$$q",
                  "$$asyncCallback",
                  "$rootScope",
                  function (e, t, i) {
                    var n;
                    function o(e, t, i) {
                      for (var n = 0, o = t.length; n < o; ++n) {
                        e[t[n]] = i;
                      }
                    }
                    function r() {
                      return (
                        n ||
                        ((n = e.defer()),
                          t(function () {
                            n.resolve(), (n = null);
                          })),
                        n.promise
                      );
                    }
                    function a(e, t) {
                      if (b.isObject(t)) {
                        var i = T(t.from || {}, t.to || {});
                        e.css(i);
                      }
                    }
                    return {
                      animate: function (e, t, i) {
                        return a(e, { from: t, to: i }), r();
                      },
                      enter: function (e, t, i, n) {
                        return a(e, n), i ? i.after(e) : t.prepend(e), r();
                      },
                      leave: function (e, t) {
                        return a(e, t), e.remove(), r();
                      },
                      move: function (e, t, i, n) {
                        return this.enter(e, t, i, n);
                      },
                      addClass: function (e, t, i) {
                        return this.setClass(e, t, [], i);
                      },
                      $$addClassImmediately: function (e, t, i) {
                        return (
                          (e = u(e)),
                          (t = N(t) ? t : z(t) ? t.join(" ") : ""),
                          w(e, function (e) {
                            nt(e, t);
                          }),
                          a(e, i),
                          r()
                        );
                      },
                      removeClass: function (e, t, i) {
                        return this.setClass(e, [], t, i);
                      },
                      $$removeClassImmediately: function (e, t, i) {
                        return (
                          (e = u(e)),
                          (t = N(t) ? t : z(t) ? t.join(" ") : ""),
                          w(e, function (e) {
                            it(e, t);
                          }),
                          a(e, i),
                          r()
                        );
                      },
                      setClass: function (t, n, r, a) {
                        var s = this,
                          l = !1,
                          c = (t = u(t)).data("$$animateClasses");
                        c
                          ? a &&
                          c.options &&
                          (c.options = b.extend(c.options || {}, a))
                          : ((c = { classes: {}, options: a }), (l = !0));
                        var d,
                          p,
                          h,
                          f = c.classes;
                        return (
                          (n = z(n) ? n : n.split(" ")),
                          (r = z(r) ? r : r.split(" ")),
                          o(f, n, !0),
                          o(f, r, !1),
                          l &&
                          ((c.promise =
                            ((d = function (e) {
                              var i = t.data("$$animateClasses");
                              if ((t.removeData("$$animateClasses"), i)) {
                                var n = (function (e, t) {
                                  var i = [],
                                    n = [],
                                    o = Te();
                                  return (
                                    w(
                                      (e.attr("class") || "").split(/\s+/),
                                      function (e) {
                                        o[e] = !0;
                                      }
                                    ),
                                    w(t, function (e, t) {
                                      var r = o[t];
                                      !1 === e && r
                                        ? n.push(t)
                                        : !0 !== e || r || i.push(t);
                                    }),
                                    i.length + n.length > 0 && [
                                      i.length ? i : null,
                                      n.length ? n : null,
                                    ]
                                  );
                                })(t, i.classes);
                                n &&
                                  s.$$setClassImmediately(
                                    t,
                                    n[0],
                                    n[1],
                                    i.options
                                  );
                              }
                              e();
                            }),
                              ((h = e.defer()).promise.$$cancelFn =
                                function () {
                                  p && p();
                                }),
                              i.$$postDigest(function () {
                                p = d(function () {
                                  h.resolve();
                                });
                              }),
                              h.promise)),
                            t.data("$$animateClasses", c)),
                          c.promise
                        );
                      },
                      $$setClassImmediately: function (e, t, i, n) {
                        return (
                          t && this.$$addClassImmediately(e, t),
                          i && this.$$removeClassImmediately(e, i),
                          a(e, n),
                          r()
                        );
                      },
                      enabled: L,
                      cancel: L,
                    };
                  },
                ]);
            },
          ];
        function Tt() {
          this.$get = [
            "$$rAF",
            "$timeout",
            function (e, t) {
              return e.supported
                ? function (t) {
                  return e(t);
                }
                : function (e) {
                  return t(e, 0, !1);
                };
            },
          ];
        }
        function Ct(e, t, i, n) {
          var o = this,
            r = t[0],
            a = e.location,
            s = e.history,
            l = e.setTimeout,
            c = e.clearTimeout,
            d = {};
          o.isMock = !1;
          var p = 0,
            h = [];
          function f(e) {
            try {
              e.apply(null, te(arguments, 1));
            } finally {
              if (0 === --p)
                for (; h.length;)
                  try {
                    h.pop()();
                  } catch (e) {
                    i.error(e);
                  }
            }
          }
          (o.$$completeOutstandingRequest = f),
            (o.$$incOutstandingRequestCount = function () {
              p++;
            }),
            (o.notifyWhenNoOutstandingRequests = function (e) {
              w(m, function (e) {
                e();
              }),
                0 === p ? e() : h.push(e);
            });
          var g,
            m = [];
          o.addPollFn = function (e) {
            return (
              P(g) &&
              (function (e, t) {
                !(function i() {
                  w(m, function (e) {
                    e();
                  }),
                    (g = t(i, e));
                })();
              })(100, l),
              m.push(e),
              e
            );
          };
          var v,
            b,
            y = a.href,
            x = t.find("base"),
            _ = null;
          C(),
            (b = v),
            (o.url = function (t, i, r) {
              if (
                (P(r) && (r = null),
                  a !== e.location && (a = e.location),
                  s !== e.history && (s = e.history),
                  t)
              ) {
                var l = b === r;
                if (y === t && (!n.history || l)) return o;
                var c = y && ui(y) === ui(t);
                return (
                  (y = t),
                  (b = r),
                  !n.history || (c && l)
                    ? (c || (_ = t),
                      i
                        ? a.replace(t)
                        : c
                          ? (a.hash = (function (e) {
                            var t = e.indexOf("#");
                            return -1 === t ? "" : e.substr(t + 1);
                          })(t))
                          : (a.href = t))
                    : (s[i ? "replaceState" : "pushState"](r, "", t),
                      C(),
                      (b = v)),
                  o
                );
              }
              return _ || a.href.replace(/%27/g, "'");
            }),
            (o.state = function () {
              return v;
            });
          var A = [],
            E = !1;
          function S() {
            C(), k();
          }
          var T = null;
          function C() {
            K(
              (v = P(
                (v = (function () {
                  try {
                    return s.state;
                  } catch (e) { }
                })())
              )
                ? null
                : v),
              T
            ) && (v = T),
              (T = v);
          }
          function k() {
            (y === o.url() && b === v) ||
              ((y = o.url()),
                (b = v),
                w(A, function (e) {
                  e(o.url(), v);
                }));
          }
          (o.onUrlChange = function (t) {
            return (
              E ||
              (n.history && u(e).on("popstate", S),
                u(e).on("hashchange", S),
                (E = !0)),
              A.push(t),
              t
            );
          }),
            (o.$$checkUrlChange = k),
            (o.baseHref = function () {
              var e = x.attr("href");
              return e ? e.replace(/^(https?\:)?\/\/[^\/]*/, "") : "";
            });
          var D = {},
            I = "",
            O = o.baseHref();
          function M(e) {
            try {
              return decodeURIComponent(e);
            } catch (t) {
              return e;
            }
          }
          (o.cookies = function (e, t) {
            var n, o, a, s, l;
            if (!e) {
              if (r.cookie !== I)
                for (
                  o = (I = r.cookie).split("; "), D = {}, s = 0;
                  s < o.length;
                  s++
                )
                  (l = (a = o[s]).indexOf("=")) > 0 &&
                    ((e = M(a.substring(0, l))),
                      void 0 === D[e] && (D[e] = M(a.substring(l + 1))));
              return D;
            }
            void 0 === t
              ? (r.cookie =
                encodeURIComponent(e) +
                "=;path=" +
                O +
                ";expires=Thu, 01 Jan 1970 00:00:00 GMT")
              : N(t) &&
              (n =
                (r.cookie =
                  encodeURIComponent(e) +
                  "=" +
                  encodeURIComponent(t) +
                  ";path=" +
                  O).length + 1) > 4096 &&
              i.warn(
                "Cookie '" +
                e +
                "' possibly not set or overflowed because it was too large (" +
                n +
                " > 4096 bytes)!"
              );
          }),
            (o.defer = function (e, t) {
              var i;
              return (
                p++,
                (i = l(function () {
                  delete d[i], f(e);
                }, t || 0)),
                (d[i] = !0),
                i
              );
            }),
            (o.defer.cancel = function (e) {
              return !!d[e] && (delete d[e], c(e), f(L), !0);
            });
        }
        function kt() {
          this.$get = [
            "$window",
            "$log",
            "$sniffer",
            "$document",
            function (e, t, i, n) {
              return new Ct(e, n, t, i);
            },
          ];
        }
        function Lt() {
          this.$get = function () {
            var e = {};
            function t(t, i) {
              if (t in e)
                throw o("$cacheFactory")(
                  "iid",
                  "CacheId '{0}' is already taken!",
                  t
                );
              var n = 0,
                r = T({}, i, { id: t }),
                a = {},
                s = (i && i.capacity) || Number.MAX_VALUE,
                l = {},
                c = null,
                u = null;
              return (e[t] = {
                put: function (e, t) {
                  s < Number.MAX_VALUE && d(l[e] || (l[e] = { key: e }));
                  if (!P(t))
                    return (
                      e in a || n++, (a[e] = t), n > s && this.remove(u.key), t
                    );
                },
                get: function (e) {
                  if (s < Number.MAX_VALUE) {
                    var t = l[e];
                    if (!t) return;
                    d(t);
                  }
                  return a[e];
                },
                remove: function (e) {
                  if (s < Number.MAX_VALUE) {
                    var t = l[e];
                    if (!t) return;
                    t == c && (c = t.p),
                      t == u && (u = t.n),
                      p(t.n, t.p),
                      delete l[e];
                  }
                  delete a[e], n--;
                },
                removeAll: function () {
                  (a = {}), (n = 0), (l = {}), (c = u = null);
                },
                destroy: function () {
                  (a = null), (r = null), (l = null), delete e[t];
                },
                info: function () {
                  return T({}, r, { size: n });
                },
              });
              function d(e) {
                e != c &&
                  (u ? u == e && (u = e.n) : (u = e),
                    p(e.n, e.p),
                    p(e, c),
                    ((c = e).n = null));
              }
              function p(e, t) {
                e != t && (e && (e.p = t), t && (t.n = e));
              }
            }
            return (
              (t.info = function () {
                var t = {};
                return (
                  w(e, function (e, i) {
                    t[i] = e.info();
                  }),
                  t
                );
              }),
              (t.get = function (t) {
                return e[t];
              }),
              t
            );
          };
        }
        function Dt() {
          this.$get = [
            "$cacheFactory",
            function (e) {
              return e("templates");
            },
          ];
        }
        var It = o("$compile");
        function Pt(e, t) {
          var n = {},
            o = /^\s*directive\:\s*([\w\-]+)\s+(.*)$/,
            r = /(([\w\-]+)(?:\:([^;]+))?;?)/,
            s = (function (e) {
              var t,
                i = {},
                n = e.split(",");
              for (t = 0; t < n.length; t++) i[n[t]] = !0;
              return i;
            })("ngSrc,ngSrcset,src,srcset"),
            l = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/,
            c = /^(on[a-z]+|formaction)$/;
          (this.directive = function t(i, o) {
            return (
              Ae(i, "directive"),
              N(i)
                ? (we(o, "directiveFactory"),
                  n.hasOwnProperty(i) ||
                  ((n[i] = []),
                    e.factory(i + "Directive", [
                      "$injector",
                      "$exceptionHandler",
                      function (e, t) {
                        var o = [];
                        return (
                          w(n[i], function (n, r) {
                            try {
                              var a = e.invoke(n);
                              $(a)
                                ? (a = { compile: I(a) })
                                : !a.compile &&
                                a.link &&
                                (a.compile = I(a.link)),
                                (a.priority = a.priority || 0),
                                (a.index = r),
                                (a.name = a.name || i),
                                (a.require =
                                  a.require || (a.controller && a.name)),
                                (a.restrict = a.restrict || "EA"),
                                M(a.scope) &&
                                (a.$$isolateBindings =
                                  ((s = a.scope),
                                    (l = a.name),
                                    (c = /^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/),
                                    (u = {}),
                                    w(s, function (e, t) {
                                      var i = e.match(c);
                                      if (!i)
                                        throw It(
                                          "iscp",
                                          "Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",
                                          l,
                                          t,
                                          e
                                        );
                                      u[t] = {
                                        mode: i[1][0],
                                        collection: "*" === i[2],
                                        optional: "?" === i[3],
                                        attrName: i[4] || t,
                                      };
                                    }),
                                    u)),
                                o.push(a);
                            } catch (e) {
                              t(e);
                            }
                            var s, l, c, u;
                          }),
                          o
                        );
                      },
                    ])),
                  n[i].push(o))
                : w(i, A(t)),
              this
            );
          }),
            (this.aHrefSanitizationWhitelist = function (e) {
              return O(e)
                ? (t.aHrefSanitizationWhitelist(e), this)
                : t.aHrefSanitizationWhitelist();
            }),
            (this.imgSrcSanitizationWhitelist = function (e) {
              return O(e)
                ? (t.imgSrcSanitizationWhitelist(e), this)
                : t.imgSrcSanitizationWhitelist();
            });
          var p = !0;
          (this.debugInfoEnabled = function (e) {
            return O(e) ? ((p = e), this) : p;
          }),
            (this.$get = [
              "$injector",
              "$interpolate",
              "$exceptionHandler",
              "$templateRequest",
              "$parse",
              "$controller",
              "$rootScope",
              "$document",
              "$sce",
              "$animate",
              "$$sanitizeUri",
              function (e, t, h, f, g, m, v, b, y, x, _) {
                var A = function (e, t) {
                  if (t) {
                    var i,
                      n,
                      o,
                      r = Object.keys(t);
                    for (i = 0, n = r.length; i < n; i++)
                      this[(o = r[i])] = t[o];
                  } else this.$attr = {};
                  this.$$element = e;
                };
                function E(e, t) {
                  try {
                    e.addClass(t);
                  } catch (e) { }
                }
                A.prototype = {
                  $normalize: Mt,
                  $addClass: function (e) {
                    e && e.length > 0 && x.addClass(this.$$element, e);
                  },
                  $removeClass: function (e) {
                    e && e.length > 0 && x.removeClass(this.$$element, e);
                  },
                  $updateClass: function (e, t) {
                    var i = Nt(e, t);
                    i && i.length && x.addClass(this.$$element, i);
                    var n = Nt(t, e);
                    n && n.length && x.removeClass(this.$$element, n);
                  },
                  $set: function (e, t, i, n) {
                    var o,
                      r = this.$$element[0],
                      a = ht(r, e),
                      s = (function (e, t) {
                        var i = e.nodeName;
                        return ("INPUT" === i || "TEXTAREA" === i) && pt[t];
                      })(r, e),
                      l = e;
                    if (
                      (a
                        ? (this.$$element.prop(e, t), (n = a))
                        : s && ((this[s] = t), (l = s)),
                        (this[e] = t),
                        n
                          ? (this.$attr[e] = n)
                          : (n = this.$attr[e]) ||
                          (this.$attr[e] = n = be(e, "-")),
                        ("a" === (o = G(this.$$element)) && "href" === e) ||
                        ("img" === o && "src" === e))
                    )
                      this[e] = t = _(t, "src" === e);
                    else if ("img" === o && "srcset" === e) {
                      for (
                        var c = "",
                        u = W(t),
                        d = /\s/.test(u)
                          ? /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/
                          : /(,)/,
                        p = u.split(d),
                        f = Math.floor(p.length / 2),
                        g = 0;
                        g < f;
                        g++
                      ) {
                        var m = 2 * g;
                        (c += _(W(p[m]), !0)), (c += " " + W(p[m + 1]));
                      }
                      var v = W(p[2 * g]).split(/\s/);
                      (c += _(W(v[0]), !0)),
                        2 === v.length && (c += " " + W(v[1])),
                        (this[e] = t = c);
                    }
                    !1 !== i &&
                      (null == t
                        ? this.$$element.removeAttr(n)
                        : this.$$element.attr(n, t));
                    var b = this.$$observers;
                    b &&
                      w(b[l], function (e) {
                        try {
                          e(t);
                        } catch (e) {
                          h(e);
                        }
                      });
                  },
                  $observe: function (e, t) {
                    var i = this,
                      n = i.$$observers || (i.$$observers = Te()),
                      o = n[e] || (n[e] = []);
                    return (
                      o.push(t),
                      v.$evalAsync(function () {
                        !o.$$inter && i.hasOwnProperty(e) && t(i[e]);
                      }),
                      function () {
                        Y(o, t);
                      }
                    );
                  },
                };
                var S = t.startSymbol(),
                  C = t.endSymbol(),
                  I =
                    "{{" == S || "}}" == C
                      ? D
                      : function (e) {
                        return e.replace(/\{\{/g, S).replace(/}}/g, C);
                      },
                  P = /^ngAttr[A-Z]/;
                return (
                  (O.$$addBindingInfo = p
                    ? function (e, t) {
                      var i = e.data("$binding") || [];
                      z(t) ? (i = i.concat(t)) : i.push(t),
                        e.data("$binding", i);
                    }
                    : L),
                  (O.$$addBindingClass = p
                    ? function (e) {
                      E(e, "ng-binding");
                    }
                    : L),
                  (O.$$addScopeInfo = p
                    ? function (e, t, i, n) {
                      var o = i
                        ? n
                          ? "$isolateScopeNoTemplate"
                          : "$isolateScope"
                        : "$scope";
                      e.data(o, t);
                    }
                    : L),
                  (O.$$addScopeClass = p
                    ? function (e, t) {
                      E(e, t ? "ng-isolate-scope" : "ng-scope");
                    }
                    : L),
                  O
                );
                function O(e, t, i, n, o) {
                  e instanceof u || (e = u(e)),
                    w(e, function (t, i) {
                      t.nodeType == ke &&
                        t.nodeValue.match(/\S+/) &&
                        (e[i] = u(t).wrap("<span></span>").parent()[0]);
                    });
                  var r = R(e, t, e, i, n, o);
                  O.$$addScopeClass(e);
                  var a = null;
                  return function (t, i, n) {
                    we(t, "scope");
                    var o,
                      s,
                      l,
                      c = (n = n || {}).parentBoundTranscludeFn,
                      d = n.transcludeControllers,
                      p = n.futureParentElement;
                    if (
                      (c && c.$$boundTransclude && (c = c.$$boundTransclude),
                        a ||
                        ((s = (o = p) && o[0]),
                          (a =
                            s &&
                              "foreignobject" !== G(s) &&
                              s.toString().match(/SVG/)
                              ? "svg"
                              : "html")),
                        (l =
                          "html" !== a
                            ? u(ne(a, u("<div>").append(e).html()))
                            : i
                              ? ct.clone.call(e)
                              : e),
                        d)
                    )
                      for (var h in d)
                        l.data("$" + h + "Controller", d[h].instance);
                    return (
                      O.$$addScopeInfo(l, t),
                      i && i(l, t),
                      r && r(t, l, l, c),
                      l
                    );
                  };
                }
                function R(e, t, i, n, o, r) {
                  for (
                    var a, s, l, c, d, p, h, f = [], g = 0;
                    g < e.length;
                    g++
                  )
                    (a = new A()),
                      (l = (s = H(e[g], [], a, 0 === g ? n : void 0, o)).length
                        ? U(s, e[g], a, t, i, null, [], [], r)
                        : null) &&
                      l.scope &&
                      O.$$addScopeClass(a.$$element),
                      (d =
                        (l && l.terminal) || !(c = e[g].childNodes) || !c.length
                          ? null
                          : R(
                            c,
                            l
                              ? (l.transcludeOnThisElement ||
                                !l.templateOnThisElement) &&
                              l.transclude
                              : t
                          )),
                      (l || d) && (f.push(g, l, d), (p = !0), (h = h || l)),
                      (r = null);
                  return p
                    ? function (e, i, n, o) {
                      var r, a, s, l, c, d, p, g, m;
                      if (h) {
                        var v = i.length;
                        for (m = new Array(v), c = 0; c < f.length; c += 3)
                          (p = f[c]), (m[p] = i[p]);
                      } else m = i;
                      for (c = 0, d = f.length; c < d;)
                        (s = m[f[c++]]),
                          (r = f[c++]),
                          (a = f[c++]),
                          r
                            ? (r.scope
                              ? ((l = e.$new()), O.$$addScopeInfo(u(s), l))
                              : (l = e),
                              (g = r.transcludeOnThisElement
                                ? B(
                                  e,
                                  r.transclude,
                                  o,
                                  r.elementTranscludeOnThisElement
                                )
                                : !r.templateOnThisElement && o
                                  ? o
                                  : !o && t
                                    ? B(e, t)
                                    : null),
                              r(a, l, s, n, g))
                            : a && a(e, s.childNodes, void 0, o);
                    }
                    : null;
                }
                function B(e, t, i, n) {
                  return function (n, o, r, a, s) {
                    return (
                      n || ((n = e.$new(!1, s)).$$transcluded = !0),
                      t(n, o, {
                        parentBoundTranscludeFn: i,
                        transcludeControllers: r,
                        futureParentElement: a,
                      })
                    );
                  };
                }
                function H(e, i, n, a, s) {
                  var l,
                    c,
                    u = e.nodeType,
                    d = n.$attr;
                  switch (u) {
                    case Ce:
                      Q(i, Mt(G(e)), "E", a, s);
                      for (
                        var p,
                        h,
                        f,
                        g,
                        m,
                        v,
                        b = e.attributes,
                        y = 0,
                        x = b && b.length;
                        y < x;
                        y++
                      ) {
                        var w = !1,
                          _ = !1;
                        (h = (p = b[y]).name),
                          (m = W(p.value)),
                          (g = Mt(h)),
                          (v = P.test(g)) &&
                          (h = h
                            .replace(Ot, "")
                            .substr(8)
                            .replace(/_(.)/g, function (e, t) {
                              return t.toUpperCase();
                            }));
                        var A = g.replace(/(Start|End)$/, "");
                        Z(A) &&
                          g === A + "Start" &&
                          ((w = h),
                            (_ = h.substr(0, h.length - 5) + "end"),
                            (h = h.substr(0, h.length - 6))),
                          (d[(f = Mt(h.toLowerCase()))] = h),
                          (!v && n.hasOwnProperty(f)) ||
                          ((n[f] = m), ht(e, f) && (n[f] = !0)),
                          oe(e, i, m, f, v),
                          Q(i, f, "A", a, s, w, _);
                      }
                      if (
                        (M((c = e.className)) && (c = c.animVal),
                          N(c) && "" !== c)
                      )
                        for (; (l = r.exec(c));)
                          Q(i, (f = Mt(l[2])), "C", a, s) && (n[f] = W(l[3])),
                            (c = c.substr(l.index + l[0].length));
                      break;
                    case ke:
                      !(function (e, i) {
                        var n = t(i, !0);
                        n &&
                          e.push({
                            priority: 0,
                            compile: function (e) {
                              var t = e.parent(),
                                i = !!t.length;
                              return (
                                i && O.$$addBindingClass(t),
                                function (e, t) {
                                  var o = t.parent();
                                  i || O.$$addBindingClass(o),
                                    O.$$addBindingInfo(o, n.expressions),
                                    e.$watch(n, function (e) {
                                      t[0].nodeValue = e;
                                    });
                                }
                              );
                            },
                          });
                      })(i, e.nodeValue);
                      break;
                    case 8:
                      try {
                        (l = o.exec(e.nodeValue)) &&
                          Q(i, (f = Mt(l[1])), "M", a, s) &&
                          (n[f] = W(l[2]));
                      } catch (e) { }
                  }
                  return i.sort(ee), i;
                }
                function V(e, t, i) {
                  var n = [],
                    o = 0;
                  if (t && e.hasAttribute && e.hasAttribute(t))
                    do {
                      if (!e)
                        throw It(
                          "uterdir",
                          "Unterminated attribute, found '{0}' but no matching '{1}' found.",
                          t,
                          i
                        );
                      e.nodeType == Ce &&
                        (e.hasAttribute(t) && o++, e.hasAttribute(i) && o--),
                        n.push(e),
                        (e = e.nextSibling);
                    } while (o > 0);
                  else n.push(e);
                  return u(n);
                }
                function F(e, t, i) {
                  return function (n, o, r, a, s) {
                    return (o = V(o[0], t, i)), e(n, o, r, a, s);
                  };
                }
                function U(e, n, o, r, a, s, c, d, p) {
                  p = p || {};
                  for (
                    var f,
                    v,
                    b,
                    y,
                    x,
                    _,
                    E,
                    S = -Number.MAX_VALUE,
                    T = p.controllerDirectives,
                    C = p.newIsolateScopeDirective,
                    k = p.templateDirective,
                    L = p.nonTlbTranscludeDirective,
                    D = !1,
                    P = !1,
                    R = p.hasElementTranscludeDirective,
                    B = (o.$$element = u(n)),
                    U = s,
                    Q = r,
                    G = 0,
                    Y = e.length;
                    G < Y;
                    G++
                  ) {
                    var Z = (b = e[G]).$$start,
                      ee = b.$$end;
                    if ((Z && (B = V(n, Z, ee)), (x = void 0), S > b.priority))
                      break;
                    if (
                      ((E = b.scope) &&
                        (b.templateUrl ||
                          (M(E)
                            ? (ie("new/isolated scope", C || f, b, B), (C = b))
                            : ie("new/isolated scope", C, b, B)),
                          (f = f || b)),
                        (y = b.name),
                        !b.templateUrl &&
                        b.controller &&
                        ((E = b.controller),
                          ie("'" + y + "' controller", (T = T || {})[y], b, B),
                          (T[y] = b)),
                        (E = b.transclude) &&
                        ((D = !0),
                          b.$$tlb || (ie("transclusion", L, b, B), (L = b)),
                          "element" == E
                            ? ((R = !0),
                              (S = b.priority),
                              (x = B),
                              (B = o.$$element =
                                u(i.createComment(" " + y + ": " + o[y] + " "))),
                              (n = B[0]),
                              re(a, te(x), n),
                              (Q = O(x, r, S, U && U.name, {
                                nonTlbTranscludeDirective: L,
                              })))
                            : ((x = u(Ye(n)).contents()),
                              B.empty(),
                              (Q = O(x, r)))),
                        b.template)
                    )
                      if (
                        ((P = !0),
                          ie("template", k, b, B),
                          (k = b),
                          (E = $(b.template) ? b.template(B, o) : b.template),
                          (E = I(E)),
                          b.replace)
                      ) {
                        if (
                          ((U = b),
                            (x = We(E) ? [] : Rt(ne(b.templateNamespace, W(E)))),
                            (n = x[0]),
                            1 != x.length || n.nodeType !== Ce)
                        )
                          throw It(
                            "tplrt",
                            "Template for directive '{0}' must have exactly one root element. {1}",
                            y,
                            ""
                          );
                        re(a, B, n);
                        var oe = { $attr: {} },
                          ce = H(n, [], oe),
                          ue = e.splice(G + 1, e.length - (G + 1));
                        C && q(ce),
                          (e = e.concat(ce).concat(ue)),
                          X(o, oe),
                          (Y = e.length);
                      } else B.html(E);
                    if (b.templateUrl)
                      (P = !0),
                        ie("template", k, b, B),
                        (k = b),
                        b.replace && (U = b),
                        (he = J(
                          e.splice(G, e.length - G),
                          B,
                          o,
                          a,
                          D && Q,
                          c,
                          d,
                          {
                            controllerDirectives: T,
                            newIsolateScopeDirective: C,
                            templateDirective: k,
                            nonTlbTranscludeDirective: L,
                          }
                        )),
                        (Y = e.length);
                    else if (b.compile)
                      try {
                        $((_ = b.compile(B, o, Q)))
                          ? de(null, _, Z, ee)
                          : _ && de(_.pre, _.post, Z, ee);
                      } catch (e) {
                        h(e, ae(B));
                      }
                    b.terminal &&
                      ((he.terminal = !0), (S = Math.max(S, b.priority)));
                  }
                  return (
                    (he.scope = f && !0 === f.scope),
                    (he.transcludeOnThisElement = D),
                    (he.elementTranscludeOnThisElement = R),
                    (he.templateOnThisElement = P),
                    (he.transclude = Q),
                    (p.hasElementTranscludeDirective = R),
                    he
                  );
                  function de(e, t, i, n) {
                    e &&
                      (i && (e = F(e, i, n)),
                        (e.require = b.require),
                        (e.directiveName = y),
                        (C === b || b.$$isolateScope) &&
                        (e = se(e, { isolateScope: !0 })),
                        c.push(e)),
                      t &&
                      (i && (t = F(t, i, n)),
                        (t.require = b.require),
                        (t.directiveName = y),
                        (C === b || b.$$isolateScope) &&
                        (t = se(t, { isolateScope: !0 })),
                        d.push(t));
                  }
                  function pe(e, t, i, n) {
                    var o,
                      r,
                      a = "data",
                      s = !1,
                      c = i;
                    if (N(t)) {
                      if (
                        ((r = t.match(l)),
                          (t = t.substring(r[0].length)),
                          r[3] && (r[1] ? (r[3] = null) : (r[1] = r[3])),
                          "^" === r[1]
                            ? (a = "inheritedData")
                            : "^^" === r[1] &&
                            ((a = "inheritedData"), (c = i.parent())),
                          "?" === r[2] && (s = !0),
                          (o = null),
                          n && "data" === a && (o = n[t]) && (o = o.instance),
                          !(o = o || c[a]("$" + t + "Controller")) && !s)
                      )
                        throw It(
                          "ctreq",
                          "Controller '{0}', required by directive '{1}', can't be found!",
                          t,
                          e
                        );
                      return o || null;
                    }
                    return (
                      z(t) &&
                      ((o = []),
                        w(t, function (t) {
                          o.push(pe(e, t, i, n));
                        })),
                      o
                    );
                  }
                  function he(e, i, r, a, s) {
                    var l, p, h, f, b, y, x, _, E;
                    if (
                      (n === r
                        ? ((E = o), (_ = o.$$element))
                        : ((_ = u(r)), (E = new A(_, o))),
                        C && (b = i.$new(!0)),
                        s &&
                        ((x = function (e, t, i) {
                          var n;
                          j(e) || ((i = t), (t = e), (e = void 0));
                          R && (n = y);
                          i || (i = R ? _.parent() : _);
                          return s(e, t, n, i, D);
                        }).$$boundTransclude = s),
                        T &&
                        ((v = {}),
                          (y = {}),
                          w(T, function (e) {
                            var t,
                              n = {
                                $scope: e === C || e.$$isolateScope ? b : i,
                                $element: _,
                                $attrs: E,
                                $transclude: x,
                              };
                            "@" == (f = e.controller) && (f = E[e.name]),
                              (t = m(f, n, !0, e.controllerAs)),
                              (y[e.name] = t),
                              R ||
                              _.data("$" + e.name + "Controller", t.instance),
                              (v[e.name] = t);
                          })),
                        C)
                    ) {
                      O.$$addScopeInfo(
                        _,
                        b,
                        !0,
                        !(k && (k === C || k === C.$$originalDirective))
                      ),
                        O.$$addScopeClass(_, !0);
                      var S = v && v[C.name],
                        L = b;
                      S &&
                        S.identifier &&
                        !0 === C.bindToController &&
                        (L = S.instance),
                        w(
                          (b.$$isolateBindings = C.$$isolateBindings),
                          function (e, n) {
                            var o,
                              r,
                              a,
                              s,
                              l = e.attrName,
                              c = e.optional;
                            switch (e.mode) {
                              case "@":
                                E.$observe(l, function (e) {
                                  L[n] = e;
                                }),
                                  (E.$$observers[l].$$scope = i),
                                  E[l] && (L[n] = t(E[l])(i));
                                break;
                              case "=":
                                if (c && !E[l]) return;
                                (r = g(E[l])),
                                  (s = r.literal
                                    ? K
                                    : function (e, t) {
                                      return e === t || (e != e && t != t);
                                    }),
                                  (a =
                                    r.assign ||
                                    function () {
                                      throw (
                                        ((o = L[n] = r(i)),
                                          It(
                                            "nonassign",
                                            "Expression '{0}' used with directive '{1}' is non-assignable!",
                                            E[l],
                                            C.name
                                          ))
                                      );
                                    }),
                                  (o = L[n] = r(i));
                                var u,
                                  d = function (e) {
                                    return (
                                      s(e, L[n]) ||
                                      (s(e, o)
                                        ? a(i, (e = L[n]))
                                        : (L[n] = e)),
                                      (o = e)
                                    );
                                  };
                                (d.$stateful = !0),
                                  (u = e.collection
                                    ? i.$watchCollection(E[l], d)
                                    : i.$watch(g(E[l], d), null, r.literal)),
                                  b.$on("$destroy", u);
                                break;
                              case "&":
                                (r = g(E[l])),
                                  (L[n] = function (e) {
                                    return r(i, e);
                                  });
                            }
                          }
                        );
                    }
                    for (
                      v &&
                      (w(v, function (e) {
                        e();
                      }),
                        (v = null)),
                      l = 0,
                      p = c.length;
                      l < p;
                      l++
                    )
                      le(
                        (h = c[l]),
                        h.isolateScope ? b : i,
                        _,
                        E,
                        h.require && pe(h.directiveName, h.require, _, y),
                        x
                      );
                    var D = i;
                    for (
                      C && (C.template || null === C.templateUrl) && (D = b),
                      e && e(D, r.childNodes, void 0, s),
                      l = d.length - 1;
                      l >= 0;
                      l--
                    )
                      le(
                        (h = d[l]),
                        h.isolateScope ? b : i,
                        _,
                        E,
                        h.require && pe(h.directiveName, h.require, _, y),
                        x
                      );
                  }
                }
                function q(e) {
                  for (var t = 0, i = e.length; t < i; t++)
                    e[t] = k(e[t], { $$isolateScope: !0 });
                }
                function Q(t, i, o, r, a, s, l) {
                  if (i === a) return null;
                  var c = null;
                  if (n.hasOwnProperty(i))
                    for (
                      var u, d = e.get(i + "Directive"), p = 0, f = d.length;
                      p < f;
                      p++
                    )
                      try {
                        (u = d[p]),
                          (void 0 === r || r > u.priority) &&
                          -1 != u.restrict.indexOf(o) &&
                          (s && (u = k(u, { $$start: s, $$end: l })),
                            t.push(u),
                            (c = u));
                      } catch (e) {
                        h(e);
                      }
                  return c;
                }
                function Z(t) {
                  if (n.hasOwnProperty(t))
                    for (
                      var i = e.get(t + "Directive"), o = 0, r = i.length;
                      o < r;
                      o++
                    )
                      if (i[o].multiElement) return !0;
                  return !1;
                }
                function X(e, t) {
                  var i = t.$attr,
                    n = e.$attr,
                    o = e.$$element;
                  w(e, function (n, o) {
                    "$" != o.charAt(0) &&
                      (t[o] &&
                        t[o] !== n &&
                        (n += ("style" === o ? ";" : " ") + t[o]),
                        e.$set(o, n, !0, i[o]));
                  }),
                    w(t, function (t, r) {
                      "class" == r
                        ? (E(o, t),
                          (e.class = (e.class ? e.class + " " : "") + t))
                        : "style" == r
                          ? (o.attr("style", o.attr("style") + ";" + t),
                            (e.style = (e.style ? e.style + ";" : "") + t))
                          : "$" == r.charAt(0) ||
                          e.hasOwnProperty(r) ||
                          ((e[r] = t), (n[r] = i[r]));
                    });
                }
                function J(e, t, i, n, o, r, a, s) {
                  var l,
                    c,
                    d = [],
                    p = t[0],
                    h = e.shift(),
                    g = k(h, {
                      templateUrl: null,
                      transclude: null,
                      replace: null,
                      $$originalDirective: h,
                    }),
                    m = $(h.templateUrl) ? h.templateUrl(t, i) : h.templateUrl,
                    v = h.templateNamespace;
                  return (
                    t.empty(),
                    f(y.getTrustedResourceUrl(m)).then(function (f) {
                      var b, y, x, _;
                      if (((f = I(f)), h.replace)) {
                        if (
                          ((x = We(f) ? [] : Rt(ne(v, W(f)))),
                            (b = x[0]),
                            1 != x.length || b.nodeType !== Ce)
                        )
                          throw It(
                            "tplrt",
                            "Template for directive '{0}' must have exactly one root element. {1}",
                            h.name,
                            m
                          );
                        (y = { $attr: {} }), re(n, t, b);
                        var A = H(b, [], y);
                        M(h.scope) && q(A), (e = A.concat(e)), X(i, y);
                      } else (b = p), t.html(f);
                      for (
                        e.unshift(g),
                        l = U(e, b, i, o, t, h, r, a, s),
                        w(n, function (e, i) {
                          e == b && (n[i] = t[0]);
                        }),
                        c = R(t[0].childNodes, o);
                        d.length;

                      ) {
                        var S = d.shift(),
                          T = d.shift(),
                          C = d.shift(),
                          k = d.shift(),
                          L = t[0];
                        if (!S.$$destroyed) {
                          if (T !== p) {
                            var D = T.className;
                            (s.hasElementTranscludeDirective && h.replace) ||
                              (L = Ye(b)),
                              re(C, u(T), L),
                              E(u(L), D);
                          }
                          (_ = l.transcludeOnThisElement
                            ? B(S, l.transclude, k)
                            : k),
                            l(c, S, L, n, _);
                        }
                      }
                      d = null;
                    }),
                    function (e, t, i, n, o) {
                      var r = o;
                      t.$$destroyed ||
                        (d
                          ? d.push(t, i, n, r)
                          : (l.transcludeOnThisElement &&
                            (r = B(t, l.transclude, o)),
                            l(c, t, i, n, r)));
                    }
                  );
                }
                function ee(e, t) {
                  var i = t.priority - e.priority;
                  return 0 !== i
                    ? i
                    : e.name !== t.name
                      ? e.name < t.name
                        ? -1
                        : 1
                      : e.index - t.index;
                }
                function ie(e, t, i, n) {
                  if (t)
                    throw It(
                      "multidir",
                      "Multiple directives [{0}, {1}] asking for {2} on: {3}",
                      t.name,
                      i.name,
                      e,
                      ae(n)
                    );
                }
                function ne(e, t) {
                  switch ((e = a(e || "html"))) {
                    case "svg":
                    case "math":
                      var n = i.createElement("div");
                      return (
                        (n.innerHTML = "<" + e + ">" + t + "</" + e + ">"),
                        n.childNodes[0].childNodes
                      );
                    default:
                      return t;
                  }
                }
                function oe(e, i, n, o, r) {
                  var a = (function (e, t) {
                    if ("srcdoc" == t) return y.HTML;
                    var i = G(e);
                    return "xlinkHref" == t ||
                      ("form" == i && "action" == t) ||
                      ("img" != i && ("src" == t || "ngSrc" == t))
                      ? y.RESOURCE_URL
                      : void 0;
                  })(e, o);
                  r = s[o] || r;
                  var l = t(n, !0, a, r);
                  if (l) {
                    if ("multiple" === o && "select" === G(e))
                      throw It(
                        "selmulti",
                        "Binding to the 'multiple' attribute is not supported. Element: {0}",
                        ae(e)
                      );
                    i.push({
                      priority: 100,
                      compile: function () {
                        return {
                          pre: function (e, i, s) {
                            var u = s.$$observers || (s.$$observers = {});
                            if (c.test(o))
                              throw It(
                                "nodomevents",
                                "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead."
                              );
                            var d = s[o];
                            d !== n && ((l = d && t(d, !0, a, r)), (n = d)),
                              l &&
                              ((s[o] = l(e)),
                                ((u[o] || (u[o] = [])).$$inter = !0),
                                (
                                  (s.$$observers && s.$$observers[o].$$scope) ||
                                  e
                                ).$watch(l, function (e, t) {
                                  "class" === o && e != t
                                    ? s.$updateClass(e, t)
                                    : s.$set(o, e);
                                }));
                          },
                        };
                      },
                    });
                  }
                }
                function re(e, t, n) {
                  var o,
                    r,
                    a = t[0],
                    s = t.length,
                    l = a.parentNode;
                  if (e)
                    for (o = 0, r = e.length; o < r; o++)
                      if (e[o] == a) {
                        e[o++] = n;
                        for (
                          var c = o, p = c + s - 1, h = e.length;
                          c < h;
                          c++, p++
                        )
                          p < h ? (e[c] = e[p]) : delete e[c];
                        (e.length -= s - 1), e.context === a && (e.context = n);
                        break;
                      }
                  l && l.replaceChild(n, a);
                  var f = i.createDocumentFragment();
                  f.appendChild(a),
                    u(n).data(u(a).data()),
                    d
                      ? ((ye = !0), d.cleanData([a]))
                      : delete u.cache[a[u.expando]];
                  for (var g = 1, m = t.length; g < m; g++) {
                    var v = t[g];
                    u(v).remove(), f.appendChild(v), delete t[g];
                  }
                  (t[0] = n), (t.length = 1);
                }
                function se(e, t) {
                  return T(
                    function () {
                      return e.apply(null, arguments);
                    },
                    e,
                    t
                  );
                }
                function le(e, t, i, n, o, r) {
                  try {
                    e(t, i, n, o, r);
                  } catch (e) {
                    h(e, ae(i));
                  }
                }
              },
            ]);
        }
        Pt.$inject = ["$provide", "$$sanitizeUriProvider"];
        var Ot = /^((?:x|data)[\:\-_])/i;
        function Mt(e) {
          return $e(e.replace(Ot, ""));
        }
        function Nt(e, t) {
          var i = "",
            n = e.split(/\s+/),
            o = t.split(/\s+/);
          e: for (var r = 0; r < n.length; r++) {
            for (var a = n[r], s = 0; s < o.length; s++)
              if (a == o[s]) continue e;
            i += (i.length > 0 ? " " : "") + a;
          }
          return i;
        }
        function Rt(e) {
          var t = (e = u(e)).length;
          if (t <= 1) return e;
          for (; t--;) {
            8 === e[t].nodeType && f.call(e, t, 1);
          }
          return e;
        }
        var Bt = o("$controller");
        function zt() {
          var e = {},
            t = !1,
            i = /^(\S+)(\s+as\s+(\w+))?$/;
          (this.register = function (t, i) {
            Ae(t, "controller"), M(t) ? T(e, t) : (e[t] = i);
          }),
            (this.allowGlobals = function () {
              t = !0;
            }),
            (this.$get = [
              "$injector",
              "$window",
              function (n, r) {
                return function (o, s, l, c) {
                  var u, d, p, h;
                  if (((l = !0 === l), c && N(c) && (h = c), N(o))) {
                    if (!(d = o.match(i)))
                      throw Bt(
                        "ctrlfmt",
                        "Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",
                        o
                      );
                    (p = d[1]),
                      (h = h || d[3]),
                      _e(
                        (o = e.hasOwnProperty(p)
                          ? e[p]
                          : Ee(s.$scope, p, !0) || (t ? Ee(r, p, !0) : void 0)),
                        p,
                        !0
                      );
                  }
                  if (l) {
                    var f = (z(o) ? o[o.length - 1] : o).prototype;
                    return (
                      (u = Object.create(f || null)),
                      h && a(s, h, u, p || o.name),
                      T(
                        function () {
                          return n.invoke(o, u, s, p), u;
                        },
                        { instance: u, identifier: h }
                      )
                    );
                  }
                  return (
                    (u = n.instantiate(o, s, p)),
                    h && a(s, h, u, p || o.name),
                    u
                  );
                };
                function a(e, t, i, n) {
                  if (!e || !M(e.$scope))
                    throw o("$controller")(
                      "noscp",
                      "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",
                      n,
                      t
                    );
                  e.$scope[t] = i;
                }
              },
            ]);
        }
        function $t() {
          this.$get = [
            "$window",
            function (e) {
              return u(e.document);
            },
          ];
        }
        function Ht() {
          this.$get = [
            "$log",
            function (e) {
              return function (t, i) {
                e.error.apply(e, arguments);
              };
            },
          ];
        }
        var Vt = { "Content-Type": "application/json;charset=utf-8" },
          jt = /^\[|^\{(?!\{)/,
          Ft = { "[": /]$/, "{": /}$/ },
          Ut = /^\)\]\}',?\n/;
        function Wt(e, t) {
          if (N(e)) {
            var i = e.replace(Ut, "").trim();
            if (i) {
              var n = t("Content-Type");
              ((n && 0 === n.indexOf("application/json")) ||
                ((r = (o = i).match(jt)) && Ft[r[0]].test(o))) &&
                (e = re(i));
            }
          }
          var o, r;
          return e;
        }
        function qt(e) {
          var t,
            i,
            n,
            o = Te();
          return e
            ? (w(e.split("\n"), function (e) {
              (n = e.indexOf(":")),
                (t = a(W(e.substr(0, n)))),
                (i = W(e.substr(n + 1))),
                t && (o[t] = o[t] ? o[t] + ", " + i : i);
            }),
              o)
            : o;
        }
        function Qt(e) {
          var t = M(e) ? e : void 0;
          return function (i) {
            if ((t || (t = qt(e)), i)) {
              var n = t[a(i)];
              return void 0 === n && (n = null), n;
            }
            return t;
          };
        }
        function Gt(e, t, i, n) {
          return $(n)
            ? n(e, t, i)
            : (w(n, function (n) {
              e = n(e, t, i);
            }),
              e);
        }
        function Yt(e) {
          return 200 <= e && e < 300;
        }
        function Zt() {
          var e = (this.defaults = {
            transformResponse: [Wt],
            transformRequest: [
              function (e) {
                return !M(e) ||
                  ((t = e), "[object File]" === m.call(t)) ||
                  (function (e) {
                    return "[object Blob]" === m.call(e);
                  })(e) ||
                  (function (e) {
                    return "[object FormData]" === m.call(e);
                  })(e)
                  ? e
                  : oe(e);
                var t;
              },
            ],
            headers: {
              common: { Accept: "application/json, text/plain, */*" },
              post: X(Vt),
              put: X(Vt),
              patch: X(Vt),
            },
            xsrfCookieName: "XSRF-TOKEN",
            xsrfHeaderName: "X-XSRF-TOKEN",
          }),
            t = !1;
          this.useApplyAsync = function (e) {
            return O(e) ? ((t = !!e), this) : t;
          };
          var i = (this.interceptors = []);
          this.$get = [
            "$httpBackend",
            "$browser",
            "$cacheFactory",
            "$rootScope",
            "$q",
            "$injector",
            function (n, r, s, c, u, d) {
              var p = s("$http"),
                h = [];
              function f(i) {
                if (!b.isObject(i))
                  throw o("$http")(
                    "badreq",
                    "Http request configuration must be an object.  Received: {0}",
                    i
                  );
                var s = T(
                  {
                    method: "get",
                    transformRequest: e.transformRequest,
                    transformResponse: e.transformResponse,
                  },
                  i
                );
                (s.headers = (function (t) {
                  var i,
                    n,
                    o,
                    r = e.headers,
                    s = T({}, t.headers);
                  r = T({}, r.common, r[a(t.method)]);
                  e: for (i in r) {
                    for (o in ((n = a(i)), s)) if (a(o) === n) continue e;
                    s[i] = r[i];
                  }
                  return (
                    (l = s),
                    (u = {}),
                    w(l, function (e, t) {
                      $(e) ? null != (c = e()) && (u[t] = c) : (u[t] = e);
                    }),
                    u
                  );
                  var l, c, u;
                })(i)),
                  (s.method = l(s.method));
                var d = [
                  function (i) {
                    var o = i.headers,
                      s = Gt(i.data, Qt(o), void 0, i.transformRequest);
                    return (
                      P(s) &&
                      w(o, function (e, t) {
                        "content-type" === a(t) && delete o[t];
                      }),
                      P(i.withCredentials) &&
                      !P(e.withCredentials) &&
                      (i.withCredentials = e.withCredentials),
                      (function (i, o) {
                        var a,
                          s,
                          l = u.defer(),
                          d = l.promise,
                          h = i.headers,
                          g = (function (e, t) {
                            if (!t) return e;
                            var i = [];
                            (function (e, t, i) {
                              for (var n = _(e), o = 0; o < n.length; o++)
                                t.call(i, e[n[o]], n[o]);
                            })(t, function (e, t) {
                              null === e ||
                                P(e) ||
                                (z(e) || (e = [e]),
                                  w(e, function (e) {
                                    M(e) &&
                                      (e = B(e) ? e.toISOString() : oe(e)),
                                      i.push(de(t) + "=" + de(e));
                                  }));
                            }),
                              i.length > 0 &&
                              (e +=
                                (-1 == e.indexOf("?") ? "?" : "&") +
                                i.join("&"));
                            return e;
                          })(i.url, i.params);
                        f.pendingRequests.push(i),
                          d.then(y, y),
                          (!i.cache && !e.cache) ||
                          !1 === i.cache ||
                          ("GET" !== i.method && "JSONP" !== i.method) ||
                          (a = M(i.cache)
                            ? i.cache
                            : M(e.cache)
                              ? e.cache
                              : p);
                        a &&
                          (O((s = a.get(g)))
                            ? U(s)
                              ? s.then(b, b)
                              : z(s)
                                ? v(s[1], s[0], X(s[2]), s[3])
                                : v(s, 200, {}, "OK")
                            : a.put(g, d));
                        if (P(s)) {
                          var m = an(i.url)
                            ? r.cookies()[
                            i.xsrfCookieName || e.xsrfCookieName
                            ]
                            : void 0;
                          m && (h[i.xsrfHeaderName || e.xsrfHeaderName] = m),
                            n(
                              i.method,
                              g,
                              o,
                              function (e, i, n, o) {
                                a &&
                                  (Yt(e)
                                    ? a.put(g, [e, i, qt(n), o])
                                    : a.remove(g));
                                function r() {
                                  v(i, e, n, o);
                                }
                                t
                                  ? c.$applyAsync(r)
                                  : (r(), c.$$phase || c.$apply());
                              },
                              h,
                              i.timeout,
                              i.withCredentials,
                              i.responseType
                            );
                        }
                        return d;
                        function v(e, t, n, o) {
                          (Yt((t = Math.max(t, 0))) ? l.resolve : l.reject)({
                            data: e,
                            status: t,
                            headers: Qt(n),
                            config: i,
                            statusText: o,
                          });
                        }
                        function b(e) {
                          v(e.data, e.status, X(e.headers()), e.statusText);
                        }
                        function y() {
                          var e = f.pendingRequests.indexOf(i);
                          -1 !== e && f.pendingRequests.splice(e, 1);
                        }
                      })(i, s).then(y, y)
                    );
                  },
                  void 0,
                ],
                  g = u.when(s);
                for (
                  w(h, function (e) {
                    (e.request || e.requestError) &&
                      d.unshift(e.request, e.requestError),
                      (e.response || e.responseError) &&
                      d.push(e.response, e.responseError);
                  });
                  d.length;

                ) {
                  var m = d.shift(),
                    v = d.shift();
                  g = g.then(m, v);
                }
                return (
                  (g.success = function (e) {
                    return (
                      g.then(function (t) {
                        e(t.data, t.status, t.headers, s);
                      }),
                      g
                    );
                  }),
                  (g.error = function (e) {
                    return (
                      g.then(null, function (t) {
                        e(t.data, t.status, t.headers, s);
                      }),
                      g
                    );
                  }),
                  g
                );
                function y(e) {
                  var t = T({}, e);
                  return (
                    e.data
                      ? (t.data = Gt(
                        e.data,
                        e.headers,
                        e.status,
                        s.transformResponse
                      ))
                      : (t.data = e.data),
                    Yt(e.status) ? t : u.reject(t)
                  );
                }
              }
              return (
                w(i, function (e) {
                  h.unshift(N(e) ? d.get(e) : d.invoke(e));
                }),
                (f.pendingRequests = []),
                (function (e) {
                  w(arguments, function (e) {
                    f[e] = function (t, i) {
                      return f(T(i || {}, { method: e, url: t }));
                    };
                  });
                })("get", "delete", "head", "jsonp"),
                (function (e) {
                  w(arguments, function (e) {
                    f[e] = function (t, i, n) {
                      return f(T(n || {}, { method: e, url: t, data: i }));
                    };
                  });
                })("post", "put", "patch"),
                (f.defaults = e),
                f
              );
            },
          ];
        }
        function Xt() {
          return new t.XMLHttpRequest();
        }
        function Kt() {
          this.$get = [
            "$browser",
            "$window",
            "$document",
            function (e, t, i) {
              return (function (e, t, i, n, o) {
                return function (r, s, l, c, u, d, p, h) {
                  if (
                    (e.$$incOutstandingRequestCount(),
                      (s = s || e.url()),
                      "jsonp" == a(r))
                  ) {
                    var f = "_" + (n.counter++).toString(36);
                    n[f] = function (e) {
                      (n[f].data = e), (n[f].called = !0);
                    };
                    var g = (function (e, t, i) {
                      var r = o.createElement("script"),
                        a = null;
                      return (
                        (r.type = "text/javascript"),
                        (r.src = e),
                        (r.async = !0),
                        (a = function (e) {
                          Me(r, "load", a),
                            Me(r, "error", a),
                            o.body.removeChild(r),
                            (r = null);
                          var s = -1,
                            l = "unknown";
                          e &&
                            ("load" !== e.type ||
                              n[t].called ||
                              (e = { type: "error" }),
                              (l = e.type),
                              (s = "error" === e.type ? 404 : 200)),
                            i && i(s, l);
                        }),
                        Oe(r, "load", a),
                        Oe(r, "error", a),
                        o.body.appendChild(r),
                        a
                      );
                    })(
                      s.replace("JSON_CALLBACK", "angular.callbacks." + f),
                      f,
                      function (e, t) {
                        x(c, e, n[f].data, "", t), (n[f] = L);
                      }
                    );
                  } else {
                    var m = t();
                    m.open(r, s, !0),
                      w(u, function (e, t) {
                        O(e) && m.setRequestHeader(t, e);
                      }),
                      (m.onload = function () {
                        var e = m.statusText || "",
                          t = "response" in m ? m.response : m.responseText,
                          i = 1223 === m.status ? 204 : m.status;
                        0 === i &&
                          (i = t ? 200 : "file" == rn(s).protocol ? 404 : 0),
                          x(c, i, t, m.getAllResponseHeaders(), e);
                      });
                    var v = function () {
                      x(c, -1, null, null, "");
                    };
                    if (
                      ((m.onerror = v),
                        (m.onabort = v),
                        p && (m.withCredentials = !0),
                        h)
                    )
                      try {
                        m.responseType = h;
                      } catch (e) {
                        if ("json" !== h) throw e;
                      }
                    m.send(l || null);
                  }
                  if (d > 0) var b = i(y, d);
                  else U(d) && d.then(y);
                  function y() {
                    g && g(), m && m.abort();
                  }
                  function x(t, n, o, r, a) {
                    void 0 !== b && i.cancel(b),
                      (g = m = null),
                      t(n, o, r, a),
                      e.$$completeOutstandingRequest(L);
                  }
                };
              })(e, Xt, e.defer, t.angular.callbacks, i[0]);
            },
          ];
        }
        var Jt = o("$interpolate");
        function ei() {
          var e = "{{",
            t = "}}";
          (this.startSymbol = function (t) {
            return t ? ((e = t), this) : e;
          }),
            (this.endSymbol = function (e) {
              return e ? ((t = e), this) : t;
            }),
            (this.$get = [
              "$parse",
              "$exceptionHandler",
              "$sce",
              function (i, n, o) {
                var r = e.length,
                  a = t.length,
                  s = new RegExp(e.replace(/./g, c), "g"),
                  l = new RegExp(t.replace(/./g, c), "g");
                function c(e) {
                  return "\\\\\\" + e;
                }
                function u(c, u, d, p) {
                  p = !!p;
                  for (
                    var h,
                    f,
                    g,
                    m = 0,
                    v = [],
                    b = [],
                    y = c.length,
                    x = [],
                    w = [];
                    m < y;

                  ) {
                    if (
                      -1 == (h = c.indexOf(e, m)) ||
                      -1 == (f = c.indexOf(t, h + r))
                    ) {
                      m !== y && x.push(S(c.substring(m)));
                      break;
                    }
                    m !== h && x.push(S(c.substring(m, h))),
                      (g = c.substring(h + r, f)),
                      v.push(g),
                      b.push(i(g, C)),
                      (m = f + a),
                      w.push(x.length),
                      x.push("");
                  }
                  if (d && x.length > 1)
                    throw Jt(
                      "noconcat",
                      "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",
                      c
                    );
                  if (!u || v.length) {
                    var _ = function (e) {
                      for (var t = 0, i = v.length; t < i; t++) {
                        if (p && P(e[t])) return;
                        x[w[t]] = e[t];
                      }
                      return x.join("");
                    },
                      A = function (e) {
                        return d ? o.getTrusted(d, e) : o.valueOf(e);
                      },
                      E = function (e) {
                        if (null == e) return "";
                        switch (typeof e) {
                          case "string":
                            break;
                          case "number":
                            e = "" + e;
                            break;
                          default:
                            e = oe(e);
                        }
                        return e;
                      };
                    return T(
                      function (e) {
                        var t = 0,
                          i = v.length,
                          o = new Array(i);
                        try {
                          for (; t < i; t++) o[t] = b[t](e);
                          return _(o);
                        } catch (e) {
                          var r = Jt(
                            "interr",
                            "Can't interpolate: {0}\n{1}",
                            c,
                            e.toString()
                          );
                          n(r);
                        }
                      },
                      {
                        exp: c,
                        expressions: v,
                        $$watchDelegate: function (e, t, i) {
                          var n;
                          return e.$watchGroup(
                            b,
                            function (i, o) {
                              var r = _(i);
                              $(t) && t.call(this, r, i !== o ? n : r, e),
                                (n = r);
                            },
                            i
                          );
                        },
                      }
                    );
                  }
                  function S(i) {
                    return i.replace(s, e).replace(l, t);
                  }
                  function C(e) {
                    try {
                      return (e = A(e)), p && !O(e) ? e : E(e);
                    } catch (e) {
                      var t = Jt(
                        "interr",
                        "Can't interpolate: {0}\n{1}",
                        c,
                        e.toString()
                      );
                      n(t);
                    }
                  }
                }
                return (
                  (u.startSymbol = function () {
                    return e;
                  }),
                  (u.endSymbol = function () {
                    return t;
                  }),
                  u
                );
              },
            ]);
        }
        function ti() {
          this.$get = [
            "$rootScope",
            "$window",
            "$q",
            "$$q",
            function (e, t, i, n) {
              var o = {};
              function r(r, a, s, l) {
                var c = t.setInterval,
                  u = t.clearInterval,
                  d = 0,
                  p = O(l) && !l,
                  h = (p ? n : i).defer(),
                  f = h.promise;
                return (
                  (s = O(s) ? s : 0),
                  f.then(null, null, r),
                  (f.$$intervalId = c(function () {
                    h.notify(d++),
                      s > 0 &&
                      d >= s &&
                      (h.resolve(d),
                        u(f.$$intervalId),
                        delete o[f.$$intervalId]),
                      p || e.$apply();
                  }, a)),
                  (o[f.$$intervalId] = h),
                  f
                );
              }
              return (
                (r.cancel = function (e) {
                  return (
                    !(!e || !(e.$$intervalId in o)) &&
                    (o[e.$$intervalId].reject("canceled"),
                      t.clearInterval(e.$$intervalId),
                      delete o[e.$$intervalId],
                      !0)
                  );
                }),
                r
              );
            },
          ];
        }
        function ii() {
          this.$get = function () {
            return {
              id: "en-us",
              NUMBER_FORMATS: {
                DECIMAL_SEP: ".",
                GROUP_SEP: ",",
                PATTERNS: [
                  {
                    minInt: 1,
                    minFrac: 0,
                    maxFrac: 3,
                    posPre: "",
                    posSuf: "",
                    negPre: "-",
                    negSuf: "",
                    gSize: 3,
                    lgSize: 3,
                  },
                  {
                    minInt: 1,
                    minFrac: 2,
                    maxFrac: 2,
                    posPre: "¤",
                    posSuf: "",
                    negPre: "(¤",
                    negSuf: ")",
                    gSize: 3,
                    lgSize: 3,
                  },
                ],
                CURRENCY_SYM: "$",
              },
              DATETIME_FORMATS: {
                MONTH:
                  "January,February,March,April,May,June,July,August,September,October,November,December".split(
                    ","
                  ),
                SHORTMONTH:
                  "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
                DAY: "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(
                  ","
                ),
                SHORTDAY: "Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
                AMPMS: ["AM", "PM"],
                medium: "MMM d, y h:mm:ss a",
                short: "M/d/yy h:mm a",
                fullDate: "EEEE, MMMM d, y",
                longDate: "MMMM d, y",
                mediumDate: "MMM d, y",
                shortDate: "M/d/yy",
                mediumTime: "h:mm:ss a",
                shortTime: "h:mm a",
                ERANAMES: ["Before Christ", "Anno Domini"],
                ERAS: ["BC", "AD"],
              },
              pluralCat: function (e) {
                return 1 === e ? "one" : "other";
              },
            };
          };
        }
        var ni = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/,
          oi = { http: 80, https: 443, ftp: 21 },
          ri = o("$location");
        function ai(e) {
          for (var t = e.split("/"), i = t.length; i--;) t[i] = ue(t[i]);
          return t.join("/");
        }
        function si(e, t) {
          var i = rn(e);
          (t.$$protocol = i.protocol),
            (t.$$host = i.hostname),
            (t.$$port = C(i.port) || oi[i.protocol] || null);
        }
        function li(e, t) {
          var i = "/" !== e.charAt(0);
          i && (e = "/" + e);
          var n = rn(e);
          (t.$$path = decodeURIComponent(
            i && "/" === n.pathname.charAt(0)
              ? n.pathname.substring(1)
              : n.pathname
          )),
            (t.$$search = le(n.search)),
            (t.$$hash = decodeURIComponent(n.hash)),
            t.$$path &&
            "/" != t.$$path.charAt(0) &&
            (t.$$path = "/" + t.$$path);
        }
        function ci(e, t) {
          if (0 === t.indexOf(e)) return t.substr(e.length);
        }
        function ui(e) {
          var t = e.indexOf("#");
          return -1 == t ? e : e.substr(0, t);
        }
        function di(e) {
          return e.replace(/(#.+)|#$/, "$1");
        }
        function pi(e) {
          return e.substr(0, ui(e).lastIndexOf("/") + 1);
        }
        function hi(e, t) {
          (this.$$html5 = !0), (t = t || "");
          var i = pi(e);
          si(e, this),
            (this.$$parse = function (e) {
              var t = ci(i, e);
              if (!N(t))
                throw ri(
                  "ipthprfx",
                  'Invalid url "{0}", missing path prefix "{1}".',
                  e,
                  i
                );
              li(t, this), this.$$path || (this.$$path = "/"), this.$$compose();
            }),
            (this.$$compose = function () {
              var e = ce(this.$$search),
                t = this.$$hash ? "#" + ue(this.$$hash) : "";
              (this.$$url = ai(this.$$path) + (e ? "?" + e : "") + t),
                (this.$$absUrl = i + this.$$url.substr(1));
            }),
            (this.$$parseLinkUrl = function (n, o) {
              return o && "#" === o[0]
                ? (this.hash(o.slice(1)), !0)
                : (void 0 !== (r = ci(e, n))
                  ? ((a = r),
                    (s =
                      void 0 !== (r = ci(t, r))
                        ? i + (ci("/", r) || r)
                        : e + a))
                  : void 0 !== (r = ci(i, n))
                    ? (s = i + r)
                    : i == n + "/" && (s = i),
                  s && this.$$parse(s),
                  !!s);
              var r, a, s;
            });
        }
        function fi(e, t) {
          var i = pi(e);
          si(e, this),
            (this.$$parse = function (n) {
              var o,
                r = ci(e, n) || ci(i, n);
              "#" === r.charAt(0)
                ? P((o = ci(t, r))) && (o = r)
                : (o = this.$$html5 ? r : ""),
                li(o, this),
                (this.$$path = (function (e, t, i) {
                  var n,
                    o = /^\/[A-Z]:(\/.*)/;
                  0 === t.indexOf(i) && (t = t.replace(i, ""));
                  if (o.exec(t)) return e;
                  return (n = o.exec(e)) ? n[1] : e;
                })(this.$$path, o, e)),
                this.$$compose();
            }),
            (this.$$compose = function () {
              var i = ce(this.$$search),
                n = this.$$hash ? "#" + ue(this.$$hash) : "";
              (this.$$url = ai(this.$$path) + (i ? "?" + i : "") + n),
                (this.$$absUrl = e + (this.$$url ? t + this.$$url : ""));
            }),
            (this.$$parseLinkUrl = function (t, i) {
              return ui(e) == ui(t) && (this.$$parse(t), !0);
            });
        }
        function gi(e, t) {
          (this.$$html5 = !0), fi.apply(this, arguments);
          var i = pi(e);
          (this.$$parseLinkUrl = function (n, o) {
            return o && "#" === o[0]
              ? (this.hash(o.slice(1)), !0)
              : (e == ui(n)
                ? (r = n)
                : (a = ci(i, n))
                  ? (r = e + t + a)
                  : i === n + "/" && (r = i),
                r && this.$$parse(r),
                !!r);
            var r, a;
          }),
            (this.$$compose = function () {
              var i = ce(this.$$search),
                n = this.$$hash ? "#" + ue(this.$$hash) : "";
              (this.$$url = ai(this.$$path) + (i ? "?" + i : "") + n),
                (this.$$absUrl = e + t + this.$$url);
            });
        }
        var mi = {
          $$html5: !1,
          $$replace: !1,
          absUrl: vi("$$absUrl"),
          url: function (e) {
            if (P(e)) return this.$$url;
            var t = ni.exec(e);
            return (
              (t[1] || "" === e) && this.path(decodeURIComponent(t[1])),
              (t[2] || t[1] || "" === e) && this.search(t[3] || ""),
              this.hash(t[5] || ""),
              this
            );
          },
          protocol: vi("$$protocol"),
          host: vi("$$host"),
          port: vi("$$port"),
          path: bi("$$path", function (e) {
            return "/" == (e = null !== e ? e.toString() : "").charAt(0)
              ? e
              : "/" + e;
          }),
          search: function (e, t) {
            switch (arguments.length) {
              case 0:
                return this.$$search;
              case 1:
                if (N(e) || R(e)) (e = e.toString()), (this.$$search = le(e));
                else {
                  if (!M(e))
                    throw ri(
                      "isrcharg",
                      "The first argument of the `$location#search()` call must be a string or an object."
                    );
                  w((e = Z(e, {})), function (t, i) {
                    null == t && delete e[i];
                  }),
                    (this.$$search = e);
                }
                break;
              default:
                P(t) || null === t
                  ? delete this.$$search[e]
                  : (this.$$search[e] = t);
            }
            return this.$$compose(), this;
          },
          hash: bi("$$hash", function (e) {
            return null !== e ? e.toString() : "";
          }),
          replace: function () {
            return (this.$$replace = !0), this;
          },
        };
        function vi(e) {
          return function () {
            return this[e];
          };
        }
        function bi(e, t) {
          return function (i) {
            return P(i) ? this[e] : ((this[e] = t(i)), this.$$compose(), this);
          };
        }
        function yi() {
          var e = "",
            t = { enabled: !1, requireBase: !0, rewriteLinks: !0 };
          (this.hashPrefix = function (t) {
            return O(t) ? ((e = t), this) : e;
          }),
            (this.html5Mode = function (e) {
              return F(e)
                ? ((t.enabled = e), this)
                : M(e)
                  ? (F(e.enabled) && (t.enabled = e.enabled),
                    F(e.requireBase) && (t.requireBase = e.requireBase),
                    F(e.rewriteLinks) && (t.rewriteLinks = e.rewriteLinks),
                    this)
                  : t;
            }),
            (this.$get = [
              "$rootScope",
              "$browser",
              "$sniffer",
              "$rootElement",
              "$window",
              function (i, n, o, r, a) {
                var s,
                  l,
                  c,
                  d,
                  p = n.baseHref(),
                  h = n.url();
                if (t.enabled) {
                  if (!p && t.requireBase)
                    throw ri(
                      "nobase",
                      "$location in HTML5 mode requires a <base> tag to be present!"
                    );
                  (c =
                    (d = h).substring(0, d.indexOf("/", d.indexOf("//") + 2)) +
                    (p || "/")),
                    (l = o.history ? hi : gi);
                } else (c = ui(h)), (l = fi);
                (s = new l(c, "#" + e)).$$parseLinkUrl(h, h),
                  (s.$$state = n.state());
                var f = /^\s*(javascript|mailto):/i;
                function g(e, t, i) {
                  var o = s.url(),
                    r = s.$$state;
                  try {
                    n.url(e, t, i), (s.$$state = n.state());
                  } catch (e) {
                    throw (s.url(o), (s.$$state = r), e);
                  }
                }
                r.on("click", function (e) {
                  if (
                    t.rewriteLinks &&
                    !e.ctrlKey &&
                    !e.metaKey &&
                    !e.shiftKey &&
                    2 != e.which &&
                    2 != e.button
                  ) {
                    for (var o = u(e.target); "a" !== G(o[0]);)
                      if (o[0] === r[0] || !(o = o.parent())[0]) return;
                    var l = o.prop("href"),
                      c = o.attr("href") || o.attr("xlink:href");
                    M(l) &&
                      "[object SVGAnimatedString]" === l.toString() &&
                      (l = rn(l.animVal).href),
                      f.test(l) ||
                      !l ||
                      o.attr("target") ||
                      e.isDefaultPrevented() ||
                      (s.$$parseLinkUrl(l, c) &&
                        (e.preventDefault(),
                          s.absUrl() != n.url() &&
                          (i.$apply(),
                            (a.angular["ff-684208-preventDefault"] = !0))));
                  }
                }),
                  di(s.absUrl()) != di(h) && n.url(s.absUrl(), !0);
                var m = !0;
                return (
                  n.onUrlChange(function (e, t) {
                    i.$evalAsync(function () {
                      var n,
                        o = s.absUrl(),
                        r = s.$$state;
                      s.$$parse(e),
                        (s.$$state = t),
                        (n = i.$broadcast(
                          "$locationChangeStart",
                          e,
                          o,
                          t,
                          r
                        ).defaultPrevented),
                        s.absUrl() === e &&
                        (n
                          ? (s.$$parse(o), (s.$$state = r), g(o, !1, r))
                          : ((m = !1), v(o, r)));
                    }),
                      i.$$phase || i.$digest();
                  }),
                  i.$watch(function () {
                    var e = di(n.url()),
                      t = di(s.absUrl()),
                      r = n.state(),
                      a = s.$$replace,
                      l =
                        e !== t || (s.$$html5 && o.history && r !== s.$$state);
                    (m || l) &&
                      ((m = !1),
                        i.$evalAsync(function () {
                          var t = s.absUrl(),
                            n = i.$broadcast(
                              "$locationChangeStart",
                              t,
                              e,
                              s.$$state,
                              r
                            ).defaultPrevented;
                          s.absUrl() === t &&
                            (n
                              ? (s.$$parse(e), (s.$$state = r))
                              : (l && g(t, a, r === s.$$state ? null : s.$$state),
                                v(e, r)));
                        })),
                      (s.$$replace = !1);
                  }),
                  s
                );
                function v(e, t) {
                  i.$broadcast(
                    "$locationChangeSuccess",
                    s.absUrl(),
                    e,
                    s.$$state,
                    t
                  );
                }
              },
            ]);
        }
        function xi() {
          var e = !0,
            t = this;
          (this.debugEnabled = function (t) {
            return O(t) ? ((e = t), this) : e;
          }),
            (this.$get = [
              "$window",
              function (i) {
                return {
                  log: r("log"),
                  info: r("info"),
                  warn: r("warn"),
                  error: r("error"),
                  debug:
                    ((n = r("debug")),
                      function () {
                        e && n.apply(t, arguments);
                      }),
                };
                var n;
                function o(e) {
                  return (
                    e instanceof Error &&
                    (e.stack
                      ? (e =
                        e.message && -1 === e.stack.indexOf(e.message)
                          ? "Error: " + e.message + "\n" + e.stack
                          : e.stack)
                      : e.sourceURL &&
                      (e = e.message + "\n" + e.sourceURL + ":" + e.line)),
                    e
                  );
                }
                function r(e) {
                  var t = i.console || {},
                    n = t[e] || t.log || L,
                    r = !1;
                  try {
                    r = !!n.apply;
                  } catch (e) { }
                  return r
                    ? function () {
                      var e = [];
                      return (
                        w(arguments, function (t) {
                          e.push(o(t));
                        }),
                        n.apply(t, e)
                      );
                    }
                    : function (e, t) {
                      n(e, null == t ? "" : t);
                    };
                }
              },
            ]);
        }
        w([gi, fi, hi], function (e) {
          (e.prototype = Object.create(mi)),
            (e.prototype.state = function (t) {
              if (!arguments.length) return this.$$state;
              if (e !== hi || !this.$$html5)
                throw ri(
                  "nostate",
                  "History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API"
                );
              return (this.$$state = P(t) ? null : t), this;
            });
        });
        var wi = o("$parse");
        function _i(e, t) {
          if (
            "__defineGetter__" === e ||
            "__defineSetter__" === e ||
            "__lookupGetter__" === e ||
            "__lookupSetter__" === e ||
            "__proto__" === e
          )
            throw wi(
              "isecfld",
              "Attempting to access a disallowed field in Angular expressions! Expression: {0}",
              t
            );
          return e;
        }
        function Ai(e, t) {
          if (e) {
            if (e.constructor === e)
              throw wi(
                "isecfn",
                "Referencing Function in Angular expressions is disallowed! Expression: {0}",
                t
              );
            if (e.window === e)
              throw wi(
                "isecwindow",
                "Referencing the Window in Angular expressions is disallowed! Expression: {0}",
                t
              );
            if (e.children && (e.nodeName || (e.prop && e.attr && e.find)))
              throw wi(
                "isecdom",
                "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",
                t
              );
            if (e === Object)
              throw wi(
                "isecobj",
                "Referencing Object in Angular expressions is disallowed! Expression: {0}",
                t
              );
          }
          return e;
        }
        var Ei = Function.prototype.call,
          Si = Function.prototype.apply,
          Ti = Function.prototype.bind;
        var Ci = Te();
        w(
          {
            null: function () {
              return null;
            },
            true: function () {
              return !0;
            },
            false: function () {
              return !1;
            },
            undefined: function () { },
          },
          function (e, t) {
            (e.constant = e.literal = e.sharedGetter = !0), (Ci[t] = e);
          }
        ),
          (Ci.this = function (e) {
            return e;
          }),
          (Ci.this.sharedGetter = !0);
        var ki = T(Te(), {
          "+": function (e, t, i, n) {
            return (
              (i = i(e, t)),
              (n = n(e, t)),
              O(i) ? (O(n) ? i + n : i) : O(n) ? n : void 0
            );
          },
          "-": function (e, t, i, n) {
            return (
              (i = i(e, t)), (n = n(e, t)), (O(i) ? i : 0) - (O(n) ? n : 0)
            );
          },
          "*": function (e, t, i, n) {
            return i(e, t) * n(e, t);
          },
          "/": function (e, t, i, n) {
            return i(e, t) / n(e, t);
          },
          "%": function (e, t, i, n) {
            return i(e, t) % n(e, t);
          },
          "===": function (e, t, i, n) {
            return i(e, t) === n(e, t);
          },
          "!==": function (e, t, i, n) {
            return i(e, t) !== n(e, t);
          },
          "==": function (e, t, i, n) {
            return i(e, t) == n(e, t);
          },
          "!=": function (e, t, i, n) {
            return i(e, t) != n(e, t);
          },
          "<": function (e, t, i, n) {
            return i(e, t) < n(e, t);
          },
          ">": function (e, t, i, n) {
            return i(e, t) > n(e, t);
          },
          "<=": function (e, t, i, n) {
            return i(e, t) <= n(e, t);
          },
          ">=": function (e, t, i, n) {
            return i(e, t) >= n(e, t);
          },
          "&&": function (e, t, i, n) {
            return i(e, t) && n(e, t);
          },
          "||": function (e, t, i, n) {
            return i(e, t) || n(e, t);
          },
          "!": function (e, t, i) {
            return !i(e, t);
          },
          "=": !0,
          "|": !0,
        }),
          Li = {
            n: "\n",
            f: "\f",
            r: "\r",
            t: "\t",
            v: "\v",
            "'": "'",
            '"': '"',
          },
          Di = function (e) {
            this.options = e;
          };
        function Ii(e) {
          return e.constant;
        }
        Di.prototype = {
          constructor: Di,
          lex: function (e) {
            for (
              this.text = e, this.index = 0, this.tokens = [];
              this.index < this.text.length;

            ) {
              var t = this.text.charAt(this.index);
              if ('"' === t || "'" === t) this.readString(t);
              else if (
                this.isNumber(t) ||
                ("." === t && this.isNumber(this.peek()))
              )
                this.readNumber();
              else if (this.isIdent(t)) this.readIdent();
              else if (this.is(t, "(){}[].,;:?"))
                this.tokens.push({ index: this.index, text: t }), this.index++;
              else if (this.isWhitespace(t)) this.index++;
              else {
                var i = t + this.peek(),
                  n = i + this.peek(2),
                  o = ki[t],
                  r = ki[i],
                  a = ki[n];
                if (o || r || a) {
                  var s = a ? n : r ? i : t;
                  this.tokens.push({
                    index: this.index,
                    text: s,
                    operator: !0,
                  }),
                    (this.index += s.length);
                } else
                  this.throwError(
                    "Unexpected next character ",
                    this.index,
                    this.index + 1
                  );
              }
            }
            return this.tokens;
          },
          is: function (e, t) {
            return -1 !== t.indexOf(e);
          },
          peek: function (e) {
            var t = e || 1;
            return (
              this.index + t < this.text.length &&
              this.text.charAt(this.index + t)
            );
          },
          isNumber: function (e) {
            return "0" <= e && e <= "9" && "string" == typeof e;
          },
          isWhitespace: function (e) {
            return (
              " " === e ||
              "\r" === e ||
              "\t" === e ||
              "\n" === e ||
              "\v" === e ||
              " " === e
            );
          },
          isIdent: function (e) {
            return (
              ("a" <= e && e <= "z") ||
              ("A" <= e && e <= "Z") ||
              "_" === e ||
              "$" === e
            );
          },
          isExpOperator: function (e) {
            return "-" === e || "+" === e || this.isNumber(e);
          },
          throwError: function (e, t, i) {
            i = i || this.index;
            var n = O(t)
              ? "s " +
              t +
              "-" +
              this.index +
              " [" +
              this.text.substring(t, i) +
              "]"
              : " " + i;
            throw wi(
              "lexerr",
              "Lexer Error: {0} at column{1} in expression [{2}].",
              e,
              n,
              this.text
            );
          },
          readNumber: function () {
            for (var e = "", t = this.index; this.index < this.text.length;) {
              var i = a(this.text.charAt(this.index));
              if ("." == i || this.isNumber(i)) e += i;
              else {
                var n = this.peek();
                if ("e" == i && this.isExpOperator(n)) e += i;
                else if (
                  this.isExpOperator(i) &&
                  n &&
                  this.isNumber(n) &&
                  "e" == e.charAt(e.length - 1)
                )
                  e += i;
                else {
                  if (
                    !this.isExpOperator(i) ||
                    (n && this.isNumber(n)) ||
                    "e" != e.charAt(e.length - 1)
                  )
                    break;
                  this.throwError("Invalid exponent");
                }
              }
              this.index++;
            }
            this.tokens.push({
              index: t,
              text: e,
              constant: !0,
              value: Number(e),
            });
          },
          readIdent: function () {
            for (var e = this.index; this.index < this.text.length;) {
              var t = this.text.charAt(this.index);
              if (!this.isIdent(t) && !this.isNumber(t)) break;
              this.index++;
            }
            this.tokens.push({
              index: e,
              text: this.text.slice(e, this.index),
              identifier: !0,
            });
          },
          readString: function (e) {
            var t = this.index;
            this.index++;
            for (var i = "", n = e, o = !1; this.index < this.text.length;) {
              var r = this.text.charAt(this.index);
              if (((n += r), o)) {
                if ("u" === r) {
                  var a = this.text.substring(this.index + 1, this.index + 5);
                  a.match(/[\da-f]{4}/i) ||
                    this.throwError("Invalid unicode escape [\\u" + a + "]"),
                    (this.index += 4),
                    (i += String.fromCharCode(parseInt(a, 16)));
                } else {
                  i += Li[r] || r;
                }
                o = !1;
              } else if ("\\" === r) o = !0;
              else {
                if (r === e)
                  return (
                    this.index++,
                    void this.tokens.push({
                      index: t,
                      text: n,
                      constant: !0,
                      value: i,
                    })
                  );
                i += r;
              }
              this.index++;
            }
            this.throwError("Unterminated quote", t);
          },
        };
        var Pi = function (e, t, i) {
          (this.lexer = e), (this.$filter = t), (this.options = i);
        };
        function Oi(e, t, i, n, o) {
          Ai(e, o), Ai(t, o);
          for (var r, a = i.split("."), s = 0; a.length > 1; s++) {
            r = _i(a.shift(), o);
            var l = (0 === s && t && t[r]) || e[r];
            l || ((l = {}), (e[r] = l)), (e = Ai(l, o));
          }
          return Ai(e[(r = _i(a.shift(), o))], o), (e[r] = n), n;
        }
        (Pi.ZERO = T(
          function () {
            return 0;
          },
          { sharedGetter: !0, constant: !0 }
        )),
          (Pi.prototype = {
            constructor: Pi,
            parse: function (e) {
              (this.text = e), (this.tokens = this.lexer.lex(e));
              var t = this.statements();
              return (
                0 !== this.tokens.length &&
                this.throwError("is an unexpected token", this.tokens[0]),
                (t.literal = !!t.literal),
                (t.constant = !!t.constant),
                t
              );
            },
            primary: function () {
              var e, t, i;
              this.expect("(")
                ? ((e = this.filterChain()), this.consume(")"))
                : this.expect("[")
                  ? (e = this.arrayDeclaration())
                  : this.expect("{")
                    ? (e = this.object())
                    : this.peek().identifier && this.peek().text in Ci
                      ? (e = Ci[this.consume().text])
                      : this.peek().identifier
                        ? (e = this.identifier())
                        : this.peek().constant
                          ? (e = this.constant())
                          : this.throwError("not a primary expression", this.peek());
              for (; (t = this.expect("(", "[", "."));)
                "(" === t.text
                  ? ((e = this.functionCall(e, i)), (i = null))
                  : "[" === t.text
                    ? ((i = e), (e = this.objectIndex(e)))
                    : "." === t.text
                      ? ((i = e), (e = this.fieldAccess(e)))
                      : this.throwError("IMPOSSIBLE");
              return e;
            },
            throwError: function (e, t) {
              throw wi(
                "syntax",
                "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",
                t.text,
                e,
                t.index + 1,
                this.text,
                this.text.substring(t.index)
              );
            },
            peekToken: function () {
              if (0 === this.tokens.length)
                throw wi(
                  "ueoe",
                  "Unexpected end of expression: {0}",
                  this.text
                );
              return this.tokens[0];
            },
            peek: function (e, t, i, n) {
              return this.peekAhead(0, e, t, i, n);
            },
            peekAhead: function (e, t, i, n, o) {
              if (this.tokens.length > e) {
                var r = this.tokens[e],
                  a = r.text;
                if (
                  a === t ||
                  a === i ||
                  a === n ||
                  a === o ||
                  (!t && !i && !n && !o)
                )
                  return r;
              }
              return !1;
            },
            expect: function (e, t, i, n) {
              var o = this.peek(e, t, i, n);
              return !!o && (this.tokens.shift(), o);
            },
            consume: function (e) {
              if (0 === this.tokens.length)
                throw wi(
                  "ueoe",
                  "Unexpected end of expression: {0}",
                  this.text
                );
              var t = this.expect(e);
              return (
                t ||
                this.throwError(
                  "is unexpected, expecting [" + e + "]",
                  this.peek()
                ),
                t
              );
            },
            unaryFn: function (e, t) {
              var i = ki[e];
              return T(
                function (e, n) {
                  return i(e, n, t);
                },
                { constant: t.constant, inputs: [t] }
              );
            },
            binaryFn: function (e, t, i, n) {
              var o = ki[t];
              return T(
                function (t, n) {
                  return o(t, n, e, i);
                },
                { constant: e.constant && i.constant, inputs: !n && [e, i] }
              );
            },
            identifier: function () {
              for (
                var e = this.consume().text;
                this.peek(".") &&
                this.peekAhead(1).identifier &&
                !this.peekAhead(2, "(");

              )
                e += this.consume().text + this.consume().text;
              return (function (e, t, i) {
                var n = t.expensiveChecks,
                  o = n ? Ni : Mi,
                  r = o[e];
                if (r) return r;
                var a = e.split("."),
                  s = a.length;
                if (t.csp)
                  r =
                    s < 6
                      ? Bi(a[0], a[1], a[2], a[3], a[4], i, n)
                      : function (e, t) {
                        var o,
                          r = 0;
                        do {
                          (o = Bi(
                            a[r++],
                            a[r++],
                            a[r++],
                            a[r++],
                            a[r++],
                            i,
                            n
                          )(e, t)),
                            (t = void 0),
                            (e = o);
                        } while (r < s);
                        return o;
                      };
                else {
                  var l = "";
                  n && (l += "s = eso(s, fe);\nl = eso(l, fe);\n");
                  var c = n;
                  w(a, function (e, t) {
                    _i(e, i);
                    var o =
                      (t ? "s" : '((l&&l.hasOwnProperty("' + e + '"))?l:s)') +
                      "." +
                      e;
                    (n || Ri(e)) && ((o = "eso(" + o + ", fe)"), (c = !0)),
                      (l += "if(s == null) return undefined;\ns=" + o + ";\n");
                  }),
                    (l += "return s;");
                  var u = new Function("s", "l", "eso", "fe", l);
                  (u.toString = I(l)),
                    c &&
                    (u = (function (e, t) {
                      return function (i, n) {
                        return e(i, n, Ai, t);
                      };
                    })(u, i)),
                    (r = u);
                }
                return (
                  (r.sharedGetter = !0),
                  (r.assign = function (t, i, n) {
                    return Oi(t, n, e, i, e);
                  }),
                  (o[e] = r),
                  r
                );
              })(e, this.options, this.text);
            },
            constant: function () {
              var e = this.consume().value;
              return T(
                function () {
                  return e;
                },
                { constant: !0, literal: !0 }
              );
            },
            statements: function () {
              for (var e = []; ;)
                if (
                  (this.tokens.length > 0 &&
                    !this.peek("}", ")", ";", "]") &&
                    e.push(this.filterChain()),
                    !this.expect(";"))
                )
                  return 1 === e.length
                    ? e[0]
                    : function (t, i) {
                      for (var n, o = 0, r = e.length; o < r; o++)
                        n = e[o](t, i);
                      return n;
                    };
            },
            filterChain: function () {
              for (var e = this.expression(); this.expect("|");)
                e = this.filter(e);
              return e;
            },
            filter: function (e) {
              var t,
                i,
                n = this.$filter(this.consume().text);
              if (this.peek(":"))
                for (t = [], i = []; this.expect(":");)
                  t.push(this.expression());
              var o = [e].concat(t || []);
              return T(
                function (o, r) {
                  var a = e(o, r);
                  if (i) {
                    i[0] = a;
                    for (var s = t.length; s--;) i[s + 1] = t[s](o, r);
                    return n.apply(void 0, i);
                  }
                  return n(a);
                },
                {
                  constant: !n.$stateful && o.every(Ii),
                  inputs: !n.$stateful && o,
                }
              );
            },
            expression: function () {
              return this.assignment();
            },
            assignment: function () {
              var e,
                t,
                i = this.ternary();
              return (t = this.expect("="))
                ? (i.assign ||
                  this.throwError(
                    "implies assignment but [" +
                    this.text.substring(0, t.index) +
                    "] can not be assigned to",
                    t
                  ),
                  (e = this.ternary()),
                  T(
                    function (t, n) {
                      return i.assign(t, e(t, n), n);
                    },
                    { inputs: [i, e] }
                  ))
                : i;
            },
            ternary: function () {
              var e,
                t = this.logicalOR();
              if (
                this.expect("?") &&
                ((e = this.assignment()), this.consume(":"))
              ) {
                var i = this.assignment();
                return T(
                  function (n, o) {
                    return t(n, o) ? e(n, o) : i(n, o);
                  },
                  { constant: t.constant && e.constant && i.constant }
                );
              }
              return t;
            },
            logicalOR: function () {
              for (var e, t = this.logicalAND(); (e = this.expect("||"));)
                t = this.binaryFn(t, e.text, this.logicalAND(), !0);
              return t;
            },
            logicalAND: function () {
              for (var e, t = this.equality(); (e = this.expect("&&"));)
                t = this.binaryFn(t, e.text, this.equality(), !0);
              return t;
            },
            equality: function () {
              for (
                var e, t = this.relational();
                (e = this.expect("==", "!=", "===", "!=="));

              )
                t = this.binaryFn(t, e.text, this.relational());
              return t;
            },
            relational: function () {
              for (
                var e, t = this.additive();
                (e = this.expect("<", ">", "<=", ">="));

              )
                t = this.binaryFn(t, e.text, this.additive());
              return t;
            },
            additive: function () {
              for (
                var e, t = this.multiplicative();
                (e = this.expect("+", "-"));

              )
                t = this.binaryFn(t, e.text, this.multiplicative());
              return t;
            },
            multiplicative: function () {
              for (var e, t = this.unary(); (e = this.expect("*", "/", "%"));)
                t = this.binaryFn(t, e.text, this.unary());
              return t;
            },
            unary: function () {
              var e;
              return this.expect("+")
                ? this.primary()
                : (e = this.expect("-"))
                  ? this.binaryFn(Pi.ZERO, e.text, this.unary())
                  : (e = this.expect("!"))
                    ? this.unaryFn(e.text, this.unary())
                    : this.primary();
            },
            fieldAccess: function (e) {
              var t = this.identifier();
              return T(
                function (i, n, o) {
                  var r = o || e(i, n);
                  return null == r ? void 0 : t(r);
                },
                {
                  assign: function (i, n, o) {
                    var r = e(i, o);
                    return r || e.assign(i, (r = {}), o), t.assign(r, n);
                  },
                }
              );
            },
            objectIndex: function (e) {
              var t = this.text,
                i = this.expression();
              return (
                this.consume("]"),
                T(
                  function (n, o) {
                    var r = e(n, o),
                      a = i(n, o);
                    if ((_i(a, t), r)) return Ai(r[a], t);
                  },
                  {
                    assign: function (n, o, r) {
                      var a = _i(i(n, r), t),
                        s = Ai(e(n, r), t);
                      return s || e.assign(n, (s = {}), r), (s[a] = o);
                    },
                  }
                )
              );
            },
            functionCall: function (e, t) {
              var i = [];
              if (")" !== this.peekToken().text)
                do {
                  i.push(this.expression());
                } while (this.expect(","));
              this.consume(")");
              var n = this.text,
                o = i.length ? [] : null;
              return function (r, a) {
                var s = t ? t(r, a) : O(t) ? void 0 : r,
                  l = e(r, a, s) || L;
                if (o) for (var c = i.length; c--;) o[c] = Ai(i[c](r, a), n);
                Ai(s, n),
                  (function (e, t) {
                    if (e) {
                      if (e.constructor === e)
                        throw wi(
                          "isecfn",
                          "Referencing Function in Angular expressions is disallowed! Expression: {0}",
                          t
                        );
                      if (e === Ei || e === Si || e === Ti)
                        throw wi(
                          "isecff",
                          "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",
                          t
                        );
                    }
                  })(l, n);
                var u = l.apply
                  ? l.apply(s, o)
                  : l(o[0], o[1], o[2], o[3], o[4]);
                return o && (o.length = 0), Ai(u, n);
              };
            },
            arrayDeclaration: function () {
              var e = [];
              if ("]" !== this.peekToken().text)
                do {
                  if (this.peek("]")) break;
                  e.push(this.expression());
                } while (this.expect(","));
              return (
                this.consume("]"),
                T(
                  function (t, i) {
                    for (var n = [], o = 0, r = e.length; o < r; o++)
                      n.push(e[o](t, i));
                    return n;
                  },
                  { literal: !0, constant: e.every(Ii), inputs: e }
                )
              );
            },
            object: function () {
              var e = [],
                t = [];
              if ("}" !== this.peekToken().text)
                do {
                  if (this.peek("}")) break;
                  var i = this.consume();
                  i.constant
                    ? e.push(i.value)
                    : i.identifier
                      ? e.push(i.text)
                      : this.throwError("invalid key", i),
                    this.consume(":"),
                    t.push(this.expression());
                } while (this.expect(","));
              return (
                this.consume("}"),
                T(
                  function (i, n) {
                    for (var o = {}, r = 0, a = t.length; r < a; r++)
                      o[e[r]] = t[r](i, n);
                    return o;
                  },
                  { literal: !0, constant: t.every(Ii), inputs: t }
                )
              );
            },
          });
        var Mi = Te(),
          Ni = Te();
        function Ri(e) {
          return "constructor" == e;
        }
        function Bi(e, t, i, n, o, r, a) {
          _i(e, r), _i(t, r), _i(i, r), _i(n, r), _i(o, r);
          var s = function (e) {
            return Ai(e, r);
          },
            l = a || Ri(e) ? s : D,
            c = a || Ri(t) ? s : D,
            u = a || Ri(i) ? s : D,
            d = a || Ri(n) ? s : D,
            p = a || Ri(o) ? s : D;
          return function (r, a) {
            var s = a && a.hasOwnProperty(e) ? a : r;
            if (null == s) return s;
            if (((s = l(s[e])), !t)) return s;
            if (null != s) {
              if (((s = c(s[t])), !i)) return s;
              if (null != s) {
                if (((s = u(s[i])), !n)) return s;
                if (null != s) {
                  if (((s = d(s[n])), !o)) return s;
                  if (null != s) return (s = p(s[o]));
                }
              }
            }
          };
        }
        var zi = Object.prototype.valueOf;
        function $i(e) {
          return $(e.valueOf) ? e.valueOf() : zi.call(e);
        }
        function Hi() {
          var e = Te(),
            t = Te();
          this.$get = [
            "$filter",
            "$sniffer",
            function (i, n) {
              var o = { csp: n.csp, expensiveChecks: !1 },
                r = { csp: n.csp, expensiveChecks: !0 };
              return function (n, a, p) {
                var h, f, g;
                switch (typeof n) {
                  case "string":
                    g = n = n.trim();
                    var m = p ? t : e;
                    if (!(h = m[g])) {
                      ":" === n.charAt(0) &&
                        ":" === n.charAt(1) &&
                        ((f = !0), (n = n.substring(2)));
                      var v = p ? r : o,
                        b = new Di(v);
                      (h = new Pi(b, i, v).parse(n)).constant
                        ? (h.$$watchDelegate = u)
                        : f
                          ? ((h = (function (e) {
                            var t = e;
                            return (
                              e.sharedGetter &&
                              (((t = function (t, i) {
                                return e(t, i);
                              }).literal = e.literal),
                                (t.constant = e.constant),
                                (t.assign = e.assign)),
                              t
                            );
                          })(h)).$$watchDelegate = h.literal ? c : l)
                          : h.inputs && (h.$$watchDelegate = s),
                        (m[g] = h);
                    }
                    return d(h, a);
                  case "function":
                    return d(n, a);
                  default:
                    return d(L, a);
                }
              };
              function a(e, t) {
                return null == e || null == t
                  ? e === t
                  : ("object" != typeof e || "object" != typeof (e = $i(e))) &&
                  (e === t || (e != e && t != t));
              }
              function s(e, t, i, n) {
                var o,
                  r =
                    n.$$inputs ||
                    (n.$$inputs = (function e(t, i) {
                      for (var n = 0, o = t.length; n < o; n++) {
                        var r = t[n];
                        r.constant ||
                          (r.inputs
                            ? e(r.inputs, i)
                            : -1 === i.indexOf(r) && i.push(r));
                      }
                      return i;
                    })(n.inputs, []));
                if (1 === r.length) {
                  var s = a;
                  return (
                    (r = r[0]),
                    e.$watch(
                      function (e) {
                        var t = r(e);
                        return a(t, s) || ((o = n(e)), (s = t && $i(t))), o;
                      },
                      t,
                      i
                    )
                  );
                }
                for (var l = [], c = 0, u = r.length; c < u; c++) l[c] = a;
                return e.$watch(
                  function (e) {
                    for (var t = !1, i = 0, s = r.length; i < s; i++) {
                      var c = r[i](e);
                      (t || (t = !a(c, l[i]))) && (l[i] = c && $i(c));
                    }
                    return t && (o = n(e)), o;
                  },
                  t,
                  i
                );
              }
              function l(e, t, i, n) {
                var o, r;
                return (o = e.$watch(
                  function (e) {
                    return n(e);
                  },
                  function (e, i, n) {
                    (r = e),
                      $(t) && t.apply(this, arguments),
                      O(e) &&
                      n.$$postDigest(function () {
                        O(r) && o();
                      });
                  },
                  i
                ));
              }
              function c(e, t, i, n) {
                var o, r;
                return (o = e.$watch(
                  function (e) {
                    return n(e);
                  },
                  function (e, i, n) {
                    (r = e),
                      $(t) && t.call(this, e, i, n),
                      a(e) &&
                      n.$$postDigest(function () {
                        a(r) && o();
                      });
                  },
                  i
                ));
                function a(e) {
                  var t = !0;
                  return (
                    w(e, function (e) {
                      O(e) || (t = !1);
                    }),
                    t
                  );
                }
              }
              function u(e, t, i, n) {
                var o;
                return (o = e.$watch(
                  function (e) {
                    return n(e);
                  },
                  function (e, i, n) {
                    $(t) && t.apply(this, arguments), o();
                  },
                  i
                ));
              }
              function d(e, t) {
                if (!t) return e;
                var i = e.$$watchDelegate,
                  n =
                    i !== c && i !== l
                      ? function (i, n) {
                        var o = e(i, n);
                        return t(o, i, n);
                      }
                      : function (i, n) {
                        var o = e(i, n),
                          r = t(o, i, n);
                        return O(o) ? r : o;
                      };
                return (
                  e.$$watchDelegate && e.$$watchDelegate !== s
                    ? (n.$$watchDelegate = e.$$watchDelegate)
                    : t.$stateful ||
                    ((n.$$watchDelegate = s), (n.inputs = [e])),
                  n
                );
              }
            },
          ];
        }
        function Vi() {
          this.$get = [
            "$rootScope",
            "$exceptionHandler",
            function (e, t) {
              return Fi(function (t) {
                e.$evalAsync(t);
              }, t);
            },
          ];
        }
        function ji() {
          this.$get = [
            "$browser",
            "$exceptionHandler",
            function (e, t) {
              return Fi(function (t) {
                e.defer(t);
              }, t);
            },
          ];
        }
        function Fi(e, t) {
          var i = o("$q", TypeError);
          function n() {
            this.$$state = { status: 0 };
          }
          function r(e, t) {
            return function (i) {
              t.call(e, i);
            };
          }
          function a(i) {
            !i.processScheduled &&
              i.pending &&
              ((i.processScheduled = !0),
                e(function () {
                  !(function (e) {
                    var i, n, o;
                    (o = e.pending),
                      (e.processScheduled = !1),
                      (e.pending = void 0);
                    for (var r = 0, a = o.length; r < a; ++r) {
                      (n = o[r][0]), (i = o[r][e.status]);
                      try {
                        $(i)
                          ? n.resolve(i(e.value))
                          : 1 === e.status
                            ? n.resolve(e.value)
                            : n.reject(e.value);
                      } catch (e) {
                        n.reject(e), t(e);
                      }
                    }
                  })(i);
                }));
          }
          function s() {
            (this.promise = new n()),
              (this.resolve = r(this, this.resolve)),
              (this.reject = r(this, this.reject)),
              (this.notify = r(this, this.notify));
          }
          (n.prototype = {
            then: function (e, t, i) {
              var n = new s();
              return (
                (this.$$state.pending = this.$$state.pending || []),
                this.$$state.pending.push([n, e, t, i]),
                this.$$state.status > 0 && a(this.$$state),
                n.promise
              );
            },
            catch: function (e) {
              return this.then(null, e);
            },
            finally: function (e, t) {
              return this.then(
                function (t) {
                  return c(t, !0, e);
                },
                function (t) {
                  return c(t, !1, e);
                },
                t
              );
            },
          }),
            (s.prototype = {
              resolve: function (e) {
                this.promise.$$state.status ||
                  (e === this.promise
                    ? this.$$reject(
                      i(
                        "qcycle",
                        "Expected promise to be resolved with value other than itself '{0}'",
                        e
                      )
                    )
                    : this.$$resolve(e));
              },
              $$resolve: function (e) {
                var i, n;
                n = (function (e, t, i) {
                  var n = !1;
                  function o(t) {
                    return function (i) {
                      n || ((n = !0), t.call(e, i));
                    };
                  }
                  return [o(t), o(i)];
                })(this, this.$$resolve, this.$$reject);
                try {
                  (M(e) || $(e)) && (i = e && e.then),
                    $(i)
                      ? ((this.promise.$$state.status = -1),
                        i.call(e, n[0], n[1], this.notify))
                      : ((this.promise.$$state.value = e),
                        (this.promise.$$state.status = 1),
                        a(this.promise.$$state));
                } catch (e) {
                  n[1](e), t(e);
                }
              },
              reject: function (e) {
                this.promise.$$state.status || this.$$reject(e);
              },
              $$reject: function (e) {
                (this.promise.$$state.value = e),
                  (this.promise.$$state.status = 2),
                  a(this.promise.$$state);
              },
              notify: function (i) {
                var n = this.promise.$$state.pending;
                this.promise.$$state.status <= 0 &&
                  n &&
                  n.length &&
                  e(function () {
                    for (var e, o, r = 0, a = n.length; r < a; r++) {
                      (o = n[r][0]), (e = n[r][3]);
                      try {
                        o.notify($(e) ? e(i) : i);
                      } catch (e) {
                        t(e);
                      }
                    }
                  });
              },
            });
          var l = function (e, t) {
            var i = new s();
            return t ? i.resolve(e) : i.reject(e), i.promise;
          },
            c = function (e, t, i) {
              var n = null;
              try {
                $(i) && (n = i());
              } catch (e) {
                return l(e, !1);
              }
              return U(n)
                ? n.then(
                  function () {
                    return l(e, t);
                  },
                  function (e) {
                    return l(e, !1);
                  }
                )
                : l(e, t);
            },
            u = function (e, t, i, n) {
              var o = new s();
              return o.resolve(e), o.promise.then(t, i, n);
            };
          var d = function e(t) {
            if (!$(t)) throw i("norslvr", "Expected resolverFn, got '{0}'", t);
            if (!(this instanceof e)) return new e(t);
            var n = new s();
            return (
              t(
                function (e) {
                  n.resolve(e);
                },
                function (e) {
                  n.reject(e);
                }
              ),
              n.promise
            );
          };
          return (
            (d.defer = function () {
              return new s();
            }),
            (d.reject = function (e) {
              var t = new s();
              return t.reject(e), t.promise;
            }),
            (d.when = u),
            (d.all = function (e) {
              var t = new s(),
                i = 0,
                n = z(e) ? [] : {};
              return (
                w(e, function (e, o) {
                  i++,
                    u(e).then(
                      function (e) {
                        n.hasOwnProperty(o) ||
                          ((n[o] = e), --i || t.resolve(n));
                      },
                      function (e) {
                        n.hasOwnProperty(o) || t.reject(e);
                      }
                    );
                }),
                0 === i && t.resolve(n),
                t.promise
              );
            }),
            d
          );
        }
        function Ui() {
          this.$get = [
            "$window",
            "$timeout",
            function (e, t) {
              var i = e.requestAnimationFrame || e.webkitRequestAnimationFrame,
                n =
                  e.cancelAnimationFrame ||
                  e.webkitCancelAnimationFrame ||
                  e.webkitCancelRequestAnimationFrame,
                o = !!i,
                r = o
                  ? function (e) {
                    var t = i(e);
                    return function () {
                      n(t);
                    };
                  }
                  : function (e) {
                    var i = t(e, 16.66, !1);
                    return function () {
                      t.cancel(i);
                    };
                  };
              return (r.supported = o), r;
            },
          ];
        }
        function Wi() {
          var e = 10,
            t = o("$rootScope"),
            i = null,
            n = null;
          (this.digestTtl = function (t) {
            return arguments.length && (e = t), e;
          }),
            (this.$get = [
              "$injector",
              "$exceptionHandler",
              "$parse",
              "$browser",
              function (o, r, a, l) {
                function c(e) {
                  e.currentScope.$$destroyed = !0;
                }
                function u() {
                  (this.$id = E()),
                    (this.$$phase =
                      this.$parent =
                      this.$$watchers =
                      this.$$nextSibling =
                      this.$$prevSibling =
                      this.$$childHead =
                      this.$$childTail =
                      null),
                    (this.$root = this),
                    (this.$$destroyed = !1),
                    (this.$$listeners = {}),
                    (this.$$listenerCount = {}),
                    (this.$$isolateBindings = null);
                }
                u.prototype = {
                  constructor: u,
                  $new: function (e, t) {
                    var i;
                    return (
                      (t = t || this),
                      e
                        ? ((i = new u()).$root = this.$root)
                        : (this.$$ChildScope ||
                          (this.$$ChildScope = (function (e) {
                            function t() {
                              (this.$$watchers =
                                this.$$nextSibling =
                                this.$$childHead =
                                this.$$childTail =
                                null),
                                (this.$$listeners = {}),
                                (this.$$listenerCount = {}),
                                (this.$$watchersCount = 0),
                                (this.$id = E()),
                                (this.$$ChildScope = null);
                            }
                            return (t.prototype = e), t;
                          })(this)),
                          (i = new this.$$ChildScope())),
                      (i.$parent = t),
                      (i.$$prevSibling = t.$$childTail),
                      t.$$childHead
                        ? ((t.$$childTail.$$nextSibling = i),
                          (t.$$childTail = i))
                        : (t.$$childHead = t.$$childTail = i),
                      (e || t != this) && i.$on("$destroy", c),
                      i
                    );
                  },
                  $watch: function (e, t, n) {
                    var o = a(e);
                    if (o.$$watchDelegate)
                      return o.$$watchDelegate(this, t, n, o);
                    var r = this.$$watchers,
                      s = { fn: t, last: b, get: o, exp: e, eq: !!n };
                    return (
                      (i = null),
                      $(t) || (s.fn = L),
                      r || (r = this.$$watchers = []),
                      r.unshift(s),
                      function () {
                        Y(r, s), (i = null);
                      }
                    );
                  },
                  $watchGroup: function (e, t) {
                    var i = new Array(e.length),
                      n = new Array(e.length),
                      o = [],
                      r = this,
                      a = !1,
                      s = !0;
                    if (!e.length) {
                      var l = !0;
                      return (
                        r.$evalAsync(function () {
                          l && t(n, n, r);
                        }),
                        function () {
                          l = !1;
                        }
                      );
                    }
                    if (1 === e.length)
                      return this.$watch(e[0], function (e, o, r) {
                        (n[0] = e), (i[0] = o), t(n, e === o ? n : i, r);
                      });
                    function c() {
                      (a = !1), s ? ((s = !1), t(n, n, r)) : t(n, i, r);
                    }
                    return (
                      w(e, function (e, t) {
                        var s = r.$watch(e, function (e, o) {
                          (n[t] = e),
                            (i[t] = o),
                            a || ((a = !0), r.$evalAsync(c));
                        });
                        o.push(s);
                      }),
                      function () {
                        for (; o.length;) o.shift()();
                      }
                    );
                  },
                  $watchCollection: function (e, t) {
                    g.$stateful = !0;
                    var i,
                      n,
                      o,
                      r = this,
                      l = t.length > 1,
                      c = 0,
                      u = a(e, g),
                      d = [],
                      p = {},
                      h = !0,
                      f = 0;
                    function g(e) {
                      var t, o, r, a;
                      if (!P((i = e))) {
                        if (M(i))
                          if (x(i)) {
                            n !== d && ((f = (n = d).length = 0), c++),
                              (t = i.length),
                              f !== t && (c++, (n.length = f = t));
                            for (var s = 0; s < t; s++)
                              (a = n[s]),
                                (r = i[s]),
                                (a != a && r != r) ||
                                a === r ||
                                (c++, (n[s] = r));
                          } else {
                            for (o in (n !== p && ((n = p = {}), (f = 0), c++),
                              (t = 0),
                              i))
                              i.hasOwnProperty(o) &&
                                (t++,
                                  (r = i[o]),
                                  (a = n[o]),
                                  o in n
                                    ? (a != a && r != r) ||
                                    a === r ||
                                    (c++, (n[o] = r))
                                    : (f++, (n[o] = r), c++));
                            if (f > t)
                              for (o in (c++, n))
                                i.hasOwnProperty(o) || (f--, delete n[o]);
                          }
                        else n !== i && ((n = i), c++);
                        return c;
                      }
                    }
                    return this.$watch(u, function () {
                      if ((h ? ((h = !1), t(i, i, r)) : t(i, o, r), l))
                        if (M(i))
                          if (x(i)) {
                            o = new Array(i.length);
                            for (var e = 0; e < i.length; e++) o[e] = i[e];
                          } else
                            for (var n in ((o = {}), i))
                              s.call(i, n) && (o[n] = i[n]);
                        else o = i;
                    });
                  },
                  $digest: function () {
                    var o,
                      a,
                      s,
                      c,
                      u,
                      f,
                      v,
                      x,
                      w,
                      _,
                      A = e,
                      E = [];
                    g("$digest"),
                      l.$$checkUrlChange(),
                      this === d && null !== n && (l.defer.cancel(n), y()),
                      (i = null);
                    do {
                      for (f = !1, x = this; p.length;) {
                        try {
                          (_ = p.shift()).scope.$eval(_.expression, _.locals);
                        } catch (e) {
                          r(e);
                        }
                        i = null;
                      }
                      e: do {
                        if ((c = x.$$watchers))
                          for (u = c.length; u--;)
                            try {
                              if ((o = c[u]))
                                if (
                                  (a = o.get(x)) === (s = o.last) ||
                                  (o.eq
                                    ? K(a, s)
                                    : "number" == typeof a &&
                                    "number" == typeof s &&
                                    isNaN(a) &&
                                    isNaN(s))
                                ) {
                                  if (o === i) {
                                    f = !1;
                                    break e;
                                  }
                                } else
                                  (f = !0),
                                    (i = o),
                                    (o.last = o.eq ? Z(a, null) : a),
                                    o.fn(a, s === b ? a : s, x),
                                    A < 5 &&
                                    (E[(w = 4 - A)] || (E[w] = []),
                                      E[w].push({
                                        msg: $(o.exp)
                                          ? "fn: " +
                                          (o.exp.name || o.exp.toString())
                                          : o.exp,
                                        newVal: a,
                                        oldVal: s,
                                      }));
                            } catch (e) {
                              r(e);
                            }
                        if (
                          !(v =
                            x.$$childHead || (x !== this && x.$$nextSibling))
                        )
                          for (; x !== this && !(v = x.$$nextSibling);)
                            x = x.$parent;
                      } while ((x = v));
                      if ((f || p.length) && !A--)
                        throw (
                          (m(),
                            t(
                              "infdig",
                              "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",
                              e,
                              E
                            ))
                        );
                    } while (f || p.length);
                    for (m(); h.length;)
                      try {
                        h.shift()();
                      } catch (e) {
                        r(e);
                      }
                  },
                  $destroy: function () {
                    if (!this.$$destroyed) {
                      var e = this.$parent;
                      if (
                        (this.$broadcast("$destroy"),
                          (this.$$destroyed = !0),
                          this !== d)
                      ) {
                        for (var t in this.$$listenerCount)
                          v(this, this.$$listenerCount[t], t);
                        e.$$childHead == this &&
                          (e.$$childHead = this.$$nextSibling),
                          e.$$childTail == this &&
                          (e.$$childTail = this.$$prevSibling),
                          this.$$prevSibling &&
                          (this.$$prevSibling.$$nextSibling =
                            this.$$nextSibling),
                          this.$$nextSibling &&
                          (this.$$nextSibling.$$prevSibling =
                            this.$$prevSibling),
                          (this.$destroy =
                            this.$digest =
                            this.$apply =
                            this.$evalAsync =
                            this.$applyAsync =
                            L),
                          (this.$on =
                            this.$watch =
                            this.$watchGroup =
                            function () {
                              return L;
                            }),
                          (this.$$listeners = {}),
                          (this.$parent =
                            this.$$nextSibling =
                            this.$$prevSibling =
                            this.$$childHead =
                            this.$$childTail =
                            this.$root =
                            this.$$watchers =
                            null);
                      }
                    }
                  },
                  $eval: function (e, t) {
                    return a(e)(this, t);
                  },
                  $evalAsync: function (e, t) {
                    d.$$phase ||
                      p.length ||
                      l.defer(function () {
                        p.length && d.$digest();
                      }),
                      p.push({ scope: this, expression: e, locals: t });
                  },
                  $$postDigest: function (e) {
                    h.push(e);
                  },
                  $apply: function (e) {
                    try {
                      return g("$apply"), this.$eval(e);
                    } catch (e) {
                      r(e);
                    } finally {
                      m();
                      try {
                        d.$digest();
                      } catch (e) {
                        throw (r(e), e);
                      }
                    }
                  },
                  $applyAsync: function (e) {
                    var t = this;
                    e &&
                      f.push(function () {
                        t.$eval(e);
                      }),
                      null === n &&
                      (n = l.defer(function () {
                        d.$apply(y);
                      }));
                  },
                  $on: function (e, t) {
                    var i = this.$$listeners[e];
                    i || (this.$$listeners[e] = i = []), i.push(t);
                    var n = this;
                    do {
                      n.$$listenerCount[e] || (n.$$listenerCount[e] = 0),
                        n.$$listenerCount[e]++;
                    } while ((n = n.$parent));
                    var o = this;
                    return function () {
                      var n = i.indexOf(t);
                      -1 !== n && ((i[n] = null), v(o, 1, e));
                    };
                  },
                  $emit: function (e, t) {
                    var i,
                      n,
                      o,
                      a = [],
                      s = this,
                      l = !1,
                      c = {
                        name: e,
                        targetScope: s,
                        stopPropagation: function () {
                          l = !0;
                        },
                        preventDefault: function () {
                          c.defaultPrevented = !0;
                        },
                        defaultPrevented: !1,
                      },
                      u = ee([c], arguments, 1);
                    do {
                      for (
                        i = s.$$listeners[e] || a,
                        c.currentScope = s,
                        n = 0,
                        o = i.length;
                        n < o;
                        n++
                      )
                        if (i[n])
                          try {
                            i[n].apply(null, u);
                          } catch (e) {
                            r(e);
                          }
                        else i.splice(n, 1), n--, o--;
                      if (l) return (c.currentScope = null), c;
                      s = s.$parent;
                    } while (s);
                    return (c.currentScope = null), c;
                  },
                  $broadcast: function (e, t) {
                    var i = this,
                      n = i,
                      o = i,
                      a = {
                        name: e,
                        targetScope: i,
                        preventDefault: function () {
                          a.defaultPrevented = !0;
                        },
                        defaultPrevented: !1,
                      };
                    if (!i.$$listenerCount[e]) return a;
                    for (var s, l, c, u = ee([a], arguments, 1); (n = o);) {
                      for (
                        a.currentScope = n,
                        l = 0,
                        c = (s = n.$$listeners[e] || []).length;
                        l < c;
                        l++
                      )
                        if (s[l])
                          try {
                            s[l].apply(null, u);
                          } catch (e) {
                            r(e);
                          }
                        else s.splice(l, 1), l--, c--;
                      if (
                        !(o =
                          (n.$$listenerCount[e] && n.$$childHead) ||
                          (n !== i && n.$$nextSibling))
                      )
                        for (; n !== i && !(o = n.$$nextSibling);)
                          n = n.$parent;
                    }
                    return (a.currentScope = null), a;
                  },
                };
                var d = new u(),
                  p = (d.$$asyncQueue = []),
                  h = (d.$$postDigestQueue = []),
                  f = (d.$$applyAsyncQueue = []);
                return d;
                function g(e) {
                  if (d.$$phase)
                    throw t("inprog", "{0} already in progress", d.$$phase);
                  d.$$phase = e;
                }
                function m() {
                  d.$$phase = null;
                }
                function v(e, t, i) {
                  do {
                    (e.$$listenerCount[i] -= t),
                      0 === e.$$listenerCount[i] && delete e.$$listenerCount[i];
                  } while ((e = e.$parent));
                }
                function b() { }
                function y() {
                  for (; f.length;)
                    try {
                      f.shift()();
                    } catch (e) {
                      r(e);
                    }
                  n = null;
                }
              },
            ]);
        }
        function qi() {
          var e = /^\s*(https?|ftp|mailto|tel|file):/,
            t = /^\s*((https?|ftp|file|blob):|data:image\/)/;
          (this.aHrefSanitizationWhitelist = function (t) {
            return O(t) ? ((e = t), this) : e;
          }),
            (this.imgSrcSanitizationWhitelist = function (e) {
              return O(e) ? ((t = e), this) : t;
            }),
            (this.$get = function () {
              return function (i, n) {
                var o,
                  r = n ? t : e;
                return "" === (o = rn(i).href) || o.match(r)
                  ? i
                  : "unsafe:" + o;
              };
            });
        }
        var Qi = o("$sce"),
          Gi = {
            HTML: "html",
            CSS: "css",
            URL: "url",
            RESOURCE_URL: "resourceUrl",
            JS: "js",
          };
        function Yi(e) {
          var t = [];
          return (
            O(e) &&
            w(e, function (e) {
              t.push(
                (function (e) {
                  if ("self" === e) return e;
                  if (N(e)) {
                    if (e.indexOf("***") > -1)
                      throw Qi(
                        "iwcard",
                        "Illegal sequence *** in string matcher.  String: {0}",
                        e
                      );
                    return (
                      (e = q(e)
                        .replace("\\*\\*", ".*")
                        .replace("\\*", "[^:/.?&;]*")),
                      new RegExp("^" + e + "$")
                    );
                  }
                  if (H(e)) return new RegExp("^" + e.source + "$");
                  throw Qi(
                    "imatcher",
                    'Matchers may only be "self", string patterns or RegExp objects'
                  );
                })(e)
              );
            }),
            t
          );
        }
        function Zi() {
          this.SCE_CONTEXTS = Gi;
          var e = ["self"],
            t = [];
          (this.resourceUrlWhitelist = function (t) {
            return arguments.length && (e = Yi(t)), e;
          }),
            (this.resourceUrlBlacklist = function (e) {
              return arguments.length && (t = Yi(e)), t;
            }),
            (this.$get = [
              "$injector",
              function (i) {
                var n = function (e) {
                  throw Qi(
                    "unsafe",
                    "Attempting to use an unsafe value in a safe context."
                  );
                };
                function o(e, t) {
                  return "self" === e ? an(t) : !!e.exec(t.href);
                }
                function r(e) {
                  var t = function (e) {
                    this.$$unwrapTrustedValue = function () {
                      return e;
                    };
                  };
                  return (
                    e && (t.prototype = new e()),
                    (t.prototype.valueOf = function () {
                      return this.$$unwrapTrustedValue();
                    }),
                    (t.prototype.toString = function () {
                      return this.$$unwrapTrustedValue().toString();
                    }),
                    t
                  );
                }
                i.has("$sanitize") && (n = i.get("$sanitize"));
                var a = r(),
                  s = {};
                return (
                  (s[Gi.HTML] = r(a)),
                  (s[Gi.CSS] = r(a)),
                  (s[Gi.URL] = r(a)),
                  (s[Gi.JS] = r(a)),
                  (s[Gi.RESOURCE_URL] = r(s[Gi.URL])),
                  {
                    trustAs: function (e, t) {
                      var i = s.hasOwnProperty(e) ? s[e] : null;
                      if (!i)
                        throw Qi(
                          "icontext",
                          "Attempted to trust a value in invalid context. Context: {0}; Value: {1}",
                          e,
                          t
                        );
                      if (null == t || "" === t) return t;
                      if ("string" != typeof t)
                        throw Qi(
                          "itype",
                          "Attempted to trust a non-string value in a content requiring a string: Context: {0}",
                          e
                        );
                      return new i(t);
                    },
                    getTrusted: function (i, r) {
                      if (null == r || "" === r) return r;
                      var a = s.hasOwnProperty(i) ? s[i] : null;
                      if (a && r instanceof a) return r.$$unwrapTrustedValue();
                      if (i === Gi.RESOURCE_URL) {
                        if (
                          (function (i) {
                            var n,
                              r,
                              a = rn(i.toString()),
                              s = !1;
                            for (n = 0, r = e.length; n < r; n++)
                              if (o(e[n], a)) {
                                s = !0;
                                break;
                              }
                            if (s)
                              for (n = 0, r = t.length; n < r; n++)
                                if (o(t[n], a)) {
                                  s = !1;
                                  break;
                                }
                            return s;
                          })(r)
                        )
                          return r;
                        throw Qi(
                          "insecurl",
                          "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",
                          r.toString()
                        );
                      }
                      if (i === Gi.HTML) return n(r);
                      throw Qi(
                        "unsafe",
                        "Attempting to use an unsafe value in a safe context."
                      );
                    },
                    valueOf: function (e) {
                      return e instanceof a ? e.$$unwrapTrustedValue() : e;
                    },
                  }
                );
              },
            ]);
        }
        function Xi() {
          var e = !0;
          (this.enabled = function (t) {
            return arguments.length && (e = !!t), e;
          }),
            (this.$get = [
              "$parse",
              "$sceDelegate",
              function (t, i) {
                if (e && c < 8)
                  throw Qi(
                    "iequirks",
                    "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information."
                  );
                var n = X(Gi);
                (n.isEnabled = function () {
                  return e;
                }),
                  (n.trustAs = i.trustAs),
                  (n.getTrusted = i.getTrusted),
                  (n.valueOf = i.valueOf),
                  e ||
                  ((n.trustAs = n.getTrusted =
                    function (e, t) {
                      return t;
                    }),
                    (n.valueOf = D)),
                  (n.parseAs = function (e, i) {
                    var o = t(i);
                    return o.literal && o.constant
                      ? o
                      : t(i, function (t) {
                        return n.getTrusted(e, t);
                      });
                  });
                var o = n.parseAs,
                  r = n.getTrusted,
                  s = n.trustAs;
                return (
                  w(Gi, function (e, t) {
                    var i = a(t);
                    (n[$e("parse_as_" + i)] = function (t) {
                      return o(e, t);
                    }),
                      (n[$e("get_trusted_" + i)] = function (t) {
                        return r(e, t);
                      }),
                      (n[$e("trust_as_" + i)] = function (t) {
                        return s(e, t);
                      });
                  }),
                  n
                );
              },
            ]);
        }
        function Ki() {
          this.$get = [
            "$window",
            "$document",
            function (e, t) {
              var i,
                n,
                o = {},
                r = C(
                  (/android (\d+)/.exec(a((e.navigator || {}).userAgent)) ||
                    [])[1]
                ),
                s = /Boxee/i.test((e.navigator || {}).userAgent),
                l = t[0] || {},
                u = /^(Moz|webkit|ms)(?=[A-Z])/,
                d = l.body && l.body.style,
                p = !1,
                h = !1;
              if (d) {
                for (var f in d)
                  if ((n = u.exec(f))) {
                    i = (i = n[0]).substr(0, 1).toUpperCase() + i.substr(1);
                    break;
                  }
                i || (i = "WebkitOpacity" in d && "webkit"),
                  (p = !(!("transition" in d) && !(i + "Transition" in d))),
                  (h = !(!("animation" in d) && !(i + "Animation" in d))),
                  !r ||
                  (p && h) ||
                  ((p = N(l.body.style.webkitTransition)),
                    (h = N(l.body.style.webkitAnimation)));
              }
              return {
                history: !(!e.history || !e.history.pushState || r < 4 || s),
                hasEvent: function (e) {
                  if ("input" === e && c <= 11) return !1;
                  if (P(o[e])) {
                    var t = l.createElement("div");
                    o[e] = "on" + e in t;
                  }
                  return o[e];
                },
                csp: J(),
                vendorPrefix: i,
                transitions: p,
                animations: h,
                android: r,
              };
            },
          ];
        }
        It = o("$compile");
        function Ji() {
          this.$get = [
            "$templateCache",
            "$http",
            "$q",
            function (e, t, i) {
              function n(o, r) {
                n.totalPendingRequests++;
                var a = t.defaults && t.defaults.transformResponse;
                z(a)
                  ? (a = a.filter(function (e) {
                    return e !== Wt;
                  }))
                  : a === Wt && (a = null);
                var s = { cache: e, transformResponse: a };
                return t
                  .get(o, s)
                  .finally(function () {
                    n.totalPendingRequests--;
                  })
                  .then(
                    function (e) {
                      return e.data;
                    },
                    function (e) {
                      if (!r)
                        throw It("tpload", "Failed to load template: {0}", o);
                      return i.reject(e);
                    }
                  );
              }
              return (n.totalPendingRequests = 0), n;
            },
          ];
        }
        function en() {
          this.$get = [
            "$rootScope",
            "$browser",
            "$location",
            function (e, t, i) {
              var n = {
                findBindings: function (e, t, i) {
                  var n = e.getElementsByClassName("ng-binding"),
                    o = [];
                  return (
                    w(n, function (e) {
                      var n = b.element(e).data("$binding");
                      n &&
                        w(n, function (n) {
                          i
                            ? new RegExp("(^|\\s)" + q(t) + "(\\s|\\||$)").test(
                              n
                            ) && o.push(e)
                            : -1 != n.indexOf(t) && o.push(e);
                        });
                    }),
                    o
                  );
                },
                findModels: function (e, t, i) {
                  for (
                    var n = ["ng-", "data-ng-", "ng\\:"], o = 0;
                    o < n.length;
                    ++o
                  ) {
                    var r =
                      "[" +
                      n[o] +
                      "model" +
                      (i ? "=" : "*=") +
                      '"' +
                      t +
                      '"]',
                      a = e.querySelectorAll(r);
                    if (a.length) return a;
                  }
                },
                getLocation: function () {
                  return i.url();
                },
                setLocation: function (t) {
                  t !== i.url() && (i.url(t), e.$digest());
                },
                whenStable: function (e) {
                  t.notifyWhenNoOutstandingRequests(e);
                },
              };
              return n;
            },
          ];
        }
        function tn() {
          this.$get = [
            "$rootScope",
            "$browser",
            "$q",
            "$$q",
            "$exceptionHandler",
            function (e, t, i, n, o) {
              var r = {};
              function a(a, s, l) {
                var c,
                  u = O(l) && !l,
                  d = (u ? n : i).defer(),
                  p = d.promise;
                return (
                  (c = t.defer(function () {
                    try {
                      d.resolve(a());
                    } catch (e) {
                      d.reject(e), o(e);
                    } finally {
                      delete r[p.$$timeoutId];
                    }
                    u || e.$apply();
                  }, s)),
                  (p.$$timeoutId = c),
                  (r[c] = d),
                  p
                );
              }
              return (
                (a.cancel = function (e) {
                  return (
                    !(!e || !(e.$$timeoutId in r)) &&
                    (r[e.$$timeoutId].reject("canceled"),
                      delete r[e.$$timeoutId],
                      t.defer.cancel(e.$$timeoutId))
                  );
                }),
                a
              );
            },
          ];
        }
        var nn = i.createElement("a"),
          on = rn(t.location.href);
        function rn(e) {
          var t = e;
          return (
            c && (nn.setAttribute("href", t), (t = nn.href)),
            nn.setAttribute("href", t),
            {
              href: nn.href,
              protocol: nn.protocol ? nn.protocol.replace(/:$/, "") : "",
              host: nn.host,
              search: nn.search ? nn.search.replace(/^\?/, "") : "",
              hash: nn.hash ? nn.hash.replace(/^#/, "") : "",
              hostname: nn.hostname,
              port: nn.port,
              pathname:
                "/" === nn.pathname.charAt(0) ? nn.pathname : "/" + nn.pathname,
            }
          );
        }
        function an(e) {
          var t = N(e) ? rn(e) : e;
          return t.protocol === on.protocol && t.host === on.host;
        }
        function sn() {
          this.$get = I(t);
        }
        function ln(e) {
          function t(i, n) {
            if (M(i)) {
              var o = {};
              return (
                w(i, function (e, i) {
                  o[i] = t(i, e);
                }),
                o
              );
            }
            return e.factory(i + "Filter", n);
          }
          (this.register = t),
            (this.$get = [
              "$injector",
              function (e) {
                return function (t) {
                  return e.get(t + "Filter");
                };
              },
            ]),
            t("currency", dn),
            t("date", An),
            t("filter", cn),
            t("json", En),
            t("limitTo", Cn),
            t("lowercase", Sn),
            t("number", pn),
            t("orderBy", kn),
            t("uppercase", Tn);
        }
        function cn() {
          return function (e, t, i) {
            if (!z(e)) return e;
            var n, o;
            switch (typeof t) {
              case "function":
                n = t;
                break;
              case "boolean":
              case "number":
              case "string":
                o = !0;
              case "object":
                n = (function (e, t, i) {
                  var n = M(e) && "$" in e;
                  !0 === t
                    ? (t = K)
                    : $(t) ||
                    (t = function (e, t) {
                      return (
                        !M(e) &&
                        !M(t) &&
                        ((e = a("" + e)),
                          (t = a("" + t)),
                          -1 !== e.indexOf(t))
                      );
                    });
                  return function (o) {
                    return n && !M(o) ? un(o, e.$, t, !1) : un(o, e, t, i);
                  };
                })(t, i, o);
                break;
              default:
                return e;
            }
            return e.filter(n);
          };
        }
        function un(e, t, i, n, o) {
          var r = null !== e ? typeof e : "null",
            a = null !== t ? typeof t : "null";
          if ("string" === a && "!" === t.charAt(0))
            return !un(e, t.substring(1), i, n);
          if (z(e))
            return e.some(function (e) {
              return un(e, t, i, n);
            });
          switch (r) {
            case "object":
              var s;
              if (n) {
                for (s in e)
                  if ("$" !== s.charAt(0) && un(e[s], t, i, !0)) return !0;
                return !o && un(e, t, i, !1);
              }
              if ("object" === a) {
                for (s in t) {
                  var l = t[s];
                  if (!$(l) && !P(l)) {
                    var c = "$" === s;
                    if (!un(c ? e : e[s], l, i, c, c)) return !1;
                  }
                }
                return !0;
              }
              return i(e, t);
            case "function":
              return !1;
            default:
              return i(e, t);
          }
        }
        function dn(e) {
          var t = e.NUMBER_FORMATS;
          return function (e, i, n) {
            return (
              P(i) && (i = t.CURRENCY_SYM),
              P(n) && (n = t.PATTERNS[1].maxFrac),
              null == e
                ? e
                : hn(e, t.PATTERNS[1], t.GROUP_SEP, t.DECIMAL_SEP, n).replace(
                  /\u00A4/g,
                  i
                )
            );
          };
        }
        function pn(e) {
          var t = e.NUMBER_FORMATS;
          return function (e, i) {
            return null == e
              ? e
              : hn(e, t.PATTERNS[0], t.GROUP_SEP, t.DECIMAL_SEP, i);
          };
        }
        (ln.$inject = ["$provide"]),
          (dn.$inject = ["$locale"]),
          (pn.$inject = ["$locale"]);
        function hn(e, t, i, n, o) {
          if (!isFinite(e) || M(e)) return "";
          var r = e < 0,
            a = (e = Math.abs(e)) + "",
            s = "",
            l = [],
            c = !1;
          if (-1 !== a.indexOf("e")) {
            var u = a.match(/([\d\.]+)e(-?)(\d+)/);
            u && "-" == u[2] && u[3] > o + 1 ? (e = 0) : ((s = a), (c = !0));
          }
          if (c) o > 0 && e < 1 && ((s = e.toFixed(o)), (e = parseFloat(s)));
          else {
            var d = (a.split(".")[1] || "").length;
            P(o) && (o = Math.min(Math.max(t.minFrac, d), t.maxFrac));
            var p = (
              "" +
              (e = +(
                Math.round(+(e.toString() + "e" + o)).toString() +
                "e" +
                -o
              ))
            ).split("."),
              h = p[0];
            p = p[1] || "";
            var f,
              g = 0,
              m = t.lgSize,
              v = t.gSize;
            if (h.length >= m + v)
              for (g = h.length - m, f = 0; f < g; f++)
                (g - f) % v == 0 && 0 !== f && (s += i), (s += h.charAt(f));
            for (f = g; f < h.length; f++)
              (h.length - f) % m == 0 && 0 !== f && (s += i),
                (s += h.charAt(f));
            for (; p.length < o;) p += "0";
            o && "0" !== o && (s += n + p.substr(0, o));
          }
          return (
            0 === e && (r = !1),
            l.push(r ? t.negPre : t.posPre, s, r ? t.negSuf : t.posSuf),
            l.join("")
          );
        }
        function fn(e, t, i) {
          var n = "";
          for (e < 0 && ((n = "-"), (e = -e)), e = "" + e; e.length < t;)
            e = "0" + e;
          return i && (e = e.substr(e.length - t)), n + e;
        }
        function gn(e, t, i, n) {
          return (
            (i = i || 0),
            function (o) {
              var r = o["get" + e]();
              return (
                (i > 0 || r > -i) && (r += i),
                0 === r && -12 == i && (r = 12),
                fn(r, t, n)
              );
            }
          );
        }
        function mn(e, t) {
          return function (i, n) {
            var o = i["get" + e]();
            return n[l(t ? "SHORT" + e : e)][o];
          };
        }
        function vn(e) {
          var t = new Date(e, 0, 1).getDay();
          return new Date(e, 0, (t <= 4 ? 5 : 12) - t);
        }
        function bn(e) {
          return function (t) {
            var i,
              n = vn(t.getFullYear()),
              o =
                +((i = t),
                  new Date(
                    i.getFullYear(),
                    i.getMonth(),
                    i.getDate() + (4 - i.getDay())
                  )) - +n;
            return fn(1 + Math.round(o / 6048e5), e);
          };
        }
        function yn(e, t) {
          return e.getFullYear() <= 0 ? t.ERAS[0] : t.ERAS[1];
        }
        var xn = {
          yyyy: gn("FullYear", 4),
          yy: gn("FullYear", 2, 0, !0),
          y: gn("FullYear", 1),
          MMMM: mn("Month"),
          MMM: mn("Month", !0),
          MM: gn("Month", 2, 1),
          M: gn("Month", 1, 1),
          dd: gn("Date", 2),
          d: gn("Date", 1),
          HH: gn("Hours", 2),
          H: gn("Hours", 1),
          hh: gn("Hours", 2, -12),
          h: gn("Hours", 1, -12),
          mm: gn("Minutes", 2),
          m: gn("Minutes", 1),
          ss: gn("Seconds", 2),
          s: gn("Seconds", 1),
          sss: gn("Milliseconds", 3),
          EEEE: mn("Day"),
          EEE: mn("Day", !0),
          a: function (e, t) {
            return e.getHours() < 12 ? t.AMPMS[0] : t.AMPMS[1];
          },
          Z: function (e) {
            var t = -1 * e.getTimezoneOffset(),
              i = t >= 0 ? "+" : "";
            return (i +=
              fn(Math[t > 0 ? "floor" : "ceil"](t / 60), 2) +
              fn(Math.abs(t % 60), 2));
          },
          ww: bn(2),
          w: bn(1),
          G: yn,
          GG: yn,
          GGG: yn,
          GGGG: function (e, t) {
            return e.getFullYear() <= 0 ? t.ERANAMES[0] : t.ERANAMES[1];
          },
        },
          wn =
            /((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
          _n = /^\-?\d+$/;
        function An(e) {
          var t =
            /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
          return function (i, n, o) {
            var r,
              a,
              s = "",
              l = [];
            if (
              ((n = n || "mediumDate"),
                (n = e.DATETIME_FORMATS[n] || n),
                N(i) &&
                (i = _n.test(i)
                  ? C(i)
                  : (function (e) {
                    var i;
                    if ((i = e.match(t))) {
                      var n = new Date(0),
                        o = 0,
                        r = 0,
                        a = i[8] ? n.setUTCFullYear : n.setFullYear,
                        s = i[8] ? n.setUTCHours : n.setHours;
                      i[9] && ((o = C(i[9] + i[10])), (r = C(i[9] + i[11]))),
                        a.call(n, C(i[1]), C(i[2]) - 1, C(i[3]));
                      var l = C(i[4] || 0) - o,
                        c = C(i[5] || 0) - r,
                        u = C(i[6] || 0),
                        d = Math.round(1e3 * parseFloat("0." + (i[7] || 0)));
                      return s.call(n, l, c, u, d), n;
                    }
                    return e;
                  })(i)),
                R(i) && (i = new Date(i)),
                !B(i))
            )
              return i;
            for (; n;)
              (a = wn.exec(n))
                ? (n = (l = ee(l, a, 1)).pop())
                : (l.push(n), (n = null));
            return (
              o &&
              "UTC" === o &&
              (i = new Date(i.getTime())).setMinutes(
                i.getMinutes() + i.getTimezoneOffset()
              ),
              w(l, function (t) {
                s += (r = xn[t])
                  ? r(i, e.DATETIME_FORMATS)
                  : t.replace(/(^'|'$)/g, "").replace(/''/g, "'");
              }),
              s
            );
          };
        }
        function En() {
          return function (e, t) {
            return P(t) && (t = 2), oe(e, t);
          };
        }
        An.$inject = ["$locale"];
        var Sn = I(a),
          Tn = I(l);
        function Cn() {
          return function (e, t) {
            return (
              R(e) && (e = e.toString()),
              z(e) || N(e)
                ? (t = Math.abs(Number(t)) === 1 / 0 ? Number(t) : C(t))
                  ? t > 0
                    ? e.slice(0, t)
                    : e.slice(t)
                  : N(e)
                    ? ""
                    : []
                : e
            );
          };
        }
        function kn(e) {
          return function (t, i, n) {
            return x(t)
              ? (0 === (i = z(i) ? i : [i]).length && (i = ["+"]),
                (i = i.map(function (t) {
                  var i = !1,
                    n = t || D;
                  if (N(t)) {
                    if (
                      (("+" != t.charAt(0) && "-" != t.charAt(0)) ||
                        ((i = "-" == t.charAt(0)), (t = t.substring(1))),
                        "" === t)
                    )
                      return o(s, i);
                    if ((n = e(t)).constant) {
                      var r = n();
                      return o(function (e, t) {
                        return s(e[r], t[r]);
                      }, i);
                    }
                  }
                  return o(function (e, t) {
                    return s(n(e), n(t));
                  }, i);
                })),
                h.call(t).sort(
                  o(function (e, t) {
                    for (var n = 0; n < i.length; n++) {
                      var o = i[n](e, t);
                      if (0 !== o) return o;
                    }
                    return 0;
                  }, n)
                ))
              : t;
            function o(e, t) {
              return t
                ? function (t, i) {
                  return e(i, t);
                }
                : e;
            }
            function r(e) {
              switch (typeof e) {
                case "number":
                case "boolean":
                case "string":
                  return !0;
                default:
                  return !1;
              }
            }
            function a(e) {
              return null === e
                ? "null"
                : ("function" == typeof e.valueOf && r((e = e.valueOf()))) ||
                  ("function" == typeof e.toString && r((e = e.toString())))
                  ? e
                  : "";
            }
            function s(e, t) {
              var i = typeof e,
                n = typeof t;
              return (
                i === n && "object" === i && ((e = a(e)), (t = a(t))),
                i === n
                  ? ("string" === i &&
                    ((e = e.toLowerCase()), (t = t.toLowerCase())),
                    e === t ? 0 : e < t ? -1 : 1)
                  : i < n
                    ? -1
                    : 1
              );
            }
          };
        }
        function Ln(e) {
          return (
            $(e) && (e = { link: e }), (e.restrict = e.restrict || "AC"), I(e)
          );
        }
        kn.$inject = ["$parse"];
        var Dn = I({
          restrict: "E",
          compile: function (e, t) {
            if (!t.href && !t.xlinkHref && !t.name)
              return function (e, t) {
                if ("a" === t[0].nodeName.toLowerCase()) {
                  var i =
                    "[object SVGAnimatedString]" === m.call(t.prop("href"))
                      ? "xlink:href"
                      : "href";
                  t.on("click", function (e) {
                    t.attr(i) || e.preventDefault();
                  });
                }
              };
          },
        }),
          In = {};
        w(ut, function (e, t) {
          if ("multiple" != e) {
            var i = Mt("ng-" + t);
            In[i] = function () {
              return {
                restrict: "A",
                priority: 100,
                link: function (e, n, o) {
                  e.$watch(o[i], function (e) {
                    o.$set(t, !!e);
                  });
                },
              };
            };
          }
        }),
          w(pt, function (e, t) {
            In[t] = function () {
              return {
                priority: 100,
                link: function (e, i, n) {
                  if ("ngPattern" === t && "/" == n.ngPattern.charAt(0)) {
                    var o = n.ngPattern.match(r);
                    if (o)
                      return void n.$set("ngPattern", new RegExp(o[1], o[2]));
                  }
                  e.$watch(n[t], function (e) {
                    n.$set(t, e);
                  });
                },
              };
            };
          }),
          w(["src", "srcset", "href"], function (e) {
            var t = Mt("ng-" + e);
            In[t] = function () {
              return {
                priority: 99,
                link: function (i, n, o) {
                  var r = e,
                    a = e;
                  "href" === e &&
                    "[object SVGAnimatedString]" === m.call(n.prop("href")) &&
                    ((a = "xlinkHref"),
                      (o.$attr[a] = "xlink:href"),
                      (r = null)),
                    o.$observe(t, function (t) {
                      t
                        ? (o.$set(a, t), c && r && n.prop(r, o[a]))
                        : "href" === e && o.$set(a, null);
                    });
                },
              };
            };
          });
        var Pn = {
          $addControl: L,
          $$renameControl: function (e, t) {
            e.$name = t;
          },
          $removeControl: L,
          $setValidity: L,
          $setDirty: L,
          $setPristine: L,
          $setSubmitted: L,
        };
        function On(e, t, i, n, o) {
          var r = this,
            a = [],
            s = (r.$$parentForm = e.parent().controller("form") || Pn);
          (r.$error = {}),
            (r.$$success = {}),
            (r.$pending = void 0),
            (r.$name = o(t.name || t.ngForm || "")(i)),
            (r.$dirty = !1),
            (r.$pristine = !0),
            (r.$valid = !0),
            (r.$invalid = !1),
            (r.$submitted = !1),
            s.$addControl(r),
            (r.$rollbackViewValue = function () {
              w(a, function (e) {
                e.$rollbackViewValue();
              });
            }),
            (r.$commitViewValue = function () {
              w(a, function (e) {
                e.$commitViewValue();
              });
            }),
            (r.$addControl = function (e) {
              Ae(e.$name, "input"), a.push(e), e.$name && (r[e.$name] = e);
            }),
            (r.$$renameControl = function (e, t) {
              var i = e.$name;
              r[i] === e && delete r[i], (r[t] = e), (e.$name = t);
            }),
            (r.$removeControl = function (e) {
              e.$name && r[e.$name] === e && delete r[e.$name],
                w(r.$pending, function (t, i) {
                  r.$setValidity(i, null, e);
                }),
                w(r.$error, function (t, i) {
                  r.$setValidity(i, null, e);
                }),
                w(r.$$success, function (t, i) {
                  r.$setValidity(i, null, e);
                }),
                Y(a, e);
            }),
            ko({
              ctrl: this,
              $element: e,
              set: function (e, t, i) {
                var n = e[t];
                n ? -1 === n.indexOf(i) && n.push(i) : (e[t] = [i]);
              },
              unset: function (e, t, i) {
                var n = e[t];
                n && (Y(n, i), 0 === n.length && delete e[t]);
              },
              parentForm: s,
              $animate: n,
            }),
            (r.$setDirty = function () {
              n.removeClass(e, wo),
                n.addClass(e, _o),
                (r.$dirty = !0),
                (r.$pristine = !1),
                s.$setDirty();
            }),
            (r.$setPristine = function () {
              n.setClass(e, wo, _o + " ng-submitted"),
                (r.$dirty = !1),
                (r.$pristine = !0),
                (r.$submitted = !1),
                w(a, function (e) {
                  e.$setPristine();
                });
            }),
            (r.$setUntouched = function () {
              w(a, function (e) {
                e.$setUntouched();
              });
            }),
            (r.$setSubmitted = function () {
              n.addClass(e, "ng-submitted"),
                (r.$submitted = !0),
                s.$setSubmitted();
            });
        }
        On.$inject = [
          "$element",
          "$attrs",
          "$scope",
          "$animate",
          "$interpolate",
        ];
        var Mn = function (e) {
          return [
            "$timeout",
            function (t) {
              return {
                name: "form",
                restrict: e ? "EAC" : "E",
                controller: On,
                compile: function (i, n) {
                  i.addClass(wo).addClass(xo);
                  var o = n.name ? "name" : !(!e || !n.ngForm) && "ngForm";
                  return {
                    pre: function (e, i, n, r) {
                      if (!("action" in n)) {
                        var a = function (t) {
                          e.$apply(function () {
                            r.$commitViewValue(), r.$setSubmitted();
                          }),
                            t.preventDefault();
                        };
                        Oe(i[0], "submit", a),
                          i.on("$destroy", function () {
                            t(
                              function () {
                                Me(i[0], "submit", a);
                              },
                              0,
                              !1
                            );
                          });
                      }
                      var s = r.$$parentForm;
                      o &&
                        (Oi(e, null, r.$name, r, r.$name),
                          n.$observe(o, function (t) {
                            r.$name !== t &&
                              (Oi(e, null, r.$name, void 0, r.$name),
                                s.$$renameControl(r, t),
                                Oi(e, null, r.$name, r, r.$name));
                          })),
                        i.on("$destroy", function () {
                          s.$removeControl(r),
                            o && Oi(e, null, n[o], void 0, r.$name),
                            T(r, Pn);
                        });
                    },
                  };
                },
              };
            },
          ];
        },
          Nn = Mn(),
          Rn = Mn(!0),
          Bn =
            /\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,
          zn =
            /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,
          $n =
            /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
          Hn = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,
          Vn = /^(\d{4})-(\d{2})-(\d{2})$/,
          jn = /^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
          Fn = /^(\d{4})-W(\d\d)$/,
          Un = /^(\d{4})-(\d\d)$/,
          Wn = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
          qn = {
            text: function (e, t, i, n, o, r) {
              Gn(e, t, i, n, o, r), Qn(n);
            },
            date: Zn("date", Vn, Yn(Vn, ["yyyy", "MM", "dd"]), "yyyy-MM-dd"),
            "datetime-local": Zn(
              "datetimelocal",
              jn,
              Yn(jn, ["yyyy", "MM", "dd", "HH", "mm", "ss", "sss"]),
              "yyyy-MM-ddTHH:mm:ss.sss"
            ),
            time: Zn(
              "time",
              Wn,
              Yn(Wn, ["HH", "mm", "ss", "sss"]),
              "HH:mm:ss.sss"
            ),
            week: Zn(
              "week",
              Fn,
              function (e, t) {
                if (B(e)) return e;
                if (N(e)) {
                  Fn.lastIndex = 0;
                  var i = Fn.exec(e);
                  if (i) {
                    var n = +i[1],
                      o = +i[2],
                      r = 0,
                      a = 0,
                      s = 0,
                      l = 0,
                      c = vn(n),
                      u = 7 * (o - 1);
                    return (
                      t &&
                      ((r = t.getHours()),
                        (a = t.getMinutes()),
                        (s = t.getSeconds()),
                        (l = t.getMilliseconds())),
                      new Date(n, 0, c.getDate() + u, r, a, s, l)
                    );
                  }
                }
                return NaN;
              },
              "yyyy-Www"
            ),
            month: Zn("month", Un, Yn(Un, ["yyyy", "MM"]), "yyyy-MM"),
            number: function (e, t, i, n, o, r) {
              if (
                (Xn(e, t, i, n),
                  Gn(e, t, i, n, o, r),
                  (n.$$parserName = "number"),
                  n.$parsers.push(function (e) {
                    return n.$isEmpty(e)
                      ? null
                      : Hn.test(e)
                        ? parseFloat(e)
                        : void 0;
                  }),
                  n.$formatters.push(function (e) {
                    if (!n.$isEmpty(e)) {
                      if (!R(e))
                        throw Ao("numfmt", "Expected `{0}` to be a number", e);
                      e = e.toString();
                    }
                    return e;
                  }),
                  O(i.min) || i.ngMin)
              ) {
                var a;
                (n.$validators.min = function (e) {
                  return n.$isEmpty(e) || P(a) || e >= a;
                }),
                  i.$observe("min", function (e) {
                    O(e) && !R(e) && (e = parseFloat(e, 10)),
                      (a = R(e) && !isNaN(e) ? e : void 0),
                      n.$validate();
                  });
              }
              if (O(i.max) || i.ngMax) {
                var s;
                (n.$validators.max = function (e) {
                  return n.$isEmpty(e) || P(s) || e <= s;
                }),
                  i.$observe("max", function (e) {
                    O(e) && !R(e) && (e = parseFloat(e, 10)),
                      (s = R(e) && !isNaN(e) ? e : void 0),
                      n.$validate();
                  });
              }
            },
            url: function (e, t, i, n, o, r) {
              Gn(e, t, i, n, o, r),
                Qn(n),
                (n.$$parserName = "url"),
                (n.$validators.url = function (e, t) {
                  var i = e || t;
                  return n.$isEmpty(i) || zn.test(i);
                });
            },
            email: function (e, t, i, n, o, r) {
              Gn(e, t, i, n, o, r),
                Qn(n),
                (n.$$parserName = "email"),
                (n.$validators.email = function (e, t) {
                  var i = e || t;
                  return n.$isEmpty(i) || $n.test(i);
                });
            },
            radio: function (e, t, i, n) {
              P(i.name) && t.attr("name", E());
              t.on("click", function (e) {
                t[0].checked && n.$setViewValue(i.value, e && e.type);
              }),
                (n.$render = function () {
                  var e = i.value;
                  t[0].checked = e == n.$viewValue;
                }),
                i.$observe("value", n.$render);
            },
            checkbox: function (e, t, i, n, o, r, a, s) {
              var l = Kn(s, e, "ngTrueValue", i.ngTrueValue, !0),
                c = Kn(s, e, "ngFalseValue", i.ngFalseValue, !1);
              t.on("click", function (e) {
                n.$setViewValue(t[0].checked, e && e.type);
              }),
                (n.$render = function () {
                  t[0].checked = n.$viewValue;
                }),
                (n.$isEmpty = function (e) {
                  return !1 === e;
                }),
                n.$formatters.push(function (e) {
                  return K(e, l);
                }),
                n.$parsers.push(function (e) {
                  return e ? l : c;
                });
            },
            hidden: L,
            button: L,
            submit: L,
            reset: L,
            file: L,
          };
        function Qn(e) {
          e.$formatters.push(function (t) {
            return e.$isEmpty(t) ? t : t.toString();
          });
        }
        function Gn(e, t, i, n, o, r) {
          var s = a(t[0].type);
          if (!o.android) {
            var l = !1;
            t.on("compositionstart", function (e) {
              l = !0;
            }),
              t.on("compositionend", function () {
                (l = !1), c();
              });
          }
          var c = function (e) {
            if ((u && (r.defer.cancel(u), (u = null)), !l)) {
              var o = t.val(),
                a = e && e.type;
              "password" === s ||
                (i.ngTrim && "false" === i.ngTrim) ||
                (o = W(o)),
                (n.$viewValue !== o || ("" === o && n.$$hasNativeValidators)) &&
                n.$setViewValue(o, a);
            }
          };
          if (o.hasEvent("input")) t.on("input", c);
          else {
            var u,
              d = function (e, t, i) {
                u ||
                  (u = r.defer(function () {
                    (u = null), (t && t.value === i) || c(e);
                  }));
              };
            t.on("keydown", function (e) {
              var t = e.keyCode;
              91 === t ||
                (15 < t && t < 19) ||
                (37 <= t && t <= 40) ||
                d(e, this, this.value);
            }),
              o.hasEvent("paste") && t.on("paste cut", d);
          }
          t.on("change", c),
            (n.$render = function () {
              t.val(n.$isEmpty(n.$viewValue) ? "" : n.$viewValue);
            });
        }
        function Yn(e, t) {
          return function (i, n) {
            var o, r;
            if (B(i)) return i;
            if (N(i)) {
              if (
                ('"' == i.charAt(0) &&
                  '"' == i.charAt(i.length - 1) &&
                  (i = i.substring(1, i.length - 1)),
                  Bn.test(i))
              )
                return new Date(i);
              if (((e.lastIndex = 0), (o = e.exec(i))))
                return (
                  o.shift(),
                  (r = n
                    ? {
                      yyyy: n.getFullYear(),
                      MM: n.getMonth() + 1,
                      dd: n.getDate(),
                      HH: n.getHours(),
                      mm: n.getMinutes(),
                      ss: n.getSeconds(),
                      sss: n.getMilliseconds() / 1e3,
                    }
                    : {
                      yyyy: 1970,
                      MM: 1,
                      dd: 1,
                      HH: 0,
                      mm: 0,
                      ss: 0,
                      sss: 0,
                    }),
                  w(o, function (e, i) {
                    i < t.length && (r[t[i]] = +e);
                  }),
                  new Date(
                    r.yyyy,
                    r.MM - 1,
                    r.dd,
                    r.HH,
                    r.mm,
                    r.ss || 0,
                    1e3 * r.sss || 0
                  )
                );
            }
            return NaN;
          };
        }
        function Zn(e, t, i, n) {
          return function (o, r, a, s, l, c, u) {
            Xn(o, r, a, s), Gn(0, r, a, s, l, c);
            var d,
              p,
              h,
              f = s && s.$options && s.$options.timezone;
            ((s.$$parserName = e),
              s.$parsers.push(function (e) {
                if (s.$isEmpty(e)) return null;
                if (t.test(e)) {
                  var n = i(e, d);
                  return (
                    "UTC" === f &&
                    n.setMinutes(n.getMinutes() - n.getTimezoneOffset()),
                    n
                  );
                }
              }),
              s.$formatters.push(function (e) {
                if (e && !B(e))
                  throw Ao("datefmt", "Expected `{0}` to be a date", e);
                if (g(e)) {
                  if ((d = e) && "UTC" === f) {
                    var t = 6e4 * d.getTimezoneOffset();
                    d = new Date(d.getTime() + t);
                  }
                  return u("date")(e, n, f);
                }
                return (d = null), "";
              }),
              O(a.min) || a.ngMin) &&
              ((s.$validators.min = function (e) {
                return !g(e) || P(p) || i(e) >= p;
              }),
                a.$observe("min", function (e) {
                  (p = m(e)), s.$validate();
                }));
            (O(a.max) || a.ngMax) &&
              ((s.$validators.max = function (e) {
                return !g(e) || P(h) || i(e) <= h;
              }),
                a.$observe("max", function (e) {
                  (h = m(e)), s.$validate();
                }));
            function g(e) {
              return e && !(e.getTime && e.getTime() != e.getTime());
            }
            function m(e) {
              return O(e) ? (B(e) ? e : i(e)) : void 0;
            }
          };
        }
        function Xn(e, t, i, n) {
          var o = t[0];
          (n.$$hasNativeValidators = M(o.validity)) &&
            n.$parsers.push(function (e) {
              var i = t.prop("validity") || {};
              return i.badInput && !i.typeMismatch ? void 0 : e;
            });
        }
        function Kn(e, t, i, n, r) {
          var a;
          if (O(n)) {
            if (!(a = e(n)).constant)
              throw o("ngModel")(
                "constexpr",
                "Expected constant expression for `{0}`, but saw `{1}`.",
                i,
                n
              );
            return a(t);
          }
          return r;
        }
        var Jn = [
          "$browser",
          "$sniffer",
          "$filter",
          "$parse",
          function (e, t, i, n) {
            return {
              restrict: "E",
              require: ["?ngModel"],
              link: {
                pre: function (o, r, s, l) {
                  l[0] &&
                    (qn[a(s.type)] || qn.text)(o, r, s, l[0], t, e, i, n);
                },
              },
            };
          },
        ],
          eo = /^(true|false|\d+)$/,
          to = function () {
            return {
              restrict: "A",
              priority: 100,
              compile: function (e, t) {
                return eo.test(t.ngValue)
                  ? function (e, t, i) {
                    i.$set("value", e.$eval(i.ngValue));
                  }
                  : function (e, t, i) {
                    e.$watch(i.ngValue, function (e) {
                      i.$set("value", e);
                    });
                  };
              },
            };
          },
          io = [
            "$compile",
            function (e) {
              return {
                restrict: "AC",
                compile: function (t) {
                  return (
                    e.$$addBindingClass(t),
                    function (t, i, n) {
                      e.$$addBindingInfo(i, n.ngBind),
                        (i = i[0]),
                        t.$watch(n.ngBind, function (e) {
                          i.textContent = void 0 === e ? "" : e;
                        });
                    }
                  );
                },
              };
            },
          ],
          no = [
            "$interpolate",
            "$compile",
            function (e, t) {
              return {
                compile: function (i) {
                  return (
                    t.$$addBindingClass(i),
                    function (i, n, o) {
                      var r = e(n.attr(o.$attr.ngBindTemplate));
                      t.$$addBindingInfo(n, r.expressions),
                        (n = n[0]),
                        o.$observe("ngBindTemplate", function (e) {
                          n.textContent = void 0 === e ? "" : e;
                        });
                    }
                  );
                },
              };
            },
          ],
          oo = [
            "$sce",
            "$parse",
            "$compile",
            function (e, t, i) {
              return {
                restrict: "A",
                compile: function (n, o) {
                  var r = t(o.ngBindHtml),
                    a = t(o.ngBindHtml, function (e) {
                      return (e || "").toString();
                    });
                  return (
                    i.$$addBindingClass(n),
                    function (t, n, o) {
                      i.$$addBindingInfo(n, o.ngBindHtml),
                        t.$watch(a, function () {
                          n.html(e.getTrustedHtml(r(t)) || "");
                        });
                    }
                  );
                },
              };
            },
          ],
          ro = I({
            restrict: "A",
            require: "ngModel",
            link: function (e, t, i, n) {
              n.$viewChangeListeners.push(function () {
                e.$eval(i.ngChange);
              });
            },
          });
        function ao(e, t) {
          return (
            (e = "ngClass" + e),
            [
              "$animate",
              function (i) {
                return {
                  restrict: "AC",
                  link: function (r, a, s) {
                    var l;
                    function c(e) {
                      var t = u(e, 1);
                      s.$addClass(t);
                    }
                    function u(e, t) {
                      var i = a.data("$classCounts") || {},
                        n = [];
                      return (
                        w(e, function (e) {
                          (t > 0 || i[e]) &&
                            ((i[e] = (i[e] || 0) + t),
                              i[e] === +(t > 0) && n.push(e));
                        }),
                        a.data("$classCounts", i),
                        n.join(" ")
                      );
                    }
                    function d(e) {
                      if (!0 === t || r.$index % 2 === t) {
                        var s = o(e || []);
                        if (l) {
                          if (!K(e, l)) {
                            !(function (e, t) {
                              var o = n(t, e),
                                r = n(e, t);
                              (o = u(o, 1)),
                                (r = u(r, -1)),
                                o && o.length && i.addClass(a, o),
                                r && r.length && i.removeClass(a, r);
                            })(o(l), s);
                          }
                        } else c(s);
                      }
                      l = X(e);
                    }
                    r.$watch(s[e], d, !0),
                      s.$observe("class", function (t) {
                        d(r.$eval(s[e]));
                      }),
                      "ngClass" !== e &&
                      r.$watch("$index", function (i, n) {
                        var a = 1 & i;
                        if (a !== (1 & n)) {
                          var l = o(r.$eval(s[e]));
                          a === t
                            ? c(l)
                            : (function (e) {
                              var t = u(e, -1);
                              s.$removeClass(t);
                            })(l);
                        }
                      });
                  },
                };
                function n(e, t) {
                  var i = [];
                  e: for (var n = 0; n < e.length; n++) {
                    for (var o = e[n], r = 0; r < t.length; r++)
                      if (o == t[r]) continue e;
                    i.push(o);
                  }
                  return i;
                }
                function o(e) {
                  if (z(e)) return e;
                  if (N(e)) return e.split(" ");
                  if (M(e)) {
                    var t = [];
                    return (
                      w(e, function (e, i) {
                        e && (t = t.concat(i.split(" ")));
                      }),
                      t
                    );
                  }
                  return e;
                }
              },
            ]
          );
        }
        var so = ao("", !0),
          lo = ao("Odd", 0),
          co = ao("Even", 1),
          uo = Ln({
            compile: function (e, t) {
              t.$set("ngCloak", void 0), e.removeClass("ng-cloak");
            },
          }),
          po = [
            function () {
              return {
                restrict: "A",
                scope: !0,
                controller: "@",
                priority: 500,
              };
            },
          ],
          ho = {},
          fo = { blur: !0, focus: !0 };
        w(
          "click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(
            " "
          ),
          function (e) {
            var t = Mt("ng-" + e);
            ho[t] = [
              "$parse",
              "$rootScope",
              function (i, n) {
                return {
                  restrict: "A",
                  compile: function (o, r) {
                    var a = i(r[t], null, !0);
                    return function (t, i) {
                      i.on(e, function (i) {
                        var o = function () {
                          a(t, { $event: i });
                        };
                        fo[e] && n.$$phase ? t.$evalAsync(o) : t.$apply(o);
                      });
                    };
                  },
                };
              },
            ];
          }
        );
        var go = [
          "$animate",
          function (e) {
            return {
              multiElement: !0,
              transclude: "element",
              priority: 600,
              terminal: !0,
              restrict: "A",
              $$tlb: !0,
              link: function (t, n, o, r, a) {
                var s, l, c;
                t.$watch(o.ngIf, function (t) {
                  t
                    ? l ||
                    a(function (t, r) {
                      (l = r),
                        (t[t.length++] = i.createComment(
                          " end ngIf: " + o.ngIf + " "
                        )),
                        (s = { clone: t }),
                        e.enter(t, n.parent(), n);
                    })
                    : (c && (c.remove(), (c = null)),
                      l && (l.$destroy(), (l = null)),
                      s &&
                      ((c = Se(s.clone)),
                        e.leave(c).then(function () {
                          c = null;
                        }),
                        (s = null)));
                });
              },
            };
          },
        ],
          mo = [
            "$templateRequest",
            "$anchorScroll",
            "$animate",
            "$sce",
            function (e, t, i, n) {
              return {
                restrict: "ECA",
                priority: 400,
                terminal: !0,
                transclude: "element",
                controller: b.noop,
                compile: function (o, r) {
                  var a = r.ngInclude || r.src,
                    s = r.onload || "",
                    l = r.autoscroll;
                  return function (o, r, c, u, d) {
                    var p,
                      h,
                      f,
                      g = 0,
                      m = function () {
                        h && (h.remove(), (h = null)),
                          p && (p.$destroy(), (p = null)),
                          f &&
                          (i.leave(f).then(function () {
                            h = null;
                          }),
                            (h = f),
                            (f = null));
                      };
                    o.$watch(n.parseAsResourceUrl(a), function (n) {
                      var a = function () {
                        !O(l) || (l && !o.$eval(l)) || t();
                      },
                        c = ++g;
                      n
                        ? (e(n, !0).then(
                          function (e) {
                            if (c === g) {
                              var t = o.$new();
                              u.template = e;
                              var l = d(t, function (e) {
                                m(), i.enter(e, null, r).then(a);
                              });
                              (f = l),
                                (p = t).$emit("$includeContentLoaded", n),
                                o.$eval(s);
                            }
                          },
                          function () {
                            c === g &&
                              (m(), o.$emit("$includeContentError", n));
                          }
                        ),
                          o.$emit("$includeContentRequested", n))
                        : (m(), (u.template = null));
                    });
                  };
                },
              };
            },
          ],
          vo = [
            "$compile",
            function (e) {
              return {
                restrict: "ECA",
                priority: -400,
                require: "ngInclude",
                link: function (t, n, o, r) {
                  if (/SVG/.test(n[0].toString()))
                    return (
                      n.empty(),
                      void e(Qe(r.template, i).childNodes)(
                        t,
                        function (e) {
                          n.append(e);
                        },
                        { futureParentElement: n }
                      )
                    );
                  n.html(r.template), e(n.contents())(t);
                },
              };
            },
          ],
          bo = Ln({
            priority: 450,
            compile: function () {
              return {
                pre: function (e, t, i) {
                  e.$eval(i.ngInit);
                },
              };
            },
          }),
          yo = function () {
            return {
              restrict: "A",
              priority: 100,
              require: "ngModel",
              link: function (e, t, i, n) {
                var o = t.attr(i.$attr.ngList) || ", ",
                  r = "false" !== i.ngTrim,
                  a = r ? W(o) : o;
                n.$parsers.push(function (e) {
                  if (!P(e)) {
                    var t = [];
                    return (
                      e &&
                      w(e.split(a), function (e) {
                        e && t.push(r ? W(e) : e);
                      }),
                      t
                    );
                  }
                }),
                  n.$formatters.push(function (e) {
                    if (z(e)) return e.join(o);
                  }),
                  (n.$isEmpty = function (e) {
                    return !e || !e.length;
                  });
              },
            };
          },
          xo = "ng-valid",
          wo = "ng-pristine",
          _o = "ng-dirty",
          Ao = new o("ngModel"),
          Eo = [
            "$scope",
            "$exceptionHandler",
            "$attrs",
            "$element",
            "$parse",
            "$animate",
            "$timeout",
            "$rootScope",
            "$q",
            "$interpolate",
            function (e, t, i, n, o, r, a, s, l, c) {
              (this.$viewValue = Number.NaN),
                (this.$modelValue = Number.NaN),
                (this.$$rawModelValue = void 0),
                (this.$validators = {}),
                (this.$asyncValidators = {}),
                (this.$parsers = []),
                (this.$formatters = []),
                (this.$viewChangeListeners = []),
                (this.$untouched = !0),
                (this.$touched = !1),
                (this.$pristine = !0),
                (this.$dirty = !1),
                (this.$valid = !0),
                (this.$invalid = !1),
                (this.$error = {}),
                (this.$$success = {}),
                (this.$pending = void 0),
                (this.$name = c(i.name || "", !1)(e));
              var u,
                d = o(i.ngModel),
                p = d.assign,
                h = d,
                f = p,
                g = null,
                m = this;
              (this.$$setOptions = function (e) {
                if (((m.$options = e), e && e.getterSetter)) {
                  var t = o(i.ngModel + "()"),
                    r = o(i.ngModel + "($$$p)");
                  (h = function (e) {
                    var i = d(e);
                    return $(i) && (i = t(e)), i;
                  }),
                    (f = function (e, t) {
                      $(d(e))
                        ? r(e, { $$$p: m.$modelValue })
                        : p(e, m.$modelValue);
                    });
                } else if (!d.assign)
                  throw Ao(
                    "nonassign",
                    "Expression '{0}' is non-assignable. Element: {1}",
                    i.ngModel,
                    ae(n)
                  );
              }),
                (this.$render = L),
                (this.$isEmpty = function (e) {
                  return P(e) || "" === e || null === e || e != e;
                });
              var v = n.inheritedData("$formController") || Pn,
                b = 0;
              ko({
                ctrl: this,
                $element: n,
                set: function (e, t) {
                  e[t] = !0;
                },
                unset: function (e, t) {
                  delete e[t];
                },
                parentForm: v,
                $animate: r,
              }),
                (this.$setPristine = function () {
                  (m.$dirty = !1),
                    (m.$pristine = !0),
                    r.removeClass(n, _o),
                    r.addClass(n, wo);
                }),
                (this.$setDirty = function () {
                  (m.$dirty = !0),
                    (m.$pristine = !1),
                    r.removeClass(n, wo),
                    r.addClass(n, _o),
                    v.$setDirty();
                }),
                (this.$setUntouched = function () {
                  (m.$touched = !1),
                    (m.$untouched = !0),
                    r.setClass(n, "ng-untouched", "ng-touched");
                }),
                (this.$setTouched = function () {
                  (m.$touched = !0),
                    (m.$untouched = !1),
                    r.setClass(n, "ng-touched", "ng-untouched");
                }),
                (this.$rollbackViewValue = function () {
                  a.cancel(g),
                    (m.$viewValue = m.$$lastCommittedViewValue),
                    m.$render();
                }),
                (this.$validate = function () {
                  if (!R(m.$modelValue) || !isNaN(m.$modelValue)) {
                    var e = m.$$lastCommittedViewValue,
                      t = m.$$rawModelValue,
                      i = m.$valid,
                      n = m.$modelValue,
                      o = m.$options && m.$options.allowInvalid;
                    m.$$runValidators(t, e, function (e) {
                      o ||
                        i === e ||
                        ((m.$modelValue = e ? t : void 0),
                          m.$modelValue !== n && m.$$writeModelToScope());
                    });
                  }
                }),
                (this.$$runValidators = function (e, t, i) {
                  var n,
                    o,
                    r = ++b;
                  (function () {
                    var e = m.$$parserName || "parse";
                    if (void 0 !== u)
                      return (
                        u ||
                        (w(m.$validators, function (e, t) {
                          a(t, null);
                        }),
                          w(m.$asyncValidators, function (e, t) {
                            a(t, null);
                          })),
                        a(e, u),
                        u
                      );
                    a(e, null);
                    return !0;
                  })()
                    ? !(function () {
                      var i = !0;
                      if (
                        (w(m.$validators, function (n, o) {
                          var r = n(e, t);
                          (i = i && r), a(o, r);
                        }),
                          !i)
                      )
                        return (
                          w(m.$asyncValidators, function (e, t) {
                            a(t, null);
                          }),
                          !1
                        );
                      return !0;
                    })()
                      ? s(!1)
                      : ((n = []),
                        (o = !0),
                        w(m.$asyncValidators, function (i, r) {
                          var s = i(e, t);
                          if (!U(s))
                            throw Ao(
                              "$asyncValidators",
                              "Expected asynchronous validator to return a promise but got '{0}' instead.",
                              s
                            );
                          a(r, void 0),
                            n.push(
                              s.then(
                                function () {
                                  a(r, !0);
                                },
                                function (e) {
                                  (o = !1), a(r, !1);
                                }
                              )
                            );
                        }),
                        n.length
                          ? l.all(n).then(function () {
                            s(o);
                          }, L)
                          : s(!0))
                    : s(!1);
                  function a(e, t) {
                    r === b && m.$setValidity(e, t);
                  }
                  function s(e) {
                    r === b && i(e);
                  }
                }),
                (this.$commitViewValue = function () {
                  var e = m.$viewValue;
                  a.cancel(g),
                    (m.$$lastCommittedViewValue !== e ||
                      ("" === e && m.$$hasNativeValidators)) &&
                    ((m.$$lastCommittedViewValue = e),
                      m.$pristine && this.$setDirty(),
                      this.$$parseAndValidate());
                }),
                (this.$$parseAndValidate = function () {
                  var t = m.$$lastCommittedViewValue;
                  if ((u = !P(t) || void 0))
                    for (var i = 0; i < m.$parsers.length; i++)
                      if (P((t = m.$parsers[i](t)))) {
                        u = !1;
                        break;
                      }
                  R(m.$modelValue) &&
                    isNaN(m.$modelValue) &&
                    (m.$modelValue = h(e));
                  var n = m.$modelValue,
                    o = m.$options && m.$options.allowInvalid;
                  function r() {
                    m.$modelValue !== n && m.$$writeModelToScope();
                  }
                  (m.$$rawModelValue = t),
                    o && ((m.$modelValue = t), r()),
                    m.$$runValidators(
                      t,
                      m.$$lastCommittedViewValue,
                      function (e) {
                        o || ((m.$modelValue = e ? t : void 0), r());
                      }
                    );
                }),
                (this.$$writeModelToScope = function () {
                  f(e, m.$modelValue),
                    w(m.$viewChangeListeners, function (e) {
                      try {
                        e();
                      } catch (e) {
                        t(e);
                      }
                    });
                }),
                (this.$setViewValue = function (e, t) {
                  (m.$viewValue = e),
                    (m.$options && !m.$options.updateOnDefault) ||
                    m.$$debounceViewValueCommit(t);
                }),
                (this.$$debounceViewValueCommit = function (t) {
                  var i,
                    n = 0,
                    o = m.$options;
                  o &&
                    O(o.debounce) &&
                    (R((i = o.debounce))
                      ? (n = i)
                      : R(i[t])
                        ? (n = i[t])
                        : R(i.default) && (n = i.default)),
                    a.cancel(g),
                    n
                      ? (g = a(function () {
                        m.$commitViewValue();
                      }, n))
                      : s.$$phase
                        ? m.$commitViewValue()
                        : e.$apply(function () {
                          m.$commitViewValue();
                        });
                }),
                e.$watch(function () {
                  var t = h(e);
                  if (t !== m.$modelValue) {
                    (m.$modelValue = m.$$rawModelValue = t), (u = void 0);
                    for (var i = m.$formatters, n = i.length, o = t; n--;)
                      o = i[n](o);
                    m.$viewValue !== o &&
                      ((m.$viewValue = m.$$lastCommittedViewValue = o),
                        m.$render(),
                        m.$$runValidators(t, o, L));
                  }
                  return t;
                });
            },
          ],
          So = [
            "$rootScope",
            function (e) {
              return {
                restrict: "A",
                require: ["ngModel", "^?form", "^?ngModelOptions"],
                controller: Eo,
                priority: 1,
                compile: function (t) {
                  return (
                    t.addClass(wo).addClass("ng-untouched").addClass(xo),
                    {
                      pre: function (e, t, i, n) {
                        var o = n[0],
                          r = n[1] || Pn;
                        o.$$setOptions(n[2] && n[2].$options),
                          r.$addControl(o),
                          i.$observe("name", function (e) {
                            o.$name !== e && r.$$renameControl(o, e);
                          }),
                          e.$on("$destroy", function () {
                            r.$removeControl(o);
                          });
                      },
                      post: function (t, i, n, o) {
                        var r = o[0];
                        r.$options &&
                          r.$options.updateOn &&
                          i.on(r.$options.updateOn, function (e) {
                            r.$$debounceViewValueCommit(e && e.type);
                          }),
                          i.on("blur", function (i) {
                            r.$touched ||
                              (e.$$phase
                                ? t.$evalAsync(r.$setTouched)
                                : t.$apply(r.$setTouched));
                          });
                      },
                    }
                  );
                },
              };
            },
          ],
          To = /(\s+|^)default(\s+|$)/,
          Co = function () {
            return {
              restrict: "A",
              controller: [
                "$scope",
                "$attrs",
                function (e, t) {
                  var i = this;
                  (this.$options = e.$eval(t.ngModelOptions)),
                    void 0 !== this.$options.updateOn
                      ? ((this.$options.updateOnDefault = !1),
                        (this.$options.updateOn = W(
                          this.$options.updateOn.replace(To, function () {
                            return (i.$options.updateOnDefault = !0), " ";
                          })
                        )))
                      : (this.$options.updateOnDefault = !0);
                },
              ],
            };
          };
        function ko(e) {
          var t = e.ctrl,
            i = e.$element,
            n = {},
            o = e.set,
            r = e.unset,
            a = e.parentForm,
            s = e.$animate;
          function l(e, t) {
            t && !n[e]
              ? (s.addClass(i, e), (n[e] = !0))
              : !t && n[e] && (s.removeClass(i, e), (n[e] = !1));
          }
          function c(e, t) {
            (e = e ? "-" + be(e, "-") : ""),
              l(xo + e, !0 === t),
              l("ng-invalid" + e, !1 === t);
          }
          (n["ng-invalid"] = !(n[xo] = i.hasClass(xo))),
            (t.$setValidity = function (e, i, n) {
              void 0 === i
                ? (function (e, i, n) {
                  t[e] || (t[e] = {});
                  o(t[e], i, n);
                })("$pending", e, n)
                : (function (e, i, n) {
                  t[e] && r(t[e], i, n);
                  Lo(t[e]) && (t[e] = void 0);
                })("$pending", e, n);
              F(i)
                ? i
                  ? (r(t.$error, e, n), o(t.$$success, e, n))
                  : (o(t.$error, e, n), r(t.$$success, e, n))
                : (r(t.$error, e, n), r(t.$$success, e, n));
              t.$pending
                ? (l("ng-pending", !0),
                  (t.$valid = t.$invalid = void 0),
                  c("", null))
                : (l("ng-pending", !1),
                  (t.$valid = Lo(t.$error)),
                  (t.$invalid = !t.$valid),
                  c("", t.$valid));
              var s;
              s =
                t.$pending && t.$pending[e]
                  ? void 0
                  : !t.$error[e] && (!!t.$$success[e] || null);
              c(e, s), a.$setValidity(e, s, t);
            });
        }
        function Lo(e) {
          if (e) for (var t in e) return !1;
          return !0;
        }
        var Do,
          Io = Ln({ terminal: !0, priority: 1e3 }),
          Po = [
            "$locale",
            "$interpolate",
            function (e, t) {
              var i = /{}/g,
                n = /^when(Minus)?(.+)$/;
              return {
                restrict: "EA",
                link: function (o, r, s) {
                  var l,
                    c = s.count,
                    u = s.$attr.when && r.attr(s.$attr.when),
                    d = s.offset || 0,
                    p = o.$eval(u) || {},
                    h = {},
                    f = t.startSymbol(),
                    g = t.endSymbol(),
                    m = f + c + "-" + d + g,
                    v = b.noop;
                  function y(e) {
                    r.text(e || "");
                  }
                  w(s, function (e, t) {
                    var i = n.exec(t);
                    if (i) {
                      var o = (i[1] ? "-" : "") + a(i[2]);
                      p[o] = r.attr(s.$attr[t]);
                    }
                  }),
                    w(p, function (e, n) {
                      h[n] = t(e.replace(i, m));
                    }),
                    o.$watch(c, function (t) {
                      var i = parseFloat(t),
                        n = isNaN(i);
                      n || i in p || (i = e.pluralCat(i - d)),
                        i === l ||
                        (n && isNaN(l)) ||
                        (v(), (v = o.$watch(h[i], y)), (l = i));
                    });
                },
              };
            },
          ],
          Oo = [
            "$parse",
            "$animate",
            function (e, t) {
              var n = o("ngRepeat"),
                r = function (e, t, i, n, o, r, a) {
                  (e[i] = n),
                    o && (e[o] = r),
                    (e.$index = t),
                    (e.$first = 0 === t),
                    (e.$last = t === a - 1),
                    (e.$middle = !(e.$first || e.$last)),
                    (e.$odd = !(e.$even = 0 == (1 & t)));
                },
                a = function (e) {
                  return e.clone[0];
                },
                s = function (e) {
                  return e.clone[e.clone.length - 1];
                };
              return {
                restrict: "A",
                multiElement: !0,
                transclude: "element",
                priority: 1e3,
                terminal: !0,
                $$tlb: !0,
                compile: function (o, l) {
                  var c = l.ngRepeat,
                    d = i.createComment(" end ngRepeat: " + c + " "),
                    p = c.match(
                      /^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/
                    );
                  if (!p)
                    throw n(
                      "iexp",
                      "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",
                      c
                    );
                  var h = p[1],
                    f = p[2],
                    g = p[3],
                    m = p[4];
                  if (
                    !(p = h.match(
                      /^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/
                    ))
                  )
                    throw n(
                      "iidexp",
                      "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",
                      h
                    );
                  var v,
                    b,
                    y,
                    _,
                    A = p[3] || p[1],
                    E = p[2];
                  if (
                    g &&
                    (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g) ||
                      /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(
                        g
                      ))
                  )
                    throw n(
                      "badident",
                      "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",
                      g
                    );
                  var S = { $id: gt };
                  return (
                    m
                      ? (v = e(m))
                      : ((y = function (e, t) {
                        return gt(t);
                      }),
                        (_ = function (e) {
                          return e;
                        })),
                    function (e, i, o, l, p) {
                      v &&
                        (b = function (t, i, n) {
                          return (
                            E && (S[E] = t), (S[A] = i), (S.$index = n), v(e, S)
                          );
                        });
                      var h = Te();
                      e.$watchCollection(f, function (o) {
                        var l,
                          f,
                          m,
                          v,
                          S,
                          T,
                          C,
                          k,
                          L,
                          D,
                          I,
                          P,
                          O = i[0],
                          M = Te();
                        if ((g && (e[g] = o), x(o))) (L = o), (k = b || y);
                        else {
                          for (var N in ((k = b || _), (L = []), o))
                            o.hasOwnProperty(N) &&
                              "$" != N.charAt(0) &&
                              L.push(N);
                          L.sort();
                        }
                        for (v = L.length, I = new Array(v), l = 0; l < v; l++)
                          if (
                            ((S = o === L ? l : L[l]),
                              (T = o[S]),
                              (C = k(S, T, l)),
                              h[C])
                          )
                            (D = h[C]), delete h[C], (M[C] = D), (I[l] = D);
                          else {
                            if (M[C])
                              throw (
                                (w(I, function (e) {
                                  e && e.scope && (h[e.id] = e);
                                }),
                                  n(
                                    "dupes",
                                    "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",
                                    c,
                                    C,
                                    T
                                  ))
                              );
                            (I[l] = { id: C, scope: void 0, clone: void 0 }),
                              (M[C] = !0);
                          }
                        for (var R in h) {
                          if (
                            ((P = Se((D = h[R]).clone)),
                              t.leave(P),
                              P[0].parentNode)
                          )
                            for (l = 0, f = P.length; l < f; l++)
                              P[l].$$NG_REMOVED = !0;
                          D.scope.$destroy();
                        }
                        for (l = 0; l < v; l++)
                          if (
                            ((S = o === L ? l : L[l]),
                              (T = o[S]),
                              (D = I[l]).scope)
                          ) {
                            m = O;
                            do {
                              m = m.nextSibling;
                            } while (m && m.$$NG_REMOVED);
                            a(D) != m && t.move(Se(D.clone), null, u(O)),
                              (O = s(D)),
                              r(D.scope, l, A, T, E, S, v);
                          } else
                            p(function (e, i) {
                              D.scope = i;
                              var n = d.cloneNode(!1);
                              (e[e.length++] = n),
                                t.enter(e, null, u(O)),
                                (O = n),
                                (D.clone = e),
                                (M[D.id] = D),
                                r(D.scope, l, A, T, E, S, v);
                            });
                        h = M;
                      });
                    }
                  );
                },
              };
            },
          ],
          Mo = [
            "$animate",
            function (e) {
              return {
                restrict: "A",
                multiElement: !0,
                link: function (t, i, n) {
                  t.$watch(n.ngShow, function (t) {
                    e[t ? "removeClass" : "addClass"](i, "ng-hide", {
                      tempClasses: "ng-hide-animate",
                    });
                  });
                },
              };
            },
          ],
          No = [
            "$animate",
            function (e) {
              return {
                restrict: "A",
                multiElement: !0,
                link: function (t, i, n) {
                  t.$watch(n.ngHide, function (t) {
                    e[t ? "addClass" : "removeClass"](i, "ng-hide", {
                      tempClasses: "ng-hide-animate",
                    });
                  });
                },
              };
            },
          ],
          Ro = Ln(function (e, t, i) {
            e.$watchCollection(i.ngStyle, function (e, i) {
              i &&
                e !== i &&
                w(i, function (e, i) {
                  t.css(i, "");
                }),
                e && t.css(e);
            });
          }),
          Bo = [
            "$animate",
            function (e) {
              return {
                restrict: "EA",
                require: "ngSwitch",
                controller: [
                  "$scope",
                  function () {
                    this.cases = {};
                  },
                ],
                link: function (t, n, o, r) {
                  var a = o.ngSwitch || o.on,
                    s = [],
                    l = [],
                    c = [],
                    u = [],
                    d = function (e, t) {
                      return function () {
                        e.splice(t, 1);
                      };
                    };
                  t.$watch(a, function (t) {
                    var n, o;
                    for (n = 0, o = c.length; n < o; ++n) e.cancel(c[n]);
                    for (c.length = 0, n = 0, o = u.length; n < o; ++n) {
                      var a = Se(l[n].clone);
                      u[n].$destroy(), (c[n] = e.leave(a)).then(d(c, n));
                    }
                    (l.length = 0),
                      (u.length = 0),
                      (s = r.cases["!" + t] || r.cases["?"]) &&
                      w(s, function (t) {
                        t.transclude(function (n, o) {
                          u.push(o);
                          var r = t.element;
                          n[n.length++] = i.createComment(
                            " end ngSwitchWhen: "
                          );
                          var a = { clone: n };
                          l.push(a), e.enter(n, r.parent(), r);
                        });
                      });
                  });
                },
              };
            },
          ],
          zo = Ln({
            transclude: "element",
            priority: 1200,
            require: "^ngSwitch",
            multiElement: !0,
            link: function (e, t, i, n, o) {
              (n.cases["!" + i.ngSwitchWhen] =
                n.cases["!" + i.ngSwitchWhen] || []),
                n.cases["!" + i.ngSwitchWhen].push({
                  transclude: o,
                  element: t,
                });
            },
          }),
          $o = Ln({
            transclude: "element",
            priority: 1200,
            require: "^ngSwitch",
            multiElement: !0,
            link: function (e, t, i, n, o) {
              (n.cases["?"] = n.cases["?"] || []),
                n.cases["?"].push({ transclude: o, element: t });
            },
          }),
          Ho = Ln({
            restrict: "EAC",
            link: function (e, t, i, n, r) {
              if (!r)
                throw o("ngTransclude")(
                  "orphan",
                  "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",
                  ae(t)
                );
              r(function (e) {
                t.empty(), t.append(e);
              });
            },
          }),
          Vo = [
            "$templateCache",
            function (e) {
              return {
                restrict: "E",
                terminal: !0,
                compile: function (t, i) {
                  if ("text/ng-template" == i.type) {
                    var n = i.id,
                      o = t[0].text;
                    e.put(n, o);
                  }
                },
              };
            },
          ],
          jo = o("ngOptions"),
          Fo = I({ restrict: "A", terminal: !0 }),
          Uo = [
            "$compile",
            "$parse",
            function (e, t) {
              var n =
                /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
                o = { $setViewValue: L };
              return {
                restrict: "E",
                require: ["select", "?ngModel"],
                controller: [
                  "$element",
                  "$scope",
                  "$attrs",
                  function (e, t, i) {
                    var n,
                      r = this,
                      a = {},
                      s = o;
                    (r.databound = i.ngModel),
                      (r.init = function (e, t, i) {
                        (s = e), t, (n = i);
                      }),
                      (r.addOption = function (t, i) {
                        Ae(t, '"option value"'),
                          (a[t] = !0),
                          s.$viewValue == t &&
                          (e.val(t), n.parent() && n.remove()),
                          i &&
                          i[0].hasAttribute("selected") &&
                          (i[0].selected = !0);
                      }),
                      (r.removeOption = function (e) {
                        this.hasOption(e) &&
                          (delete a[e],
                            s.$viewValue === e && this.renderUnknownOption(e));
                      }),
                      (r.renderUnknownOption = function (t) {
                        var i = "? " + gt(t) + " ?";
                        n.val(i),
                          e.prepend(n),
                          e.val(i),
                          n.prop("selected", !0);
                      }),
                      (r.hasOption = function (e) {
                        return a.hasOwnProperty(e);
                      }),
                      t.$on("$destroy", function () {
                        r.renderUnknownOption = L;
                      });
                  },
                ],
                link: function (o, r, a, s) {
                  if (s[1]) {
                    for (
                      var l,
                      d = s[0],
                      p = s[1],
                      h = a.multiple,
                      f = a.ngOptions,
                      g = !1,
                      m = !1,
                      v = u(i.createElement("option")),
                      b = u(i.createElement("optgroup")),
                      y = v.clone(),
                      x = 0,
                      A = r.children(),
                      E = A.length;
                      x < E;
                      x++
                    )
                      if ("" === A[x].value) {
                        l = g = A.eq(x);
                        break;
                      }
                    d.init(p, g, y),
                      h &&
                      (p.$isEmpty = function (e) {
                        return !e || 0 === e.length;
                      }),
                      f
                        ? (function (i, o, r) {
                          var a;
                          if (!(a = f.match(n)))
                            throw jo(
                              "iexp",
                              "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",
                              f,
                              ae(o)
                            );
                          var s = t(a[2] || a[1]),
                            l = a[4] || a[6],
                            u = / as /.test(a[0]) && a[1],
                            p = u ? t(u) : null,
                            y = a[5],
                            x = t(a[3] || ""),
                            A = t(a[2] ? a[1] : l),
                            E = t(a[7]),
                            S = a[8] ? t(a[8]) : null,
                            T = {},
                            C = [[{ element: o, label: "" }]],
                            k = {};
                          g &&
                            (e(g)(i), g.removeClass("ng-scope"), g.remove());
                          o.empty(),
                            o.on("change", D),
                            (r.$render = R),
                            i.$watchCollection(E, M),
                            i.$watchCollection(P, M),
                            h &&
                            i.$watchCollection(function () {
                              return r.$modelValue;
                            }, M);
                          function L(e, t, n) {
                            return (k[l] = n), y && (k[y] = t), e(i, k);
                          }
                          function D() {
                            i.$apply(function () {
                              var e,
                                t = E(i) || [];
                              if (h)
                                (e = []),
                                  w(o.val(), function (i) {
                                    (i = S ? T[i] : i), e.push(I(i, t[i]));
                                  });
                              else {
                                var n = S ? T[o.val()] : o.val();
                                e = I(n, t[n]);
                              }
                              r.$setViewValue(e), R();
                            });
                          }
                          function I(e, t) {
                            if ("?" !== e)
                              return "" === e ? null : L(p || A, e, t);
                          }
                          function P() {
                            var e,
                              t = E(i);
                            if (t && z(t)) {
                              e = new Array(t.length);
                              for (var n = 0, o = t.length; n < o; n++)
                                e[n] = L(s, n, t[n]);
                              return e;
                            }
                            if (t)
                              for (var r in ((e = {}), t))
                                t.hasOwnProperty(r) && (e[r] = L(s, r, t[r]));
                            return e;
                          }
                          function M() {
                            m || (i.$$postDigest(R), (m = !0));
                          }
                          function N(e, t, i) {
                            (e[t] = e[t] || 0), (e[t] += i ? 1 : -1);
                          }
                          function R() {
                            m = !1;
                            var e,
                              t,
                              n,
                              a,
                              l,
                              u,
                              f,
                              D,
                              I,
                              P,
                              M,
                              R,
                              B,
                              $,
                              H,
                              V,
                              j,
                              F = { "": [] },
                              U = [""],
                              W = r.$viewValue,
                              q = E(i) || [],
                              Q = y ? _(q) : q,
                              G = {},
                              Y = (function (e) {
                                var t;
                                if (h)
                                  if (S && z(e)) {
                                    t = new mt([]);
                                    for (var i = 0; i < e.length; i++)
                                      t.put(L(S, null, e[i]), !0);
                                  } else t = new mt(e);
                                else S && (e = L(S, null, e));
                                return function (i, n) {
                                  var o;
                                  return (
                                    (o = S || p || A),
                                    h
                                      ? O(t.remove(L(o, i, n)))
                                      : e === L(o, i, n)
                                  );
                                };
                              })(W),
                              Z = !1;
                            for (T = {}, R = 0; R < (P = Q.length); R++)
                              (f = R),
                                (y && "$" === (f = Q[R]).charAt(0)) ||
                                ((D = q[f]),
                                  (t = F[(e = L(x, f, D) || "")]) ||
                                  ((t = F[e] = []), U.push(e)),
                                  (B = Y(f, D)),
                                  (Z = Z || B),
                                  (V = O((V = L(s, f, D))) ? V : ""),
                                  (j = S ? S(i, k) : y ? Q[R] : R),
                                  S && (T[j] = f),
                                  t.push({ id: j, label: V, selected: B }));
                            for (
                              h ||
                              (g || null === W
                                ? F[""].unshift({
                                  id: "",
                                  label: "",
                                  selected: !Z,
                                })
                                : Z ||
                                F[""].unshift({
                                  id: "?",
                                  label: "",
                                  selected: !0,
                                })),
                              M = 0,
                              I = U.length;
                              M < I;
                              M++
                            ) {
                              for (
                                t = F[(e = U[M])],
                                C.length <= M
                                  ? ((l = [
                                    (a = {
                                      element: b.clone().attr("label", e),
                                      label: t.label,
                                    }),
                                  ]),
                                    C.push(l),
                                    o.append(a.element))
                                  : (a = (l = C[M])[0]).label != e &&
                                  a.element.attr("label", (a.label = e)),
                                $ = null,
                                R = 0,
                                P = t.length;
                                R < P;
                                R++
                              )
                                (n = t[R]),
                                  (u = l[R + 1])
                                    ? (($ = u.element),
                                      u.label !== n.label &&
                                      (N(G, u.label, !1),
                                        N(G, n.label, !0),
                                        $.text((u.label = n.label)),
                                        $.prop("label", u.label)),
                                      u.id !== n.id && $.val((u.id = n.id)),
                                      $[0].selected !== n.selected &&
                                      ($.prop(
                                        "selected",
                                        (u.selected = n.selected)
                                      ),
                                        c && $.prop("selected", u.selected)))
                                    : ("" === n.id && g
                                      ? (H = g)
                                      : (H = v.clone())
                                        .val(n.id)
                                        .prop("selected", n.selected)
                                        .attr("selected", n.selected)
                                        .prop("label", n.label)
                                        .text(n.label),
                                      l.push(
                                        (u = {
                                          element: H,
                                          label: n.label,
                                          id: n.id,
                                          selected: n.selected,
                                        })
                                      ),
                                      N(G, n.label, !0),
                                      $ ? $.after(H) : a.element.append(H),
                                      ($ = H));
                              for (R++; l.length > R;)
                                N(G, (n = l.pop()).label, !1),
                                  n.element.remove();
                            }
                            for (; C.length > M;) {
                              for (t = C.pop(), R = 1; R < t.length; ++R)
                                N(G, t[R].label, !1);
                              t[0].element.remove();
                            }
                            w(G, function (e, t) {
                              e > 0
                                ? d.addOption(t)
                                : e < 0 && d.removeOption(t);
                            });
                          }
                        })(o, r, p)
                        : h
                          ? (function (e, t, i) {
                            var n;
                            (i.$render = function () {
                              var e = new mt(i.$viewValue);
                              w(t.find("option"), function (t) {
                                t.selected = O(e.get(t.value));
                              });
                            }),
                              e.$watch(function () {
                                K(n, i.$viewValue) ||
                                  ((n = X(i.$viewValue)), i.$render());
                              }),
                              t.on("change", function () {
                                e.$apply(function () {
                                  var e = [];
                                  w(t.find("option"), function (t) {
                                    t.selected && e.push(t.value);
                                  }),
                                    i.$setViewValue(e);
                                });
                              });
                          })(o, r, p)
                          : (function (e, t, i, n) {
                            (i.$render = function () {
                              var e = i.$viewValue;
                              n.hasOption(e)
                                ? (y.parent() && y.remove(),
                                  t.val(e),
                                  "" === e && l.prop("selected", !0))
                                : P(e) && l
                                  ? t.val("")
                                  : n.renderUnknownOption(e);
                            }),
                              t.on("change", function () {
                                e.$apply(function () {
                                  y.parent() && y.remove(),
                                    i.$setViewValue(t.val());
                                });
                              });
                          })(o, r, p, d);
                  }
                },
              };
            },
          ],
          Wo = [
            "$interpolate",
            function (e) {
              var t = { addOption: L, removeOption: L };
              return {
                restrict: "E",
                priority: 100,
                compile: function (i, n) {
                  if (P(n.value)) {
                    var o = e(i.text(), !0);
                    o || n.$set("value", i.text());
                  }
                  return function (e, i, n) {
                    var r = i.parent(),
                      a =
                        r.data("$selectController") ||
                        r.parent().data("$selectController");
                    (a && a.databound) || (a = t),
                      o
                        ? e.$watch(o, function (e, t) {
                          n.$set("value", e),
                            t !== e && a.removeOption(t),
                            a.addOption(e, i);
                        })
                        : a.addOption(n.value, i),
                      i.on("$destroy", function () {
                        a.removeOption(n.value);
                      });
                  };
                },
              };
            },
          ],
          qo = I({ restrict: "E", terminal: !1 }),
          Qo = function () {
            return {
              restrict: "A",
              require: "?ngModel",
              link: function (e, t, i, n) {
                n &&
                  ((i.required = !0),
                    (n.$validators.required = function (e, t) {
                      return !i.required || !n.$isEmpty(t);
                    }),
                    i.$observe("required", function () {
                      n.$validate();
                    }));
              },
            };
          },
          Go = function () {
            return {
              restrict: "A",
              require: "?ngModel",
              link: function (e, t, i, n) {
                if (n) {
                  var r,
                    a = i.ngPattern || i.pattern;
                  i.$observe("pattern", function (e) {
                    if (
                      (N(e) && e.length > 0 && (e = new RegExp("^" + e + "$")),
                        e && !e.test)
                    )
                      throw o("ngPattern")(
                        "noregexp",
                        "Expected {0} to be a RegExp but was {1}. Element: {2}",
                        a,
                        e,
                        ae(t)
                      );
                    (r = e || void 0), n.$validate();
                  }),
                    (n.$validators.pattern = function (e) {
                      return n.$isEmpty(e) || P(r) || r.test(e);
                    });
                }
              },
            };
          },
          Yo = function () {
            return {
              restrict: "A",
              require: "?ngModel",
              link: function (e, t, i, n) {
                if (n) {
                  var o = -1;
                  i.$observe("maxlength", function (e) {
                    var t = C(e);
                    (o = isNaN(t) ? -1 : t), n.$validate();
                  }),
                    (n.$validators.maxlength = function (e, t) {
                      return o < 0 || n.$isEmpty(t) || t.length <= o;
                    });
                }
              },
            };
          },
          Zo = function () {
            return {
              restrict: "A",
              require: "?ngModel",
              link: function (e, t, i, n) {
                if (n) {
                  var o = 0;
                  i.$observe("minlength", function (e) {
                    (o = C(e) || 0), n.$validate();
                  }),
                    (n.$validators.minlength = function (e, t) {
                      return n.$isEmpty(t) || t.length >= o;
                    });
                }
              },
            };
          };
        t.angular.bootstrap
          ? console.log("WARNING: Tried to load angular more than once.")
          : (xe ||
            ((d = e) && d.fn.on
              ? ((u = d),
                T(d.fn, {
                  scope: ct.scope,
                  isolateScope: ct.isolateScope,
                  controller: ct.controller,
                  injector: ct.injector,
                  inheritedData: ct.inheritedData,
                }),
                (Do = d.cleanData),
                (d.cleanData = function (e) {
                  var t;
                  if (ye) ye = !1;
                  else
                    for (var i, n = 0; null != (i = e[n]); n++)
                      (t = d._data(i, "events")) &&
                        t.$destroy &&
                        d(i).triggerHandler("$destroy");
                  Do(e);
                }))
              : (u = Ge),
              (b.element = u),
              (xe = !0)),
            (function (e) {
              T(e, {
                bootstrap: fe,
                copy: Z,
                extend: T,
                equals: K,
                element: u,
                forEach: w,
                injector: _t,
                noop: L,
                bind: ie,
                toJson: oe,
                fromJson: re,
                identity: D,
                isUndefined: P,
                isDefined: O,
                isString: N,
                isFunction: $,
                isObject: M,
                isNumber: R,
                isElement: Q,
                isArray: z,
                version: De,
                isDate: B,
                lowercase: a,
                uppercase: l,
                callbacks: { counter: 0 },
                getTestability: me,
                $$minErr: o,
                $$csp: J,
                reloadWithDebugInfo: ge,
              }),
                (p = (function (e) {
                  var t = o("$injector"),
                    i = o("ng");
                  function n(e, t, i) {
                    return e[t] || (e[t] = i());
                  }
                  var r = n(e, "angular", Object);
                  return (
                    (r.$$minErr = r.$$minErr || o),
                    n(r, "module", function () {
                      var e = {};
                      return function (o, r, a) {
                        return (
                          (function (e, t) {
                            if ("hasOwnProperty" === e)
                              throw i(
                                "badname",
                                "hasOwnProperty is not a valid {0} name",
                                t
                              );
                          })(o, "module"),
                          r && e.hasOwnProperty(o) && (e[o] = null),
                          n(e, o, function () {
                            if (!r)
                              throw t(
                                "nomod",
                                "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",
                                o
                              );
                            var e = [],
                              i = [],
                              n = [],
                              s = c("$injector", "invoke", "push", i),
                              l = {
                                _invokeQueue: e,
                                _configBlocks: i,
                                _runBlocks: n,
                                requires: r,
                                name: o,
                                provider: c("$provide", "provider"),
                                factory: c("$provide", "factory"),
                                service: c("$provide", "service"),
                                value: c("$provide", "value"),
                                constant: c("$provide", "constant", "unshift"),
                                animation: c("$animateProvider", "register"),
                                filter: c("$filterProvider", "register"),
                                controller: c(
                                  "$controllerProvider",
                                  "register"
                                ),
                                directive: c("$compileProvider", "directive"),
                                config: s,
                                run: function (e) {
                                  return n.push(e), this;
                                },
                              };
                            return a && s(a), l;
                            function c(t, i, n, o) {
                              return (
                                o || (o = e),
                                function () {
                                  return o[n || "push"]([t, i, arguments]), l;
                                }
                              );
                            }
                          })
                        );
                      };
                    })
                  );
                })(t));
              try {
                p("ngLocale");
              } catch (e) {
                p("ngLocale", []).provider("$locale", ii);
              }
              p(
                "ng",
                ["ngLocale"],
                [
                  "$provide",
                  function (e) {
                    e.provider({ $$sanitizeUri: qi }),
                      e
                        .provider("$compile", Pt)
                        .directive({
                          a: Dn,
                          input: Jn,
                          textarea: Jn,
                          form: Nn,
                          script: Vo,
                          select: Uo,
                          style: qo,
                          option: Wo,
                          ngBind: io,
                          ngBindHtml: oo,
                          ngBindTemplate: no,
                          ngClass: so,
                          ngClassEven: co,
                          ngClassOdd: lo,
                          ngCloak: uo,
                          ngController: po,
                          ngForm: Rn,
                          ngHide: No,
                          ngIf: go,
                          ngInclude: mo,
                          ngInit: bo,
                          ngNonBindable: Io,
                          ngPluralize: Po,
                          ngRepeat: Oo,
                          ngShow: Mo,
                          ngStyle: Ro,
                          ngSwitch: Bo,
                          ngSwitchWhen: zo,
                          ngSwitchDefault: $o,
                          ngOptions: Fo,
                          ngTransclude: Ho,
                          ngModel: So,
                          ngList: yo,
                          ngChange: ro,
                          pattern: Go,
                          ngPattern: Go,
                          required: Qo,
                          ngRequired: Qo,
                          minlength: Zo,
                          ngMinlength: Zo,
                          maxlength: Yo,
                          ngMaxlength: Yo,
                          ngValue: to,
                          ngModelOptions: Co,
                        })
                        .directive({ ngInclude: vo })
                        .directive(In)
                        .directive(ho),
                      e.provider({
                        $anchorScroll: At,
                        $animate: St,
                        $browser: kt,
                        $cacheFactory: Lt,
                        $controller: zt,
                        $document: $t,
                        $exceptionHandler: Ht,
                        $filter: ln,
                        $interpolate: ei,
                        $interval: ti,
                        $http: Zt,
                        $httpBackend: Kt,
                        $location: yi,
                        $log: xi,
                        $parse: Hi,
                        $rootScope: Wi,
                        $q: Vi,
                        $$q: ji,
                        $sce: Xi,
                        $sceDelegate: Zi,
                        $sniffer: Ki,
                        $templateCache: Dt,
                        $templateRequest: Ji,
                        $$testability: en,
                        $timeout: tn,
                        $window: sn,
                        $$rAF: Ui,
                        $$asyncCallback: Tt,
                        $$jqLite: ft,
                      });
                  },
                ]
              );
            })(b),
            u(i).ready(function () {
              he(i, fe);
            }));
      })(window, document),
        !window.angular.$$csp() &&
        window.angular
          .element(document)
          .find("head")
          .prepend(
            '<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'
          );
    }.call(this, i(0)));
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Disable Selection 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.fn.extend({
              disableSelection:
                ((t =
                  "onselectstart" in document.createElement("div")
                    ? "selectstart"
                    : "mousedown"),
                  function () {
                    return this.on(t + ".ui-disableSelection", function (e) {
                      e.preventDefault();
                    });
                  }),
              enableSelection: function () {
                return this.off(".ui-disableSelection");
              },
            });
            var t;
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Tabbable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(15)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.extend(e.expr[":"], {
              tabbable: function (t) {
                var i = e.attr(t, "tabindex"),
                  n = null != i;
                return (!n || i >= 0) && e.ui.focusable(t, n);
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.ui.ie = !!/msie [\w.]+/.exec(
              navigator.userAgent.toLowerCase()
            ));
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.ui.plugin = {
              add: function (t, i, n) {
                var o,
                  r = e.ui[t].prototype;
                for (o in n)
                  (r.plugins[o] = r.plugins[o] || []),
                    r.plugins[o].push([i, n[o]]);
              },
              call: function (e, t, i, n) {
                var o,
                  r = e.plugins[t];
                if (
                  r &&
                  (n ||
                    (e.element[0].parentNode &&
                      11 !== e.element[0].parentNode.nodeType))
                )
                  for (o = 0; o < r.length; o++)
                    e.options[r[o][0]] && r[o][1].apply(e.element, i);
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.ui.safeBlur = function (t) {
              t && "body" !== t.nodeName.toLowerCase() && e(t).trigger("blur");
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Resizable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(7), i(25), i(28), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (
              e.widget("ui.resizable", e.ui.mouse, {
                version: "1.12.1",
                widgetEventPrefix: "resize",
                options: {
                  alsoResize: !1,
                  animate: !1,
                  animateDuration: "slow",
                  animateEasing: "swing",
                  aspectRatio: !1,
                  autoHide: !1,
                  classes: {
                    "ui-resizable-se": "ui-icon ui-icon-gripsmall-diagonal-se",
                  },
                  containment: !1,
                  ghost: !1,
                  grid: !1,
                  handles: "e,s,se",
                  helper: !1,
                  maxHeight: null,
                  maxWidth: null,
                  minHeight: 10,
                  minWidth: 10,
                  zIndex: 90,
                  resize: null,
                  start: null,
                  stop: null,
                },
                _num: function (e) {
                  return parseFloat(e) || 0;
                },
                _isNumber: function (e) {
                  return !isNaN(parseFloat(e));
                },
                _hasScroll: function (t, i) {
                  if ("hidden" === e(t).css("overflow")) return !1;
                  var n,
                    o = i && "left" === i ? "scrollLeft" : "scrollTop";
                  return (
                    t[o] > 0 || ((t[o] = 1), (n = t[o] > 0), (t[o] = 0), n)
                  );
                },
                _create: function () {
                  var t,
                    i = this.options,
                    n = this;
                  this._addClass("ui-resizable"),
                    e.extend(this, {
                      _aspectRatio: !!i.aspectRatio,
                      aspectRatio: i.aspectRatio,
                      originalElement: this.element,
                      _proportionallyResizeElements: [],
                      _helper:
                        i.helper || i.ghost || i.animate
                          ? i.helper || "ui-resizable-helper"
                          : null,
                    }),
                    this.element[0].nodeName.match(
                      /^(canvas|textarea|input|select|button|img)$/i
                    ) &&
                    (this.element.wrap(
                      e(
                        "<div class='ui-wrapper' style='overflow: hidden;'></div>"
                      ).css({
                        position: this.element.css("position"),
                        width: this.element.outerWidth(),
                        height: this.element.outerHeight(),
                        top: this.element.css("top"),
                        left: this.element.css("left"),
                      })
                    ),
                      (this.element = this.element
                        .parent()
                        .data(
                          "ui-resizable",
                          this.element.resizable("instance")
                        )),
                      (this.elementIsWrapper = !0),
                      (t = {
                        marginTop: this.originalElement.css("marginTop"),
                        marginRight: this.originalElement.css("marginRight"),
                        marginBottom: this.originalElement.css("marginBottom"),
                        marginLeft: this.originalElement.css("marginLeft"),
                      }),
                      this.element.css(t),
                      this.originalElement.css("margin", 0),
                      (this.originalResizeStyle =
                        this.originalElement.css("resize")),
                      this.originalElement.css("resize", "none"),
                      this._proportionallyResizeElements.push(
                        this.originalElement.css({
                          position: "static",
                          zoom: 1,
                          display: "block",
                        })
                      ),
                      this.originalElement.css(t),
                      this._proportionallyResize()),
                    this._setupHandles(),
                    i.autoHide &&
                    e(this.element)
                      .on("mouseenter", function () {
                        i.disabled ||
                          (n._removeClass("ui-resizable-autohide"),
                            n._handles.show());
                      })
                      .on("mouseleave", function () {
                        i.disabled ||
                          n.resizing ||
                          (n._addClass("ui-resizable-autohide"),
                            n._handles.hide());
                      }),
                    this._mouseInit();
                },
                _destroy: function () {
                  this._mouseDestroy();
                  var t,
                    i = function (t) {
                      e(t)
                        .removeData("resizable")
                        .removeData("ui-resizable")
                        .off(".resizable")
                        .find(".ui-resizable-handle")
                        .remove();
                    };
                  return (
                    this.elementIsWrapper &&
                    (i(this.element),
                      (t = this.element),
                      this.originalElement
                        .css({
                          position: t.css("position"),
                          width: t.outerWidth(),
                          height: t.outerHeight(),
                          top: t.css("top"),
                          left: t.css("left"),
                        })
                        .insertAfter(t),
                      t.remove()),
                    this.originalElement.css(
                      "resize",
                      this.originalResizeStyle
                    ),
                    i(this.originalElement),
                    this
                  );
                },
                _setOption: function (e, t) {
                  switch ((this._super(e, t), e)) {
                    case "handles":
                      this._removeHandles(), this._setupHandles();
                  }
                },
                _setupHandles: function () {
                  var t,
                    i,
                    n,
                    o,
                    r,
                    a = this.options,
                    s = this;
                  if (
                    ((this.handles =
                      a.handles ||
                      (e(".ui-resizable-handle", this.element).length
                        ? {
                          n: ".ui-resizable-n",
                          e: ".ui-resizable-e",
                          s: ".ui-resizable-s",
                          w: ".ui-resizable-w",
                          se: ".ui-resizable-se",
                          sw: ".ui-resizable-sw",
                          ne: ".ui-resizable-ne",
                          nw: ".ui-resizable-nw",
                        }
                        : "e,s,se")),
                      (this._handles = e()),
                      this.handles.constructor === String)
                  )
                    for (
                      "all" === this.handles &&
                      (this.handles = "n,e,s,w,se,sw,ne,nw"),
                      n = this.handles.split(","),
                      this.handles = {},
                      i = 0;
                      i < n.length;
                      i++
                    )
                      (o = "ui-resizable-" + (t = e.trim(n[i]))),
                        (r = e("<div>")),
                        this._addClass(r, "ui-resizable-handle " + o),
                        r.css({ zIndex: a.zIndex }),
                        (this.handles[t] = ".ui-resizable-" + t),
                        this.element.append(r);
                  (this._renderAxis = function (t) {
                    var i, n, o, r;
                    for (i in ((t = t || this.element), this.handles))
                      this.handles[i].constructor === String
                        ? (this.handles[i] = this.element
                          .children(this.handles[i])
                          .first()
                          .show())
                        : (this.handles[i].jquery ||
                          this.handles[i].nodeType) &&
                        ((this.handles[i] = e(this.handles[i])),
                          this._on(this.handles[i], {
                            mousedown: s._mouseDown,
                          })),
                        this.elementIsWrapper &&
                        this.originalElement[0].nodeName.match(
                          /^(textarea|input|select|button)$/i
                        ) &&
                        ((n = e(this.handles[i], this.element)),
                          (r = /sw|ne|nw|se|n|s/.test(i)
                            ? n.outerHeight()
                            : n.outerWidth()),
                          (o = [
                            "padding",
                            /ne|nw|n/.test(i)
                              ? "Top"
                              : /se|sw|s/.test(i)
                                ? "Bottom"
                                : /^e$/.test(i)
                                  ? "Right"
                                  : "Left",
                          ].join("")),
                          t.css(o, r),
                          this._proportionallyResize()),
                        (this._handles = this._handles.add(this.handles[i]));
                  }),
                    this._renderAxis(this.element),
                    (this._handles = this._handles.add(
                      this.element.find(".ui-resizable-handle")
                    )),
                    this._handles.disableSelection(),
                    this._handles.on("mouseover", function () {
                      s.resizing ||
                        (this.className &&
                          (r = this.className.match(
                            /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i
                          )),
                          (s.axis = r && r[1] ? r[1] : "se"));
                    }),
                    a.autoHide &&
                    (this._handles.hide(),
                      this._addClass("ui-resizable-autohide"));
                },
                _removeHandles: function () {
                  this._handles.remove();
                },
                _mouseCapture: function (t) {
                  var i,
                    n,
                    o = !1;
                  for (i in this.handles)
                    ((n = e(this.handles[i])[0]) === t.target ||
                      e.contains(n, t.target)) &&
                      (o = !0);
                  return !this.options.disabled && o;
                },
                _mouseStart: function (t) {
                  var i,
                    n,
                    o,
                    r = this.options,
                    a = this.element;
                  return (
                    (this.resizing = !0),
                    this._renderProxy(),
                    (i = this._num(this.helper.css("left"))),
                    (n = this._num(this.helper.css("top"))),
                    r.containment &&
                    ((i += e(r.containment).scrollLeft() || 0),
                      (n += e(r.containment).scrollTop() || 0)),
                    (this.offset = this.helper.offset()),
                    (this.position = { left: i, top: n }),
                    (this.size = this._helper
                      ? {
                        width: this.helper.width(),
                        height: this.helper.height(),
                      }
                      : { width: a.width(), height: a.height() }),
                    (this.originalSize = this._helper
                      ? { width: a.outerWidth(), height: a.outerHeight() }
                      : { width: a.width(), height: a.height() }),
                    (this.sizeDiff = {
                      width: a.outerWidth() - a.width(),
                      height: a.outerHeight() - a.height(),
                    }),
                    (this.originalPosition = { left: i, top: n }),
                    (this.originalMousePosition = {
                      left: t.pageX,
                      top: t.pageY,
                    }),
                    (this.aspectRatio =
                      "number" == typeof r.aspectRatio
                        ? r.aspectRatio
                        : this.originalSize.width / this.originalSize.height ||
                        1),
                    (o = e(".ui-resizable-" + this.axis).css("cursor")),
                    e("body").css(
                      "cursor",
                      "auto" === o ? this.axis + "-resize" : o
                    ),
                    this._addClass("ui-resizable-resizing"),
                    this._propagate("start", t),
                    !0
                  );
                },
                _mouseDrag: function (t) {
                  var i,
                    n,
                    o = this.originalMousePosition,
                    r = this.axis,
                    a = t.pageX - o.left || 0,
                    s = t.pageY - o.top || 0,
                    l = this._change[r];
                  return (
                    this._updatePrevProperties(),
                    !!l &&
                    ((i = l.apply(this, [t, a, s])),
                      this._updateVirtualBoundaries(t.shiftKey),
                      (this._aspectRatio || t.shiftKey) &&
                      (i = this._updateRatio(i, t)),
                      (i = this._respectSize(i, t)),
                      this._updateCache(i),
                      this._propagate("resize", t),
                      (n = this._applyChanges()),
                      !this._helper &&
                      this._proportionallyResizeElements.length &&
                      this._proportionallyResize(),
                      e.isEmptyObject(n) ||
                      (this._updatePrevProperties(),
                        this._trigger("resize", t, this.ui()),
                        this._applyChanges()),
                      !1)
                  );
                },
                _mouseStop: function (t) {
                  this.resizing = !1;
                  var i,
                    n,
                    o,
                    r,
                    a,
                    s,
                    l,
                    c = this.options;
                  return (
                    this._helper &&
                    ((o =
                      (n =
                        (i = this._proportionallyResizeElements).length &&
                        /textarea/i.test(i[0].nodeName)) &&
                        this._hasScroll(i[0], "left")
                        ? 0
                        : this.sizeDiff.height),
                      (r = n ? 0 : this.sizeDiff.width),
                      (a = {
                        width: this.helper.width() - r,
                        height: this.helper.height() - o,
                      }),
                      (s =
                        parseFloat(this.element.css("left")) +
                        (this.position.left - this.originalPosition.left) ||
                        null),
                      (l =
                        parseFloat(this.element.css("top")) +
                        (this.position.top - this.originalPosition.top) ||
                        null),
                      c.animate ||
                      this.element.css(e.extend(a, { top: l, left: s })),
                      this.helper.height(this.size.height),
                      this.helper.width(this.size.width),
                      this._helper &&
                      !c.animate &&
                      this._proportionallyResize()),
                    e("body").css("cursor", "auto"),
                    this._removeClass("ui-resizable-resizing"),
                    this._propagate("stop", t),
                    this._helper && this.helper.remove(),
                    !1
                  );
                },
                _updatePrevProperties: function () {
                  (this.prevPosition = {
                    top: this.position.top,
                    left: this.position.left,
                  }),
                    (this.prevSize = {
                      width: this.size.width,
                      height: this.size.height,
                    });
                },
                _applyChanges: function () {
                  var e = {};
                  return (
                    this.position.top !== this.prevPosition.top &&
                    (e.top = this.position.top + "px"),
                    this.position.left !== this.prevPosition.left &&
                    (e.left = this.position.left + "px"),
                    this.size.width !== this.prevSize.width &&
                    (e.width = this.size.width + "px"),
                    this.size.height !== this.prevSize.height &&
                    (e.height = this.size.height + "px"),
                    this.helper.css(e),
                    e
                  );
                },
                _updateVirtualBoundaries: function (e) {
                  var t,
                    i,
                    n,
                    o,
                    r,
                    a = this.options;
                  (r = {
                    minWidth: this._isNumber(a.minWidth) ? a.minWidth : 0,
                    maxWidth: this._isNumber(a.maxWidth) ? a.maxWidth : 1 / 0,
                    minHeight: this._isNumber(a.minHeight) ? a.minHeight : 0,
                    maxHeight: this._isNumber(a.maxHeight)
                      ? a.maxHeight
                      : 1 / 0,
                  }),
                    (this._aspectRatio || e) &&
                    ((t = r.minHeight * this.aspectRatio),
                      (n = r.minWidth / this.aspectRatio),
                      (i = r.maxHeight * this.aspectRatio),
                      (o = r.maxWidth / this.aspectRatio),
                      t > r.minWidth && (r.minWidth = t),
                      n > r.minHeight && (r.minHeight = n),
                      i < r.maxWidth && (r.maxWidth = i),
                      o < r.maxHeight && (r.maxHeight = o)),
                    (this._vBoundaries = r);
                },
                _updateCache: function (e) {
                  (this.offset = this.helper.offset()),
                    this._isNumber(e.left) && (this.position.left = e.left),
                    this._isNumber(e.top) && (this.position.top = e.top),
                    this._isNumber(e.height) && (this.size.height = e.height),
                    this._isNumber(e.width) && (this.size.width = e.width);
                },
                _updateRatio: function (e) {
                  var t = this.position,
                    i = this.size,
                    n = this.axis;
                  return (
                    this._isNumber(e.height)
                      ? (e.width = e.height * this.aspectRatio)
                      : this._isNumber(e.width) &&
                      (e.height = e.width / this.aspectRatio),
                    "sw" === n &&
                    ((e.left = t.left + (i.width - e.width)), (e.top = null)),
                    "nw" === n &&
                    ((e.top = t.top + (i.height - e.height)),
                      (e.left = t.left + (i.width - e.width))),
                    e
                  );
                },
                _respectSize: function (e) {
                  var t = this._vBoundaries,
                    i = this.axis,
                    n =
                      this._isNumber(e.width) &&
                      t.maxWidth &&
                      t.maxWidth < e.width,
                    o =
                      this._isNumber(e.height) &&
                      t.maxHeight &&
                      t.maxHeight < e.height,
                    r =
                      this._isNumber(e.width) &&
                      t.minWidth &&
                      t.minWidth > e.width,
                    a =
                      this._isNumber(e.height) &&
                      t.minHeight &&
                      t.minHeight > e.height,
                    s = this.originalPosition.left + this.originalSize.width,
                    l = this.originalPosition.top + this.originalSize.height,
                    c = /sw|nw|w/.test(i),
                    u = /nw|ne|n/.test(i);
                  return (
                    r && (e.width = t.minWidth),
                    a && (e.height = t.minHeight),
                    n && (e.width = t.maxWidth),
                    o && (e.height = t.maxHeight),
                    r && c && (e.left = s - t.minWidth),
                    n && c && (e.left = s - t.maxWidth),
                    a && u && (e.top = l - t.minHeight),
                    o && u && (e.top = l - t.maxHeight),
                    e.width || e.height || e.left || !e.top
                      ? e.width ||
                      e.height ||
                      e.top ||
                      !e.left ||
                      (e.left = null)
                      : (e.top = null),
                    e
                  );
                },
                _getPaddingPlusBorderDimensions: function (e) {
                  for (
                    var t = 0,
                    i = [],
                    n = [
                      e.css("borderTopWidth"),
                      e.css("borderRightWidth"),
                      e.css("borderBottomWidth"),
                      e.css("borderLeftWidth"),
                    ],
                    o = [
                      e.css("paddingTop"),
                      e.css("paddingRight"),
                      e.css("paddingBottom"),
                      e.css("paddingLeft"),
                    ];
                    t < 4;
                    t++
                  )
                    (i[t] = parseFloat(n[t]) || 0),
                      (i[t] += parseFloat(o[t]) || 0);
                  return { height: i[0] + i[2], width: i[1] + i[3] };
                },
                _proportionallyResize: function () {
                  if (this._proportionallyResizeElements.length)
                    for (
                      var e, t = 0, i = this.helper || this.element;
                      t < this._proportionallyResizeElements.length;
                      t++
                    )
                      (e = this._proportionallyResizeElements[t]),
                        this.outerDimensions ||
                        (this.outerDimensions =
                          this._getPaddingPlusBorderDimensions(e)),
                        e.css({
                          height: i.height() - this.outerDimensions.height || 0,
                          width: i.width() - this.outerDimensions.width || 0,
                        });
                },
                _renderProxy: function () {
                  var t = this.element,
                    i = this.options;
                  (this.elementOffset = t.offset()),
                    this._helper
                      ? ((this.helper =
                        this.helper ||
                        e("<div style='overflow:hidden;'></div>")),
                        this._addClass(this.helper, this._helper),
                        this.helper.css({
                          width: this.element.outerWidth(),
                          height: this.element.outerHeight(),
                          position: "absolute",
                          left: this.elementOffset.left + "px",
                          top: this.elementOffset.top + "px",
                          zIndex: ++i.zIndex,
                        }),
                        this.helper.appendTo("body").disableSelection())
                      : (this.helper = this.element);
                },
                _change: {
                  e: function (e, t) {
                    return { width: this.originalSize.width + t };
                  },
                  w: function (e, t) {
                    var i = this.originalSize;
                    return {
                      left: this.originalPosition.left + t,
                      width: i.width - t,
                    };
                  },
                  n: function (e, t, i) {
                    var n = this.originalSize;
                    return {
                      top: this.originalPosition.top + i,
                      height: n.height - i,
                    };
                  },
                  s: function (e, t, i) {
                    return { height: this.originalSize.height + i };
                  },
                  se: function (t, i, n) {
                    return e.extend(
                      this._change.s.apply(this, arguments),
                      this._change.e.apply(this, [t, i, n])
                    );
                  },
                  sw: function (t, i, n) {
                    return e.extend(
                      this._change.s.apply(this, arguments),
                      this._change.w.apply(this, [t, i, n])
                    );
                  },
                  ne: function (t, i, n) {
                    return e.extend(
                      this._change.n.apply(this, arguments),
                      this._change.e.apply(this, [t, i, n])
                    );
                  },
                  nw: function (t, i, n) {
                    return e.extend(
                      this._change.n.apply(this, arguments),
                      this._change.w.apply(this, [t, i, n])
                    );
                  },
                },
                _propagate: function (t, i) {
                  e.ui.plugin.call(this, t, [i, this.ui()]),
                    "resize" !== t && this._trigger(t, i, this.ui());
                },
                plugins: {},
                ui: function () {
                  return {
                    originalElement: this.originalElement,
                    element: this.element,
                    helper: this.helper,
                    position: this.position,
                    size: this.size,
                    originalSize: this.originalSize,
                    originalPosition: this.originalPosition,
                  };
                },
              }),
              e.ui.plugin.add("resizable", "animate", {
                stop: function (t) {
                  var i = e(this).resizable("instance"),
                    n = i.options,
                    o = i._proportionallyResizeElements,
                    r = o.length && /textarea/i.test(o[0].nodeName),
                    a = r && i._hasScroll(o[0], "left") ? 0 : i.sizeDiff.height,
                    s = r ? 0 : i.sizeDiff.width,
                    l = { width: i.size.width - s, height: i.size.height - a },
                    c =
                      parseFloat(i.element.css("left")) +
                      (i.position.left - i.originalPosition.left) || null,
                    u =
                      parseFloat(i.element.css("top")) +
                      (i.position.top - i.originalPosition.top) || null;
                  i.element.animate(
                    e.extend(l, u && c ? { top: u, left: c } : {}),
                    {
                      duration: n.animateDuration,
                      easing: n.animateEasing,
                      step: function () {
                        var n = {
                          width: parseFloat(i.element.css("width")),
                          height: parseFloat(i.element.css("height")),
                          top: parseFloat(i.element.css("top")),
                          left: parseFloat(i.element.css("left")),
                        };
                        o &&
                          o.length &&
                          e(o[0]).css({ width: n.width, height: n.height }),
                          i._updateCache(n),
                          i._propagate("resize", t);
                      },
                    }
                  );
                },
              }),
              e.ui.plugin.add("resizable", "containment", {
                start: function () {
                  var t,
                    i,
                    n,
                    o,
                    r,
                    a,
                    s,
                    l = e(this).resizable("instance"),
                    c = l.options,
                    u = l.element,
                    d = c.containment,
                    p =
                      d instanceof e
                        ? d.get(0)
                        : /parent/.test(d)
                          ? u.parent().get(0)
                          : d;
                  p &&
                    ((l.containerElement = e(p)),
                      /document/.test(d) || d === document
                        ? ((l.containerOffset = { left: 0, top: 0 }),
                          (l.containerPosition = { left: 0, top: 0 }),
                          (l.parentData = {
                            element: e(document),
                            left: 0,
                            top: 0,
                            width: e(document).width(),
                            height:
                              e(document).height() ||
                              document.body.parentNode.scrollHeight,
                          }))
                        : ((t = e(p)),
                          (i = []),
                          e(["Top", "Right", "Left", "Bottom"]).each(function (
                            e,
                            n
                          ) {
                            i[e] = l._num(t.css("padding" + n));
                          }),
                          (l.containerOffset = t.offset()),
                          (l.containerPosition = t.position()),
                          (l.containerSize = {
                            height: t.innerHeight() - i[3],
                            width: t.innerWidth() - i[1],
                          }),
                          (n = l.containerOffset),
                          (o = l.containerSize.height),
                          (r = l.containerSize.width),
                          (a = l._hasScroll(p, "left") ? p.scrollWidth : r),
                          (s = l._hasScroll(p) ? p.scrollHeight : o),
                          (l.parentData = {
                            element: p,
                            left: n.left,
                            top: n.top,
                            width: a,
                            height: s,
                          })));
                },
                resize: function (t) {
                  var i,
                    n,
                    o,
                    r,
                    a = e(this).resizable("instance"),
                    s = a.options,
                    l = a.containerOffset,
                    c = a.position,
                    u = a._aspectRatio || t.shiftKey,
                    d = { top: 0, left: 0 },
                    p = a.containerElement,
                    h = !0;
                  p[0] !== document &&
                    /static/.test(p.css("position")) &&
                    (d = l),
                    c.left < (a._helper ? l.left : 0) &&
                    ((a.size.width =
                      a.size.width +
                      (a._helper
                        ? a.position.left - l.left
                        : a.position.left - d.left)),
                      u &&
                      ((a.size.height = a.size.width / a.aspectRatio),
                        (h = !1)),
                      (a.position.left = s.helper ? l.left : 0)),
                    c.top < (a._helper ? l.top : 0) &&
                    ((a.size.height =
                      a.size.height +
                      (a._helper ? a.position.top - l.top : a.position.top)),
                      u &&
                      ((a.size.width = a.size.height * a.aspectRatio),
                        (h = !1)),
                      (a.position.top = a._helper ? l.top : 0)),
                    (o =
                      a.containerElement.get(0) === a.element.parent().get(0)),
                    (r = /relative|absolute/.test(
                      a.containerElement.css("position")
                    )),
                    o && r
                      ? ((a.offset.left = a.parentData.left + a.position.left),
                        (a.offset.top = a.parentData.top + a.position.top))
                      : ((a.offset.left = a.element.offset().left),
                        (a.offset.top = a.element.offset().top)),
                    (i = Math.abs(
                      a.sizeDiff.width +
                      (a._helper
                        ? a.offset.left - d.left
                        : a.offset.left - l.left)
                    )),
                    (n = Math.abs(
                      a.sizeDiff.height +
                      (a._helper
                        ? a.offset.top - d.top
                        : a.offset.top - l.top)
                    )),
                    i + a.size.width >= a.parentData.width &&
                    ((a.size.width = a.parentData.width - i),
                      u &&
                      ((a.size.height = a.size.width / a.aspectRatio),
                        (h = !1))),
                    n + a.size.height >= a.parentData.height &&
                    ((a.size.height = a.parentData.height - n),
                      u &&
                      ((a.size.width = a.size.height * a.aspectRatio),
                        (h = !1))),
                    h ||
                    ((a.position.left = a.prevPosition.left),
                      (a.position.top = a.prevPosition.top),
                      (a.size.width = a.prevSize.width),
                      (a.size.height = a.prevSize.height));
                },
                stop: function () {
                  var t = e(this).resizable("instance"),
                    i = t.options,
                    n = t.containerOffset,
                    o = t.containerPosition,
                    r = t.containerElement,
                    a = e(t.helper),
                    s = a.offset(),
                    l = a.outerWidth() - t.sizeDiff.width,
                    c = a.outerHeight() - t.sizeDiff.height;
                  t._helper &&
                    !i.animate &&
                    /relative/.test(r.css("position")) &&
                    e(this).css({
                      left: s.left - o.left - n.left,
                      width: l,
                      height: c,
                    }),
                    t._helper &&
                    !i.animate &&
                    /static/.test(r.css("position")) &&
                    e(this).css({
                      left: s.left - o.left - n.left,
                      width: l,
                      height: c,
                    });
                },
              }),
              e.ui.plugin.add("resizable", "alsoResize", {
                start: function () {
                  var t = e(this).resizable("instance").options;
                  e(t.alsoResize).each(function () {
                    var t = e(this);
                    t.data("ui-resizable-alsoresize", {
                      width: parseFloat(t.width()),
                      height: parseFloat(t.height()),
                      left: parseFloat(t.css("left")),
                      top: parseFloat(t.css("top")),
                    });
                  });
                },
                resize: function (t, i) {
                  var n = e(this).resizable("instance"),
                    o = n.options,
                    r = n.originalSize,
                    a = n.originalPosition,
                    s = {
                      height: n.size.height - r.height || 0,
                      width: n.size.width - r.width || 0,
                      top: n.position.top - a.top || 0,
                      left: n.position.left - a.left || 0,
                    };
                  e(o.alsoResize).each(function () {
                    var t = e(this),
                      n = e(this).data("ui-resizable-alsoresize"),
                      o = {},
                      r = t.parents(i.originalElement[0]).length
                        ? ["width", "height"]
                        : ["width", "height", "top", "left"];
                    e.each(r, function (e, t) {
                      var i = (n[t] || 0) + (s[t] || 0);
                      i && i >= 0 && (o[t] = i || null);
                    }),
                      t.css(o);
                  });
                },
                stop: function () {
                  e(this).removeData("ui-resizable-alsoresize");
                },
              }),
              e.ui.plugin.add("resizable", "ghost", {
                start: function () {
                  var t = e(this).resizable("instance"),
                    i = t.size;
                  (t.ghost = t.originalElement.clone()),
                    t.ghost.css({
                      opacity: 0.25,
                      display: "block",
                      position: "relative",
                      height: i.height,
                      width: i.width,
                      margin: 0,
                      left: 0,
                      top: 0,
                    }),
                    t._addClass(t.ghost, "ui-resizable-ghost"),
                    !1 !== e.uiBackCompat &&
                    "string" == typeof t.options.ghost &&
                    t.ghost.addClass(this.options.ghost),
                    t.ghost.appendTo(t.helper);
                },
                resize: function () {
                  var t = e(this).resizable("instance");
                  t.ghost &&
                    t.ghost.css({
                      position: "relative",
                      height: t.size.height,
                      width: t.size.width,
                    });
                },
                stop: function () {
                  var t = e(this).resizable("instance");
                  t.ghost &&
                    t.helper &&
                    t.helper.get(0).removeChild(t.ghost.get(0));
                },
              }),
              e.ui.plugin.add("resizable", "grid", {
                resize: function () {
                  var t,
                    i = e(this).resizable("instance"),
                    n = i.options,
                    o = i.size,
                    r = i.originalSize,
                    a = i.originalPosition,
                    s = i.axis,
                    l = "number" == typeof n.grid ? [n.grid, n.grid] : n.grid,
                    c = l[0] || 1,
                    u = l[1] || 1,
                    d = Math.round((o.width - r.width) / c) * c,
                    p = Math.round((o.height - r.height) / u) * u,
                    h = r.width + d,
                    f = r.height + p,
                    g = n.maxWidth && n.maxWidth < h,
                    m = n.maxHeight && n.maxHeight < f,
                    v = n.minWidth && n.minWidth > h,
                    b = n.minHeight && n.minHeight > f;
                  (n.grid = l),
                    v && (h += c),
                    b && (f += u),
                    g && (h -= c),
                    m && (f -= u),
                    /^(se|s|e)$/.test(s)
                      ? ((i.size.width = h), (i.size.height = f))
                      : /^(ne)$/.test(s)
                        ? ((i.size.width = h),
                          (i.size.height = f),
                          (i.position.top = a.top - p))
                        : /^(sw)$/.test(s)
                          ? ((i.size.width = h),
                            (i.size.height = f),
                            (i.position.left = a.left - d))
                          : ((f - u <= 0 || h - c <= 0) &&
                            (t = i._getPaddingPlusBorderDimensions(this)),
                            f - u > 0
                              ? ((i.size.height = f), (i.position.top = a.top - p))
                              : ((f = u - t.height),
                                (i.size.height = f),
                                (i.position.top = a.top + r.height - f)),
                            h - c > 0
                              ? ((i.size.width = h), (i.position.left = a.left - d))
                              : ((h = c - t.width),
                                (i.size.width = h),
                                (i.position.left = a.left + r.width - h)));
                },
              }),
              e.ui.resizable
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Controlgroup 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            var t = /ui-corner-([a-z]){2,6}/g;
            return e.widget("ui.controlgroup", {
              version: "1.12.1",
              defaultElement: "<div>",
              options: {
                direction: "horizontal",
                disabled: null,
                onlyVisible: !0,
                items: {
                  button:
                    "input[type=button], input[type=submit], input[type=reset], button, a",
                  controlgroupLabel: ".ui-controlgroup-label",
                  checkboxradio: "input[type='checkbox'], input[type='radio']",
                  selectmenu: "select",
                  spinner: ".ui-spinner-input",
                },
              },
              _create: function () {
                this._enhance();
              },
              _enhance: function () {
                this.element.attr("role", "toolbar"), this.refresh();
              },
              _destroy: function () {
                this._callChildMethod("destroy"),
                  this.childWidgets.removeData("ui-controlgroup-data"),
                  this.element.removeAttr("role"),
                  this.options.items.controlgroupLabel &&
                  this.element
                    .find(this.options.items.controlgroupLabel)
                    .find(".ui-controlgroup-label-contents")
                    .contents()
                    .unwrap();
              },
              _initWidgets: function () {
                var t = this,
                  i = [];
                e.each(this.options.items, function (n, o) {
                  var r,
                    a = {};
                  if (o)
                    return "controlgroupLabel" === n
                      ? ((r = t.element.find(o)).each(function () {
                        var t = e(this);
                        t.children(".ui-controlgroup-label-contents")
                          .length ||
                          t
                            .contents()
                            .wrapAll(
                              "<span class='ui-controlgroup-label-contents'></span>"
                            );
                      }),
                        t._addClass(
                          r,
                          null,
                          "ui-widget ui-widget-content ui-state-default"
                        ),
                        void (i = i.concat(r.get())))
                      : void (
                        e.fn[n] &&
                        ((a = t["_" + n + "Options"]
                          ? t["_" + n + "Options"]("middle")
                          : { classes: {} }),
                          t.element.find(o).each(function () {
                            var o = e(this),
                              r = o[n]("instance"),
                              s = e.widget.extend({}, a);
                            if (
                              "button" !== n ||
                              !o.parent(".ui-spinner").length
                            ) {
                              r || (r = o[n]()[n]("instance")),
                                r &&
                                (s.classes = t._resolveClassesValues(
                                  s.classes,
                                  r
                                )),
                                o[n](s);
                              var l = o[n]("widget");
                              e.data(
                                l[0],
                                "ui-controlgroup-data",
                                r || o[n]("instance")
                              ),
                                i.push(l[0]);
                            }
                          }))
                      );
                }),
                  (this.childWidgets = e(e.unique(i))),
                  this._addClass(this.childWidgets, "ui-controlgroup-item");
              },
              _callChildMethod: function (t) {
                this.childWidgets.each(function () {
                  var i = e(this).data("ui-controlgroup-data");
                  i && i[t] && i[t]();
                });
              },
              _updateCornerClass: function (e, t) {
                var i = this._buildSimpleOptions(t, "label").classes.label;
                this._removeClass(
                  e,
                  null,
                  "ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"
                ),
                  this._addClass(e, null, i);
              },
              _buildSimpleOptions: function (e, t) {
                var i = "vertical" === this.options.direction,
                  n = { classes: {} };
                return (
                  (n.classes[t] = {
                    middle: "",
                    first: "ui-corner-" + (i ? "top" : "left"),
                    last: "ui-corner-" + (i ? "bottom" : "right"),
                    only: "ui-corner-all",
                  }[e]),
                  n
                );
              },
              _spinnerOptions: function (e) {
                var t = this._buildSimpleOptions(e, "ui-spinner");
                return (
                  (t.classes["ui-spinner-up"] = ""),
                  (t.classes["ui-spinner-down"] = ""),
                  t
                );
              },
              _buttonOptions: function (e) {
                return this._buildSimpleOptions(e, "ui-button");
              },
              _checkboxradioOptions: function (e) {
                return this._buildSimpleOptions(e, "ui-checkboxradio-label");
              },
              _selectmenuOptions: function (e) {
                var t = "vertical" === this.options.direction;
                return {
                  width: !!t && "auto",
                  classes: {
                    middle: {
                      "ui-selectmenu-button-open": "",
                      "ui-selectmenu-button-closed": "",
                    },
                    first: {
                      "ui-selectmenu-button-open":
                        "ui-corner-" + (t ? "top" : "tl"),
                      "ui-selectmenu-button-closed":
                        "ui-corner-" + (t ? "top" : "left"),
                    },
                    last: {
                      "ui-selectmenu-button-open": t ? "" : "ui-corner-tr",
                      "ui-selectmenu-button-closed":
                        "ui-corner-" + (t ? "bottom" : "right"),
                    },
                    only: {
                      "ui-selectmenu-button-open": "ui-corner-top",
                      "ui-selectmenu-button-closed": "ui-corner-all",
                    },
                  }[e],
                };
              },
              _resolveClassesValues: function (i, n) {
                var o = {};
                return (
                  e.each(i, function (r) {
                    var a = n.options.classes[r] || "";
                    (a = e.trim(a.replace(t, ""))),
                      (o[r] = (a + " " + i[r]).replace(/\s+/g, " "));
                  }),
                  o
                );
              },
              _setOption: function (e, t) {
                "direction" === e &&
                  this._removeClass(
                    "ui-controlgroup-" + this.options.direction
                  ),
                  this._super(e, t),
                  "disabled" !== e
                    ? this.refresh()
                    : this._callChildMethod(t ? "disable" : "enable");
              },
              refresh: function () {
                var t,
                  i = this;
                this._addClass(
                  "ui-controlgroup ui-controlgroup-" + this.options.direction
                ),
                  "horizontal" === this.options.direction &&
                  this._addClass(null, "ui-helper-clearfix"),
                  this._initWidgets(),
                  (t = this.childWidgets),
                  this.options.onlyVisible && (t = t.filter(":visible")),
                  t.length &&
                  (e.each(["first", "last"], function (e, n) {
                    var o = t[n]().data("ui-controlgroup-data");
                    if (o && i["_" + o.widgetName + "Options"]) {
                      var r = i["_" + o.widgetName + "Options"](
                        1 === t.length ? "only" : n
                      );
                      (r.classes = i._resolveClassesValues(r.classes, o)),
                        o.element[o.widgetName](r);
                    } else i._updateCornerClass(t[n](), n);
                  }),
                    this._callChildMethod("refresh"));
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Checkboxradio 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(12), i(16), i(17), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (
              e.widget("ui.checkboxradio", [
                e.ui.formResetMixin,
                {
                  version: "1.12.1",
                  options: {
                    disabled: null,
                    label: null,
                    icon: !0,
                    classes: {
                      "ui-checkboxradio-label": "ui-corner-all",
                      "ui-checkboxradio-icon": "ui-corner-all",
                    },
                  },
                  _getCreateOptions: function () {
                    var t,
                      i,
                      n = this,
                      o = this._super() || {};
                    return (
                      this._readType(),
                      (i = this.element.labels()),
                      (this.label = e(i[i.length - 1])),
                      this.label.length ||
                      e.error("No label found for checkboxradio widget"),
                      (this.originalLabel = ""),
                      this.label
                        .contents()
                        .not(this.element[0])
                        .each(function () {
                          n.originalLabel +=
                            3 === this.nodeType
                              ? e(this).text()
                              : this.outerHTML;
                        }),
                      this.originalLabel && (o.label = this.originalLabel),
                      null != (t = this.element[0].disabled) &&
                      (o.disabled = t),
                      o
                    );
                  },
                  _create: function () {
                    var e = this.element[0].checked;
                    this._bindFormResetHandler(),
                      null == this.options.disabled &&
                      (this.options.disabled = this.element[0].disabled),
                      this._setOption("disabled", this.options.disabled),
                      this._addClass(
                        "ui-checkboxradio",
                        "ui-helper-hidden-accessible"
                      ),
                      this._addClass(
                        this.label,
                        "ui-checkboxradio-label",
                        "ui-button ui-widget"
                      ),
                      "radio" === this.type &&
                      this._addClass(
                        this.label,
                        "ui-checkboxradio-radio-label"
                      ),
                      this.options.label &&
                        this.options.label !== this.originalLabel
                        ? this._updateLabel()
                        : this.originalLabel &&
                        (this.options.label = this.originalLabel),
                      this._enhance(),
                      e &&
                      (this._addClass(
                        this.label,
                        "ui-checkboxradio-checked",
                        "ui-state-active"
                      ),
                        this.icon &&
                        this._addClass(this.icon, null, "ui-state-hover")),
                      this._on({
                        change: "_toggleClasses",
                        focus: function () {
                          this._addClass(
                            this.label,
                            null,
                            "ui-state-focus ui-visual-focus"
                          );
                        },
                        blur: function () {
                          this._removeClass(
                            this.label,
                            null,
                            "ui-state-focus ui-visual-focus"
                          );
                        },
                      });
                  },
                  _readType: function () {
                    var t = this.element[0].nodeName.toLowerCase();
                    (this.type = this.element[0].type),
                      ("input" === t && /radio|checkbox/.test(this.type)) ||
                      e.error(
                        "Can't create checkboxradio on element.nodeName=" +
                        t +
                        " and element.type=" +
                        this.type
                      );
                  },
                  _enhance: function () {
                    this._updateIcon(this.element[0].checked);
                  },
                  widget: function () {
                    return this.label;
                  },
                  _getRadioGroup: function () {
                    var t = this.element[0].name,
                      i = "input[name='" + e.ui.escapeSelector(t) + "']";
                    return t
                      ? (this.form.length
                        ? e(this.form[0].elements).filter(i)
                        : e(i).filter(function () {
                          return 0 === e(this).form().length;
                        })
                      ).not(this.element)
                      : e([]);
                  },
                  _toggleClasses: function () {
                    var t = this.element[0].checked;
                    this._toggleClass(
                      this.label,
                      "ui-checkboxradio-checked",
                      "ui-state-active",
                      t
                    ),
                      this.options.icon &&
                      "checkbox" === this.type &&
                      this._toggleClass(
                        this.icon,
                        null,
                        "ui-icon-check ui-state-checked",
                        t
                      )._toggleClass(this.icon, null, "ui-icon-blank", !t),
                      "radio" === this.type &&
                      this._getRadioGroup().each(function () {
                        var t = e(this).checkboxradio("instance");
                        t &&
                          t._removeClass(
                            t.label,
                            "ui-checkboxradio-checked",
                            "ui-state-active"
                          );
                      });
                  },
                  _destroy: function () {
                    this._unbindFormResetHandler(),
                      this.icon &&
                      (this.icon.remove(), this.iconSpace.remove());
                  },
                  _setOption: function (e, t) {
                    if ("label" !== e || t) {
                      if ((this._super(e, t), "disabled" === e))
                        return (
                          this._toggleClass(
                            this.label,
                            null,
                            "ui-state-disabled",
                            t
                          ),
                          void (this.element[0].disabled = t)
                        );
                      this.refresh();
                    }
                  },
                  _updateIcon: function (t) {
                    var i = "ui-icon ui-icon-background ";
                    this.options.icon
                      ? (this.icon ||
                        ((this.icon = e("<span>")),
                          (this.iconSpace = e("<span> </span>")),
                          this._addClass(
                            this.iconSpace,
                            "ui-checkboxradio-icon-space"
                          )),
                        "checkbox" === this.type
                          ? ((i += t
                            ? "ui-icon-check ui-state-checked"
                            : "ui-icon-blank"),
                            this._removeClass(
                              this.icon,
                              null,
                              t ? "ui-icon-blank" : "ui-icon-check"
                            ))
                          : (i += "ui-icon-blank"),
                        this._addClass(this.icon, "ui-checkboxradio-icon", i),
                        t ||
                        this._removeClass(
                          this.icon,
                          null,
                          "ui-icon-check ui-state-checked"
                        ),
                        this.icon.prependTo(this.label).after(this.iconSpace))
                      : void 0 !== this.icon &&
                      (this.icon.remove(),
                        this.iconSpace.remove(),
                        delete this.icon);
                  },
                  _updateLabel: function () {
                    var e = this.label.contents().not(this.element[0]);
                    this.icon && (e = e.not(this.icon[0])),
                      this.iconSpace && (e = e.not(this.iconSpace[0])),
                      e.remove(),
                      this.label.append(this.options.label);
                  },
                  refresh: function () {
                    var e = this.element[0].checked,
                      t = this.element[0].disabled;
                    this._updateIcon(e),
                      this._toggleClass(
                        this.label,
                        "ui-checkboxradio-checked",
                        "ui-state-active",
                        e
                      ),
                      null !== this.options.label && this._updateLabel(),
                      t !== this.options.disabled &&
                      this._setOptions({ disabled: t });
                  },
                },
              ]),
              e.ui.checkboxradio
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Scale 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5), i(34)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("scale", function (t, i) {
              var n = e(this),
                o = t.mode,
                r =
                  parseInt(t.percent, 10) ||
                  (0 === parseInt(t.percent, 10) || "effect" !== o ? 0 : 100),
                a = e.extend(
                  !0,
                  {
                    from: e.effects.scaledDimensions(n),
                    to: e.effects.scaledDimensions(n, r, t.direction || "both"),
                    origin: t.origin || ["middle", "center"],
                  },
                  t
                );
              t.fade && ((a.from.opacity = 1), (a.to.opacity = 0)),
                e.effects.effect.size.call(this, a, i);
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Size 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("size", function (t, i) {
              var n,
                o,
                r,
                a = e(this),
                s = ["fontSize"],
                l = [
                  "borderTopWidth",
                  "borderBottomWidth",
                  "paddingTop",
                  "paddingBottom",
                ],
                c = [
                  "borderLeftWidth",
                  "borderRightWidth",
                  "paddingLeft",
                  "paddingRight",
                ],
                u = t.mode,
                d = "effect" !== u,
                p = t.scale || "both",
                h = t.origin || ["middle", "center"],
                f = a.css("position"),
                g = a.position(),
                m = e.effects.scaledDimensions(a),
                v = t.from || m,
                b = t.to || e.effects.scaledDimensions(a, 0);
              e.effects.createPlaceholder(a),
                "show" === u && ((r = v), (v = b), (b = r)),
                (o = {
                  from: { y: v.height / m.height, x: v.width / m.width },
                  to: { y: b.height / m.height, x: b.width / m.width },
                }),
                ("box" !== p && "both" !== p) ||
                (o.from.y !== o.to.y &&
                  ((v = e.effects.setTransition(a, l, o.from.y, v)),
                    (b = e.effects.setTransition(a, l, o.to.y, b))),
                  o.from.x !== o.to.x &&
                  ((v = e.effects.setTransition(a, c, o.from.x, v)),
                    (b = e.effects.setTransition(a, c, o.to.x, b)))),
                ("content" !== p && "both" !== p) ||
                (o.from.y !== o.to.y &&
                  ((v = e.effects.setTransition(a, s, o.from.y, v)),
                    (b = e.effects.setTransition(a, s, o.to.y, b)))),
                h &&
                ((n = e.effects.getBaseline(h, m)),
                  (v.top = (m.outerHeight - v.outerHeight) * n.y + g.top),
                  (v.left = (m.outerWidth - v.outerWidth) * n.x + g.left),
                  (b.top = (m.outerHeight - b.outerHeight) * n.y + g.top),
                  (b.left = (m.outerWidth - b.outerWidth) * n.x + g.left)),
                a.css(v),
                ("content" !== p && "both" !== p) ||
                ((l = l.concat(["marginTop", "marginBottom"]).concat(s)),
                  (c = c.concat(["marginLeft", "marginRight"])),
                  a.find("*[width]").each(function () {
                    var i = e(this),
                      n = e.effects.scaledDimensions(i),
                      r = {
                        height: n.height * o.from.y,
                        width: n.width * o.from.x,
                        outerHeight: n.outerHeight * o.from.y,
                        outerWidth: n.outerWidth * o.from.x,
                      },
                      a = {
                        height: n.height * o.to.y,
                        width: n.width * o.to.x,
                        outerHeight: n.height * o.to.y,
                        outerWidth: n.width * o.to.x,
                      };
                    o.from.y !== o.to.y &&
                      ((r = e.effects.setTransition(i, l, o.from.y, r)),
                        (a = e.effects.setTransition(i, l, o.to.y, a))),
                      o.from.x !== o.to.x &&
                      ((r = e.effects.setTransition(i, c, o.from.x, r)),
                        (a = e.effects.setTransition(i, c, o.to.x, a))),
                      d && e.effects.saveStyle(i),
                      i.css(r),
                      i.animate(a, t.duration, t.easing, function () {
                        d && e.effects.restoreStyle(i);
                      });
                  })),
                a.animate(b, {
                  queue: !1,
                  duration: t.duration,
                  easing: t.easing,
                  complete: function () {
                    var t = a.offset();
                    0 === b.opacity && a.css("opacity", v.opacity),
                      d ||
                      (a
                        .css("position", "static" === f ? "relative" : f)
                        .offset(t),
                        e.effects.saveStyle(a)),
                      i();
                  },
                });
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (module, exports, __webpack_require__) {
    var __WEBPACK_AMD_DEFINE_FACTORY__,
      __WEBPACK_AMD_DEFINE_ARRAY__,
      __WEBPACK_AMD_DEFINE_RESULT__,
      $,
      fullScreenApi; //! openseadragon 2.4.2
    //! Built on 2020-03-05
    //! Git commit: v2.4.2-0-c450749
    //! http://openseadragon.github.io
    //! License: http://openseadragon.github.io/license/
    function OpenSeadragon(e) {
      return new OpenSeadragon.Viewer(e);
    }
    !(function (e) {
      e.version = {
        versionStr: "2.4.2",
        major: parseInt("2", 10),
        minor: parseInt("4", 10),
        revision: parseInt("2", 10),
      };
      var t,
        i = {
          "[object Boolean]": "boolean",
          "[object Number]": "number",
          "[object String]": "string",
          "[object Function]": "function",
          "[object Array]": "array",
          "[object Date]": "date",
          "[object RegExp]": "regexp",
          "[object Object]": "object",
        },
        n = Object.prototype.toString,
        o = Object.prototype.hasOwnProperty;
      (e.isFunction = function (t) {
        return "function" === e.type(t);
      }),
        (e.isArray =
          Array.isArray ||
          function (t) {
            return "array" === e.type(t);
          }),
        (e.isWindow = function (e) {
          return e && "object" == typeof e && "setInterval" in e;
        }),
        (e.type = function (e) {
          return null == e ? String(e) : i[n.call(e)] || "object";
        }),
        (e.isPlainObject = function (t) {
          if (
            !t ||
            "object" !== OpenSeadragon.type(t) ||
            t.nodeType ||
            e.isWindow(t)
          )
            return !1;
          if (
            t.constructor &&
            !o.call(t, "constructor") &&
            !o.call(t.constructor.prototype, "isPrototypeOf")
          )
            return !1;
          var i;
          for (var n in t) i = n;
          return void 0 === i || o.call(t, i);
        }),
        (e.isEmptyObject = function (e) {
          for (var t in e) return !1;
          return !0;
        }),
        (e.freezeObject = function (t) {
          return (
            Object.freeze
              ? (e.freezeObject = Object.freeze)
              : (e.freezeObject = function (e) {
                return e;
              }),
            e.freezeObject(t)
          );
        }),
        (e.supportsCanvas =
          ((t = document.createElement("canvas")),
            !(!e.isFunction(t.getContext) || !t.getContext("2d")))),
        (e.isCanvasTainted = function (e) {
          var t = !1;
          try {
            e.getContext("2d").getImageData(0, 0, 1, 1);
          } catch (e) {
            t = !0;
          }
          return t;
        }),
        (e.pixelDensityRatio = (function () {
          if (e.supportsCanvas) {
            var t = document.createElement("canvas").getContext("2d"),
              i = window.devicePixelRatio || 1,
              n =
                t.webkitBackingStorePixelRatio ||
                t.mozBackingStorePixelRatio ||
                t.msBackingStorePixelRatio ||
                t.oBackingStorePixelRatio ||
                t.backingStorePixelRatio ||
                1;
            return Math.max(i, 1) / n;
          }
          return 1;
        })());
    })(OpenSeadragon),
      (function ($) {
        $.extend = function () {
          var e,
            t,
            i,
            n,
            o,
            r,
            a = arguments[0] || {},
            s = arguments.length,
            l = !1,
            c = 1;
          for (
            "boolean" == typeof a &&
            ((l = a), (a = arguments[1] || {}), (c = 2)),
            "object" == typeof a || OpenSeadragon.isFunction(a) || (a = {}),
            s === c && ((a = this), --c);
            c < s;
            c++
          )
            if (null !== (e = arguments[c]) || void 0 !== e)
              for (t in e)
                (i = a[t]),
                  a !== (n = e[t]) &&
                  (l &&
                    n &&
                    (OpenSeadragon.isPlainObject(n) ||
                      (o = OpenSeadragon.isArray(n)))
                    ? (o
                      ? ((o = !1),
                        (r = i && OpenSeadragon.isArray(i) ? i : []))
                      : (r = i && OpenSeadragon.isPlainObject(i) ? i : {}),
                      (a[t] = OpenSeadragon.extend(l, r, n)))
                    : void 0 !== n && (a[t] = n));
          return a;
        };
        var isIOSDevice = function () {
          if ("object" != typeof navigator) return !1;
          var e = navigator.userAgent;
          return (
            "string" == typeof e &&
            (-1 !== e.indexOf("iPhone") ||
              -1 !== e.indexOf("iPad") ||
              -1 !== e.indexOf("iPod"))
          );
        };
        $.extend($, {
          DEFAULT_SETTINGS: {
            xmlPath: null,
            tileSources: null,
            tileHost: null,
            initialPage: 0,
            crossOriginPolicy: !1,
            ajaxWithCredentials: !1,
            loadTilesWithAjax: !1,
            ajaxHeaders: {},
            panHorizontal: !0,
            panVertical: !0,
            constrainDuringPan: !1,
            wrapHorizontal: !1,
            wrapVertical: !1,
            visibilityRatio: 0.5,
            minPixelRatio: 0.5,
            defaultZoomLevel: 0,
            minZoomLevel: null,
            maxZoomLevel: null,
            homeFillsViewer: !1,
            clickTimeThreshold: 300,
            clickDistThreshold: 5,
            dblClickTimeThreshold: 300,
            dblClickDistThreshold: 20,
            springStiffness: 6.5,
            animationTime: 1.2,
            gestureSettingsMouse: {
              scrollToZoom: !0,
              clickToZoom: !0,
              dblClickToZoom: !1,
              pinchToZoom: !1,
              zoomToRefPoint: !0,
              flickEnabled: !1,
              flickMinSpeed: 120,
              flickMomentum: 0.25,
              pinchRotate: !1,
            },
            gestureSettingsTouch: {
              scrollToZoom: !1,
              clickToZoom: !1,
              dblClickToZoom: !0,
              pinchToZoom: !0,
              zoomToRefPoint: !0,
              flickEnabled: !0,
              flickMinSpeed: 120,
              flickMomentum: 0.25,
              pinchRotate: !1,
            },
            gestureSettingsPen: {
              scrollToZoom: !1,
              clickToZoom: !0,
              dblClickToZoom: !1,
              pinchToZoom: !1,
              zoomToRefPoint: !0,
              flickEnabled: !1,
              flickMinSpeed: 120,
              flickMomentum: 0.25,
              pinchRotate: !1,
            },
            gestureSettingsUnknown: {
              scrollToZoom: !1,
              clickToZoom: !1,
              dblClickToZoom: !0,
              pinchToZoom: !0,
              zoomToRefPoint: !0,
              flickEnabled: !0,
              flickMinSpeed: 120,
              flickMomentum: 0.25,
              pinchRotate: !1,
            },
            zoomPerClick: 2,
            zoomPerScroll: 1.2,
            zoomPerSecond: 1,
            blendTime: 0,
            alwaysBlend: !1,
            autoHideControls: !0,
            immediateRender: !1,
            minZoomImageRatio: 0.9,
            maxZoomPixelRatio: 1.1,
            smoothTileEdgesMinZoom: 1.1,
            iOSDevice: isIOSDevice(),
            pixelsPerWheelLine: 40,
            pixelsPerArrowPress: 40,
            autoResize: !0,
            preserveImageSizeOnResize: !1,
            minScrollDeltaTime: 50,
            rotationIncrement: 90,
            showSequenceControl: !0,
            sequenceControlAnchor: null,
            preserveViewport: !1,
            preserveOverlays: !1,
            navPrevNextWrap: !1,
            showNavigationControl: !0,
            navigationControlAnchor: null,
            showZoomControl: !0,
            showHomeControl: !0,
            showFullPageControl: !0,
            showRotationControl: !1,
            showFlipControl: !1,
            controlsFadeDelay: 2e3,
            controlsFadeLength: 1500,
            mouseNavEnabled: !0,
            showNavigator: !1,
            navigatorId: null,
            navigatorPosition: null,
            navigatorSizeRatio: 0.2,
            navigatorMaintainSizeRatio: !1,
            navigatorTop: null,
            navigatorLeft: null,
            navigatorHeight: null,
            navigatorWidth: null,
            navigatorAutoResize: !0,
            navigatorAutoFade: !0,
            navigatorRotate: !0,
            navigatorBackground: "#000",
            navigatorOpacity: 0.8,
            navigatorBorderColor: "#555",
            navigatorDisplayRegionColor: "#900",
            degrees: 0,
            flipped: !1,
            opacity: 1,
            preload: !1,
            compositeOperation: null,
            imageSmoothingEnabled: !0,
            placeholderFillStyle: null,
            showReferenceStrip: !1,
            referenceStripScroll: "horizontal",
            referenceStripElement: null,
            referenceStripHeight: null,
            referenceStripWidth: null,
            referenceStripPosition: "BOTTOM_LEFT",
            referenceStripSizeRatio: 0.2,
            collectionRows: 3,
            collectionColumns: 0,
            collectionLayout: "horizontal",
            collectionMode: !1,
            collectionTileSize: 800,
            collectionTileMargin: 80,
            imageLoaderLimit: 0,
            maxImageCacheCount: 200,
            timeout: 3e4,
            useCanvas: !0,
            prefixUrl: "/images/",
            navImages: {
              zoomIn: {
                REST: "zoomin_rest.png",
                GROUP: "zoomin_grouphover.png",
                HOVER: "zoomin_hover.png",
                DOWN: "zoomin_pressed.png",
              },
              zoomOut: {
                REST: "zoomout_rest.png",
                GROUP: "zoomout_grouphover.png",
                HOVER: "zoomout_hover.png",
                DOWN: "zoomout_pressed.png",
              },
              home: {
                REST: "home_rest.png",
                GROUP: "home_grouphover.png",
                HOVER: "home_hover.png",
                DOWN: "home_pressed.png",
              },
              fullpage: {
                REST: "fullpage_rest.png",
                GROUP: "fullpage_grouphover.png",
                HOVER: "fullpage_hover.png",
                DOWN: "fullpage_pressed.png",
              },
              rotateleft: {
                REST: "rotateleft_rest.png",
                GROUP: "rotateleft_grouphover.png",
                HOVER: "rotateleft_hover.png",
                DOWN: "rotateleft_pressed.png",
              },
              rotateright: {
                REST: "rotateright_rest.png",
                GROUP: "rotateright_grouphover.png",
                HOVER: "rotateright_hover.png",
                DOWN: "rotateright_pressed.png",
              },
              flip: {
                REST: "flip_rest.png",
                GROUP: "flip_grouphover.png",
                HOVER: "flip_hover.png",
                DOWN: "flip_pressed.png",
              },
              previous: {
                REST: "previous_rest.png",
                GROUP: "previous_grouphover.png",
                HOVER: "previous_hover.png",
                DOWN: "previous_pressed.png",
              },
              next: {
                REST: "next_rest.png",
                GROUP: "next_grouphover.png",
                HOVER: "next_hover.png",
                DOWN: "next_pressed.png",
              },
            },
            debugMode: !1,
            debugGridColor: [
              "#437AB2",
              "#1B9E77",
              "#D95F02",
              "#7570B3",
              "#E7298A",
              "#66A61E",
              "#E6AB02",
              "#A6761D",
              "#666666",
            ],
          },
          SIGNAL: "----seadragon----",
          delegate: function (e, t) {
            return function () {
              var i = arguments;
              return void 0 === i && (i = []), t.apply(e, i);
            };
          },
          BROWSERS: {
            UNKNOWN: 0,
            IE: 1,
            FIREFOX: 2,
            SAFARI: 3,
            CHROME: 4,
            OPERA: 5,
          },
          getElement: function (e) {
            return "string" == typeof e && (e = document.getElementById(e)), e;
          },
          getElementPosition: function (e) {
            var t,
              i,
              n = new $.Point();
            for (
              i = getOffsetParent(
                (e = $.getElement(e)),
                (t = "fixed" == $.getElementStyle(e).position)
              );
              i;

            )
              (n.x += e.offsetLeft),
                (n.y += e.offsetTop),
                t && (n = n.plus($.getPageScroll())),
                (i = getOffsetParent(
                  (e = i),
                  (t = "fixed" == $.getElementStyle(e).position)
                ));
            return n;
          },
          getElementOffset: function (e) {
            var t,
              i,
              n = (e = $.getElement(e)) && e.ownerDocument,
              o = { top: 0, left: 0 };
            return n
              ? ((t = n.documentElement),
                void 0 !== e.getBoundingClientRect &&
                (o = e.getBoundingClientRect()),
                (i =
                  n == n.window
                    ? n
                    : 9 === n.nodeType && (n.defaultView || n.parentWindow)),
                new $.Point(
                  o.left +
                  (i.pageXOffset || t.scrollLeft) -
                  (t.clientLeft || 0),
                  o.top + (i.pageYOffset || t.scrollTop) - (t.clientTop || 0)
                ))
              : new $.Point();
          },
          getElementSize: function (e) {
            return (
              (e = $.getElement(e)), new $.Point(e.clientWidth, e.clientHeight)
            );
          },
          getElementStyle: document.documentElement.currentStyle
            ? function (e) {
              return (e = $.getElement(e)).currentStyle;
            }
            : function (e) {
              return (e = $.getElement(e)), window.getComputedStyle(e, "");
            },
          getCssPropertyWithVendorPrefix: function (e) {
            var t = {};
            return (
              ($.getCssPropertyWithVendorPrefix = function (e) {
                if (void 0 !== t[e]) return t[e];
                var i = document.createElement("div").style,
                  n = null;
                if (void 0 !== i[e]) n = e;
                else
                  for (
                    var o = [
                      "Webkit",
                      "Moz",
                      "MS",
                      "O",
                      "webkit",
                      "moz",
                      "ms",
                      "o",
                    ],
                    r = $.capitalizeFirstLetter(e),
                    a = 0;
                    a < o.length;
                    a++
                  ) {
                    var s = o[a] + r;
                    if (void 0 !== i[s]) {
                      n = s;
                      break;
                    }
                  }
                return (t[e] = n), n;
              }),
              $.getCssPropertyWithVendorPrefix(e)
            );
          },
          capitalizeFirstLetter: function (e) {
            return e.charAt(0).toUpperCase() + e.slice(1);
          },
          positiveModulo: function (e, t) {
            var i = e % t;
            return i < 0 && (i += t), i;
          },
          pointInElement: function (e, t) {
            e = $.getElement(e);
            var i = $.getElementOffset(e),
              n = $.getElementSize(e);
            return (
              t.x >= i.x && t.x < i.x + n.x && t.y < i.y + n.y && t.y >= i.y
            );
          },
          getEvent: function (e) {
            return (
              ($.getEvent = e
                ? function (e) {
                  return e;
                }
                : function () {
                  return window.event;
                }),
              $.getEvent(e)
            );
          },
          getMousePosition: function (e) {
            if ("number" == typeof e.pageX)
              $.getMousePosition = function (e) {
                var t = new $.Point();
                return (e = $.getEvent(e)), (t.x = e.pageX), (t.y = e.pageY), t;
              };
            else {
              if ("number" != typeof e.clientX)
                throw new Error(
                  "Unknown event mouse position, no known technique."
                );
              $.getMousePosition = function (e) {
                var t = new $.Point();
                return (
                  (e = $.getEvent(e)),
                  (t.x =
                    e.clientX +
                    document.body.scrollLeft +
                    document.documentElement.scrollLeft),
                  (t.y =
                    e.clientY +
                    document.body.scrollTop +
                    document.documentElement.scrollTop),
                  t
                );
              };
            }
            return $.getMousePosition(e);
          },
          getPageScroll: function () {
            var e = document.documentElement || {},
              t = document.body || {};
            if ("number" == typeof window.pageXOffset)
              $.getPageScroll = function () {
                return new $.Point(window.pageXOffset, window.pageYOffset);
              };
            else if (t.scrollLeft || t.scrollTop)
              $.getPageScroll = function () {
                return new $.Point(
                  document.body.scrollLeft,
                  document.body.scrollTop
                );
              };
            else {
              if (!e.scrollLeft && !e.scrollTop) return new $.Point(0, 0);
              $.getPageScroll = function () {
                return new $.Point(
                  document.documentElement.scrollLeft,
                  document.documentElement.scrollTop
                );
              };
            }
            return $.getPageScroll();
          },
          setPageScroll: function (e) {
            if (void 0 !== window.scrollTo)
              $.setPageScroll = function (e) {
                window.scrollTo(e.x, e.y);
              };
            else {
              var t = $.getPageScroll();
              if (t.x === e.x && t.y === e.y) return;
              (document.body.scrollLeft = e.x), (document.body.scrollTop = e.y);
              var i = $.getPageScroll();
              if (i.x !== t.x && i.y !== t.y)
                return void ($.setPageScroll = function (e) {
                  (document.body.scrollLeft = e.x),
                    (document.body.scrollTop = e.y);
                });
              if (
                ((document.documentElement.scrollLeft = e.x),
                  (document.documentElement.scrollTop = e.y),
                  (i = $.getPageScroll()).x !== t.x && i.y !== t.y)
              )
                return void ($.setPageScroll = function (e) {
                  (document.documentElement.scrollLeft = e.x),
                    (document.documentElement.scrollTop = e.y);
                });
              $.setPageScroll = function (e) { };
            }
            return $.setPageScroll(e);
          },
          getWindowSize: function () {
            var e = document.documentElement || {},
              t = document.body || {};
            if ("number" == typeof window.innerWidth)
              $.getWindowSize = function () {
                return new $.Point(window.innerWidth, window.innerHeight);
              };
            else if (e.clientWidth || e.clientHeight)
              $.getWindowSize = function () {
                return new $.Point(
                  document.documentElement.clientWidth,
                  document.documentElement.clientHeight
                );
              };
            else {
              if (!t.clientWidth && !t.clientHeight)
                throw new Error("Unknown window size, no known technique.");
              $.getWindowSize = function () {
                return new $.Point(
                  document.body.clientWidth,
                  document.body.clientHeight
                );
              };
            }
            return $.getWindowSize();
          },
          makeCenteredNode: function (e) {
            e = $.getElement(e);
            var t = [
              $.makeNeutralElement("div"),
              $.makeNeutralElement("div"),
              $.makeNeutralElement("div"),
            ];
            return (
              $.extend(t[0].style, {
                display: "table",
                height: "100%",
                width: "100%",
              }),
              $.extend(t[1].style, { display: "table-row" }),
              $.extend(t[2].style, {
                display: "table-cell",
                verticalAlign: "middle",
                textAlign: "center",
              }),
              t[0].appendChild(t[1]),
              t[1].appendChild(t[2]),
              t[2].appendChild(e),
              t[0]
            );
          },
          makeNeutralElement: function (e) {
            var t = document.createElement(e),
              i = t.style;
            return (
              (i.background = "transparent none"),
              (i.border = "none"),
              (i.margin = "0px"),
              (i.padding = "0px"),
              (i.position = "static"),
              t
            );
          },
          now: function () {
            return (
              Date.now
                ? ($.now = Date.now)
                : ($.now = function () {
                  return new Date().getTime();
                }),
              $.now()
            );
          },
          makeTransparentImage: function (e) {
            return (
              ($.makeTransparentImage = function (e) {
                var t = $.makeNeutralElement("img");
                return (t.src = e), t;
              }),
              $.Browser.vendor == $.BROWSERS.IE &&
              $.Browser.version < 7 &&
              ($.makeTransparentImage = function (e) {
                var t = $.makeNeutralElement("img"),
                  i = null;
                return (
                  ((i = $.makeNeutralElement("span")).style.display =
                    "inline-block"),
                  (t.onload = function () {
                    (i.style.width = i.style.width || t.width + "px"),
                      (i.style.height = i.style.height || t.height + "px"),
                      (t.onload = null),
                      (t = null);
                  }),
                  (t.src = e),
                  (i.style.filter =
                    "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" +
                    e +
                    "', sizingMethod='scale')"),
                  i
                );
              }),
              $.makeTransparentImage(e)
            );
          },
          setElementOpacity: function (e, t, i) {
            var n;
            (e = $.getElement(e)),
              i && !$.Browser.alpha && (t = Math.round(t)),
              $.Browser.opacity
                ? (e.style.opacity = t < 1 ? t : "")
                : t < 1
                  ? ((n = "alpha(opacity=" + Math.round(100 * t) + ")"),
                    (e.style.filter = n))
                  : (e.style.filter = "");
          },
          setElementTouchActionNone: function (e) {
            void 0 !== (e = $.getElement(e)).style.touchAction
              ? (e.style.touchAction = "none")
              : void 0 !== e.style.msTouchAction &&
              (e.style.msTouchAction = "none");
          },
          addClass: function (e, t) {
            (e = $.getElement(e)).className
              ? -1 === (" " + e.className + " ").indexOf(" " + t + " ") &&
              (e.className += " " + t)
              : (e.className = t);
          },
          indexOf: function (e, t, i) {
            return (
              Array.prototype.indexOf
                ? (this.indexOf = function (e, t, i) {
                  return e.indexOf(t, i);
                })
                : (this.indexOf = function (e, t, i) {
                  var n,
                    o,
                    r = i || 0;
                  if (!e) throw new TypeError();
                  if (0 === (o = e.length) || r >= o) return -1;
                  for (r < 0 && (r = o - Math.abs(r)), n = r; n < o; n++)
                    if (e[n] === t) return n;
                  return -1;
                }),
              this.indexOf(e, t, i)
            );
          },
          removeClass: function (e, t) {
            var i,
              n,
              o = [];
            for (
              i = (e = $.getElement(e)).className.split(/\s+/), n = 0;
              n < i.length;
              n++
            )
              i[n] && i[n] !== t && o.push(i[n]);
            e.className = o.join(" ");
          },
          addEvent: (function () {
            if (window.addEventListener)
              return function (e, t, i, n) {
                (e = $.getElement(e)).addEventListener(t, i, n);
              };
            if (window.attachEvent)
              return function (e, t, i, n) {
                (e = $.getElement(e)).attachEvent("on" + t, i);
              };
            throw new Error("No known event model.");
          })(),
          removeEvent: (function () {
            if (window.removeEventListener)
              return function (e, t, i, n) {
                (e = $.getElement(e)).removeEventListener(t, i, n);
              };
            if (window.detachEvent)
              return function (e, t, i, n) {
                (e = $.getElement(e)).detachEvent("on" + t, i);
              };
            throw new Error("No known event model.");
          })(),
          cancelEvent: function (e) {
            (e = $.getEvent(e)).preventDefault
              ? ($.cancelEvent = function (e) {
                e.preventDefault();
              })
              : ($.cancelEvent = function (e) {
                ((e = $.getEvent(e)).cancel = !0), (e.returnValue = !1);
              }),
              $.cancelEvent(e);
          },
          stopEvent: function (e) {
            (e = $.getEvent(e)).stopPropagation
              ? ($.stopEvent = function (e) {
                e.stopPropagation();
              })
              : ($.stopEvent = function (e) {
                (e = $.getEvent(e)).cancelBubble = !0;
              }),
              $.stopEvent(e);
          },
          createCallback: function (e, t) {
            var i,
              n = [];
            for (i = 2; i < arguments.length; i++) n.push(arguments[i]);
            return function () {
              var i,
                o = n.concat([]);
              for (i = 0; i < arguments.length; i++) o.push(arguments[i]);
              return t.apply(e, o);
            };
          },
          getUrlParameter: function (e) {
            var t = URLPARAMS[e];
            return t || null;
          },
          getUrlProtocol: function (e) {
            var t = e.match(/^([a-z]+:)\/\//i);
            return null === t ? window.location.protocol : t[1].toLowerCase();
          },
          createAjaxRequest: function (e) {
            var t;
            try {
              t = !!new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {
              t = !1;
            }
            if (t)
              window.XMLHttpRequest
                ? ($.createAjaxRequest = function (e) {
                  return e
                    ? new ActiveXObject("Microsoft.XMLHTTP")
                    : new XMLHttpRequest();
                })
                : ($.createAjaxRequest = function () {
                  return new ActiveXObject("Microsoft.XMLHTTP");
                });
            else {
              if (!window.XMLHttpRequest)
                throw new Error("Browser doesn't support XMLHttpRequest.");
              $.createAjaxRequest = function () {
                return new XMLHttpRequest();
              };
            }
            return $.createAjaxRequest(e);
          },
          makeAjaxRequest: function (e, t, i) {
            var n, o, r;
            $.isPlainObject(e) &&
              ((t = e.success),
                (i = e.error),
                (n = e.withCredentials),
                (o = e.headers),
                (r = e.responseType || null),
                (e = e.url));
            var a = $.getUrlProtocol(e),
              s = $.createAjaxRequest("file:" === a);
            if (!$.isFunction(t))
              throw new Error("makeAjaxRequest requires a success callback");
            s.onreadystatechange = function () {
              4 == s.readyState &&
                ((s.onreadystatechange = function () { }),
                  (s.status >= 200 && s.status < 300) ||
                    (0 === s.status && "http:" !== a && "https:" !== a)
                    ? t(s)
                    : ($.console.log("AJAX request returned %d: %s", s.status, e),
                      $.isFunction(i) && i(s)));
            };
            try {
              if ((s.open("GET", e, !0), r && (s.responseType = r), o))
                for (var l in o)
                  Object.prototype.hasOwnProperty.call(o, l) &&
                    o[l] &&
                    s.setRequestHeader(l, o[l]);
              n && (s.withCredentials = !0), s.send(null);
            } catch (n) {
              var c = n.message;
              if (
                ($.Browser.vendor == $.BROWSERS.IE &&
                  $.Browser.version < 10 &&
                  void 0 !== n.number &&
                  -2147024891 == n.number &&
                  (c +=
                    "\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),
                  $.console.log("%s while making AJAX request: %s", n.name, c),
                  (s.onreadystatechange = function () { }),
                  window.XDomainRequest)
              ) {
                var u = new window.XDomainRequest();
                if (u) {
                  (u.onload = function (e) {
                    $.isFunction(t) &&
                      t({
                        responseText: u.responseText,
                        status: 200,
                        statusText: "OK",
                      });
                  }),
                    (u.onerror = function (e) {
                      $.isFunction(i) &&
                        i({
                          responseText: u.responseText,
                          status: 444,
                          statusText:
                            "An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser.",
                        });
                    });
                  try {
                    u.open("GET", e), u.send();
                  } catch (e) {
                    $.isFunction(i) && i(s, n);
                  }
                }
              } else $.isFunction(i) && i(s, n);
            }
            return s;
          },
          jsonp: function (e) {
            var t,
              i = e.url,
              n =
                document.head ||
                document.getElementsByTagName("head")[0] ||
                document.documentElement,
              o = e.callbackName || "openseadragon" + $.now(),
              r = window[o],
              a = "$1" + o + "$2",
              s = e.param || "callback",
              l = e.callback;
            (i = i.replace(/(\=)\?(&|$)|\?\?/i, a)),
              (i += (/\?/.test(i) ? "&" : "?") + s + "=" + o),
              (window[o] = function (e) {
                if (r) window[o] = r;
                else
                  try {
                    delete window[o];
                  } catch (e) { }
                l && $.isFunction(l) && l(e);
              }),
              (t = document.createElement("script")),
              (void 0 === e.async && !1 === e.async) || (t.async = "async"),
              e.scriptCharset && (t.charset = e.scriptCharset),
              (t.src = i),
              (t.onload = t.onreadystatechange =
                function (e, i) {
                  (i ||
                    !t.readyState ||
                    /loaded|complete/.test(t.readyState)) &&
                    ((t.onload = t.onreadystatechange = null),
                      n && t.parentNode && n.removeChild(t),
                      (t = void 0));
                }),
              n.insertBefore(t, n.firstChild);
          },
          createFromDZI: function () {
            throw "OpenSeadragon.createFromDZI is deprecated, use Viewer.open.";
          },
          parseXml: function (e) {
            if (window.DOMParser)
              $.parseXml = function (e) {
                return new DOMParser().parseFromString(e, "text/xml");
              };
            else {
              if (!window.ActiveXObject)
                throw new Error("Browser doesn't support XML DOM.");
              $.parseXml = function (e) {
                var t = null;
                return (
                  ((t = new ActiveXObject("Microsoft.XMLDOM")).async = !1),
                  t.loadXML(e),
                  t
                );
              };
            }
            return $.parseXml(e);
          },
          parseJSON: function (string) {
            return (
              window.JSON && window.JSON.parse
                ? ($.parseJSON = window.JSON.parse)
                : ($.parseJSON = function (string) {
                  return eval("(" + string + ")");
                }),
              $.parseJSON(string)
            );
          },
          imageFormatSupported: function (e) {
            return !!FILEFORMATS[(e = e || "").toLowerCase()];
          },
        });
        var nullfunction = function (e) { };
        ($.console = window.console || {
          log: nullfunction,
          debug: nullfunction,
          info: nullfunction,
          warn: nullfunction,
          error: nullfunction,
          assert: nullfunction,
        }),
          ($.Browser = { vendor: $.BROWSERS.UNKNOWN, version: 0, alpha: !0 });
        var FILEFORMATS = {
          bmp: !1,
          jpeg: !0,
          jpg: !0,
          png: !0,
          tif: !1,
          wdp: !1,
        },
          URLPARAMS = {};
        function getOffsetParent(e, t) {
          return t && e != document.body ? document.body : e.offsetParent;
        }
        !(function () {
          var e = navigator.appVersion,
            t = navigator.userAgent;
          switch (navigator.appName) {
            case "Microsoft Internet Explorer":
              window.attachEvent &&
                window.ActiveXObject &&
                (($.Browser.vendor = $.BROWSERS.IE),
                  ($.Browser.version = parseFloat(
                    t.substring(
                      t.indexOf("MSIE") + 5,
                      t.indexOf(";", t.indexOf("MSIE"))
                    )
                  )));
              break;
            case "Netscape":
              window.addEventListener &&
                (t.indexOf("Firefox") >= 0
                  ? (($.Browser.vendor = $.BROWSERS.FIREFOX),
                    ($.Browser.version = parseFloat(
                      t.substring(t.indexOf("Firefox") + 8)
                    )))
                  : t.indexOf("Safari") >= 0
                    ? (($.Browser.vendor =
                      t.indexOf("Chrome") >= 0
                        ? $.BROWSERS.CHROME
                        : $.BROWSERS.SAFARI),
                      ($.Browser.version = parseFloat(
                        t.substring(
                          t.substring(0, t.indexOf("Safari")).lastIndexOf("/") +
                          1,
                          t.indexOf("Safari")
                        )
                      )))
                    : null !==
                    new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(
                      t
                    ) &&
                    (($.Browser.vendor = $.BROWSERS.IE),
                      ($.Browser.version = parseFloat(RegExp.$1))));
              break;
            case "Opera":
              ($.Browser.vendor = $.BROWSERS.OPERA),
                ($.Browser.version = parseFloat(e));
          }
          var i,
            n,
            o,
            r = window.location.search.substring(1).split("&");
          for (o = 0; o < r.length; o++)
            if ((n = (i = r[o]).indexOf("=")) > 0) {
              var a = i.substring(0, n),
                s = i.substring(n + 1);
              try {
                URLPARAMS[a] = decodeURIComponent(s);
              } catch (e) {
                $.console.error(
                  "Ignoring malformed URL parameter: %s=%s",
                  a,
                  s
                );
              }
            }
          ($.Browser.alpha = !(
            ($.Browser.vendor == $.BROWSERS.IE && $.Browser.version < 9) ||
            ($.Browser.vendor == $.BROWSERS.CHROME && $.Browser.version < 2)
          )),
            ($.Browser.opacity = !(
              $.Browser.vendor == $.BROWSERS.IE && $.Browser.version < 9
            ));
        })(),
          (function (e) {
            var t =
              e.requestAnimationFrame ||
              e.mozRequestAnimationFrame ||
              e.webkitRequestAnimationFrame ||
              e.msRequestAnimationFrame,
              i =
                e.cancelAnimationFrame ||
                e.mozCancelAnimationFrame ||
                e.webkitCancelAnimationFrame ||
                e.msCancelAnimationFrame;
            if (t && i)
              ($.requestAnimationFrame = function () {
                return t.apply(e, arguments);
              }),
                ($.cancelAnimationFrame = function () {
                  return i.apply(e, arguments);
                });
            else {
              var n,
                o = [],
                r = [],
                a = 0;
              ($.requestAnimationFrame = function (e) {
                return (
                  o.push([++a, e]),
                  n ||
                  (n = setInterval(function () {
                    if (o.length) {
                      var e = $.now(),
                        t = r;
                      for (r = o, o = t; r.length;) r.shift()[1](e);
                    } else clearInterval(n), (n = void 0);
                  }, 20)),
                  a
                );
              }),
                ($.cancelAnimationFrame = function (e) {
                  var t, i;
                  for (t = 0, i = o.length; t < i; t += 1)
                    if (o[t][0] === e) return void o.splice(t, 1);
                  for (t = 0, i = r.length; t < i; t += 1)
                    if (r[t][0] === e) return void r.splice(t, 1);
                });
            }
          })(window);
      })(OpenSeadragon),
      (__WEBPACK_AMD_DEFINE_ARRAY__ = []),
      void 0 ===
      (__WEBPACK_AMD_DEFINE_RESULT__ =
        "function" ==
          typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = function () {
            return OpenSeadragon;
          })
          ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(
            exports,
            __WEBPACK_AMD_DEFINE_ARRAY__
          )
          : __WEBPACK_AMD_DEFINE_FACTORY__) ||
      (module.exports = __WEBPACK_AMD_DEFINE_RESULT__),
      ($ = OpenSeadragon),
      (fullScreenApi = {
        supportsFullScreen: !1,
        isFullScreen: function () {
          return !1;
        },
        getFullScreenElement: function () {
          return null;
        },
        requestFullScreen: function () { },
        exitFullScreen: function () { },
        cancelFullScreen: function () { },
        fullScreenEventName: "",
        fullScreenErrorEventName: "",
      }),
      document.exitFullscreen
        ? ((fullScreenApi.supportsFullScreen = !0),
          (fullScreenApi.getFullScreenElement = function () {
            return document.fullscreenElement;
          }),
          (fullScreenApi.requestFullScreen = function (e) {
            return e.requestFullscreen();
          }),
          (fullScreenApi.exitFullScreen = function () {
            document.exitFullscreen();
          }),
          (fullScreenApi.fullScreenEventName = "fullscreenchange"),
          (fullScreenApi.fullScreenErrorEventName = "fullscreenerror"))
        : document.msExitFullscreen
          ? ((fullScreenApi.supportsFullScreen = !0),
            (fullScreenApi.getFullScreenElement = function () {
              return document.msFullscreenElement;
            }),
            (fullScreenApi.requestFullScreen = function (e) {
              return e.msRequestFullscreen();
            }),
            (fullScreenApi.exitFullScreen = function () {
              document.msExitFullscreen();
            }),
            (fullScreenApi.fullScreenEventName = "MSFullscreenChange"),
            (fullScreenApi.fullScreenErrorEventName = "MSFullscreenError"))
          : document.webkitExitFullscreen
            ? ((fullScreenApi.supportsFullScreen = !0),
              (fullScreenApi.getFullScreenElement = function () {
                return document.webkitFullscreenElement;
              }),
              (fullScreenApi.requestFullScreen = function (e) {
                return e.webkitRequestFullscreen();
              }),
              (fullScreenApi.exitFullScreen = function () {
                document.webkitExitFullscreen();
              }),
              (fullScreenApi.fullScreenEventName = "webkitfullscreenchange"),
              (fullScreenApi.fullScreenErrorEventName = "webkitfullscreenerror"))
            : document.webkitCancelFullScreen
              ? ((fullScreenApi.supportsFullScreen = !0),
                (fullScreenApi.getFullScreenElement = function () {
                  return document.webkitCurrentFullScreenElement;
                }),
                (fullScreenApi.requestFullScreen = function (e) {
                  return e.webkitRequestFullScreen();
                }),
                (fullScreenApi.exitFullScreen = function () {
                  document.webkitCancelFullScreen();
                }),
                (fullScreenApi.fullScreenEventName = "webkitfullscreenchange"),
                (fullScreenApi.fullScreenErrorEventName = "webkitfullscreenerror"))
              : document.mozCancelFullScreen &&
              ((fullScreenApi.supportsFullScreen = !0),
                (fullScreenApi.getFullScreenElement = function () {
                  return document.mozFullScreenElement;
                }),
                (fullScreenApi.requestFullScreen = function (e) {
                  return e.mozRequestFullScreen();
                }),
                (fullScreenApi.exitFullScreen = function () {
                  document.mozCancelFullScreen();
                }),
                (fullScreenApi.fullScreenEventName = "mozfullscreenchange"),
                (fullScreenApi.fullScreenErrorEventName = "mozfullscreenerror")),
      (fullScreenApi.isFullScreen = function () {
        return null !== fullScreenApi.getFullScreenElement();
      }),
      (fullScreenApi.cancelFullScreen = function () {
        $.console.error(
          "cancelFullScreen is deprecated. Use exitFullScreen instead."
        ),
          fullScreenApi.exitFullScreen();
      }),
      $.extend($, fullScreenApi),
      (function (e) {
        (e.EventSource = function () {
          this.events = {};
        }),
          (e.EventSource.prototype = {
            addOnceHandler: function (e, t, i, n) {
              var o = this;
              n = n || 1;
              var r = 0,
                a = function (i) {
                  ++r === n && o.removeHandler(e, a), t(i);
                };
              this.addHandler(e, a, i);
            },
            addHandler: function (t, i, n) {
              var o = this.events[t];
              o || (this.events[t] = o = []),
                i &&
                e.isFunction(i) &&
                (o[o.length] = { handler: i, userData: n || null });
            },
            removeHandler: function (t, i) {
              var n,
                o = this.events[t],
                r = [];
              if (o && e.isArray(o)) {
                for (n = 0; n < o.length; n++)
                  o[n].handler !== i && r.push(o[n]);
                this.events[t] = r;
              }
            },
            removeAllHandlers: function (e) {
              if (e) this.events[e] = [];
              else for (var t in this.events) this.events[t] = [];
            },
            getHandler: function (e) {
              var t = this.events[e];
              return t && t.length
                ? ((t = 1 === t.length ? [t[0]] : Array.apply(null, t)),
                  function (e, i) {
                    var n,
                      o = t.length;
                    for (n = 0; n < o; n++)
                      t[n] &&
                        ((i.eventSource = e),
                          (i.userData = t[n].userData),
                          t[n].handler(i));
                  })
                : null;
            },
            raiseEvent: function (e, t) {
              var i = this.getHandler(e);
              i && (t || (t = {}), i(this, t));
            },
          });
      })(OpenSeadragon),
      (function (e) {
        var t,
          i,
          n,
          o,
          r,
          a,
          s = [],
          l = {};
        function c(t) {
          var i,
            n = l[t.hash],
            o = n.activePointersLists.length;
          for (i = 0; i < o; i++)
            n.activePointersLists[i].captureCount > 0 &&
              (e.removeEvent(
                e.MouseTracker.captureElement,
                "mousemove",
                n.mousemovecaptured,
                !0
              ),
                e.removeEvent(
                  e.MouseTracker.captureElement,
                  "mouseup",
                  n.mouseupcaptured,
                  !0
                ),
                e.removeEvent(
                  e.MouseTracker.captureElement,
                  e.MouseTracker.unprefixedPointerEvents
                    ? "pointermove"
                    : "MSPointerMove",
                  n.pointermovecaptured,
                  !0
                ),
                e.removeEvent(
                  e.MouseTracker.captureElement,
                  e.MouseTracker.unprefixedPointerEvents
                    ? "pointerup"
                    : "MSPointerUp",
                  n.pointerupcaptured,
                  !0
                ),
                e.removeEvent(
                  e.MouseTracker.captureElement,
                  "touchmove",
                  n.touchmovecaptured,
                  !0
                ),
                e.removeEvent(
                  e.MouseTracker.captureElement,
                  "touchend",
                  n.touchendcaptured,
                  !0
                ),
                (n.activePointersLists[i].captureCount = 0));
          for (i = 0; i < o; i++) n.activePointersLists.pop();
        }
        function u(t) {
          var i,
            n,
            o = l[t.hash];
          if (o.tracking) {
            for (n = 0; n < e.MouseTracker.subscribeEvents.length; n++)
              (i = e.MouseTracker.subscribeEvents[n]),
                e.removeEvent(t.element, i, o[i], !1);
            c(t), (o.tracking = !1);
          }
        }
        function d(t, i) {
          var n = l[t.hash];
          if ("pointerevent" === i)
            return {
              upName: e.MouseTracker.unprefixedPointerEvents
                ? "pointerup"
                : "MSPointerUp",
              upHandler: n.pointerupcaptured,
              moveName: e.MouseTracker.unprefixedPointerEvents
                ? "pointermove"
                : "MSPointerMove",
              moveHandler: n.pointermovecaptured,
            };
          if ("mouse" === i)
            return {
              upName: "mouseup",
              upHandler: n.mouseupcaptured,
              moveName: "mousemove",
              moveHandler: n.mousemovecaptured,
            };
          if ("touch" === i)
            return {
              upName: "touchend",
              upHandler: n.touchendcaptured,
              moveName: "touchmove",
              moveHandler: n.touchmovecaptured,
            };
          throw new Error(
            "MouseTracker.getCaptureEventParams: Unknown pointer type."
          );
        }
        function p(t, i, n) {
          var o,
            r = t.getActivePointersListByType(i);
          (r.captureCount += n || 1),
            1 === r.captureCount &&
            (e.Browser.vendor === e.BROWSERS.IE && e.Browser.version < 9
              ? t.element.setCapture(!0)
              : ((o = d(
                t,
                e.MouseTracker.havePointerEvents ? "pointerevent" : i
              )),
                be &&
                ye(window.top) &&
                e.addEvent(window.top, o.upName, o.upHandler, !0),
                e.addEvent(
                  e.MouseTracker.captureElement,
                  o.upName,
                  o.upHandler,
                  !0
                ),
                e.addEvent(
                  e.MouseTracker.captureElement,
                  o.moveName,
                  o.moveHandler,
                  !0
                )));
        }
        function h(t, i, n) {
          var o,
            r = t.getActivePointersListByType(i);
          (r.captureCount -= n || 1),
            0 === r.captureCount &&
            (e.Browser.vendor === e.BROWSERS.IE && e.Browser.version < 9
              ? t.element.releaseCapture()
              : ((o = d(
                t,
                e.MouseTracker.havePointerEvents ? "pointerevent" : i
              )),
                be &&
                ye(window.top) &&
                e.removeEvent(window.top, o.upName, o.upHandler, !0),
                e.removeEvent(
                  e.MouseTracker.captureElement,
                  o.moveName,
                  o.moveHandler,
                  !0
                ),
                e.removeEvent(
                  e.MouseTracker.captureElement,
                  o.upName,
                  o.upHandler,
                  !0
                )));
        }
        function f(t) {
          var i;
          if (e.MouseTracker.unprefixedPointerEvents) i = t.pointerType;
          else
            switch (t.pointerType) {
              case 2:
                i = "touch";
                break;
              case 3:
                i = "pen";
                break;
              case 4:
                i = "mouse";
                break;
              default:
                i = "";
            }
          return i;
        }
        function g(t) {
          return e.getMousePosition(t);
        }
        function m(e, t) {
          return v(g(e), t);
        }
        function v(t, i) {
          var n = e.getElementOffset(i);
          return t.minus(n);
        }
        function b(t, i) {
          return new e.Point((t.x + i.x) / 2, (t.y + i.y) / 2);
        }
        function y(t, i) {
          t.clickHandler && e.cancelEvent(i);
        }
        function x(t, i) {
          t.dblClickHandler && e.cancelEvent(i);
        }
        function w(t, i) {
          t.keyDownHandler &&
            ((i = e.getEvent(i)),
              t.keyDownHandler({
                eventSource: t,
                keyCode: i.keyCode ? i.keyCode : i.charCode,
                ctrl: i.ctrlKey,
                shift: i.shiftKey,
                alt: i.altKey,
                meta: i.metaKey,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) || e.cancelEvent(i));
        }
        function _(t, i) {
          t.keyUpHandler &&
            ((i = e.getEvent(i)),
              t.keyUpHandler({
                eventSource: t,
                keyCode: i.keyCode ? i.keyCode : i.charCode,
                ctrl: i.ctrlKey,
                shift: i.shiftKey,
                alt: i.altKey,
                meta: i.metaKey,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) || e.cancelEvent(i));
        }
        function A(t, i) {
          t.keyHandler &&
            ((i = e.getEvent(i)),
              t.keyHandler({
                eventSource: t,
                keyCode: i.keyCode ? i.keyCode : i.charCode,
                ctrl: i.ctrlKey,
                shift: i.shiftKey,
                alt: i.altKey,
                meta: i.metaKey,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) || e.cancelEvent(i));
        }
        function E(t, i) {
          t.focusHandler &&
            ((i = e.getEvent(i)),
              !1 ===
              t.focusHandler({
                eventSource: t,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) && e.cancelEvent(i));
        }
        function S(t, i) {
          t.blurHandler &&
            ((i = e.getEvent(i)),
              !1 ===
              t.blurHandler({
                eventSource: t,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) && e.cancelEvent(i));
        }
        function T(e, t) {
          k(e, t, t);
        }
        function C(t, i) {
          var n = {
            target: (i = e.getEvent(i)).target || i.srcElement,
            type: "wheel",
            shiftKey: i.shiftKey || !1,
            clientX: i.clientX,
            clientY: i.clientY,
            pageX: i.pageX ? i.pageX : i.clientX,
            pageY: i.pageY ? i.pageY : i.clientY,
            deltaMode: "MozMousePixelScroll" == i.type ? 0 : 1,
            deltaX: 0,
            deltaZ: 0,
          };
          "mousewheel" == e.MouseTracker.wheelEventName
            ? (n.deltaY = -i.wheelDelta / e.DEFAULT_SETTINGS.pixelsPerWheelLine)
            : (n.deltaY = i.detail),
            k(t, n, i);
        }
        function k(t, i, n) {
          var o;
          (o = i.deltaY < 0 ? 1 : -1),
            t.scrollHandler &&
            !1 ===
            t.scrollHandler({
              eventSource: t,
              pointerType: "mouse",
              position: m(i, t.element),
              scroll: o,
              shift: i.shiftKey,
              isTouchEvent: !1,
              originalEvent: n,
              preventDefaultAction: !1,
              userData: t.userData,
            }) &&
            e.cancelEvent(n);
        }
        function L(e, t) {
          if (e === t) return !1;
          for (; t && t !== e;) t = t.parentNode;
          return t === e;
        }
        function D(t, i) {
          P(t, (i = e.getEvent(i)));
        }
        function I(t, i) {
          (i = e.getEvent(i)).currentTarget === i.relatedTarget ||
            L(i.currentTarget, i.relatedTarget) ||
            P(t, i);
        }
        function P(t, i) {
          he(t, i, [
            {
              id: e.MouseTracker.mousePointerId,
              type: "mouse",
              isPrimary: !0,
              currentPos: g(i),
              currentTime: e.now(),
            },
          ]);
        }
        function O(t, i) {
          N(t, (i = e.getEvent(i)));
        }
        function M(t, i) {
          (i = e.getEvent(i)).currentTarget === i.relatedTarget ||
            L(i.currentTarget, i.relatedTarget) ||
            N(t, i);
        }
        function N(t, i) {
          fe(t, i, [
            {
              id: e.MouseTracker.mousePointerId,
              type: "mouse",
              isPrimary: !0,
              currentPos: g(i),
              currentTime: e.now(),
            },
          ]);
        }
        function R(t) {
          return e.Browser.vendor === e.BROWSERS.IE && e.Browser.version < 9
            ? 1 === t
              ? 0
              : 2 === t
                ? 2
                : 4 === t
                  ? 1
                  : -1
            : t;
        }
        function B(t, i) {
          ge(
            t,
            (i = e.getEvent(i)),
            [
              {
                id: e.MouseTracker.mousePointerId,
                type: "mouse",
                isPrimary: !0,
                currentPos: g(i),
                currentTime: e.now(),
              },
            ],
            R(i.button)
          ) && (e.stopEvent(i), p(t, "mouse")),
            (t.clickHandler ||
              t.dblClickHandler ||
              t.pressHandler ||
              t.dragHandler ||
              t.dragEndHandler) &&
            e.cancelEvent(i);
        }
        function z(e, t) {
          H(e, t);
        }
        function $(t, i) {
          H(t, i), e.stopEvent(i);
        }
        function H(t, i) {
          me(
            t,
            (i = e.getEvent(i)),
            [
              {
                id: e.MouseTracker.mousePointerId,
                type: "mouse",
                isPrimary: !0,
                currentPos: g(i),
                currentTime: e.now(),
              },
            ],
            R(i.button)
          ) && h(t, "mouse");
        }
        function V(e, t) {
          F(e, t);
        }
        function j(t, i) {
          F(t, i), e.stopEvent(i);
        }
        function F(t, i) {
          ve(t, (i = e.getEvent(i)), [
            {
              id: e.MouseTracker.mousePointerId,
              type: "mouse",
              isPrimary: !0,
              currentPos: g(i),
              currentTime: e.now(),
            },
          ]);
        }
        function U(e, t, i) {
          var n,
            o = i.getLength(),
            r = [];
          if ("touch" === i.type || i.contacts > 0) {
            for (n = 0; n < o; n++) r.push(i.getByIndex(n));
            r.length > 0 &&
              (me(e, t, r, 0), (i.captureCount = 1), h(e, i.type), fe(e, t, r));
          }
        }
        function W(t, i) {
          var n,
            o,
            r,
            a,
            l = i.changedTouches.length,
            c = [],
            u = t.getActivePointersListByType("touch");
          for (
            n = e.now(),
            u.getLength() > i.touches.length - l &&
            (e.console.warn(
              "Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."
            ),
              U(t, i, u)),
            o = 0;
            o < l;
            o++
          )
            c.push({
              id: i.changedTouches[o].identifier,
              type: "touch",
              currentPos: g(i.changedTouches[o]),
              currentTime: n,
            });
          for (he(t, i, c), o = 0; o < s.length; o++)
            if (s[o] !== t && s[o].isTracking() && L(s[o].element, t.element)) {
              for (a = [], r = 0; r < l; r++)
                a.push({
                  id: i.changedTouches[r].identifier,
                  type: "touch",
                  currentPos: g(i.changedTouches[r]),
                  currentTime: n,
                });
              he(s[o], i, a);
            }
          ge(t, i, c, 0) && (e.stopEvent(i), p(t, "touch", l)),
            e.cancelEvent(i);
        }
        function q(e, t) {
          G(e, t);
        }
        function Q(t, i) {
          G(t, i), e.stopEvent(i);
        }
        function G(t, i) {
          var n,
            o,
            r,
            a,
            l = i.changedTouches.length,
            c = [];
          for (n = e.now(), o = 0; o < l; o++)
            c.push({
              id: i.changedTouches[o].identifier,
              type: "touch",
              currentPos: g(i.changedTouches[o]),
              currentTime: n,
            });
          for (
            me(t, i, c, 0) && h(t, "touch", l), fe(t, i, c), o = 0;
            o < s.length;
            o++
          )
            if (s[o] !== t && s[o].isTracking() && L(s[o].element, t.element)) {
              for (a = [], r = 0; r < l; r++)
                a.push({
                  id: i.changedTouches[r].identifier,
                  type: "touch",
                  currentPos: g(i.changedTouches[r]),
                  currentTime: n,
                });
              fe(s[o], i, a);
            }
          e.cancelEvent(i);
        }
        function Y(e, t) {
          X(e, t);
        }
        function Z(t, i) {
          X(t, i), e.stopEvent(i);
        }
        function X(t, i) {
          var n,
            o = i.changedTouches.length,
            r = [];
          for (n = 0; n < o; n++)
            r.push({
              id: i.changedTouches[n].identifier,
              type: "touch",
              currentPos: g(i.changedTouches[n]),
              currentTime: e.now(),
            });
          ve(t, i, r), e.cancelEvent(i);
        }
        function K(e, t) {
          var i = e.getActivePointersListByType("touch");
          U(e, t, i);
        }
        function J(e, t) {
          return t.stopPropagation(), t.preventDefault(), !1;
        }
        function ee(e, t) {
          return t.stopPropagation(), t.preventDefault(), !1;
        }
        function te(t, i) {
          i.currentTarget === i.relatedTarget ||
            L(i.currentTarget, i.relatedTarget) ||
            he(t, i, [
              {
                id: i.pointerId,
                type: f(i),
                isPrimary: i.isPrimary,
                currentPos: g(i),
                currentTime: e.now(),
              },
            ]);
        }
        function ie(t, i) {
          i.currentTarget === i.relatedTarget ||
            L(i.currentTarget, i.relatedTarget) ||
            fe(t, i, [
              {
                id: i.pointerId,
                type: f(i),
                isPrimary: i.isPrimary,
                currentPos: g(i),
                currentTime: e.now(),
              },
            ]);
        }
        function ne(t, i) {
          var n;
          ge(
            t,
            i,
            [
              (n = {
                id: i.pointerId,
                type: f(i),
                isPrimary: i.isPrimary,
                currentPos: g(i),
                currentTime: e.now(),
              }),
            ],
            i.button
          ) && (e.stopEvent(i), p(t, n.type)),
            (t.clickHandler ||
              t.dblClickHandler ||
              t.pressHandler ||
              t.dragHandler ||
              t.dragEndHandler ||
              t.pinchHandler) &&
            e.cancelEvent(i);
        }
        function oe(e, t) {
          ae(e, t);
        }
        function re(t, i) {
          t.getActivePointersListByType(f(i)).getById(i.pointerId) && ae(t, i),
            e.stopEvent(i);
        }
        function ae(t, i) {
          var n;
          me(
            t,
            i,
            [
              (n = {
                id: i.pointerId,
                type: f(i),
                isPrimary: i.isPrimary,
                currentPos: g(i),
                currentTime: e.now(),
              }),
            ],
            i.button
          ) && h(t, n.type);
        }
        function se(e, t) {
          ce(e, t);
        }
        function le(t, i) {
          t.getActivePointersListByType(f(i)).getById(i.pointerId) && ce(t, i),
            e.stopEvent(i);
        }
        function ce(t, i) {
          ve(t, i, [
            {
              id: i.pointerId,
              type: f(i),
              isPrimary: i.isPrimary,
              currentPos: g(i),
              currentTime: e.now(),
            },
          ]);
        }
        function ue(e, t) {
          !(function (e, t, i) {
            me(e, t, i, 0), fe(e, t, i);
          })(e, t, [{ id: t.pointerId, type: f(t) }]);
        }
        function de(e, t) {
          return (
            Object.prototype.hasOwnProperty.call(t, "isPrimary") ||
            (0 === e.getLength() ? (t.isPrimary = !0) : (t.isPrimary = !1)),
            (t.speed = 0),
            (t.direction = 0),
            (t.contactPos = t.currentPos),
            (t.contactTime = t.currentTime),
            (t.lastPos = t.currentPos),
            (t.lastTime = t.currentTime),
            e.add(t)
          );
        }
        function pe(e, t) {
          var i, n;
          return (
            e.getById(t.id)
              ? ((i = e.removeById(t.id)),
                Object.prototype.hasOwnProperty.call(t, "isPrimary") ||
                (n = e.getPrimary()) ||
                ((n = e.getByIndex(0)) && (n.isPrimary = !0)))
              : (i = e.getLength()),
            i
          );
        }
        function he(t, i, n) {
          var o,
            r,
            a,
            s = t.getActivePointersListByType(n[0].type),
            l = n.length;
          for (o = 0; o < l; o++)
            (r = n[o]),
              (a = s.getById(r.id))
                ? ((a.insideElement = !0),
                  (a.lastPos = a.currentPos),
                  (a.lastTime = a.currentTime),
                  (a.currentPos = r.currentPos),
                  (a.currentTime = r.currentTime),
                  (r = a))
                : ((r.captured = !1),
                  (r.insideElementPressed = !1),
                  (r.insideElement = !0),
                  de(s, r)),
              t.enterHandler &&
              !1 ===
              t.enterHandler({
                eventSource: t,
                pointerType: r.type,
                position: v(r.currentPos, t.element),
                buttons: s.buttons,
                pointers: t.getActivePointerCount(),
                insideElementPressed: r.insideElementPressed,
                buttonDownAny: 0 !== s.buttons,
                isTouchEvent: "touch" === r.type,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) &&
              e.cancelEvent(i);
        }
        function fe(t, i, n) {
          var o,
            r,
            a,
            s = t.getActivePointersListByType(n[0].type),
            l = n.length;
          for (o = 0; o < l; o++)
            (r = n[o]),
              (a = s.getById(r.id)) &&
              (a.captured
                ? ((a.insideElement = !1),
                  (a.lastPos = a.currentPos),
                  (a.lastTime = a.currentTime),
                  (a.currentPos = r.currentPos),
                  (a.currentTime = r.currentTime))
                : pe(s, a),
                (r = a)),
              t.exitHandler &&
              !1 ===
              t.exitHandler({
                eventSource: t,
                pointerType: r.type,
                position: r.currentPos && v(r.currentPos, t.element),
                buttons: s.buttons,
                pointers: t.getActivePointerCount(),
                insideElementPressed: !!a && a.insideElementPressed,
                buttonDownAny: 0 !== s.buttons,
                isTouchEvent: "touch" === r.type,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) &&
              e.cancelEvent(i);
        }
        function ge(t, i, n, o) {
          var r,
            a,
            s,
            c = l[t.hash],
            u = t.getActivePointersListByType(n[0].type),
            d = n.length;
          void 0 !== i.buttons
            ? (u.buttons = i.buttons)
            : e.Browser.vendor === e.BROWSERS.IE && e.Browser.version < 9
              ? 0 === o
                ? (u.buttons += 1)
                : 1 === o
                  ? (u.buttons += 4)
                  : 2 === o
                    ? (u.buttons += 2)
                    : 3 === o
                      ? (u.buttons += 8)
                      : 4 === o
                        ? (u.buttons += 16)
                        : 5 === o && (u.buttons += 32)
              : 0 === o
                ? (u.buttons |= 1)
                : 1 === o
                  ? (u.buttons |= 4)
                  : 2 === o
                    ? (u.buttons |= 2)
                    : 3 === o
                      ? (u.buttons |= 8)
                      : 4 === o
                        ? (u.buttons |= 16)
                        : 5 === o && (u.buttons |= 32);
          var p = t.getActivePointersListsExceptType(n[0].type);
          for (r = 0; r < p.length; r++) U(t, i, p[r]);
          if (0 !== o)
            return (
              t.nonPrimaryPressHandler &&
              !1 ===
              t.nonPrimaryPressHandler({
                eventSource: t,
                pointerType: n[0].type,
                position: v(n[0].currentPos, t.element),
                button: o,
                buttons: u.buttons,
                isTouchEvent: "touch" === n[0].type,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) &&
              e.cancelEvent(i),
              !1
            );
          for (r = 0; r < d; r++)
            (a = n[r]),
              (s = u.getById(a.id))
                ? ((s.captured = !0),
                  (s.insideElementPressed = !0),
                  (s.insideElement = !0),
                  (s.contactPos = a.currentPos),
                  (s.contactTime = a.currentTime),
                  (s.lastPos = s.currentPos),
                  (s.lastTime = s.currentTime),
                  (s.currentPos = a.currentPos),
                  (s.currentTime = a.currentTime),
                  (a = s))
                : ((a.captured = !0),
                  (a.insideElementPressed = !0),
                  (a.insideElement = !0),
                  de(u, a)),
              u.addContact(),
              (t.dragHandler || t.dragEndHandler || t.pinchHandler) &&
              e.MouseTracker.gesturePointVelocityTracker.addPoint(t, a),
              1 === u.contacts
                ? t.pressHandler &&
                !1 ===
                t.pressHandler({
                  eventSource: t,
                  pointerType: a.type,
                  position: v(a.contactPos, t.element),
                  buttons: u.buttons,
                  isTouchEvent: "touch" === a.type,
                  originalEvent: i,
                  preventDefaultAction: !1,
                  userData: t.userData,
                }) &&
                e.cancelEvent(i)
                : 2 === u.contacts &&
                t.pinchHandler &&
                "touch" === a.type &&
                ((c.pinchGPoints = u.asArray()),
                  (c.lastPinchDist = c.currentPinchDist =
                    c.pinchGPoints[0].currentPos.distanceTo(
                      c.pinchGPoints[1].currentPos
                    )),
                  (c.lastPinchCenter = c.currentPinchCenter =
                    b(
                      c.pinchGPoints[0].currentPos,
                      c.pinchGPoints[1].currentPos
                    )));
          return !0;
        }
        function me(t, i, n, o) {
          var r,
            a,
            s,
            c,
            u,
            d,
            p = l[t.hash],
            h = t.getActivePointersListByType(n[0].type),
            f = n.length,
            g = !1,
            m = !1;
          if (
            (void 0 !== i.buttons
              ? (h.buttons = i.buttons)
              : e.Browser.vendor === e.BROWSERS.IE && e.Browser.version < 9
                ? 0 === o
                  ? (h.buttons -= 1)
                  : 1 === o
                    ? (h.buttons -= 4)
                    : 2 === o
                      ? (h.buttons -= 2)
                      : 3 === o
                        ? (h.buttons -= 8)
                        : 4 === o
                          ? (h.buttons -= 16)
                          : 5 === o && (h.buttons -= 32)
                : 0 === o
                  ? (h.buttons ^= -2)
                  : 1 === o
                    ? (h.buttons ^= -5)
                    : 2 === o
                      ? (h.buttons ^= -3)
                      : 3 === o
                        ? (h.buttons ^= -9)
                        : 4 === o
                          ? (h.buttons ^= -17)
                          : 5 === o && (h.buttons ^= -33),
              0 !== o)
          ) {
            t.nonPrimaryReleaseHandler &&
              !1 ===
              t.nonPrimaryReleaseHandler({
                eventSource: t,
                pointerType: n[0].type,
                position: v(n[0].currentPos, t.element),
                button: o,
                buttons: h.buttons,
                isTouchEvent: "touch" === n[0].type,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) &&
              e.cancelEvent(i);
            var y = t.getActivePointersListByType("mouse");
            return U(t, i, y), !1;
          }
          if (void 0 === n[0].currentPos) return U(t, i, h), !1;
          for (s = 0; s < f; s++)
            (c = n[s]),
              (u = h.getById(c.id)) &&
              (u.captured && ((u.captured = !1), (g = !0), (m = !0)),
                (u.lastPos = u.currentPos),
                (u.lastTime = u.currentTime),
                (u.currentPos = c.currentPos),
                (u.currentTime = c.currentTime),
                u.insideElement || pe(h, u),
                (r = u.currentPos),
                (a = u.currentTime),
                m
                  ? (h.removeContact(),
                    (t.dragHandler || t.dragEndHandler || t.pinchHandler) &&
                    e.MouseTracker.gesturePointVelocityTracker.removePoint(
                      t,
                      u
                    ),
                    0 === h.contacts
                      ? (t.releaseHandler &&
                        !1 ===
                        t.releaseHandler({
                          eventSource: t,
                          pointerType: u.type,
                          position: v(r, t.element),
                          buttons: h.buttons,
                          insideElementPressed: u.insideElementPressed,
                          insideElementReleased: u.insideElement,
                          isTouchEvent: "touch" === u.type,
                          originalEvent: i,
                          preventDefaultAction: !1,
                          userData: t.userData,
                        }) &&
                        e.cancelEvent(i),
                        t.dragEndHandler &&
                        !u.currentPos.equals(u.contactPos) &&
                        !1 ===
                        t.dragEndHandler({
                          eventSource: t,
                          pointerType: u.type,
                          position: v(u.currentPos, t.element),
                          speed: u.speed,
                          direction: u.direction,
                          shift: i.shiftKey,
                          isTouchEvent: "touch" === u.type,
                          originalEvent: i,
                          preventDefaultAction: !1,
                          userData: t.userData,
                        }) &&
                        e.cancelEvent(i),
                        (t.clickHandler || t.dblClickHandler) &&
                        u.insideElement &&
                        ((d =
                          a - u.contactTime <= t.clickTimeThreshold &&
                          u.contactPos.distanceTo(r) <= t.clickDistThreshold),
                          t.clickHandler &&
                          !1 ===
                          t.clickHandler({
                            eventSource: t,
                            pointerType: u.type,
                            position: v(u.currentPos, t.element),
                            quick: d,
                            shift: i.shiftKey,
                            isTouchEvent: "touch" === u.type,
                            originalEvent: i,
                            preventDefaultAction: !1,
                            userData: t.userData,
                          }) &&
                          e.cancelEvent(i),
                          t.dblClickHandler &&
                          d &&
                          (h.clicks++,
                            1 === h.clicks
                              ? ((p.lastClickPos = r),
                                (p.dblClickTimeOut = setTimeout(function () {
                                  h.clicks = 0;
                                }, t.dblClickTimeThreshold)))
                              : 2 === h.clicks &&
                              (clearTimeout(p.dblClickTimeOut),
                                (h.clicks = 0),
                                p.lastClickPos.distanceTo(r) <=
                                t.dblClickDistThreshold &&
                                !1 ===
                                t.dblClickHandler({
                                  eventSource: t,
                                  pointerType: u.type,
                                  position: v(u.currentPos, t.element),
                                  shift: i.shiftKey,
                                  isTouchEvent: "touch" === u.type,
                                  originalEvent: i,
                                  preventDefaultAction: !1,
                                  userData: t.userData,
                                }) &&
                                e.cancelEvent(i),
                                (p.lastClickPos = null)))))
                      : 2 === h.contacts &&
                      t.pinchHandler &&
                      "touch" === u.type &&
                      ((p.pinchGPoints = h.asArray()),
                        (p.lastPinchDist = p.currentPinchDist =
                          p.pinchGPoints[0].currentPos.distanceTo(
                            p.pinchGPoints[1].currentPos
                          )),
                        (p.lastPinchCenter = p.currentPinchCenter =
                          b(
                            p.pinchGPoints[0].currentPos,
                            p.pinchGPoints[1].currentPos
                          ))))
                  : t.releaseHandler &&
                  !1 ===
                  t.releaseHandler({
                    eventSource: t,
                    pointerType: u.type,
                    position: v(r, t.element),
                    buttons: h.buttons,
                    insideElementPressed: u.insideElementPressed,
                    insideElementReleased: u.insideElement,
                    isTouchEvent: "touch" === u.type,
                    originalEvent: i,
                    preventDefaultAction: !1,
                    userData: t.userData,
                  }) &&
                  e.cancelEvent(i));
          return g;
        }
        function ve(t, i, n) {
          var o,
            r,
            a,
            s,
            c,
            u = l[t.hash],
            d = t.getActivePointersListByType(n[0].type),
            p = n.length;
          for (
            void 0 !== i.buttons && (d.buttons = i.buttons), o = 0;
            o < p;
            o++
          )
            (r = n[o]),
              (a = d.getById(r.id))
                ? (Object.prototype.hasOwnProperty.call(r, "isPrimary") &&
                  (a.isPrimary = r.isPrimary),
                  (a.lastPos = a.currentPos),
                  (a.lastTime = a.currentTime),
                  (a.currentPos = r.currentPos),
                  (a.currentTime = r.currentTime))
                : ((r.captured = !1),
                  (r.insideElementPressed = !1),
                  (r.insideElement = !0),
                  de(d, r));
          t.stopHandler &&
            "mouse" === n[0].type &&
            (clearTimeout(t.stopTimeOut),
              (t.stopTimeOut = setTimeout(function () {
                !(function (e, t, i) {
                  e.stopHandler &&
                    e.stopHandler({
                      eventSource: e,
                      pointerType: i,
                      position: m(t, e.element),
                      buttons: e.getActivePointersListByType(i).buttons,
                      isTouchEvent: "touch" === i,
                      originalEvent: t,
                      preventDefaultAction: !1,
                      userData: e.userData,
                    });
                })(t, i, n[0].type);
              }, t.stopDelay))),
            0 === d.contacts
              ? t.moveHandler &&
              !1 ===
              t.moveHandler({
                eventSource: t,
                pointerType: n[0].type,
                position: v(n[0].currentPos, t.element),
                buttons: d.buttons,
                isTouchEvent: "touch" === n[0].type,
                originalEvent: i,
                preventDefaultAction: !1,
                userData: t.userData,
              }) &&
              e.cancelEvent(i)
              : 1 === d.contacts
                ? (t.moveHandler &&
                  ((a = d.asArray()[0]),
                    !1 ===
                    t.moveHandler({
                      eventSource: t,
                      pointerType: a.type,
                      position: v(a.currentPos, t.element),
                      buttons: d.buttons,
                      isTouchEvent: "touch" === a.type,
                      originalEvent: i,
                      preventDefaultAction: !1,
                      userData: t.userData,
                    }) && e.cancelEvent(i)),
                  t.dragHandler &&
                  ((c = (a = d.asArray()[0]).currentPos.minus(a.lastPos)),
                    !1 ===
                    t.dragHandler({
                      eventSource: t,
                      pointerType: a.type,
                      position: v(a.currentPos, t.element),
                      buttons: d.buttons,
                      delta: c,
                      speed: a.speed,
                      direction: a.direction,
                      shift: i.shiftKey,
                      isTouchEvent: "touch" === a.type,
                      originalEvent: i,
                      preventDefaultAction: !1,
                      userData: t.userData,
                    }) && e.cancelEvent(i)))
                : 2 === d.contacts &&
                (t.moveHandler &&
                  ((s = d.asArray()),
                    !1 ===
                    t.moveHandler({
                      eventSource: t,
                      pointerType: s[0].type,
                      position: v(
                        b(s[0].currentPos, s[1].currentPos),
                        t.element
                      ),
                      buttons: d.buttons,
                      isTouchEvent: "touch" === s[0].type,
                      originalEvent: i,
                      preventDefaultAction: !1,
                      userData: t.userData,
                    }) && e.cancelEvent(i)),
                  t.pinchHandler &&
                  "touch" === n[0].type &&
                  (c = u.pinchGPoints[0].currentPos.distanceTo(
                    u.pinchGPoints[1].currentPos
                  )) != u.currentPinchDist &&
                  ((u.lastPinchDist = u.currentPinchDist),
                    (u.currentPinchDist = c),
                    (u.lastPinchCenter = u.currentPinchCenter),
                    (u.currentPinchCenter = b(
                      u.pinchGPoints[0].currentPos,
                      u.pinchGPoints[1].currentPos
                    )),
                    !1 ===
                    t.pinchHandler({
                      eventSource: t,
                      pointerType: "touch",
                      gesturePoints: u.pinchGPoints,
                      lastCenter: v(u.lastPinchCenter, t.element),
                      center: v(u.currentPinchCenter, t.element),
                      lastDistance: u.lastPinchDist,
                      distance: u.currentPinchDist,
                      shift: i.shiftKey,
                      originalEvent: i,
                      preventDefaultAction: !1,
                      userData: t.userData,
                    }) && e.cancelEvent(i)));
        }
        (e.MouseTracker = function (t) {
          s.push(this);
          var i = arguments;
          e.isPlainObject(t) ||
            (t = {
              element: i[0],
              clickTimeThreshold: i[1],
              clickDistThreshold: i[2],
            }),
            (this.hash = Math.random()),
            (this.element = e.getElement(t.element)),
            (this.clickTimeThreshold =
              t.clickTimeThreshold || e.DEFAULT_SETTINGS.clickTimeThreshold),
            (this.clickDistThreshold =
              t.clickDistThreshold || e.DEFAULT_SETTINGS.clickDistThreshold),
            (this.dblClickTimeThreshold =
              t.dblClickTimeThreshold ||
              e.DEFAULT_SETTINGS.dblClickTimeThreshold),
            (this.dblClickDistThreshold =
              t.dblClickDistThreshold ||
              e.DEFAULT_SETTINGS.dblClickDistThreshold),
            (this.userData = t.userData || null),
            (this.stopDelay = t.stopDelay || 50),
            (this.enterHandler = t.enterHandler || null),
            (this.exitHandler = t.exitHandler || null),
            (this.pressHandler = t.pressHandler || null),
            (this.nonPrimaryPressHandler = t.nonPrimaryPressHandler || null),
            (this.releaseHandler = t.releaseHandler || null),
            (this.nonPrimaryReleaseHandler =
              t.nonPrimaryReleaseHandler || null),
            (this.moveHandler = t.moveHandler || null),
            (this.scrollHandler = t.scrollHandler || null),
            (this.clickHandler = t.clickHandler || null),
            (this.dblClickHandler = t.dblClickHandler || null),
            (this.dragHandler = t.dragHandler || null),
            (this.dragEndHandler = t.dragEndHandler || null),
            (this.pinchHandler = t.pinchHandler || null),
            (this.stopHandler = t.stopHandler || null),
            (this.keyDownHandler = t.keyDownHandler || null),
            (this.keyUpHandler = t.keyUpHandler || null),
            (this.keyHandler = t.keyHandler || null),
            (this.focusHandler = t.focusHandler || null),
            (this.blurHandler = t.blurHandler || null);
          var n = this;
          (l[this.hash] = {
            click: function (e) {
              y(n, e);
            },
            dblclick: function (e) {
              x(n, e);
            },
            keydown: function (e) {
              w(n, e);
            },
            keyup: function (e) {
              _(n, e);
            },
            keypress: function (e) {
              A(n, e);
            },
            focus: function (e) {
              E(n, e);
            },
            blur: function (e) {
              S(n, e);
            },
            wheel: function (e) {
              T(n, e);
            },
            mousewheel: function (e) {
              C(n, e);
            },
            DOMMouseScroll: function (e) {
              C(n, e);
            },
            MozMousePixelScroll: function (e) {
              C(n, e);
            },
            mouseenter: function (e) {
              D(n, e);
            },
            mouseleave: function (e) {
              O(n, e);
            },
            mouseover: function (e) {
              I(n, e);
            },
            mouseout: function (e) {
              M(n, e);
            },
            mousedown: function (e) {
              B(n, e);
            },
            mouseup: function (e) {
              z(n, e);
            },
            mouseupcaptured: function (e) {
              $(n, e);
            },
            mousemove: function (e) {
              V(n, e);
            },
            mousemovecaptured: function (e) {
              j(n, e);
            },
            touchstart: function (e) {
              W(n, e);
            },
            touchend: function (e) {
              q(n, e);
            },
            touchendcaptured: function (e) {
              Q(n, e);
            },
            touchmove: function (e) {
              Y(n, e);
            },
            touchmovecaptured: function (e) {
              Z(n, e);
            },
            touchcancel: function (e) {
              K(n, e);
            },
            gesturestart: function (e) {
              J(n, e);
            },
            gesturechange: function (e) {
              ee(n, e);
            },
            pointerover: function (e) {
              te(n, e);
            },
            MSPointerOver: function (e) {
              te(n, e);
            },
            pointerout: function (e) {
              ie(n, e);
            },
            MSPointerOut: function (e) {
              ie(n, e);
            },
            pointerdown: function (e) {
              ne(n, e);
            },
            MSPointerDown: function (e) {
              ne(n, e);
            },
            pointerup: function (e) {
              oe(n, e);
            },
            MSPointerUp: function (e) {
              oe(n, e);
            },
            pointermove: function (e) {
              se(n, e);
            },
            MSPointerMove: function (e) {
              se(n, e);
            },
            pointercancel: function (e) {
              ue(n, e);
            },
            MSPointerCancel: function (e) {
              ue(n, e);
            },
            pointerupcaptured: function (e) {
              re(n, e);
            },
            pointermovecaptured: function (e) {
              le(n, e);
            },
            tracking: !1,
            activePointersLists: [],
            lastClickPos: null,
            dblClickTimeOut: null,
            pinchGPoints: [],
            lastPinchDist: 0,
            currentPinchDist: 0,
            lastPinchCenter: null,
            currentPinchCenter: null,
          }),
            t.startDisabled || this.setTracking(!0);
        }),
          (e.MouseTracker.prototype = {
            destroy: function () {
              var e;
              for (u(this), this.element = null, e = 0; e < s.length; e++)
                if (s[e] === this) {
                  s.splice(e, 1);
                  break;
                }
              (l[this.hash] = null), delete l[this.hash];
            },
            isTracking: function () {
              return l[this.hash].tracking;
            },
            setTracking: function (t) {
              return (
                t
                  ? (function (t) {
                    var i,
                      n,
                      o = l[t.hash];
                    if (!o.tracking) {
                      for (
                        n = 0;
                        n < e.MouseTracker.subscribeEvents.length;
                        n++
                      )
                        (i = e.MouseTracker.subscribeEvents[n]),
                          e.addEvent(t.element, i, o[i], !1);
                      c(t), (o.tracking = !0);
                    }
                  })(this)
                  : u(this),
                this
              );
            },
            getActivePointersListsExceptType: function (e) {
              for (
                var t = l[this.hash], i = [], n = 0;
                n < t.activePointersLists.length;
                ++n
              )
                t.activePointersLists[n].type !== e &&
                  i.push(t.activePointersLists[n]);
              return i;
            },
            getActivePointersListByType: function (t) {
              var i,
                n,
                o = l[this.hash],
                r = o.activePointersLists.length;
              for (i = 0; i < r; i++)
                if (o.activePointersLists[i].type === t)
                  return o.activePointersLists[i];
              return (
                (n = new e.MouseTracker.GesturePointList(t)),
                o.activePointersLists.push(n),
                n
              );
            },
            getActivePointerCount: function () {
              var e,
                t = l[this.hash],
                i = t.activePointersLists.length,
                n = 0;
              for (e = 0; e < i; e++) n += t.activePointersLists[e].getLength();
              return n;
            },
            enterHandler: function () { },
            exitHandler: function () { },
            pressHandler: function () { },
            nonPrimaryPressHandler: function () { },
            releaseHandler: function () { },
            nonPrimaryReleaseHandler: function () { },
            moveHandler: function () { },
            scrollHandler: function () { },
            clickHandler: function () { },
            dblClickHandler: function () { },
            dragHandler: function () { },
            dragEndHandler: function () { },
            pinchHandler: function () { },
            stopHandler: function () { },
            keyDownHandler: function () { },
            keyUpHandler: function () { },
            keyHandler: function () { },
            focusHandler: function () { },
            blurHandler: function () { },
          }),
          (e.MouseTracker.resetAllMouseTrackers = function () {
            for (var e = 0; e < s.length; e++)
              s[e].isTracking() && (s[e].setTracking(!1), s[e].setTracking(!0));
          }),
          (e.MouseTracker.gesturePointVelocityTracker =
            ((t = []),
              (i = 0),
              (n = 0),
              (o = function (e, t) {
                return e.hash.toString() + t.type + t.id.toString();
              }),
              (r = function () {
                var i,
                  o,
                  r,
                  a,
                  s,
                  l,
                  c = t.length,
                  u = e.now();
                for (a = u - n, n = u, i = 0; i < c; i++)
                  ((r = (o = t[i]).gPoint).direction = Math.atan2(
                    r.currentPos.y - o.lastPos.y,
                    r.currentPos.x - o.lastPos.x
                  )),
                    (s = o.lastPos.distanceTo(r.currentPos)),
                    (o.lastPos = r.currentPos),
                    (l = (1e3 * s) / (a + 1)),
                    (r.speed = 0.75 * l + 0.25 * r.speed);
              }),
            {
              addPoint: function (a, s) {
                var l = o(a, s);
                t.push({ guid: l, gPoint: s, lastPos: s.currentPos }),
                  1 === t.length &&
                  ((n = e.now()), (i = window.setInterval(r, 50)));
              },
              removePoint: function (e, n) {
                var r,
                  a = o(e, n),
                  s = t.length;
                for (r = 0; r < s; r++)
                  if (t[r].guid === a) {
                    t.splice(r, 1), 0 == --s && window.clearInterval(i);
                    break;
                  }
              },
            })),
          (e.MouseTracker.captureElement = document),
          (e.MouseTracker.wheelEventName =
            (e.Browser.vendor == e.BROWSERS.IE && e.Browser.version > 8) ||
              "onwheel" in document.createElement("div")
              ? "wheel"
              : void 0 !== document.onmousewheel
                ? "mousewheel"
                : "DOMMouseScroll"),
          (e.MouseTracker.supportsMouseCapture =
            ((a = document.createElement("div")),
              e.isFunction(a.setCapture) && e.isFunction(a.releaseCapture))),
          (e.MouseTracker.subscribeEvents = [
            "click",
            "dblclick",
            "keydown",
            "keyup",
            "keypress",
            "focus",
            "blur",
            e.MouseTracker.wheelEventName,
          ]),
          "DOMMouseScroll" == e.MouseTracker.wheelEventName &&
          e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),
          window.PointerEvent &&
            (window.navigator.pointerEnabled ||
              e.Browser.vendor !== e.BROWSERS.IE)
            ? ((e.MouseTracker.havePointerEvents = !0),
              e.MouseTracker.subscribeEvents.push(
                "pointerover",
                "pointerout",
                "pointerdown",
                "pointerup",
                "pointermove",
                "pointercancel"
              ),
              (e.MouseTracker.unprefixedPointerEvents = !0),
              navigator.maxTouchPoints
                ? (e.MouseTracker.maxTouchPoints = navigator.maxTouchPoints)
                : (e.MouseTracker.maxTouchPoints = 0),
              (e.MouseTracker.haveMouseEnter = !1))
            : window.MSPointerEvent && window.navigator.msPointerEnabled
              ? ((e.MouseTracker.havePointerEvents = !0),
                e.MouseTracker.subscribeEvents.push(
                  "MSPointerOver",
                  "MSPointerOut",
                  "MSPointerDown",
                  "MSPointerUp",
                  "MSPointerMove",
                  "MSPointerCancel"
                ),
                (e.MouseTracker.unprefixedPointerEvents = !1),
                navigator.msMaxTouchPoints
                  ? (e.MouseTracker.maxTouchPoints = navigator.msMaxTouchPoints)
                  : (e.MouseTracker.maxTouchPoints = 0),
                (e.MouseTracker.haveMouseEnter = !1))
              : ((e.MouseTracker.havePointerEvents = !1),
                e.Browser.vendor === e.BROWSERS.IE && e.Browser.version < 9
                  ? (e.MouseTracker.subscribeEvents.push(
                    "mouseenter",
                    "mouseleave"
                  ),
                    (e.MouseTracker.haveMouseEnter = !0))
                  : (e.MouseTracker.subscribeEvents.push("mouseover", "mouseout"),
                    (e.MouseTracker.haveMouseEnter = !1)),
                e.MouseTracker.subscribeEvents.push(
                  "mousedown",
                  "mouseup",
                  "mousemove"
                ),
                "ontouchstart" in window &&
                e.MouseTracker.subscribeEvents.push(
                  "touchstart",
                  "touchend",
                  "touchmove",
                  "touchcancel"
                ),
                "ongesturestart" in window &&
                e.MouseTracker.subscribeEvents.push(
                  "gesturestart",
                  "gesturechange"
                ),
                (e.MouseTracker.mousePointerId = "legacy-mouse"),
                (e.MouseTracker.maxTouchPoints = 10)),
          (e.MouseTracker.GesturePointList = function (e) {
            (this._gPoints = []),
              (this.type = e),
              (this.buttons = 0),
              (this.contacts = 0),
              (this.clicks = 0),
              (this.captureCount = 0);
          }),
          (e.MouseTracker.GesturePointList.prototype = {
            getLength: function () {
              return this._gPoints.length;
            },
            asArray: function () {
              return this._gPoints;
            },
            add: function (e) {
              return this._gPoints.push(e);
            },
            removeById: function (e) {
              var t,
                i = this._gPoints.length;
              for (t = 0; t < i; t++)
                if (this._gPoints[t].id === e) {
                  this._gPoints.splice(t, 1);
                  break;
                }
              return this._gPoints.length;
            },
            getByIndex: function (e) {
              return e < this._gPoints.length ? this._gPoints[e] : null;
            },
            getById: function (e) {
              var t,
                i = this._gPoints.length;
              for (t = 0; t < i; t++)
                if (this._gPoints[t].id === e) return this._gPoints[t];
              return null;
            },
            getPrimary: function (e) {
              var t,
                i = this._gPoints.length;
              for (t = 0; t < i; t++)
                if (this._gPoints[t].isPrimary) return this._gPoints[t];
              return null;
            },
            addContact: function () {
              ++this.contacts,
                this.contacts > 1 &&
                ("mouse" === this.type || "pen" === this.type) &&
                (this.contacts = 1);
            },
            removeContact: function () {
              --this.contacts, this.contacts < 0 && (this.contacts = 0);
            },
          });
        var be = (function () {
          try {
            return window.self !== window.top;
          } catch (e) {
            return !0;
          }
        })();
        function ye(e) {
          try {
            return e.addEventListener && e.removeEventListener;
          } catch (e) {
            return !1;
          }
        }
      })(OpenSeadragon),
      (function (e) {
        (e.ControlAnchor = {
          NONE: 0,
          TOP_LEFT: 1,
          TOP_RIGHT: 2,
          BOTTOM_RIGHT: 3,
          BOTTOM_LEFT: 4,
          ABSOLUTE: 5,
        }),
          (e.Control = function (t, i, n) {
            var o = t.parentNode;
            "number" == typeof i &&
              (e.console.error(
                "Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"
              ),
                (i = { anchor: i })),
              (i.attachToViewer =
                void 0 === i.attachToViewer || i.attachToViewer),
              (this.autoFade = void 0 === i.autoFade || i.autoFade),
              (this.element = t),
              (this.anchor = i.anchor),
              (this.container = n),
              this.anchor == e.ControlAnchor.ABSOLUTE
                ? ((this.wrapper = e.makeNeutralElement("div")),
                  (this.wrapper.style.position = "absolute"),
                  (this.wrapper.style.top =
                    "number" == typeof i.top ? i.top + "px" : i.top),
                  (this.wrapper.style.left =
                    "number" == typeof i.left ? i.left + "px" : i.left),
                  (this.wrapper.style.height =
                    "number" == typeof i.height ? i.height + "px" : i.height),
                  (this.wrapper.style.width =
                    "number" == typeof i.width ? i.width + "px" : i.width),
                  (this.wrapper.style.margin = "0px"),
                  (this.wrapper.style.padding = "0px"),
                  (this.element.style.position = "relative"),
                  (this.element.style.top = "0px"),
                  (this.element.style.left = "0px"),
                  (this.element.style.height = "100%"),
                  (this.element.style.width = "100%"))
                : ((this.wrapper = e.makeNeutralElement("div")),
                  (this.wrapper.style.display = "inline-block"),
                  this.anchor == e.ControlAnchor.NONE &&
                  (this.wrapper.style.width = this.wrapper.style.height =
                    "100%")),
              this.wrapper.appendChild(this.element),
              i.attachToViewer
                ? this.anchor == e.ControlAnchor.TOP_RIGHT ||
                  this.anchor == e.ControlAnchor.BOTTOM_RIGHT
                  ? this.container.insertBefore(
                    this.wrapper,
                    this.container.firstChild
                  )
                  : this.container.appendChild(this.wrapper)
                : o.appendChild(this.wrapper);
          }),
          (e.Control.prototype = {
            destroy: function () {
              this.wrapper.removeChild(this.element),
                this.container.removeChild(this.wrapper);
            },
            isVisible: function () {
              return "none" != this.wrapper.style.display;
            },
            setVisible: function (t) {
              this.wrapper.style.display = t
                ? this.anchor == e.ControlAnchor.ABSOLUTE
                  ? "block"
                  : "inline-block"
                : "none";
            },
            setOpacity: function (t) {
              this.element[e.SIGNAL] && e.Browser.vendor == e.BROWSERS.IE
                ? e.setElementOpacity(this.element, t, !0)
                : e.setElementOpacity(this.wrapper, t, !0);
            },
          });
      })(OpenSeadragon),
      (function (e) {
        function t(e, t) {
          var i,
            n = e.controls;
          for (i = n.length - 1; i >= 0; i--) if (n[i].element == t) return i;
          return -1;
        }
        (e.ControlDock = function (t) {
          var i,
            n,
            o = ["topleft", "topright", "bottomright", "bottomleft"];
          for (
            e.extend(
              !0,
              this,
              {
                id:
                  "controldock-" +
                  e.now() +
                  "-" +
                  Math.floor(1e6 * Math.random()),
                container: e.makeNeutralElement("div"),
                controls: [],
              },
              t
            ),
            this.container.onsubmit = function () {
              return !1;
            },
            this.element &&
            ((this.element = e.getElement(this.element)),
              this.element.appendChild(this.container),
              (this.element.style.position = "relative"),
              (this.container.style.width = "100%"),
              (this.container.style.height = "100%")),
            n = 0;
            n < o.length;
            n++
          )
            (i = o[n]),
              (this.controls[i] = e.makeNeutralElement("div")),
              (this.controls[i].style.position = "absolute"),
              i.match("left") && (this.controls[i].style.left = "0px"),
              i.match("right") && (this.controls[i].style.right = "0px"),
              i.match("top") && (this.controls[i].style.top = "0px"),
              i.match("bottom") && (this.controls[i].style.bottom = "0px");
          this.container.appendChild(this.controls.topleft),
            this.container.appendChild(this.controls.topright),
            this.container.appendChild(this.controls.bottomright),
            this.container.appendChild(this.controls.bottomleft);
        }),
          (e.ControlDock.prototype = {
            addControl: function (i, n) {
              var o = null;
              if (!(t(this, (i = e.getElement(i))) >= 0)) {
                switch (n.anchor) {
                  case e.ControlAnchor.TOP_RIGHT:
                    (o = this.controls.topright),
                      (i.style.position = "relative"),
                      (i.style.paddingRight = "0px"),
                      (i.style.paddingTop = "0px");
                    break;
                  case e.ControlAnchor.BOTTOM_RIGHT:
                    (o = this.controls.bottomright),
                      (i.style.position = "relative"),
                      (i.style.paddingRight = "0px"),
                      (i.style.paddingBottom = "0px");
                    break;
                  case e.ControlAnchor.BOTTOM_LEFT:
                    (o = this.controls.bottomleft),
                      (i.style.position = "relative"),
                      (i.style.paddingLeft = "0px"),
                      (i.style.paddingBottom = "0px");
                    break;
                  case e.ControlAnchor.TOP_LEFT:
                    (o = this.controls.topleft),
                      (i.style.position = "relative"),
                      (i.style.paddingLeft = "0px"),
                      (i.style.paddingTop = "0px");
                    break;
                  case e.ControlAnchor.ABSOLUTE:
                    (o = this.container),
                      (i.style.margin = "0px"),
                      (i.style.padding = "0px");
                    break;
                  default:
                  case e.ControlAnchor.NONE:
                    (o = this.container),
                      (i.style.margin = "0px"),
                      (i.style.padding = "0px");
                }
                this.controls.push(new e.Control(i, n, o)),
                  (i.style.display = "inline-block");
              }
            },
            removeControl: function (i) {
              var n = t(this, (i = e.getElement(i)));
              return (
                n >= 0 &&
                (this.controls[n].destroy(), this.controls.splice(n, 1)),
                this
              );
            },
            clearControls: function () {
              for (; this.controls.length > 0;) this.controls.pop().destroy();
              return this;
            },
            areControlsEnabled: function () {
              var e;
              for (e = this.controls.length - 1; e >= 0; e--)
                if (this.controls[e].isVisible()) return !0;
              return !1;
            },
            setControlsEnabled: function (e) {
              var t;
              for (t = this.controls.length - 1; t >= 0; t--)
                this.controls[t].setVisible(e);
              return this;
            },
          });
      })(OpenSeadragon),
      (function (e) {
        e.Placement = e.freezeObject({
          CENTER: 0,
          TOP_LEFT: 1,
          TOP: 2,
          TOP_RIGHT: 3,
          RIGHT: 4,
          BOTTOM_RIGHT: 5,
          BOTTOM: 6,
          BOTTOM_LEFT: 7,
          LEFT: 8,
          properties: {
            0: {
              isLeft: !1,
              isHorizontallyCentered: !0,
              isRight: !1,
              isTop: !1,
              isVerticallyCentered: !0,
              isBottom: !1,
            },
            1: {
              isLeft: !0,
              isHorizontallyCentered: !1,
              isRight: !1,
              isTop: !0,
              isVerticallyCentered: !1,
              isBottom: !1,
            },
            2: {
              isLeft: !1,
              isHorizontallyCentered: !0,
              isRight: !1,
              isTop: !0,
              isVerticallyCentered: !1,
              isBottom: !1,
            },
            3: {
              isLeft: !1,
              isHorizontallyCentered: !1,
              isRight: !0,
              isTop: !0,
              isVerticallyCentered: !1,
              isBottom: !1,
            },
            4: {
              isLeft: !1,
              isHorizontallyCentered: !1,
              isRight: !0,
              isTop: !1,
              isVerticallyCentered: !0,
              isBottom: !1,
            },
            5: {
              isLeft: !1,
              isHorizontallyCentered: !1,
              isRight: !0,
              isTop: !1,
              isVerticallyCentered: !1,
              isBottom: !0,
            },
            6: {
              isLeft: !1,
              isHorizontallyCentered: !0,
              isRight: !1,
              isTop: !1,
              isVerticallyCentered: !1,
              isBottom: !0,
            },
            7: {
              isLeft: !0,
              isHorizontallyCentered: !1,
              isRight: !1,
              isTop: !1,
              isVerticallyCentered: !1,
              isBottom: !0,
            },
            8: {
              isLeft: !0,
              isHorizontallyCentered: !1,
              isRight: !1,
              isTop: !1,
              isVerticallyCentered: !0,
              isBottom: !1,
            },
          },
        });
      })(OpenSeadragon),
      (function (e) {
        var t = {},
          i = 1;
        function n(t) {
          return (
            (t = e.getElement(t)),
            new e.Point(
              0 === t.clientWidth ? 1 : t.clientWidth,
              0 === t.clientHeight ? 1 : t.clientHeight
            )
          );
        }
        function o(t, i) {
          if (i instanceof e.Overlay) return i;
          var n = null;
          if (i.element) n = e.getElement(i.element);
          else {
            var o = i.id
              ? i.id
              : "openseadragon-overlay-" + Math.floor(1e7 * Math.random());
            (n = e.getElement(i.id)) ||
              ((n = document.createElement("a")).href = "#/overlay/" + o),
              (n.id = o),
              e.addClass(
                n,
                i.className ? i.className : "openseadragon-overlay"
              );
          }
          var r = i.location,
            a = i.width,
            s = i.height;
          if (!r) {
            var l = i.x,
              c = i.y;
            if (void 0 !== i.px) {
              var u = t.viewport.imageToViewportRectangle(
                new e.Rect(i.px, i.py, a || 0, s || 0)
              );
              (l = u.x),
                (c = u.y),
                (a = void 0 !== a ? u.width : void 0),
                (s = void 0 !== s ? u.height : void 0);
            }
            r = new e.Point(l, c);
          }
          var d = i.placement;
          return (
            d &&
            "string" === e.type(d) &&
            (d = e.Placement[i.placement.toUpperCase()]),
            new e.Overlay({
              element: n,
              location: r,
              placement: d,
              onDraw: i.onDraw,
              checkResize: i.checkResize,
              width: a,
              height: s,
              rotationMode: i.rotationMode,
            })
          );
        }
        function r(e, t) {
          var i;
          for (i = e.length - 1; i >= 0; i--) if (e[i].element === t) return i;
          return -1;
        }
        function a(t, i) {
          return e.requestAnimationFrame(function () {
            i(t);
          });
        }
        function s(t) {
          e.requestAnimationFrame(function () {
            !(function (t) {
              var i, n, o, r;
              if (t.controlsShouldFade) {
                for (
                  i = e.now(),
                  n = i - t.controlsFadeBeginTime,
                  o = 1 - n / t.controlsFadeLength,
                  o = Math.min(1, o),
                  o = Math.max(0, o),
                  r = t.controls.length - 1;
                  r >= 0;
                  r--
                )
                  t.controls[r].autoFade && t.controls[r].setOpacity(o);
                o > 0 && s(t);
              }
            })(t);
          });
        }
        function l(t) {
          t.autoHideControls &&
            ((t.controlsShouldFade = !0),
              (t.controlsFadeBeginTime = e.now() + t.controlsFadeDelay),
              window.setTimeout(function () {
                s(t);
              }, t.controlsFadeDelay));
        }
        function c(e) {
          var t;
          for (
            e.controlsShouldFade = !1, t = e.controls.length - 1;
            t >= 0;
            t--
          )
            e.controls[t].setOpacity(1);
        }
        function u() {
          c(this);
        }
        function d() {
          l(this);
        }
        function p(t) {
          var i = {
            originalEvent: t.originalEvent,
            preventDefaultAction: t.preventDefaultAction,
            preventVerticalPan: t.preventVerticalPan,
            preventHorizontalPan: t.preventHorizontalPan,
          };
          if (
            (this.raiseEvent("canvas-key", i),
              i.preventDefaultAction || t.ctrl || t.alt || t.meta)
          )
            return !0;
          switch (t.keyCode) {
            case 38:
              return (
                i.preventVerticalPan ||
                (t.shift
                  ? this.viewport.zoomBy(1.1)
                  : this.viewport.panBy(
                    this.viewport.deltaPointsFromPixels(
                      new e.Point(0, -this.pixelsPerArrowPress)
                    )
                  ),
                  this.viewport.applyConstraints()),
                !1
              );
            case 40:
              return (
                i.preventVerticalPan ||
                (t.shift
                  ? this.viewport.zoomBy(0.9)
                  : this.viewport.panBy(
                    this.viewport.deltaPointsFromPixels(
                      new e.Point(0, this.pixelsPerArrowPress)
                    )
                  ),
                  this.viewport.applyConstraints()),
                !1
              );
            case 37:
              return (
                i.preventHorizontalPan ||
                (this.viewport.panBy(
                  this.viewport.deltaPointsFromPixels(
                    new e.Point(-this.pixelsPerArrowPress, 0)
                  )
                ),
                  this.viewport.applyConstraints()),
                !1
              );
            case 39:
              return (
                i.preventHorizontalPan ||
                (this.viewport.panBy(
                  this.viewport.deltaPointsFromPixels(
                    new e.Point(this.pixelsPerArrowPress, 0)
                  )
                ),
                  this.viewport.applyConstraints()),
                !1
              );
            default:
              return !0;
          }
        }
        function h(t) {
          var i = {
            originalEvent: t.originalEvent,
            preventDefaultAction: t.preventDefaultAction,
            preventVerticalPan: t.preventVerticalPan,
            preventHorizontalPan: t.preventHorizontalPan,
          };
          if (
            (this.raiseEvent("canvas-key", i),
              i.preventDefaultAction || t.ctrl || t.alt || t.meta)
          )
            return !0;
          switch (t.keyCode) {
            case 43:
            case 61:
              return (
                this.viewport.zoomBy(1.1), this.viewport.applyConstraints(), !1
              );
            case 45:
              return (
                this.viewport.zoomBy(0.9), this.viewport.applyConstraints(), !1
              );
            case 48:
              return (
                this.viewport.goHome(), this.viewport.applyConstraints(), !1
              );
            case 119:
            case 87:
              return (
                i.preventVerticalPan ||
                (t.shift
                  ? this.viewport.zoomBy(1.1)
                  : this.viewport.panBy(
                    this.viewport.deltaPointsFromPixels(new e.Point(0, -40))
                  ),
                  this.viewport.applyConstraints()),
                !1
              );
            case 115:
            case 83:
              return (
                i.preventVerticalPan ||
                (t.shift
                  ? this.viewport.zoomBy(0.9)
                  : this.viewport.panBy(
                    this.viewport.deltaPointsFromPixels(new e.Point(0, 40))
                  ),
                  this.viewport.applyConstraints()),
                !1
              );
            case 97:
              return (
                i.preventHorizontalPan ||
                (this.viewport.panBy(
                  this.viewport.deltaPointsFromPixels(new e.Point(-40, 0))
                ),
                  this.viewport.applyConstraints()),
                !1
              );
            case 100:
              return (
                i.preventHorizontalPan ||
                (this.viewport.panBy(
                  this.viewport.deltaPointsFromPixels(new e.Point(40, 0))
                ),
                  this.viewport.applyConstraints()),
                !1
              );
            case 114:
              return (
                this.viewport.flipped
                  ? this.viewport.setRotation(
                    e.positiveModulo(
                      this.viewport.degrees - this.rotationIncrement,
                      360
                    )
                  )
                  : this.viewport.setRotation(
                    e.positiveModulo(
                      this.viewport.degrees + this.rotationIncrement,
                      360
                    )
                  ),
                this.viewport.applyConstraints(),
                !1
              );
            case 82:
              return (
                this.viewport.flipped
                  ? this.viewport.setRotation(
                    e.positiveModulo(
                      this.viewport.degrees + this.rotationIncrement,
                      360
                    )
                  )
                  : this.viewport.setRotation(
                    e.positiveModulo(
                      this.viewport.degrees - this.rotationIncrement,
                      360
                    )
                  ),
                this.viewport.applyConstraints(),
                !1
              );
            case 102:
              return this.viewport.toggleFlip(), !1;
            default:
              return !0;
          }
        }
        function f(e) {
          var t;
          document.activeElement == this.canvas || this.canvas.focus(),
            this.viewport.flipped &&
            (e.position.x =
              this.viewport.getContainerSize().x - e.position.x);
          var i = {
            tracker: e.eventSource,
            position: e.position,
            quick: e.quick,
            shift: e.shift,
            originalEvent: e.originalEvent,
            preventDefaultAction: e.preventDefaultAction,
          };
          this.raiseEvent("canvas-click", i),
            !i.preventDefaultAction &&
            this.viewport &&
            e.quick &&
            (t = this.gestureSettingsByDeviceType(e.pointerType))
              .clickToZoom &&
            (this.viewport.zoomBy(
              e.shift ? 1 / this.zoomPerClick : this.zoomPerClick,
              t.zoomToRefPoint
                ? this.viewport.pointFromPixel(e.position, !0)
                : null
            ),
              this.viewport.applyConstraints());
        }
        function g(e) {
          var t,
            i = {
              tracker: e.eventSource,
              position: e.position,
              shift: e.shift,
              originalEvent: e.originalEvent,
              preventDefaultAction: e.preventDefaultAction,
            };
          this.raiseEvent("canvas-double-click", i),
            !i.preventDefaultAction &&
            this.viewport &&
            (t = this.gestureSettingsByDeviceType(e.pointerType))
              .dblClickToZoom &&
            (this.viewport.zoomBy(
              e.shift ? 1 / this.zoomPerClick : this.zoomPerClick,
              t.zoomToRefPoint
                ? this.viewport.pointFromPixel(e.position, !0)
                : null
            ),
              this.viewport.applyConstraints());
        }
        function m(e) {
          var t,
            i = {
              tracker: e.eventSource,
              position: e.position,
              delta: e.delta,
              speed: e.speed,
              direction: e.direction,
              shift: e.shift,
              originalEvent: e.originalEvent,
              preventDefaultAction: e.preventDefaultAction,
            };
          if (
            (this.raiseEvent("canvas-drag", i),
              !i.preventDefaultAction && this.viewport)
          ) {
            if (
              ((t = this.gestureSettingsByDeviceType(e.pointerType)),
                this.panHorizontal || (e.delta.x = 0),
                this.panVertical || (e.delta.y = 0),
                this.viewport.flipped && (e.delta.x = -e.delta.x),
                this.constrainDuringPan)
            ) {
              var n = this.viewport.deltaPointsFromPixels(e.delta.negate());
              (this.viewport.centerSpringX.target.value += n.x),
                (this.viewport.centerSpringY.target.value += n.y);
              var o = this.viewport.getBounds(),
                r = this.viewport.getConstrainedBounds();
              (this.viewport.centerSpringX.target.value -= n.x),
                (this.viewport.centerSpringY.target.value -= n.y),
                o.x != r.x && (e.delta.x = 0),
                o.y != r.y && (e.delta.y = 0);
            }
            this.viewport.panBy(
              this.viewport.deltaPointsFromPixels(e.delta.negate()),
              t.flickEnabled && !this.constrainDuringPan
            );
          }
        }
        function v(t) {
          if (!t.preventDefaultAction && this.viewport) {
            var i = this.gestureSettingsByDeviceType(t.pointerType);
            if (i.flickEnabled && t.speed >= i.flickMinSpeed) {
              var n = 0;
              this.panHorizontal &&
                (n = i.flickMomentum * t.speed * Math.cos(t.direction));
              var o = 0;
              this.panVertical &&
                (o = i.flickMomentum * t.speed * Math.sin(t.direction));
              var r = this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),
                a = this.viewport.pointFromPixel(new e.Point(r.x - n, r.y - o));
              this.viewport.panTo(a, !1);
            }
            this.viewport.applyConstraints();
          }
          this.raiseEvent("canvas-drag-end", {
            tracker: t.eventSource,
            position: t.position,
            speed: t.speed,
            direction: t.direction,
            shift: t.shift,
            originalEvent: t.originalEvent,
          });
        }
        function b(e) {
          this.raiseEvent("canvas-enter", {
            tracker: e.eventSource,
            pointerType: e.pointerType,
            position: e.position,
            buttons: e.buttons,
            pointers: e.pointers,
            insideElementPressed: e.insideElementPressed,
            buttonDownAny: e.buttonDownAny,
            originalEvent: e.originalEvent,
          });
        }
        function y(t) {
          window.location != window.parent.location &&
            e.MouseTracker.resetAllMouseTrackers(),
            this.raiseEvent("canvas-exit", {
              tracker: t.eventSource,
              pointerType: t.pointerType,
              position: t.position,
              buttons: t.buttons,
              pointers: t.pointers,
              insideElementPressed: t.insideElementPressed,
              buttonDownAny: t.buttonDownAny,
              originalEvent: t.originalEvent,
            });
        }
        function x(e) {
          this.raiseEvent("canvas-press", {
            tracker: e.eventSource,
            pointerType: e.pointerType,
            position: e.position,
            insideElementPressed: e.insideElementPressed,
            insideElementReleased: e.insideElementReleased,
            originalEvent: e.originalEvent,
          });
        }
        function w(e) {
          this.raiseEvent("canvas-release", {
            tracker: e.eventSource,
            pointerType: e.pointerType,
            position: e.position,
            insideElementPressed: e.insideElementPressed,
            insideElementReleased: e.insideElementReleased,
            originalEvent: e.originalEvent,
          });
        }
        function _(e) {
          this.raiseEvent("canvas-nonprimary-press", {
            tracker: e.eventSource,
            position: e.position,
            pointerType: e.pointerType,
            button: e.button,
            buttons: e.buttons,
            originalEvent: e.originalEvent,
          });
        }
        function A(e) {
          this.raiseEvent("canvas-nonprimary-release", {
            tracker: e.eventSource,
            position: e.position,
            pointerType: e.pointerType,
            button: e.button,
            buttons: e.buttons,
            originalEvent: e.originalEvent,
          });
        }
        function E(e) {
          var t, i, n;
          if (
            !e.preventDefaultAction &&
            this.viewport &&
            ((t = this.gestureSettingsByDeviceType(e.pointerType))
              .pinchToZoom &&
              ((i = this.viewport.pointFromPixel(e.center, !0)),
                (n = this.viewport.pointFromPixel(e.lastCenter, !0).minus(i)),
                this.panHorizontal || (n.x = 0),
                this.panVertical || (n.y = 0),
                this.viewport.zoomBy(e.distance / e.lastDistance, i, !0),
                t.zoomToRefPoint && this.viewport.panBy(n, !0),
                this.viewport.applyConstraints()),
              t.pinchRotate)
          ) {
            var o = Math.atan2(
              e.gesturePoints[0].currentPos.y -
              e.gesturePoints[1].currentPos.y,
              e.gesturePoints[0].currentPos.x -
              e.gesturePoints[1].currentPos.x
            ),
              r = Math.atan2(
                e.gesturePoints[0].lastPos.y - e.gesturePoints[1].lastPos.y,
                e.gesturePoints[0].lastPos.x - e.gesturePoints[1].lastPos.x
              );
            this.viewport.setRotation(
              this.viewport.getRotation() + (o - r) * (180 / Math.PI)
            );
          }
          return (
            this.raiseEvent("canvas-pinch", {
              tracker: e.eventSource,
              gesturePoints: e.gesturePoints,
              lastCenter: e.lastCenter,
              center: e.center,
              lastDistance: e.lastDistance,
              distance: e.distance,
              shift: e.shift,
              originalEvent: e.originalEvent,
            }),
            !1
          );
        }
        function S(t) {
          var i, n, o;
          if ((o = e.now()) - this._lastScrollTime > this.minScrollDeltaTime) {
            if (
              ((this._lastScrollTime = o),
                this.viewport.flipped &&
                (t.position.x =
                  this.viewport.getContainerSize().x - t.position.x),
                !t.preventDefaultAction &&
                this.viewport &&
                (i = this.gestureSettingsByDeviceType(t.pointerType))
                  .scrollToZoom &&
                ((n = Math.pow(this.zoomPerScroll, t.scroll)),
                  this.viewport.zoomBy(
                    n,
                    i.zoomToRefPoint
                      ? this.viewport.pointFromPixel(t.position, !0)
                      : null
                  ),
                  this.viewport.applyConstraints()),
                this.raiseEvent("canvas-scroll", {
                  tracker: t.eventSource,
                  position: t.position,
                  scroll: t.scroll,
                  shift: t.shift,
                  originalEvent: t.originalEvent,
                }),
                i && i.scrollToZoom)
            )
              return !1;
          } else if (
            (i = this.gestureSettingsByDeviceType(t.pointerType)) &&
            i.scrollToZoom
          )
            return !1;
        }
        function T(e) {
          (t[this.hash].mouseInside = !0),
            c(this),
            this.raiseEvent("container-enter", {
              tracker: e.eventSource,
              position: e.position,
              buttons: e.buttons,
              pointers: e.pointers,
              insideElementPressed: e.insideElementPressed,
              buttonDownAny: e.buttonDownAny,
              originalEvent: e.originalEvent,
            });
        }
        function C(e) {
          e.pointers < 1 &&
            ((t[this.hash].mouseInside = !1),
              t[this.hash].animating || l(this)),
            this.raiseEvent("container-exit", {
              tracker: e.eventSource,
              position: e.position,
              buttons: e.buttons,
              pointers: e.pointers,
              insideElementPressed: e.insideElementPressed,
              buttonDownAny: e.buttonDownAny,
              originalEvent: e.originalEvent,
            });
        }
        function k(e) {
          !(function (e) {
            if (e._opening) return;
            if (e.autoResize) {
              var i = n(e.container),
                o = t[e.hash].prevContainerSize;
              if (!i.equals(o)) {
                var r = e.viewport;
                if (e.preserveImageSizeOnResize) {
                  var a = o.x / i.x,
                    s = r.getZoom() * a,
                    u = r.getCenter();
                  r.resize(i, !1), r.zoomTo(s, null, !0), r.panTo(u, !0);
                } else {
                  var d = r.getBounds();
                  r.resize(i, !0), r.fitBoundsWithConstraints(d, !0);
                }
                (t[e.hash].prevContainerSize = i), (t[e.hash].forceRedraw = !0);
              }
            }
            var p = e.viewport.update(),
              h = e.world.update() || p;
            p && e.raiseEvent("viewport-change");
            e.referenceStrip && (h = e.referenceStrip.update(e.viewport) || h);
            !t[e.hash].animating &&
              h &&
              (e.raiseEvent("animation-start"), c(e));
            (h || t[e.hash].forceRedraw || e.world.needsDraw()) &&
              (!(function (e) {
                e.imageLoader.clear(),
                  e.drawer.clear(),
                  e.world.draw(),
                  e.raiseEvent("update-viewport", {});
              })(e),
                e._drawOverlays(),
                e.navigator && e.navigator.update(e.viewport),
                (t[e.hash].forceRedraw = !1),
                h && e.raiseEvent("animation"));
            t[e.hash].animating &&
              !h &&
              (e.raiseEvent("animation-finish"), t[e.hash].mouseInside || l(e));
            t[e.hash].animating = h;
          })(e),
            e.isOpen()
              ? (e._updateRequestId = a(e, k))
              : (e._updateRequestId = !1);
        }
        function L(e, t) {
          return e ? e + t : t;
        }
        function D() {
          (t[this.hash].lastZoomTime = e.now()),
            (t[this.hash].zoomFactor = this.zoomPerSecond),
            (t[this.hash].zooming = !0),
            O(this);
        }
        function I() {
          (t[this.hash].lastZoomTime = e.now()),
            (t[this.hash].zoomFactor = 1 / this.zoomPerSecond),
            (t[this.hash].zooming = !0),
            O(this);
        }
        function P() {
          t[this.hash].zooming = !1;
        }
        function O(t) {
          e.requestAnimationFrame(e.delegate(t, M));
        }
        function M() {
          var i, n, o;
          t[this.hash].zooming &&
            this.viewport &&
            ((n = (i = e.now()) - t[this.hash].lastZoomTime),
              (o = Math.pow(t[this.hash].zoomFactor, n / 1e3)),
              this.viewport.zoomBy(o),
              this.viewport.applyConstraints(),
              (t[this.hash].lastZoomTime = i),
              O(this));
        }
        function N() {
          this.viewport &&
            ((t[this.hash].zooming = !1),
              this.viewport.zoomBy(this.zoomPerClick / 1),
              this.viewport.applyConstraints());
        }
        function R() {
          this.viewport &&
            ((t[this.hash].zooming = !1),
              this.viewport.zoomBy(1 / this.zoomPerClick),
              this.viewport.applyConstraints());
        }
        function B() {
          this.buttons.emulateEnter(), this.buttons.emulateExit();
        }
        function z() {
          this.viewport && this.viewport.goHome();
        }
        function $() {
          this.isFullPage() && !e.isFullScreen()
            ? this.setFullPage(!1)
            : this.setFullScreen(!this.isFullPage()),
            this.buttons && this.buttons.emulateExit(),
            this.fullPageButton.element.focus(),
            this.viewport && this.viewport.applyConstraints();
        }
        function H() {
          if (this.viewport) {
            var t = this.viewport.getRotation();
            (t = this.viewport.flipped
              ? e.positiveModulo(t + this.rotationIncrement, 360)
              : e.positiveModulo(t - this.rotationIncrement, 360)),
              this.viewport.setRotation(t);
          }
        }
        function V() {
          if (this.viewport) {
            var t = this.viewport.getRotation();
            (t = this.viewport.flipped
              ? e.positiveModulo(t - this.rotationIncrement, 360)
              : e.positiveModulo(t + this.rotationIncrement, 360)),
              this.viewport.setRotation(t);
          }
        }
        function j() {
          this.viewport.toggleFlip();
        }
        function F() {
          var e = this._sequenceIndex - 1;
          this.navPrevNextWrap && e < 0 && (e += this.tileSources.length),
            this.goToPage(e);
        }
        function U() {
          var e = this._sequenceIndex + 1;
          this.navPrevNextWrap && e >= this.tileSources.length && (e = 0),
            this.goToPage(e);
        }
        (e.Viewer = function (o) {
          var r,
            s,
            c = arguments,
            u = this;
          if (
            (e.isPlainObject(o) ||
              (o = {
                id: c[0],
                xmlPath: c.length > 1 ? c[1] : void 0,
                prefixUrl: c.length > 2 ? c[2] : void 0,
                controls: c.length > 3 ? c[3] : void 0,
                overlays: c.length > 4 ? c[4] : void 0,
              }),
              o.config && (e.extend(!0, o, o.config), delete o.config),
              e.extend(
                !0,
                this,
                {
                  id: o.id,
                  hash: o.hash || i++,
                  initialPage: 0,
                  element: null,
                  container: null,
                  canvas: null,
                  overlays: [],
                  overlaysContainer: null,
                  previousBody: [],
                  customControls: [],
                  source: null,
                  drawer: null,
                  world: null,
                  viewport: null,
                  navigator: null,
                  collectionViewport: null,
                  collectionDrawer: null,
                  navImages: null,
                  buttons: null,
                  profiler: null,
                },
                e.DEFAULT_SETTINGS,
                o
              ),
              void 0 === this.hash)
          )
            throw new Error(
              "A hash must be defined, either by specifying options.id or options.hash."
            );
          for (
            void 0 !== t[this.hash] &&
            e.console.warn("Hash " + this.hash + " has already been used."),
            t[this.hash] = {
              fsBoundsDelta: new e.Point(1, 1),
              prevContainerSize: null,
              animating: !1,
              forceRedraw: !1,
              mouseInside: !1,
              group: null,
              zooming: !1,
              zoomFactor: null,
              lastZoomTime: null,
              fullPage: !1,
              onfullscreenchange: null,
            },
            this._sequenceIndex = 0,
            this._firstOpen = !0,
            this._updateRequestId = null,
            this._loadQueue = [],
            this.currentOverlays = [],
            this._lastScrollTime = e.now(),
            e.EventSource.call(this),
            this.addHandler("open-failed", function (t) {
              var i = e.getString(
                "Errors.OpenFailed",
                t.eventSource,
                t.message
              );
              u._showMessage(i);
            }),
            e.ControlDock.call(this, o),
            this.xmlPath && (this.tileSources = [this.xmlPath]),
            this.element = this.element || document.getElementById(this.id),
            this.canvas = e.makeNeutralElement("div"),
            this.canvas.className = "openseadragon-canvas",
            (s = this.canvas.style).width = "100%",
            s.height = "100%",
            s.overflow = "hidden",
            s.position = "absolute",
            s.top = "0px",
            s.left = "0px",
            e.setElementTouchActionNone(this.canvas),
            "" !== o.tabIndex &&
            (this.canvas.tabIndex = void 0 === o.tabIndex ? 0 : o.tabIndex),
            this.container.className = "openseadragon-container",
            (function (e) {
              (e.width = "100%"),
                (e.height = "100%"),
                (e.position = "relative"),
                (e.overflow = "hidden"),
                (e.left = "0px"),
                (e.top = "0px"),
                (e.textAlign = "left");
            })(this.container.style),
            this.container.insertBefore(
              this.canvas,
              this.container.firstChild
            ),
            this.element.appendChild(this.container),
            this.bodyWidth = document.body.style.width,
            this.bodyHeight = document.body.style.height,
            this.bodyOverflow = document.body.style.overflow,
            this.docOverflow = document.documentElement.style.overflow,
            this.innerTracker = new e.MouseTracker({
              element: this.canvas,
              startDisabled: !this.mouseNavEnabled,
              clickTimeThreshold: this.clickTimeThreshold,
              clickDistThreshold: this.clickDistThreshold,
              dblClickTimeThreshold: this.dblClickTimeThreshold,
              dblClickDistThreshold: this.dblClickDistThreshold,
              keyDownHandler: e.delegate(this, p),
              keyHandler: e.delegate(this, h),
              clickHandler: e.delegate(this, f),
              dblClickHandler: e.delegate(this, g),
              dragHandler: e.delegate(this, m),
              dragEndHandler: e.delegate(this, v),
              enterHandler: e.delegate(this, b),
              exitHandler: e.delegate(this, y),
              pressHandler: e.delegate(this, x),
              releaseHandler: e.delegate(this, w),
              nonPrimaryPressHandler: e.delegate(this, _),
              nonPrimaryReleaseHandler: e.delegate(this, A),
              scrollHandler: e.delegate(this, S),
              pinchHandler: e.delegate(this, E),
            }),
            this.outerTracker = new e.MouseTracker({
              element: this.container,
              startDisabled: !this.mouseNavEnabled,
              clickTimeThreshold: this.clickTimeThreshold,
              clickDistThreshold: this.clickDistThreshold,
              dblClickTimeThreshold: this.dblClickTimeThreshold,
              dblClickDistThreshold: this.dblClickDistThreshold,
              enterHandler: e.delegate(this, T),
              exitHandler: e.delegate(this, C),
            }),
            this.toolbar &&
            (this.toolbar = new e.ControlDock({ element: this.toolbar })),
            this.bindStandardControls(),
            t[this.hash].prevContainerSize = n(this.container),
            this.world = new e.World({ viewer: this }),
            this.world.addHandler("add-item", function (e) {
              (u.source = u.world.getItemAt(0).source),
                (t[u.hash].forceRedraw = !0),
                u._updateRequestId || (u._updateRequestId = a(u, k));
            }),
            this.world.addHandler("remove-item", function (e) {
              u.world.getItemCount()
                ? (u.source = u.world.getItemAt(0).source)
                : (u.source = null),
                (t[u.hash].forceRedraw = !0);
            }),
            this.world.addHandler("metrics-change", function (e) {
              u.viewport &&
                u.viewport._setContentBounds(
                  u.world.getHomeBounds(),
                  u.world.getContentFactor()
                );
            }),
            this.world.addHandler("item-index-change", function (e) {
              u.source = u.world.getItemAt(0).source;
            }),
            this.viewport = new e.Viewport({
              containerSize: t[this.hash].prevContainerSize,
              springStiffness: this.springStiffness,
              animationTime: this.animationTime,
              minZoomImageRatio: this.minZoomImageRatio,
              maxZoomPixelRatio: this.maxZoomPixelRatio,
              visibilityRatio: this.visibilityRatio,
              wrapHorizontal: this.wrapHorizontal,
              wrapVertical: this.wrapVertical,
              defaultZoomLevel: this.defaultZoomLevel,
              minZoomLevel: this.minZoomLevel,
              maxZoomLevel: this.maxZoomLevel,
              viewer: this,
              degrees: this.degrees,
              flipped: this.flipped,
              navigatorRotate: this.navigatorRotate,
              homeFillsViewer: this.homeFillsViewer,
              margins: this.viewportMargins,
            }),
            this.viewport._setContentBounds(
              this.world.getHomeBounds(),
              this.world.getContentFactor()
            ),
            this.imageLoader = new e.ImageLoader({
              jobLimit: this.imageLoaderLimit,
              timeout: o.timeout,
            }),
            this.tileCache = new e.TileCache({
              maxImageCacheCount: this.maxImageCacheCount,
            }),
            this.drawer = new e.Drawer({
              viewer: this,
              viewport: this.viewport,
              element: this.canvas,
              debugGridColor: this.debugGridColor,
            }),
            this.overlaysContainer = e.makeNeutralElement("div"),
            this.canvas.appendChild(this.overlaysContainer),
            this.drawer.canRotate() ||
            (this.rotateLeft &&
              ((r = this.buttons.buttons.indexOf(this.rotateLeft)),
                this.buttons.buttons.splice(r, 1),
                this.buttons.element.removeChild(this.rotateLeft.element)),
              this.rotateRight &&
              ((r = this.buttons.buttons.indexOf(this.rotateRight)),
                this.buttons.buttons.splice(r, 1),
                this.buttons.element.removeChild(this.rotateRight.element))),
            this.showNavigator &&
            (this.navigator = new e.Navigator({
              id: this.navigatorId,
              position: this.navigatorPosition,
              sizeRatio: this.navigatorSizeRatio,
              maintainSizeRatio: this.navigatorMaintainSizeRatio,
              top: this.navigatorTop,
              left: this.navigatorLeft,
              width: this.navigatorWidth,
              height: this.navigatorHeight,
              autoResize: this.navigatorAutoResize,
              autoFade: this.navigatorAutoFade,
              prefixUrl: this.prefixUrl,
              viewer: this,
              navigatorRotate: this.navigatorRotate,
              background: this.navigatorBackground,
              opacity: this.navigatorOpacity,
              borderColor: this.navigatorBorderColor,
              displayRegionColor: this.navigatorDisplayRegionColor,
              crossOriginPolicy: this.crossOriginPolicy,
            })),
            this.sequenceMode && this.bindSequenceControls(),
            this.tileSources && this.open(this.tileSources),
            r = 0;
            r < this.customControls.length;
            r++
          )
            this.addControl(this.customControls[r].id, {
              anchor: this.customControls[r].anchor,
            });
          e.requestAnimationFrame(function () {
            l(u);
          }),
            void 0 === this.imageSmoothingEnabled ||
            this.imageSmoothingEnabled ||
            this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled);
        }),
          e.extend(
            e.Viewer.prototype,
            e.EventSource.prototype,
            e.ControlDock.prototype,
            {
              isOpen: function () {
                return !!this.world.getItemCount();
              },
              openDzi: function (t) {
                return (
                  e.console.error(
                    "[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."
                  ),
                  this.open(t)
                );
              },
              openTileSource: function (t) {
                return (
                  e.console.error(
                    "[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."
                  ),
                  this.open(t)
                );
              },
              open: function (t, i) {
                var n = this;
                if ((this.close(), t)) {
                  if (this.sequenceMode && e.isArray(t))
                    return (
                      this.referenceStrip &&
                      (this.referenceStrip.destroy(),
                        (this.referenceStrip = null)),
                      void 0 === i || isNaN(i) || (this.initialPage = i),
                      (this.tileSources = t),
                      (this._sequenceIndex = Math.max(
                        0,
                        Math.min(this.tileSources.length - 1, this.initialPage)
                      )),
                      this.tileSources.length &&
                      (this.open(this.tileSources[this._sequenceIndex]),
                        this.showReferenceStrip && this.addReferenceStrip()),
                      void this._updateSequenceButtons(this._sequenceIndex)
                    );
                  if ((e.isArray(t) || (t = [t]), t.length)) {
                    this._opening = !0;
                    for (
                      var r,
                      a = t.length,
                      s = 0,
                      l = 0,
                      c = function () {
                        if (s + l === a)
                          if (s) {
                            (!n._firstOpen && n.preserveViewport) ||
                              (n.viewport.goHome(!0), n.viewport.update()),
                              (n._firstOpen = !1);
                            var e = t[0];
                            if (
                              (e.tileSource && (e = e.tileSource),
                                n.overlays && !n.preserveOverlays)
                            )
                              for (var i = 0; i < n.overlays.length; i++)
                                n.currentOverlays[i] = o(n, n.overlays[i]);
                            n._drawOverlays(),
                              (n._opening = !1),
                              n.raiseEvent("open", { source: e });
                          } else
                            (n._opening = !1), n.raiseEvent("open-failed", r);
                      },
                      u = function (t) {
                        (e.isPlainObject(t) && t.tileSource) ||
                          (t = { tileSource: t }),
                          void 0 !== t.index &&
                          (e.console.error(
                            "[Viewer.open] setting indexes here is not supported; use addTiledImage instead"
                          ),
                            delete t.index),
                          void 0 === t.collectionImmediately &&
                          (t.collectionImmediately = !0);
                        var i = t.success;
                        t.success = function (e) {
                          if ((s++, t.tileSource.overlays))
                            for (
                              var o = 0;
                              o < t.tileSource.overlays.length;
                              o++
                            )
                              n.addOverlay(t.tileSource.overlays[o]);
                          i && i(e), c();
                        };
                        var o = t.error;
                        (t.error = function (e) {
                          l++, r || (r = e), o && o(e), c();
                        }),
                          n.addTiledImage(t);
                      },
                      d = 0;
                      d < t.length;
                      d++
                    )
                      u(t[d]);
                    return this;
                  }
                }
              },
              close: function () {
                return t[this.hash]
                  ? ((this._opening = !1),
                    this.navigator && this.navigator.close(),
                    this.preserveOverlays ||
                    (this.clearOverlays(),
                      (this.overlaysContainer.innerHTML = "")),
                    (t[this.hash].animating = !1),
                    this.world.removeAll(),
                    this.imageLoader.clear(),
                    this.raiseEvent("close"),
                    this)
                  : this;
              },
              destroy: function () {
                if (t[this.hash]) {
                  if (
                    (this.close(),
                      this.clearOverlays(),
                      (this.overlaysContainer.innerHTML = ""),
                      this.referenceStrip &&
                      (this.referenceStrip.destroy(),
                        (this.referenceStrip = null)),
                      null !== this._updateRequestId &&
                      (e.cancelAnimationFrame(this._updateRequestId),
                        (this._updateRequestId = null)),
                      this.drawer && this.drawer.destroy(),
                      this.removeAllHandlers(),
                      this.element)
                  )
                    for (; this.element.firstChild;)
                      this.element.removeChild(this.element.firstChild);
                  this.innerTracker && this.innerTracker.destroy(),
                    this.outerTracker && this.outerTracker.destroy(),
                    (t[this.hash] = null),
                    delete t[this.hash],
                    (this.canvas = null),
                    (this.container = null),
                    (this.element = null);
                }
              },
              isMouseNavEnabled: function () {
                return this.innerTracker.isTracking();
              },
              setMouseNavEnabled: function (e) {
                return (
                  this.innerTracker.setTracking(e),
                  this.outerTracker.setTracking(e),
                  this.raiseEvent("mouse-enabled", { enabled: e }),
                  this
                );
              },
              areControlsEnabled: function () {
                var e,
                  t = this.controls.length;
                for (e = 0; e < this.controls.length; e++)
                  t = t && this.controls[e].isVisible();
                return t;
              },
              setControlsEnabled: function (e) {
                return (
                  e ? c(this) : l(this),
                  this.raiseEvent("controls-enabled", { enabled: e }),
                  this
                );
              },
              setDebugMode: function (e) {
                for (var t = 0; t < this.world.getItemCount(); t++)
                  this.world.getItemAt(t).debugMode = e;
                (this.debugMode = e), this.forceRedraw();
              },
              isFullPage: function () {
                return t[this.hash].fullPage;
              },
              setFullPage: function (i) {
                var n,
                  o,
                  r = document.body,
                  a = r.style,
                  s = document.documentElement.style,
                  l = this;
                if (i == this.isFullPage()) return this;
                var c = { fullPage: i, preventDefaultAction: !1 };
                if (
                  (this.raiseEvent("pre-full-page", c), c.preventDefaultAction)
                )
                  return this;
                if (i) {
                  for (
                    this.elementSize = e.getElementSize(this.element),
                    this.pageScroll = e.getPageScroll(),
                    this.elementMargin = this.element.style.margin,
                    this.element.style.margin = "0",
                    this.elementPadding = this.element.style.padding,
                    this.element.style.padding = "0",
                    this.bodyMargin = a.margin,
                    this.docMargin = s.margin,
                    a.margin = "0",
                    s.margin = "0",
                    this.bodyPadding = a.padding,
                    this.docPadding = s.padding,
                    a.padding = "0",
                    s.padding = "0",
                    this.bodyWidth = a.width,
                    this.docWidth = s.width,
                    a.width = "100%",
                    s.width = "100%",
                    this.bodyHeight = a.height,
                    this.docHeight = s.height,
                    a.height = "100%",
                    s.height = "100%",
                    this.previousBody = [],
                    t[this.hash].prevElementParent = this.element.parentNode,
                    t[this.hash].prevNextSibling = this.element.nextSibling,
                    t[this.hash].prevElementWidth = this.element.style.width,
                    t[this.hash].prevElementHeight =
                    this.element.style.height,
                    n = r.childNodes.length,
                    o = 0;
                    o < n;
                    o++
                  )
                    this.previousBody.push(r.childNodes[0]),
                      r.removeChild(r.childNodes[0]);
                  this.toolbar &&
                    this.toolbar.element &&
                    ((this.toolbar.parentNode =
                      this.toolbar.element.parentNode),
                      (this.toolbar.nextSibling =
                        this.toolbar.element.nextSibling),
                      r.appendChild(this.toolbar.element),
                      e.addClass(this.toolbar.element, "fullpage")),
                    e.addClass(this.element, "fullpage"),
                    r.appendChild(this.element),
                    (this.element.style.height = e.getWindowSize().y + "px"),
                    (this.element.style.width = e.getWindowSize().x + "px"),
                    this.toolbar &&
                    this.toolbar.element &&
                    (this.element.style.height =
                      e.getElementSize(this.element).y -
                      e.getElementSize(this.toolbar.element).y +
                      "px"),
                    (t[this.hash].fullPage = !0),
                    e.delegate(this, T)({});
                } else {
                  for (
                    this.element.style.margin = this.elementMargin,
                    this.element.style.padding = this.elementPadding,
                    a.margin = this.bodyMargin,
                    s.margin = this.docMargin,
                    a.padding = this.bodyPadding,
                    s.padding = this.docPadding,
                    a.width = this.bodyWidth,
                    s.width = this.docWidth,
                    a.height = this.bodyHeight,
                    s.height = this.docHeight,
                    r.removeChild(this.element),
                    n = this.previousBody.length,
                    o = 0;
                    o < n;
                    o++
                  )
                    r.appendChild(this.previousBody.shift());
                  e.removeClass(this.element, "fullpage"),
                    t[this.hash].prevElementParent.insertBefore(
                      this.element,
                      t[this.hash].prevNextSibling
                    ),
                    this.toolbar &&
                    this.toolbar.element &&
                    (r.removeChild(this.toolbar.element),
                      e.removeClass(this.toolbar.element, "fullpage"),
                      this.toolbar.parentNode.insertBefore(
                        this.toolbar.element,
                        this.toolbar.nextSibling
                      ),
                      delete this.toolbar.parentNode,
                      delete this.toolbar.nextSibling),
                    (this.element.style.width = t[this.hash].prevElementWidth),
                    (this.element.style.height =
                      t[this.hash].prevElementHeight);
                  var u = 0,
                    d = function () {
                      e.setPageScroll(l.pageScroll);
                      var t = e.getPageScroll();
                      ++u < 10 &&
                        (t.x !== l.pageScroll.x || t.y !== l.pageScroll.y) &&
                        e.requestAnimationFrame(d);
                    };
                  e.requestAnimationFrame(d),
                    (t[this.hash].fullPage = !1),
                    e.delegate(this, C)({});
                }
                return (
                  this.navigator &&
                  this.viewport &&
                  this.navigator.update(this.viewport),
                  this.raiseEvent("full-page", { fullPage: i }),
                  this
                );
              },
              setFullScreen: function (t) {
                var i = this;
                if (!e.supportsFullScreen) return this.setFullPage(t);
                if (e.isFullScreen() === t) return this;
                var n = { fullScreen: t, preventDefaultAction: !1 };
                if (
                  (this.raiseEvent("pre-full-screen", n),
                    n.preventDefaultAction)
                )
                  return this;
                if (t) {
                  if ((this.setFullPage(!0), !this.isFullPage())) return this;
                  (this.fullPageStyleWidth = this.element.style.width),
                    (this.fullPageStyleHeight = this.element.style.height),
                    (this.element.style.width = "100%"),
                    (this.element.style.height = "100%");
                  var o = function () {
                    var t = e.isFullScreen();
                    t ||
                      (e.removeEvent(document, e.fullScreenEventName, o),
                        e.removeEvent(document, e.fullScreenErrorEventName, o),
                        i.setFullPage(!1),
                        i.isFullPage() &&
                        ((i.element.style.width = i.fullPageStyleWidth),
                          (i.element.style.height = i.fullPageStyleHeight))),
                      i.navigator &&
                      i.viewport &&
                      setTimeout(function () {
                        i.navigator.update(i.viewport);
                      }),
                      i.raiseEvent("full-screen", { fullScreen: t });
                  };
                  e.addEvent(document, e.fullScreenEventName, o),
                    e.addEvent(document, e.fullScreenErrorEventName, o),
                    e.requestFullScreen(document.body);
                } else e.exitFullScreen();
                return this;
              },
              isVisible: function () {
                return "hidden" != this.container.style.visibility;
              },
              setVisible: function (e) {
                return (
                  (this.container.style.visibility = e ? "" : "hidden"),
                  this.raiseEvent("visible", { visible: e }),
                  this
                );
              },
              addTiledImage: function (t) {
                e.console.assert(
                  t,
                  "[Viewer.addTiledImage] options is required"
                ),
                  e.console.assert(
                    t.tileSource,
                    "[Viewer.addTiledImage] options.tileSource is required"
                  ),
                  e.console.assert(
                    !t.replace ||
                    (t.index > -1 && t.index < this.world.getItemCount()),
                    "[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world"
                  );
                var i = this;
                t.replace && (t.replaceItem = i.world.getItemAt(t.index)),
                  this._hideMessage(),
                  void 0 === t.placeholderFillStyle &&
                  (t.placeholderFillStyle = this.placeholderFillStyle),
                  void 0 === t.opacity && (t.opacity = this.opacity),
                  void 0 === t.preload && (t.preload = this.preload),
                  void 0 === t.compositeOperation &&
                  (t.compositeOperation = this.compositeOperation),
                  void 0 === t.crossOriginPolicy &&
                  (t.crossOriginPolicy =
                    void 0 !== t.tileSource.crossOriginPolicy
                      ? t.tileSource.crossOriginPolicy
                      : this.crossOriginPolicy),
                  void 0 === t.ajaxWithCredentials &&
                  (t.ajaxWithCredentials = this.ajaxWithCredentials),
                  void 0 === t.loadTilesWithAjax &&
                  (t.loadTilesWithAjax = this.loadTilesWithAjax),
                  void 0 === t.ajaxHeaders || null === t.ajaxHeaders
                    ? (t.ajaxHeaders = this.ajaxHeaders)
                    : e.isPlainObject(t.ajaxHeaders) &&
                    e.isPlainObject(this.ajaxHeaders) &&
                    (t.ajaxHeaders = e.extend(
                      {},
                      this.ajaxHeaders,
                      t.ajaxHeaders
                    ));
                var n = { options: t };
                function o(e) {
                  for (var o = 0; o < i._loadQueue.length; o++)
                    if (i._loadQueue[o] === n) {
                      i._loadQueue.splice(o, 1);
                      break;
                    }
                  0 === i._loadQueue.length && r(n),
                    i.raiseEvent("add-item-failed", e),
                    t.error && t.error(e);
                }
                function r(e) {
                  i.collectionMode &&
                    (i.world.arrange({
                      immediately: e.options.collectionImmediately,
                      rows: i.collectionRows,
                      columns: i.collectionColumns,
                      layout: i.collectionLayout,
                      tileSize: i.collectionTileSize,
                      tileMargin: i.collectionTileMargin,
                    }),
                      i.world.setAutoRefigureSizes(!0));
                }
                function a() {
                  for (
                    var t, n, o;
                    i._loadQueue.length && (t = i._loadQueue[0]).tileSource;

                  ) {
                    if ((i._loadQueue.splice(0, 1), t.options.replace)) {
                      var a = i.world.getIndexOfItem(t.options.replaceItem);
                      -1 != a && (t.options.index = a),
                        i.world.removeItem(t.options.replaceItem);
                    }
                    (n = new e.TiledImage({
                      viewer: i,
                      source: t.tileSource,
                      viewport: i.viewport,
                      drawer: i.drawer,
                      tileCache: i.tileCache,
                      imageLoader: i.imageLoader,
                      x: t.options.x,
                      y: t.options.y,
                      width: t.options.width,
                      height: t.options.height,
                      fitBounds: t.options.fitBounds,
                      fitBoundsPlacement: t.options.fitBoundsPlacement,
                      clip: t.options.clip,
                      placeholderFillStyle: t.options.placeholderFillStyle,
                      opacity: t.options.opacity,
                      preload: t.options.preload,
                      degrees: t.options.degrees,
                      compositeOperation: t.options.compositeOperation,
                      springStiffness: i.springStiffness,
                      animationTime: i.animationTime,
                      minZoomImageRatio: i.minZoomImageRatio,
                      wrapHorizontal: i.wrapHorizontal,
                      wrapVertical: i.wrapVertical,
                      immediateRender: i.immediateRender,
                      blendTime: i.blendTime,
                      alwaysBlend: i.alwaysBlend,
                      minPixelRatio: i.minPixelRatio,
                      smoothTileEdgesMinZoom: i.smoothTileEdgesMinZoom,
                      iOSDevice: i.iOSDevice,
                      crossOriginPolicy: t.options.crossOriginPolicy,
                      ajaxWithCredentials: t.options.ajaxWithCredentials,
                      loadTilesWithAjax: t.options.loadTilesWithAjax,
                      ajaxHeaders: t.options.ajaxHeaders,
                      debugMode: i.debugMode,
                    })),
                      i.collectionMode && i.world.setAutoRefigureSizes(!1),
                      i.world.addItem(n, { index: t.options.index }),
                      0 === i._loadQueue.length && r(t),
                      1 !== i.world.getItemCount() ||
                      i.preserveViewport ||
                      i.viewport.goHome(!0),
                      i.navigator &&
                      ((o = e.extend({}, t.options, {
                        replace: !1,
                        originalTiledImage: n,
                        tileSource: t.tileSource,
                      })),
                        i.navigator.addTiledImage(o)),
                      t.options.success && t.options.success({ item: n });
                  }
                }
                e.isArray(t.tileSource)
                  ? setTimeout(function () {
                    o({
                      message:
                        "[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",
                      source: t.tileSource,
                      options: t,
                    });
                  })
                  : (this._loadQueue.push(n),
                    (function (t, i, n, o, r) {
                      var a = t;
                      if ("string" == e.type(i))
                        if (i.match(/^\s*<.*>\s*$/)) i = e.parseXml(i);
                        else if (i.match(/^\s*[\{\[].*[\}\]]\s*$/))
                          try {
                            var s = e.parseJSON(i);
                            i = s;
                          } catch (e) { }
                      function l(e, t) {
                        e.ready
                          ? o(e)
                          : (e.addHandler("ready", function () {
                            o(e);
                          }),
                            e.addHandler("open-failed", function (e) {
                              r({ message: e.message, source: t });
                            }));
                      }
                      setTimeout(function () {
                        if ("string" == e.type(i))
                          (i = new e.TileSource({
                            url: i,
                            crossOriginPolicy:
                              void 0 !== n.crossOriginPolicy
                                ? n.crossOriginPolicy
                                : t.crossOriginPolicy,
                            ajaxWithCredentials: t.ajaxWithCredentials,
                            ajaxHeaders: t.ajaxHeaders,
                            useCanvas: t.useCanvas,
                            success: function (e) {
                              o(e.tileSource);
                            },
                          })).addHandler("open-failed", function (e) {
                            r(e);
                          });
                        else if (e.isPlainObject(i) || i.nodeType)
                          if (
                            (void 0 !== i.crossOriginPolicy ||
                              (void 0 === n.crossOriginPolicy &&
                                void 0 === t.crossOriginPolicy) ||
                              (i.crossOriginPolicy =
                                void 0 !== n.crossOriginPolicy
                                  ? n.crossOriginPolicy
                                  : t.crossOriginPolicy),
                              void 0 === i.ajaxWithCredentials &&
                              (i.ajaxWithCredentials = t.ajaxWithCredentials),
                              void 0 === i.useCanvas &&
                              (i.useCanvas = t.useCanvas),
                              e.isFunction(i.getTileUrl))
                          ) {
                            var s = new e.TileSource(i);
                            (s.getTileUrl = i.getTileUrl), o(s);
                          } else {
                            var c = e.TileSource.determineType(a, i);
                            if (!c)
                              return void r({
                                message: "Unable to load TileSource",
                                source: i,
                              });
                            var u = c.prototype.configure.apply(a, [i]);
                            l(new c(u), i);
                          }
                        else l(i, i);
                      });
                    })(
                      this,
                      t.tileSource,
                      t,
                      function (e) {
                        (n.tileSource = e), a();
                      },
                      function (e) {
                        (e.options = t), o(e), a();
                      }
                    ));
              },
              addSimpleImage: function (t) {
                e.console.assert(
                  t,
                  "[Viewer.addSimpleImage] options is required"
                ),
                  e.console.assert(
                    t.url,
                    "[Viewer.addSimpleImage] options.url is required"
                  );
                var i = e.extend({}, t, {
                  tileSource: { type: "image", url: t.url },
                });
                delete i.url, this.addTiledImage(i);
              },
              addLayer: function (t) {
                var i = this;
                e.console.error(
                  "[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead."
                );
                var n = e.extend({}, t, {
                  success: function (e) {
                    i.raiseEvent("add-layer", { options: t, drawer: e.item });
                  },
                  error: function (e) {
                    i.raiseEvent("add-layer-failed", e);
                  },
                });
                return this.addTiledImage(n), this;
              },
              getLayerAtLevel: function (t) {
                return (
                  e.console.error(
                    "[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."
                  ),
                  this.world.getItemAt(t)
                );
              },
              getLevelOfLayer: function (t) {
                return (
                  e.console.error(
                    "[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."
                  ),
                  this.world.getIndexOfItem(t)
                );
              },
              getLayersCount: function () {
                return (
                  e.console.error(
                    "[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."
                  ),
                  this.world.getItemCount()
                );
              },
              setLayerLevel: function (t, i) {
                return (
                  e.console.error(
                    "[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."
                  ),
                  this.world.setItemIndex(t, i)
                );
              },
              removeLayer: function (t) {
                return (
                  e.console.error(
                    "[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."
                  ),
                  this.world.removeItem(t)
                );
              },
              forceRedraw: function () {
                return (t[this.hash].forceRedraw = !0), this;
              },
              bindSequenceControls: function () {
                var t = e.delegate(this, u),
                  i = e.delegate(this, d),
                  n = e.delegate(this, U),
                  o = e.delegate(this, F),
                  r = this.navImages,
                  a = !0;
                return (
                  this.showSequenceControl &&
                  ((this.previousButton || this.nextButton) && (a = !1),
                    (this.previousButton = new e.Button({
                      element: this.previousButton
                        ? e.getElement(this.previousButton)
                        : null,
                      clickTimeThreshold: this.clickTimeThreshold,
                      clickDistThreshold: this.clickDistThreshold,
                      tooltip: e.getString("Tooltips.PreviousPage"),
                      srcRest: L(this.prefixUrl, r.previous.REST),
                      srcGroup: L(this.prefixUrl, r.previous.GROUP),
                      srcHover: L(this.prefixUrl, r.previous.HOVER),
                      srcDown: L(this.prefixUrl, r.previous.DOWN),
                      onRelease: o,
                      onFocus: t,
                      onBlur: i,
                    })),
                    (this.nextButton = new e.Button({
                      element: this.nextButton
                        ? e.getElement(this.nextButton)
                        : null,
                      clickTimeThreshold: this.clickTimeThreshold,
                      clickDistThreshold: this.clickDistThreshold,
                      tooltip: e.getString("Tooltips.NextPage"),
                      srcRest: L(this.prefixUrl, r.next.REST),
                      srcGroup: L(this.prefixUrl, r.next.GROUP),
                      srcHover: L(this.prefixUrl, r.next.HOVER),
                      srcDown: L(this.prefixUrl, r.next.DOWN),
                      onRelease: n,
                      onFocus: t,
                      onBlur: i,
                    })),
                    this.navPrevNextWrap || this.previousButton.disable(),
                    (this.tileSources && this.tileSources.length) ||
                    this.nextButton.disable(),
                    a &&
                    ((this.paging = new e.ButtonGroup({
                      buttons: [this.previousButton, this.nextButton],
                      clickTimeThreshold: this.clickTimeThreshold,
                      clickDistThreshold: this.clickDistThreshold,
                    })),
                      (this.pagingControl = this.paging.element),
                      this.toolbar
                        ? this.toolbar.addControl(this.pagingControl, {
                          anchor: e.ControlAnchor.BOTTOM_RIGHT,
                        })
                        : this.addControl(this.pagingControl, {
                          anchor:
                            this.sequenceControlAnchor ||
                            e.ControlAnchor.TOP_LEFT,
                        }))),
                  this
                );
              },
              bindStandardControls: function () {
                var t = e.delegate(this, D),
                  i = e.delegate(this, P),
                  n = e.delegate(this, N),
                  o = e.delegate(this, I),
                  r = e.delegate(this, R),
                  a = e.delegate(this, z),
                  s = e.delegate(this, $),
                  l = e.delegate(this, H),
                  c = e.delegate(this, V),
                  p = e.delegate(this, j),
                  h = e.delegate(this, u),
                  f = e.delegate(this, d),
                  g = this.navImages,
                  m = [],
                  v = !0;
                return (
                  this.showNavigationControl &&
                  ((this.zoomInButton ||
                    this.zoomOutButton ||
                    this.homeButton ||
                    this.fullPageButton ||
                    this.rotateLeftButton ||
                    this.rotateRightButton ||
                    this.flipButton) &&
                    (v = !1),
                    this.showZoomControl &&
                    (m.push(
                      (this.zoomInButton = new e.Button({
                        element: this.zoomInButton
                          ? e.getElement(this.zoomInButton)
                          : null,
                        clickTimeThreshold: this.clickTimeThreshold,
                        clickDistThreshold: this.clickDistThreshold,
                        tooltip: e.getString("Tooltips.ZoomIn"),
                        srcRest: L(this.prefixUrl, g.zoomIn.REST),
                        srcGroup: L(this.prefixUrl, g.zoomIn.GROUP),
                        srcHover: L(this.prefixUrl, g.zoomIn.HOVER),
                        srcDown: L(this.prefixUrl, g.zoomIn.DOWN),
                        onPress: t,
                        onRelease: i,
                        onClick: n,
                        onEnter: t,
                        onExit: i,
                        onFocus: h,
                        onBlur: f,
                      }))
                    ),
                      m.push(
                        (this.zoomOutButton = new e.Button({
                          element: this.zoomOutButton
                            ? e.getElement(this.zoomOutButton)
                            : null,
                          clickTimeThreshold: this.clickTimeThreshold,
                          clickDistThreshold: this.clickDistThreshold,
                          tooltip: e.getString("Tooltips.ZoomOut"),
                          srcRest: L(this.prefixUrl, g.zoomOut.REST),
                          srcGroup: L(this.prefixUrl, g.zoomOut.GROUP),
                          srcHover: L(this.prefixUrl, g.zoomOut.HOVER),
                          srcDown: L(this.prefixUrl, g.zoomOut.DOWN),
                          onPress: o,
                          onRelease: i,
                          onClick: r,
                          onEnter: o,
                          onExit: i,
                          onFocus: h,
                          onBlur: f,
                        }))
                      )),
                    this.showHomeControl &&
                    m.push(
                      (this.homeButton = new e.Button({
                        element: this.homeButton
                          ? e.getElement(this.homeButton)
                          : null,
                        clickTimeThreshold: this.clickTimeThreshold,
                        clickDistThreshold: this.clickDistThreshold,
                        tooltip: e.getString("Tooltips.Home"),
                        srcRest: L(this.prefixUrl, g.home.REST),
                        srcGroup: L(this.prefixUrl, g.home.GROUP),
                        srcHover: L(this.prefixUrl, g.home.HOVER),
                        srcDown: L(this.prefixUrl, g.home.DOWN),
                        onRelease: a,
                        onFocus: h,
                        onBlur: f,
                      }))
                    ),
                    this.showFullPageControl &&
                    m.push(
                      (this.fullPageButton = new e.Button({
                        element: this.fullPageButton
                          ? e.getElement(this.fullPageButton)
                          : null,
                        clickTimeThreshold: this.clickTimeThreshold,
                        clickDistThreshold: this.clickDistThreshold,
                        tooltip: e.getString("Tooltips.FullPage"),
                        srcRest: L(this.prefixUrl, g.fullpage.REST),
                        srcGroup: L(this.prefixUrl, g.fullpage.GROUP),
                        srcHover: L(this.prefixUrl, g.fullpage.HOVER),
                        srcDown: L(this.prefixUrl, g.fullpage.DOWN),
                        onRelease: s,
                        onFocus: h,
                        onBlur: f,
                      }))
                    ),
                    this.showRotationControl &&
                    (m.push(
                      (this.rotateLeftButton = new e.Button({
                        element: this.rotateLeftButton
                          ? e.getElement(this.rotateLeftButton)
                          : null,
                        clickTimeThreshold: this.clickTimeThreshold,
                        clickDistThreshold: this.clickDistThreshold,
                        tooltip: e.getString("Tooltips.RotateLeft"),
                        srcRest: L(this.prefixUrl, g.rotateleft.REST),
                        srcGroup: L(this.prefixUrl, g.rotateleft.GROUP),
                        srcHover: L(this.prefixUrl, g.rotateleft.HOVER),
                        srcDown: L(this.prefixUrl, g.rotateleft.DOWN),
                        onRelease: l,
                        onFocus: h,
                        onBlur: f,
                      }))
                    ),
                      m.push(
                        (this.rotateRightButton = new e.Button({
                          element: this.rotateRightButton
                            ? e.getElement(this.rotateRightButton)
                            : null,
                          clickTimeThreshold: this.clickTimeThreshold,
                          clickDistThreshold: this.clickDistThreshold,
                          tooltip: e.getString("Tooltips.RotateRight"),
                          srcRest: L(this.prefixUrl, g.rotateright.REST),
                          srcGroup: L(this.prefixUrl, g.rotateright.GROUP),
                          srcHover: L(this.prefixUrl, g.rotateright.HOVER),
                          srcDown: L(this.prefixUrl, g.rotateright.DOWN),
                          onRelease: c,
                          onFocus: h,
                          onBlur: f,
                        }))
                      )),
                    this.showFlipControl &&
                    m.push(
                      (this.flipButton = new e.Button({
                        element: this.flipButton
                          ? e.getElement(this.flipButton)
                          : null,
                        clickTimeThreshold: this.clickTimeThreshold,
                        clickDistThreshold: this.clickDistThreshold,
                        tooltip: e.getString("Tooltips.Flip"),
                        srcRest: L(this.prefixUrl, g.flip.REST),
                        srcGroup: L(this.prefixUrl, g.flip.GROUP),
                        srcHover: L(this.prefixUrl, g.flip.HOVER),
                        srcDown: L(this.prefixUrl, g.flip.DOWN),
                        onRelease: p,
                        onFocus: h,
                        onBlur: f,
                      }))
                    ),
                    v &&
                    ((this.buttons = new e.ButtonGroup({
                      buttons: m,
                      clickTimeThreshold: this.clickTimeThreshold,
                      clickDistThreshold: this.clickDistThreshold,
                    })),
                      (this.navControl = this.buttons.element),
                      this.addHandler("open", e.delegate(this, B)),
                      this.toolbar
                        ? this.toolbar.addControl(this.navControl, {
                          anchor:
                            this.navigationControlAnchor ||
                            e.ControlAnchor.TOP_LEFT,
                        })
                        : this.addControl(this.navControl, {
                          anchor:
                            this.navigationControlAnchor ||
                            e.ControlAnchor.TOP_LEFT,
                        }))),
                  this
                );
              },
              currentPage: function () {
                return this._sequenceIndex;
              },
              goToPage: function (e) {
                return (
                  this.tileSources &&
                  e >= 0 &&
                  e < this.tileSources.length &&
                  ((this._sequenceIndex = e),
                    this._updateSequenceButtons(e),
                    this.open(this.tileSources[e]),
                    this.referenceStrip && this.referenceStrip.setFocus(e),
                    this.raiseEvent("page", { page: e })),
                  this
                );
              },
              addOverlay: function (t, i, n, a) {
                var s;
                if (
                  ((s = e.isPlainObject(t)
                    ? t
                    : { element: t, location: i, placement: n, onDraw: a }),
                    (t = e.getElement(s.element)),
                    r(this.currentOverlays, t) >= 0)
                )
                  return this;
                var l = o(this, s);
                return (
                  this.currentOverlays.push(l),
                  l.drawHTML(this.overlaysContainer, this.viewport),
                  this.raiseEvent("add-overlay", {
                    element: t,
                    location: s.location,
                    placement: s.placement,
                  }),
                  this
                );
              },
              updateOverlay: function (i, n, o) {
                var a;
                return (
                  (i = e.getElement(i)),
                  (a = r(this.currentOverlays, i)) >= 0 &&
                  (this.currentOverlays[a].update(n, o),
                    (t[this.hash].forceRedraw = !0),
                    this.raiseEvent("update-overlay", {
                      element: i,
                      location: n,
                      placement: o,
                    })),
                  this
                );
              },
              removeOverlay: function (i) {
                var n;
                return (
                  (i = e.getElement(i)),
                  (n = r(this.currentOverlays, i)) >= 0 &&
                  (this.currentOverlays[n].destroy(),
                    this.currentOverlays.splice(n, 1),
                    (t[this.hash].forceRedraw = !0),
                    this.raiseEvent("remove-overlay", { element: i })),
                  this
                );
              },
              clearOverlays: function () {
                for (; this.currentOverlays.length > 0;)
                  this.currentOverlays.pop().destroy();
                return (
                  (t[this.hash].forceRedraw = !0),
                  this.raiseEvent("clear-overlay", {}),
                  this
                );
              },
              getOverlayById: function (t) {
                var i;
                return (
                  (t = e.getElement(t)),
                  (i = r(this.currentOverlays, t)) >= 0
                    ? this.currentOverlays[i]
                    : null
                );
              },
              _updateSequenceButtons: function (e) {
                this.nextButton &&
                  (this.tileSources && this.tileSources.length - 1 !== e
                    ? this.nextButton.enable()
                    : this.navPrevNextWrap || this.nextButton.disable()),
                  this.previousButton &&
                  (e > 0
                    ? this.previousButton.enable()
                    : this.navPrevNextWrap || this.previousButton.disable());
              },
              _showMessage: function (t) {
                this._hideMessage();
                var i = e.makeNeutralElement("div");
                i.appendChild(document.createTextNode(t)),
                  (this.messageDiv = e.makeCenteredNode(i)),
                  e.addClass(this.messageDiv, "openseadragon-message"),
                  this.container.appendChild(this.messageDiv);
              },
              _hideMessage: function () {
                var e = this.messageDiv;
                e && (e.parentNode.removeChild(e), delete this.messageDiv);
              },
              gestureSettingsByDeviceType: function (e) {
                switch (e) {
                  case "mouse":
                    return this.gestureSettingsMouse;
                  case "touch":
                    return this.gestureSettingsTouch;
                  case "pen":
                    return this.gestureSettingsPen;
                  default:
                    return this.gestureSettingsUnknown;
                }
              },
              _drawOverlays: function () {
                var e,
                  t = this.currentOverlays.length;
                for (e = 0; e < t; e++)
                  this.currentOverlays[e].drawHTML(
                    this.overlaysContainer,
                    this.viewport
                  );
              },
              _cancelPendingImages: function () {
                this._loadQueue = [];
              },
              removeReferenceStrip: function () {
                (this.showReferenceStrip = !1),
                  this.referenceStrip &&
                  (this.referenceStrip.destroy(),
                    (this.referenceStrip = null));
              },
              addReferenceStrip: function () {
                if (((this.showReferenceStrip = !0), this.sequenceMode)) {
                  if (this.referenceStrip) return;
                  this.tileSources.length &&
                    this.tileSources.length > 1 &&
                    ((this.referenceStrip = new e.ReferenceStrip({
                      id: this.referenceStripElement,
                      position: this.referenceStripPosition,
                      sizeRatio: this.referenceStripSizeRatio,
                      scroll: this.referenceStripScroll,
                      height: this.referenceStripHeight,
                      width: this.referenceStripWidth,
                      tileSources: this.tileSources,
                      prefixUrl: this.prefixUrl,
                      useCanvas: this.useCanvas,
                      viewer: this,
                    })),
                      this.referenceStrip.setFocus(this._sequenceIndex));
                } else
                  e.console.warn(
                    'Attempting to display a reference strip while "sequenceMode" is off.'
                  );
              },
            }
          );
      })(OpenSeadragon),
      (function (e) {
        function t(e) {
          var t = {
            tracker: e.eventSource,
            position: e.position,
            quick: e.quick,
            shift: e.shift,
            originalEvent: e.originalEvent,
            preventDefaultAction: e.preventDefaultAction,
          };
          if (
            (this.viewer.raiseEvent("navigator-click", t),
              !t.preventDefaultAction &&
              e.quick &&
              this.viewer.viewport &&
              (this.panVertical || this.panHorizontal))
          ) {
            this.viewer.viewport.flipped &&
              (e.position.x =
                this.viewport.getContainerSize().x - e.position.x);
            var i = this.viewport.pointFromPixel(e.position);
            this.panVertical
              ? this.panHorizontal ||
              (i.x = this.viewer.viewport.getCenter(!0).x)
              : (i.y = this.viewer.viewport.getCenter(!0).y),
              this.viewer.viewport.panTo(i),
              this.viewer.viewport.applyConstraints();
          }
        }
        function i(e) {
          var t = {
            tracker: e.eventSource,
            position: e.position,
            delta: e.delta,
            speed: e.speed,
            direction: e.direction,
            shift: e.shift,
            originalEvent: e.originalEvent,
            preventDefaultAction: e.preventDefaultAction,
          };
          this.viewer.raiseEvent("navigator-drag", t),
            !t.preventDefaultAction &&
            this.viewer.viewport &&
            (this.panHorizontal || (e.delta.x = 0),
              this.panVertical || (e.delta.y = 0),
              this.viewer.viewport.flipped && (e.delta.x = -e.delta.x),
              this.viewer.viewport.panBy(
                this.viewport.deltaPointsFromPixels(e.delta)
              ),
              this.viewer.constrainDuringPan &&
              this.viewer.viewport.applyConstraints());
        }
        function n(e) {
          e.insideElementPressed &&
            this.viewer.viewport &&
            this.viewer.viewport.applyConstraints();
        }
        function o(e) {
          return (
            this.viewer.raiseEvent("navigator-scroll", {
              tracker: e.eventSource,
              position: e.position,
              scroll: e.scroll,
              shift: e.shift,
              originalEvent: e.originalEvent,
            }),
            !1
          );
        }
        function r(e, t) {
          a(e, "rotate(" + t + "deg)");
        }
        function a(e, t) {
          (e.style.webkitTransform = t),
            (e.style.mozTransform = t),
            (e.style.msTransform = t),
            (e.style.oTransform = t),
            (e.style.transform = t);
        }
        (e.Navigator = function (a) {
          var s,
            l,
            c,
            u,
            d = a.viewer,
            p = this;
          function h(e) {
            r(p.displayRegionContainer, e),
              r(p.displayRegion, -e),
              p.viewport.setRotation(e);
          }
          (a.id
            ? ((this.element = document.getElementById(a.id)),
              (a.controlOptions = {
                anchor: e.ControlAnchor.NONE,
                attachToViewer: !1,
                autoFade: !1,
              }))
            : ((a.id = "navigator-" + e.now()),
              (this.element = e.makeNeutralElement("div")),
              (a.controlOptions = {
                anchor: e.ControlAnchor.TOP_RIGHT,
                attachToViewer: !0,
                autoFade: a.autoFade,
              }),
              a.position &&
              ("BOTTOM_RIGHT" == a.position
                ? (a.controlOptions.anchor = e.ControlAnchor.BOTTOM_RIGHT)
                : "BOTTOM_LEFT" == a.position
                  ? (a.controlOptions.anchor = e.ControlAnchor.BOTTOM_LEFT)
                  : "TOP_RIGHT" == a.position
                    ? (a.controlOptions.anchor = e.ControlAnchor.TOP_RIGHT)
                    : "TOP_LEFT" == a.position
                      ? (a.controlOptions.anchor = e.ControlAnchor.TOP_LEFT)
                      : "ABSOLUTE" == a.position &&
                      ((a.controlOptions.anchor = e.ControlAnchor.ABSOLUTE),
                        (a.controlOptions.top = a.top),
                        (a.controlOptions.left = a.left),
                        (a.controlOptions.height = a.height),
                        (a.controlOptions.width = a.width)))),
            (this.element.id = a.id),
            (this.element.className += " navigator"),
            ((a = e.extend(
              !0,
              { sizeRatio: e.DEFAULT_SETTINGS.navigatorSizeRatio },
              a,
              {
                element: this.element,
                tabIndex: -1,
                showNavigator: !1,
                mouseNavEnabled: !1,
                showNavigationControl: !1,
                showSequenceControl: !1,
                immediateRender: !0,
                blendTime: 0,
                animationTime: 0,
                autoResize: a.autoResize,
                minZoomImageRatio: 1,
                background: a.background,
                opacity: a.opacity,
                borderColor: a.borderColor,
                displayRegionColor: a.displayRegionColor,
              }
            )).minPixelRatio = this.minPixelRatio =
              d.minPixelRatio),
            e.setElementTouchActionNone(this.element),
            (this.borderWidth = 2),
            (this.fudge = new e.Point(1, 1)),
            (this.totalBorderWidths = new e.Point(
              2 * this.borderWidth,
              2 * this.borderWidth
            ).minus(this.fudge)),
            a.controlOptions.anchor != e.ControlAnchor.NONE &&
            ((c = this.element.style),
              (u = this.borderWidth),
              (c.margin = "0px"),
              (c.border = u + "px solid " + a.borderColor),
              (c.padding = "0px"),
              (c.background = a.background),
              (c.opacity = a.opacity),
              (c.overflow = "hidden")),
            (this.displayRegion = e.makeNeutralElement("div")),
            (this.displayRegion.id = this.element.id + "-displayregion"),
            (this.displayRegion.className = "displayregion"),
            (function (e, t) {
              (e.position = "relative"),
                (e.top = "0px"),
                (e.left = "0px"),
                (e.fontSize = "0px"),
                (e.overflow = "hidden"),
                (e.border = t + "px solid " + a.displayRegionColor),
                (e.margin = "0px"),
                (e.padding = "0px"),
                (e.background = "transparent"),
                (e.float = "left"),
                (e.cssFloat = "left"),
                (e.styleFloat = "left"),
                (e.zIndex = 999999999),
                (e.cursor = "default");
            })(this.displayRegion.style, this.borderWidth),
            (this.displayRegionContainer = e.makeNeutralElement("div")),
            (this.displayRegionContainer.id =
              this.element.id + "-displayregioncontainer"),
            (this.displayRegionContainer.className = "displayregioncontainer"),
            (this.displayRegionContainer.style.width = "100%"),
            (this.displayRegionContainer.style.height = "100%"),
            d.addControl(this.element, a.controlOptions),
            (this._resizeWithViewer =
              a.controlOptions.anchor != e.ControlAnchor.ABSOLUTE &&
              a.controlOptions.anchor != e.ControlAnchor.NONE),
            a.width && a.height
              ? (this.setWidth(a.width), this.setHeight(a.height))
              : this._resizeWithViewer &&
              ((s = e.getElementSize(d.element)),
                (this.element.style.height =
                  Math.round(s.y * a.sizeRatio) + "px"),
                (this.element.style.width = Math.round(s.x * a.sizeRatio) + "px"),
                (this.oldViewerSize = s),
                (l = e.getElementSize(this.element)),
                (this.elementArea = l.x * l.y)),
            (this.oldContainerSize = new e.Point(0, 0)),
            e.Viewer.apply(this, [a]),
            this.displayRegionContainer.appendChild(this.displayRegion),
            this.element
              .getElementsByTagName("div")[0]
              .appendChild(this.displayRegionContainer),
            a.navigatorRotate) &&
            (h(
              a.viewer.viewport
                ? a.viewer.viewport.getRotation()
                : a.viewer.degrees || 0
            ),
              a.viewer.addHandler("rotate", function (e) {
                h(e.degrees);
              }));
          this.innerTracker.destroy(),
            (this.innerTracker = new e.MouseTracker({
              element: this.element,
              dragHandler: e.delegate(this, i),
              clickHandler: e.delegate(this, t),
              releaseHandler: e.delegate(this, n),
              scrollHandler: e.delegate(this, o),
            })),
            this.addHandler("reset-size", function () {
              p.viewport && p.viewport.goHome(!0);
            }),
            d.world.addHandler("item-index-change", function (e) {
              window.setTimeout(function () {
                var t = p.world.getItemAt(e.previousIndex);
                p.world.setItemIndex(t, e.newIndex);
              }, 1);
            }),
            d.world.addHandler("remove-item", function (e) {
              var t = e.item,
                i = p._getMatchingItem(t);
              i && p.world.removeItem(i);
            }),
            this.update(d.viewport);
        }),
          e.extend(
            e.Navigator.prototype,
            e.EventSource.prototype,
            e.Viewer.prototype,
            {
              updateSize: function () {
                if (this.viewport) {
                  var t = new e.Point(
                    0 === this.container.clientWidth
                      ? 1
                      : this.container.clientWidth,
                    0 === this.container.clientHeight
                      ? 1
                      : this.container.clientHeight
                  );
                  t.equals(this.oldContainerSize) ||
                    (this.viewport.resize(t, !0),
                      this.viewport.goHome(!0),
                      (this.oldContainerSize = t),
                      this.drawer.clear(),
                      this.world.draw());
                }
              },
              setWidth: function (e) {
                (this.width = e),
                  (this.element.style.width =
                    "number" == typeof e ? e + "px" : e),
                  (this._resizeWithViewer = !1);
              },
              setHeight: function (e) {
                (this.height = e),
                  (this.element.style.height =
                    "number" == typeof e ? e + "px" : e),
                  (this._resizeWithViewer = !1);
              },
              setFlip: function (e) {
                return (
                  this.viewport.setFlip(e),
                  this.setDisplayTransform(
                    this.viewer.viewport.getFlip()
                      ? "scale(-1,1)"
                      : "scale(1,1)"
                  ),
                  this
                );
              },
              setDisplayTransform: function (e) {
                a(this.displayRegion, e), a(this.canvas, e), a(this.element, e);
              },
              update: function (t) {
                var i, n, o, r, a, s;
                if (
                  ((i = e.getElementSize(this.viewer.element)),
                    this._resizeWithViewer &&
                    i.x &&
                    i.y &&
                    !i.equals(this.oldViewerSize) &&
                    ((this.oldViewerSize = i),
                      this.maintainSizeRatio || !this.elementArea
                        ? ((n = i.x * this.sizeRatio), (o = i.y * this.sizeRatio))
                        : ((n = Math.sqrt(this.elementArea * (i.x / i.y))),
                          (o = this.elementArea / n)),
                      (this.element.style.width = Math.round(n) + "px"),
                      (this.element.style.height = Math.round(o) + "px"),
                      this.elementArea || (this.elementArea = n * o),
                      this.updateSize()),
                    t && this.viewport)
                ) {
                  (r = t.getBoundsNoRotate(!0)),
                    (a = this.viewport.pixelFromPointNoRotate(
                      r.getTopLeft(),
                      !1
                    )),
                    (s = this.viewport
                      .pixelFromPointNoRotate(r.getBottomRight(), !1)
                      .minus(this.totalBorderWidths));
                  var l = this.displayRegion.style;
                  (l.display = this.world.getItemCount() ? "block" : "none"),
                    (l.top = Math.round(a.y) + "px"),
                    (l.left = Math.round(a.x) + "px");
                  var c = Math.abs(a.x - s.x),
                    u = Math.abs(a.y - s.y);
                  (l.width = Math.round(Math.max(c, 0)) + "px"),
                    (l.height = Math.round(Math.max(u, 0)) + "px");
                }
              },
              addTiledImage: function (t) {
                var i = this,
                  n = t.originalTiledImage;
                delete t.original;
                var o = e.extend({}, t, {
                  success: function (e) {
                    var t = e.item;
                    function o() {
                      i._matchBounds(t, n);
                    }
                    (t._originalForNavigator = n),
                      i._matchBounds(t, n, !0),
                      n.addHandler("bounds-change", o),
                      n.addHandler("clip-change", o),
                      n.addHandler("opacity-change", function () {
                        i._matchOpacity(t, n);
                      }),
                      n.addHandler("composite-operation-change", function () {
                        i._matchCompositeOperation(t, n);
                      });
                  },
                });
                return e.Viewer.prototype.addTiledImage.apply(this, [o]);
              },
              _getMatchingItem: function (e) {
                for (var t, i = this.world.getItemCount(), n = 0; n < i; n++)
                  if ((t = this.world.getItemAt(n))._originalForNavigator === e)
                    return t;
                return null;
              },
              _matchBounds: function (e, t, i) {
                var n = t.getBoundsNoRotate();
                e.setPosition(n.getTopLeft(), i),
                  e.setWidth(n.width, i),
                  e.setRotation(t.getRotation(), i),
                  e.setClip(t.getClip());
              },
              _matchOpacity: function (e, t) {
                e.setOpacity(t.opacity);
              },
              _matchCompositeOperation: function (e, t) {
                e.setCompositeOperation(t.compositeOperation);
              },
            }
          );
      })(OpenSeadragon),
      (function (e) {
        var t = {
          Errors: {
            Dzc: "Sorry, we don't support Deep Zoom Collections!",
            Dzi: "Hmm, this doesn't appear to be a valid Deep Zoom Image.",
            Xml: "Hmm, this doesn't appear to be a valid Deep Zoom Image.",
            ImageFormat: "Sorry, we don't support {0}-based Deep Zoom Images.",
            Security:
              "It looks like a security restriction stopped us from loading this Deep Zoom Image.",
            Status: "This space unintentionally left blank ({0} {1}).",
            OpenFailed: "Unable to open {0}: {1}",
          },
          Tooltips: {
            FullPage: "Toggle full page",
            Home: "Go home",
            ZoomIn: "Zoom in",
            ZoomOut: "Zoom out",
            NextPage: "Next page",
            PreviousPage: "Previous page",
            RotateLeft: "Rotate left",
            RotateRight: "Rotate right",
            Flip: "Flip Horizontally",
          },
        };
        e.extend(e, {
          getString: function (i) {
            var n,
              o = i.split("."),
              r = null,
              a = arguments,
              s = t;
            for (n = 0; n < o.length - 1; n++) s = s[o[n]] || {};
            return (
              "string" != typeof (r = s[o[n]]) &&
              (e.console.log("Untranslated source string:", i), (r = "")),
              r.replace(/\{\d+\}/g, function (e) {
                var t = parseInt(e.match(/\d+/), 10) + 1;
                return t < a.length ? a[t] : "";
              })
            );
          },
          setString: function (e, i) {
            var n,
              o = e.split("."),
              r = t;
            for (n = 0; n < o.length - 1; n++)
              r[o[n]] || (r[o[n]] = {}), (r = r[o[n]]);
            r[o[n]] = i;
          },
        });
      })(OpenSeadragon),
      (function (e) {
        (e.Point = function (e, t) {
          (this.x = "number" == typeof e ? e : 0),
            (this.y = "number" == typeof t ? t : 0);
        }),
          (e.Point.prototype = {
            clone: function () {
              return new e.Point(this.x, this.y);
            },
            plus: function (t) {
              return new e.Point(this.x + t.x, this.y + t.y);
            },
            minus: function (t) {
              return new e.Point(this.x - t.x, this.y - t.y);
            },
            times: function (t) {
              return new e.Point(this.x * t, this.y * t);
            },
            divide: function (t) {
              return new e.Point(this.x / t, this.y / t);
            },
            negate: function () {
              return new e.Point(-this.x, -this.y);
            },
            distanceTo: function (e) {
              return Math.sqrt(
                Math.pow(this.x - e.x, 2) + Math.pow(this.y - e.y, 2)
              );
            },
            squaredDistanceTo: function (e) {
              return Math.pow(this.x - e.x, 2) + Math.pow(this.y - e.y, 2);
            },
            apply: function (t) {
              return new e.Point(t(this.x), t(this.y));
            },
            equals: function (t) {
              return t instanceof e.Point && this.x === t.x && this.y === t.y;
            },
            rotate: function (t, i) {
              var n, o;
              if (((i = i || new e.Point(0, 0)), t % 90 == 0)) {
                switch (e.positiveModulo(t, 360)) {
                  case 0:
                    (n = 1), (o = 0);
                    break;
                  case 90:
                    (n = 0), (o = 1);
                    break;
                  case 180:
                    (n = -1), (o = 0);
                    break;
                  case 270:
                    (n = 0), (o = -1);
                }
              } else {
                var r = (t * Math.PI) / 180;
                (n = Math.cos(r)), (o = Math.sin(r));
              }
              var a = n * (this.x - i.x) - o * (this.y - i.y) + i.x,
                s = o * (this.x - i.x) + n * (this.y - i.y) + i.y;
              return new e.Point(a, s);
            },
            toString: function () {
              return (
                "(" +
                Math.round(100 * this.x) / 100 +
                "," +
                Math.round(100 * this.y) / 100 +
                ")"
              );
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.TileSource = function (t, i, n, o, r, a) {
          var s,
            l,
            c = this,
            u = arguments;
          if (
            ((s = e.isPlainObject(t)
              ? t
              : {
                width: u[0],
                height: u[1],
                tileSize: u[2],
                tileOverlap: u[3],
                minLevel: u[4],
                maxLevel: u[5],
              }),
              e.EventSource.call(this),
              e.extend(!0, this, s),
              !this.success)
          )
            for (l = 0; l < arguments.length; l++)
              if (e.isFunction(arguments[l])) {
                this.success = arguments[l];
                break;
              }
          this.success &&
            this.addHandler("ready", function (e) {
              c.success(e);
            }),
            "string" == e.type(arguments[0]) && (this.url = arguments[0]),
            this.url
              ? ((this.aspectRatio = 1),
                (this.dimensions = new e.Point(10, 10)),
                (this._tileWidth = 0),
                (this._tileHeight = 0),
                (this.tileOverlap = 0),
                (this.minLevel = 0),
                (this.maxLevel = 0),
                (this.ready = !1),
                this.getImageInfo(this.url))
              : ((this.ready = !0),
                (this.aspectRatio =
                  s.width && s.height ? s.width / s.height : 1),
                (this.dimensions = new e.Point(s.width, s.height)),
                this.tileSize
                  ? ((this._tileWidth = this._tileHeight = this.tileSize),
                    delete this.tileSize)
                  : (this.tileWidth
                    ? ((this._tileWidth = this.tileWidth),
                      delete this.tileWidth)
                    : (this._tileWidth = 0),
                    this.tileHeight
                      ? ((this._tileHeight = this.tileHeight),
                        delete this.tileHeight)
                      : (this._tileHeight = 0)),
                (this.tileOverlap = s.tileOverlap ? s.tileOverlap : 0),
                (this.minLevel = s.minLevel ? s.minLevel : 0),
                (this.maxLevel =
                  void 0 !== s.maxLevel && null !== s.maxLevel
                    ? s.maxLevel
                    : s.width && s.height
                      ? Math.ceil(
                        Math.log(Math.max(s.width, s.height)) / Math.log(2)
                      )
                      : 0),
                this.success &&
                e.isFunction(this.success) &&
                this.success(this));
        }),
          (e.TileSource.prototype = {
            getTileSize: function (t) {
              return (
                e.console.error(
                  "[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"
                ),
                this._tileWidth
              );
            },
            getTileWidth: function (e) {
              return this._tileWidth ? this._tileWidth : this.getTileSize(e);
            },
            getTileHeight: function (e) {
              return this._tileHeight ? this._tileHeight : this.getTileSize(e);
            },
            getLevelScale: function (e) {
              var t,
                i = {};
              for (t = 0; t <= this.maxLevel; t++)
                i[t] = 1 / Math.pow(2, this.maxLevel - t);
              return (
                (this.getLevelScale = function (e) {
                  return i[e];
                }),
                this.getLevelScale(e)
              );
            },
            getNumTiles: function (t) {
              var i = this.getLevelScale(t),
                n = Math.ceil((i * this.dimensions.x) / this.getTileWidth(t)),
                o = Math.ceil((i * this.dimensions.y) / this.getTileHeight(t));
              return new e.Point(n, o);
            },
            getPixelRatio: function (t) {
              var i = this.dimensions.times(this.getLevelScale(t)),
                n = 1 / i.x,
                o = 1 / i.y;
              return new e.Point(n, o);
            },
            getClosestLevel: function () {
              var e, t;
              for (
                e = this.minLevel + 1;
                e <= this.maxLevel &&
                !((t = this.getNumTiles(e)).x > 1 || t.y > 1);
                e++
              );
              return e - 1;
            },
            getTileAtPoint: function (t, i) {
              var n =
                i.x >= 0 && i.x <= 1 && i.y >= 0 && i.y <= 1 / this.aspectRatio;
              e.console.assert(
                n,
                "[TileSource.getTileAtPoint] must be called with a valid point."
              );
              var o = this.dimensions.x * this.getLevelScale(t),
                r = i.x * o,
                a = i.y * o,
                s = Math.floor(r / this.getTileWidth(t)),
                l = Math.floor(a / this.getTileHeight(t));
              i.x >= 1 && (s = this.getNumTiles(t).x - 1);
              return (
                i.y >= 1 / this.aspectRatio - 1e-15 &&
                (l = this.getNumTiles(t).y - 1),
                new e.Point(s, l)
              );
            },
            getTileBounds: function (t, i, n, o) {
              var r = this.dimensions.times(this.getLevelScale(t)),
                a = this.getTileWidth(t),
                s = this.getTileHeight(t),
                l = 0 === i ? 0 : a * i - this.tileOverlap,
                c = 0 === n ? 0 : s * n - this.tileOverlap,
                u = a + (0 === i ? 1 : 2) * this.tileOverlap,
                d = s + (0 === n ? 1 : 2) * this.tileOverlap,
                p = 1 / r.x;
              return (
                (u = Math.min(u, r.x - l)),
                (d = Math.min(d, r.y - c)),
                o
                  ? new e.Rect(0, 0, u, d)
                  : new e.Rect(l * p, c * p, u * p, d * p)
              );
            },
            getImageInfo: function (t) {
              var i,
                n,
                o,
                r,
                a,
                s,
                l,
                c = this;
              t &&
                (l = (s = (a = t.split("/"))[a.length - 1]).lastIndexOf(".")) >
                -1 &&
                (a[a.length - 1] = s.slice(0, l)),
                (n = function (i) {
                  "string" == typeof i && (i = e.parseXml(i));
                  var n = e.TileSource.determineType(c, i, t);
                  n
                    ? (void 0 ===
                      (r = n.prototype.configure.apply(c, [i, t]))
                        .ajaxWithCredentials &&
                      (r.ajaxWithCredentials = c.ajaxWithCredentials),
                      (o = new n(r)),
                      (c.ready = !0),
                      c.raiseEvent("ready", { tileSource: o }))
                    : c.raiseEvent("open-failed", {
                      message: "Unable to load TileSource",
                      source: t,
                    });
                }),
                t.match(/\.js$/)
                  ? ((i = t.split("/").pop().replace(".js", "")),
                    e.jsonp({
                      url: t,
                      async: !1,
                      callbackName: i,
                      callback: n,
                    }))
                  : e.makeAjaxRequest({
                    url: t,
                    withCredentials: this.ajaxWithCredentials,
                    headers: this.ajaxHeaders,
                    success: function (t) {
                      var i = (function (t) {
                        var i,
                          n,
                          o = t.responseText,
                          r = t.status;
                        if (!t)
                          throw new Error(e.getString("Errors.Security"));
                        if (200 !== t.status && 0 !== t.status)
                          throw (
                            ((r = t.status),
                              (i = 404 == r ? "Not Found" : t.statusText),
                              new Error(e.getString("Errors.Status", r, i)))
                          );
                        if (o.match(/\s*<.*/))
                          try {
                            n =
                              t.responseXML && t.responseXML.documentElement
                                ? t.responseXML
                                : e.parseXml(o);
                          } catch (e) {
                            n = t.responseText;
                          }
                        else if (o.match(/\s*[\{\[].*/))
                          try {
                            n = e.parseJSON(o);
                          } catch (e) {
                            n = o;
                          }
                        else n = o;
                        return n;
                      })(t);
                      n(i);
                    },
                    error: function (e, i) {
                      var n;
                      try {
                        n =
                          "HTTP " +
                          e.status +
                          " attempting to load TileSource";
                      } catch (e) {
                        n =
                          (void 0 !== i && i.toString
                            ? i.toString()
                            : "Unknown error") +
                          " attempting to load TileSource";
                      }
                      c.raiseEvent("open-failed", { message: n, source: t });
                    },
                  });
            },
            supports: function (e, t) {
              return !1;
            },
            configure: function (e, t) {
              throw new Error("Method not implemented.");
            },
            getTileUrl: function (e, t, i) {
              throw new Error("Method not implemented.");
            },
            getTileAjaxHeaders: function (e, t, i) {
              return {};
            },
            tileExists: function (e, t, i) {
              var n = this.getNumTiles(e);
              return (
                e >= this.minLevel &&
                e <= this.maxLevel &&
                t >= 0 &&
                i >= 0 &&
                t < n.x &&
                i < n.y
              );
            },
          }),
          e.extend(!0, e.TileSource.prototype, e.EventSource.prototype),
          (e.TileSource.determineType = function (t, i, n) {
            var o;
            for (o in OpenSeadragon)
              if (
                o.match(/.+TileSource$/) &&
                e.isFunction(OpenSeadragon[o]) &&
                e.isFunction(OpenSeadragon[o].prototype.supports) &&
                OpenSeadragon[o].prototype.supports.call(t, i, n)
              )
                return OpenSeadragon[o];
            e.console.error("No TileSource was able to open %s %s", n, i);
          });
      })(OpenSeadragon),
      (function (e) {
        function t(t, i) {
          var n,
            o,
            r = i.Image,
            a = r.Url,
            s = r.Format,
            l = r.Size,
            c = r.DisplayRect || [],
            u = parseInt(l.Width, 10),
            d = parseInt(l.Height, 10),
            p = parseInt(r.TileSize, 10),
            h = parseInt(r.Overlap, 10),
            f = [];
          for (o = 0; o < c.length; o++)
            (n = c[o].Rect),
              f.push(
                new e.DisplayRect(
                  parseInt(n.X, 10),
                  parseInt(n.Y, 10),
                  parseInt(n.Width, 10),
                  parseInt(n.Height, 10),
                  parseInt(n.MinLevel, 10),
                  parseInt(n.MaxLevel, 10)
                )
              );
          return e.extend(
            !0,
            {
              width: u,
              height: d,
              tileSize: p,
              tileOverlap: h,
              minLevel: null,
              maxLevel: null,
              tilesUrl: a,
              fileFormat: s,
              displayRects: f,
            },
            i
          );
        }
        (e.DziTileSource = function (t, i, n, o, r, a, s, l, c) {
          var u, d, p, h;
          if (
            ((h = e.isPlainObject(t)
              ? t
              : {
                width: arguments[0],
                height: arguments[1],
                tileSize: arguments[2],
                tileOverlap: arguments[3],
                tilesUrl: arguments[4],
                fileFormat: arguments[5],
                displayRects: arguments[6],
                minLevel: arguments[7],
                maxLevel: arguments[8],
              }),
              (this._levelRects = {}),
              (this.tilesUrl = h.tilesUrl),
              (this.fileFormat = h.fileFormat),
              (this.displayRects = h.displayRects),
              this.displayRects)
          )
            for (u = this.displayRects.length - 1; u >= 0; u--)
              for (
                p = (d = this.displayRects[u]).minLevel;
                p <= d.maxLevel;
                p++
              )
                this._levelRects[p] || (this._levelRects[p] = []),
                  this._levelRects[p].push(d);
          e.TileSource.apply(this, [h]);
        }),
          e.extend(e.DziTileSource.prototype, e.TileSource.prototype, {
            supports: function (e, t) {
              var i;
              return (
                e.Image
                  ? (i = e.Image.xmlns)
                  : e.documentElement &&
                  (("Image" != e.documentElement.localName &&
                    "Image" != e.documentElement.tagName) ||
                    (i = e.documentElement.namespaceURI)),
                -1 !==
                (i = (i || "").toLowerCase()).indexOf(
                  "schemas.microsoft.com/deepzoom/2008"
                ) || -1 !== i.indexOf("schemas.microsoft.com/deepzoom/2009")
              );
            },
            configure: function (i, n) {
              var o;
              return (
                (o = e.isPlainObject(i)
                  ? t(this, i)
                  : (function (i, n) {
                    if (!n || !n.documentElement)
                      throw new Error(e.getString("Errors.Xml"));
                    var o,
                      r,
                      a,
                      s,
                      l,
                      c = n.documentElement,
                      u = c.localName || c.tagName,
                      d = n.documentElement.namespaceURI,
                      p = null,
                      h = [];
                    if ("Image" == u)
                      try {
                        if (
                          (void 0 ===
                            (s = c.getElementsByTagName("Size")[0]) &&
                            (s = c.getElementsByTagNameNS(d, "Size")[0]),
                            (p = {
                              Image: {
                                xmlns:
                                  "http://schemas.microsoft.com/deepzoom/2008",
                                Url: c.getAttribute("Url"),
                                Format: c.getAttribute("Format"),
                                DisplayRect: null,
                                Overlap: parseInt(
                                  c.getAttribute("Overlap"),
                                  10
                                ),
                                TileSize: parseInt(
                                  c.getAttribute("TileSize"),
                                  10
                                ),
                                Size: {
                                  Height: parseInt(
                                    s.getAttribute("Height"),
                                    10
                                  ),
                                  Width: parseInt(s.getAttribute("Width"), 10),
                                },
                              },
                            }),
                            !e.imageFormatSupported(p.Image.Format))
                        )
                          throw new Error(
                            e.getString(
                              "Errors.ImageFormat",
                              p.Image.Format.toUpperCase()
                            )
                          );
                        for (
                          void 0 ===
                          (o = c.getElementsByTagName("DisplayRect")) &&
                          (o = c.getElementsByTagNameNS(
                            d,
                            "DisplayRect"
                          )[0]),
                          l = 0;
                          l < o.length;
                          l++
                        )
                          (r = o[l]),
                            void 0 ===
                            (a = r.getElementsByTagName("Rect")[0]) &&
                            (a = r.getElementsByTagNameNS(d, "Rect")[0]),
                            h.push({
                              Rect: {
                                X: parseInt(a.getAttribute("X"), 10),
                                Y: parseInt(a.getAttribute("Y"), 10),
                                Width: parseInt(a.getAttribute("Width"), 10),
                                Height: parseInt(
                                  a.getAttribute("Height"),
                                  10
                                ),
                                MinLevel: parseInt(
                                  r.getAttribute("MinLevel"),
                                  10
                                ),
                                MaxLevel: parseInt(
                                  r.getAttribute("MaxLevel"),
                                  10
                                ),
                              },
                            });
                        return h.length && (p.Image.DisplayRect = h), t(i, p);
                      } catch (t) {
                        throw t instanceof Error
                          ? t
                          : new Error(e.getString("Errors.Dzi"));
                      }
                    else {
                      if ("Collection" == u)
                        throw new Error(e.getString("Errors.Dzc"));
                      if ("Error" == u) {
                        var f =
                          c.getElementsByTagName("Message")[0].firstChild
                            .nodeValue;
                        throw new Error(f);
                      }
                    }
                    throw new Error(e.getString("Errors.Dzi"));
                  })(this, i)),
                n &&
                !o.tilesUrl &&
                ((o.tilesUrl = n.replace(
                  /([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,
                  "$1_files/"
                )),
                  -1 != n.search(/\.(dzi|xml|js)\?/)
                    ? (o.queryParams = n.match(/\?.*/))
                    : (o.queryParams = "")),
                o
              );
            },
            getTileUrl: function (e, t, i) {
              return [
                this.tilesUrl,
                e,
                "/",
                t,
                "_",
                i,
                ".",
                this.fileFormat,
                this.queryParams,
              ].join("");
            },
            tileExists: function (e, t, i) {
              var n,
                o,
                r,
                a,
                s,
                l,
                c,
                u = this._levelRects[e];
              if (
                (this.minLevel && e < this.minLevel) ||
                (this.maxLevel && e > this.maxLevel)
              )
                return !1;
              if (!u || !u.length) return !0;
              for (c = u.length - 1; c >= 0; c--)
                if (
                  !(e < (n = u[c]).minLevel || e > n.maxLevel) &&
                  ((o = this.getLevelScale(e)),
                    (r = n.x * o),
                    (a = n.y * o),
                    (s = r + n.width * o),
                    (l = a + n.height * o),
                    (r = Math.floor(r / this._tileWidth)),
                    (a = Math.floor(a / this._tileWidth)),
                    (s = Math.ceil(s / this._tileWidth)),
                    (l = Math.ceil(l / this._tileWidth)),
                    r <= t && t < s && a <= i && i < l)
                )
                  return !0;
              return !1;
            },
          });
      })(OpenSeadragon),
      (function (e) {
        function t(e) {
          var t = Array.isArray(e.profile) ? e.profile[0] : e.profile,
            i =
              -1 !==
              [
                "http://library.stanford.edu/iiif/image-api/compliance.html#level0",
                "http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",
                "http://iiif.io/api/image/2/level0.json",
                "level0",
                "https://iiif.io/api/image/3/level0.json",
              ].indexOf(t),
            n = !1;
          return (
            2 === e.version &&
            e.profile.length > 1 &&
            e.profile[1].supports &&
            (n = -1 !== e.profile[1].supports.indexOf("sizeByW")),
            3 === e.version &&
            e.extraFeatures &&
            (n = -1 !== e.extraFeatures.indexOf("sizeByWh")),
            !i || n
          );
        }
        function i(e) {
          for (var t = [], i = 0; i < e.sizes.length; i++)
            t.push({
              url:
                e["@id"] +
                "/full/" +
                e.sizes[i].width +
                "," +
                (3 === e.version ? e.sizes[i].height : "") +
                "/0/default." +
                e.tileFormat,
              width: e.sizes[i].width,
              height: e.sizes[i].height,
            });
          return t.sort(function (e, t) {
            return e.width - t.width;
          });
        }
        (e.IIIFTileSource = function (n) {
          if (
            (e.extend(!0, this, n), !(this.height && this.width && this["@id"]))
          )
            throw new Error("IIIF required parameters not provided.");
          if (
            ((n.tileSizePerScaleFactor = {}),
              (this.tileFormat = this.tileFormat || "jpg"),
              (this.version = n.version),
              this.tile_width && this.tile_height)
          )
            (n.tileWidth = this.tile_width), (n.tileHeight = this.tile_height);
          else if (this.tile_width) n.tileSize = this.tile_width;
          else if (this.tile_height) n.tileSize = this.tile_height;
          else if (this.tiles)
            if (1 == this.tiles.length)
              (n.tileWidth = this.tiles[0].width),
                (n.tileHeight = this.tiles[0].height || this.tiles[0].width),
                (this.scale_factors = this.tiles[0].scaleFactors);
            else {
              this.scale_factors = [];
              for (var o = 0; o < this.tiles.length; o++)
                for (var r = 0; r < this.tiles[o].scaleFactors.length; r++) {
                  var a = this.tiles[o].scaleFactors[r];
                  this.scale_factors.push(a),
                    (n.tileSizePerScaleFactor[a] = {
                      width: this.tiles[o].width,
                      height: this.tiles[o].height || this.tiles[o].width,
                    });
                }
            }
          else if (t(n)) {
            for (
              var s = Math.min(this.height, this.width),
              l = [256, 512, 1024],
              c = [],
              u = 0;
              u < l.length;
              u++
            )
              l[u] <= s && c.push(l[u]);
            c.length > 0
              ? (n.tileSize = Math.max.apply(null, c))
              : (n.tileSize = s);
          } else
            this.sizes && this.sizes.length > 0
              ? ((this.emulateLegacyImagePyramid = !0),
                (n.levels = i(this)),
                e.extend(!0, n, {
                  width: n.levels[n.levels.length - 1].width,
                  height: n.levels[n.levels.length - 1].height,
                  tileSize: Math.max(n.height, n.width),
                  tileOverlap: 0,
                  minLevel: 0,
                  maxLevel: n.levels.length - 1,
                }),
                (this.levels = n.levels))
              : e.console.error(
                "Nothing in the info.json to construct image pyramids from"
              );
          if (!n.maxLevel && !this.emulateLegacyImagePyramid)
            if (this.scale_factors) {
              var d = Math.max.apply(null, this.scale_factors);
              n.maxLevel = Math.round(Math.log(d) * Math.LOG2E);
            } else
              n.maxLevel = Number(
                Math.ceil(Math.log(Math.max(this.width, this.height), 2))
              );
          e.TileSource.apply(this, [n]);
        }),
          e.extend(e.IIIFTileSource.prototype, e.TileSource.prototype, {
            supports: function (e, t) {
              return (
                !(!e.protocol || "http://iiif.io/api/image" != e.protocol) ||
                !(
                  !e["@context"] ||
                  ("http://library.stanford.edu/iiif/image-api/1.1/context.json" !=
                    e["@context"] &&
                    "http://iiif.io/api/image/1/context.json" != e["@context"])
                ) ||
                !(
                  !e.profile ||
                  0 !==
                  e.profile.indexOf(
                    "http://library.stanford.edu/iiif/image-api/compliance.html"
                  )
                ) ||
                !!(e.identifier && e.width && e.height) ||
                !(
                  !e.documentElement ||
                  "info" != e.documentElement.tagName ||
                  "http://library.stanford.edu/iiif/image-api/ns/" !=
                  e.documentElement.namespaceURI
                )
              );
            },
            configure: function (t, i) {
              if (e.isPlainObject(t)) {
                if (t["@context"]) {
                  var n = t["@context"];
                  if (Array.isArray(n))
                    for (var o = 0; o < n.length; o++)
                      if (
                        "string" == typeof n[o] &&
                        (/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(
                          n[o]
                        ) ||
                          "http://library.stanford.edu/iiif/image-api/1.1/context.json" ===
                          n[o])
                      ) {
                        n = n[o];
                        break;
                      }
                  switch (n) {
                    case "http://iiif.io/api/image/1/context.json":
                    case "http://library.stanford.edu/iiif/image-api/1.1/context.json":
                      t.version = 1;
                      break;
                    case "http://iiif.io/api/image/2/context.json":
                      t.version = 2;
                      break;
                    case "http://iiif.io/api/image/3/context.json":
                      t.version = 3;
                      break;
                    default:
                      e.console.error(
                        "Data has a @context property which contains no known IIIF context URI."
                      );
                  }
                } else
                  (t["@context"] = "http://iiif.io/api/image/1.0/context.json"),
                    (t["@id"] = i.replace("/info.json", "")),
                    (t.version = 1);
                if (
                  (!t["@id"] && t.id && (t["@id"] = t.id), t.preferredFormats)
                )
                  for (var r = 0; r < t.preferredFormats.length; r++)
                    if (
                      OpenSeadragon.imageFormatSupported(t.preferredFormats[r])
                    ) {
                      t.tileFormat = t.preferredFormats[r];
                      break;
                    }
                return t;
              }
              var a = (function (t) {
                if (!t || !t.documentElement)
                  throw new Error(e.getString("Errors.Xml"));
                var i = t.documentElement,
                  n = i.tagName,
                  o = null;
                if ("info" == n)
                  try {
                    return (
                      (function t(i, n, o) {
                        var r, a;
                        if (3 == i.nodeType && o)
                          (a = i.nodeValue.trim()).match(/^\d*$/) &&
                            (a = Number(a)),
                            n[o]
                              ? (e.isArray(n[o]) || (n[o] = [n[o]]),
                                n[o].push(a))
                              : (n[o] = a);
                        else if (1 == i.nodeType)
                          for (r = 0; r < i.childNodes.length; r++)
                            t(i.childNodes[r], n, i.nodeName);
                      })(i, (o = {})),
                      o
                    );
                  } catch (t) {
                    throw t instanceof Error
                      ? t
                      : new Error(e.getString("Errors.IIIF"));
                  }
                throw new Error(e.getString("Errors.IIIF"));
              })(t);
              return (
                (a["@context"] = "http://iiif.io/api/image/1.0/context.json"),
                (a["@id"] = i.replace("/info.xml", "")),
                (a.version = 1),
                a
              );
            },
            getTileWidth: function (t) {
              if (this.emulateLegacyImagePyramid)
                return e.TileSource.prototype.getTileWidth.call(this, t);
              var i = Math.pow(2, this.maxLevel - t);
              return this.tileSizePerScaleFactor &&
                this.tileSizePerScaleFactor[i]
                ? this.tileSizePerScaleFactor[i].width
                : this._tileWidth;
            },
            getTileHeight: function (t) {
              if (this.emulateLegacyImagePyramid)
                return e.TileSource.prototype.getTileHeight.call(this, t);
              var i = Math.pow(2, this.maxLevel - t);
              return this.tileSizePerScaleFactor &&
                this.tileSizePerScaleFactor[i]
                ? this.tileSizePerScaleFactor[i].height
                : this._tileHeight;
            },
            getLevelScale: function (t) {
              if (this.emulateLegacyImagePyramid) {
                var i = NaN;
                return (
                  this.levels.length > 0 &&
                  t >= this.minLevel &&
                  t <= this.maxLevel &&
                  (i =
                    this.levels[t].width / this.levels[this.maxLevel].width),
                  i
                );
              }
              return e.TileSource.prototype.getLevelScale.call(this, t);
            },
            getNumTiles: function (t) {
              return this.emulateLegacyImagePyramid
                ? this.getLevelScale(t)
                  ? new e.Point(1, 1)
                  : new e.Point(0, 0)
                : e.TileSource.prototype.getNumTiles.call(this, t);
            },
            getTileAtPoint: function (t, i) {
              return this.emulateLegacyImagePyramid
                ? new e.Point(0, 0)
                : e.TileSource.prototype.getTileAtPoint.call(this, t, i);
            },
            getTileUrl: function (e, t, i) {
              if (this.emulateLegacyImagePyramid) {
                var n = null;
                return (
                  this.levels.length > 0 &&
                  e >= this.minLevel &&
                  e <= this.maxLevel &&
                  (n = this.levels[e].url),
                  n
                );
              }
              var o,
                r,
                a,
                s,
                l,
                c,
                u,
                d,
                p,
                h,
                f,
                g,
                m,
                v = Math.pow(0.5, this.maxLevel - e),
                b = Math.ceil(this.width * v),
                y = Math.ceil(this.height * v);
              return (
                (o = this.getTileWidth(e)),
                (r = this.getTileHeight(e)),
                (a = Math.ceil(o / v)),
                (s = Math.ceil(r / v)),
                (m =
                  1 === this.version
                    ? "native." + this.tileFormat
                    : "default." + this.tileFormat),
                b < o && y < r
                  ? ((h =
                    (2 === this.version && b === this.width) ||
                      (3 === this.version &&
                        b === this.width &&
                        y === this.height)
                      ? "max"
                      : 3 === this.version
                        ? b + "," + y
                        : b + ","),
                    (l = "full"))
                  : ((c = t * a),
                    (u = i * s),
                    (d = Math.min(a, this.width - c)),
                    (p = Math.min(s, this.height - u)),
                    (l =
                      0 === t &&
                        0 === i &&
                        d === this.width &&
                        p === this.height
                        ? "full"
                        : [c, u, d, p].join(",")),
                    (f = Math.ceil(d * v)),
                    (g = Math.ceil(p * v)),
                    (h =
                      (2 === this.version && f === this.width) ||
                        (3 === this.version &&
                          f === this.width &&
                          g === this.height)
                        ? "max"
                        : 3 === this.version
                          ? f + "," + g
                          : f + ",")),
                [this["@id"], l, h, "0", m].join("/")
              );
            },
            __testonly__: { canBeTiled: t, constructLevels: i },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.OsmTileSource = function (t, i, n, o, r) {
          var a;
          ((a = e.isPlainObject(t)
            ? t
            : {
              width: arguments[0],
              height: arguments[1],
              tileSize: arguments[2],
              tileOverlap: arguments[3],
              tilesUrl: arguments[4],
            }).width &&
            a.height) ||
            ((a.width = 65572864), (a.height = 65572864)),
            a.tileSize || ((a.tileSize = 256), (a.tileOverlap = 0)),
            a.tilesUrl || (a.tilesUrl = "http://tile.openstreetmap.org/"),
            (a.minLevel = 8),
            e.TileSource.apply(this, [a]);
        }),
          e.extend(e.OsmTileSource.prototype, e.TileSource.prototype, {
            supports: function (e, t) {
              return e.type && "openstreetmaps" == e.type;
            },
            configure: function (e, t) {
              return e;
            },
            getTileUrl: function (e, t, i) {
              return this.tilesUrl + (e - 8) + "/" + t + "/" + i + ".png";
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.TmsTileSource = function (t, i, n, o, r) {
          var a;
          a = e.isPlainObject(t)
            ? t
            : {
              width: arguments[0],
              height: arguments[1],
              tileSize: arguments[2],
              tileOverlap: arguments[3],
              tilesUrl: arguments[4],
            };
          var s,
            l = 256 * Math.ceil(a.width / 256),
            c = 256 * Math.ceil(a.height / 256);
          (s = l > c ? l / 256 : c / 256),
            (a.maxLevel = Math.ceil(Math.log(s) / Math.log(2)) - 1),
            (a.tileSize = 256),
            (a.width = l),
            (a.height = c),
            e.TileSource.apply(this, [a]);
        }),
          e.extend(e.TmsTileSource.prototype, e.TileSource.prototype, {
            supports: function (e, t) {
              return e.type && "tiledmapservice" == e.type;
            },
            configure: function (e, t) {
              return e;
            },
            getTileUrl: function (e, t, i) {
              var n = this.getNumTiles(e).y - 1;
              return this.tilesUrl + e + "/" + t + "/" + (n - i) + ".png";
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.ZoomifyTileSource = function (e) {
          e.tileSize = 256;
          var t = { x: e.width, y: e.height };
          for (
            e.imageSizes = [{ x: e.width, y: e.height }],
            e.gridSize = [this._getGridSize(e.width, e.height, e.tileSize)];
            parseInt(t.x, 10) > e.tileSize || parseInt(t.y, 10) > e.tileSize;

          )
            (t.x = Math.floor(t.x / 2)),
              (t.y = Math.floor(t.y / 2)),
              e.imageSizes.push({ x: t.x, y: t.y }),
              e.gridSize.push(this._getGridSize(t.x, t.y, e.tileSize));
          e.imageSizes.reverse(),
            e.gridSize.reverse(),
            (e.minLevel = 0),
            (e.maxLevel = e.gridSize.length - 1),
            OpenSeadragon.TileSource.apply(this, [e]);
        }),
          e.extend(e.ZoomifyTileSource.prototype, e.TileSource.prototype, {
            _getGridSize: function (e, t, i) {
              return { x: Math.ceil(e / i), y: Math.ceil(t / i) };
            },
            _calculateAbsoluteTileNumber: function (e, t, i) {
              for (var n = 0, o = {}, r = 0; r < e; r++)
                n += (o = this.gridSize[r]).x * o.y;
              return (n += (o = this.gridSize[e]).x * i + t);
            },
            supports: function (e, t) {
              return e.type && "zoomifytileservice" == e.type;
            },
            configure: function (e, t) {
              return e;
            },
            getTileUrl: function (e, t, i) {
              var n,
                o = this._calculateAbsoluteTileNumber(e, t, i);
              return (
                (n = Math.floor(o / 256)),
                this.tilesUrl +
                "TileGroup" +
                n +
                "/" +
                e +
                "-" +
                t +
                "-" +
                i +
                ".jpg"
              );
            },
          });
      })(OpenSeadragon),
      (function (e) {
        function t(e, t) {
          return t.levels;
        }
        (e.LegacyTileSource = function (t) {
          var i, n, o;
          e.isArray(t) && (i = { type: "legacy-image-pyramid", levels: t }),
            (i.levels = (function (t) {
              var i,
                n,
                o = [];
              for (n = 0; n < t.length; n++)
                (i = t[n]).height && i.width && i.url
                  ? o.push({
                    url: i.url,
                    width: Number(i.width),
                    height: Number(i.height),
                  })
                  : e.console.error(
                    "Unsupported image format: %s",
                    i.url ? i.url : "<no URL>"
                  );
              return o.sort(function (e, t) {
                return e.height - t.height;
              });
            })(i.levels)),
            i.levels.length > 0
              ? ((n = i.levels[i.levels.length - 1].width),
                (o = i.levels[i.levels.length - 1].height))
              : ((n = 0),
                (o = 0),
                e.console.error("No supported image formats found")),
            e.extend(!0, i, {
              width: n,
              height: o,
              tileSize: Math.max(o, n),
              tileOverlap: 0,
              minLevel: 0,
              maxLevel: i.levels.length > 0 ? i.levels.length - 1 : 0,
            }),
            e.TileSource.apply(this, [i]),
            (this.levels = i.levels);
        }),
          e.extend(e.LegacyTileSource.prototype, e.TileSource.prototype, {
            supports: function (e, t) {
              return (
                (e.type && "legacy-image-pyramid" == e.type) ||
                (e.documentElement &&
                  "legacy-image-pyramid" ==
                  e.documentElement.getAttribute("type"))
              );
            },
            configure: function (i, n) {
              return e.isPlainObject(i)
                ? t(this, i)
                : (function (i, n) {
                  if (!n || !n.documentElement)
                    throw new Error(e.getString("Errors.Xml"));
                  var o,
                    r,
                    a = n.documentElement,
                    s = a.tagName,
                    l = null,
                    c = [];
                  if ("image" == s)
                    try {
                      for (
                        l = { type: a.getAttribute("type"), levels: [] },
                        c = a.getElementsByTagName("level"),
                        r = 0;
                        r < c.length;
                        r++
                      )
                        (o = c[r]),
                          l.levels.push({
                            url: o.getAttribute("url"),
                            width: parseInt(o.getAttribute("width"), 10),
                            height: parseInt(o.getAttribute("height"), 10),
                          });
                      return t(i, l);
                    } catch (e) {
                      throw e instanceof Error
                        ? e
                        : new Error(
                          "Unknown error parsing Legacy Image Pyramid XML."
                        );
                    }
                  else {
                    if ("collection" == s)
                      throw new Error(
                        "Legacy Image Pyramid Collections not yet supported."
                      );
                    if ("error" == s) throw new Error("Error: " + n);
                  }
                  throw new Error("Unknown element " + s);
                })(this, i);
            },
            getLevelScale: function (e) {
              var t = NaN;
              return (
                this.levels.length > 0 &&
                e >= this.minLevel &&
                e <= this.maxLevel &&
                (t = this.levels[e].width / this.levels[this.maxLevel].width),
                t
              );
            },
            getNumTiles: function (t) {
              return this.getLevelScale(t)
                ? new e.Point(1, 1)
                : new e.Point(0, 0);
            },
            getTileUrl: function (e, t, i) {
              var n = null;
              return (
                this.levels.length > 0 &&
                e >= this.minLevel &&
                e <= this.maxLevel &&
                (n = this.levels[e].url),
                n
              );
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.ImageTileSource = function (t) {
          (t = e.extend(
            {
              buildPyramid: !0,
              crossOriginPolicy: !1,
              ajaxWithCredentials: !1,
              useCanvas: !0,
            },
            t
          )),
            e.TileSource.apply(this, [t]);
        }),
          e.extend(e.ImageTileSource.prototype, e.TileSource.prototype, {
            supports: function (e, t) {
              return e.type && "image" === e.type;
            },
            configure: function (e, t) {
              return e;
            },
            getImageInfo: function (t) {
              var i = (this._image = new Image()),
                n = this;
              this.crossOriginPolicy &&
                (i.crossOrigin = this.crossOriginPolicy),
                this.ajaxWithCredentials &&
                (i.useCredentials = this.ajaxWithCredentials),
                e.addEvent(i, "load", function () {
                  (n.width = Object.prototype.hasOwnProperty.call(
                    i,
                    "naturalWidth"
                  )
                    ? i.naturalWidth
                    : i.width),
                    (n.height = Object.prototype.hasOwnProperty.call(
                      i,
                      "naturalHeight"
                    )
                      ? i.naturalHeight
                      : i.height),
                    (n.aspectRatio = n.width / n.height),
                    (n.dimensions = new e.Point(n.width, n.height)),
                    (n._tileWidth = n.width),
                    (n._tileHeight = n.height),
                    (n.tileOverlap = 0),
                    (n.minLevel = 0),
                    (n.levels = n._buildLevels()),
                    (n.maxLevel = n.levels.length - 1),
                    (n.ready = !0),
                    n.raiseEvent("ready", { tileSource: n });
                }),
                e.addEvent(i, "error", function () {
                  n.raiseEvent("open-failed", {
                    message: "Error loading image at " + t,
                    source: t,
                  });
                }),
                (i.src = t);
            },
            getLevelScale: function (e) {
              var t = NaN;
              return (
                e >= this.minLevel &&
                e <= this.maxLevel &&
                (t = this.levels[e].width / this.levels[this.maxLevel].width),
                t
              );
            },
            getNumTiles: function (t) {
              return this.getLevelScale(t)
                ? new e.Point(1, 1)
                : new e.Point(0, 0);
            },
            getTileUrl: function (e, t, i) {
              var n = null;
              return (
                e >= this.minLevel &&
                e <= this.maxLevel &&
                (n = this.levels[e].url),
                n
              );
            },
            getContext2D: function (e, t, i) {
              var n = null;
              return (
                e >= this.minLevel &&
                e <= this.maxLevel &&
                (n = this.levels[e].context2D),
                n
              );
            },
            _buildLevels: function () {
              var t = [
                {
                  url: this._image.src,
                  width: Object.prototype.hasOwnProperty.call(
                    this._image,
                    "naturalWidth"
                  )
                    ? this._image.naturalWidth
                    : this._image.width,
                  height: Object.prototype.hasOwnProperty.call(
                    this._image,
                    "naturalHeight"
                  )
                    ? this._image.naturalHeight
                    : this._image.height,
                },
              ];
              if (!this.buildPyramid || !e.supportsCanvas || !this.useCanvas)
                return delete this._image, t;
              var i = Object.prototype.hasOwnProperty.call(
                this._image,
                "naturalWidth"
              )
                ? this._image.naturalWidth
                : this._image.width,
                n = Object.prototype.hasOwnProperty.call(
                  this._image,
                  "naturalHeight"
                )
                  ? this._image.naturalHeight
                  : this._image.height,
                o = document.createElement("canvas"),
                r = o.getContext("2d");
              if (
                ((o.width = i),
                  (o.height = n),
                  r.drawImage(this._image, 0, 0, i, n),
                  (t[0].context2D = r),
                  delete this._image,
                  e.isCanvasTainted(o))
              )
                return t;
              for (; i >= 2 && n >= 2;) {
                (i = Math.floor(i / 2)), (n = Math.floor(n / 2));
                var a = document.createElement("canvas"),
                  s = a.getContext("2d");
                (a.width = i),
                  (a.height = n),
                  s.drawImage(o, 0, 0, i, n),
                  t.splice(0, 0, { context2D: s, width: i, height: n }),
                  (o = a),
                  (r = s);
              }
              return t;
            },
          });
      })(OpenSeadragon),
      (function (e) {
        e.TileSourceCollection = function (t, i, n, o) {
          e.console.error(
            "TileSourceCollection is deprecated; use World instead"
          );
        };
      })(OpenSeadragon),
      (function (e) {
        function t(i) {
          e.requestAnimationFrame(function () {
            !(function (i) {
              var n, o, r;
              i.shouldFade &&
                ((n = e.now()),
                  (o = n - i.fadeBeginTime),
                  (r = 1 - o / i.fadeLength),
                  (r = Math.min(1, r)),
                  (r = Math.max(0, r)),
                  i.imgGroup && e.setElementOpacity(i.imgGroup, r, !0),
                  r > 0 && t(i));
            })(i);
          });
        }
        function i(t, i) {
          t.element.disabled ||
            (i >= e.ButtonState.GROUP &&
              t.currentState == e.ButtonState.REST &&
              (!(function (t) {
                (t.shouldFade = !1),
                  t.imgGroup && e.setElementOpacity(t.imgGroup, 1, !0);
              })(t),
                (t.currentState = e.ButtonState.GROUP)),
              i >= e.ButtonState.HOVER &&
              t.currentState == e.ButtonState.GROUP &&
              (t.imgHover && (t.imgHover.style.visibility = ""),
                (t.currentState = e.ButtonState.HOVER)),
              i >= e.ButtonState.DOWN &&
              t.currentState == e.ButtonState.HOVER &&
              (t.imgDown && (t.imgDown.style.visibility = ""),
                (t.currentState = e.ButtonState.DOWN)));
        }
        function n(i, n) {
          i.element.disabled ||
            (n <= e.ButtonState.HOVER &&
              i.currentState == e.ButtonState.DOWN &&
              (i.imgDown && (i.imgDown.style.visibility = "hidden"),
                (i.currentState = e.ButtonState.HOVER)),
              n <= e.ButtonState.GROUP &&
              i.currentState == e.ButtonState.HOVER &&
              (i.imgHover && (i.imgHover.style.visibility = "hidden"),
                (i.currentState = e.ButtonState.GROUP)),
              n <= e.ButtonState.REST &&
              i.currentState == e.ButtonState.GROUP &&
              (!(function (i) {
                (i.shouldFade = !0),
                  (i.fadeBeginTime = e.now() + i.fadeDelay),
                  window.setTimeout(function () {
                    t(i);
                  }, i.fadeDelay);
              })(i),
                (i.currentState = e.ButtonState.REST)));
        }
        (e.ButtonState = { REST: 0, GROUP: 1, HOVER: 2, DOWN: 3 }),
          (e.Button = function (t) {
            var o = this;
            e.EventSource.call(this),
              e.extend(
                !0,
                this,
                {
                  tooltip: null,
                  srcRest: null,
                  srcGroup: null,
                  srcHover: null,
                  srcDown: null,
                  clickTimeThreshold: e.DEFAULT_SETTINGS.clickTimeThreshold,
                  clickDistThreshold: e.DEFAULT_SETTINGS.clickDistThreshold,
                  fadeDelay: 0,
                  fadeLength: 2e3,
                  onPress: null,
                  onRelease: null,
                  onClick: null,
                  onEnter: null,
                  onExit: null,
                  onFocus: null,
                  onBlur: null,
                },
                t
              ),
              (this.element = t.element || e.makeNeutralElement("div")),
              t.element ||
              ((this.imgRest = e.makeTransparentImage(this.srcRest)),
                (this.imgGroup = e.makeTransparentImage(this.srcGroup)),
                (this.imgHover = e.makeTransparentImage(this.srcHover)),
                (this.imgDown = e.makeTransparentImage(this.srcDown)),
                (this.imgRest.alt =
                  this.imgGroup.alt =
                  this.imgHover.alt =
                  this.imgDown.alt =
                  this.tooltip),
                (this.element.style.position = "relative"),
                e.setElementTouchActionNone(this.element),
                (this.imgGroup.style.position =
                  this.imgHover.style.position =
                  this.imgDown.style.position =
                  "absolute"),
                (this.imgGroup.style.top =
                  this.imgHover.style.top =
                  this.imgDown.style.top =
                  "0px"),
                (this.imgGroup.style.left =
                  this.imgHover.style.left =
                  this.imgDown.style.left =
                  "0px"),
                (this.imgHover.style.visibility =
                  this.imgDown.style.visibility =
                  "hidden"),
                e.Browser.vendor == e.BROWSERS.FIREFOX &&
                e.Browser.version < 3 &&
                (this.imgGroup.style.top =
                  this.imgHover.style.top =
                  this.imgDown.style.top =
                  ""),
                this.element.appendChild(this.imgRest),
                this.element.appendChild(this.imgGroup),
                this.element.appendChild(this.imgHover),
                this.element.appendChild(this.imgDown)),
              this.addHandler("press", this.onPress),
              this.addHandler("release", this.onRelease),
              this.addHandler("click", this.onClick),
              this.addHandler("enter", this.onEnter),
              this.addHandler("exit", this.onExit),
              this.addHandler("focus", this.onFocus),
              this.addHandler("blur", this.onBlur),
              (this.currentState = e.ButtonState.GROUP),
              (this.fadeBeginTime = null),
              (this.shouldFade = !1),
              (this.element.style.display = "inline-block"),
              (this.element.style.position = "relative"),
              (this.element.title = this.tooltip),
              (this.tracker = new e.MouseTracker({
                element: this.element,
                clickTimeThreshold: this.clickTimeThreshold,
                clickDistThreshold: this.clickDistThreshold,
                enterHandler: function (t) {
                  t.insideElementPressed
                    ? (i(o, e.ButtonState.DOWN),
                      o.raiseEvent("enter", { originalEvent: t.originalEvent }))
                    : t.buttonDownAny || i(o, e.ButtonState.HOVER);
                },
                focusHandler: function (e) {
                  this.enterHandler(e),
                    o.raiseEvent("focus", { originalEvent: e.originalEvent });
                },
                exitHandler: function (t) {
                  n(o, e.ButtonState.GROUP),
                    t.insideElementPressed &&
                    o.raiseEvent("exit", { originalEvent: t.originalEvent });
                },
                blurHandler: function (e) {
                  this.exitHandler(e),
                    o.raiseEvent("blur", { originalEvent: e.originalEvent });
                },
                pressHandler: function (t) {
                  i(o, e.ButtonState.DOWN),
                    o.raiseEvent("press", { originalEvent: t.originalEvent });
                },
                releaseHandler: function (t) {
                  t.insideElementPressed && t.insideElementReleased
                    ? (n(o, e.ButtonState.HOVER),
                      o.raiseEvent("release", {
                        originalEvent: t.originalEvent,
                      }))
                    : t.insideElementPressed
                      ? n(o, e.ButtonState.GROUP)
                      : i(o, e.ButtonState.HOVER);
                },
                clickHandler: function (e) {
                  e.quick &&
                    o.raiseEvent("click", { originalEvent: e.originalEvent });
                },
                keyHandler: function (e) {
                  return (
                    13 !== e.keyCode ||
                    (o.raiseEvent("click", { originalEvent: e.originalEvent }),
                      o.raiseEvent("release", { originalEvent: e.originalEvent }),
                      !1)
                  );
                },
              })),
              n(this, e.ButtonState.REST);
          }),
          e.extend(e.Button.prototype, e.EventSource.prototype, {
            notifyGroupEnter: function () {
              i(this, e.ButtonState.GROUP);
            },
            notifyGroupExit: function () {
              n(this, e.ButtonState.REST);
            },
            disable: function () {
              this.notifyGroupExit(),
                (this.element.disabled = !0),
                e.setElementOpacity(this.element, 0.2, !0);
            },
            enable: function () {
              (this.element.disabled = !1),
                e.setElementOpacity(this.element, 1, !0),
                this.notifyGroupEnter();
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.ButtonGroup = function (t) {
          e.extend(
            !0,
            this,
            {
              buttons: [],
              clickTimeThreshold: e.DEFAULT_SETTINGS.clickTimeThreshold,
              clickDistThreshold: e.DEFAULT_SETTINGS.clickDistThreshold,
              labelText: "",
            },
            t
          );
          var i,
            n = this.buttons.concat([]),
            o = this;
          if (
            ((this.element = t.element || e.makeNeutralElement("div")),
              !t.group)
          )
            for (
              this.element.style.display = "inline-block", i = 0;
              i < n.length;
              i++
            )
              this.element.appendChild(n[i].element);
          e.setElementTouchActionNone(this.element),
            (this.tracker = new e.MouseTracker({
              element: this.element,
              clickTimeThreshold: this.clickTimeThreshold,
              clickDistThreshold: this.clickDistThreshold,
              enterHandler: function (e) {
                var t;
                for (t = 0; t < o.buttons.length; t++)
                  o.buttons[t].notifyGroupEnter();
              },
              exitHandler: function (e) {
                var t;
                if (!e.insideElementPressed)
                  for (t = 0; t < o.buttons.length; t++)
                    o.buttons[t].notifyGroupExit();
              },
            }));
        }),
          (e.ButtonGroup.prototype = {
            emulateEnter: function () {
              this.tracker.enterHandler({ eventSource: this.tracker });
            },
            emulateExit: function () {
              this.tracker.exitHandler({ eventSource: this.tracker });
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.Rect = function (t, i, n, o, r) {
          var a, s;
          (this.x = "number" == typeof t ? t : 0),
            (this.y = "number" == typeof i ? i : 0),
            (this.width = "number" == typeof n ? n : 0),
            (this.height = "number" == typeof o ? o : 0),
            (this.degrees = "number" == typeof r ? r : 0),
            (this.degrees = e.positiveModulo(this.degrees, 360)),
            this.degrees >= 270
              ? ((a = this.getTopRight()),
                (this.x = a.x),
                (this.y = a.y),
                (s = this.height),
                (this.height = this.width),
                (this.width = s),
                (this.degrees -= 270))
              : this.degrees >= 180
                ? ((a = this.getBottomRight()),
                  (this.x = a.x),
                  (this.y = a.y),
                  (this.degrees -= 180))
                : this.degrees >= 90 &&
                ((a = this.getBottomLeft()),
                  (this.x = a.x),
                  (this.y = a.y),
                  (s = this.height),
                  (this.height = this.width),
                  (this.width = s),
                  (this.degrees -= 90));
        }),
          (e.Rect.fromSummits = function (t, i, n) {
            var o = t.distanceTo(i),
              r = t.distanceTo(n),
              a = i.minus(t),
              s = Math.atan(a.y / a.x);
            return (
              a.x < 0 ? (s += Math.PI) : a.y < 0 && (s += 2 * Math.PI),
              new e.Rect(t.x, t.y, o, r, (s / Math.PI) * 180)
            );
          }),
          (e.Rect.prototype = {
            clone: function () {
              return new e.Rect(
                this.x,
                this.y,
                this.width,
                this.height,
                this.degrees
              );
            },
            getAspectRatio: function () {
              return this.width / this.height;
            },
            getTopLeft: function () {
              return new e.Point(this.x, this.y);
            },
            getBottomRight: function () {
              return new e.Point(
                this.x + this.width,
                this.y + this.height
              ).rotate(this.degrees, this.getTopLeft());
            },
            getTopRight: function () {
              return new e.Point(this.x + this.width, this.y).rotate(
                this.degrees,
                this.getTopLeft()
              );
            },
            getBottomLeft: function () {
              return new e.Point(this.x, this.y + this.height).rotate(
                this.degrees,
                this.getTopLeft()
              );
            },
            getCenter: function () {
              return new e.Point(
                this.x + this.width / 2,
                this.y + this.height / 2
              ).rotate(this.degrees, this.getTopLeft());
            },
            getSize: function () {
              return new e.Point(this.width, this.height);
            },
            equals: function (t) {
              return (
                t instanceof e.Rect &&
                this.x === t.x &&
                this.y === t.y &&
                this.width === t.width &&
                this.height === t.height &&
                this.degrees === t.degrees
              );
            },
            times: function (t) {
              return new e.Rect(
                this.x * t,
                this.y * t,
                this.width * t,
                this.height * t,
                this.degrees
              );
            },
            translate: function (t) {
              return new e.Rect(
                this.x + t.x,
                this.y + t.y,
                this.width,
                this.height,
                this.degrees
              );
            },
            union: function (t) {
              var i = this.getBoundingBox(),
                n = t.getBoundingBox(),
                o = Math.min(i.x, n.x),
                r = Math.min(i.y, n.y),
                a = Math.max(i.x + i.width, n.x + n.width),
                s = Math.max(i.y + i.height, n.y + n.height);
              return new e.Rect(o, r, a - o, s - r);
            },
            intersection: function (t) {
              var i = [],
                n = this.getTopLeft();
              t.containsPoint(n, 1e-10) && i.push(n);
              var o = this.getTopRight();
              t.containsPoint(o, 1e-10) && i.push(o);
              var r = this.getBottomLeft();
              t.containsPoint(r, 1e-10) && i.push(r);
              var a = this.getBottomRight();
              t.containsPoint(a, 1e-10) && i.push(a);
              var s = t.getTopLeft();
              this.containsPoint(s, 1e-10) && i.push(s);
              var l = t.getTopRight();
              this.containsPoint(l, 1e-10) && i.push(l);
              var c = t.getBottomLeft();
              this.containsPoint(c, 1e-10) && i.push(c);
              var u = t.getBottomRight();
              this.containsPoint(u, 1e-10) && i.push(u);
              for (
                var d = this._getSegments(), p = t._getSegments(), h = 0;
                h < d.length;
                h++
              )
                for (var f = d[h], g = 0; g < p.length; g++) {
                  var m = p[g],
                    v = b(f[0], f[1], m[0], m[1]);
                  v && i.push(v);
                }
              function b(t, i, n, o) {
                var r = i.minus(t),
                  a = o.minus(n),
                  s = -a.x * r.y + r.x * a.y;
                if (0 === s) return null;
                var l = (r.x * (t.y - n.y) - r.y * (t.x - n.x)) / s,
                  c = (a.x * (t.y - n.y) - a.y * (t.x - n.x)) / s;
                return -1e-10 <= l &&
                  l <= 1 - 1e-10 &&
                  -1e-10 <= c &&
                  c <= 1 - 1e-10
                  ? new e.Point(t.x + c * r.x, t.y + c * r.y)
                  : null;
              }
              if (0 === i.length) return null;
              for (
                var y = i[0].x, x = i[0].x, w = i[0].y, _ = i[0].y, A = 1;
                A < i.length;
                A++
              ) {
                var E = i[A];
                E.x < y && (y = E.x),
                  E.x > x && (x = E.x),
                  E.y < w && (w = E.y),
                  E.y > _ && (_ = E.y);
              }
              return new e.Rect(y, w, x - y, _ - w);
            },
            _getSegments: function () {
              var e = this.getTopLeft(),
                t = this.getTopRight(),
                i = this.getBottomLeft(),
                n = this.getBottomRight();
              return [
                [e, t],
                [t, n],
                [n, i],
                [i, e],
              ];
            },
            rotate: function (t, i) {
              if (0 === (t = e.positiveModulo(t, 360))) return this.clone();
              i = i || this.getCenter();
              var n = this.getTopLeft().rotate(t, i),
                o = this.getTopRight().rotate(t, i).minus(n);
              o = o.apply(function (e) {
                return Math.abs(e) < 1e-15 ? 0 : e;
              });
              var r = Math.atan(o.y / o.x);
              return (
                o.x < 0 ? (r += Math.PI) : o.y < 0 && (r += 2 * Math.PI),
                new e.Rect(
                  n.x,
                  n.y,
                  this.width,
                  this.height,
                  (r / Math.PI) * 180
                )
              );
            },
            getBoundingBox: function () {
              if (0 === this.degrees) return this.clone();
              var t = this.getTopLeft(),
                i = this.getTopRight(),
                n = this.getBottomLeft(),
                o = this.getBottomRight(),
                r = Math.min(t.x, i.x, n.x, o.x),
                a = Math.max(t.x, i.x, n.x, o.x),
                s = Math.min(t.y, i.y, n.y, o.y),
                l = Math.max(t.y, i.y, n.y, o.y);
              return new e.Rect(r, s, a - r, l - s);
            },
            getIntegerBoundingBox: function () {
              var t = this.getBoundingBox(),
                i = Math.floor(t.x),
                n = Math.floor(t.y),
                o = Math.ceil(t.width + t.x - i),
                r = Math.ceil(t.height + t.y - n);
              return new e.Rect(i, n, o, r);
            },
            containsPoint: function (e, t) {
              t = t || 0;
              var i = this.getTopLeft(),
                n = this.getTopRight(),
                o = this.getBottomLeft(),
                r = n.minus(i),
                a = o.minus(i);
              return (
                (e.x - i.x) * r.x + (e.y - i.y) * r.y >= -t &&
                (e.x - n.x) * r.x + (e.y - n.y) * r.y <= t &&
                (e.x - i.x) * a.x + (e.y - i.y) * a.y >= -t &&
                (e.x - o.x) * a.x + (e.y - o.y) * a.y <= t
              );
            },
            toString: function () {
              return (
                "[" +
                Math.round(100 * this.x) / 100 +
                ", " +
                Math.round(100 * this.y) / 100 +
                ", " +
                Math.round(100 * this.width) / 100 +
                "x" +
                Math.round(100 * this.height) / 100 +
                ", " +
                Math.round(100 * this.degrees) / 100 +
                "deg]"
              );
            },
          });
      })(OpenSeadragon),
      (function (e) {
        var t = {};
        function i(t) {
          var i = Number(this.element.style.marginLeft.replace("px", "")),
            n = Number(this.element.style.marginTop.replace("px", "")),
            r = Number(this.element.style.width.replace("px", "")),
            a = Number(this.element.style.height.replace("px", "")),
            s = e.getElementSize(this.viewer.canvas);
          return (
            (this.dragging = !0),
            this.element &&
            ("horizontal" == this.scroll
              ? -t.delta.x > 0
                ? i > -(r - s.x) &&
                ((this.element.style.marginLeft = i + 2 * t.delta.x + "px"),
                  o(this, s.x, i + 2 * t.delta.x))
                : -t.delta.x < 0 &&
                i < 0 &&
                ((this.element.style.marginLeft = i + 2 * t.delta.x + "px"),
                  o(this, s.x, i + 2 * t.delta.x))
              : -t.delta.y > 0
                ? n > -(a - s.y) &&
                ((this.element.style.marginTop = n + 2 * t.delta.y + "px"),
                  o(this, s.y, n + 2 * t.delta.y))
                : -t.delta.y < 0 &&
                n < 0 &&
                ((this.element.style.marginTop = n + 2 * t.delta.y + "px"),
                  o(this, s.y, n + 2 * t.delta.y))),
            !1
          );
        }
        function n(t) {
          var i = Number(this.element.style.marginLeft.replace("px", "")),
            n = Number(this.element.style.marginTop.replace("px", "")),
            r = Number(this.element.style.width.replace("px", "")),
            a = Number(this.element.style.height.replace("px", "")),
            s = e.getElementSize(this.viewer.canvas);
          return (
            this.element &&
            ("horizontal" == this.scroll
              ? t.scroll > 0
                ? i > -(r - s.x) &&
                ((this.element.style.marginLeft = i - 60 * t.scroll + "px"),
                  o(this, s.x, i - 60 * t.scroll))
                : t.scroll < 0 &&
                i < 0 &&
                ((this.element.style.marginLeft = i - 60 * t.scroll + "px"),
                  o(this, s.x, i - 60 * t.scroll))
              : t.scroll < 0
                ? n > s.y - a &&
                ((this.element.style.marginTop = n + 60 * t.scroll + "px"),
                  o(this, s.y, n + 60 * t.scroll))
                : t.scroll > 0 &&
                n < 0 &&
                ((this.element.style.marginTop = n + 60 * t.scroll + "px"),
                  o(this, s.y, n + 60 * t.scroll))),
            !1
          );
        }
        function o(t, i, n) {
          var o, r, a, s, l, c, u;
          for (
            o = "horizontal" == t.scroll ? t.panelWidth : t.panelHeight,
            r = Math.ceil(i / o) + 5,
            c = r =
            (r = (a = Math.ceil((Math.abs(n) + i) / o) + 1) - r) < 0
              ? 0
              : r;
            c < a && c < t.panels.length;
            c++
          )
            if (!(u = t.panels[c]).activePanel) {
              var d,
                p = t.viewer.tileSources[c];
              (d = p.referenceStripThumbnailUrl
                ? { type: "image", url: p.referenceStripThumbnailUrl }
                : p),
                ((s = new e.Viewer({
                  id: u.id,
                  tileSources: [d],
                  element: u,
                  navigatorSizeRatio: t.sizeRatio,
                  showNavigator: !1,
                  mouseNavEnabled: !1,
                  showNavigationControl: !1,
                  showSequenceControl: !1,
                  immediateRender: !0,
                  blendTime: 0,
                  animationTime: 0,
                  loadTilesWithAjax: t.viewer.loadTilesWithAjax,
                  ajaxHeaders: t.viewer.ajaxHeaders,
                  useCanvas: t.useCanvas,
                })).displayRegion = e.makeNeutralElement("div")),
                (s.displayRegion.id = u.id + "-displayregion"),
                (s.displayRegion.className = "displayregion"),
                ((l = s.displayRegion.style).position = "relative"),
                (l.top = "0px"),
                (l.left = "0px"),
                (l.fontSize = "0px"),
                (l.overflow = "hidden"),
                (l.float = "left"),
                (l.cssFloat = "left"),
                (l.styleFloat = "left"),
                (l.zIndex = 999999999),
                (l.cursor = "default"),
                (l.width = t.panelWidth - 4 + "px"),
                (l.height = t.panelHeight - 4 + "px"),
                (s.displayRegion.innerTracker = new e.MouseTracker({
                  element: s.displayRegion,
                  startDisabled: !0,
                })),
                u.getElementsByTagName("div")[0].appendChild(s.displayRegion),
                (t.miniViewers[u.id] = s),
                (u.activePanel = !0);
            }
        }
        function r(e) {
          var t = e.eventSource.element;
          return (
            "horizontal" == this.scroll
              ? (t.style.marginBottom = "0px")
              : (t.style.marginLeft = "0px"),
            !1
          );
        }
        function a(t) {
          var i = t.eventSource.element;
          return (
            "horizontal" == this.scroll
              ? (i.style.marginBottom = "-" + e.getElementSize(i).y / 2 + "px")
              : (i.style.marginLeft = "-" + e.getElementSize(i).x / 2 + "px"),
            !1
          );
        }
        function s(e) {
          if (e.preventDefaultAction || e.ctrl || e.alt || e.meta) return !0;
          switch (e.keyCode) {
            case 38:
              return (
                n.call(this, {
                  eventSource: this.tracker,
                  position: null,
                  scroll: 1,
                  shift: null,
                }),
                !1
              );
            case 40:
            case 37:
              return (
                n.call(this, {
                  eventSource: this.tracker,
                  position: null,
                  scroll: -1,
                  shift: null,
                }),
                !1
              );
            case 39:
              return (
                n.call(this, {
                  eventSource: this.tracker,
                  position: null,
                  scroll: 1,
                  shift: null,
                }),
                !1
              );
            default:
              return !0;
          }
        }
        function l(e) {
          if (e.preventDefaultAction || e.ctrl || e.alt || e.meta) return !0;
          switch (e.keyCode) {
            case 61:
              return (
                n.call(this, {
                  eventSource: this.tracker,
                  position: null,
                  scroll: 1,
                  shift: null,
                }),
                !1
              );
            case 45:
              return (
                n.call(this, {
                  eventSource: this.tracker,
                  position: null,
                  scroll: -1,
                  shift: null,
                }),
                !1
              );
            case 48:
            case 119:
            case 87:
              return (
                n.call(this, {
                  eventSource: this.tracker,
                  position: null,
                  scroll: 1,
                  shift: null,
                }),
                !1
              );
            case 115:
            case 83:
            case 97:
              return (
                n.call(this, {
                  eventSource: this.tracker,
                  position: null,
                  scroll: -1,
                  shift: null,
                }),
                !1
              );
            case 100:
              return (
                n.call(this, {
                  eventSource: this.tracker,
                  position: null,
                  scroll: 1,
                  shift: null,
                }),
                !1
              );
            default:
              return !0;
          }
        }
        (e.ReferenceStrip = function (c) {
          var u,
            d,
            p,
            h = c.viewer,
            f = e.getElementSize(h.element);
          for (
            c.id ||
            ((c.id = "referencestrip-" + e.now()),
              (this.element = e.makeNeutralElement("div")),
              (this.element.id = c.id),
              (this.element.className = "referencestrip")),
            c = e.extend(
              !0,
              {
                sizeRatio: e.DEFAULT_SETTINGS.referenceStripSizeRatio,
                position: e.DEFAULT_SETTINGS.referenceStripPosition,
                scroll: e.DEFAULT_SETTINGS.referenceStripScroll,
                clickTimeThreshold: e.DEFAULT_SETTINGS.clickTimeThreshold,
              },
              c,
              {
                element: this.element,
                showNavigator: !1,
                mouseNavEnabled: !1,
                showNavigationControl: !1,
                showSequenceControl: !1,
              }
            ),
            e.extend(this, c),
            t[this.id] = { animating: !1 },
            this.minPixelRatio = this.viewer.minPixelRatio,
            (d = this.element.style).marginTop = "0px",
            d.marginRight = "0px",
            d.marginBottom = "0px",
            d.marginLeft = "0px",
            d.left = "0px",
            d.bottom = "0px",
            d.border = "0px",
            d.background = "#000",
            d.position = "relative",
            e.setElementTouchActionNone(this.element),
            e.setElementOpacity(this.element, 0.8),
            this.viewer = h,
            this.innerTracker = new e.MouseTracker({
              element: this.element,
              dragHandler: e.delegate(this, i),
              scrollHandler: e.delegate(this, n),
              enterHandler: e.delegate(this, r),
              exitHandler: e.delegate(this, a),
              keyDownHandler: e.delegate(this, s),
              keyHandler: e.delegate(this, l),
            }),
            c.width && c.height
              ? ((this.element.style.width = c.width + "px"),
                (this.element.style.height = c.height + "px"),
                h.addControl(this.element, {
                  anchor: e.ControlAnchor.BOTTOM_LEFT,
                }))
              : "horizontal" == c.scroll
                ? ((this.element.style.width =
                  f.x * c.sizeRatio * h.tileSources.length +
                  12 * h.tileSources.length +
                  "px"),
                  (this.element.style.height = f.y * c.sizeRatio + "px"),
                  h.addControl(this.element, {
                    anchor: e.ControlAnchor.BOTTOM_LEFT,
                  }))
                : ((this.element.style.height =
                  f.y * c.sizeRatio * h.tileSources.length +
                  12 * h.tileSources.length +
                  "px"),
                  (this.element.style.width = f.x * c.sizeRatio + "px"),
                  h.addControl(this.element, {
                    anchor: e.ControlAnchor.TOP_LEFT,
                  })),
            this.panelWidth = f.x * this.sizeRatio + 8,
            this.panelHeight = f.y * this.sizeRatio + 8,
            this.panels = [],
            this.miniViewers = {},
            p = 0;
            p < h.tileSources.length;
            p++
          )
            ((u = e.makeNeutralElement("div")).id = this.element.id + "-" + p),
              (u.style.width = this.panelWidth + "px"),
              (u.style.height = this.panelHeight + "px"),
              (u.style.display = "inline"),
              (u.style.float = "left"),
              (u.style.cssFloat = "left"),
              (u.style.styleFloat = "left"),
              (u.style.padding = "2px"),
              e.setElementTouchActionNone(u),
              (u.innerTracker = new e.MouseTracker({
                element: u,
                clickTimeThreshold: this.clickTimeThreshold,
                clickDistThreshold: this.clickDistThreshold,
                pressHandler: function (t) {
                  t.eventSource.dragging = e.now();
                },
                releaseHandler: function (t) {
                  var i = t.eventSource,
                    n = i.element.id,
                    o = Number(n.split("-")[2]),
                    r = e.now();
                  t.insideElementPressed &&
                    t.insideElementReleased &&
                    i.dragging &&
                    r - i.dragging < i.clickTimeThreshold &&
                    ((i.dragging = null), h.goToPage(o));
                },
              })),
              this.element.appendChild(u),
              (u.activePanel = !1),
              this.panels.push(u);
          o(this, "vertical" == this.scroll ? f.y : f.x, 0), this.setFocus(0);
        }),
          e.extend(
            e.ReferenceStrip.prototype,
            e.EventSource.prototype,
            e.Viewer.prototype,
            {
              setFocus: function (t) {
                var i,
                  n = this.element.querySelector(
                    "#" + this.element.id + "-" + t
                  ),
                  a = e.getElementSize(this.viewer.canvas),
                  s = Number(this.element.style.width.replace("px", "")),
                  l = Number(this.element.style.height.replace("px", "")),
                  c = -Number(this.element.style.marginLeft.replace("px", "")),
                  u = -Number(this.element.style.marginTop.replace("px", ""));
                this.currentSelected !== n &&
                  (this.currentSelected &&
                    (this.currentSelected.style.background = "#000"),
                    (this.currentSelected = n),
                    (this.currentSelected.style.background = "#999"),
                    "horizontal" == this.scroll
                      ? (i = Number(t) * (this.panelWidth + 3)) >
                        c + a.x - this.panelWidth
                        ? ((i = Math.min(i, s - a.x)),
                          (this.element.style.marginLeft = -i + "px"),
                          o(this, a.x, -i))
                        : i < c &&
                        ((i = Math.max(0, i - a.x / 2)),
                          (this.element.style.marginLeft = -i + "px"),
                          o(this, a.x, -i))
                      : (i = Number(t) * (this.panelHeight + 3)) >
                        u + a.y - this.panelHeight
                        ? ((i = Math.min(i, l - a.y)),
                          (this.element.style.marginTop = -i + "px"),
                          o(this, a.y, -i))
                        : i < u &&
                        ((i = Math.max(0, i - a.y / 2)),
                          (this.element.style.marginTop = -i + "px"),
                          o(this, a.y, -i)),
                    (this.currentPage = t),
                    r.call(this, { eventSource: this.innerTracker }));
              },
              update: function () {
                return (
                  !!t[this.id].animating &&
                  (e.console.log("image reference strip update"), !0)
                );
              },
              destroy: function () {
                if (this.miniViewers)
                  for (var e in this.miniViewers) this.miniViewers[e].destroy();
                this.element &&
                  this.element.parentNode.removeChild(this.element);
              },
            }
          );
      })(OpenSeadragon),
      (function (e) {
        (e.DisplayRect = function (t, i, n, o, r, a) {
          e.Rect.apply(this, [t, i, n, o]),
            (this.minLevel = r),
            (this.maxLevel = a);
        }),
          e.extend(e.DisplayRect.prototype, e.Rect.prototype);
      })(OpenSeadragon),
      (function (e) {
        (e.Spring = function (t) {
          var i = arguments;
          "object" != typeof t &&
            (t = {
              initial: i.length && "number" == typeof i[0] ? i[0] : void 0,
              springStiffness: i.length > 1 ? i[1].springStiffness : 5,
              animationTime: i.length > 1 ? i[1].animationTime : 1.5,
            }),
            e.console.assert(
              "number" == typeof t.springStiffness && 0 !== t.springStiffness,
              "[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"
            ),
            e.console.assert(
              "number" == typeof t.animationTime && t.animationTime >= 0,
              "[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"
            ),
            t.exponential && ((this._exponential = !0), delete t.exponential),
            e.extend(!0, this, t),
            (this.current = {
              value:
                "number" == typeof this.initial
                  ? this.initial
                  : this._exponential
                    ? 0
                    : 1,
              time: e.now(),
            }),
            e.console.assert(
              !this._exponential || 0 !== this.current.value,
              "[OpenSeadragon.Spring] value must be non-zero for exponential springs"
            ),
            (this.start = {
              value: this.current.value,
              time: this.current.time,
            }),
            (this.target = {
              value: this.current.value,
              time: this.current.time,
            }),
            this._exponential &&
            ((this.start._logValue = Math.log(this.start.value)),
              (this.target._logValue = Math.log(this.target.value)),
              (this.current._logValue = Math.log(this.current.value)));
        }),
          (e.Spring.prototype = {
            resetTo: function (t) {
              e.console.assert(
                !this._exponential || 0 !== t,
                "[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"
              ),
                (this.start.value = this.target.value = this.current.value = t),
                (this.start.time =
                  this.target.time =
                  this.current.time =
                  e.now()),
                this._exponential &&
                ((this.start._logValue = Math.log(this.start.value)),
                  (this.target._logValue = Math.log(this.target.value)),
                  (this.current._logValue = Math.log(this.current.value)));
            },
            springTo: function (t) {
              e.console.assert(
                !this._exponential || 0 !== t,
                "[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"
              ),
                (this.start.value = this.current.value),
                (this.start.time = this.current.time),
                (this.target.value = t),
                (this.target.time = this.start.time + 1e3 * this.animationTime),
                this._exponential &&
                ((this.start._logValue = Math.log(this.start.value)),
                  (this.target._logValue = Math.log(this.target.value)));
            },
            shiftBy: function (t) {
              (this.start.value += t),
                (this.target.value += t),
                this._exponential &&
                (e.console.assert(
                  0 !== this.target.value && 0 !== this.start.value,
                  "[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"
                ),
                  (this.start._logValue = Math.log(this.start.value)),
                  (this.target._logValue = Math.log(this.target.value)));
            },
            setExponential: function (t) {
              (this._exponential = t),
                this._exponential &&
                (e.console.assert(
                  0 !== this.current.value &&
                  0 !== this.target.value &&
                  0 !== this.start.value,
                  "[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"
                ),
                  (this.start._logValue = Math.log(this.start.value)),
                  (this.target._logValue = Math.log(this.target.value)),
                  (this.current._logValue = Math.log(this.current.value)));
            },
            update: function () {
              var t, i;
              (this.current.time = e.now()),
                this._exponential
                  ? ((t = this.start._logValue), (i = this.target._logValue))
                  : ((t = this.start.value), (i = this.target.value));
              var n,
                o,
                r =
                  this.current.time >= this.target.time
                    ? i
                    : t +
                    (i - t) *
                    ((n = this.springStiffness),
                      (o =
                        (this.current.time - this.start.time) /
                        (this.target.time - this.start.time)),
                      (1 - Math.exp(n * -o)) / (1 - Math.exp(-n))),
                a = this.current.value;
              return (
                this._exponential
                  ? (this.current.value = Math.exp(r))
                  : (this.current.value = r),
                a != this.current.value
              );
            },
            isAtTargetValue: function () {
              return this.current.value === this.target.value;
            },
          });
      })(OpenSeadragon),
      (function (e) {
        function t(t) {
          e.extend(
            !0,
            this,
            { timeout: e.DEFAULT_SETTINGS.timeout, jobId: null },
            t
          ),
            (this.image = null);
        }
        (t.prototype = {
          errorMsg: null,
          start: function () {
            var t = this,
              i = this.abort;
            (this.image = new Image()),
              (this.image.onload = function () {
                t.finish(!0);
              }),
              (this.image.onabort = this.image.onerror =
                function () {
                  (t.errorMsg = "Image load aborted"), t.finish(!1);
                }),
              (this.jobId = window.setTimeout(function () {
                (t.errorMsg =
                  "Image load exceeded timeout (" + t.timeout + " ms)"),
                  t.finish(!1);
              }, this.timeout)),
              this.loadWithAjax
                ? ((this.request = e.makeAjaxRequest({
                  url: this.src,
                  withCredentials: this.ajaxWithCredentials,
                  headers: this.ajaxHeaders,
                  responseType: "arraybuffer",
                  success: function (e) {
                    var i;
                    try {
                      i = new window.Blob([e.response]);
                    } catch (t) {
                      var n =
                        window.BlobBuilder ||
                        window.WebKitBlobBuilder ||
                        window.MozBlobBuilder ||
                        window.MSBlobBuilder;
                      if ("TypeError" === t.name && n) {
                        var o = new n();
                        o.append(e.response), (i = o.getBlob());
                      }
                    }
                    0 === i.size &&
                      ((t.errorMsg = "Empty image response."), t.finish(!1));
                    var r = (window.URL || window.webkitURL).createObjectURL(
                      i
                    );
                    t.image.src = r;
                  },
                  error: function (e) {
                    (t.errorMsg = "Image load aborted - XHR error"),
                      t.finish(!1);
                  },
                })),
                  (this.abort = function () {
                    t.request.abort(), "function" == typeof i && i();
                  }))
                : (!1 !== this.crossOriginPolicy &&
                  (this.image.crossOrigin = this.crossOriginPolicy),
                  (this.image.src = this.src));
          },
          finish: function (e) {
            (this.image.onload =
              this.image.onerror =
              this.image.onabort =
              null),
              e || (this.image = null),
              this.jobId && window.clearTimeout(this.jobId),
              this.callback(this);
          },
        }),
          (e.ImageLoader = function (t) {
            e.extend(
              !0,
              this,
              {
                jobLimit: e.DEFAULT_SETTINGS.imageLoaderLimit,
                timeout: e.DEFAULT_SETTINGS.timeout,
                jobQueue: [],
                jobsInProgress: 0,
              },
              t
            );
          }),
          (e.ImageLoader.prototype = {
            addJob: function (e) {
              var i = this,
                n = new t({
                  src: e.src,
                  loadWithAjax: e.loadWithAjax,
                  ajaxHeaders: e.loadWithAjax ? e.ajaxHeaders : null,
                  crossOriginPolicy: e.crossOriginPolicy,
                  ajaxWithCredentials: e.ajaxWithCredentials,
                  callback: function (t) {
                    !(function (e, t, i) {
                      e.jobsInProgress--,
                        (!e.jobLimit || e.jobsInProgress < e.jobLimit) &&
                        e.jobQueue.length > 0 &&
                        (e.jobQueue.shift().start(), e.jobsInProgress++);
                      i(t.image, t.errorMsg, t.request);
                    })(i, t, e.callback);
                  },
                  abort: e.abort,
                  timeout: this.timeout,
                });
              !this.jobLimit || this.jobsInProgress < this.jobLimit
                ? (n.start(), this.jobsInProgress++)
                : this.jobQueue.push(n);
            },
            clear: function () {
              for (var e = 0; e < this.jobQueue.length; e++) {
                var t = this.jobQueue[e];
                "function" == typeof t.abort && t.abort();
              }
              this.jobQueue = [];
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.Tile = function (e, t, i, n, o, r, a, s, l, c) {
          (this.level = e),
            (this.x = t),
            (this.y = i),
            (this.bounds = n),
            (this.sourceBounds = c),
            (this.exists = o),
            (this.url = r),
            (this.context2D = a),
            (this.loadWithAjax = s),
            (this.ajaxHeaders = l),
            this.ajaxHeaders
              ? (this.cacheKey =
                this.url + "+" + JSON.stringify(this.ajaxHeaders))
              : (this.cacheKey = this.url),
            (this.loaded = !1),
            (this.loading = !1),
            (this.element = null),
            (this.imgElement = null),
            (this.image = null),
            (this.style = null),
            (this.position = null),
            (this.size = null),
            (this.blendStart = null),
            (this.opacity = null),
            (this.squaredDistance = null),
            (this.visibility = null),
            (this.beingDrawn = !1),
            (this.lastTouchTime = 0),
            (this.isRightMost = !1),
            (this.isBottomMost = !1);
        }),
          (e.Tile.prototype = {
            toString: function () {
              return this.level + "/" + this.x + "_" + this.y;
            },
            _hasTransparencyChannel: function () {
              return !!this.context2D || this.url.match(".png");
            },
            drawHTML: function (t) {
              this.cacheImageRecord
                ? this.loaded
                  ? (this.element ||
                    ((this.element = e.makeNeutralElement("div")),
                      (this.imgElement = this.cacheImageRecord
                        .getImage()
                        .cloneNode()),
                      (this.imgElement.style.msInterpolationMode =
                        "nearest-neighbor"),
                      (this.imgElement.style.width = "100%"),
                      (this.imgElement.style.height = "100%"),
                      (this.style = this.element.style),
                      (this.style.position = "absolute")),
                    this.element.parentNode != t && t.appendChild(this.element),
                    this.imgElement.parentNode != this.element &&
                    this.element.appendChild(this.imgElement),
                    (this.style.top = this.position.y + "px"),
                    (this.style.left = this.position.x + "px"),
                    (this.style.height = this.size.y + "px"),
                    (this.style.width = this.size.x + "px"),
                    e.setElementOpacity(this.element, this.opacity))
                  : e.console.warn(
                    "Attempting to draw tile %s when it's not yet loaded.",
                    this.toString()
                  )
                : e.console.warn(
                  "[Tile.drawHTML] attempting to draw tile %s when it's not cached",
                  this.toString()
                );
            },
            drawCanvas: function (t, i, n, o) {
              var r,
                a,
                s,
                l = this.position.times(e.pixelDensityRatio),
                c = this.size.times(e.pixelDensityRatio);
              this.context2D || this.cacheImageRecord
                ? ((r =
                  this.context2D ||
                  this.cacheImageRecord.getRenderedContext()),
                  this.loaded && r
                    ? (t.save(),
                      (t.globalAlpha = this.opacity),
                      "number" == typeof n &&
                      1 !== n &&
                      ((l = l.times(n)), (c = c.times(n))),
                      o instanceof e.Point && (l = l.plus(o)),
                      1 === t.globalAlpha &&
                      this._hasTransparencyChannel() &&
                      t.clearRect(l.x, l.y, c.x, c.y),
                      i({ context: t, tile: this, rendered: r }),
                      this.sourceBounds
                        ? ((a = Math.min(
                          this.sourceBounds.width,
                          r.canvas.width
                        )),
                          (s = Math.min(
                            this.sourceBounds.height,
                            r.canvas.height
                          )))
                        : ((a = r.canvas.width), (s = r.canvas.height)),
                      t.drawImage(r.canvas, 0, 0, a, s, l.x, l.y, c.x, c.y),
                      t.restore())
                    : e.console.warn(
                      "Attempting to draw tile %s when it's not yet loaded.",
                      this.toString()
                    ))
                : e.console.warn(
                  "[Tile.drawCanvas] attempting to draw tile %s when it's not cached",
                  this.toString()
                );
            },
            getScaleForEdgeSmoothing: function () {
              var t;
              if (this.cacheImageRecord)
                t = this.cacheImageRecord.getRenderedContext();
              else {
                if (!this.context2D)
                  return (
                    e.console.warn(
                      "[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",
                      this.toString()
                    ),
                    1
                  );
                t = this.context2D;
              }
              return t.canvas.width / (this.size.x * e.pixelDensityRatio);
            },
            getTranslationForEdgeSmoothing: function (t, i, n) {
              var o = Math.max(1, Math.ceil((n.x - i.x) / 2)),
                r = Math.max(1, Math.ceil((n.y - i.y) / 2));
              return new e.Point(o, r).minus(
                this.position
                  .times(e.pixelDensityRatio)
                  .times(t || 1)
                  .apply(function (e) {
                    return e % 1;
                  })
              );
            },
            unload: function () {
              this.imgElement &&
                this.imgElement.parentNode &&
                this.imgElement.parentNode.removeChild(this.imgElement),
                this.element &&
                this.element.parentNode &&
                this.element.parentNode.removeChild(this.element),
                (this.element = null),
                (this.imgElement = null),
                (this.loaded = !1),
                (this.loading = !1);
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.OverlayPlacement = e.Placement),
          (e.OverlayRotationMode = e.freezeObject({
            NO_ROTATION: 1,
            EXACT: 2,
            BOUNDING_BOX: 3,
          })),
          (e.Overlay = function (t, i, n) {
            var o;
            (o = e.isPlainObject(t)
              ? t
              : { element: t, location: i, placement: n }),
              (this.element = o.element),
              (this.style = o.element.style),
              this._init(o);
          }),
          (e.Overlay.prototype = {
            _init: function (t) {
              (this.location = t.location),
                (this.placement =
                  void 0 === t.placement ? e.Placement.TOP_LEFT : t.placement),
                (this.onDraw = t.onDraw),
                (this.checkResize = void 0 === t.checkResize || t.checkResize),
                (this.width = void 0 === t.width ? null : t.width),
                (this.height = void 0 === t.height ? null : t.height),
                (this.rotationMode =
                  t.rotationMode || e.OverlayRotationMode.EXACT),
                this.location instanceof e.Rect &&
                ((this.width = this.location.width),
                  (this.height = this.location.height),
                  (this.location = this.location.getTopLeft()),
                  (this.placement = e.Placement.TOP_LEFT)),
                (this.scales = null !== this.width && null !== this.height),
                (this.bounds = new e.Rect(
                  this.location.x,
                  this.location.y,
                  this.width,
                  this.height
                )),
                (this.position = this.location);
            },
            adjust: function (t, i) {
              var n = e.Placement.properties[this.placement];
              n &&
                (n.isHorizontallyCentered
                  ? (t.x -= i.x / 2)
                  : n.isRight && (t.x -= i.x),
                  n.isVerticallyCentered
                    ? (t.y -= i.y / 2)
                    : n.isBottom && (t.y -= i.y));
            },
            destroy: function () {
              var t = this.element,
                i = this.style;
              t.parentNode &&
                (t.parentNode.removeChild(t),
                  t.prevElementParent &&
                  ((i.display = "none"), document.body.appendChild(t))),
                (this.onDraw = null),
                (i.top = ""),
                (i.left = ""),
                (i.position = ""),
                null !== this.width && (i.width = ""),
                null !== this.height && (i.height = "");
              var n = e.getCssPropertyWithVendorPrefix("transformOrigin"),
                o = e.getCssPropertyWithVendorPrefix("transform");
              n && o && ((i[n] = ""), (i[o] = ""));
            },
            drawHTML: function (t, i) {
              var n = this.element;
              n.parentNode !== t &&
                ((n.prevElementParent = n.parentNode),
                  (n.prevNextSibling = n.nextSibling),
                  t.appendChild(n),
                  (this.style.position = "absolute"),
                  (this.size = e.getElementSize(n)));
              var o = this._getOverlayPositionAndSize(i),
                r = o.position,
                a = (this.size = o.size),
                s = o.rotate;
              if (this.onDraw) this.onDraw(r, a, this.element);
              else {
                var l = this.style;
                (l.left = r.x + "px"),
                  (l.top = r.y + "px"),
                  null !== this.width && (l.width = a.x + "px"),
                  null !== this.height && (l.height = a.y + "px");
                var c = e.getCssPropertyWithVendorPrefix("transformOrigin"),
                  u = e.getCssPropertyWithVendorPrefix("transform");
                c &&
                  u &&
                  (s
                    ? ((l[c] = this._getTransformOrigin()),
                      (l[u] = "rotate(" + s + "deg)"))
                    : ((l[c] = ""), (l[u] = ""))),
                  "none" !== l.display && (l.display = "block");
              }
            },
            _getOverlayPositionAndSize: function (t) {
              var i = t.pixelFromPoint(this.location, !0),
                n = this._getSizeInPixels(t);
              this.adjust(i, n);
              var o = 0;
              if (
                t.degrees &&
                this.rotationMode !== e.OverlayRotationMode.NO_ROTATION
              )
                if (
                  this.rotationMode === e.OverlayRotationMode.BOUNDING_BOX &&
                  null !== this.width &&
                  null !== this.height
                ) {
                  var r = new e.Rect(i.x, i.y, n.x, n.y),
                    a = this._getBoundingBox(r, t.degrees);
                  (i = a.getTopLeft()), (n = a.getSize());
                } else o = t.degrees;
              return { position: i, size: n, rotate: o };
            },
            _getSizeInPixels: function (t) {
              var i = this.size.x,
                n = this.size.y;
              if (null !== this.width || null !== this.height) {
                var o = t.deltaPixelsFromPointsNoRotate(
                  new e.Point(this.width || 0, this.height || 0),
                  !0
                );
                null !== this.width && (i = o.x),
                  null !== this.height && (n = o.y);
              }
              if (
                this.checkResize &&
                (null === this.width || null === this.height)
              ) {
                var r = (this.size = e.getElementSize(this.element));
                null === this.width && (i = r.x),
                  null === this.height && (n = r.y);
              }
              return new e.Point(i, n);
            },
            _getBoundingBox: function (e, t) {
              var i = this._getPlacementPoint(e);
              return e.rotate(t, i).getBoundingBox();
            },
            _getPlacementPoint: function (t) {
              var i = new e.Point(t.x, t.y),
                n = e.Placement.properties[this.placement];
              return (
                n &&
                (n.isHorizontallyCentered
                  ? (i.x += t.width / 2)
                  : n.isRight && (i.x += t.width),
                  n.isVerticallyCentered
                    ? (i.y += t.height / 2)
                    : n.isBottom && (i.y += t.height)),
                i
              );
            },
            _getTransformOrigin: function () {
              var t = "",
                i = e.Placement.properties[this.placement];
              return i
                ? (i.isLeft ? (t = "left") : i.isRight && (t = "right"),
                  i.isTop ? (t += " top") : i.isBottom && (t += " bottom"),
                  t)
                : t;
            },
            update: function (t, i) {
              var n = e.isPlainObject(t) ? t : { location: t, placement: i };
              this._init({
                location: n.location || this.location,
                placement:
                  void 0 !== n.placement ? n.placement : this.placement,
                onDraw: n.onDraw || this.onDraw,
                checkResize: n.checkResize || this.checkResize,
                width: void 0 !== n.width ? n.width : this.width,
                height: void 0 !== n.height ? n.height : this.height,
                rotationMode: n.rotationMode || this.rotationMode,
              });
            },
            getBounds: function (t) {
              e.console.assert(
                t,
                "A viewport must now be passed to Overlay.getBounds."
              );
              var i = this.width,
                n = this.height;
              if (null === i || null === n) {
                var o = t.deltaPointsFromPixelsNoRotate(this.size, !0);
                null === i && (i = o.x), null === n && (n = o.y);
              }
              var r = this.location.clone();
              return (
                this.adjust(r, new e.Point(i, n)),
                this._adjustBoundsForRotation(t, new e.Rect(r.x, r.y, i, n))
              );
            },
            _adjustBoundsForRotation: function (t, i) {
              if (
                !t ||
                0 === t.degrees ||
                this.rotationMode === e.OverlayRotationMode.EXACT
              )
                return i;
              if (this.rotationMode === e.OverlayRotationMode.BOUNDING_BOX) {
                if (null === this.width || null === this.height) return i;
                var n = this._getOverlayPositionAndSize(t);
                return t.viewerElementToViewportRectangle(
                  new e.Rect(n.position.x, n.position.y, n.size.x, n.size.y)
                );
              }
              return i.rotate(-t.degrees, this._getPlacementPoint(i));
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.Drawer = function (t) {
          e.console.assert(t.viewer, "[Drawer] options.viewer is required");
          var i = arguments;
          if (
            (e.isPlainObject(t) ||
              (t = { source: i[0], viewport: i[1], element: i[2] }),
              e.console.assert(
                t.viewport,
                "[Drawer] options.viewport is required"
              ),
              e.console.assert(t.element, "[Drawer] options.element is required"),
              t.source &&
              e.console.error(
                "[Drawer] options.source is no longer accepted; use TiledImage instead"
              ),
              (this.viewer = t.viewer),
              (this.viewport = t.viewport),
              (this.debugGridColor =
                "string" == typeof t.debugGridColor
                  ? [t.debugGridColor]
                  : t.debugGridColor || e.DEFAULT_SETTINGS.debugGridColor),
              t.opacity &&
              e.console.error(
                "[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"
              ),
              (this.useCanvas =
                e.supportsCanvas && (!this.viewer || this.viewer.useCanvas)),
              (this.container = e.getElement(t.element)),
              (this.canvas = e.makeNeutralElement(
                this.useCanvas ? "canvas" : "div"
              )),
              (this.context = this.useCanvas
                ? this.canvas.getContext("2d")
                : null),
              (this.sketchCanvas = null),
              (this.sketchContext = null),
              (this.element = this.container),
              (this.container.dir = "ltr"),
              this.useCanvas)
          ) {
            var n = this._calculateCanvasSize();
            (this.canvas.width = n.x), (this.canvas.height = n.y);
          }
          (this.canvas.style.width = "100%"),
            (this.canvas.style.height = "100%"),
            (this.canvas.style.position = "absolute"),
            e.setElementOpacity(this.canvas, this.opacity, !0),
            (this.container.style.textAlign = "left"),
            this.container.appendChild(this.canvas),
            (this._imageSmoothingEnabled = !0);
        }),
          (e.Drawer.prototype = {
            addOverlay: function (t, i, n, o) {
              return (
                e.console.error(
                  "drawer.addOverlay is deprecated. Use viewer.addOverlay instead."
                ),
                this.viewer.addOverlay(t, i, n, o),
                this
              );
            },
            updateOverlay: function (t, i, n) {
              return (
                e.console.error(
                  "drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."
                ),
                this.viewer.updateOverlay(t, i, n),
                this
              );
            },
            removeOverlay: function (t) {
              return (
                e.console.error(
                  "drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."
                ),
                this.viewer.removeOverlay(t),
                this
              );
            },
            clearOverlays: function () {
              return (
                e.console.error(
                  "drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."
                ),
                this.viewer.clearOverlays(),
                this
              );
            },
            viewportCoordToDrawerCoord: function (t) {
              var i = this.viewport.pixelFromPointNoRotate(t, !0);
              return new e.Point(
                i.x * e.pixelDensityRatio,
                i.y * e.pixelDensityRatio
              );
            },
            clipWithPolygons: function (e, t) {
              if (this.useCanvas) {
                var i = this._getContext(t);
                i.beginPath(),
                  e.forEach(function (e) {
                    e.forEach(function (e, t) {
                      i[0 === t ? "moveTo" : "lineTo"](e.x, e.y);
                    });
                  }),
                  i.clip();
              }
            },
            setOpacity: function (t) {
              e.console.error(
                "drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead."
              );
              for (var i = this.viewer.world, n = 0; n < i.getItemCount(); n++)
                i.getItemAt(n).setOpacity(t);
              return this;
            },
            getOpacity: function () {
              e.console.error(
                "drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead."
              );
              for (
                var t = this.viewer.world, i = 0, n = 0;
                n < t.getItemCount();
                n++
              ) {
                var o = t.getItemAt(n).getOpacity();
                o > i && (i = o);
              }
              return i;
            },
            needsUpdate: function () {
              return (
                e.console.error(
                  "[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."
                ),
                this.viewer.world.needsDraw()
              );
            },
            numTilesLoaded: function () {
              return (
                e.console.error(
                  "[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."
                ),
                this.viewer.tileCache.numTilesLoaded()
              );
            },
            reset: function () {
              return (
                e.console.error(
                  "[Drawer.reset] this function is deprecated. Use World.resetItems instead."
                ),
                this.viewer.world.resetItems(),
                this
              );
            },
            update: function () {
              return (
                e.console.error(
                  "[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."
                ),
                this.clear(),
                this.viewer.world.draw(),
                this
              );
            },
            canRotate: function () {
              return this.useCanvas;
            },
            destroy: function () {
              (this.canvas.width = 1),
                (this.canvas.height = 1),
                (this.sketchCanvas = null),
                (this.sketchContext = null);
            },
            clear: function () {
              if (((this.canvas.innerHTML = ""), this.useCanvas)) {
                var e = this._calculateCanvasSize();
                if (
                  (this.canvas.width != e.x || this.canvas.height != e.y) &&
                  ((this.canvas.width = e.x),
                    (this.canvas.height = e.y),
                    this._updateImageSmoothingEnabled(this.context),
                    null !== this.sketchCanvas)
                ) {
                  var t = this._calculateSketchCanvasSize();
                  (this.sketchCanvas.width = t.x),
                    (this.sketchCanvas.height = t.y),
                    this._updateImageSmoothingEnabled(this.sketchContext);
                }
                this._clear();
              }
            },
            _clear: function (e, t) {
              if (this.useCanvas) {
                var i = this._getContext(e);
                if (t) i.clearRect(t.x, t.y, t.width, t.height);
                else {
                  var n = i.canvas;
                  i.clearRect(0, 0, n.width, n.height);
                }
              }
            },
            viewportToDrawerRectangle: function (t) {
              var i = this.viewport.pixelFromPointNoRotate(t.getTopLeft(), !0),
                n = this.viewport.deltaPixelsFromPointsNoRotate(
                  t.getSize(),
                  !0
                );
              return new e.Rect(
                i.x * e.pixelDensityRatio,
                i.y * e.pixelDensityRatio,
                n.x * e.pixelDensityRatio,
                n.y * e.pixelDensityRatio
              );
            },
            drawTile: function (t, i, n, o, r) {
              if (
                (e.console.assert(t, "[Drawer.drawTile] tile is required"),
                  e.console.assert(
                    i,
                    "[Drawer.drawTile] drawingHandler is required"
                  ),
                  this.useCanvas)
              ) {
                var a = this._getContext(n);
                (o = o || 1), t.drawCanvas(a, i, o, r);
              } else t.drawHTML(this.canvas);
            },
            _getContext: function (e) {
              var t = this.context;
              if (e) {
                if (null === this.sketchCanvas) {
                  this.sketchCanvas = document.createElement("canvas");
                  var i = this._calculateSketchCanvasSize();
                  if (
                    ((this.sketchCanvas.width = i.x),
                      (this.sketchCanvas.height = i.y),
                      (this.sketchContext = this.sketchCanvas.getContext("2d")),
                      0 === this.viewport.getRotation())
                  ) {
                    var n = this;
                    this.viewer.addHandler("rotate", function e() {
                      if (0 !== n.viewport.getRotation()) {
                        n.viewer.removeHandler("rotate", e);
                        var t = n._calculateSketchCanvasSize();
                        (n.sketchCanvas.width = t.x),
                          (n.sketchCanvas.height = t.y);
                      }
                    });
                  }
                  this._updateImageSmoothingEnabled(this.sketchContext);
                }
                t = this.sketchContext;
              }
              return t;
            },
            saveContext: function (e) {
              this.useCanvas && this._getContext(e).save();
            },
            restoreContext: function (e) {
              this.useCanvas && this._getContext(e).restore();
            },
            setClip: function (e, t) {
              if (this.useCanvas) {
                var i = this._getContext(t);
                i.beginPath(), i.rect(e.x, e.y, e.width, e.height), i.clip();
              }
            },
            drawRectangle: function (e, t, i) {
              if (this.useCanvas) {
                var n = this._getContext(i);
                n.save(),
                  (n.fillStyle = t),
                  n.fillRect(e.x, e.y, e.width, e.height),
                  n.restore();
              }
            },
            blendSketch: function (t, i, n, o) {
              var r = t;
              if (
                (e.isPlainObject(r) ||
                  (r = {
                    opacity: t,
                    scale: i,
                    translate: n,
                    compositeOperation: o,
                  }),
                  this.useCanvas && this.sketchCanvas)
              ) {
                (t = r.opacity), (o = r.compositeOperation);
                var a = r.bounds;
                if (
                  (this.context.save(),
                    (this.context.globalAlpha = t),
                    o && (this.context.globalCompositeOperation = o),
                    a)
                )
                  a.x < 0 && ((a.width += a.x), (a.x = 0)),
                    a.x + a.width > this.canvas.width &&
                    (a.width = this.canvas.width - a.x),
                    a.y < 0 && ((a.height += a.y), (a.y = 0)),
                    a.y + a.height > this.canvas.height &&
                    (a.height = this.canvas.height - a.y),
                    this.context.drawImage(
                      this.sketchCanvas,
                      a.x,
                      a.y,
                      a.width,
                      a.height,
                      a.x,
                      a.y,
                      a.width,
                      a.height
                    );
                else {
                  i = r.scale || 1;
                  var s =
                    (n = r.translate) instanceof e.Point
                      ? n
                      : new e.Point(0, 0),
                    l = 0,
                    c = 0;
                  if (n) {
                    var u = this.sketchCanvas.width - this.canvas.width,
                      d = this.sketchCanvas.height - this.canvas.height;
                    (l = Math.round(u / 2)), (c = Math.round(d / 2));
                  }
                  this.context.drawImage(
                    this.sketchCanvas,
                    s.x - l * i,
                    s.y - c * i,
                    (this.canvas.width + 2 * l) * i,
                    (this.canvas.height + 2 * c) * i,
                    -l,
                    -c,
                    this.canvas.width + 2 * l,
                    this.canvas.height + 2 * c
                  );
                }
                this.context.restore();
              }
            },
            drawDebugInfo: function (t, i, n, o) {
              if (this.useCanvas) {
                var r =
                  this.viewer.world.getIndexOfItem(o) %
                  this.debugGridColor.length,
                  a = this.context;
                a.save(),
                  (a.lineWidth = 2 * e.pixelDensityRatio),
                  (a.font =
                    "small-caps bold " + 13 * e.pixelDensityRatio + "px arial"),
                  (a.strokeStyle = this.debugGridColor[r]),
                  (a.fillStyle = this.debugGridColor[r]),
                  0 !== this.viewport.degrees &&
                  this._offsetForRotation({ degrees: this.viewport.degrees }),
                  o.getRotation(!0) % 360 != 0 &&
                  this._offsetForRotation({
                    degrees: o.getRotation(!0),
                    point: o.viewport.pixelFromPointNoRotate(
                      o._getRotationPoint(!0),
                      !0
                    ),
                  }),
                  0 === o.viewport.degrees &&
                  o.getRotation(!0) % 360 == 0 &&
                  o._drawer.viewer.viewport.getFlip() &&
                  o._drawer._flip(),
                  a.strokeRect(
                    t.position.x * e.pixelDensityRatio,
                    t.position.y * e.pixelDensityRatio,
                    t.size.x * e.pixelDensityRatio,
                    t.size.y * e.pixelDensityRatio
                  );
                var s = (t.position.x + t.size.x / 2) * e.pixelDensityRatio,
                  l = (t.position.y + t.size.y / 2) * e.pixelDensityRatio;
                a.translate(s, l),
                  a.rotate((Math.PI / 180) * -this.viewport.degrees),
                  a.translate(-s, -l),
                  0 === t.x &&
                  0 === t.y &&
                  (a.fillText(
                    "Zoom: " + this.viewport.getZoom(),
                    t.position.x * e.pixelDensityRatio,
                    (t.position.y - 30) * e.pixelDensityRatio
                  ),
                    a.fillText(
                      "Pan: " + this.viewport.getBounds().toString(),
                      t.position.x * e.pixelDensityRatio,
                      (t.position.y - 20) * e.pixelDensityRatio
                    )),
                  a.fillText(
                    "Level: " + t.level,
                    (t.position.x + 10) * e.pixelDensityRatio,
                    (t.position.y + 20) * e.pixelDensityRatio
                  ),
                  a.fillText(
                    "Column: " + t.x,
                    (t.position.x + 10) * e.pixelDensityRatio,
                    (t.position.y + 30) * e.pixelDensityRatio
                  ),
                  a.fillText(
                    "Row: " + t.y,
                    (t.position.x + 10) * e.pixelDensityRatio,
                    (t.position.y + 40) * e.pixelDensityRatio
                  ),
                  a.fillText(
                    "Order: " + n + " of " + i,
                    (t.position.x + 10) * e.pixelDensityRatio,
                    (t.position.y + 50) * e.pixelDensityRatio
                  ),
                  a.fillText(
                    "Size: " + t.size.toString(),
                    (t.position.x + 10) * e.pixelDensityRatio,
                    (t.position.y + 60) * e.pixelDensityRatio
                  ),
                  a.fillText(
                    "Position: " + t.position.toString(),
                    (t.position.x + 10) * e.pixelDensityRatio,
                    (t.position.y + 70) * e.pixelDensityRatio
                  ),
                  0 !== this.viewport.degrees && this._restoreRotationChanges(),
                  o.getRotation(!0) % 360 != 0 &&
                  this._restoreRotationChanges(),
                  0 === o.viewport.degrees &&
                  o.getRotation(!0) % 360 == 0 &&
                  o._drawer.viewer.viewport.getFlip() &&
                  o._drawer._flip(),
                  a.restore();
              }
            },
            debugRect: function (t) {
              if (this.useCanvas) {
                var i = this.context;
                i.save(),
                  (i.lineWidth = 2 * e.pixelDensityRatio),
                  (i.strokeStyle = this.debugGridColor[0]),
                  (i.fillStyle = this.debugGridColor[0]),
                  i.strokeRect(
                    t.x * e.pixelDensityRatio,
                    t.y * e.pixelDensityRatio,
                    t.width * e.pixelDensityRatio,
                    t.height * e.pixelDensityRatio
                  ),
                  i.restore();
              }
            },
            setImageSmoothingEnabled: function (e) {
              this.useCanvas &&
                ((this._imageSmoothingEnabled = e),
                  this._updateImageSmoothingEnabled(this.context),
                  this.viewer.forceRedraw());
            },
            _updateImageSmoothingEnabled: function (e) {
              (e.msImageSmoothingEnabled = this._imageSmoothingEnabled),
                (e.imageSmoothingEnabled = this._imageSmoothingEnabled);
            },
            getCanvasSize: function (t) {
              var i = this._getContext(t).canvas;
              return new e.Point(i.width, i.height);
            },
            getCanvasCenter: function () {
              return new e.Point(this.canvas.width / 2, this.canvas.height / 2);
            },
            _offsetForRotation: function (t) {
              var i = t.point
                ? t.point.times(e.pixelDensityRatio)
                : this.getCanvasCenter(),
                n = this._getContext(t.useSketch);
              n.save(),
                n.translate(i.x, i.y),
                this.viewer.viewport.flipped
                  ? (n.rotate((Math.PI / 180) * -t.degrees), n.scale(-1, 1))
                  : n.rotate((Math.PI / 180) * t.degrees),
                n.translate(-i.x, -i.y);
            },
            _flip: function (t) {
              var i = (t = t || {}).point
                ? t.point.times(e.pixelDensityRatio)
                : this.getCanvasCenter(),
                n = this._getContext(t.useSketch);
              n.translate(i.x, 0), n.scale(-1, 1), n.translate(-i.x, 0);
            },
            _restoreRotationChanges: function (e) {
              this._getContext(e).restore();
            },
            _calculateCanvasSize: function () {
              var t = e.pixelDensityRatio,
                i = this.viewport.getContainerSize();
              return { x: Math.round(i.x * t), y: Math.round(i.y * t) };
            },
            _calculateSketchCanvasSize: function () {
              var e = this._calculateCanvasSize();
              if (0 === this.viewport.getRotation()) return e;
              var t = Math.ceil(Math.sqrt(e.x * e.x + e.y * e.y));
              return { x: t, y: t };
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.Viewport = function (t) {
          var i = arguments;
          i.length &&
            i[0] instanceof e.Point &&
            (t = { containerSize: i[0], contentSize: i[1], config: i[2] }),
            t.config && (e.extend(!0, t, t.config), delete t.config),
            (this._margins = e.extend(
              { left: 0, top: 0, right: 0, bottom: 0 },
              t.margins || {}
            )),
            delete t.margins,
            e.extend(
              !0,
              this,
              {
                containerSize: null,
                contentSize: null,
                zoomPoint: null,
                viewer: null,
                springStiffness: e.DEFAULT_SETTINGS.springStiffness,
                animationTime: e.DEFAULT_SETTINGS.animationTime,
                minZoomImageRatio: e.DEFAULT_SETTINGS.minZoomImageRatio,
                maxZoomPixelRatio: e.DEFAULT_SETTINGS.maxZoomPixelRatio,
                visibilityRatio: e.DEFAULT_SETTINGS.visibilityRatio,
                wrapHorizontal: e.DEFAULT_SETTINGS.wrapHorizontal,
                wrapVertical: e.DEFAULT_SETTINGS.wrapVertical,
                defaultZoomLevel: e.DEFAULT_SETTINGS.defaultZoomLevel,
                minZoomLevel: e.DEFAULT_SETTINGS.minZoomLevel,
                maxZoomLevel: e.DEFAULT_SETTINGS.maxZoomLevel,
                degrees: e.DEFAULT_SETTINGS.degrees,
                flipped: e.DEFAULT_SETTINGS.flipped,
                homeFillsViewer: e.DEFAULT_SETTINGS.homeFillsViewer,
              },
              t
            ),
            this._updateContainerInnerSize(),
            (this.centerSpringX = new e.Spring({
              initial: 0,
              springStiffness: this.springStiffness,
              animationTime: this.animationTime,
            })),
            (this.centerSpringY = new e.Spring({
              initial: 0,
              springStiffness: this.springStiffness,
              animationTime: this.animationTime,
            })),
            (this.zoomSpring = new e.Spring({
              exponential: !0,
              initial: 1,
              springStiffness: this.springStiffness,
              animationTime: this.animationTime,
            })),
            (this._oldCenterX = this.centerSpringX.current.value),
            (this._oldCenterY = this.centerSpringY.current.value),
            (this._oldZoom = this.zoomSpring.current.value),
            this._setContentBounds(new e.Rect(0, 0, 1, 1), 1),
            this.goHome(!0),
            this.update();
        }),
          (e.Viewport.prototype = {
            resetContentSize: function (t) {
              return (
                e.console.assert(
                  t,
                  "[Viewport.resetContentSize] contentSize is required"
                ),
                e.console.assert(
                  t instanceof e.Point,
                  "[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"
                ),
                e.console.assert(
                  t.x > 0,
                  "[Viewport.resetContentSize] contentSize.x must be greater than 0"
                ),
                e.console.assert(
                  t.y > 0,
                  "[Viewport.resetContentSize] contentSize.y must be greater than 0"
                ),
                this._setContentBounds(new e.Rect(0, 0, 1, t.y / t.x), t.x),
                this
              );
            },
            setHomeBounds: function (t, i) {
              e.console.error(
                "[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."
              ),
                this._setContentBounds(t, i);
            },
            _setContentBounds: function (t, i) {
              e.console.assert(
                t,
                "[Viewport._setContentBounds] bounds is required"
              ),
                e.console.assert(
                  t instanceof e.Rect,
                  "[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"
                ),
                e.console.assert(
                  t.width > 0,
                  "[Viewport._setContentBounds] bounds.width must be greater than 0"
                ),
                e.console.assert(
                  t.height > 0,
                  "[Viewport._setContentBounds] bounds.height must be greater than 0"
                ),
                (this._contentBoundsNoRotate = t.clone()),
                (this._contentSizeNoRotate = this._contentBoundsNoRotate
                  .getSize()
                  .times(i)),
                (this._contentBounds = t.rotate(this.degrees).getBoundingBox()),
                (this._contentSize = this._contentBounds.getSize().times(i)),
                (this._contentAspectRatio =
                  this._contentSize.x / this._contentSize.y),
                this.viewer &&
                this.viewer.raiseEvent("reset-size", {
                  contentSize: this._contentSizeNoRotate.clone(),
                  contentFactor: i,
                  homeBounds: this._contentBoundsNoRotate.clone(),
                  contentBounds: this._contentBounds.clone(),
                });
            },
            getHomeZoom: function () {
              if (this.defaultZoomLevel) return this.defaultZoomLevel;
              var e = this._contentAspectRatio / this.getAspectRatio();
              return (
                (this.homeFillsViewer ? (e >= 1 ? e : 1) : e >= 1 ? 1 : e) /
                this._contentBounds.width
              );
            },
            getHomeBounds: function () {
              return this.getHomeBoundsNoRotate().rotate(-this.getRotation());
            },
            getHomeBoundsNoRotate: function () {
              var t = this._contentBounds.getCenter(),
                i = 1 / this.getHomeZoom(),
                n = i / this.getAspectRatio();
              return new e.Rect(t.x - i / 2, t.y - n / 2, i, n);
            },
            goHome: function (e) {
              return (
                this.viewer &&
                this.viewer.raiseEvent("home", { immediately: e }),
                this.fitBounds(this.getHomeBounds(), e)
              );
            },
            getMinZoom: function () {
              var e = this.getHomeZoom();
              return this.minZoomLevel
                ? this.minZoomLevel
                : this.minZoomImageRatio * e;
            },
            getMaxZoom: function () {
              var e = this.maxZoomLevel;
              return (
                e ||
                ((e =
                  (this._contentSize.x * this.maxZoomPixelRatio) /
                  this._containerInnerSize.x),
                  (e /= this._contentBounds.width)),
                Math.max(e, this.getHomeZoom())
              );
            },
            getAspectRatio: function () {
              return this._containerInnerSize.x / this._containerInnerSize.y;
            },
            getContainerSize: function () {
              return new e.Point(this.containerSize.x, this.containerSize.y);
            },
            getMargins: function () {
              return e.extend({}, this._margins);
            },
            setMargins: function (t) {
              e.console.assert(
                "object" === e.type(t),
                "[Viewport.setMargins] margins must be an object"
              ),
                (this._margins = e.extend(
                  { left: 0, top: 0, right: 0, bottom: 0 },
                  t
                )),
                this._updateContainerInnerSize(),
                this.viewer && this.viewer.forceRedraw();
            },
            getBounds: function (e) {
              return this.getBoundsNoRotate(e).rotate(-this.getRotation());
            },
            getBoundsNoRotate: function (t) {
              var i = this.getCenter(t),
                n = 1 / this.getZoom(t),
                o = n / this.getAspectRatio();
              return new e.Rect(i.x - n / 2, i.y - o / 2, n, o);
            },
            getBoundsWithMargins: function (e) {
              return this.getBoundsNoRotateWithMargins(e).rotate(
                -this.getRotation(),
                this.getCenter(e)
              );
            },
            getBoundsNoRotateWithMargins: function (e) {
              var t = this.getBoundsNoRotate(e),
                i = this._containerInnerSize.x * this.getZoom(e);
              return (
                (t.x -= this._margins.left / i),
                (t.y -= this._margins.top / i),
                (t.width += (this._margins.left + this._margins.right) / i),
                (t.height += (this._margins.top + this._margins.bottom) / i),
                t
              );
            },
            getCenter: function (t) {
              var i,
                n,
                o,
                r,
                a,
                s,
                l = new e.Point(
                  this.centerSpringX.current.value,
                  this.centerSpringY.current.value
                ),
                c = new e.Point(
                  this.centerSpringX.target.value,
                  this.centerSpringY.target.value
                );
              return t
                ? l
                : this.zoomPoint
                  ? ((i = this.pixelFromPoint(this.zoomPoint, !0)),
                    (r = (o = 1 / (n = this.getZoom())) / this.getAspectRatio()),
                    (a = new e.Rect(l.x - o / 2, l.y - r / 2, o, r)),
                    (s = this._pixelFromPoint(this.zoomPoint, a)
                      .minus(i)
                      .divide(this._containerInnerSize.x * n)),
                    c.plus(s))
                  : c;
            },
            getZoom: function (e) {
              return e
                ? this.zoomSpring.current.value
                : this.zoomSpring.target.value;
            },
            _applyZoomConstraints: function (e) {
              return Math.max(
                Math.min(e, this.getMaxZoom()),
                this.getMinZoom()
              );
            },
            _applyBoundaryConstraints: function (t) {
              var i = new e.Rect(t.x, t.y, t.width, t.height);
              if (this.wrapHorizontal);
              else {
                var n = this.visibilityRatio * i.width,
                  o = i.x + i.width,
                  r =
                    this._contentBoundsNoRotate.x +
                    this._contentBoundsNoRotate.width,
                  a = this._contentBoundsNoRotate.x - o + n,
                  s = r - i.x - n;
                n > this._contentBoundsNoRotate.width
                  ? (i.x += (a + s) / 2)
                  : s < 0
                    ? (i.x += s)
                    : a > 0 && (i.x += a);
              }
              if (this.wrapVertical);
              else {
                var l = this.visibilityRatio * i.height,
                  c = i.y + i.height,
                  u =
                    this._contentBoundsNoRotate.y +
                    this._contentBoundsNoRotate.height,
                  d = this._contentBoundsNoRotate.y - c + l,
                  p = u - i.y - l;
                l > this._contentBoundsNoRotate.height
                  ? (i.y += (d + p) / 2)
                  : p < 0
                    ? (i.y += p)
                    : d > 0 && (i.y += d);
              }
              return i;
            },
            _raiseConstraintsEvent: function (e) {
              this.viewer &&
                this.viewer.raiseEvent("constrain", { immediately: e });
            },
            applyConstraints: function (e) {
              var t = this.getZoom(),
                i = this._applyZoomConstraints(t);
              t !== i && this.zoomTo(i, this.zoomPoint, e);
              var n = this.getBoundsNoRotate(),
                o = this._applyBoundaryConstraints(n);
              return (
                this._raiseConstraintsEvent(e),
                (n.x !== o.x || n.y !== o.y || e) &&
                this.fitBounds(o.rotate(-this.getRotation()), e),
                this
              );
            },
            ensureVisible: function (e) {
              return this.applyConstraints(e);
            },
            _fitBounds: function (t, i) {
              var n = (i = i || {}).immediately || !1,
                o = i.constraints || !1,
                r = this.getAspectRatio(),
                a = t.getCenter(),
                s = new e.Rect(
                  t.x,
                  t.y,
                  t.width,
                  t.height,
                  t.degrees + this.getRotation()
                ).getBoundingBox();
              s.getAspectRatio() >= r
                ? (s.height = s.width / r)
                : (s.width = s.height * r),
                (s.x = a.x - s.width / 2),
                (s.y = a.y - s.height / 2);
              var l = 1 / s.width;
              if (o) {
                var c = s.getAspectRatio(),
                  u = this._applyZoomConstraints(l);
                l !== u &&
                  ((l = u),
                    (s.width = 1 / l),
                    (s.x = a.x - s.width / 2),
                    (s.height = s.width / c),
                    (s.y = a.y - s.height / 2)),
                  (a = (s = this._applyBoundaryConstraints(s)).getCenter()),
                  this._raiseConstraintsEvent(n);
              }
              if (n) return this.panTo(a, !0), this.zoomTo(l, null, !0);
              this.panTo(this.getCenter(!0), !0),
                this.zoomTo(this.getZoom(!0), null, !0);
              var d = this.getBounds(),
                p = this.getZoom();
              if (0 === p || Math.abs(l / p - 1) < 1e-8)
                return this.zoomTo(l, !0), this.panTo(a, n);
              var h = (s = s.rotate(-this.getRotation()))
                .getTopLeft()
                .times(l)
                .minus(d.getTopLeft().times(p))
                .divide(l - p);
              return this.zoomTo(l, h, n);
            },
            fitBounds: function (e, t) {
              return this._fitBounds(e, { immediately: t, constraints: !1 });
            },
            fitBoundsWithConstraints: function (e, t) {
              return this._fitBounds(e, { immediately: t, constraints: !0 });
            },
            fitVertically: function (t) {
              var i = new e.Rect(
                this._contentBounds.x + this._contentBounds.width / 2,
                this._contentBounds.y,
                0,
                this._contentBounds.height
              );
              return this.fitBounds(i, t);
            },
            fitHorizontally: function (t) {
              var i = new e.Rect(
                this._contentBounds.x,
                this._contentBounds.y + this._contentBounds.height / 2,
                this._contentBounds.width,
                0
              );
              return this.fitBounds(i, t);
            },
            getConstrainedBounds: function (e) {
              var t;
              return (t = this.getBounds(e)), this._applyBoundaryConstraints(t);
            },
            panBy: function (t, i) {
              var n = new e.Point(
                this.centerSpringX.target.value,
                this.centerSpringY.target.value
              );
              return this.panTo(n.plus(t), i);
            },
            panTo: function (e, t) {
              return (
                t
                  ? (this.centerSpringX.resetTo(e.x),
                    this.centerSpringY.resetTo(e.y))
                  : (this.centerSpringX.springTo(e.x),
                    this.centerSpringY.springTo(e.y)),
                this.viewer &&
                this.viewer.raiseEvent("pan", { center: e, immediately: t }),
                this
              );
            },
            zoomBy: function (e, t, i) {
              return this.zoomTo(this.zoomSpring.target.value * e, t, i);
            },
            zoomTo: function (t, i, n) {
              var o = this;
              return (
                (this.zoomPoint =
                  i instanceof e.Point && !isNaN(i.x) && !isNaN(i.y)
                    ? i
                    : null),
                n
                  ? this._adjustCenterSpringsForZoomPoint(function () {
                    o.zoomSpring.resetTo(t);
                  })
                  : this.zoomSpring.springTo(t),
                this.viewer &&
                this.viewer.raiseEvent("zoom", {
                  zoom: t,
                  refPoint: i,
                  immediately: n,
                }),
                this
              );
            },
            setRotation: function (t) {
              return this.viewer && this.viewer.drawer.canRotate()
                ? ((this.degrees = e.positiveModulo(t, 360)),
                  this._setContentBounds(
                    this.viewer.world.getHomeBounds(),
                    this.viewer.world.getContentFactor()
                  ),
                  this.viewer.forceRedraw(),
                  this.viewer.raiseEvent("rotate", { degrees: t }),
                  this)
                : this;
            },
            getRotation: function () {
              return this.degrees;
            },
            resize: function (e, t) {
              var i,
                n = this.getBoundsNoRotate(),
                o = n;
              return (
                (this.containerSize.x = e.x),
                (this.containerSize.y = e.y),
                this._updateContainerInnerSize(),
                t &&
                ((i = e.x / this.containerSize.x),
                  (o.width = n.width * i),
                  (o.height = o.width / this.getAspectRatio())),
                this.viewer &&
                this.viewer.raiseEvent("resize", {
                  newContainerSize: e,
                  maintain: t,
                }),
                this.fitBounds(o, !0)
              );
            },
            _updateContainerInnerSize: function () {
              this._containerInnerSize = new e.Point(
                Math.max(
                  1,
                  this.containerSize.x -
                  (this._margins.left + this._margins.right)
                ),
                Math.max(
                  1,
                  this.containerSize.y -
                  (this._margins.top + this._margins.bottom)
                )
              );
            },
            update: function () {
              var e = this;
              this._adjustCenterSpringsForZoomPoint(function () {
                e.zoomSpring.update();
              }),
                this.centerSpringX.update(),
                this.centerSpringY.update();
              var t =
                this.centerSpringX.current.value !== this._oldCenterX ||
                this.centerSpringY.current.value !== this._oldCenterY ||
                this.zoomSpring.current.value !== this._oldZoom;
              return (
                (this._oldCenterX = this.centerSpringX.current.value),
                (this._oldCenterY = this.centerSpringY.current.value),
                (this._oldZoom = this.zoomSpring.current.value),
                t
              );
            },
            _adjustCenterSpringsForZoomPoint: function (e) {
              if (this.zoomPoint) {
                var t = this.pixelFromPoint(this.zoomPoint, !0);
                e();
                var i = this.pixelFromPoint(this.zoomPoint, !0).minus(t),
                  n = this.deltaPointsFromPixels(i, !0);
                this.centerSpringX.shiftBy(n.x),
                  this.centerSpringY.shiftBy(n.y),
                  this.zoomSpring.isAtTargetValue() && (this.zoomPoint = null);
              } else e();
            },
            deltaPixelsFromPointsNoRotate: function (e, t) {
              return e.times(this._containerInnerSize.x * this.getZoom(t));
            },
            deltaPixelsFromPoints: function (e, t) {
              return this.deltaPixelsFromPointsNoRotate(
                e.rotate(this.getRotation()),
                t
              );
            },
            deltaPointsFromPixelsNoRotate: function (e, t) {
              return e.divide(this._containerInnerSize.x * this.getZoom(t));
            },
            deltaPointsFromPixels: function (e, t) {
              return this.deltaPointsFromPixelsNoRotate(e, t).rotate(
                -this.getRotation()
              );
            },
            pixelFromPointNoRotate: function (e, t) {
              return this._pixelFromPointNoRotate(e, this.getBoundsNoRotate(t));
            },
            pixelFromPoint: function (e, t) {
              return this._pixelFromPoint(e, this.getBoundsNoRotate(t));
            },
            _pixelFromPointNoRotate: function (t, i) {
              return t
                .minus(i.getTopLeft())
                .times(this._containerInnerSize.x / i.width)
                .plus(new e.Point(this._margins.left, this._margins.top));
            },
            _pixelFromPoint: function (e, t) {
              return this._pixelFromPointNoRotate(
                e.rotate(this.getRotation(), this.getCenter(!0)),
                t
              );
            },
            pointFromPixelNoRotate: function (t, i) {
              var n = this.getBoundsNoRotate(i);
              return t
                .minus(new e.Point(this._margins.left, this._margins.top))
                .divide(this._containerInnerSize.x / n.width)
                .plus(n.getTopLeft());
            },
            pointFromPixel: function (e, t) {
              return this.pointFromPixelNoRotate(e, t).rotate(
                -this.getRotation(),
                this.getCenter(!0)
              );
            },
            _viewportToImageDelta: function (t, i) {
              var n = this._contentBoundsNoRotate.width;
              return new e.Point(
                (t * this._contentSizeNoRotate.x) / n,
                (i * this._contentSizeNoRotate.x) / n
              );
            },
            viewportToImageCoordinates: function (t, i) {
              if (t instanceof e.Point)
                return this.viewportToImageCoordinates(t.x, t.y);
              if (this.viewer) {
                var n = this.viewer.world.getItemCount();
                if (n > 1)
                  e.console.error(
                    "[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead."
                  );
                else if (1 === n) {
                  return this.viewer.world
                    .getItemAt(0)
                    .viewportToImageCoordinates(t, i, !0);
                }
              }
              return this._viewportToImageDelta(
                t - this._contentBoundsNoRotate.x,
                i - this._contentBoundsNoRotate.y
              );
            },
            _imageToViewportDelta: function (t, i) {
              var n = this._contentBoundsNoRotate.width;
              return new e.Point(
                (t / this._contentSizeNoRotate.x) * n,
                (i / this._contentSizeNoRotate.x) * n
              );
            },
            imageToViewportCoordinates: function (t, i) {
              if (t instanceof e.Point)
                return this.imageToViewportCoordinates(t.x, t.y);
              if (this.viewer) {
                var n = this.viewer.world.getItemCount();
                if (n > 1)
                  e.console.error(
                    "[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead."
                  );
                else if (1 === n) {
                  return this.viewer.world
                    .getItemAt(0)
                    .imageToViewportCoordinates(t, i, !0);
                }
              }
              var o = this._imageToViewportDelta(t, i);
              return (
                (o.x += this._contentBoundsNoRotate.x),
                (o.y += this._contentBoundsNoRotate.y),
                o
              );
            },
            imageToViewportRectangle: function (t, i, n, o) {
              var r = t;
              if (
                (r instanceof e.Rect || (r = new e.Rect(t, i, n, o)),
                  this.viewer)
              ) {
                var a = this.viewer.world.getItemCount();
                if (a > 1)
                  e.console.error(
                    "[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead."
                  );
                else if (1 === a) {
                  return this.viewer.world
                    .getItemAt(0)
                    .imageToViewportRectangle(t, i, n, o, !0);
                }
              }
              var s = this.imageToViewportCoordinates(r.x, r.y),
                l = this._imageToViewportDelta(r.width, r.height);
              return new e.Rect(s.x, s.y, l.x, l.y, r.degrees);
            },
            viewportToImageRectangle: function (t, i, n, o) {
              var r = t;
              if (
                (r instanceof e.Rect || (r = new e.Rect(t, i, n, o)),
                  this.viewer)
              ) {
                var a = this.viewer.world.getItemCount();
                if (a > 1)
                  e.console.error(
                    "[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead."
                  );
                else if (1 === a) {
                  return this.viewer.world
                    .getItemAt(0)
                    .viewportToImageRectangle(t, i, n, o, !0);
                }
              }
              var s = this.viewportToImageCoordinates(r.x, r.y),
                l = this._viewportToImageDelta(r.width, r.height);
              return new e.Rect(s.x, s.y, l.x, l.y, r.degrees);
            },
            viewerElementToImageCoordinates: function (e) {
              var t = this.pointFromPixel(e, !0);
              return this.viewportToImageCoordinates(t);
            },
            imageToViewerElementCoordinates: function (e) {
              var t = this.imageToViewportCoordinates(e);
              return this.pixelFromPoint(t, !0);
            },
            windowToImageCoordinates: function (t) {
              e.console.assert(
                this.viewer,
                "[Viewport.windowToImageCoordinates] the viewport must have a viewer."
              );
              var i = t.minus(e.getElementPosition(this.viewer.element));
              return this.viewerElementToImageCoordinates(i);
            },
            imageToWindowCoordinates: function (t) {
              return (
                e.console.assert(
                  this.viewer,
                  "[Viewport.imageToWindowCoordinates] the viewport must have a viewer."
                ),
                this.imageToViewerElementCoordinates(t).plus(
                  e.getElementPosition(this.viewer.element)
                )
              );
            },
            viewerElementToViewportCoordinates: function (e) {
              return this.pointFromPixel(e, !0);
            },
            viewportToViewerElementCoordinates: function (e) {
              return this.pixelFromPoint(e, !0);
            },
            viewerElementToViewportRectangle: function (t) {
              return e.Rect.fromSummits(
                this.pointFromPixel(t.getTopLeft(), !0),
                this.pointFromPixel(t.getTopRight(), !0),
                this.pointFromPixel(t.getBottomLeft(), !0)
              );
            },
            viewportToViewerElementRectangle: function (t) {
              return e.Rect.fromSummits(
                this.pixelFromPoint(t.getTopLeft(), !0),
                this.pixelFromPoint(t.getTopRight(), !0),
                this.pixelFromPoint(t.getBottomLeft(), !0)
              );
            },
            windowToViewportCoordinates: function (t) {
              e.console.assert(
                this.viewer,
                "[Viewport.windowToViewportCoordinates] the viewport must have a viewer."
              );
              var i = t.minus(e.getElementPosition(this.viewer.element));
              return this.viewerElementToViewportCoordinates(i);
            },
            viewportToWindowCoordinates: function (t) {
              return (
                e.console.assert(
                  this.viewer,
                  "[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."
                ),
                this.viewportToViewerElementCoordinates(t).plus(
                  e.getElementPosition(this.viewer.element)
                )
              );
            },
            viewportToImageZoom: function (t) {
              if (this.viewer) {
                var i = this.viewer.world.getItemCount();
                if (i > 1)
                  e.console.error(
                    "[Viewport.viewportToImageZoom] is not accurate with multi-image."
                  );
                else if (1 === i) {
                  return this.viewer.world.getItemAt(0).viewportToImageZoom(t);
                }
              }
              var n = this._contentSizeNoRotate.x;
              return (
                t *
                ((this._containerInnerSize.x / n) *
                  this._contentBoundsNoRotate.width)
              );
            },
            imageToViewportZoom: function (t) {
              if (this.viewer) {
                var i = this.viewer.world.getItemCount();
                if (i > 1)
                  e.console.error(
                    "[Viewport.imageToViewportZoom] is not accurate with multi-image."
                  );
                else if (1 === i) {
                  return this.viewer.world.getItemAt(0).imageToViewportZoom(t);
                }
              }
              return (
                t *
                (this._contentSizeNoRotate.x /
                  this._containerInnerSize.x /
                  this._contentBoundsNoRotate.width)
              );
            },
            toggleFlip: function () {
              return this.setFlip(!this.getFlip()), this;
            },
            getFlip: function () {
              return this.flipped;
            },
            setFlip: function (e) {
              return (
                this.flipped === e ||
                ((this.flipped = e),
                  this.viewer.navigator &&
                  this.viewer.navigator.setFlip(this.getFlip()),
                  this.viewer.forceRedraw(),
                  this.viewer.raiseEvent("flip", { flipped: e })),
                this
              );
            },
          });
      })(OpenSeadragon),
      (function (e) {
        function t(e, t, n, o, r, a, l, c, u) {
          var d = l.getBoundingBox().getTopLeft(),
            p = l.getBoundingBox().getBottomRight();
          e.viewer &&
            e.viewer.raiseEvent("update-level", {
              tiledImage: e,
              havedrawn: t,
              level: o,
              opacity: r,
              visibility: a,
              drawArea: l,
              topleft: d,
              bottomright: p,
              currenttime: c,
              best: u,
            }),
            s(e.coverage, o),
            s(e.loadingCoverage, o);
          for (
            var h = e._getCornerTiles(o, d, p),
            f = h.topLeft,
            g = h.bottomRight,
            m = e.source.getNumTiles(o),
            v = e.viewport.pixelFromPoint(e.viewport.getCenter()),
            b = f.x;
            b <= g.x;
            b++
          )
            for (var y = f.y; y <= g.y; y++) {
              if (!e.wrapHorizontal && !e.wrapVertical) {
                var x = e.source.getTileBounds(o, b, y);
                if (null === l.intersection(x)) continue;
              }
              u = i(e, n, t, b, y, o, r, a, v, m, c, u);
            }
          return u;
        }
        function i(t, i, o, s, l, c, u, d, p, h, f, g) {
          var m = (function (t, i, n, o, r, a, s, l, c, u) {
            var d, p, h, f, g, m, v, b, y;
            a[n] || (a[n] = {});
            a[n][t] || (a[n][t] = {});
            a[n][t][i] ||
              ((d = (l.x + (t % l.x)) % l.x),
                (p = (l.y + (i % l.y)) % l.y),
                (h = r.getTileBounds(n, d, p)),
                (f = r.getTileBounds(n, d, p, !0)),
                (g = r.tileExists(n, d, p)),
                (m = r.getTileUrl(n, d, p)),
                o.loadTilesWithAjax
                  ? ((v = r.getTileAjaxHeaders(n, d, p)),
                    e.isPlainObject(o.ajaxHeaders) &&
                    (v = e.extend({}, o.ajaxHeaders, v)))
                  : (v = null),
                (b = r.getContext2D ? r.getContext2D(n, d, p) : void 0),
                (h.x += (t - d) / l.x),
                (h.y += (u / c) * ((i - p) / l.y)),
                (y = new e.Tile(
                  n,
                  t,
                  i,
                  h,
                  g,
                  m,
                  b,
                  o.loadTilesWithAjax,
                  v,
                  f
                )),
                d === l.x - 1 && (y.isRightMost = !0),
                p === l.y - 1 && (y.isBottomMost = !0),
                (a[n][t][i] = y));
            return ((y = a[n][t][i]).lastTouchTime = s), y;
          })(
            s,
            l,
            c,
            t,
            t.source,
            t.tilesMatrix,
            f,
            h,
            t._worldWidthCurrent,
            t._worldHeightCurrent
          ),
            v = o;
          t.viewer &&
            t.viewer.raiseEvent("update-tile", { tiledImage: t, tile: m }),
            a(t.coverage, c, s, l, !1);
          var b = m.loaded || m.loading || r(t.loadingCoverage, c, s, l);
          if ((a(t.loadingCoverage, c, s, l, b), !m.exists)) return g;
          if (
            (i &&
              !v &&
              (r(t.coverage, c, s, l) ? a(t.coverage, c, s, l, !0) : (v = !0)),
              !v)
          )
            return g;
          if (
            ((function (t, i, n, o, r, a) {
              var s = t.bounds.getTopLeft();
              (s.x *= a._scaleSpring.current.value),
                (s.y *= a._scaleSpring.current.value),
                (s.x += a._xSpring.current.value),
                (s.y += a._ySpring.current.value);
              var l = t.bounds.getSize();
              (l.x *= a._scaleSpring.current.value),
                (l.y *= a._scaleSpring.current.value);
              var c = n.pixelFromPointNoRotate(s, !0),
                u = n.pixelFromPointNoRotate(s, !1),
                d = n.deltaPixelsFromPointsNoRotate(l, !0),
                p = n.deltaPixelsFromPointsNoRotate(l, !1),
                h = u.plus(p.divide(2)),
                f = o.squaredDistanceTo(h);
              i || (d = d.plus(new e.Point(1, 1)));
              t.isRightMost && a.wrapHorizontal && (d.x += 0.75);
              t.isBottomMost && a.wrapVertical && (d.y += 0.75);
              (t.position = c),
                (t.size = d),
                (t.squaredDistance = f),
                (t.visibility = r);
            })(m, t.source.tileOverlap, t.viewport, p, d, t),
              !m.loaded)
          )
            if (m.context2D) n(t, m);
            else {
              var y = t._tileCache.getImageRecord(m.cacheKey);
              if (y) n(t, m, y.getImage());
            }
          m.loaded
            ? (function (e, t, i, n, o, r, s) {
              var l,
                c,
                u = 1e3 * e.blendTime;
              t.blendStart || (t.blendStart = s);
              (l = s - t.blendStart),
                (c = u ? Math.min(1, l / u) : 1),
                e.alwaysBlend && (c *= r);
              if (((t.opacity = c), e.lastDrawn.push(t), 1 === c))
                a(e.coverage, o, i, n, !0), (e._hasOpaqueTile = !0);
              else if (l < u) return !0;
              return !1;
            })(t, m, s, l, c, u, f) && (t._needsDraw = !0)
            : m.loading
              ? t._tilesLoading++
              : b ||
              (g = (function (e, t) {
                if (!e) return t;
                if (t.visibility > e.visibility) return t;
                if (
                  t.visibility == e.visibility &&
                  t.squaredDistance < e.squaredDistance
                )
                  return t;
                return e;
              })(g, m));
          return g;
        }
        function n(e, t, i, n, o) {
          var r = 0;
          function a() {
            return r++, s;
          }
          function s() {
            0 === --r &&
              ((t.loading = !1),
                (t.loaded = !0),
                t.context2D ||
                e._tileCache.cacheTile({
                  image: i,
                  tile: t,
                  cutoff: n,
                  tiledImage: e,
                }),
                (e._needsDraw = !0));
          }
          e.viewer.raiseEvent("tile-loaded", {
            tile: t,
            tiledImage: e,
            tileRequest: o,
            image: i,
            getCompletionCallback: a,
          }),
            a()();
        }
        function o(e, t, i, n) {
          var o, r, a, s;
          if (!e[t]) return !1;
          if (void 0 === i || void 0 === n) {
            for (a in (o = e[t]))
              if (Object.prototype.hasOwnProperty.call(o, a))
                for (s in (r = o[a]))
                  if (Object.prototype.hasOwnProperty.call(r, s) && !r[s])
                    return !1;
            return !0;
          }
          return (
            void 0 === e[t][i] || void 0 === e[t][i][n] || !0 === e[t][i][n]
          );
        }
        function r(e, t, i, n) {
          return void 0 === i || void 0 === n
            ? o(e, t + 1)
            : o(e, t + 1, 2 * i, 2 * n) &&
            o(e, t + 1, 2 * i, 2 * n + 1) &&
            o(e, t + 1, 2 * i + 1, 2 * n) &&
            o(e, t + 1, 2 * i + 1, 2 * n + 1);
        }
        function a(t, i, n, o, r) {
          t[i]
            ? (t[i][n] || (t[i][n] = {}), (t[i][n][o] = r))
            : e.console.warn(
              "Setting coverage for a tile before its level's coverage has been reset: %s",
              i
            );
        }
        function s(e, t) {
          e[t] = {};
        }
        (e.TiledImage = function (t) {
          var i = this;
          e.console.assert(
            t.tileCache,
            "[TiledImage] options.tileCache is required"
          ),
            e.console.assert(
              t.drawer,
              "[TiledImage] options.drawer is required"
            ),
            e.console.assert(
              t.viewer,
              "[TiledImage] options.viewer is required"
            ),
            e.console.assert(
              t.imageLoader,
              "[TiledImage] options.imageLoader is required"
            ),
            e.console.assert(
              t.source,
              "[TiledImage] options.source is required"
            ),
            e.console.assert(
              !t.clip || t.clip instanceof e.Rect,
              "[TiledImage] options.clip must be an OpenSeadragon.Rect if present"
            ),
            e.EventSource.call(this),
            (this._tileCache = t.tileCache),
            delete t.tileCache,
            (this._drawer = t.drawer),
            delete t.drawer,
            (this._imageLoader = t.imageLoader),
            delete t.imageLoader,
            t.clip instanceof e.Rect && (this._clip = t.clip.clone()),
            delete t.clip;
          var n = t.x || 0;
          delete t.x;
          var o = t.y || 0;
          delete t.y,
            (this.normHeight = t.source.dimensions.y / t.source.dimensions.x),
            (this.contentAspectX =
              t.source.dimensions.x / t.source.dimensions.y);
          var r = 1;
          t.width
            ? ((r = t.width),
              delete t.width,
              t.height &&
              (e.console.error(
                "specifying both width and height to a tiledImage is not supported"
              ),
                delete t.height))
            : t.height && ((r = t.height / this.normHeight), delete t.height);
          var a = t.fitBounds;
          delete t.fitBounds;
          var s = t.fitBoundsPlacement || OpenSeadragon.Placement.CENTER;
          delete t.fitBoundsPlacement;
          var l = t.degrees || 0;
          delete t.degrees,
            e.extend(
              !0,
              this,
              {
                viewer: null,
                tilesMatrix: {},
                coverage: {},
                loadingCoverage: {},
                lastDrawn: [],
                lastResetTime: 0,
                _midDraw: !1,
                _needsDraw: !0,
                _hasOpaqueTile: !1,
                _tilesLoading: 0,
                springStiffness: e.DEFAULT_SETTINGS.springStiffness,
                animationTime: e.DEFAULT_SETTINGS.animationTime,
                minZoomImageRatio: e.DEFAULT_SETTINGS.minZoomImageRatio,
                wrapHorizontal: e.DEFAULT_SETTINGS.wrapHorizontal,
                wrapVertical: e.DEFAULT_SETTINGS.wrapVertical,
                immediateRender: e.DEFAULT_SETTINGS.immediateRender,
                blendTime: e.DEFAULT_SETTINGS.blendTime,
                alwaysBlend: e.DEFAULT_SETTINGS.alwaysBlend,
                minPixelRatio: e.DEFAULT_SETTINGS.minPixelRatio,
                smoothTileEdgesMinZoom:
                  e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,
                iOSDevice: e.DEFAULT_SETTINGS.iOSDevice,
                debugMode: e.DEFAULT_SETTINGS.debugMode,
                crossOriginPolicy: e.DEFAULT_SETTINGS.crossOriginPolicy,
                ajaxWithCredentials: e.DEFAULT_SETTINGS.ajaxWithCredentials,
                placeholderFillStyle: e.DEFAULT_SETTINGS.placeholderFillStyle,
                opacity: e.DEFAULT_SETTINGS.opacity,
                preload: e.DEFAULT_SETTINGS.preload,
                compositeOperation: e.DEFAULT_SETTINGS.compositeOperation,
              },
              t
            ),
            (this._preload = this.preload),
            delete this.preload,
            (this._fullyLoaded = !1),
            (this._xSpring = new e.Spring({
              initial: n,
              springStiffness: this.springStiffness,
              animationTime: this.animationTime,
            })),
            (this._ySpring = new e.Spring({
              initial: o,
              springStiffness: this.springStiffness,
              animationTime: this.animationTime,
            })),
            (this._scaleSpring = new e.Spring({
              initial: r,
              springStiffness: this.springStiffness,
              animationTime: this.animationTime,
            })),
            (this._degreesSpring = new e.Spring({
              initial: l,
              springStiffness: this.springStiffness,
              animationTime: this.animationTime,
            })),
            this._updateForScale(),
            a && this.fitBounds(a, s, !0),
            (this._drawingHandler = function (t) {
              i.viewer.raiseEvent(
                "tile-drawing",
                e.extend({ tiledImage: i }, t)
              );
            });
        }),
          e.extend(e.TiledImage.prototype, e.EventSource.prototype, {
            needsDraw: function () {
              return this._needsDraw;
            },
            getFullyLoaded: function () {
              return this._fullyLoaded;
            },
            _setFullyLoaded: function (e) {
              e !== this._fullyLoaded &&
                ((this._fullyLoaded = e),
                  this.raiseEvent("fully-loaded-change", {
                    fullyLoaded: this._fullyLoaded,
                  }));
            },
            reset: function () {
              this._tileCache.clearTilesFor(this),
                (this.lastResetTime = e.now()),
                (this._needsDraw = !0);
            },
            update: function () {
              var e = this._xSpring.update(),
                t = this._ySpring.update(),
                i = this._scaleSpring.update(),
                n = this._degreesSpring.update();
              return (
                !!(e || t || i || n) &&
                (this._updateForScale(), (this._needsDraw = !0), !0)
              );
            },
            draw: function () {
              0 !== this.opacity || this._preload
                ? ((this._midDraw = !0),
                  this._updateViewport(),
                  (this._midDraw = !1))
                : (this._needsDraw = !1);
            },
            destroy: function () {
              this.reset();
            },
            getBounds: function (e) {
              return this.getBoundsNoRotate(e).rotate(
                this.getRotation(e),
                this._getRotationPoint(e)
              );
            },
            getBoundsNoRotate: function (t) {
              return t
                ? new e.Rect(
                  this._xSpring.current.value,
                  this._ySpring.current.value,
                  this._worldWidthCurrent,
                  this._worldHeightCurrent
                )
                : new e.Rect(
                  this._xSpring.target.value,
                  this._ySpring.target.value,
                  this._worldWidthTarget,
                  this._worldHeightTarget
                );
            },
            getWorldBounds: function () {
              return (
                e.console.error(
                  "[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"
                ),
                this.getBounds()
              );
            },
            getClippedBounds: function (t) {
              var i = this.getBoundsNoRotate(t);
              if (this._clip) {
                var n =
                  (t ? this._worldWidthCurrent : this._worldWidthTarget) /
                  this.source.dimensions.x,
                  o = this._clip.times(n);
                i = new e.Rect(i.x + o.x, i.y + o.y, o.width, o.height);
              }
              return i.rotate(this.getRotation(t), this._getRotationPoint(t));
            },
            getContentSize: function () {
              return new e.Point(
                this.source.dimensions.x,
                this.source.dimensions.y
              );
            },
            _viewportToImageDelta: function (t, i, n) {
              var o = n
                ? this._scaleSpring.current.value
                : this._scaleSpring.target.value;
              return new e.Point(
                t * (this.source.dimensions.x / o),
                i * ((this.source.dimensions.y * this.contentAspectX) / o)
              );
            },
            viewportToImageCoordinates: function (t, i, n) {
              var o;
              return (
                t instanceof e.Point
                  ? ((n = i), (o = t))
                  : (o = new e.Point(t, i)),
                (o = o.rotate(-this.getRotation(n), this._getRotationPoint(n))),
                n
                  ? this._viewportToImageDelta(
                    o.x - this._xSpring.current.value,
                    o.y - this._ySpring.current.value
                  )
                  : this._viewportToImageDelta(
                    o.x - this._xSpring.target.value,
                    o.y - this._ySpring.target.value
                  )
              );
            },
            _imageToViewportDelta: function (t, i, n) {
              var o = n
                ? this._scaleSpring.current.value
                : this._scaleSpring.target.value;
              return new e.Point(
                (t / this.source.dimensions.x) * o,
                (i / this.source.dimensions.y / this.contentAspectX) * o
              );
            },
            imageToViewportCoordinates: function (t, i, n) {
              t instanceof e.Point && ((n = i), (i = t.y), (t = t.x));
              var o = this._imageToViewportDelta(t, i);
              return (
                n
                  ? ((o.x += this._xSpring.current.value),
                    (o.y += this._ySpring.current.value))
                  : ((o.x += this._xSpring.target.value),
                    (o.y += this._ySpring.target.value)),
                o.rotate(this.getRotation(n), this._getRotationPoint(n))
              );
            },
            imageToViewportRectangle: function (t, i, n, o, r) {
              var a = t;
              a instanceof e.Rect ? (r = i) : (a = new e.Rect(t, i, n, o));
              var s = this.imageToViewportCoordinates(a.getTopLeft(), r),
                l = this._imageToViewportDelta(a.width, a.height, r);
              return new e.Rect(
                s.x,
                s.y,
                l.x,
                l.y,
                a.degrees + this.getRotation(r)
              );
            },
            viewportToImageRectangle: function (t, i, n, o, r) {
              var a = t;
              t instanceof e.Rect ? (r = i) : (a = new e.Rect(t, i, n, o));
              var s = this.viewportToImageCoordinates(a.getTopLeft(), r),
                l = this._viewportToImageDelta(a.width, a.height, r);
              return new e.Rect(
                s.x,
                s.y,
                l.x,
                l.y,
                a.degrees - this.getRotation(r)
              );
            },
            viewerElementToImageCoordinates: function (e) {
              var t = this.viewport.pointFromPixel(e, !0);
              return this.viewportToImageCoordinates(t);
            },
            imageToViewerElementCoordinates: function (e) {
              var t = this.imageToViewportCoordinates(e);
              return this.viewport.pixelFromPoint(t, !0);
            },
            windowToImageCoordinates: function (e) {
              var t = e.minus(
                OpenSeadragon.getElementPosition(this.viewer.element)
              );
              return this.viewerElementToImageCoordinates(t);
            },
            imageToWindowCoordinates: function (e) {
              return this.imageToViewerElementCoordinates(e).plus(
                OpenSeadragon.getElementPosition(this.viewer.element)
              );
            },
            _viewportToTiledImageRectangle: function (t) {
              var i = this._scaleSpring.current.value;
              return (
                (t = t.rotate(
                  -this.getRotation(!0),
                  this._getRotationPoint(!0)
                )),
                new e.Rect(
                  (t.x - this._xSpring.current.value) / i,
                  (t.y - this._ySpring.current.value) / i,
                  t.width / i,
                  t.height / i,
                  t.degrees
                )
              );
            },
            viewportToImageZoom: function (e) {
              return (
                ((this._scaleSpring.current.value *
                  this.viewport._containerInnerSize.x) /
                  this.source.dimensions.x) *
                e
              );
            },
            imageToViewportZoom: function (e) {
              return (
                e /
                ((this._scaleSpring.current.value *
                  this.viewport._containerInnerSize.x) /
                  this.source.dimensions.x)
              );
            },
            setPosition: function (e, t) {
              var i =
                this._xSpring.target.value === e.x &&
                this._ySpring.target.value === e.y;
              if (t) {
                if (
                  i &&
                  this._xSpring.current.value === e.x &&
                  this._ySpring.current.value === e.y
                )
                  return;
                this._xSpring.resetTo(e.x),
                  this._ySpring.resetTo(e.y),
                  (this._needsDraw = !0);
              } else {
                if (i) return;
                this._xSpring.springTo(e.x),
                  this._ySpring.springTo(e.y),
                  (this._needsDraw = !0);
              }
              i || this._raiseBoundsChange();
            },
            setWidth: function (e, t) {
              this._setScale(e, t);
            },
            setHeight: function (e, t) {
              this._setScale(e / this.normHeight, t);
            },
            setCroppingPolygons: function (t) {
              var i = function (t) {
                return t.map(function (t) {
                  try {
                    if (
                      (function (t) {
                        return (
                          t instanceof e.Point ||
                          ("number" == typeof t.x && "number" == typeof t.y)
                        );
                      })(t)
                    )
                      return { x: t.x, y: t.y };
                    throw new Error();
                  } catch (e) {
                    throw new Error(
                      "A Provided cropping polygon point is not supported"
                    );
                  }
                });
              };
              try {
                if (!e.isArray(t))
                  throw new Error("Provided cropping polygon is not an array");
                this._croppingPolygons = t.map(function (e) {
                  return i(e);
                });
              } catch (t) {
                e.console.error(
                  "[TiledImage.setCroppingPolygons] Cropping polygon format not supported"
                ),
                  e.console.error(t),
                  (this._croppingPolygons = null);
              }
            },
            resetCroppingPolygons: function () {
              this._croppingPolygons = null;
            },
            fitBounds: function (t, i, n) {
              i = i || e.Placement.CENTER;
              var o = e.Placement.properties[i],
                r = this.contentAspectX,
                a = 0,
                s = 0,
                l = 1,
                c = 1;
              if (
                (this._clip &&
                  ((r = this._clip.getAspectRatio()),
                    (l = this._clip.width / this.source.dimensions.x),
                    (c = this._clip.height / this.source.dimensions.y),
                    t.getAspectRatio() > r
                      ? ((a = (this._clip.x / this._clip.height) * t.height),
                        (s = (this._clip.y / this._clip.height) * t.height))
                      : ((a = (this._clip.x / this._clip.width) * t.width),
                        (s = (this._clip.y / this._clip.width) * t.width))),
                  t.getAspectRatio() > r)
              ) {
                var u = t.height / c,
                  d = 0;
                o.isHorizontallyCentered
                  ? (d = (t.width - t.height * r) / 2)
                  : o.isRight && (d = t.width - t.height * r),
                  this.setPosition(new e.Point(t.x - a + d, t.y - s), n),
                  this.setHeight(u, n);
              } else {
                var p = t.width / l,
                  h = 0;
                o.isVerticallyCentered
                  ? (h = (t.height - t.width / r) / 2)
                  : o.isBottom && (h = t.height - t.width / r),
                  this.setPosition(new e.Point(t.x - a, t.y - s + h), n),
                  this.setWidth(p, n);
              }
            },
            getClip: function () {
              return this._clip ? this._clip.clone() : null;
            },
            setClip: function (t) {
              e.console.assert(
                !t || t instanceof e.Rect,
                "[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"
              ),
                t instanceof e.Rect
                  ? (this._clip = t.clone())
                  : (this._clip = null),
                (this._needsDraw = !0),
                this.raiseEvent("clip-change");
            },
            getOpacity: function () {
              return this.opacity;
            },
            setOpacity: function (e) {
              e !== this.opacity &&
                ((this.opacity = e),
                  (this._needsDraw = !0),
                  this.raiseEvent("opacity-change", { opacity: this.opacity }));
            },
            getPreload: function () {
              return this._preload;
            },
            setPreload: function (e) {
              (this._preload = !!e), (this._needsDraw = !0);
            },
            getRotation: function (e) {
              return e
                ? this._degreesSpring.current.value
                : this._degreesSpring.target.value;
            },
            setRotation: function (e, t) {
              (this._degreesSpring.target.value === e &&
                this._degreesSpring.isAtTargetValue()) ||
                (t
                  ? this._degreesSpring.resetTo(e)
                  : this._degreesSpring.springTo(e),
                  (this._needsDraw = !0),
                  this._raiseBoundsChange());
            },
            _getRotationPoint: function (e) {
              return this.getBoundsNoRotate(e).getCenter();
            },
            getCompositeOperation: function () {
              return this.compositeOperation;
            },
            setCompositeOperation: function (e) {
              e !== this.compositeOperation &&
                ((this.compositeOperation = e),
                  (this._needsDraw = !0),
                  this.raiseEvent("composite-operation-change", {
                    compositeOperation: this.compositeOperation,
                  }));
            },
            _setScale: function (e, t) {
              var i = this._scaleSpring.target.value === e;
              if (t) {
                if (i && this._scaleSpring.current.value === e) return;
                this._scaleSpring.resetTo(e),
                  this._updateForScale(),
                  (this._needsDraw = !0);
              } else {
                if (i) return;
                this._scaleSpring.springTo(e),
                  this._updateForScale(),
                  (this._needsDraw = !0);
              }
              i || this._raiseBoundsChange();
            },
            _updateForScale: function () {
              (this._worldWidthTarget = this._scaleSpring.target.value),
                (this._worldHeightTarget =
                  this.normHeight * this._scaleSpring.target.value),
                (this._worldWidthCurrent = this._scaleSpring.current.value),
                (this._worldHeightCurrent =
                  this.normHeight * this._scaleSpring.current.value);
            },
            _raiseBoundsChange: function () {
              this.raiseEvent("bounds-change");
            },
            _isBottomItem: function () {
              return this.viewer.world.getItemAt(0) === this;
            },
            _getLevelsInterval: function () {
              var e = Math.max(
                this.source.minLevel,
                Math.floor(Math.log(this.minZoomImageRatio) / Math.log(2))
              ),
                t =
                  this.viewport.deltaPixelsFromPointsNoRotate(
                    this.source.getPixelRatio(0),
                    !0
                  ).x * this._scaleSpring.current.value,
                i = Math.min(
                  Math.abs(this.source.maxLevel),
                  Math.abs(
                    Math.floor(Math.log(t / this.minPixelRatio) / Math.log(2))
                  )
                );
              return (
                (i = Math.max(i, this.source.minLevel || 0)),
                { lowestLevel: (e = Math.min(e, i)), highestLevel: i }
              );
            },
            _updateViewport: function () {
              for (
                this._needsDraw = !1,
                this._tilesLoading = 0,
                this.loadingCoverage = {};
                this.lastDrawn.length > 0;

              ) {
                this.lastDrawn.pop().beingDrawn = !1;
              }
              var i = this.viewport,
                r = this._viewportToTiledImageRectangle(
                  i.getBoundsWithMargins(!0)
                );
              if (!this.wrapHorizontal && !this.wrapVertical) {
                var a = this._viewportToTiledImageRectangle(
                  this.getClippedBounds(!0)
                );
                if (null === (r = r.intersection(a))) return;
              }
              for (
                var s = this._getLevelsInterval(),
                l = s.lowestLevel,
                c = s.highestLevel,
                u = null,
                d = !1,
                p = e.now(),
                h = c;
                h >= l;
                h--
              ) {
                var f = !1,
                  g =
                    i.deltaPixelsFromPointsNoRotate(
                      this.source.getPixelRatio(h),
                      !0
                    ).x * this._scaleSpring.current.value;
                if (h === l || (!d && g >= this.minPixelRatio))
                  (f = !0), (d = !0);
                else if (!d) continue;
                var m =
                  i.deltaPixelsFromPointsNoRotate(
                    this.source.getPixelRatio(h),
                    !1
                  ).x * this._scaleSpring.current.value,
                  v =
                    i.deltaPixelsFromPointsNoRotate(
                      this.source.getPixelRatio(
                        Math.max(this.source.getClosestLevel(), 0)
                      ),
                      !1
                    ).x * this._scaleSpring.current.value,
                  b = this.immediateRender ? 1 : v;
                if (
                  ((u = t(
                    this,
                    d,
                    f,
                    h,
                    Math.min(1, (g - 0.5) / 0.5),
                    b / Math.abs(b - m),
                    r,
                    p,
                    u
                  )),
                    o(this.coverage, h))
                )
                  break;
              }
              !(function (t, i) {
                if (
                  0 === t.opacity ||
                  (0 === i.length && !t.placeholderFillStyle)
                )
                  return;
                var n,
                  o,
                  r,
                  a = i[0];
                a &&
                  (n =
                    t.opacity < 1 ||
                    (t.compositeOperation &&
                      "source-over" !== t.compositeOperation) ||
                    (!t._isBottomItem() && a._hasTransparencyChannel()));
                var s,
                  l = t.viewport.getZoom(!0),
                  c = t.viewportToImageZoom(l);
                i.length > 1 &&
                  c > t.smoothTileEdgesMinZoom &&
                  !t.iOSDevice &&
                  t.getRotation(!0) % 360 == 0 &&
                  e.supportsCanvas &&
                  ((n = !0),
                    (o = a.getScaleForEdgeSmoothing()),
                    (r = a.getTranslationForEdgeSmoothing(
                      o,
                      t._drawer.getCanvasSize(!1),
                      t._drawer.getCanvasSize(!0)
                    )));
                n &&
                  (o ||
                    ((s = t.viewport
                      .viewportToViewerElementRectangle(t.getClippedBounds(!0))
                      .getIntegerBoundingBox()),
                      t._drawer.viewer.viewport.getFlip() &&
                      ((0 === t.viewport.degrees &&
                        t.getRotation(!0) % 360 == 0) ||
                        (s.x =
                          t._drawer.viewer.container.clientWidth -
                          (s.x + s.width))),
                      (s = s.times(e.pixelDensityRatio))),
                    t._drawer._clear(!0, s));
                o ||
                  (0 !== t.viewport.degrees &&
                    t._drawer._offsetForRotation({
                      degrees: t.viewport.degrees,
                      useSketch: n,
                    }),
                    t.getRotation(!0) % 360 != 0 &&
                    t._drawer._offsetForRotation({
                      degrees: t.getRotation(!0),
                      point: t.viewport.pixelFromPointNoRotate(
                        t._getRotationPoint(!0),
                        !0
                      ),
                      useSketch: n,
                    }),
                    0 === t.viewport.degrees &&
                    t.getRotation(!0) % 360 == 0 &&
                    t._drawer.viewer.viewport.getFlip() &&
                    t._drawer._flip());
                var u = !1;
                if (t._clip) {
                  t._drawer.saveContext(n);
                  var d = t.imageToViewportRectangle(t._clip, !0);
                  d = d.rotate(-t.getRotation(!0), t._getRotationPoint(!0));
                  var p = t._drawer.viewportToDrawerRectangle(d);
                  o && (p = p.times(o)),
                    r && (p = p.translate(r)),
                    t._drawer.setClip(p, n),
                    (u = !0);
                }
                if (t._croppingPolygons) {
                  t._drawer.saveContext(n);
                  try {
                    var h = t._croppingPolygons.map(function (e) {
                      return e.map(function (e) {
                        var i = t
                          .imageToViewportCoordinates(e.x, e.y, !0)
                          .rotate(
                            -t.getRotation(!0),
                            t._getRotationPoint(!0)
                          ),
                          n = t._drawer.viewportCoordToDrawerCoord(i);
                        return o && (n = n.times(o)), n;
                      });
                    });
                    t._drawer.clipWithPolygons(h, n);
                  } catch (t) {
                    e.console.error(t);
                  }
                  u = !0;
                }
                if (t.placeholderFillStyle && !1 === t._hasOpaqueTile) {
                  var f = t._drawer.viewportToDrawerRectangle(t.getBounds(!0));
                  o && (f = f.times(o)), r && (f = f.translate(r));
                  var g = null;
                  (g =
                    "function" == typeof t.placeholderFillStyle
                      ? t.placeholderFillStyle(t, t._drawer.context)
                      : t.placeholderFillStyle),
                    t._drawer.drawRectangle(f, g, n);
                }
                for (var m = i.length - 1; m >= 0; m--)
                  (a = i[m]),
                    t._drawer.drawTile(a, t._drawingHandler, n, o, r),
                    (a.beingDrawn = !0),
                    t.viewer &&
                    t.viewer.raiseEvent("tile-drawn", {
                      tiledImage: t,
                      tile: a,
                    });
                u && t._drawer.restoreContext(n);
                o ||
                  (t.getRotation(!0) % 360 != 0 &&
                    t._drawer._restoreRotationChanges(n),
                    0 !== t.viewport.degrees &&
                    t._drawer._restoreRotationChanges(n));
                n &&
                  (o &&
                    (0 !== t.viewport.degrees &&
                      t._drawer._offsetForRotation({
                        degrees: t.viewport.degrees,
                        useSketch: !1,
                      }),
                      t.getRotation(!0) % 360 != 0 &&
                      t._drawer._offsetForRotation({
                        degrees: t.getRotation(!0),
                        point: t.viewport.pixelFromPointNoRotate(
                          t._getRotationPoint(!0),
                          !0
                        ),
                        useSketch: !1,
                      })),
                    t._drawer.blendSketch({
                      opacity: t.opacity,
                      scale: o,
                      translate: r,
                      compositeOperation: t.compositeOperation,
                      bounds: s,
                    }),
                    o &&
                    (t.getRotation(!0) % 360 != 0 &&
                      t._drawer._restoreRotationChanges(!1),
                      0 !== t.viewport.degrees &&
                      t._drawer._restoreRotationChanges(!1)));
                o ||
                  (0 === t.viewport.degrees &&
                    t.getRotation(!0) % 360 == 0 &&
                    t._drawer.viewer.viewport.getFlip() &&
                    t._drawer._flip());
                !(function (t, i) {
                  if (t.debugMode)
                    for (var n = i.length - 1; n >= 0; n--) {
                      var o = i[n];
                      try {
                        t._drawer.drawDebugInfo(o, i.length, n, t);
                      } catch (t) {
                        e.console.error(t);
                      }
                    }
                })(t, i);
              })(this, this.lastDrawn),
                u && !u.context2D
                  ? (!(function (t, i, o) {
                    (i.loading = !0),
                      t._imageLoader.addJob({
                        src: i.url,
                        loadWithAjax: i.loadWithAjax,
                        ajaxHeaders: i.ajaxHeaders,
                        crossOriginPolicy: t.crossOriginPolicy,
                        ajaxWithCredentials: t.ajaxWithCredentials,
                        callback: function (r, a, s) {
                          !(function (t, i, o, r, a, s) {
                            if (!r)
                              return (
                                e.console.log(
                                  "Tile %s failed to load: %s - error: %s",
                                  i,
                                  i.url,
                                  a
                                ),
                                t.viewer.raiseEvent("tile-load-failed", {
                                  tile: i,
                                  tiledImage: t,
                                  time: o,
                                  message: a,
                                  tileRequest: s,
                                }),
                                (i.loading = !1),
                                void (i.exists = !1)
                              );
                            if (o < t.lastResetTime)
                              return (
                                e.console.log(
                                  "Ignoring tile %s loaded before reset: %s",
                                  i,
                                  i.url
                                ),
                                void (i.loading = !1)
                              );
                            var l = function () {
                              var e = t.source.getClosestLevel();
                              n(t, i, r, e, s);
                            };
                            t._midDraw ? window.setTimeout(l, 1) : l();
                          })(t, i, o, r, a, s);
                        },
                        abort: function () {
                          i.loading = !1;
                        },
                      });
                  })(this, u, p),
                    (this._needsDraw = !0),
                    this._setFullyLoaded(!1))
                  : this._setFullyLoaded(0 === this._tilesLoading);
            },
            _getCornerTiles: function (t, i, n) {
              var o, r, a, s;
              this.wrapHorizontal
                ? ((o = e.positiveModulo(i.x, 1)),
                  (r = e.positiveModulo(n.x, 1)))
                : ((o = Math.max(0, i.x)), (r = Math.min(1, n.x)));
              var l = 1 / this.source.aspectRatio;
              this.wrapVertical
                ? ((a = e.positiveModulo(i.y, l)),
                  (s = e.positiveModulo(n.y, l)))
                : ((a = Math.max(0, i.y)), (s = Math.min(l, n.y)));
              var c = this.source.getTileAtPoint(t, new e.Point(o, a)),
                u = this.source.getTileAtPoint(t, new e.Point(r, s)),
                d = this.source.getNumTiles(t);
              return (
                this.wrapHorizontal &&
                ((c.x += d.x * Math.floor(i.x)),
                  (u.x += d.x * Math.floor(n.x))),
                this.wrapVertical &&
                ((c.y += d.y * Math.floor(i.y / l)),
                  (u.y += d.y * Math.floor(n.y / l))),
                { topLeft: c, bottomRight: u }
              );
            },
          });
      })(OpenSeadragon),
      (function (e) {
        var t = function (t) {
          e.console.assert(t, "[TileCache.cacheTile] options is required"),
            e.console.assert(
              t.tile,
              "[TileCache.cacheTile] options.tile is required"
            ),
            e.console.assert(
              t.tiledImage,
              "[TileCache.cacheTile] options.tiledImage is required"
            ),
            (this.tile = t.tile),
            (this.tiledImage = t.tiledImage);
        },
          i = function (t) {
            e.console.assert(t, "[ImageRecord] options is required"),
              e.console.assert(
                t.image,
                "[ImageRecord] options.image is required"
              ),
              (this._image = t.image),
              (this._tiles = []);
          };
        (i.prototype = {
          destroy: function () {
            (this._image = null),
              (this._renderedContext = null),
              (this._tiles = null);
          },
          getImage: function () {
            return this._image;
          },
          getRenderedContext: function () {
            if (!this._renderedContext) {
              var e = document.createElement("canvas");
              (e.width = this._image.width),
                (e.height = this._image.height),
                (this._renderedContext = e.getContext("2d")),
                this._renderedContext.drawImage(this._image, 0, 0),
                (this._image = null);
            }
            return this._renderedContext;
          },
          setRenderedContext: function (t) {
            e.console.error(
              "ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."
            ),
              (this._renderedContext = t);
          },
          addTile: function (t) {
            e.console.assert(t, "[ImageRecord.addTile] tile is required"),
              this._tiles.push(t);
          },
          removeTile: function (t) {
            for (var i = 0; i < this._tiles.length; i++)
              if (this._tiles[i] === t) return void this._tiles.splice(i, 1);
            e.console.warn(
              "[ImageRecord.removeTile] trying to remove unknown tile",
              t
            );
          },
          getTileCount: function () {
            return this._tiles.length;
          },
        }),
          (e.TileCache = function (t) {
            (t = t || {}),
              (this._maxImageCacheCount =
                t.maxImageCacheCount || e.DEFAULT_SETTINGS.maxImageCacheCount),
              (this._tilesLoaded = []),
              (this._imagesLoaded = []),
              (this._imagesLoadedCount = 0);
          }),
          (e.TileCache.prototype = {
            numTilesLoaded: function () {
              return this._tilesLoaded.length;
            },
            cacheTile: function (n) {
              e.console.assert(n, "[TileCache.cacheTile] options is required"),
                e.console.assert(
                  n.tile,
                  "[TileCache.cacheTile] options.tile is required"
                ),
                e.console.assert(
                  n.tile.cacheKey,
                  "[TileCache.cacheTile] options.tile.cacheKey is required"
                ),
                e.console.assert(
                  n.tiledImage,
                  "[TileCache.cacheTile] options.tiledImage is required"
                );
              var o = n.cutoff || 0,
                r = this._tilesLoaded.length,
                a = this._imagesLoaded[n.tile.cacheKey];
              if (
                (a ||
                  (e.console.assert(
                    n.image,
                    "[TileCache.cacheTile] options.image is required to create an ImageRecord"
                  ),
                    (a = this._imagesLoaded[n.tile.cacheKey] =
                      new i({ image: n.image })),
                    this._imagesLoadedCount++),
                  a.addTile(n.tile),
                  (n.tile.cacheImageRecord = a),
                  this._imagesLoadedCount > this._maxImageCacheCount)
              ) {
                for (
                  var s,
                  l,
                  c,
                  u,
                  d,
                  p,
                  h = null,
                  f = -1,
                  g = null,
                  m = this._tilesLoaded.length - 1;
                  m >= 0;
                  m--
                )
                  (s = (p = this._tilesLoaded[m]).tile).level <= o ||
                    s.beingDrawn ||
                    (h
                      ? ((u = s.lastTouchTime),
                        (l = h.lastTouchTime),
                        (d = s.level),
                        (c = h.level),
                        (u < l || (u == l && d > c)) &&
                        ((h = s), (f = m), (g = p)))
                      : ((h = s), (f = m), (g = p)));
                h && f >= 0 && (this._unloadTile(g), (r = f));
              }
              this._tilesLoaded[r] = new t({
                tile: n.tile,
                tiledImage: n.tiledImage,
              });
            },
            clearTilesFor: function (t) {
              var i;
              e.console.assert(
                t,
                "[TileCache.clearTilesFor] tiledImage is required"
              );
              for (var n = 0; n < this._tilesLoaded.length; ++n)
                (i = this._tilesLoaded[n]).tiledImage === t &&
                  (this._unloadTile(i), this._tilesLoaded.splice(n, 1), n--);
            },
            getImageRecord: function (t) {
              return (
                e.console.assert(
                  t,
                  "[TileCache.getImageRecord] cacheKey is required"
                ),
                this._imagesLoaded[t]
              );
            },
            _unloadTile: function (t) {
              e.console.assert(
                t,
                "[TileCache._unloadTile] tileRecord is required"
              );
              var i = t.tile,
                n = t.tiledImage;
              i.unload(), (i.cacheImageRecord = null);
              var o = this._imagesLoaded[i.cacheKey];
              o.removeTile(i),
                o.getTileCount() ||
                (o.destroy(),
                  delete this._imagesLoaded[i.cacheKey],
                  this._imagesLoadedCount--),
                n.viewer.raiseEvent("tile-unloaded", {
                  tile: i,
                  tiledImage: n,
                });
            },
          });
      })(OpenSeadragon),
      (function (e) {
        (e.World = function (t) {
          var i = this;
          e.console.assert(t.viewer, "[World] options.viewer is required"),
            e.EventSource.call(this),
            (this.viewer = t.viewer),
            (this._items = []),
            (this._needsDraw = !1),
            (this._autoRefigureSizes = !0),
            (this._needsSizesFigured = !1),
            (this._delegatedFigureSizes = function (e) {
              i._autoRefigureSizes
                ? i._figureSizes()
                : (i._needsSizesFigured = !0);
            }),
            this._figureSizes();
        }),
          e.extend(e.World.prototype, e.EventSource.prototype, {
            addItem: function (t, i) {
              if (
                (e.console.assert(t, "[World.addItem] item is required"),
                  e.console.assert(
                    t instanceof e.TiledImage,
                    "[World.addItem] only TiledImages supported at this time"
                  ),
                  void 0 !== (i = i || {}).index)
              ) {
                var n = Math.max(0, Math.min(this._items.length, i.index));
                this._items.splice(n, 0, t);
              } else this._items.push(t);
              this._autoRefigureSizes
                ? this._figureSizes()
                : (this._needsSizesFigured = !0),
                (this._needsDraw = !0),
                t.addHandler("bounds-change", this._delegatedFigureSizes),
                t.addHandler("clip-change", this._delegatedFigureSizes),
                this.raiseEvent("add-item", { item: t });
            },
            getItemAt: function (t) {
              return (
                e.console.assert(
                  void 0 !== t,
                  "[World.getItemAt] index is required"
                ),
                this._items[t]
              );
            },
            getIndexOfItem: function (t) {
              return (
                e.console.assert(t, "[World.getIndexOfItem] item is required"),
                e.indexOf(this._items, t)
              );
            },
            getItemCount: function () {
              return this._items.length;
            },
            setItemIndex: function (t, i) {
              e.console.assert(t, "[World.setItemIndex] item is required"),
                e.console.assert(
                  void 0 !== i,
                  "[World.setItemIndex] index is required"
                );
              var n = this.getIndexOfItem(t);
              if (i >= this._items.length)
                throw new Error("Index bigger than number of layers.");
              i !== n &&
                -1 !== n &&
                (this._items.splice(n, 1),
                  this._items.splice(i, 0, t),
                  (this._needsDraw = !0),
                  this.raiseEvent("item-index-change", {
                    item: t,
                    previousIndex: n,
                    newIndex: i,
                  }));
            },
            removeItem: function (t) {
              e.console.assert(t, "[World.removeItem] item is required");
              var i = e.indexOf(this._items, t);
              -1 !== i &&
                (t.removeHandler("bounds-change", this._delegatedFigureSizes),
                  t.removeHandler("clip-change", this._delegatedFigureSizes),
                  t.destroy(),
                  this._items.splice(i, 1),
                  this._figureSizes(),
                  (this._needsDraw = !0),
                  this._raiseRemoveItem(t));
            },
            removeAll: function () {
              var e, t;
              for (
                this.viewer._cancelPendingImages(), t = 0;
                t < this._items.length;
                t++
              )
                (e = this._items[t]).removeHandler(
                  "bounds-change",
                  this._delegatedFigureSizes
                ),
                  e.removeHandler("clip-change", this._delegatedFigureSizes),
                  e.destroy();
              var i = this._items;
              for (
                this._items = [],
                this._figureSizes(),
                this._needsDraw = !0,
                t = 0;
                t < i.length;
                t++
              )
                (e = i[t]), this._raiseRemoveItem(e);
            },
            resetItems: function () {
              for (var e = 0; e < this._items.length; e++)
                this._items[e].reset();
            },
            update: function () {
              for (var e = !1, t = 0; t < this._items.length; t++)
                e = this._items[t].update() || e;
              return e;
            },
            draw: function () {
              for (var e = 0; e < this._items.length; e++)
                this._items[e].draw();
              this._needsDraw = !1;
            },
            needsDraw: function () {
              for (var e = 0; e < this._items.length; e++)
                if (this._items[e].needsDraw()) return !0;
              return this._needsDraw;
            },
            getHomeBounds: function () {
              return this._homeBounds.clone();
            },
            getContentFactor: function () {
              return this._contentFactor;
            },
            setAutoRefigureSizes: function (e) {
              (this._autoRefigureSizes = e),
                e & this._needsSizesFigured &&
                (this._figureSizes(), (this._needsSizesFigured = !1));
            },
            arrange: function (t) {
              var i,
                n = (t = t || {}).immediately || !1,
                o = t.layout || e.DEFAULT_SETTINGS.collectionLayout,
                r = t.rows || e.DEFAULT_SETTINGS.collectionRows,
                a = t.columns || e.DEFAULT_SETTINGS.collectionColumns,
                s = t.tileSize || e.DEFAULT_SETTINGS.collectionTileSize,
                l =
                  s + (t.tileMargin || e.DEFAULT_SETTINGS.collectionTileMargin);
              i = !t.rows && a ? a : Math.ceil(this._items.length / r);
              var c,
                u,
                d,
                p,
                h,
                f = 0,
                g = 0;
              this.setAutoRefigureSizes(!1);
              for (var m = 0; m < this._items.length; m++)
                m &&
                  m % i == 0 &&
                  ("horizontal" === o
                    ? ((g += l), (f = 0))
                    : ((f += l), (g = 0))),
                  (p =
                    (d =
                      (u = (c = this._items[m]).getBounds()).width > u.height
                        ? s
                        : s * (u.width / u.height)) *
                    (u.height / u.width)),
                  (h = new e.Point(f + (s - d) / 2, g + (s - p) / 2)),
                  c.setPosition(h, n),
                  c.setWidth(d, n),
                  "horizontal" === o ? (f += l) : (g += l);
              this.setAutoRefigureSizes(!0);
            },
            _figureSizes: function () {
              var t = this._homeBounds ? this._homeBounds.clone() : null,
                i = this._contentSize ? this._contentSize.clone() : null,
                n = this._contentFactor || 0;
              if (this._items.length) {
                var o = this._items[0],
                  r = o.getBounds();
                this._contentFactor = o.getContentSize().x / r.width;
                for (
                  var a = o.getClippedBounds().getBoundingBox(),
                  s = a.x,
                  l = a.y,
                  c = a.x + a.width,
                  u = a.y + a.height,
                  d = 1;
                  d < this._items.length;
                  d++
                )
                  (r = (o = this._items[d]).getBounds()),
                    (this._contentFactor = Math.max(
                      this._contentFactor,
                      o.getContentSize().x / r.width
                    )),
                    (a = o.getClippedBounds().getBoundingBox()),
                    (s = Math.min(s, a.x)),
                    (l = Math.min(l, a.y)),
                    (c = Math.max(c, a.x + a.width)),
                    (u = Math.max(u, a.y + a.height));
                (this._homeBounds = new e.Rect(s, l, c - s, u - l)),
                  (this._contentSize = new e.Point(
                    this._homeBounds.width * this._contentFactor,
                    this._homeBounds.height * this._contentFactor
                  ));
              } else
                (this._homeBounds = new e.Rect(0, 0, 1, 1)),
                  (this._contentSize = new e.Point(1, 1)),
                  (this._contentFactor = 1);
              (this._contentFactor === n &&
                this._homeBounds.equals(t) &&
                this._contentSize.equals(i)) ||
                this.raiseEvent("metrics-change", {});
            },
            _raiseRemoveItem: function (e) {
              this.raiseEvent("remove-item", { item: e });
            },
          });
      })(OpenSeadragon);
  },
  function (e, t, i) {
    var n, o;
    /**
     * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.8
     * Copyright (C) 2019 Oliver Nightingale
     * @license MIT
     */ !(function () {
      var r,
        a,
        s,
        l,
        c,
        u,
        d,
        p,
        h,
        f,
        g,
        m,
        v,
        b,
        y,
        x,
        w,
        _,
        A,
        E,
        S,
        T,
        C,
        k,
        L,
        D,
        I = function (e) {
          var t = new I.Builder();
          return (
            t.pipeline.add(I.trimmer, I.stopWordFilter, I.stemmer),
            t.searchPipeline.add(I.stemmer),
            e.call(t, t),
            t.build()
          );
        };
      (I.version = "2.3.8"),
        /*!
         * lunr.utils
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.utils = {}),
        (I.utils.warn =
          ((r = this),
            function (e) {
              r.console && console.warn && console.warn(e);
            })),
        (I.utils.asString = function (e) {
          return null == e ? "" : e.toString();
        }),
        (I.utils.clone = function (e) {
          if (null == e) return e;
          for (
            var t = Object.create(null), i = Object.keys(e), n = 0;
            n < i.length;
            n++
          ) {
            var o = i[n],
              r = e[o];
            if (Array.isArray(r)) t[o] = r.slice();
            else {
              if (
                "string" != typeof r &&
                "number" != typeof r &&
                "boolean" != typeof r
              )
                throw new TypeError(
                  "clone is not deep and does not support nested objects"
                );
              t[o] = r;
            }
          }
          return t;
        }),
        (I.FieldRef = function (e, t, i) {
          (this.docRef = e), (this.fieldName = t), (this._stringValue = i);
        }),
        (I.FieldRef.joiner = "/"),
        (I.FieldRef.fromString = function (e) {
          var t = e.indexOf(I.FieldRef.joiner);
          if (-1 === t) throw "malformed field ref string";
          var i = e.slice(0, t),
            n = e.slice(t + 1);
          return new I.FieldRef(n, i, e);
        }),
        (I.FieldRef.prototype.toString = function () {
          return (
            null == this._stringValue &&
            (this._stringValue =
              this.fieldName + I.FieldRef.joiner + this.docRef),
            this._stringValue
          );
        }),
        /*!
         * lunr.Set
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.Set = function (e) {
          if (((this.elements = Object.create(null)), e)) {
            this.length = e.length;
            for (var t = 0; t < this.length; t++) this.elements[e[t]] = !0;
          } else this.length = 0;
        }),
        (I.Set.complete = {
          intersect: function (e) {
            return e;
          },
          union: function (e) {
            return e;
          },
          contains: function () {
            return !0;
          },
        }),
        (I.Set.empty = {
          intersect: function () {
            return this;
          },
          union: function (e) {
            return e;
          },
          contains: function () {
            return !1;
          },
        }),
        (I.Set.prototype.contains = function (e) {
          return !!this.elements[e];
        }),
        (I.Set.prototype.intersect = function (e) {
          var t,
            i,
            n,
            o = [];
          if (e === I.Set.complete) return this;
          if (e === I.Set.empty) return e;
          this.length < e.length
            ? ((t = this), (i = e))
            : ((t = e), (i = this)),
            (n = Object.keys(t.elements));
          for (var r = 0; r < n.length; r++) {
            var a = n[r];
            a in i.elements && o.push(a);
          }
          return new I.Set(o);
        }),
        (I.Set.prototype.union = function (e) {
          return e === I.Set.complete
            ? I.Set.complete
            : e === I.Set.empty
              ? this
              : new I.Set(
                Object.keys(this.elements).concat(Object.keys(e.elements))
              );
        }),
        (I.idf = function (e, t) {
          var i = 0;
          for (var n in e) "_index" != n && (i += Object.keys(e[n]).length);
          var o = (t - i + 0.5) / (i + 0.5);
          return Math.log(1 + Math.abs(o));
        }),
        (I.Token = function (e, t) {
          (this.str = e || ""), (this.metadata = t || {});
        }),
        (I.Token.prototype.toString = function () {
          return this.str;
        }),
        (I.Token.prototype.update = function (e) {
          return (this.str = e(this.str, this.metadata)), this;
        }),
        (I.Token.prototype.clone = function (e) {
          return (
            (e =
              e ||
              function (e) {
                return e;
              }),
            new I.Token(e(this.str, this.metadata), this.metadata)
          );
        }),
        /*!
         * lunr.tokenizer
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.tokenizer = function (e, t) {
          if (null == e || null == e) return [];
          if (Array.isArray(e))
            return e.map(function (e) {
              return new I.Token(
                I.utils.asString(e).toLowerCase(),
                I.utils.clone(t)
              );
            });
          for (
            var i = e.toString().toLowerCase(),
            n = i.length,
            o = [],
            r = 0,
            a = 0;
            r <= n;
            r++
          ) {
            var s = r - a;
            if (i.charAt(r).match(I.tokenizer.separator) || r == n) {
              if (s > 0) {
                var l = I.utils.clone(t) || {};
                (l.position = [a, s]),
                  (l.index = o.length),
                  o.push(new I.Token(i.slice(a, r), l));
              }
              a = r + 1;
            }
          }
          return o;
        }),
        (I.tokenizer.separator = /[\s\-]+/),
        /*!
         * lunr.Pipeline
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.Pipeline = function () {
          this._stack = [];
        }),
        (I.Pipeline.registeredFunctions = Object.create(null)),
        (I.Pipeline.registerFunction = function (e, t) {
          t in this.registeredFunctions &&
            I.utils.warn("Overwriting existing registered function: " + t),
            (e.label = t),
            (I.Pipeline.registeredFunctions[e.label] = e);
        }),
        (I.Pipeline.warnIfFunctionNotRegistered = function (e) {
          (e.label && e.label in this.registeredFunctions) ||
            I.utils.warn(
              "Function is not registered with pipeline. This may cause problems when serialising the index.\n",
              e
            );
        }),
        (I.Pipeline.load = function (e) {
          var t = new I.Pipeline();
          return (
            e.forEach(function (e) {
              var i = I.Pipeline.registeredFunctions[e];
              if (!i)
                throw new Error("Cannot load unregistered function: " + e);
              t.add(i);
            }),
            t
          );
        }),
        (I.Pipeline.prototype.add = function () {
          var e = Array.prototype.slice.call(arguments);
          e.forEach(function (e) {
            I.Pipeline.warnIfFunctionNotRegistered(e), this._stack.push(e);
          }, this);
        }),
        (I.Pipeline.prototype.after = function (e, t) {
          I.Pipeline.warnIfFunctionNotRegistered(t);
          var i = this._stack.indexOf(e);
          if (-1 == i) throw new Error("Cannot find existingFn");
          (i += 1), this._stack.splice(i, 0, t);
        }),
        (I.Pipeline.prototype.before = function (e, t) {
          I.Pipeline.warnIfFunctionNotRegistered(t);
          var i = this._stack.indexOf(e);
          if (-1 == i) throw new Error("Cannot find existingFn");
          this._stack.splice(i, 0, t);
        }),
        (I.Pipeline.prototype.remove = function (e) {
          var t = this._stack.indexOf(e);
          -1 != t && this._stack.splice(t, 1);
        }),
        (I.Pipeline.prototype.run = function (e) {
          for (var t = this._stack.length, i = 0; i < t; i++) {
            for (var n = this._stack[i], o = [], r = 0; r < e.length; r++) {
              var a = n(e[r], r, e);
              if (null != a && "" !== a)
                if (Array.isArray(a))
                  for (var s = 0; s < a.length; s++) o.push(a[s]);
                else o.push(a);
            }
            e = o;
          }
          return e;
        }),
        (I.Pipeline.prototype.runString = function (e, t) {
          var i = new I.Token(e, t);
          return this.run([i]).map(function (e) {
            return e.toString();
          });
        }),
        (I.Pipeline.prototype.reset = function () {
          this._stack = [];
        }),
        (I.Pipeline.prototype.toJSON = function () {
          return this._stack.map(function (e) {
            return I.Pipeline.warnIfFunctionNotRegistered(e), e.label;
          });
        }),
        /*!
         * lunr.Vector
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.Vector = function (e) {
          (this._magnitude = 0), (this.elements = e || []);
        }),
        (I.Vector.prototype.positionForIndex = function (e) {
          if (0 == this.elements.length) return 0;
          for (
            var t = 0,
            i = this.elements.length / 2,
            n = i - t,
            o = Math.floor(n / 2),
            r = this.elements[2 * o];
            n > 1 && (r < e && (t = o), r > e && (i = o), r != e);

          )
            (n = i - t),
              (o = t + Math.floor(n / 2)),
              (r = this.elements[2 * o]);
          return r == e || r > e ? 2 * o : r < e ? 2 * (o + 1) : void 0;
        }),
        (I.Vector.prototype.insert = function (e, t) {
          this.upsert(e, t, function () {
            throw "duplicate index";
          });
        }),
        (I.Vector.prototype.upsert = function (e, t, i) {
          this._magnitude = 0;
          var n = this.positionForIndex(e);
          this.elements[n] == e
            ? (this.elements[n + 1] = i(this.elements[n + 1], t))
            : this.elements.splice(n, 0, e, t);
        }),
        (I.Vector.prototype.magnitude = function () {
          if (this._magnitude) return this._magnitude;
          for (var e = 0, t = this.elements.length, i = 1; i < t; i += 2) {
            var n = this.elements[i];
            e += n * n;
          }
          return (this._magnitude = Math.sqrt(e));
        }),
        (I.Vector.prototype.dot = function (e) {
          for (
            var t = 0,
            i = this.elements,
            n = e.elements,
            o = i.length,
            r = n.length,
            a = 0,
            s = 0,
            l = 0,
            c = 0;
            l < o && c < r;

          )
            (a = i[l]) < (s = n[c])
              ? (l += 2)
              : a > s
                ? (c += 2)
                : a == s && ((t += i[l + 1] * n[c + 1]), (l += 2), (c += 2));
          return t;
        }),
        (I.Vector.prototype.similarity = function (e) {
          return this.dot(e) / this.magnitude() || 0;
        }),
        (I.Vector.prototype.toArray = function () {
          for (
            var e = new Array(this.elements.length / 2), t = 1, i = 0;
            t < this.elements.length;
            t += 2, i++
          )
            e[i] = this.elements[t];
          return e;
        }),
        (I.Vector.prototype.toJSON = function () {
          return this.elements;
        }),
        /*!
         * lunr.stemmer
         * Copyright (C) 2019 Oliver Nightingale
         * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
         */ (I.stemmer =
          ((a = {
            ational: "ate",
            tional: "tion",
            enci: "ence",
            anci: "ance",
            izer: "ize",
            bli: "ble",
            alli: "al",
            entli: "ent",
            eli: "e",
            ousli: "ous",
            ization: "ize",
            ation: "ate",
            ator: "ate",
            alism: "al",
            iveness: "ive",
            fulness: "ful",
            ousness: "ous",
            aliti: "al",
            iviti: "ive",
            biliti: "ble",
            logi: "log",
          }),
            (s = {
              icate: "ic",
              ative: "",
              alize: "al",
              iciti: "ic",
              ical: "ic",
              ful: "",
              ness: "",
            }),
            (l = "[aeiouy]"),
            (c = "[^aeiou][^aeiouy]*"),
            (u = new RegExp(
              "^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"
            )),
            (d = new RegExp(
              "^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"
            )),
            (p = new RegExp(
              "^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"
            )),
            (h = new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]")),
            (f = /^(.+?)(ss|i)es$/),
            (g = /^(.+?)([^s])s$/),
            (m = /^(.+?)eed$/),
            (v = /^(.+?)(ed|ing)$/),
            (b = /.$/),
            (y = /(at|bl|iz)$/),
            (x = new RegExp("([^aeiouylsz])\\1$")),
            (w = new RegExp("^" + c + l + "[^aeiouwxy]$")),
            (_ = /^(.+?[^aeiou])y$/),
            (A =
              /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/),
            (E = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/),
            (S =
              /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/),
            (T = /^(.+?)(s|t)(ion)$/),
            (C = /^(.+?)e$/),
            (k = /ll$/),
            (L = new RegExp("^" + c + l + "[^aeiouwxy]$")),
            (D = function (e) {
              var t, i, n, o, r, l, c;
              if (e.length < 3) return e;
              if (
                ("y" == (n = e.substr(0, 1)) &&
                  (e = n.toUpperCase() + e.substr(1)),
                  (r = g),
                  (o = f).test(e)
                    ? (e = e.replace(o, "$1$2"))
                    : r.test(e) && (e = e.replace(r, "$1$2")),
                  (r = v),
                  (o = m).test(e))
              ) {
                var D = o.exec(e);
                (o = u).test(D[1]) && ((o = b), (e = e.replace(o, "")));
              } else
                r.test(e) &&
                  ((t = (D = r.exec(e))[1]),
                    (r = h).test(t) &&
                    ((l = x),
                      (c = w),
                      (r = y).test((e = t))
                        ? (e += "e")
                        : l.test(e)
                          ? ((o = b), (e = e.replace(o, "")))
                          : c.test(e) && (e += "e")));
              return (
                (o = _).test(e) && (e = (t = (D = o.exec(e))[1]) + "i"),
                (o = A).test(e) &&
                ((t = (D = o.exec(e))[1]),
                  (i = D[2]),
                  (o = u).test(t) && (e = t + a[i])),
                (o = E).test(e) &&
                ((t = (D = o.exec(e))[1]),
                  (i = D[2]),
                  (o = u).test(t) && (e = t + s[i])),
                (r = T),
                (o = S).test(e)
                  ? ((t = (D = o.exec(e))[1]), (o = d).test(t) && (e = t))
                  : r.test(e) &&
                  ((t = (D = r.exec(e))[1] + D[2]), (r = d).test(t) && (e = t)),
                (o = C).test(e) &&
                ((t = (D = o.exec(e))[1]),
                  (r = p),
                  (l = L),
                  ((o = d).test(t) || (r.test(t) && !l.test(t))) && (e = t)),
                (r = d),
                (o = k).test(e) && r.test(e) && ((o = b), (e = e.replace(o, ""))),
                "y" == n && (e = n.toLowerCase() + e.substr(1)),
                e
              );
            }),
            function (e) {
              return e.update(D);
            })),
        I.Pipeline.registerFunction(I.stemmer, "stemmer"),
        /*!
         * lunr.stopWordFilter
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.generateStopWordFilter = function (e) {
          var t = e.reduce(function (e, t) {
            return (e[t] = t), e;
          }, {});
          return function (e) {
            if (e && t[e.toString()] !== e.toString()) return e;
          };
        }),
        (I.stopWordFilter = I.generateStopWordFilter([
          "a",
          "able",
          "about",
          "across",
          "after",
          "all",
          "almost",
          "also",
          "am",
          "among",
          "an",
          "and",
          "any",
          "are",
          "as",
          "at",
          "be",
          "because",
          "been",
          "but",
          "by",
          "can",
          "cannot",
          "could",
          "dear",
          "did",
          "do",
          "does",
          "either",
          "else",
          "ever",
          "every",
          "for",
          "from",
          "get",
          "got",
          "had",
          "has",
          "have",
          "he",
          "her",
          "hers",
          "him",
          "his",
          "how",
          "however",
          "i",
          "if",
          "in",
          "into",
          "is",
          "it",
          "its",
          "just",
          "least",
          "let",
          "like",
          "likely",
          "may",
          "me",
          "might",
          "most",
          "must",
          "my",
          "neither",
          "no",
          "nor",
          "not",
          "of",
          "off",
          "often",
          "on",
          "only",
          "or",
          "other",
          "our",
          "own",
          "rather",
          "said",
          "say",
          "says",
          "she",
          "should",
          "since",
          "so",
          "some",
          "than",
          "that",
          "the",
          "their",
          "them",
          "then",
          "there",
          "these",
          "they",
          "this",
          "tis",
          "to",
          "too",
          "twas",
          "us",
          "wants",
          "was",
          "we",
          "were",
          "what",
          "when",
          "where",
          "which",
          "while",
          "who",
          "whom",
          "why",
          "will",
          "with",
          "would",
          "yet",
          "you",
          "your",
        ])),
        I.Pipeline.registerFunction(I.stopWordFilter, "stopWordFilter"),
        /*!
         * lunr.trimmer
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.trimmer = function (e) {
          return e.update(function (e) {
            return e.replace(/^\W+/, "").replace(/\W+$/, "");
          });
        }),
        I.Pipeline.registerFunction(I.trimmer, "trimmer"),
        /*!
         * lunr.TokenSet
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.TokenSet = function () {
          (this.final = !1),
            (this.edges = {}),
            (this.id = I.TokenSet._nextId),
            (I.TokenSet._nextId += 1);
        }),
        (I.TokenSet._nextId = 1),
        (I.TokenSet.fromArray = function (e) {
          for (
            var t = new I.TokenSet.Builder(), i = 0, n = e.length;
            i < n;
            i++
          )
            t.insert(e[i]);
          return t.finish(), t.root;
        }),
        (I.TokenSet.fromClause = function (e) {
          return "editDistance" in e
            ? I.TokenSet.fromFuzzyString(e.term, e.editDistance)
            : I.TokenSet.fromString(e.term);
        }),
        (I.TokenSet.fromFuzzyString = function (e, t) {
          for (
            var i = new I.TokenSet(),
            n = [{ node: i, editsRemaining: t, str: e }];
            n.length;

          ) {
            var o = n.pop();
            if (o.str.length > 0) {
              var r,
                a = o.str.charAt(0);
              a in o.node.edges
                ? (r = o.node.edges[a])
                : ((r = new I.TokenSet()), (o.node.edges[a] = r)),
                1 == o.str.length && (r.final = !0),
                n.push({
                  node: r,
                  editsRemaining: o.editsRemaining,
                  str: o.str.slice(1),
                });
            }
            if (0 != o.editsRemaining) {
              if ("*" in o.node.edges) var s = o.node.edges["*"];
              else {
                s = new I.TokenSet();
                o.node.edges["*"] = s;
              }
              if (
                (0 == o.str.length && (s.final = !0),
                  n.push({
                    node: s,
                    editsRemaining: o.editsRemaining - 1,
                    str: o.str,
                  }),
                  o.str.length > 1 &&
                  n.push({
                    node: o.node,
                    editsRemaining: o.editsRemaining - 1,
                    str: o.str.slice(1),
                  }),
                  1 == o.str.length && (o.node.final = !0),
                  o.str.length >= 1)
              ) {
                if ("*" in o.node.edges) var l = o.node.edges["*"];
                else {
                  l = new I.TokenSet();
                  o.node.edges["*"] = l;
                }
                1 == o.str.length && (l.final = !0),
                  n.push({
                    node: l,
                    editsRemaining: o.editsRemaining - 1,
                    str: o.str.slice(1),
                  });
              }
              if (o.str.length > 1) {
                var c,
                  u = o.str.charAt(0),
                  d = o.str.charAt(1);
                d in o.node.edges
                  ? (c = o.node.edges[d])
                  : ((c = new I.TokenSet()), (o.node.edges[d] = c)),
                  1 == o.str.length && (c.final = !0),
                  n.push({
                    node: c,
                    editsRemaining: o.editsRemaining - 1,
                    str: u + o.str.slice(2),
                  });
              }
            }
          }
          return i;
        }),
        (I.TokenSet.fromString = function (e) {
          for (
            var t = new I.TokenSet(), i = t, n = 0, o = e.length;
            n < o;
            n++
          ) {
            var r = e[n],
              a = n == o - 1;
            if ("*" == r) (t.edges[r] = t), (t.final = a);
            else {
              var s = new I.TokenSet();
              (s.final = a), (t.edges[r] = s), (t = s);
            }
          }
          return i;
        }),
        (I.TokenSet.prototype.toArray = function () {
          for (var e = [], t = [{ prefix: "", node: this }]; t.length;) {
            var i = t.pop(),
              n = Object.keys(i.node.edges),
              o = n.length;
            i.node.final && (i.prefix.charAt(0), e.push(i.prefix));
            for (var r = 0; r < o; r++) {
              var a = n[r];
              t.push({ prefix: i.prefix.concat(a), node: i.node.edges[a] });
            }
          }
          return e;
        }),
        (I.TokenSet.prototype.toString = function () {
          if (this._str) return this._str;
          for (
            var e = this.final ? "1" : "0",
            t = Object.keys(this.edges).sort(),
            i = t.length,
            n = 0;
            n < i;
            n++
          ) {
            var o = t[n];
            e = e + o + this.edges[o].id;
          }
          return e;
        }),
        (I.TokenSet.prototype.intersect = function (e) {
          for (
            var t = new I.TokenSet(),
            i = void 0,
            n = [{ qNode: e, output: t, node: this }];
            n.length;

          ) {
            i = n.pop();
            for (
              var o = Object.keys(i.qNode.edges),
              r = o.length,
              a = Object.keys(i.node.edges),
              s = a.length,
              l = 0;
              l < r;
              l++
            )
              for (var c = o[l], u = 0; u < s; u++) {
                var d = a[u];
                if (d == c || "*" == c) {
                  var p = i.node.edges[d],
                    h = i.qNode.edges[c],
                    f = p.final && h.final,
                    g = void 0;
                  d in i.output.edges
                    ? ((g = i.output.edges[d]).final = g.final || f)
                    : (((g = new I.TokenSet()).final = f),
                      (i.output.edges[d] = g)),
                    n.push({ qNode: h, output: g, node: p });
                }
              }
          }
          return t;
        }),
        (I.TokenSet.Builder = function () {
          (this.previousWord = ""),
            (this.root = new I.TokenSet()),
            (this.uncheckedNodes = []),
            (this.minimizedNodes = {});
        }),
        (I.TokenSet.Builder.prototype.insert = function (e) {
          var t,
            i = 0;
          if (e < this.previousWord)
            throw new Error("Out of order word insertion");
          for (
            var n = 0;
            n < e.length &&
            n < this.previousWord.length &&
            e[n] == this.previousWord[n];
            n++
          )
            i++;
          this.minimize(i),
            (t =
              0 == this.uncheckedNodes.length
                ? this.root
                : this.uncheckedNodes[this.uncheckedNodes.length - 1].child);
          for (n = i; n < e.length; n++) {
            var o = new I.TokenSet(),
              r = e[n];
            (t.edges[r] = o),
              this.uncheckedNodes.push({ parent: t, char: r, child: o }),
              (t = o);
          }
          (t.final = !0), (this.previousWord = e);
        }),
        (I.TokenSet.Builder.prototype.finish = function () {
          this.minimize(0);
        }),
        (I.TokenSet.Builder.prototype.minimize = function (e) {
          for (var t = this.uncheckedNodes.length - 1; t >= e; t--) {
            var i = this.uncheckedNodes[t],
              n = i.child.toString();
            n in this.minimizedNodes
              ? (i.parent.edges[i.char] = this.minimizedNodes[n])
              : ((i.child._str = n), (this.minimizedNodes[n] = i.child)),
              this.uncheckedNodes.pop();
          }
        }),
        /*!
         * lunr.Index
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.Index = function (e) {
          (this.invertedIndex = e.invertedIndex),
            (this.fieldVectors = e.fieldVectors),
            (this.tokenSet = e.tokenSet),
            (this.fields = e.fields),
            (this.pipeline = e.pipeline);
        }),
        (I.Index.prototype.search = function (e) {
          return this.query(function (t) {
            new I.QueryParser(e, t).parse();
          });
        }),
        (I.Index.prototype.query = function (e) {
          for (
            var t = new I.Query(this.fields),
            i = Object.create(null),
            n = Object.create(null),
            o = Object.create(null),
            r = Object.create(null),
            a = Object.create(null),
            s = 0;
            s < this.fields.length;
            s++
          )
            n[this.fields[s]] = new I.Vector();
          e.call(t, t);
          for (s = 0; s < t.clauses.length; s++) {
            var l = t.clauses[s],
              c = null,
              u = I.Set.complete;
            c = l.usePipeline
              ? this.pipeline.runString(l.term, { fields: l.fields })
              : [l.term];
            for (var d = 0; d < c.length; d++) {
              var p = c[d];
              l.term = p;
              var h = I.TokenSet.fromClause(l),
                f = this.tokenSet.intersect(h).toArray();
              if (0 === f.length && l.presence === I.Query.presence.REQUIRED) {
                for (var g = 0; g < l.fields.length; g++) {
                  r[(P = l.fields[g])] = I.Set.empty;
                }
                break;
              }
              for (var m = 0; m < f.length; m++) {
                var v = f[m],
                  b = this.invertedIndex[v],
                  y = b._index;
                for (g = 0; g < l.fields.length; g++) {
                  var x = b[(P = l.fields[g])],
                    w = Object.keys(x),
                    _ = v + "/" + P,
                    A = new I.Set(w);
                  if (
                    (l.presence == I.Query.presence.REQUIRED &&
                      ((u = u.union(A)),
                        void 0 === r[P] && (r[P] = I.Set.complete)),
                      l.presence != I.Query.presence.PROHIBITED)
                  ) {
                    if (
                      (n[P].upsert(y, l.boost, function (e, t) {
                        return e + t;
                      }),
                        !o[_])
                    ) {
                      for (var E = 0; E < w.length; E++) {
                        var S,
                          T = w[E],
                          C = new I.FieldRef(T, P),
                          k = x[T];
                        void 0 === (S = i[C])
                          ? (i[C] = new I.MatchData(v, P, k))
                          : S.add(v, P, k);
                      }
                      o[_] = !0;
                    }
                  } else
                    void 0 === a[P] && (a[P] = I.Set.empty),
                      (a[P] = a[P].union(A));
                }
              }
            }
            if (l.presence === I.Query.presence.REQUIRED)
              for (g = 0; g < l.fields.length; g++) {
                r[(P = l.fields[g])] = r[P].intersect(u);
              }
          }
          var L = I.Set.complete,
            D = I.Set.empty;
          for (s = 0; s < this.fields.length; s++) {
            var P;
            r[(P = this.fields[s])] && (L = L.intersect(r[P])),
              a[P] && (D = D.union(a[P]));
          }
          var O = Object.keys(i),
            M = [],
            N = Object.create(null);
          if (t.isNegated()) {
            O = Object.keys(this.fieldVectors);
            for (s = 0; s < O.length; s++) {
              C = O[s];
              var R = I.FieldRef.fromString(C);
              i[C] = new I.MatchData();
            }
          }
          for (s = 0; s < O.length; s++) {
            var B = (R = I.FieldRef.fromString(O[s])).docRef;
            if (L.contains(B) && !D.contains(B)) {
              var z,
                $ = this.fieldVectors[R],
                H = n[R.fieldName].similarity($);
              if (void 0 !== (z = N[B]))
                (z.score += H), z.matchData.combine(i[R]);
              else {
                var V = { ref: B, score: H, matchData: i[R] };
                (N[B] = V), M.push(V);
              }
            }
          }
          return M.sort(function (e, t) {
            return t.score - e.score;
          });
        }),
        (I.Index.prototype.toJSON = function () {
          var e = Object.keys(this.invertedIndex)
            .sort()
            .map(function (e) {
              return [e, this.invertedIndex[e]];
            }, this),
            t = Object.keys(this.fieldVectors).map(function (e) {
              return [e, this.fieldVectors[e].toJSON()];
            }, this);
          return {
            version: I.version,
            fields: this.fields,
            fieldVectors: t,
            invertedIndex: e,
            pipeline: this.pipeline.toJSON(),
          };
        }),
        (I.Index.load = function (e) {
          var t = {},
            i = {},
            n = e.fieldVectors,
            o = Object.create(null),
            r = e.invertedIndex,
            a = new I.TokenSet.Builder(),
            s = I.Pipeline.load(e.pipeline);
          e.version != I.version &&
            I.utils.warn(
              "Version mismatch when loading serialised index. Current version of lunr '" +
              I.version +
              "' does not match serialized index '" +
              e.version +
              "'"
            );
          for (var l = 0; l < n.length; l++) {
            var c = (d = n[l])[0],
              u = d[1];
            i[c] = new I.Vector(u);
          }
          for (l = 0; l < r.length; l++) {
            var d,
              p = (d = r[l])[0],
              h = d[1];
            a.insert(p), (o[p] = h);
          }
          return (
            a.finish(),
            (t.fields = e.fields),
            (t.fieldVectors = i),
            (t.invertedIndex = o),
            (t.tokenSet = a.root),
            (t.pipeline = s),
            new I.Index(t)
          );
        }),
        /*!
         * lunr.Builder
         * Copyright (C) 2019 Oliver Nightingale
         */ (I.Builder = function () {
          (this._ref = "id"),
            (this._fields = Object.create(null)),
            (this._documents = Object.create(null)),
            (this.invertedIndex = Object.create(null)),
            (this.fieldTermFrequencies = {}),
            (this.fieldLengths = {}),
            (this.tokenizer = I.tokenizer),
            (this.pipeline = new I.Pipeline()),
            (this.searchPipeline = new I.Pipeline()),
            (this.documentCount = 0),
            (this._b = 0.75),
            (this._k1 = 1.2),
            (this.termIndex = 0),
            (this.metadataWhitelist = []);
        }),
        (I.Builder.prototype.ref = function (e) {
          this._ref = e;
        }),
        (I.Builder.prototype.field = function (e, t) {
          if (/\//.test(e))
            throw new RangeError(
              "Field '" + e + "' contains illegal character '/'"
            );
          this._fields[e] = t || {};
        }),
        (I.Builder.prototype.b = function (e) {
          this._b = e < 0 ? 0 : e > 1 ? 1 : e;
        }),
        (I.Builder.prototype.k1 = function (e) {
          this._k1 = e;
        }),
        (I.Builder.prototype.add = function (e, t) {
          var i = e[this._ref],
            n = Object.keys(this._fields);
          (this._documents[i] = t || {}), (this.documentCount += 1);
          for (var o = 0; o < n.length; o++) {
            var r = n[o],
              a = this._fields[r].extractor,
              s = a ? a(e) : e[r],
              l = this.tokenizer(s, { fields: [r] }),
              c = this.pipeline.run(l),
              u = new I.FieldRef(i, r),
              d = Object.create(null);
            (this.fieldTermFrequencies[u] = d),
              (this.fieldLengths[u] = 0),
              (this.fieldLengths[u] += c.length);
            for (var p = 0; p < c.length; p++) {
              var h = c[p];
              if (
                (null == d[h] && (d[h] = 0),
                  (d[h] += 1),
                  null == this.invertedIndex[h])
              ) {
                var f = Object.create(null);
                (f._index = this.termIndex), (this.termIndex += 1);
                for (var g = 0; g < n.length; g++)
                  f[n[g]] = Object.create(null);
                this.invertedIndex[h] = f;
              }
              null == this.invertedIndex[h][r][i] &&
                (this.invertedIndex[h][r][i] = Object.create(null));
              for (var m = 0; m < this.metadataWhitelist.length; m++) {
                var v = this.metadataWhitelist[m],
                  b = h.metadata[v];
                null == this.invertedIndex[h][r][i][v] &&
                  (this.invertedIndex[h][r][i][v] = []),
                  this.invertedIndex[h][r][i][v].push(b);
              }
            }
          }
        }),
        (I.Builder.prototype.calculateAverageFieldLengths = function () {
          for (
            var e = Object.keys(this.fieldLengths),
            t = e.length,
            i = {},
            n = {},
            o = 0;
            o < t;
            o++
          ) {
            var r = I.FieldRef.fromString(e[o]),
              a = r.fieldName;
            n[a] || (n[a] = 0),
              (n[a] += 1),
              i[a] || (i[a] = 0),
              (i[a] += this.fieldLengths[r]);
          }
          var s = Object.keys(this._fields);
          for (o = 0; o < s.length; o++) {
            var l = s[o];
            i[l] = i[l] / n[l];
          }
          this.averageFieldLength = i;
        }),
        (I.Builder.prototype.createFieldVectors = function () {
          for (
            var e = {},
            t = Object.keys(this.fieldTermFrequencies),
            i = t.length,
            n = Object.create(null),
            o = 0;
            o < i;
            o++
          ) {
            for (
              var r = I.FieldRef.fromString(t[o]),
              a = r.fieldName,
              s = this.fieldLengths[r],
              l = new I.Vector(),
              c = this.fieldTermFrequencies[r],
              u = Object.keys(c),
              d = u.length,
              p = this._fields[a].boost || 1,
              h = this._documents[r.docRef].boost || 1,
              f = 0;
              f < d;
              f++
            ) {
              var g,
                m,
                v,
                b = u[f],
                y = c[b],
                x = this.invertedIndex[b]._index;
              void 0 === n[b]
                ? ((g = I.idf(this.invertedIndex[b], this.documentCount)),
                  (n[b] = g))
                : (g = n[b]),
                (m =
                  (g * ((this._k1 + 1) * y)) /
                  (this._k1 *
                    (1 - this._b + this._b * (s / this.averageFieldLength[a])) +
                    y)),
                (m *= p),
                (m *= h),
                (v = Math.round(1e3 * m) / 1e3),
                l.insert(x, v);
            }
            e[r] = l;
          }
          this.fieldVectors = e;
        }),
        (I.Builder.prototype.createTokenSet = function () {
          this.tokenSet = I.TokenSet.fromArray(
            Object.keys(this.invertedIndex).sort()
          );
        }),
        (I.Builder.prototype.build = function () {
          return (
            this.calculateAverageFieldLengths(),
            this.createFieldVectors(),
            this.createTokenSet(),
            new I.Index({
              invertedIndex: this.invertedIndex,
              fieldVectors: this.fieldVectors,
              tokenSet: this.tokenSet,
              fields: Object.keys(this._fields),
              pipeline: this.searchPipeline,
            })
          );
        }),
        (I.Builder.prototype.use = function (e) {
          var t = Array.prototype.slice.call(arguments, 1);
          t.unshift(this), e.apply(this, t);
        }),
        (I.MatchData = function (e, t, i) {
          for (
            var n = Object.create(null), o = Object.keys(i || {}), r = 0;
            r < o.length;
            r++
          ) {
            var a = o[r];
            n[a] = i[a].slice();
          }
          (this.metadata = Object.create(null)),
            void 0 !== e &&
            ((this.metadata[e] = Object.create(null)),
              (this.metadata[e][t] = n));
        }),
        (I.MatchData.prototype.combine = function (e) {
          for (var t = Object.keys(e.metadata), i = 0; i < t.length; i++) {
            var n = t[i],
              o = Object.keys(e.metadata[n]);
            null == this.metadata[n] &&
              (this.metadata[n] = Object.create(null));
            for (var r = 0; r < o.length; r++) {
              var a = o[r],
                s = Object.keys(e.metadata[n][a]);
              null == this.metadata[n][a] &&
                (this.metadata[n][a] = Object.create(null));
              for (var l = 0; l < s.length; l++) {
                var c = s[l];
                null == this.metadata[n][a][c]
                  ? (this.metadata[n][a][c] = e.metadata[n][a][c])
                  : (this.metadata[n][a][c] = this.metadata[n][a][c].concat(
                    e.metadata[n][a][c]
                  ));
              }
            }
          }
        }),
        (I.MatchData.prototype.add = function (e, t, i) {
          if (!(e in this.metadata))
            return (
              (this.metadata[e] = Object.create(null)),
              void (this.metadata[e][t] = i)
            );
          if (t in this.metadata[e])
            for (var n = Object.keys(i), o = 0; o < n.length; o++) {
              var r = n[o];
              r in this.metadata[e][t]
                ? (this.metadata[e][t][r] = this.metadata[e][t][r].concat(i[r]))
                : (this.metadata[e][t][r] = i[r]);
            }
          else this.metadata[e][t] = i;
        }),
        (I.Query = function (e) {
          (this.clauses = []), (this.allFields = e);
        }),
        (I.Query.wildcard = new String("*")),
        (I.Query.wildcard.NONE = 0),
        (I.Query.wildcard.LEADING = 1),
        (I.Query.wildcard.TRAILING = 2),
        (I.Query.presence = { OPTIONAL: 1, REQUIRED: 2, PROHIBITED: 3 }),
        (I.Query.prototype.clause = function (e) {
          return (
            "fields" in e || (e.fields = this.allFields),
            "boost" in e || (e.boost = 1),
            "usePipeline" in e || (e.usePipeline = !0),
            "wildcard" in e || (e.wildcard = I.Query.wildcard.NONE),
            e.wildcard & I.Query.wildcard.LEADING &&
            e.term.charAt(0) != I.Query.wildcard &&
            (e.term = "*" + e.term),
            e.wildcard & I.Query.wildcard.TRAILING &&
            e.term.slice(-1) != I.Query.wildcard &&
            (e.term = e.term + "*"),
            "presence" in e || (e.presence = I.Query.presence.OPTIONAL),
            this.clauses.push(e),
            this
          );
        }),
        (I.Query.prototype.isNegated = function () {
          for (var e = 0; e < this.clauses.length; e++)
            if (this.clauses[e].presence != I.Query.presence.PROHIBITED)
              return !1;
          return !0;
        }),
        (I.Query.prototype.term = function (e, t) {
          if (Array.isArray(e))
            return (
              e.forEach(function (e) {
                this.term(e, I.utils.clone(t));
              }, this),
              this
            );
          var i = t || {};
          return (i.term = e.toString()), this.clause(i), this;
        }),
        (I.QueryParseError = function (e, t, i) {
          (this.name = "QueryParseError"),
            (this.message = e),
            (this.start = t),
            (this.end = i);
        }),
        (I.QueryParseError.prototype = new Error()),
        (I.QueryLexer = function (e) {
          (this.lexemes = []),
            (this.str = e),
            (this.length = e.length),
            (this.pos = 0),
            (this.start = 0),
            (this.escapeCharPositions = []);
        }),
        (I.QueryLexer.prototype.run = function () {
          for (var e = I.QueryLexer.lexText; e;) e = e(this);
        }),
        (I.QueryLexer.prototype.sliceString = function () {
          for (
            var e = [], t = this.start, i = this.pos, n = 0;
            n < this.escapeCharPositions.length;
            n++
          )
            (i = this.escapeCharPositions[n]),
              e.push(this.str.slice(t, i)),
              (t = i + 1);
          return (
            e.push(this.str.slice(t, this.pos)),
            (this.escapeCharPositions.length = 0),
            e.join("")
          );
        }),
        (I.QueryLexer.prototype.emit = function (e) {
          this.lexemes.push({
            type: e,
            str: this.sliceString(),
            start: this.start,
            end: this.pos,
          }),
            (this.start = this.pos);
        }),
        (I.QueryLexer.prototype.escapeCharacter = function () {
          this.escapeCharPositions.push(this.pos - 1), (this.pos += 1);
        }),
        (I.QueryLexer.prototype.next = function () {
          if (this.pos >= this.length) return I.QueryLexer.EOS;
          var e = this.str.charAt(this.pos);
          return (this.pos += 1), e;
        }),
        (I.QueryLexer.prototype.width = function () {
          return this.pos - this.start;
        }),
        (I.QueryLexer.prototype.ignore = function () {
          this.start == this.pos && (this.pos += 1), (this.start = this.pos);
        }),
        (I.QueryLexer.prototype.backup = function () {
          this.pos -= 1;
        }),
        (I.QueryLexer.prototype.acceptDigitRun = function () {
          var e, t;
          do {
            t = (e = this.next()).charCodeAt(0);
          } while (t > 47 && t < 58);
          e != I.QueryLexer.EOS && this.backup();
        }),
        (I.QueryLexer.prototype.more = function () {
          return this.pos < this.length;
        }),
        (I.QueryLexer.EOS = "EOS"),
        (I.QueryLexer.FIELD = "FIELD"),
        (I.QueryLexer.TERM = "TERM"),
        (I.QueryLexer.EDIT_DISTANCE = "EDIT_DISTANCE"),
        (I.QueryLexer.BOOST = "BOOST"),
        (I.QueryLexer.PRESENCE = "PRESENCE"),
        (I.QueryLexer.lexField = function (e) {
          return (
            e.backup(),
            e.emit(I.QueryLexer.FIELD),
            e.ignore(),
            I.QueryLexer.lexText
          );
        }),
        (I.QueryLexer.lexTerm = function (e) {
          if (
            (e.width() > 1 && (e.backup(), e.emit(I.QueryLexer.TERM)),
              e.ignore(),
              e.more())
          )
            return I.QueryLexer.lexText;
        }),
        (I.QueryLexer.lexEditDistance = function (e) {
          return (
            e.ignore(),
            e.acceptDigitRun(),
            e.emit(I.QueryLexer.EDIT_DISTANCE),
            I.QueryLexer.lexText
          );
        }),
        (I.QueryLexer.lexBoost = function (e) {
          return (
            e.ignore(),
            e.acceptDigitRun(),
            e.emit(I.QueryLexer.BOOST),
            I.QueryLexer.lexText
          );
        }),
        (I.QueryLexer.lexEOS = function (e) {
          e.width() > 0 && e.emit(I.QueryLexer.TERM);
        }),
        (I.QueryLexer.termSeparator = I.tokenizer.separator),
        (I.QueryLexer.lexText = function (e) {
          for (; ;) {
            var t = e.next();
            if (t == I.QueryLexer.EOS) return I.QueryLexer.lexEOS;
            if (92 != t.charCodeAt(0)) {
              if (":" == t) return I.QueryLexer.lexField;
              if ("~" == t)
                return (
                  e.backup(),
                  e.width() > 0 && e.emit(I.QueryLexer.TERM),
                  I.QueryLexer.lexEditDistance
                );
              if ("^" == t)
                return (
                  e.backup(),
                  e.width() > 0 && e.emit(I.QueryLexer.TERM),
                  I.QueryLexer.lexBoost
                );
              if ("+" == t && 1 === e.width())
                return e.emit(I.QueryLexer.PRESENCE), I.QueryLexer.lexText;
              if ("-" == t && 1 === e.width())
                return e.emit(I.QueryLexer.PRESENCE), I.QueryLexer.lexText;
              if (t.match(I.QueryLexer.termSeparator))
                return I.QueryLexer.lexTerm;
            } else e.escapeCharacter();
          }
        }),
        (I.QueryParser = function (e, t) {
          (this.lexer = new I.QueryLexer(e)),
            (this.query = t),
            (this.currentClause = {}),
            (this.lexemeIdx = 0);
        }),
        (I.QueryParser.prototype.parse = function () {
          this.lexer.run(), (this.lexemes = this.lexer.lexemes);
          for (var e = I.QueryParser.parseClause; e;) e = e(this);
          return this.query;
        }),
        (I.QueryParser.prototype.peekLexeme = function () {
          return this.lexemes[this.lexemeIdx];
        }),
        (I.QueryParser.prototype.consumeLexeme = function () {
          var e = this.peekLexeme();
          return (this.lexemeIdx += 1), e;
        }),
        (I.QueryParser.prototype.nextClause = function () {
          var e = this.currentClause;
          this.query.clause(e), (this.currentClause = {});
        }),
        (I.QueryParser.parseClause = function (e) {
          var t = e.peekLexeme();
          if (null != t)
            switch (t.type) {
              case I.QueryLexer.PRESENCE:
                return I.QueryParser.parsePresence;
              case I.QueryLexer.FIELD:
                return I.QueryParser.parseField;
              case I.QueryLexer.TERM:
                return I.QueryParser.parseTerm;
              default:
                var i = "expected either a field or a term, found " + t.type;
                throw (
                  (t.str.length >= 1 && (i += " with value '" + t.str + "'"),
                    new I.QueryParseError(i, t.start, t.end))
                );
            }
        }),
        (I.QueryParser.parsePresence = function (e) {
          var t = e.consumeLexeme();
          if (null != t) {
            switch (t.str) {
              case "-":
                e.currentClause.presence = I.Query.presence.PROHIBITED;
                break;
              case "+":
                e.currentClause.presence = I.Query.presence.REQUIRED;
                break;
              default:
                var i = "unrecognised presence operator'" + t.str + "'";
                throw new I.QueryParseError(i, t.start, t.end);
            }
            var n = e.peekLexeme();
            if (null == n) {
              i = "expecting term or field, found nothing";
              throw new I.QueryParseError(i, t.start, t.end);
            }
            switch (n.type) {
              case I.QueryLexer.FIELD:
                return I.QueryParser.parseField;
              case I.QueryLexer.TERM:
                return I.QueryParser.parseTerm;
              default:
                i = "expecting term or field, found '" + n.type + "'";
                throw new I.QueryParseError(i, n.start, n.end);
            }
          }
        }),
        (I.QueryParser.parseField = function (e) {
          var t = e.consumeLexeme();
          if (null != t) {
            if (-1 == e.query.allFields.indexOf(t.str)) {
              var i = e.query.allFields
                .map(function (e) {
                  return "'" + e + "'";
                })
                .join(", "),
                n = "unrecognised field '" + t.str + "', possible fields: " + i;
              throw new I.QueryParseError(n, t.start, t.end);
            }
            e.currentClause.fields = [t.str];
            var o = e.peekLexeme();
            if (null == o) {
              n = "expecting term, found nothing";
              throw new I.QueryParseError(n, t.start, t.end);
            }
            switch (o.type) {
              case I.QueryLexer.TERM:
                return I.QueryParser.parseTerm;
              default:
                n = "expecting term, found '" + o.type + "'";
                throw new I.QueryParseError(n, o.start, o.end);
            }
          }
        }),
        (I.QueryParser.parseTerm = function (e) {
          var t = e.consumeLexeme();
          if (null != t) {
            (e.currentClause.term = t.str.toLowerCase()),
              -1 != t.str.indexOf("*") && (e.currentClause.usePipeline = !1);
            var i = e.peekLexeme();
            if (null != i)
              switch (i.type) {
                case I.QueryLexer.TERM:
                  return e.nextClause(), I.QueryParser.parseTerm;
                case I.QueryLexer.FIELD:
                  return e.nextClause(), I.QueryParser.parseField;
                case I.QueryLexer.EDIT_DISTANCE:
                  return I.QueryParser.parseEditDistance;
                case I.QueryLexer.BOOST:
                  return I.QueryParser.parseBoost;
                case I.QueryLexer.PRESENCE:
                  return e.nextClause(), I.QueryParser.parsePresence;
                default:
                  var n = "Unexpected lexeme type '" + i.type + "'";
                  throw new I.QueryParseError(n, i.start, i.end);
              }
            else e.nextClause();
          }
        }),
        (I.QueryParser.parseEditDistance = function (e) {
          var t = e.consumeLexeme();
          if (null != t) {
            var i = parseInt(t.str, 10);
            if (isNaN(i)) {
              var n = "edit distance must be numeric";
              throw new I.QueryParseError(n, t.start, t.end);
            }
            e.currentClause.editDistance = i;
            var o = e.peekLexeme();
            if (null != o)
              switch (o.type) {
                case I.QueryLexer.TERM:
                  return e.nextClause(), I.QueryParser.parseTerm;
                case I.QueryLexer.FIELD:
                  return e.nextClause(), I.QueryParser.parseField;
                case I.QueryLexer.EDIT_DISTANCE:
                  return I.QueryParser.parseEditDistance;
                case I.QueryLexer.BOOST:
                  return I.QueryParser.parseBoost;
                case I.QueryLexer.PRESENCE:
                  return e.nextClause(), I.QueryParser.parsePresence;
                default:
                  n = "Unexpected lexeme type '" + o.type + "'";
                  throw new I.QueryParseError(n, o.start, o.end);
              }
            else e.nextClause();
          }
        }),
        (I.QueryParser.parseBoost = function (e) {
          var t = e.consumeLexeme();
          if (null != t) {
            var i = parseInt(t.str, 10);
            if (isNaN(i)) {
              var n = "boost must be numeric";
              throw new I.QueryParseError(n, t.start, t.end);
            }
            e.currentClause.boost = i;
            var o = e.peekLexeme();
            if (null != o)
              switch (o.type) {
                case I.QueryLexer.TERM:
                  return e.nextClause(), I.QueryParser.parseTerm;
                case I.QueryLexer.FIELD:
                  return e.nextClause(), I.QueryParser.parseField;
                case I.QueryLexer.EDIT_DISTANCE:
                  return I.QueryParser.parseEditDistance;
                case I.QueryLexer.BOOST:
                  return I.QueryParser.parseBoost;
                case I.QueryLexer.PRESENCE:
                  return e.nextClause(), I.QueryParser.parsePresence;
                default:
                  n = "Unexpected lexeme type '" + o.type + "'";
                  throw new I.QueryParseError(n, o.start, o.end);
              }
            else e.nextClause();
          }
        }),
        void 0 ===
        (o =
          "function" ==
            typeof (n = function () {
              return I;
            })
            ? n.call(t, i, t, e)
            : n) || (e.exports = o);
    })();
  },
  function (e, t, i) {
    e.exports = i(38);
  },
  function (e, t, i) {
    "use strict";
    i(39),
      i(24),
      i(54),
      i(55),
      i(56),
      i(57),
      i(58),
      i(59),
      i(60),
      i(61),
      i(62),
      i(63),
      i(65),
      i(66),
      i(67),
      i(68),
      i(69),
      i(70),
      i(75),
      i(76),
      i(80),
      i(81),
      i(82),
      i(148),
      i(157),
      i(158),
      i(159),
      i(160),
      i(161),
      i(162),
      i(163),
      i(164),
      i(165),
      i(166),
      i(167),
      i(168),
      i(169),
      i(170),
      i(171),
      i(172),
      i(173),
      i(174),
      i(175),
      i(176),
      i(177),
      i(178),
      i(179),
      i(180),
      i(181),
      i(182),
      i(183),
      i(184),
      i(185),
      i(186),
      i(187),
      i(188),
      i(189),
      i(190),
      i(191),
      i(192),
      i(193),
      i(194),
      i(195),
      i(196),
      i(197),
      i(198),
      i(199),
      i(200),
      i(201),
      i(202),
      i(203),
      i(205),
      i(206),
      i(208),
      i(209),
      i(210),
      i(211),
      i(212),
      i(213),
      i(214),
      i(215),
      i(216),
      i(217),
      i(218),
      i(219),
      i(220),
      i(221),
      i(222),
      i(223),
      i(224),
      i(225),
      i(226),
      i(227),
      i(229),
      i(230),
      i(231),
      i(232),
      i(233),
      i(235),
      i(236),
      i(237),
      i(239),
      i(240),
      i(241),
      i(242),
      i(243),
      i(245),
      i(246),
      i(247),
      i(249),
      i(250),
      i(251),
      i(252),
      i(254),
      i(255),
      i(257),
      i(258),
      i(259),
      i(260),
      i(261),
      i(262),
      i(264),
      i(266),
      i(267),
      i(268),
      i(269),
      i(270),
      i(272),
      i(273),
      i(274),
      i(275),
      i(277),
      i(278),
      i(279),
      i(280),
      i(282),
      i(283),
      i(284),
      i(285),
      i(287),
      i(288),
      i(289),
      i(290),
      i(291),
      i(293),
      i(294),
      i(295),
      i(296),
      i(297),
      i(299),
      i(301),
      i(302),
      i(303),
      i(305),
      i(306),
      i(307),
      i(308),
      i(309),
      i(311),
      i(312),
      i(313),
      i(314),
      i(315),
      i(317),
      i(318),
      i(319),
      i(320),
      i(321),
      i(323),
      i(324),
      i(325),
      i(326),
      i(328),
      i(329),
      i(330),
      i(331),
      i(333),
      i(334),
      i(336),
      i(337),
      i(338),
      i(339),
      i(340),
      i(341),
      i(342),
      i(343),
      i(344),
      i(345),
      i(346),
      i(347),
      i(349),
      i(350),
      i(351),
      i(353),
      i(354),
      i(355),
      i(356),
      i(357),
      i(359),
      i(361),
      i(363),
      i(364),
      i(365),
      i(366),
      i(368),
      i(369),
      i(370),
      i(371),
      i(372),
      i(373),
      i(375),
      i(376),
      i(377),
      i(378),
      i(379),
      angular.module("evtviewer", [
        "ngAnimate",
        "ngCookies",
        "ngMessages",
        "ngResource",
        "ngSanitize",
        "ngTouch",
        "ngRoute",
        "rzModule",
        "xml",
        "prettyXml",
        "infinite-scroll",
        "pascalprecht.translate",
        "oc.lazyLoad",
        "evtviewer.core",
        "evtviewer.communication",
        "evtviewer.translation",
        "evtviewer.dataHandler",
        "evtviewer.interface",
        "evtviewer.box",
        "evtviewer.select",
        "evtviewer.buttonSwitch",
        "evtviewer.popover",
        "evtviewer.namedEntity",
        "evtviewer.criticalApparatusEntry",
        "evtviewer.reading",
        "evtviewer.dialog",
        "evtviewer.bibliography",
        "evtviewer.reference",
        "evtviewer.list",
        "evtviewer.quote",
        "evtviewer.tabsContainer",
        "evtviewer.sourcesApparatusEntry",
        "evtviewer.analogue",
        "evtviewer.analoguesApparatusEntry",
        "evtviewer.apparatuses",
        "evtviewer.versionReading",
        "evtviewer.versionApparatusEntry",
        "evtviewer.UItools",
        "evtviewer.navBar",
        "evtviewer.visColl",
        "evtviewer.search",
        "evtviewer.imageViewer",
        "evtviewer.toc",
        "nemLogging",
        "ui-leaflet",
        "evtviewer.tdhop",
      ]);
  },
  function (e, t, i) {
    var n = i(40);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    t = e.exports = i(2)(!1);
    var n = i(13),
      o = n(i(41)),
      r = n(i(42)),
      a = n(i(43)),
      s = n(i(22)),
      l = n(i(22) + "#iefix"),
      c = n(i(44)),
      u = n(i(45)),
      d = n(i(46) + "#evt"),
      p = n(i(23)),
      h = n(i(23) + "#iefix"),
      f = n(i(47)),
      g = n(i(48)),
      m = n(i(49) + "#evt"),
      v = n(i(50)),
      b = n(i(51)),
      y = n(i(52));
    t.push([
      e.i,
      "@font-face{font-family:'Junicode';src:url(" +
      o +
      ") format(\"woff\");font-weight:normal;font-style:normal}@font-face{font-family:'Junicode-bold';src:url(" +
      r +
      ") format(\"woff\");font-weight:bold;font-style:normal}@font-face{font-family:'Junicode-italic';src:url(" +
      a +
      ") format(\"woff\");font-weight:normal;font-style:italic}@font-face{font-family:'evt';src:url(" +
      s +
      ");src:url(" +
      l +
      ') format("embedded-opentype"),url(' +
      c +
      ') format("truetype"),url(' +
      u +
      ') format("woff"),url(' +
      d +
      ") format(\"svg\");font-weight:normal;font-style:normal}@font-face{font-family:'evtbis-icons';src:url(" +
      p +
      ");src:url(" +
      h +
      ') format("embedded-opentype"),url(' +
      f +
      ') format("truetype"),url(' +
      g +
      ') format("woff"),url(' +
      m +
      ') format("svg");font-weight:normal;font-style:normal}[class^="icon-"],[class*=" icon-"]{font-family:"evt" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[class^="iconbis-"],[class*=" iconbis-"]{font-family:"evtbis-icons" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-evt_3dhop:before{content:"\\e800"}.icon-evt_add:before{content:"\\e900"}.icon-evt_advanced-search:before{content:"\\f013"}.icon-evt_align:before{content:"\\e937"}.icon-evt_book:before{content:"\\e901"}.icon-evt_bookmark-alt:before{content:"\\e902"}.icon-evt_bookmark-alt2:before{content:"\\e938"}.icon-evt_bookmark:before{content:"\\e903"}.icon-evt_bookreader-alt:before{content:"\\e939"}.icon-evt_bookreader:before{content:"\\e904"}.icon-evt_books:before{content:"\\e905"}.icon-evt_case-sensitive:before{content:"\\e93f"}.icon-evt_close:before{content:"\\e8f6"}.icon-evt_code:before{content:"\\e907"}.icon-evt_collation:before{content:"\\e908"}.icon-evt_color-legend:before{content:"\\e909"}.icon-evt_color-lens:before{content:"\\e90a"}.icon-evt_colors-fill:before{content:"\\e90b"}.icon-evt_copyright:before{content:"\\e90c"}.icon-evt_drop-down:before{content:"\\e90d"}.icon-evt_drop-up:before{content:"\\e90e"}.icon-evt_exact-match:before{content:"\\e940"}.icon-evt_filter:before{content:"\\e90f"}.icon-evt_find-in-page:before{content:"\\e910"}.icon-evt_font-size-minus-alt:before{content:"\\e93a"}.icon-evt_font-size-minus:before{content:"\\e914"}.icon-evt_font-size-plus-alt:before{content:"\\e915"}.icon-evt_font-size-plus:before{content:"\\e916"}.icon-evt_font-size-reset-alt:before{content:"\\e93b"}.icon-evt_font-size-reset:before{content:"\\e917"}.icon-evt_font-size:before{content:"\\e93d"}.icon-evt_fragment:before{content:"\\e918"}.icon-evt_heatmap-alt:before{content:"\\e919"}.icon-evt_heatmap:before{content:"\\e91a"}.icon-evt_help-alt:before{content:"\\e91b"}.icon-evt_help:before{content:"\\e91c"}.icon-evt_hotspot:before{content:"\\e91d"}.icon-evt_imgtxt:before{content:"\\e91e"}.icon-evt_info-alt-r:before{content:"\\e91f"}.icon-evt_info-alt-sq:before{content:"\\e920"}.icon-evt_info-alt:before{content:"\\e921"}.icon-evt_info:before{content:"\\e922"}.icon-evt_keyboard:before{content:"\\f11c"}.icon-evt_link:before{content:"\\e923"}.icon-evt_list-alt:before{content:"\\e924"}.icon-evt_list:before{content:"\\e925"}.icon-evt_mail:before{content:"\\e926"}.icon-evt_menu:before{content:"\\e927"}.icon-evt_more-horiz:before{content:"\\e928"}.icon-evt_more-vert:before{content:"\\e929"}.icon-evt_next:before{content:"\\f105"}.icon-evt_note:before{content:"\\e92a"}.icon-evt_paragraph:before{content:"\\e92b"}.icon-evt_pin-alt-on:before{content:"\\e92c"}.icon-evt_pin-off:before{content:"\\e92d"}.icon-evt_pin-on:before{content:"\\e92e"}.icon-evt_previous:before{content:"\\f104"}.icon-evt_search-results-close:before{content:"\\f103"}.icon-evt_search-results-open:before{content:"\\f102"}.icon-evt_search:before{content:"\\e92f"}.icon-evt_thumbnails:before{content:"\\e93e"}.icon-evt_txt:before{content:"\\e930"}.icon-evt_txttxt:before{content:"\\e931"}.icon-evt_viscoll:before{content:"\\e801"}.icon-evt_zoom-fit:before{content:"\\e932"}.icon-evt_zoom-in:before{content:"\\e935"}.icon-evt_zoom-out:before{content:"\\e934"}.icon-evt_zoom-reset:before{content:"\\e933"}.icon-evt_zoom-reset1:before{content:"\\e93c"}.icon-evt_zoom:before{content:"\\e936"}.iconbis-evt_srctxt:before{content:"\\e945"}.iconbis-evt_versions:before{content:"\\e944"}.iconbis-evt_quote-left:before{content:"\\e943"}.iconbis-evt_quote-right:before{content:"\\e941"}.iconbis-evt_fork:before{content:"\\e942"}.iconbis-evt_analogue:before{content:"\\e93f"}.iconbis-evt_schema:before{content:"\\e93f"}.fa-rotate-45{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}body{max-width:100%;margin-left:auto;margin-right:auto;background-image:linear-gradient(to right, rgba(102,102,255,0.25),rgba(179,179,255,0.25));background-size:5.55556%;background-origin:content-box;background-clip:content-box;background-position:left top;font-family:Junicode, Times, serif;background:#f0f0f0;margin:0;padding:0;min-height:600px;overflow:hidden;position:absolute;font-size:30px;height:100%;width:100%;min-width:800px}body:after{content:" ";display:block;clear:both}body>header,body>footer,body>section{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;float:left;padding-left:.07282%;padding-right:.07282%}body>header,body>footer{height:54px;padding:10px;color:#ECEFF1;background:#263238}body>header .logo{height:34px;float:left;margin-right:1rem}body>header .webSiteLink{color:#f5f5f5;font-size:1.2rem;margin-left:0.4rem;opacity:.7;opacity:0.7}body>header .webSiteLink:hover{opacity:1;cursor:pointer}footer{display:none}#global-container-ext{height:100%}#global-container{height:-moz-calc(100% -  56px + 1px);height:-o-calc(100% -  56px + 1px);height:-webkit-calc(100% -  56px + 1px);height:calc(100% -  56px + 1px);padding:1px 0 0;overflow:hidden;width:100%}div#global-container-ext.navbar-opened #global-container{height:-moz-calc(100% -  56px - 45px + 1px);height:-o-calc(100% -  56px - 45px + 1px);height:-webkit-calc(100% -  56px - 45px + 1px);height:calc(100% -  56px - 45px + 1px)}section>div{height:100%;display:block;vertical-align:middle}#left-nav{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:5%;float:left;padding-left:.07282%;padding-right:.07282%;text-align:center}#left-nav span{height:59px;top:50%;position:relative;transform:translateY(-50%);opacity:0.5}#left-nav span:hover{opacity:1;cursor:pointer}#main-container{height:100%;overflow:hidden;padding:0px;font-size:18px;line-height:22px}#main-container>div{white-space:nowrap}#right-nav{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:5%;float:left;padding-left:.07282%;padding-right:.07282%;text-align:center}#right-nav span{height:59px;top:50%;position:relative;transform:translateY(-50%);opacity:0.5}#right-nav span:hover{opacity:1;cursor:pointer}.apparatuses_main{height:100%;overflow-y:hidden}.apparatuses_main .loading{height:100%;z-index:999;background:rgba(0,0,0,0.3)}.apparatuses_main .apparatuses_tabs{height:100%;overflow:hidden}.apparatuses_main .apparatuses_tabs .appLabel{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:33.33333%;float:left;padding-left:.48544%;padding-right:.48544%;cursor:pointer;height:42px;padding:6px;background-color:#7893a1;color:#fff;text-align:center;vertical-align:middle;font-size:18px;border-left:1px solid #fff}.apparatuses_main .apparatuses_tabs .appLabel:hover{background-color:rgba(120,147,161,0.5);color:#263238}.apparatuses_main .apparatuses_tabs .appLabel.selected,.apparatuses_main .apparatuses_tabs .appLabel.selected:hover{color:#263238;background-color:#fff;-moz-box-shadow:inset 0 2px 2px -1px #7d7d7d;-o-box-shadow:inset 0 2px 2px -1px #7d7d7d;-webkit-box-shadow:inset 0 2px 2px -1px #7d7d7d;-khtml-box-shadow:inset 0 2px 2px -1px #7d7d7d;-ms-box-shadow:inset 0 2px 2px -1px #7d7d7d;box-shadow:inset 0 2px 2px -1px #7d7d7d;cursor:default}.apparatuses_main .apparatuses_tabs_header{display:block;width:100%;position:relative;height:42px;background:#7893a1}.apparatuses_main .apparatuses_tabs_body{height:-moz-calc(100% - 42px);height:-o-calc(100% - 42px);height:-webkit-calc(100% - 42px);height:calc(100% - 42px);padding:4%;overflow-y:auto}.apparatuses_main .apparatuses_tabs_fakeTopSpace{display:block;width:calc(100% - 23px);height:4px;position:absolute;top:42px + 2;top:-moz-calc(42px + 2px);top:-o-calc(42px + 2px);top:-webkit-calc(42px + 2px);top:calc(42px + 2px);z-index:1;background:#fff}.selector{height:28px;min-width:80px;margin-right:5px;position:relative;left:0;display:inline-block;background:#ECEFF1;color:#263238;font-size:1em;text-align:left;overflow:visible;-moz-box-shadow:0px 2px 4px rgba(0,0,0,0.4);-o-box-shadow:0px 2px 4px rgba(0,0,0,0.4);-webkit-box-shadow:0px 2px 4px rgba(0,0,0,0.4);-khtml-box-shadow:0px 2px 4px rgba(0,0,0,0.4);-ms-box-shadow:0px 2px 4px rgba(0,0,0,0.4);box-shadow:0px 2px 4px rgba(0,0,0,0.4);-moz-border-radius:2px;-o-border-radius:2px;-webkit-border-radius:2px;-khtml-border-radius:2px;-ms-border-radius:2px;border-radius:2px}.selector .label_selected{position:relative;top:3.5px;margin:0 4px;padding-right:24px}.selector .open_options{height:28px;width:24px;position:absolute;right:0;top:0;opacity:0.5;border-left:1px solid #b0bec5;border-radius:0 2px 2px 0;background:#b0bec5;text-align:center;cursor:pointer}.selector .open_options:hover{opacity:1}.selector .open_options .fa{text-shadow:none !important}.selector .option_container{display:none;height:auto;max-height:170px;min-width:100%;width:auto;position:absolute;left:0;top:30px;overflow-y:auto;background:#ECEFF1;z-index:400;-moz-box-shadow:0 2px 5px rgba(0,0,0,0.4);-o-box-shadow:0 2px 5px rgba(0,0,0,0.4);-webkit-box-shadow:0 2px 5px rgba(0,0,0,0.4);-khtml-box-shadow:0 2px 5px rgba(0,0,0,0.4);-ms-box-shadow:0 2px 5px rgba(0,0,0,0.4);box-shadow:0 2px 5px rgba(0,0,0,0.4)}.selector .option_container.openUp{display:block;visibility:hidden;top:0px;position:relative;float:left;max-height:300px;overflow:auto;-moz-box-shadow:0px 0px 5px rgba(0,0,0,0.4);-o-box-shadow:0px 0px 5px rgba(0,0,0,0.4);-webkit-box-shadow:0px 0px 5px rgba(0,0,0,0.4);-khtml-box-shadow:0px 0px 5px rgba(0,0,0,0.4);-ms-box-shadow:0px 0px 5px rgba(0,0,0,0.4);box-shadow:0px 0px 5px rgba(0,0,0,0.4)}.selector .option_container.expanded{display:block}.selector .option_container.expanded.openUp{display:inline;visibility:visible}.selector .option_container .option{height:100%;width:100%;padding:5px;position:relative;left:0;border-bottom:solid 1px #263238;background:#ECEFF1;color:#263238;display:flex}.selector .option_container .option:hover:not(.groupTitle){cursor:pointer;background:#37474f;color:#ECEFF1}.selector .option_container .option-icon-label{font-size:0.6em;margin:auto 0;position:relative;text-shadow:0px 0px 2px #000;margin-right:6px}.selector .option_container .option.groupTitle{cursor:default;font-size:90%;font-variant:small-caps;font-weight:bold;border-bottom:none;border-top:3px double #000}.selector .option_container .option.doubleBorderTop{border-top:3px double #000}.selector .option_container .option.selected{background:#263238;color:#ECEFF1;cursor:default}.selector .option_container .option.selected:hover{background:#263238;color:#ECEFF1}.selector.smaller{height:18px}.selector.smaller .label_selected{top:0}.selector.smaller .open_options{height:18px}.selector.smaller .open_options .fa{top:-2px;position:relative}.selector.smaller .option_container{top:20px}.selector.smaller .option_container .option{padding:1px 5px}.evt-bibliography__header{position:relative;background:#FFF;margin-top:0;padding:10px;height:45px;max-height:45px;text-align:center}.evt-bibliography__content{height:-moz-calc(calc(100% - 45px));height:-o-calc(calc(100% - 45px));height:-webkit-calc(calc(100% - 45px));height:calc(calc(100% - 45px));width:100%;overflow:auto;position:absolute;padding:10px}.evt-bibliography__content.noSorter{height:100% !important}.evt-bibliography__header>div{display:initial}.biblRef,.evtBiblRef{background-color:initial;-moz-transition-property:background-color;-o-transition-property:background-color;-webkit-transition-property:background-color;-khtml-transition-property:background-color;-ms-transition-property:background-color;transition-property:background-color;-moz-transition-duration:2s;-o-transition-duration:2s;-webkit-transition-duration:2s;-khtml-transition-duration:2s;-ms-transition-duration:2s;transition-duration:2s}.biblRef[highlight=true],.evtBiblRef[highlight=true]{background-color:antiquewhite}.biblRef *{color:#666;font-size:90%}.front .evtBiblRef{text-indent:1rem;margin-bottom:0.5rem}.biblRef:before,.evtBiblRef:before{content:\' \'}.biblRef .titleAnalytic:before,.biblRef .author:before,.biblRef .titleMonogr:before,.biblRef .biblscope .pubPlace:before,.biblRef .date:before,.biblRef .note:before,.biblRef .idno:before,.biblRef .edition:before,.biblRef .accessed:before,.biblRef .url .vol:before,.biblRef .pp:before,.biblRef .editors:before,.biblRef .date:before,.biblRef .publisher:before,.evtBiblRef .titleAnalytic:before,.evtBiblRef .author:before,.evtBiblRef .titleMonogr:before,.evtBiblRef .biblscope .pubPlace:before,.evtBiblRef .date:before,.evtBiblRef .note:before,.evtBiblRef .idno:before,.evtBiblRef .edition:before,.evtBiblRef .accessed:before,.evtBiblRef .url .vol:before,.evtBiblRef .pp:before,.evtBiblRef .editors:before,.evtBiblRef .date:before,.evtBiblRef .publisher:before{content:\' \'}.biblRef>span:last-of-type:after,.evtBiblRef>span:last-of-type:after{content:\'.\' !important}.biblRef>span:last-child:after,.evtBiblRef>span:last-child:after{content:\'.\' !important}.biblRef>span[data-style=mla]:last-of-type:after,.evtBiblRef>span[data-style=mla]:last-of-type:after{content:\'. Print.\' !important}.biblRef .name:before,.biblRef .surname:before,.evtBiblRef .name:before,.evtBiblRef .surname:before{content:\' \'}.biblRef .accessed,.evtBiblRef .accessed{content:\' accessed \'}.biblRef .url:before,.evtBiblRef .url:before{content:\' url: \'}.biblRef .author .name[data-style=chicago]:after,.evtBiblRef .author .name[data-style=chicago]:after{content:\', \'}.biblRef .author .name[data-style=mla]:after,.evtBiblRef .author .name[data-style=mla]:after{content:", "}.biblRef .author>.name[data-style=apa]:after,.evtBiblRef .author>.name[data-style=apa]:after{content:\', \'}.biblRef .author .surname[data-style=chicago]:after,.evtBiblRef .author .surname[data-style=chicago]:after{content:\', \'}.biblRef .author .surname[data-style=mla]:after,.evtBiblRef .author .surname[data-style=mla]:after{content:", "}.biblRef .author>.surname[data-style=apa]:after,.evtBiblRef .author>.surname[data-style=apa]:after{content:\', \'}.biblRef .author[data-style=apa]:not(:first-child):before,.evtBiblRef .author[data-style=apa]:not(:first-child):before{content:\' \'}.biblRef .authors[data-style=chicago]>.author:last-child:before,.evtBiblRef .authors[data-style=chicago]>.author:last-child:before{content:\'and \'}.biblRef .authors[data-style=chicago]>.author:last-child:before span:last-child:after,.evtBiblRef .authors[data-style=chicago]>.author:last-child:before span:last-child:after{content:\'.\'}.biblRef .authors[data-style=chicago]>.author:first-child:before,.evtBiblRef .authors[data-style=chicago]>.author:first-child:before{content:\' \'}.biblRef .authors[data-style=apa]>.author:last-child span:last-child:after,.evtBiblRef .authors[data-style=apa]>.author:last-child span:last-child:after{content:\'\'}.biblRef .authors[data-style=apa]>.author:last-child:before,.evtBiblRef .authors[data-style=apa]>.author:last-child:before{content:\'& \'}.biblRef .authors[data-style=apa]>.author:first-child:before,.evtBiblRef .authors[data-style=apa]>.author:first-child:before{content:\' \'}.biblRef .authors[data-style=mla]>.author:last-child span:last-child:after,.evtBiblRef .authors[data-style=mla]>.author:last-child span:last-child:after{content:\'\'}.biblRef .authors[data-style=mla]>.author:last-child:before,.evtBiblRef .authors[data-style=mla]>.author:last-child:before{content:\'and \'}.biblRef .authors[data-style=mla]>.author:first-child:before,.evtBiblRef .authors[data-style=mla]>.author:first-child:before{content:\' \'}.biblRef .date[data-style=chicago]:after,.evtBiblRef .date[data-style=chicago]:after{content:\'. \'}.biblRef .date[data-style=apa]:before,.evtBiblRef .date[data-style=apa]:before{content:\' (\'}.biblRef .date[data-style=apa]:after,.evtBiblRef .date[data-style=apa]:after{content:\'). \'}.biblRef .date[data-style=mla]:after,.evtBiblRef .date[data-style=mla]:after{content:\'. \'}.biblRef .edition[data-style=apa]:before,.evtBiblRef .edition[data-style=apa]:before{content:" "}.biblRef .edition[data-style=apa]:after,.evtBiblRef .edition[data-style=apa]:after{content:". "}.biblRef .editor[data-style=mla]:after,.evtBiblRef .editor[data-style=mla]:after{content:\'. \'}.biblRef>.editors[data-style=chicago]>.editor[data-style=chicago]:after,.evtBiblRef>.editors[data-style=chicago]>.editor[data-style=chicago]:after{content:\',\'}.biblRef .editors[data-style=chicago]>.editor:first-child:before,.evtBiblRef .editors[data-style=chicago]>.editor:first-child:before{content:\' edited by \'}.biblRef .editors[data-style=chicago]>.editor:last-child:not(:first-child):before,.evtBiblRef .editors[data-style=chicago]>.editor:last-child:not(:first-child):before{content:\' and \'}.biblRef .editors[data-style=chicago]>.editor:last-child:after,.evtBiblRef .editors[data-style=chicago]>.editor:last-child:after{content:\'\'}.biblRef .idno[data-type=DOI]:before,.evtBiblRef .idno[data-type=DOI]:before{content:\' DOI:\'}.biblRef .idno[data-type=ISSN]:before,.evtBiblRef .idno[data-type=ISSN]:before{content:\' ISSN:\'}.biblRef .idno[data-type=ISBN]:before,.evtBiblRef .idno[data-type=ISBN]:before{content:\' ISBN:\'}.biblRef .idno[data-type=URI]:before,.evtBiblRef .idno[data-type=URI]:before{content:\' URI:\'}.biblRef .idno[data-type=VIAF]:before,.evtBiblRef .idno[data-type=VIAF]:before{content:\' VIAF:\'}.biblRef .idno[data-type=ESTC]:before,.evtBiblRef .idno[data-type=ESTC]:before{content:\' ESTC:\'}.biblRef .idno[data-type=OCLC]:before,.evtBiblRef .idno[data-type=OCLC]:before{content:\' OCLC:\'}.biblRef .issue[data-style=chicago]:before,.evtBiblRef .issue[data-style=chicago]:before{content:\' no. \'}.biblRef>.pubPlace[data-style=chicago]:not(:last-child):after,.evtBiblRef>.pubPlace[data-style=chicago]:not(:last-child):after{content:\': \'}.biblRef>.pubPlace[data-style=chicago]:after,.evtBiblRef>.pubPlace[data-style=chicago]:after{content:\'. \'}.biblRef .pubPlace[data-style=apa]:after,.evtBiblRef .pubPlace[data-style=apa]:after{content:":"}.biblRef .pubPlace[data-style=mla]:after,.evtBiblRef .pubPlace[data-style=mla]:after{content:": " !important}.biblRef .pubPlace[data-style=mla]:after,.evtBiblRef .pubPlace[data-style=mla]:after{content:\'. \'}.biblRef .publisher[data-style=apa]:before,.evtBiblRef .publisher[data-style=apa]:before{content:\' \'}.biblRef .publisher[data-style=apa]:after,.evtBiblRef .publisher[data-style=apa]:after{content:\'. \'}.biblRef .publisher[data-style=mla]:after,.evtBiblRef .publisher[data-style=mla]:after{content:\', \'}.biblRef .titleMonogr[data-style=chicago],.biblRef .titleMonogr[data-style=apa],.biblRef .titleMonogr[data-style=mla],.evtBiblRef .titleMonogr[data-style=chicago],.evtBiblRef .titleMonogr[data-style=apa],.evtBiblRef .titleMonogr[data-style=mla]{font-style:italic}.biblRef .titleMonogr[data-style=chicago]:after,.biblRef .titleMonogr[data-style=apa]:after,.biblRef .titleMonogr[data-style=mla]:after,.evtBiblRef .titleMonogr[data-style=chicago]:after,.evtBiblRef .titleMonogr[data-style=apa]:after,.evtBiblRef .titleMonogr[data-style=mla]:after{content:\'.\'}.biblRef .titleAnalytic[data-style=chicago]:before,.evtBiblRef .titleAnalytic[data-style=chicago]:before{content:\' "\'}.biblRef .titleAnalytic[data-style=chicago]:after,.evtBiblRef .titleAnalytic[data-style=chicago]:after{content:\'", \'}.biblRef .titleAnalytic[data-style=chicago]+.titleMonogr[data-style=chicago]:before,.evtBiblRef .titleAnalytic[data-style=chicago]+.titleMonogr[data-style=chicago]:before{font-style:initial;content:\'in \'}.biblRef .titleAnalytic[data-style=apa]:after,.evtBiblRef .titleAnalytic[data-style=apa]:after{content:\'. \'}.biblRef .titleAnalytic[data-style=mla]:after,.evtBiblRef .titleAnalytic[data-style=mla]:after{content:\'. \'}.biblRef .url[data-style=apa]:before,.evtBiblRef .url[data-style=apa]:before{content:\' \'}.biblRef .url[data-style=apa]:after,.evtBiblRef .url[data-style=apa]:after{content:\'. \'}.biblRef .vol[data-style=chicago]:not(:last-child):after,.evtBiblRef .vol[data-style=chicago]:not(:last-child):after{content:\',\'}.biblRef .vol[data-style=apa]:not(:last-child):after,.evtBiblRef .vol[data-style=apa]:not(:last-child):after{content:\',\'}.biblRef[pubblicationtype=m] .edition[data-style=chicago]:after,.evtBiblRef[pubblicationtype=m] .edition[data-style=chicago]:after{content:\'.\'}.biblRef[pubblicationtype=m] .pp[data-style=apa]:before,.evtBiblRef[pubblicationtype=m] .pp[data-style=apa]:before{content:\' (pp. \'}.biblRef[pubblicationtype=m] .pp[data-style=apa]:after,.evtBiblRef[pubblicationtype=m] .pp[data-style=apa]:after{content:\'). \'}.biblRef[pubblicationtype=m]>.publisher[data-style=chicago]:not(:last-child):after,.evtBiblRef[pubblicationtype=m]>.publisher[data-style=chicago]:not(:last-child):after{content:\',\'}.biblRef[pubblicationtype=m]>.publisher[data-style=chicago]:after,.evtBiblRef[pubblicationtype=m]>.publisher[data-style=chicago]:after{content:\'.\'}.biblRef[pubblicationtype=m] .vol[data-style=chicago]:after,.evtBiblRef[pubblicationtype=m] .vol[data-style=chicago]:after{content:\'.\'}.biblRef[pubblicationtype=a] .pp[data-style=apa]:before,.evtBiblRef[pubblicationtype=a] .pp[data-style=apa]:before{content:\'  \'}.biblRef[pubblicationtype=a] .pp[data-style=apa]:after,.evtBiblRef[pubblicationtype=a] .pp[data-style=apa]:after{content:\'  \'}.biblRef[pubblicationtype=am] .pp[data-style=apa]:before,.biblRef[pubblicationtype=ma] .pp[data-style=apa]:before,.evtBiblRef[pubblicationtype=am] .pp[data-style=apa]:before,.evtBiblRef[pubblicationtype=ma] .pp[data-style=apa]:before{content:\' (pp. \'}.biblRef[pubblicationtype=am] .pp[data-style=apa]:after,.biblRef[pubblicationtype=ma] .pp[data-style=apa]:after,.evtBiblRef[pubblicationtype=am] .pp[data-style=apa]:after,.evtBiblRef[pubblicationtype=ma] .pp[data-style=apa]:after{content:\'). \'}.biblRef[pubblicationtype=j] .pp[data-style=apa]:after,.biblRef[pubblicationtype=u] .pp[data-style=apa]:after,.evtBiblRef[pubblicationtype=j] .pp[data-style=apa]:after,.evtBiblRef[pubblicationtype=u] .pp[data-style=apa]:after{content:\'. \'}.biblRef[pubblicationtype=j] .date[data-style=mla]:before,.evtBiblRef[pubblicationtype=j] .date[data-style=mla]:before{content:" ("}.biblRef[pubblicationtype=j] .date:last-of-type:after,.evtBiblRef[pubblicationtype=j] .date:last-of-type:after{content:\'). Print. \' !important}.biblRef[pubblicationtype=j]>.date[data-style=mla]:not(:last-child):after,.evtBiblRef[pubblicationtype=j]>.date[data-style=mla]:not(:last-child):after{content:"): "}.biblRef[pubblicationtype=j] .titleAnalytic[data-style=mla]:before,.evtBiblRef[pubblicationtype=j] .titleAnalytic[data-style=mla]:before{content:\' "\'}.biblRef[pubblicationtype=j] .titleAnalytic[data-style=mla]:after,.evtBiblRef[pubblicationtype=j] .titleAnalytic[data-style=mla]:after{content:\'." \'}.biblRef[pubblicationtype=j] .titleMonogr[data-style=mla]:after,.evtBiblRef[pubblicationtype=j] .titleMonogr[data-style=mla]:after{content:". "}.biblRef[pubblicationtype=j] .pp[data-style=mla]:after,.evtBiblRef[pubblicationtype=j] .pp[data-style=mla]:after{content:". "}.biblRef[pubblicationtype=j] .vol[data-style=mla]:after,.evtBiblRef[pubblicationtype=j] .vol[data-style=mla]:after{content:". "}.biblRef[pubblicationtype=a] .date[data-style=mla]:before,.evtBiblRef[pubblicationtype=a] .date[data-style=mla]:before{content:" ("}.biblRef[pubblicationtype=a] .date[data-style=mla]:last-of-type:after,.evtBiblRef[pubblicationtype=a] .date[data-style=mla]:last-of-type:after{content:\'). Print. \' !important}.biblRef[pubblicationtype=a]>.date[data-style=mla]:not(:last-child):after,.evtBiblRef[pubblicationtype=a]>.date[data-style=mla]:not(:last-child):after{content:"): "}.biblRef[pubblicationtype=a] .pp[data-style=mla]:after,.evtBiblRef[pubblicationtype=a] .pp[data-style=mla]:after{content:". "}.biblRef[pubblicationtype=a] .titleAnalytic[data-style=mla]:before,.evtBiblRef[pubblicationtype=a] .titleAnalytic[data-style=mla]:before{content:\' "\'}.biblRef[pubblicationtype=a] .titleAnalytic[data-style=mla]:after,.evtBiblRef[pubblicationtype=a] .titleAnalytic[data-style=mla]:after{content:\'." \'}.biblRef[pubblicationtype=a] .titleMonogr[data-style=mla]:after,.evtBiblRef[pubblicationtype=a] .titleMonogr[data-style=mla]:after{content:". "}.biblRef[pubblicationtype=a] .vol[data-style=mla]:after,.evtBiblRef[pubblicationtype=a] .vol[data-style=mla]:after{content:". "}.biblRef[pubblicationtype=u] .date[data-style=mla]:before,.evtBiblRef[pubblicationtype=u] .date[data-style=mla]:before{content:" "}.biblRef[pubblicationtype=u] .date[data-style=mla]:last-child:after,.evtBiblRef[pubblicationtype=u] .date[data-style=mla]:last-child:after{content:\'. Print.\' !important}.biblRef[pubblicationtype=u]>.date[data-style=mla]+:not(span.generic):after,.evtBiblRef[pubblicationtype=u]>.date[data-style=mla]+:not(span.generic):after{content:" "}.biblRef[pubblicationtype=u] .pp[data-style=mla]:after,.evtBiblRef[pubblicationtype=u] .pp[data-style=mla]:after{content:". "}.biblRef[pubblicationtype=u] .titleAnalytic[data-style=mla]:before,.evtBiblRef[pubblicationtype=u] .titleAnalytic[data-style=mla]:before{content:\' "\'}.biblRef[pubblicationtype=u] .titleAnalytic[data-style=mla]:after,.evtBiblRef[pubblicationtype=u] .titleAnalytic[data-style=mla]:after{content:\'." \'}.biblRef[pubblicationtype=u] .titleMonogr[data-style=mla]:after,.evtBiblRef[pubblicationtype=u] .titleMonogr[data-style=mla]:after{content:". "}.biblRef[pubblicationtype=u] .vol[data-style=mla]:after,.evtBiblRef[pubblicationtype=u] .vol[data-style=mla]:after{content:". "}.biblRef .unstructuredBibl.emph,.evtBiblRef .unstructuredBibl.emph{font-style:italic}button-switch{margin-right:5px;display:inline-block}button-switch .buttonSwitch{min-height:28px;min-width:30px;width:auto;vertical-align:middle;position:relative;display:inline-flex !important;justify-content:center;align-items:center;overflow:visible;left:0px;font-size:1em;text-align:left;background:#ECEFF1;color:#263238;box-shadow:0px 2px 4px rgba(0,0,0,0.4);border-radius:2px}button-switch .buttonSwitch.only-icon{text-align:center}button-switch .buttonSwitch.only-text{padding-right:10px;text-align:center}button-switch .buttonSwitch:hover{box-shadow:1px 2px 3px rgba(0,0,0,0.4) inset;text-shadow:none !important;cursor:pointer}button-switch .buttonSwitch-active{background:#FFC107;color:#000}button-switch .buttonSwitch-disabled{opacity:.5;cursor:default !important}button-switch .buttonSwitch-disabled:hover{box-shadow:none !important;text-shadow:none !important}button-switch .buttonSwitch-label{margin:0px;margin-left:4px}button-switch .buttonSwitch-icon{position:relative;right:0px;font-size:1.4em}button-switch .buttonSwitch-icon.fa{font-size:1.1em !important;top:0px}button-switch .buttonSwitch-icon.fa.fa-angle-double-down{top:-4px}button-switch .buttonSwitch.iconLeft .buttonSwitch-icon{top:8px}button-switch .buttonSwitch.iconLeft .buttonSwitch-label{margin-left:0;margin-right:4px}button-switch .buttonSwitch-disabled,button-switch[data-disabled="true"] .buttonSwitch{opacity:.5;cursor:not-allowed !important}button-switch .buttonSwitch-disabled:hover,button-switch[data-disabled="true"] .buttonSwitch:hover{box-shadow:none !important;text-shadow:none !important}button-switch.sliders{margin-right:0}button-switch.sliders .buttonSwitch{font-size:0.5em}button-switch.navBar-opener .buttonSwitch,button-switch.navBar-closer .buttonSwitch{position:absolute;right:2px;left:auto;bottom:45px;background:rgba(236,239,241,0.4);z-index:999999;font-size:0.8em;border-bottom-left-radius:0;border-bottom-right-radius:0}button-switch.navBar-opener .buttonSwitch:hover,button-switch.navBar-closer .buttonSwitch:hover{background:#eceff1}button-switch.navBar-opener.inverted-color .buttonSwitch,button-switch.navBar-closer.inverted-color .buttonSwitch{background:rgba(38,50,56,0.4)}button-switch.navBar-opener.inverted-color .buttonSwitch:hover,button-switch.navBar-closer.inverted-color .buttonSwitch:hover{background:#263238}button-switch.navBar-closer .buttonSwitch{bottom:1px}button-switch.inverted-color .buttonSwitch{color:#ECEFF1;background:#263238}button-switch.no-background .buttonSwitch{background:none;box-shadow:none;border-radius:0;width:0px}button-switch.no-background .buttonSwitch-label{font-variant:small-caps;font-size:80%;top:0}button-switch.no-background .buttonSwitch-icon{font-size:1.3em}button-switch.no-background .buttonSwitch-active .icon,button-switch.no-background .buttonSwitch:hover .icon{cursor:pointer}button-switch[data-type=\'removeWit\'],button-switch[data-type*=\'remove\'],button-switch[data-type*=\'close\']{position:absolute;right:6px}button-switch[data-type=\'removeWit\'] .buttonSwitch,button-switch[data-type*=\'remove\'] .buttonSwitch,button-switch[data-type*=\'close\'] .buttonSwitch{border-radius:100px;height:22px;min-height:22px;min-width:22px;width:22px;font-size:0.7em}button-switch[data-type=\'removeWit\'] .buttonSwitch-icon,button-switch[data-type*=\'remove\'] .buttonSwitch-icon,button-switch[data-type*=\'close\'] .buttonSwitch-icon{right:0px;font-weight:bold}button-switch.smaller .buttonSwitch{font-size:90%;top:-2px}.togglePinned_btn{position:absolute;top:54px;z-index:20;left:75%;transform:none !important}.togglePinned_btn.centered{left:75%}.togglePinned_btn.half-centered{left:62.5%}.togglePinned_btn.half-left{left:50%}.togglePinned_btn.left{left:37.5%}.togglePinned_btn .buttonSwitch{transform:translate(-50%, 0px);border-radius:100px;height:40px;width:40px;text-align:center;opacity:1;font-weight:bold;color:#291d1d;background:#FFC107}.togglePinned_btn .buttonSwitch.buttonSwitch-disabled{display:none}.togglePinned_btn .buttonSwitch-label{display:none}.togglePinned_btn .buttonSwitch-icon{margin-left:8px;margin:8px 0;font-size:1.4em}.box{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:50%;float:left;padding-left:.08091%;padding-right:.08091%;height:100%;white-space:normal;position:relative;display:inline-block;color:#000;background:#fff}.box .box-body{border:2px solid #263238}.box .box-menu{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;float:left;padding-left:.16181%;padding-right:.16181%;color:#ECEFF1;background:#263238;height:42px;min-height:42px;font-size:16px;padding:6px;display:block;float:none;color:#ECEFF1;background:#263238}.box .box-menu[data-position=\'top\']{display:inline-flex;align-items:center;border-radius:2px 2px 0 0}.box .box-menu[data-position=\'bottom\']{display:inline-flex;align-items:center;border-radius:0 0 2px 2px}.box .box-body{padding:4% 4%;height:-moz-calc(100% -  84px);height:-o-calc(100% -  84px);height:-webkit-calc(100% -  84px);height:calc(100% -  84px);overflow:auto}.box .box-body.noBottomMenu{height:-moz-calc(100% -  84px + 42px);height:-o-calc(100% -  84px + 42px);height:-webkit-calc(100% -  84px + 42px);height:calc(100% -  84px + 42px)}.box .box-top-box,.box .box-bottom-box{background:#fff;text-align:left;font-size:90%;margin-top:42px;margin-bottom:42px;display:none;position:absolute;z-index:10;padding:20px}.box .box-top-box.open,.box .box-bottom-box.open{display:block}.box .box-top-box:not(#msDesc){background:rgba(236,239,241,0.8);overflow-y:auto;overflow-x:hidden;top:2px;right:3px;left:3px;height:-moz-calc(100% -  84px - 4px);height:-o-calc(100% -  84px - 4px);height:-webkit-calc(100% -  84px - 4px);height:calc(100% -  84px - 4px);width:-moz-calc(calc(100% - $mainContainer-border-width));width:-o-calc(calc(100% - $mainContainer-border-width));width:-webkit-calc(calc(100% - $mainContainer-border-width));width:calc(calc(100% - $mainContainer-border-width))}.box #msDesc{background:rgba(236,239,241,0.8);overflow-y:auto;overflow-x:hidden;top:2px;right:3px;left:3px;width:-moz-calc(calc(100% - $mainContainer-border-width));width:-o-calc(calc(100% - $mainContainer-border-width));width:-webkit-calc(calc(100% - $mainContainer-border-width));width:calc(calc(100% - $mainContainer-border-width));z-index:30}.box .box-bottom-box{bottom:0px;right:2px;left:2px;height:auto;overflow:hidden;border-top:1px solid;-moz-box-shadow:0px 0px 4px rgba(0,0,0,0.5);-o-box-shadow:0px 0px 4px rgba(0,0,0,0.5);-webkit-box-shadow:0px 0px 4px rgba(0,0,0,0.5);-khtml-box-shadow:0px 0px 4px rgba(0,0,0,0.5);-ms-box-shadow:0px 0px 4px rgba(0,0,0,0.5);box-shadow:0px 0px 4px rgba(0,0,0,0.5)}.box .tools-group-box{display:none;position:absolute;z-index:10;height:auto;min-width:calc(100% - 8px);overflow:hidden;padding:5px 10px;margin-top:42px;margin-bottom:42px;bottom:3px;left:4px;border:2px solid #263238;background:#fff;-moz-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);-o-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);-webkit-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);-khtml-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);-ms-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);text-align:left;font-size:1.5em}.box .tools-group-box.open{display:block}.box .filters-box{display:none;position:absolute;z-index:10;height:auto;min-width:30%;overflow:hidden;margin-top:42px;margin-bottom:42px;bottom:3px;left:4px;border:2px solid #263238;background:#fff;-moz-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);-o-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);-webkit-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);-khtml-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);-ms-box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);box-shadow:0px 0px 14px -4px rgba(0,0,0,0.5);text-align:left;font-size:90%}.box .filters-box.open{display:block}.box .filters-box .filter-group{border-bottom:3px double #000}.box .filters-box .filter-group:last-child{border-bottom:0}.box .filters-box .filters-section-title{text-transform:uppercase;font-weight:bold;font-size:85%;width:100%;text-align:left;padding:10px;padding-top:5px;padding-bottom:5px;background:#e5e5e5}.box .filters-box .filter-value-outer{padding:3px 10px}.box .filters-box .filter-value{border-radius:2px;background:#E0E0E0;display:inline-block}.box .filters-box .filter-value-label{cursor:pointer;padding:0 8px;display:inline-block;font-variant:small-caps}.box .filters-box .filter-value-label:not(.active){background:#fff !important}.box .filters-box .filter-value-label:not(.active):hover{border-radius:2px;background:rgba(255,255,255,0.5) !important}.box .filters-box .filter-value-label.active{border-radius:2px;-moz-box-shadow:0px 1px 3px rgba(0,0,0,0.3);-o-box-shadow:0px 1px 3px rgba(0,0,0,0.3);-webkit-box-shadow:0px 1px 3px rgba(0,0,0,0.3);-khtml-box-shadow:0px 1px 3px rgba(0,0,0,0.3);-ms-box-shadow:0px 1px 3px rgba(0,0,0,0.3);box-shadow:0px 1px 3px rgba(0,0,0,0.3)}.box .filters-box .filter-value-label.active:not(.filter-any):hover{border-radius:2px;background:rgba(255,255,255,0.2) !important}.box.box-image .box-body{color:#ECEFF1;background:#000;overflow:hidden;text-align:center;padding:0px}.box.box-image .box-body img{height:100%}.box.box-text.span6of18,.box.box-critical_apparatus.span6of18{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:33.33333%;float:left;padding-left:.08091%;padding-right:.08091%}.box.box-witness{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:41.66667%;float:left;padding-left:.12136%;padding-right:.12136%;float:none}.box.box-witness.span6of12{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:50%;float:left;padding-left:.12136%;padding-right:.12136%}.box.box-witness.span9of9{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;float:left;padding-left:.16181%;padding-right:.16181%}.box.box-witness .box-body{border-color:#607d8b;background:#eceff1}.box.box-witness .box-menu{color:#ECEFF1;background:#607d8b}.box.box-witness .filters-box,.box.box-witness .tools-group-box{border-color:#607d8b}.box.box-version{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:41.66667%;float:left;padding-left:.12136%;padding-right:.12136%;float:none}.box.box-version.span6of12{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:50%;float:left;padding-left:.12136%;padding-right:.12136%}.box.box-version.span9of9{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;float:left;padding-left:.16181%;padding-right:.16181%}.box.box-version .box-body{border-color:#607d8b;background:#eceff1}.box.box-version .box-menu{color:#ECEFF1;background:#607d8b}.box.box-version .filters-box,.box.box-version .tools-group-box{border-color:#607d8b}.box.box-text .box-body,.box.box-witness .box-body,.box.box-version .box-body{position:relative;overflow-x:hidden;overflow-y:auto}.box.box-critical_apparatus .box-body{height:100%;overflow-x:auto}.box.box-pinnedBoard{width:25%;left:12.5%}.box.box-source .box-body{overflow-y:auto}.box.box-empty .box-body{height:100%;padding:0.4px;overflow:hidden;border-color:#607d8b}.box.topBoxOpened .box-body{color:transparent !important;text-shadow:0 0 5px #000}.box.topBoxOpened .box-body *{background:transparent !important}.box .loading{position:absolute;top:0;left:0;text-align:center;width:100%}.box .loading i{margin-left:-22.5px}.centered .box{left:25%}.half-centered .box{left:12.5%}.half-left .box{left:0%}.smaller-left .box{left:0%;width:37.5%}.smaller .box{width:37.5%}.pin-centered .box{left:0%}.compareWits_box,.compareVer_box{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:66.66667%;float:left;padding-left:.08091%;padding-right:.08091%;overflow-x:auto;overflow-y:hidden;height:100%;white-space:normal;position:relative;display:inline-block;margin:0}.compareWits_box.span9of18,.compareVer_box.span9of18{width:50%;overflow-x:hidden}.compareWits_box.span18of18,.compareVer_box.span18of18{width:100%}.compareWits_box.span18of18 .box-witness,.compareWits_box.span18of18 .box-version,.compareVer_box.span18of18 .box-witness,.compareVer_box.span18of18 .box-version{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:27.77778%;float:left;padding-left:.08091%;padding-right:.08091%;float:none}.compareWits_box.span18of18 .box-witness.span6of12,.compareWits_box.span18of18 .box-witness.span9of9,.compareWits_box.span18of18 .box-version.span6of12,.compareWits_box.span18of18 .box-version.span9of9,.compareVer_box.span18of18 .box-witness.span6of12,.compareVer_box.span18of18 .box-witness.span9of9,.compareVer_box.span18of18 .box-version.span6of12,.compareVer_box.span18of18 .box-version.span9of9{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:50%;float:left;padding-left:.08091%;padding-right:.08091%}.compareWits_box.span18of18 .box-witness.span6of18,.compareWits_box.span18of18 .box-version.span6of18,.compareVer_box.span18of18 .box-witness.span6of18,.compareVer_box.span18of18 .box-version.span6of18{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:33.33333%;float:left;padding-left:.08091%;padding-right:.08091%}.compareWits_box--buttonAddWit,.compareVer_box--buttonAddVer{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:20}.compareWits_box--buttonAddWit.left75,.compareVer_box--buttonAddVer.left75{left:75%}.compareWits_box--buttonAddWit.floatRight,.compareVer_box--buttonAddVer.floatRight{position:absolute;left:99%;transform:translate(-100%, -50%);top:50%}.compareWits_box--buttonAddWit.floatRight .buttonSwitch,.compareVer_box--buttonAddVer.floatRight .buttonSwitch{border-radius:100px;height:40px;width:40px;text-align:center;opacity:.5;font-weight:bold}.compareWits_box--buttonAddWit.floatRight .buttonSwitch:hover,.compareVer_box--buttonAddVer.floatRight .buttonSwitch:hover{opacity:1}.compareWits_box--buttonAddWit.floatRight .buttonSwitch.buttonSwitch-disabled,.compareVer_box--buttonAddVer.floatRight .buttonSwitch.buttonSwitch-disabled{display:none}.compareWits_box--buttonAddWit.floatRight .buttonSwitch-label,.compareVer_box--buttonAddVer.floatRight .buttonSwitch-label{display:none}.compareWits_box--buttonAddWit.floatRight .buttonSwitch-icon,.compareVer_box--buttonAddVer.floatRight .buttonSwitch-icon{margin-left:8px;margin:8px 0;font-size:2.2em}.box-body.search-opened #mainContentToTranform{padding-bottom:30px}.popover{display:inline}.popover_trigger{color:#263238;opacity:.7;cursor:pointer;font-size:110%;vertical-align:top}.popover_trigger.expanded{opacity:1}.popover_trigger.active:hover{opacity:1;text-shadow:0px 0px 0.3px rgba(0,0,0,0.9)}.popover_trigger.active:hover .popup_tooltip{text-decoration:none}.popover_trigger.blurred{color:transparent !important;text-shadow:0 0 5px #000}.avoidBlur .popover_trigger.blurred{color:#263238 !important;text-shadow:0px 0px 0.3px rgba(0,0,0,0.9)}.popover_tooltip{display:none;margin:0 10px;position:relative;padding:5px;z-index:99;background:#ECEFF1;color:#263238;font-size:90%;text-align:center;-moz-box-shadow:2px 2px 2px #7e7067;-o-box-shadow:2px 2px 2px #7e7067;-webkit-box-shadow:2px 2px 2px #7e7067;-khtml-box-shadow:2px 2px 2px #7e7067;-ms-box-shadow:2px 2px 2px #7e7067;box-shadow:2px 2px 2px #7e7067;border:2.5px solid black;border-radius:3px;cursor:text !important}.popover_tooltip span{background:transparent}.popover_tooltip.expanded{display:block}.popover_tooltip.hidden{opacity:0}.popover_tooltip .popover__tooltip__before{position:absolute;top:0px}.popover_tooltip .popover__tooltip__before::before{position:absolute;font-family:FontAwesome;font-size:2em;color:#ECEFF1;top:-15px;content:"\\f0d8";text-shadow:0px -3px 0px #000;height:0px}.popover_tooltip.open-up .popover__tooltip__before::before{content:"\\f0d7";text-shadow:0px 3px 0px #000}.critical-apparatus-entry{margin:0;margin-bottom:10px;position:relative;z-index:0;background:rgba(0,0,0,0);color:#263238;font-size:95%;border-left:1px solid #7d7d7d;border-right:1px solid #7d7d7d;cursor:text !important}.critical-apparatus-entry span:not(.app_lemma),.critical-apparatus-entry span:not(.app_lemma_content){background:transparent;display:inline;word-wrap:break-word}.critical-apparatus-entry.active{display:block}.critical-apparatus-entry.blurred{border:none;color:transparent !important;text-shadow:0 0 5px #000}.critical-apparatus-entry.hidden{opacity:0;background:transparent !important}.critical-apparatus-entry.over{-webkit-box-shadow:0 10px 10px -10px rgba(125,125,125,0.8);-moz-box-shadow:0 10px 10px -10px rgba(125,125,125,0.8);box-shadow:0 10px 10px -10px rgba(125,125,125,0.8)}.critical-apparatus-entry.selected{background-color:#ECEFF1;border-color:#7d7d7d}.critical-apparatus-entry.selected .critical-apparatus-entry-panels{background-color:#f5f8f8}.critical-apparatus-entry_tools{padding:0;float:right;display:block;position:relative;bottom:6px;right:-2px;background:transparent;text-align:center}.critical-apparatus-entry_tools button-switch{margin-right:0;font-size:70%}.critical-apparatus-entry_tools button-switch .buttonSwitch{box-shadow:none;border:1px solid rgba(0,0,0,0);top:3px;display:inline-block}.critical-apparatus-entry_tools button-switch.active .buttonSwitch,.critical-apparatus-entry_tools button-switch:hover .buttonSwitch{-moz-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-o-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-webkit-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-khtml-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-ms-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);background-color:#f5f8f8;border:1px solid #7d7d7d}.critical-apparatus-entry_main-content{padding:5px;font-size:105%;border-top:1px solid #7d7d7d}.critical-apparatus-entry_main-content_list{display:inline}.critical-apparatus-entry_main-content ul{display:inline;margin:0;padding:0}.critical-apparatus-entry_main-content ul li{display:inline-block;margin-right:5px}.critical-apparatus-entry_main-content ul li:not(:last-child)::after{content:"; "}.critical-apparatus-entry_main-content ul.app_reading_list{list-style-type:initial !important;position:relative;left:1em;margin-top:0.7em;margin-bottom:0.4em;margin-left:0.4em;margin-right:0.4em}.critical-apparatus-entry_main-content ul.app_reading_list li{display:list-item;margin-bottom:0.2em}.critical-apparatus-entry_main-content ul.app_reading_list li:not(:last-child)::after{content:none}.critical-apparatus-entry_main-content ul.app_reading_list li span.witGrp_name{display:inline;font-weight:bold;font-style:italic;font-variant:small-caps}.critical-apparatus-entry_main-content ul.app_reading_list li span.witGrp_content{display:inline}.critical-apparatus-entry_main-content .app_lemma::after{content:"]"}.critical-apparatus-entry_main-content .sub_app .app_lemma_content::after{content:"]"}.critical-apparatus-entry_main-content .sub_app{margin-left:30px;margin-top:5px}.critical-apparatus-entry_main-content .sub_app.firstSubApp{margin-top:15px !important}.critical-apparatus-entry_other-content{border-top:3px double #7d7d7d;border-bottom:1px solid #7d7d7d}.critical-apparatus-entry_other-content p{padding:0 10px}.critical-apparatus-entry_other-content_headers{z-index:2;position:relative}.critical-apparatus-entry_other-content_headers:not(.closed){-moz-box-shadow:0px 9px 5px -4px #f5f8f8;-o-box-shadow:0px 9px 5px -4px #f5f8f8;-webkit-box-shadow:0px 9px 5px -4px #f5f8f8;-khtml-box-shadow:0px 9px 5px -4px #f5f8f8;-ms-box-shadow:0px 9px 5px -4px #f5f8f8;box-shadow:0px 9px 5px -4px #f5f8f8}.critical-apparatus-entry_other-content_headers span{padding:5px;display:inline-block;font-size:95%;cursor:pointer;border-left:1px solid #f5f8f8}.critical-apparatus-entry_other-content_headers span:first-child{border-left:none}.critical-apparatus-entry_other-content_headers span:hover{text-shadow:0px 0px 1px rgba(0,0,0,0.7)}.critical-apparatus-entry_other-content_headers span.active{-moz-box-shadow:inset 0 2px 2px -1px #7d7d7d;-o-box-shadow:inset 0 2px 2px -1px #7d7d7d;-webkit-box-shadow:inset 0 2px 2px -1px #7d7d7d;-khtml-box-shadow:inset 0 2px 2px -1px #7d7d7d;-ms-box-shadow:inset 0 2px 2px -1px #7d7d7d;box-shadow:inset 0 2px 2px -1px #7d7d7d;background-color:#f5f8f8;border-right:1px solid #f5f8f8}.critical-apparatus-entry_other-content_headers span.active:not(:first-child){border-left:1px solid #f5f8f8}.critical-apparatus-entry_other-content_headers span.active+span{border-left:none}.critical-apparatus-entry_other-content_panels{overflow-x:hidden;overflow-y:auto;background-color:#f5f8f8}.critical-apparatus-entry_other-content_panels:not(.closed){padding:10px 15px}.critical-apparatus-entry_other-content_panels:not(.fullHeight){max-height:150px}.critical-apparatus-entry_other-content_panel{display:none}.critical-apparatus-entry_other-content_panel.active{display:block;margin-bottom:10px}.critical-apparatus-entry_other-content_panel ul{padding-left:10px;list-style-type:none;margin:5px 0px}.critical-apparatus-entry_other-content_panel .app_lemma em{font-weight:bold}.critical-apparatus-entry_other-content_panel .app_lemma::after{content:""}.critical-apparatus-entry_other-content_panel .app_lemma .witnesses{display:none}.critical-apparatus-entry_other-content_panel .app_reading{font-weight:bold}.critical-apparatus-entry_other-content_panel .app_reading .witnesses{display:none}.critical-apparatus-entry_other-content_panel_orthographic_title{text-align:center;width:100%;font-variant:small-caps;font-size:95%;margin-top:10px;margin-bottom:10px}.critical-apparatus-entry .witnesses{display:inline}.critical-apparatus-entry .witnesses .wit{margin:0 3px;cursor:pointer;text-decoration:underline}.critical-apparatus-entry .witnesses .wit:hover{text-shadow:0px 0px 1px rgba(0,0,0,0.7)}.critical-apparatus-entry .witnesses .wit::after{text-decoration:none !important}.critical-apparatus-entry .witnesses .wit.selected{cursor:default;text-shadow:0px 0px 1px rgba(0,0,0,0.7);text-decoration:none}.critical-apparatus-entry .attributes::before{content:" – "}.critical-apparatus-entry .attributes::after{content:""}.critical-apparatus-entry .attributes span{font-style:italic}.critical-apparatus-entry .attributes span::after{content:", "}.critical-apparatus-entry .attributes span:last-child::after{content:""}.critical-apparatus-entry.noTools{border-right:1px solid #7d7d7d}.critical-apparatus-entry.noTools .critical-apparatus-entry_main-content,.critical-apparatus-entry.noTools .critical-apparatus-entry_other-content{width:100%}.in_critical_apparatus .critical-apparatus-entry{cursor:pointer !important;border:0;background:transparent}.in_critical_apparatus .critical-apparatus-entry:hover{background:rgba(0,0,0,0)}.in_critical_apparatus .critical-apparatus-entry:hover>*{background:rgba(0,0,0,0)}.in_critical_apparatus .critical-apparatus-entry_tools{border:0;padding-left:0}.in_critical_apparatus .critical-apparatus-entry_tools button-switch .buttonSwitch{border:1px solid transparent}.in_critical_apparatus .critical-apparatus-entry_main-content{border:0}.in_critical_apparatus .critical-apparatus-entry_other-content{display:none}.in_critical_apparatus.active .critical-apparatus-entry{background:rgba(0,0,0,0)}.blurred .critical-apparatus-entry,.blurred .critical-apparatus-entry *{border:none !important;-moz-box-shadow:none;-o-box-shadow:none;-webkit-box-shadow:none;-khtml-box-shadow:none;-ms-box-shadow:none;box-shadow:none;color:transparent !important;text-shadow:0 0 5px #000 !important;background:transparent !important}.moreInfo-label{font-weight:bold;font-variant:small-caps}.moreInfo-label:after{content:": "}.moreInfo-metadataTitle{border-top:1px solid #999;padding-top:10px;text-align:center;width:100%;font-variant:small-caps;font-size:95%;margin-top:10px;margin-bottom:10px}.app_reading_content{margin-bottom:20px !important}[data-type="pinnedBoard"] .critical-apparatus-entry_tools{position:absolute;top:-3px;right:0;bottom:auto}.apparatus_exponent{margin:0;position:relative;bottom:0.3em;word-spacing:-0.25em;padding:0.05em;font-size:0.8em;color:#263238;text-align:center;vertical-align:center}.criticalEdition .choice .orig{display:none}.criticalEdition .choice .reg:before,.criticalEdition .choice .reg:after{content:" "}sup.iconbis-evt_quote-left{font-size:0.5em;color:#263238;margin:0;padding:0;display:inline}.sources-apparatus-entry{margin:0;margin-bottom:10px;position:static;background:rgba(0,0,0,0);color:#263238;font-size:90%;border-left:1px solid #7d7d7d;border-right:1px solid #7d7d7d;cursor:text !important}.sources-apparatus-entry span{background:transparent}.sources-apparatus-entry.active{display:block}.sources-apparatus-entry.blurred{border:none;color:transparent !important;text-shadow:0 0 5px #000}.sources-apparatus-entry.hidden{opacity:0;background:transparent !important}.sources-apparatus-entry.over{-webkit-box-shadow:4px 4px 5px 0px #7d7d7d;-moz-box-shadow:4px 4px 5px 0px #7d7d7d;box-shadow:4px 4px 5px 0px #7d7d7d}.sources-apparatus-entry:hover:not(.selected){-webkit-box-shadow:4px 4px 5px 0px #7d7d7d;-moz-box-shadow:4px 4px 5px 0px #7d7d7d;box-shadow:4px 4px 5px 0px #7d7d7d}.sources-apparatus-entry.selected{background-color:#ECEFF1}.sources-apparatus-entry_tools{padding:0;float:right;display:block;position:relative;bottom:4px;right:-2px;background:transparent;text-align:center}.sources-apparatus-entry_tools button-switch{margin-right:0;font-size:70%}.sources-apparatus-entry_tools button-switch .buttonSwitch{box-shadow:none;border:1px solid rgba(0,0,0,0)}.sources-apparatus-entry_tools button-switch.active .buttonSwitch,.sources-apparatus-entry_tools button-switch:hover .buttonSwitch{-moz-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-o-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-webkit-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-khtml-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-ms-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);background-color:#f5f8f8;border:1px solid #7d7d7d}.sources-apparatus-entry_main-content{padding:9px;font-size:105%;border-top:1px solid #7d7d7d}.sources-apparatus-entry_main-content_header{display:inline}.sources-apparatus-entry_main-content_header .textNode{margin-right:0.2em}.sources-apparatus-entry_main-content_list{padding:5px;font-size:105%;border-top:1px solid #7d7d7d;padding:0}.sources-apparatus-entry_main-content_list-label{width:100%;font-variant:small-caps;font-size:95%;position:relative;left:1em;padding-top:0.2em;padding-bottom:0;margin-bottom:0;top:10px}.sources-apparatus-entry_main-content_list ul{width:100%;display:block;list-style-type:disc}.sources-apparatus-entry_main-content_list ul.pointer{cursor:pointer}.sources-apparatus-entry_main-content_list ul li.source-id{font-size:105%;display:list-item;font-style:italic}.sources-apparatus-entry_main-content_list ul li.source-id.over{text-shadow:0px 0px 1px rgba(0,0,0,0.7);cursor:pointer}.sources-apparatus-entry_main-content_list ul li.source-id.selected{font-weight:bold;cursor:pointer}.sources-apparatus-entry_main-content_list.srctxt{border-bottom:1px solid #7d7d7d}.sources-apparatus-entry_other-content{border-top:3px double #7d7d7d;border-bottom:1px solid #7d7d7d}.sources-apparatus-entry_other-content p{padding:0 10px}.sources-apparatus-entry_other-content_headers{z-index:2;position:relative}.sources-apparatus-entry_other-content_headers:not(.closed){-moz-box-shadow:0px 9px 5px -4px #f5f8f8;-o-box-shadow:0px 9px 5px -4px #f5f8f8;-webkit-box-shadow:0px 9px 5px -4px #f5f8f8;-khtml-box-shadow:0px 9px 5px -4px #f5f8f8;-ms-box-shadow:0px 9px 5px -4px #f5f8f8;box-shadow:0px 9px 5px -4px #f5f8f8}.sources-apparatus-entry_other-content_headers span{padding:5px;display:inline-block;font-size:90%;cursor:pointer;border-left:1px solid #f5f8f8}.sources-apparatus-entry_other-content_headers span:first-child{border-left:none}.sources-apparatus-entry_other-content_headers span:hover{text-shadow:0px 0px 1px rgba(0,0,0,0.7)}.sources-apparatus-entry_other-content_headers span.active{-moz-box-shadow:inset 0 2px 2px -1px #7d7d7d;-o-box-shadow:inset 0 2px 2px -1px #7d7d7d;-webkit-box-shadow:inset 0 2px 2px -1px #7d7d7d;-khtml-box-shadow:inset 0 2px 2px -1px #7d7d7d;-ms-box-shadow:inset 0 2px 2px -1px #7d7d7d;box-shadow:inset 0 2px 2px -1px #7d7d7d;background-color:#f5f8f8;border-right:1px solid #f5f8f8}.sources-apparatus-entry_other-content_headers span.active:not(:first-child){border-left:1px solid #f5f8f8}.sources-apparatus-entry_other-content_headers span.active+span{border-left:none}.sources-apparatus-entry_other-content_panels{max-height:150px;overflow-x:hidden;overflow-y:auto;background-color:#f5f8f8}.sources-apparatus-entry_other-content_panels:not(.closed){padding:10px 15px}.sources-apparatus-entry_other-content_panel{display:none}.sources-apparatus-entry_other-content_panel.active{display:block;margin-bottom:10px}.sources-apparatus-entry_other-content_panel ul{padding-left:10px;list-style-type:none;margin:5px 0px}.sources-apparatus-entry_other-content_panel .textNode{margin-right:0.2em}.sources-apparatus-entry .attributes::before{content:" – "}.sources-apparatus-entry .attributes::after{content:""}.sources-apparatus-entry .attributes span{font-style:italic}.sources-apparatus-entry .attributes span::after{content:", "}.sources-apparatus-entry .attributes span:last-child::after{content:""}.sources-apparatus-entry.noTools{border-right:1px solid #7d7d7d}.sources-apparatus-entry.noTools .sources-apparatus-entry_main-content_header,.sources-apparatus-entry.noTools .sources-apparatus-entry_other-content{width:100%}.in_sources_apparatus .sources-apparatus-entry{cursor:pointer !important;border:0;background:transparent}.in_sources_apparatus .sources-apparatus-entry:hover{background:rgba(0,0,0,0)}.in_sources_apparatus .sources-apparatus-entry:hover>*{background:rgba(0,0,0,0)}.in_sources_apparatus .sources-apparatus-entry_tools{border:0;padding-left:0}.in_sources_apparatus .sources-apparatus-entry_tools button-switch .buttonSwitch{border:1px solid transparent}.in_sources_apparatus .sources-apparatus-entry_main-content{border:0}.in_sources_apparatus .sources-apparatus-entry_other-content{display:none}.in_sources_apparatus.active .sources-apparatus-entry{background:rgba(0,0,0,0)}.blurred .sources-apparatus-entry,.blurred .sources-apparatus-entry *{border:none !important;-moz-box-shadow:none;-o-box-shadow:none;-webkit-box-shadow:none;-khtml-box-shadow:none;-ms-box-shadow:none;box-shadow:none;color:transparent !important;text-shadow:0 0 5px #000 !important;background:transparent !important}sup.iconbis-evt_analogue{font-size:0.8em;color:#263238;margin:0;padding:0;display:inline}.analogues-apparatus-entry{margin:0;margin-bottom:10px;position:relative;z-index:0;background:rgba(0,0,0,0);color:#263238;font-size:90%;border-left:1px solid #7d7d7d;border-right:1px solid #7d7d7d;cursor:text !important}.analogues-apparatus-entry span:not(.app_lemma),.analogues-apparatus-entry span:not(.app_lemma_content){background:transparent}.analogues-apparatus-entry.active{display:block}.analogues-apparatus-entry.blurred{border:none;color:transparent !important;text-shadow:0 0 5px #000}.analogues-apparatus-entry.hidden{opacity:0;background:transparent !important}.analogues-apparatus-entry.over{-webkit-box-shadow:4px 4px 5px 0px #7d7d7d;-moz-box-shadow:4px 4px 5px 0px #7d7d7d;box-shadow:4px 4px 5px 0px #7d7d7d}.analogues-apparatus-entry:hover:not(.selected){-webkit-box-shadow:4px 4px 5px 0px #7d7d7d;-moz-box-shadow:4px 4px 5px 0px #7d7d7d;box-shadow:4px 4px 5px 0px #7d7d7d}.analogues-apparatus-entry.selected{background-color:#ECEFF1}.analogues-apparatus-entry_tools{padding:0;float:right;display:block;position:relative;bottom:4px;right:-2px;background:transparent;text-align:center}.analogues-apparatus-entry_tools button-switch{margin-right:0;font-size:70%}.analogues-apparatus-entry_tools button-switch .buttonSwitch{box-shadow:none;border:1px solid rgba(0,0,0,0)}.analogues-apparatus-entry_tools button-switch.active .buttonSwitch,.analogues-apparatus-entry_tools button-switch:hover .buttonSwitch{-moz-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-o-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-webkit-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-khtml-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-ms-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);background-color:#f5f8f8;border:1px solid #7d7d7d}.analogues-apparatus-entry_main-content{padding:9px;font-size:105%;border-top:1px solid #7d7d7d}.analogues-apparatus-entry_main-content_header{display:inline}.analogues-apparatus-entry_main-content_header .textNode{margin-right:0.2em}.analogues-apparatus-entry_main-content_header span{display:inline;margin-right:0.2em}.analogues-apparatus-entry_main-content_list{border-top:1px solid #7d7d7d;padding:0}.analogues-apparatus-entry_main-content_list-label{width:100%;font-variant:small-caps;font-size:95%;position:relative;left:1em;padding-top:0.2em;padding-bottom:0;margin-bottom:0;top:10px}.analogues-apparatus-entry_main-content_list ul{width:100%;display:block;list-style-type:disc}.analogues-apparatus-entry_main-content_list ul.pointer{cursor:pointer}.analogues-apparatus-entry_main-content_list ul li.source-id{font-size:105%;display:list-item;font-style:italic}.analogues-apparatus-entry_main-content_list ul li.source-id.over{text-shadow:0px 0px 1px rgba(0,0,0,0.7);cursor:pointer}.analogues-apparatus-entry_main-content_list ul li.source-id.selected{font-weight:bold;cursor:pointer}.analogues-apparatus-entry_other-content{border-top:3px double #7d7d7d;border-bottom:1px solid #7d7d7d}.analogues-apparatus-entry_other-content p{padding:0 10px}.analogues-apparatus-entry_other-content_headers{z-index:2;position:relative}.analogues-apparatus-entry_other-content_headers span{padding:5px;display:inline-block;font-size:90%;cursor:pointer;border-left:1px solid #f5f8f8}.analogues-apparatus-entry_other-content_headers span:first-child{border-left:none}.analogues-apparatus-entry_other-content_headers span:hover{text-shadow:0px 0px 1px rgba(0,0,0,0.7)}.analogues-apparatus-entry_other-content_headers span.active{-moz-box-shadow:inset 0 2px 2px -1px #7d7d7d;-o-box-shadow:inset 0 2px 2px -1px #7d7d7d;-webkit-box-shadow:inset 0 2px 2px -1px #7d7d7d;-khtml-box-shadow:inset 0 2px 2px -1px #7d7d7d;-ms-box-shadow:inset 0 2px 2px -1px #7d7d7d;box-shadow:inset 0 2px 2px -1px #7d7d7d;background-color:#f5f8f8;border-right:1px solid #f5f8f8}.analogues-apparatus-entry_other-content_headers span.active:not(:first-child){border-left:1px solid #f5f8f8}.analogues-apparatus-entry_other-content_headers span.active+span{border-left:none}.analogues-apparatus-entry_other-content_panels{max-height:150px;overflow-x:hidden;overflow-y:auto;background-color:#f5f8f8}.analogues-apparatus-entry_other-content_panels:not(.closed){padding:10px 15px}.analogues-apparatus-entry_other-content_panel{display:none}.analogues-apparatus-entry_other-content_panel.active{display:block;margin-bottom:10px}.analogues-apparatus-entry_other-content_panel ul{padding-left:10px;list-style-type:none;margin:5px 0px}.analogues-apparatus-entry_other-content_panel .textNode{margin-right:0.2em}.analogues-apparatus-entry .attributes::before{content:" – "}.analogues-apparatus-entry .attributes::after{content:""}.analogues-apparatus-entry .attributes span{font-style:italic}.analogues-apparatus-entry .attributes span::after{content:", "}.analogues-apparatus-entry .attributes span:last-child::after{content:""}.analogues-apparatus-entry.noTools{border-right:1px solid #7d7d7d}.analogues-apparatus-entry.noTools .analogues-apparatus-entry_main-content,.analogues-apparatus-entry.noTools .analogues-apparatus-entry_other-content{width:100%}.in_analogues_apparatus .analogues-apparatus-entry{cursor:pointer !important;border:0;background:transparent}.in_analogues_apparatus .analogues-apparatus-entry:hover{background:rgba(0,0,0,0)}.in_analogues_apparatus .analogues-apparatus-entry:hover>*{background:rgba(0,0,0,0)}.in_analogues_apparatus .analogues-apparatus-entry_tools{border:0;padding-left:0}.in_analogues_apparatus .analogues-apparatus-entry_tools button-switch .buttonSwitch{border:1px solid transparent}.in_analogues_apparatus .analogues-apparatus-entry_main-content{border:0}.in_analogues_apparatus .analogues-apparatus-entry_other-content{display:none}.in_analogues_apparatus.active .analogues-apparatus-entry{background:rgba(0,0,0,0)}.blurred .analogues-apparatus-entry,.blurred .analogues-apparatus-entry *{border:none !important;-moz-box-shadow:none;-o-box-shadow:none;-webkit-box-shadow:none;-khtml-box-shadow:none;-ms-box-shadow:none;box-shadow:none;color:transparent !important;text-shadow:0 0 5px #000 !important;background:transparent !important}evt-reading+evt-reading:not(.autoLemma) .reading:not(.hidden),evt-reading+evt-reading:not(.autoLemma) .reading:not(.invisible){margin-left:2px}.reading .reading__text .w:after{content:" "}.reading .reading__text .w:last-of-type:after{content:""}.reading:not(.hidden){padding:0;cursor:pointer}.reading:not(.hidden) .reading__text{background:#d0dcff}.reading:not(.hidden).over .reading__text,.reading:not(.hidden).over .reading .reading__text,.reading:not(.hidden).over .reading .reading__text,.reading:not(.hidden).over .reading .reading .reading__text{background:#658aff}.reading:not(.hidden) .empty{padding:0 5px}.reading:not(.hidden).blurred .reading_exponent{color:transparent !important;text-shadow:0 0 5px #000 !important}.reading:not(.hidden).expansed:not(.invisible)>.reading__text{border-top:1px solid #7d7d7d;border-bottom:5px solid rgba(0,0,0,0);position:relative;z-index:9;margin-bottom:-1px}.reading:not(.hidden).expansed:not(.invisible)>.reading__text:first-child{border-left:1px solid #7d7d7d}.reading:not(.hidden).expansed:not(.invisible)>.reading__text:last-child{border-right:1px solid #7d7d7d}.reading:not(.hidden).expansed:not(.invisible).blurred,.reading:not(.hidden).expansed:not(.invisible).blurred *{color:transparent !important;text-shadow:0 0 5px #000 !important;background:transparent !important}.reading:not(.hidden).selected .reading__text{background:#658aff}.reading:not(.hidden) .reading_exponent{display:inline-block;position:relative;left:-4px;bottom:3px;min-width:15px;min-height:15px;margin:0;padding:0.05em;border-radius:3px;font-size:0.8em;font-weight:bold;word-spacing:-0.25em;vertical-align:super;text-align:center}.reading.invisible>.reading__text{background:transparent !important;border:none;cursor:default}.reading.invisible>.reading__apparatus{display:none !important}.reading:not(.invisible) .reading:not(.hidden):not(.blurred) .reading__text{border:1px solid #999}.reading:not(.invisible) .reading:not(.hidden):not(.blurred)>.reading__text:hover{border-color:#000}.reading:not(.invisible) .reading:not(.hidden):not(.blurred).expansed>.reading__text{border-bottom:5px solid rgba(0,0,0,0)}.reading:not(.invisible) .reading:not(.hidden):not(.blurred).selected .reading__text{background:#658aff}.filters__reading__color{min-width:10px;min-height:10px;width:10px;height:10px;display:inline-block}.quote{padding:0;cursor:pointer}.quote sup.iconbis-evt_quote-left,.quote sup.iconbis-evt_quote-right{font-size:0.5em;color:#263238;margin:0;padding:0}.quote sup.iconbis-evt_quote-left:after{white-space:nowrap}.quote sup.iconbis-evt_quote-right:before{white-space:nowrap}.quote .quote__text{border-bottom:1px dotted #263238}.quote.over .quote__text{background-color:#d2dbe0 !important}.quote.selected sup.iconbis-evt_quote-left,.quote.selected sup.iconbis-evt_quote-right{font-size:0.65em}.quote.selected .quote__text{border-bottom:1px solid #263238}.quote.highlight .quote__text{background-color:#7893a1}.quote.subquote{border-bottom:1px dashed #263238}.quote.subquote.noquotes sup.iconbis-evt_quote-left,.quote.subquote.noquotes sup.iconbis-evt_quote-right{display:none}evt-quote span.quote{display:inline !important}span.quote{display:none !important}.analogue{padding:0;cursor:pointer}.analogue i.iconbis-evt_analogue{font-size:0.8em;color:#263238;margin:0;padding:0;margin-right:-6px}.analogue i.iconbis-evt_analogue:after{white-space:nowrap}.analogue .analogue__text{border-bottom:1px dotted #263238}.analogue.over .analogue__text{background-color:#d2dbe0 !important}.analogue.selected i.iconbis-evt_analogue{font-size:1em;color:#263238}.analogue.selected .analogue__text{border-bottom:1px solid #263238}.evt-dialog{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:9999}.evt-dialog-shadow{position:fixed;background:rgba(0,0,0,0.6);width:100%;height:100%}.evt-dialog-container{border-radius:2px;font-size:60%;background:#fff;min-width:80%;height:2000px;max-height:80%;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);-moz-box-shadow:0px 0px 8px #000;-o-box-shadow:0px 0px 8px #000;-webkit-box-shadow:0px 0px 8px #000;-khtml-box-shadow:0px 0px 8px #000;-ms-box-shadow:0px 0px 8px #000;box-shadow:0px 0px 8px #000}.evt-dialog-container div[ng-switch]{height:-moz-calc(100% - 42px);height:-o-calc(100% - 42px);height:-webkit-calc(100% - 42px);height:calc(100% - 42px)}.evt-dialog-container-top{height:42px;background:#263238;color:#ECEFF1;padding:10px;padding-right:50px;text-align:center;font-size:1.2em}.evt-dialog-container-top button-switch{font-size:90%;top:4px}.evt-dialog-container-content{overflow-y:auto;height:100%}.evt-dialog.evt-dialog-error .evt-dialog-container,.evt-dialog.evt-dialog-small .evt-dialog-container{min-width:10%;max-width:60%;height:auto}.evt-dialog.evt-dialog-error .evt-dialog-container-content,.evt-dialog.evt-dialog-small .evt-dialog-container-content{padding:20px}.evt-dialog.evt-dialog-error .evt-dialog-container-top{background:#990000}.evtRef{display:inline;text-decoration:underline}.evtRef:hover{cursor:pointer;color:#666}.evt-tabs-container{padding-top:1px;height:100%;overflow:hidden}.evt-tabs-container.vertical .evt-tabs-container_headers{display:inline-block;float:left;height:-moz-calc(100% - 42px);height:-o-calc(100% - 42px);height:-webkit-calc(100% - 42px);height:calc(100% - 42px);border-right:1px solid #263238;width:20%;position:absolute;overflow:hidden;bottom:0;left:0;top:43px}.evt-tabs-container.vertical .evt-tabs-container_header{display:block;border-bottom:1px solid #263238;color:#263238;font-variant:small-caps;text-align:left;padding:10px;cursor:pointer}.evt-tabs-container.vertical .evt-tabs-container_header.hasSubTabs{border-bottom:1px solid #ECEFF1}.evt-tabs-container.vertical .evt-tabs-container_header.active,.evt-tabs-container.vertical .evt-tabs-container_header:hover{background:#37474f;color:#ECEFF1}.evt-tabs-container.vertical .evt-tabs-container_header.active{background:#263238;color:#ECEFF1}.evt-tabs-container.vertical .evt-tabs-container_header-icon{min-width:18px;margin-right:3px;text-align:center}.evt-tabs-container.vertical .evt-tabs-container_header_subTabs{margin:0;padding:0;list-style-type:none !important}.evt-tabs-container.vertical .evt-tabs-container_header_subTabs.hide{display:none}.evt-tabs-container.vertical .evt-tabs-container_header_subTabs_tab{padding:5px 10px 5px 30px;display:block;border-bottom:1px solid #ECEFF1;color:#263238;font-variant:small-caps;font-size:0.93em;text-align:left;cursor:pointer}.evt-tabs-container.vertical .evt-tabs-container_header_subTabs_tab.active,.evt-tabs-container.vertical .evt-tabs-container_header_subTabs_tab:hover{background:#37474f;color:#ECEFF1}.evt-tabs-container.vertical .evt-tabs-container_header_subTabs_tab.active{background:#263238;color:#ECEFF1}.evt-tabs-container.vertical .evt-tabs-container_header_subTabs_tab:last-child{border-bottom:1px solid #263238}.evt-tabs-container.vertical .evt-tabs-container_panels{position:relative;height:100%;left:20%;width:80%}.evt-tabs-container.vertical .evt-tabs-container_panels.noPadding{padding:0}.evt-tabs-container_panel{display:none;padding:10px 15px;height:100%}.evt-tabs-container_panel.active{display:block;margin-bottom:10px;overflow-y:auto}.evt-tabs-container_panel.noscroll{overflow-y:hidden !important;padding:0;margin-bottom:0}.evt-tabs-container_panel.noPadding{padding:0px !important}.evt-tabs-container_panel.addPadding{padding:20px !important}.evt-list__listLetters{position:relative;margin:auto;text-align:center;background:#FFF;margin-top:0;padding:10px;height:45px;max-height:45px}.evt-list__listLetters__letter{margin-right:9px;color:#999;font-size:90%;cursor:pointer;text-transform:uppercase}.evt-list__listLetters__letter.active{color:#000;font-weight:bold;cursor:default}.evt-list__content{height:-moz-calc(calc(100% - 45px));height:-o-calc(calc(100% - 45px));height:-webkit-calc(calc(100% - 45px));height:calc(calc(100% - 45px));width:100%;overflow:auto;position:absolute}.evt-list__content>div{width:100%;padding-left:10px}.evt-list__content>div>*:nth-child(odd){background:rgba(55,71,79,0.1)}.evt-list__content>div>*:nth-child(even){background:#fff}.evt-list__content>div>*:hover{background:rgba(55,71,79,0.2)}.evt-list .scrollableDiv{overflow-y:scroll;height:100%}.namedEntity{display:block;background:inherit;font-size:95%}.namedEntity__icon{margin-right:5px}.namedEntity__header{display:block;padding:7px;padding-bottom:4px}.namedEntity__header:hover{cursor:pointer}.namedEntity__header .opener:before{content:"\\f0da"}.namedEntity_tools{padding:0;float:right;display:block;position:relative;bottom:5px;right:-2px;background:transparent;text-align:center}.namedEntity_tools button-switch{margin-right:0;font-size:70%;float:right}.namedEntity_tools button-switch .buttonSwitch{box-shadow:none;background:none;border:none}.namedEntity_tools button-switch.active .buttonSwitch,.namedEntity_tools button-switch:hover .buttonSwitch{-moz-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-o-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-webkit-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-khtml-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-ms-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);background-color:#e1e1e1;border:1px solid #7d7d7d}.namedEntity__details{display:none;font-size:85%;border-top:3px double #37474f}.namedEntity__details p{padding:0 10px}.namedEntity__details-headers{z-index:2;position:relative}.namedEntity__details-headers span{padding:5px;display:inline-block;font-size:90%;cursor:pointer;border-left:1px solid #e1e1e1}.namedEntity__details-headers span:first-child{border-left:none}.namedEntity__details-headers span.active{-moz-box-shadow:inset 0 2px 2px -1px #7d7d7d;-o-box-shadow:inset 0 2px 2px -1px #7d7d7d;-webkit-box-shadow:inset 0 2px 2px -1px #7d7d7d;-khtml-box-shadow:inset 0 2px 2px -1px #7d7d7d;-ms-box-shadow:inset 0 2px 2px -1px #7d7d7d;box-shadow:inset 0 2px 2px -1px #7d7d7d;background-color:#e1e1e1;border-right:1px solid #e1e1e1}.namedEntity__details-headers span.active:not(:first-child){border-left:1px solid #e1e1e1}.namedEntity__details-headers span.active+span{border-left:none}.namedEntity__details-panels{max-height:150px;overflow-x:hidden;overflow-y:auto;background-color:#e1e1e1}.namedEntity__details-panels:not(.closed){padding:10px 15px}.namedEntity__details-panels.largeMap{max-height:100%}.namedEntity__details-panel{display:block}.namedEntity__details-panel ul{padding-left:10px;list-style-type:none;margin:5px 0px}.namedEntity__details .opener:before{content:"\\f0da"}.namedEntity__detail{display:block}.namedEntity__detail-icon{float:left;margin-top:0.1rem}.namedEntity__detail-text{margin-left:24px;display:block}.namedEntity__detail-text-content{display:inline-block}.namedEntity__detail-text-content:first-letter{text-transform:uppercase}.namedEntity__detail-text-content .place,.namedEntity__detail-text-content .person,.namedEntity__detail-text-content .org,.namedEntity__detail-text-content .item{display:list-item;margin-left:20px}.namedEntity__detail-text-attribute{font-variant:small-caps;font-size:90%;vertical-align:top;display:inline-block;padding-top:0.2rem}.namedEntity__detail-text-attribute:first-letter{text-transform:uppercase}.namedEntity__detail-text-attribute:after{content:", ";vertical-align:top;margin-right:0.2em}.namedEntity__detail-text-attribute:last-of-type:after{content:": ";margin-right:0}.namedEntity__occurrences,.namedEntity__moreInfo{display:none;padding-left:16px}.namedEntity__occurrences.opened,.namedEntity__occurrences.location-mainText,.namedEntity__moreInfo.opened,.namedEntity__moreInfo.location-mainText{display:block}.namedEntity__occurrences.opened>span,.namedEntity__occurrences.location-mainText>span,.namedEntity__moreInfo.opened>span,.namedEntity__moreInfo.location-mainText>span{display:block}.namedEntity__occurrences-toggler,.namedEntity__moreInfo-toggler{display:block;font-variant:small-caps;padding-top:5px;cursor:pointer}.namedEntity__occurrences-toggler:hover,.namedEntity__moreInfo-toggler:hover{text-shadow:0px 0px 1px rgba(0,0,0,0.7)}.namedEntity__occurrences-occurrence{border-radius:4px;padding:3px 6px;display:inline-block;border:1px solid rgba(55,71,79,0.3);margin-right:3px;font-size:85%;margin-bottom:3px;display:inline-block !important;cursor:pointer}.namedEntity__occurrences-occurrence:hover,.namedEntity__occurrences-occurrence.active{background:rgba(55,71,79,0.2)}.namedEntity.opened,.namedEntity.location-mainText{margin-top:1px}.namedEntity.opened .namedEntity__header .opener:before,.namedEntity.location-mainText .namedEntity__header .opener:before{content:"\\f0d7"}.namedEntity.opened .namedEntity__details,.namedEntity.location-mainText .namedEntity__details{display:block}.namedEntity__details.moreInfoOpened .namedEntity__moreInfo{display:block}.namedEntity__details.moreInfoOpened .namedEntity__moreInfo-toggler .opener:before{content:"\\f0d7"}.namedEntity__details.occurrencesOpened .namedEntity__occurrences{display:block}.namedEntity__details.occurrencesOpened .namedEntity__occurrences-toggler .opener:before{content:"\\f0d7"}.namedEntity.location-mainText{border-left:1px solid #37474f;border-right:1px solid #37474f}.namedEntity.location-mainText.opened{margin-bottom:10px}.namedEntity.location-mainText .namedEntity__header{border-top:1px solid #37474f;cursor:default}.namedEntity.location-mainText .namedEntity__details{border-bottom:1px solid #37474f}.namedEntity .listplace .place,.namedEntity .listperson .person,.namedEntity .listorg .org,.namedEntity .list .item{display:list-item;margin-left:20px}.namedEntity-person,.namedEntity-pers,.namedEntity-persName{border-bottom-color:#ffcdd2}.namedEntity-person.location-mainText,.namedEntity-person.location-pinned,.namedEntity-pers.location-mainText,.namedEntity-pers.location-pinned,.namedEntity-persName.location-mainText,.namedEntity-persName.location-pinned{background:#FFF0F1}.namedEntity-person>.namedEntity__details>.namedEntity__details-headers span.active,.namedEntity-pers>.namedEntity__details>.namedEntity__details-headers span.active,.namedEntity-persName>.namedEntity__details>.namedEntity__details-headers span.active{-moz-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-o-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-webkit-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-khtml-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-ms-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);background-color:#ffcdd2;border-right-color:#ffcdd2}.namedEntity-person>.namedEntity__details>.namedEntity__details-headers span.active:not(:first-child),.namedEntity-pers>.namedEntity__details>.namedEntity__details-headers span.active:not(:first-child),.namedEntity-persName>.namedEntity__details>.namedEntity__details-headers span.active:not(:first-child){border-left-color:#ffcdd2}.namedEntity-person>.namedEntity__details>.namedEntity__details-headers span:hover,.namedEntity-pers>.namedEntity__details>.namedEntity__details-headers span:hover,.namedEntity-persName>.namedEntity__details>.namedEntity__details-headers span:hover{background-color:#ffcdd2}.namedEntity-person>.namedEntity__details>.namedEntity__details-headers:not(.closed) span,.namedEntity-pers>.namedEntity__details>.namedEntity__details-headers:not(.closed) span,.namedEntity-persName>.namedEntity__details>.namedEntity__details-headers:not(.closed) span{margin-bottom:-3px}.namedEntity-person>.namedEntity__details>.namedEntity__details-panels,.namedEntity-pers>.namedEntity__details>.namedEntity__details-panels,.namedEntity-persName>.namedEntity__details>.namedEntity__details-panels{-moz-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-o-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-webkit-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-khtml-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-ms-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);background-color:#ffcdd2}.namedEntity-person .namedEntity__occurrences-occurrence,.namedEntity-pers .namedEntity__occurrences-occurrence,.namedEntity-persName .namedEntity__occurrences-occurrence{background:rgba(255,255,255,0.5);border-color:#ffcdd2}.namedEntity-person .namedEntity__occurrences-occurrence:hover,.namedEntity-person .namedEntity__occurrences-occurrence.active,.namedEntity-pers .namedEntity__occurrences-occurrence:hover,.namedEntity-pers .namedEntity__occurrences-occurrence.active,.namedEntity-persName .namedEntity__occurrences-occurrence:hover,.namedEntity-persName .namedEntity__occurrences-occurrence.active{background:#fff}.namedEntity-place,.namedEntity-placeName{border-bottom-color:#c8e6c9}.namedEntity-place.location-mainText,.namedEntity-place.location-pinned,.namedEntity-placeName.location-mainText,.namedEntity-placeName.location-pinned{background:#EEF7EF}.namedEntity-place>.namedEntity__details>.namedEntity__details-headers span.active,.namedEntity-placeName>.namedEntity__details>.namedEntity__details-headers span.active{-moz-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-o-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-webkit-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-khtml-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-ms-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);background-color:#c8e6c9;border-right-color:#c8e6c9}.namedEntity-place>.namedEntity__details>.namedEntity__details-headers span.active:not(:first-child),.namedEntity-placeName>.namedEntity__details>.namedEntity__details-headers span.active:not(:first-child){border-left-color:#c8e6c9}.namedEntity-place>.namedEntity__details>.namedEntity__details-headers span:hover,.namedEntity-placeName>.namedEntity__details>.namedEntity__details-headers span:hover{background-color:#c8e6c9}.namedEntity-place>.namedEntity__details>.namedEntity__details-headers:not(.closed) span,.namedEntity-placeName>.namedEntity__details>.namedEntity__details-headers:not(.closed) span{margin-bottom:-3px}.namedEntity-place>.namedEntity__details>.namedEntity__details-panels,.namedEntity-placeName>.namedEntity__details>.namedEntity__details-panels{-moz-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-o-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-webkit-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-khtml-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-ms-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);background-color:#c8e6c9}.namedEntity-place .namedEntity__occurrences-occurrence,.namedEntity-placeName .namedEntity__occurrences-occurrence{background:rgba(255,255,255,0.5);border-color:#c8e6c9}.namedEntity-place .namedEntity__occurrences-occurrence:hover,.namedEntity-place .namedEntity__occurrences-occurrence.active,.namedEntity-placeName .namedEntity__occurrences-occurrence:hover,.namedEntity-placeName .namedEntity__occurrences-occurrence.active{background:#fff}.namedEntity-org,.namedEntity-orgName{border-bottom-color:#ffb74d}.namedEntity-org.location-mainText,.namedEntity-org.location-pinned,.namedEntity-orgName.location-mainText,.namedEntity-orgName.location-pinned{background:#FFE9C9}.namedEntity-org>.namedEntity__details>.namedEntity__details-headers span.active,.namedEntity-orgName>.namedEntity__details>.namedEntity__details-headers span.active{-moz-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-o-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-webkit-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-khtml-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);-ms-box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);box-shadow:inset 0 2px 3px -1px rgba(0,0,0,0.4);background-color:#ffb74d;border-right-color:#ffb74d}.namedEntity-org>.namedEntity__details>.namedEntity__details-headers span.active:not(:first-child),.namedEntity-orgName>.namedEntity__details>.namedEntity__details-headers span.active:not(:first-child){border-left-color:#ffb74d}.namedEntity-org>.namedEntity__details>.namedEntity__details-headers span:hover,.namedEntity-orgName>.namedEntity__details>.namedEntity__details-headers span:hover{background-color:#ffb74d}.namedEntity-org>.namedEntity__details>.namedEntity__details-headers:not(.closed) span,.namedEntity-orgName>.namedEntity__details>.namedEntity__details-headers:not(.closed) span{margin-bottom:-3px}.namedEntity-org>.namedEntity__details>.namedEntity__details-panels,.namedEntity-orgName>.namedEntity__details>.namedEntity__details-panels{-moz-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-o-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-webkit-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-khtml-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);-ms-box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);box-shadow:inset 0 2px 3px -2px rgba(0,0,0,0.4);background-color:#ffb74d}.namedEntity-org .namedEntity__occurrences-occurrence,.namedEntity-orgName .namedEntity__occurrences-occurrence{background:rgba(255,255,255,0.5);border-color:#ffb74d}.namedEntity-org .namedEntity__occurrences-occurrence:hover,.namedEntity-org .namedEntity__occurrences-occurrence.active,.namedEntity-orgName .namedEntity__occurrences-occurrence:hover,.namedEntity-orgName .namedEntity__occurrences-occurrence.active{background:#fff}[data-list-type=person] .evt-list__content>div>*:nth-child(odd){background:rgba(255,205,210,0.5)}[data-list-type=person] .evt-list__content>div>*:nth-child(even){background:rgba(255,205,210,0.2)}[data-list-type=person] .evt-list__content>div>*:hover{background:rgba(255,205,210,0.4)}[data-list-type=person] .evt-list__content>.namedEntity.opened{background:rgba(255,205,210,0.5)}[data-list-type=place] .evt-list__content>div>*:nth-child(odd){background:rgba(200,230,201,0.5)}[data-list-type=place] .evt-list__content>div>*:nth-child(even){background:rgba(200,230,201,0.2)}[data-list-type=place] .evt-list__content>div>*:hover{background:rgba(200,230,201,0.4)}[data-list-type=place] .evt-list__content>.namedEntity.opened{background:rgba(200,230,201,0.5)}[data-list-type=org] .evt-list__content>div>*:nth-child(odd){background:rgba(255,183,77,0.5)}[data-list-type=org] .evt-list__content>div>*:nth-child(even){background:rgba(255,183,77,0.2)}[data-list-type=org] .evt-list__content>div>*:hover{background:rgba(255,183,77,0.4)}[data-list-type=org] .evt-list__content>.namedEntity.opened{background:rgba(255,183,77,0.5)}.namedEntityRef{color:#37474f;cursor:pointer}.namedEntityRef.highlighted{background:#ffc !important}.namedEntityRef.fakeEntity{cursor:default}.namedEntityRef.active{border:1px solid #000;border-bottom:5px solid #fff}.namedEntityRef-person:hover,.namedEntityRef-pers:hover,.namedEntityRef-persName:hover{background-color:#FFF0F1}.namedEntityRef-person.active,.namedEntityRef-pers.active,.namedEntityRef-persName.active{background-color:#FFF0F1;border-bottom-color:#FFF0F1}.namedEntityRef-place:hover,.namedEntityRef-placeName:hover{background-color:#EEF7EF}.namedEntityRef-place.active,.namedEntityRef-placeName.active{background-color:#EEF7EF;border-bottom-color:#EEF7EF}.namedEntityRef-org:hover,.namedEntityRef-orgName:hover{background-color:#FFE9C9}.namedEntityRef-org.active,.namedEntityRef-orgName.active{background-color:#FFE9C9;border-bottom-color:#FFE9C9}.namedEntityRef__details{font-size:90%;position:absolute;line-height:100%;display:none;background:rgba(236,239,241,0.9);border:1.5px solid #263238;border-radius:3px;-moz-box-shadow:2px 2px 2px rgbs(#263238, 0.6);-o-box-shadow:2px 2px 2px rgbs(#263238, 0.6);-webkit-box-shadow:2px 2px 2px rgbs(#263238, 0.6);-khtml-box-shadow:2px 2px 2px rgbs(#263238, 0.6);-ms-box-shadow:2px 2px 2px rgbs(#263238, 0.6);box-shadow:2px 2px 2px rgbs(#263238, 0.6);padding:5px;z-index:99;text-align:left;cursor:text !important;min-width:30px;margin-top:10px}.namedEntityRef__details.active{display:block}.namedEntityRef__details-before{position:absolute;top:0}.namedEntityRef__details-before:before{position:absolute;font-family:FontAwesome;font-size:2em;color:#ECEFF1;top:-10px;content:"\\f0d8";text-shadow:0px -3px 0px #000;height:0px}.namedEntityRef__details.open-up .namedEntityRef__details-before::before{content:"\\f0d7";text-shadow:0px 3px 0px #000}.person-active .namedEntityRef-person,.person-active .namedEntityRef-pers,.person-active .namedEntityRef-persName,.pers-active .namedEntityRef-person,.pers-active .namedEntityRef-pers,.pers-active .namedEntityRef-persName,.persName-active .namedEntityRef-person,.persName-active .namedEntityRef-pers,.persName-active .namedEntityRef-persName{background-color:#ffcdd2}.person-active .namedEntityRef-person:hover:not(.active),.person-active .namedEntityRef-pers:hover:not(.active),.person-active .namedEntityRef-persName:hover:not(.active),.pers-active .namedEntityRef-person:hover:not(.active),.pers-active .namedEntityRef-pers:hover:not(.active),.pers-active .namedEntityRef-persName:hover:not(.active),.persName-active .namedEntityRef-person:hover:not(.active),.persName-active .namedEntityRef-pers:hover:not(.active),.persName-active .namedEntityRef-persName:hover:not(.active){background-color:#FFF0F1}.place-active .namedEntityRef-place,.place-active .namedEntityRef-placeName,.placeName-active .namedEntityRef-place,.placeName-active .namedEntityRef-placeName{background-color:#c8e6c9}.place-active .namedEntityRef-place:hover:not(.active),.place-active .namedEntityRef-placeName:hover:not(.active),.placeName-active .namedEntityRef-place:hover:not(.active),.placeName-active .namedEntityRef-placeName:hover:not(.active){background-color:#EEF7EF}.org-active .namedEntityRef-org,.org-active .namedEntityRef-orgName,.orgName-active .namedEntityRef-org,.orgName-active .namedEntityRef-orgName{background-color:#ffb74d}.org-active .namedEntityRef-org:hover:not(.active),.org-active .namedEntityRef-orgName:hover:not(.active),.orgName-active .namedEntityRef-org:hover:not(.active),.orgName-active .namedEntityRef-orgName:hover:not(.active){background-color:#FFE9C9}[data-value="person"] .option-icon-label,[data-value="pers"] .option-icon-label,[data-value="persName"] .option-icon-label{color:#ffcdd2}[data-value="place"] .option-icon-label,[data-value="placeName"] .option-icon-label{color:#c8e6c9}[data-value="org"] .option-icon-label,[data-value="orgName"] .option-icon-label{color:#ffb74d}.relation-name{font-weight:bold;font-variant:small-caps}[data-type="pinnedBoard"] .namedEntity{margin-bottom:10px}[data-type="pinnedBoard"] .namedEntity_tools{position:relative;bottom:5px;right:-7px}.source-seg sup.iconbis-evt_quote-left,.source-seg sup.iconbis-evt_quote-right{font-size:0.5em;color:#7893a1;margin:0;padding:0}.source-seg sup.iconbis-evt_quote-left:after{white-space:nowrap}.source-seg sup.iconbis-evt_quote-right:before{white-space:nowrap}.source-seg_text{cursor:pointer;padding:0;border-bottom:1px dotted #7893a1}.source-seg_text.over{background-color:#7893a1}.source-seg_text.selected{border-bottom:1px solid #7893a1}.source-seg_panel{margin:0;margin-bottom:10px;position:relative;z-index:0;background:#ECEFF1;border:1px solid #7d7d7d;cursor:text;display:block;color:#263238;font-size:90%;padding:5px}.source-seg_panel_label{font-size:95%;font-variant:small-caps;margin:0;padding:0}.quoteText.over{text-shadow:0px 0px 1px rgba(0,0,0,0.7);cursor:pointer}.quoteText.selected{font-weight:bold}.source-ref{cursor:pointer}.source-ref_text{font-weight:bold;text-decoration:underline;color:#263238}.version-reading_text{display:inline-block;border-left:1px dotted #607d8b;padding-left:0.5em;cursor:pointer}.version-reading_text.over{background-color:#d2dbe0}.version-reading_text.selected{border-left:2px solid #607d8b}.version-reading.blurred,.version-reading.blurred *{color:transparent !important;text-shadow:0 0 5px #000 !important;background:transparent !important;border:none}.iconbis-evt_fork{margin-right:2px;color:#263238;font-size:0.9em}.version-apparatus-entry{margin:0;margin-bottom:10px;position:relative;z-index:0;background:rgba(0,0,0,0);color:#263238;font-size:90%;border-left:1px solid #7d7d7d;border-right:1px solid #7d7d7d;cursor:text !important}.version-apparatus-entry span{background:transparent;display:inline-block}.version-apparatus-entry.blurred{border:none;color:transparent !important;text-shadow:0 0 5px #000}.version-apparatus-entry_tools{padding:0;float:right;display:block;position:relative;bottom:6px;right:-2px;background:transparent;text-align:center}.version-apparatus-entry_tools button-switch{margin-right:0;font-size:70%}.version-apparatus-entry_tools button-switch .buttonSwitch{box-shadow:none;border:1px solid rgba(0,0,0,0)}.version-apparatus-entry_tools button-switch.active .buttonSwitch,.version-apparatus-entry_tools button-switch:hover .buttonSwitch{-moz-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-o-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-webkit-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-khtml-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);-ms-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px 0 rgba(0,0,0,0.1);background-color:#f5f8f8;border:1px solid #7d7d7d}.version-apparatus-entry_main-content{padding:5px;font-size:105%;border-top:1px solid #7d7d7d}.version-apparatus-entry_other-content{border-top:3px double #7d7d7d;border-bottom:1px solid #7d7d7d}.version-apparatus-entry_other-content p{padding:0 10px}.version-apparatus-entry_other-content_headers{z-index:2;position:relative}.version-apparatus-entry_other-content_headers:not(.closed){-moz-box-shadow:0px 9px 5px -4px #f5f8f8;-o-box-shadow:0px 9px 5px -4px #f5f8f8;-webkit-box-shadow:0px 9px 5px -4px #f5f8f8;-khtml-box-shadow:0px 9px 5px -4px #f5f8f8;-ms-box-shadow:0px 9px 5px -4px #f5f8f8;box-shadow:0px 9px 5px -4px #f5f8f8}.version-apparatus-entry_other-content_headers span{padding:5px;display:inline-block;font-size:90%;cursor:pointer;border-left:1px solid #f5f8f8}.version-apparatus-entry_other-content_headers span:first-child{border-left:none}.version-apparatus-entry_other-content_headers span:hover{text-shadow:0px 0px 1px rgba(0,0,0,0.7)}.version-apparatus-entry_other-content_headers span.active{-moz-box-shadow:inset 0 2px 2px -1px #7d7d7d;-o-box-shadow:inset 0 2px 2px -1px #7d7d7d;-webkit-box-shadow:inset 0 2px 2px -1px #7d7d7d;-khtml-box-shadow:inset 0 2px 2px -1px #7d7d7d;-ms-box-shadow:inset 0 2px 2px -1px #7d7d7d;box-shadow:inset 0 2px 2px -1px #7d7d7d;background-color:#f5f8f8;border-right:1px solid #f5f8f8}.version-apparatus-entry_other-content_headers span.active:not(:first-child){border-left:1px solid #f5f8f8}.version-apparatus-entry_other-content_headers span.active+span{border-left:none}.version-apparatus-entry_other-content_panels{max-height:150px;overflow-x:hidden;overflow-y:auto;background-color:#f5f8f8}.version-apparatus-entry_other-content_panels:not(.closed){padding:10px 15px}.version-apparatus-entry_other-content_panel{display:none}.version-apparatus-entry_other-content_panel.active{display:block;margin-bottom:10px}.version-apparatus-entry_other-content_panel ul{padding-left:10px;list-style-type:none;margin:5px 0px}.version-apparatus-entry_other-content_panel .app_version em{font-weight:bold}.version-apparatus-entry_other-content_panel .app_version::after{content:""}.version-apparatus-entry_other-content_panel .app_version .witnesses{display:none}.version-apparatus-entry_other-content_panel .app_reading{font-weight:bold}.version-apparatus-entry_other-content_panel .app_reading .witnesses{display:none}.version-apparatus-entry_other-content_panel_orthographic_title{text-align:center;width:100%;font-variant:small-caps;font-size:95%;margin-top:10px;margin-bottom:10px}.version-apparatus-entry .witnesses{display:inline}.version-apparatus-entry .witnesses .wit{margin:0 3px;cursor:pointer;text-decoration:underline}.version-apparatus-entry .witnesses .wit:hover{text-shadow:0px 0px 1px rgba(0,0,0,0.7)}.version-apparatus-entry .witnesses .wit::after{text-decoration:none !important}.version-apparatus-entry .witnesses .wit.selected{cursor:default;text-shadow:0px 0px 1px rgba(0,0,0,0.7);text-decoration:none}.version-apparatus-entry .attributes::before{content:" – "}.version-apparatus-entry .attributes::after{content:""}.version-apparatus-entry .attributes span{font-style:italic}.version-apparatus-entry .attributes span::after{content:", "}.version-apparatus-entry .attributes span:last-child::after{content:""}.version-apparatus-entry.noTools{border-right:1px solid #7d7d7d}.version-apparatus-entry.noTools .version-apparatus-entry_main-content,.version-apparatus-entry.noTools .version-apparatus-entry_other-content{width:100%}.in_version_apparatus .version-apparatus-entry{cursor:pointer !important;border:0;background:transparent}.in_version_apparatus .version-apparatus-entry:hover{background:rgba(0,0,0,0)}.in_version_apparatus .version-apparatus-entry:hover>*{background:rgba(0,0,0,0)}.in_version_apparatus .version-apparatus-entry_tools{border:0;padding-left:0}.in_version_apparatus .version-apparatus-entry_tools button-switch .buttonSwitch{border:1px solid transparent}.in_version_apparatus .version-apparatus-entry_main-content{border:0}.in_version_apparatus .version-apparatus-entry_other-content{display:none}.in_version_apparatus.active .version-apparatus-entry{background:rgba(0,0,0,0)}.blurred .version-apparatus-entry,.blurred .version-apparatus-entry *{border:none !important;-moz-box-shadow:none;-o-box-shadow:none;-webkit-box-shadow:none;-khtml-box-shadow:none;-ms-box-shadow:none;box-shadow:none;color:transparent !important;text-shadow:0 0 5px #000 !important;background:transparent !important}.moreInfo-label{font-weight:bold;font-variant:small-caps}.moreInfo-label:after{content:": "}.moreInfo-metadataTitle{border-top:1px solid #999;padding-top:10px;text-align:center;width:100%;font-variant:small-caps;font-size:95%;margin-top:10px;margin-bottom:10px}.app_reading_content{margin-bottom:20px !important}.evt-version-ref{margin:0 3px;cursor:pointer;text-decoration:underline !important}.evt-version-ref:hover{text-shadow:0px 0px 1px rgba(0,0,0,0.7)}.evt-version-ref::after{text-decoration:none !important}.evt-version-ref.selected{cursor:default;text-shadow:0px 0px 1px rgba(0,0,0,0.7);text-decoration:none}.evt-version-ref_text:not(.selected):not(.not-select){text-decoration:underline !important}.evt-version-ref_text.not-select{font-weight:bold;cursor:default}.navBarSliderWrapper{height:45px;background:#263238;position:fixed;bottom:0px;width:100%;padding:0 20px;vertical-align:middle;text-align:center}#sliderValue{font-size:0.5em;display:inline;color:#ffffff;position:relative}.navBarSlider{position:relative;cursor:pointer;z-index:1;display:inline-block;min-width:50vw;width:68vw;text-align:initial}.navBarSlider .rzslider{margin:auto}.navBarSlider .rzslider .rz-bar{height:8px;margin-top:-2px}.navBarSlider .rzslider .rz-selection{background:#607d8b}.navBarSlider .rzslider .rz-bubble{background:#fff;font-size:0.85rem;bottom:10px;border:1px solid;border-radius:4px;opacity:0.8}.navBarSlider .rzslider .rz-bubble.rz-model-value{opacity:1}.navBarSlider .rzslider[disabled] .rz-bubble{opacity:.8}.navBarSlider .rzslider .rz-pointer{top:-4px;width:22px;height:13px;background-color:#ECEFF1;border:1px solid;-moz-box-shadow:0px 0px 4px rgba(0,0,0,0.5);-o-box-shadow:0px 0px 4px rgba(0,0,0,0.5);-webkit-box-shadow:0px 0px 4px rgba(0,0,0,0.5);-khtml-box-shadow:0px 0px 4px rgba(0,0,0,0.5);-ms-box-shadow:0px 0px 4px rgba(0,0,0,0.5);box-shadow:0px 0px 4px rgba(0,0,0,0.5);outline:none}.navBarSlider .rzslider .rz-pointer:hover{background:#fff}.navBarSlider .rzslider .rz-pointer:after{content:none}.navBarSlider .buttonSlider{cursor:pointer;position:relative}.navBarSlider #left,.navBarSlider #right{background:#bedde0;border-radius:16px;font-size:15px;top:3px}.navBarSlider #leftLeft,.navBarSlider #rightRight{background:#bedde0;border-radius:16px;font-size:15px;top:3px}.navBarSlider #thumbnails,.navBarSlider #visColl{border-radius:16px;top:3px;background:#bedde0}.navBar-closer>span:nth-child(1) .fa-caret-down{transform:rotate(180deg)}.viscollContainer{height:100%;vertical-align:top;width:100%;max-height:300px;padding-bottom:20px}.viscollContainer:not(:last-child){margin-bottom:20px;border-bottom:1px solid lightgray}.selectorViscoll{font-size:0.5em;margin-bottom:5px}.selectorViscoll label{display:block}.selectorViscoll .selector{margin:0}.imgSelectorViscoll{display:block}.imgSelectorViscoll_empty{padding-top:10px;font-size:0.5em;height:170px;width:100%;font-style:italic}.quireSelector{width:100%;padding:30px;font-size:0.5em;position:relative}.quireNumber{position:relative;display:block;font-size:1.3rem;font-variant:small-caps;margin-bottom:10px}.viscollItemsContainer{padding:0 30px}.viscollItem-leftContainer{width:20%;display:inline-block}.viscollItem-rightContainer{width:77%;display:inline-block;vertical-align:top}.viscollContainer svg{position:relative;background:#396f7b;height:auto;width:70%;border-radius:8px;margin-bottom:5px}.viscollContainer svg>g:hover .leaf,.viscollContainer svg .over_unit .leaf{cursor:pointer;stroke:#FFC107}.viscollContainer svg .active_unit.first_unit .leaf{stroke:#ff9800;cursor:default}.viscollContainer svg .active_unit.second_unit .leaf{stroke:#ff5722;cursor:default}.viscollContainer .thumbnail.first_unit img{border-color:#ff9800}.viscollContainer .thumbnail.second_unit img{border-color:#ff5722}.viscollContainer .thumbnail img{height:auto;width:120px}.viscollContainer .thumbnail figcaption{width:120px}.viscollContainer .thumbnail.missing{cursor:not-allowed}.viscollContainer .thumbnail.missing:hover figcaption{background:rgba(0,0,0,0.2) !important}.viscollContainer .thumbnail.notLeaf{cursor:default;opacity:.3;border:2px solid;background:lightgray}.viscollContainer .thumbnail.notLeaf img{visibility:hidden}.viscollContainer .thumbnail.notLeaf i{top:3px;position:relative}.viscollContainer .thumbnail.notLeaf:hover figcaption{background:rgba(0,0,0,0.2) !important}.search-box{max-height:30px;transition:max-height .5s;display:none;min-width:calc(100% - 8px);position:absolute;bottom:7px;left:4px;margin:40px 0;background:#fff;border-top:2px solid #263238}.search-box.open{display:inline-block}.search-box form{height:30px;border-bottom:2px solid #263238}.search-box .search-results{overflow:auto}.show{display:block !important}.hide{display:none}.show-visibility{visibility:visible}.hide-visibility{visibility:hidden}.search-box.internal.results-open{max-height:-moz-calc(100% -  84px - 6px);max-height:-o-calc(100% -  84px - 6px);max-height:-webkit-calc(100% -  84px - 6px);max-height:calc(100% -  84px - 6px);transition:max-height .5s}.search-box.internal button-switch{margin-right:0}.search-box.internal button-switch[data-type="searchCaseSensitive"] .buttonSwitch-active,.search-box.internal button-switch[data-type="searchVirtualKeyboard"] .buttonSwitch-active,.search-box.internal button-switch[data-type="searchExactWord"] .buttonSwitch-active{background-color:#FFC107}.search-box.internal .buttonSwitch{width:30px;border-right:2px solid #263238;background-color:#fff}.search-box.internal .buttonSwitch .icon-evt_close{font-size:14px;font-weight:bold;left:4px}.search-box.internal .buttonSwitch.buttonSwitch-active .icon-evt_close{color:#263238}.search-box.internal .btn-left button-switch:first-child .buttonSwitch,.search-box.internal .btn-right button-switch:first-child .buttonSwitch{border-left:2px solid #263238}.search-box.internal .btn-left{float:left}.search-box.internal .btn-left button-switch[data-type=\'searchResultsHide\']{border-left:2px solid #263238}.search-box.internal .btn-right{float:right}.search-box.internal .btn-right button-switch:first-child .buttonSwitch{border:0}.search-box.internal .btn-right .buttonSwitch-disabled[title="Previous"]{border-left:2px solid}.search-box.internal input[type="text"]{font-family:Junicode;font-size:18px;height:27px;width:calc(100% - 230px);position:absolute;top:0.9px;padding:0 5px;border:transparent}.search-box.internal input[type="text"]:focus{outline:0}.search-box.internal .search-results{height:95%;padding:4%}.search-box.internal .search-results p{display:block;margin-top:0}.search-box.internal .search-results .token{padding-bottom:5px}.search-box.internal .search-results .icon{cursor:pointer}.search-box.internal .search-results .icon:before{content:\'\\25B6\';font-size:12px;position:relative;bottom:2px;left:3px}.search-box.internal .search-results .icon.active:before{content:\'\\25BC\'}.search-box.internal .search-results .search-info{text-align:center;background-color:#fff;position:absolute;z-index:1;width:calc(100% - 16px);top:30px;left:0;padding-top:15px}.search-box.internal .search-results .search-info p:first-child{margin-bottom:0}.search-box.internal .search-results .search-info+.token-results{padding-top:80px}.search-box.internal .search-results .result-token,.search-box.internal .search-results .result-doc{font-style:italic}.search-box.internal .search-results .result-token{font-weight:bold;color:#ad0808}.search-box.internal .search-results .results-number{font-size:16px;padding-left:5px}.search-box.internal .search-results .search-result{display:none;margin-bottom:30px}.search-box.internal .search-results .search-result .original-text{display:block;font-style:italic}.search-box.internal .search-results .search-result .original-text strong{color:#ad0808}.search-box.internal .search-results .search-result .resultInfo{font-size:17px;background-color:#ECEFF1;color:#000;padding:7px;position:relative;top:6px;border-radius:4px}.search-box.internal .search-results .search-result li{list-style:none;margin-bottom:25px}.search-box.internal .search-results .search-result li:not(:last-child){border-bottom:1px solid rgba(204,204,204,0.8);padding-bottom:25px}.search-box.internal .search-results .search-result.open{display:block;padding-left:35px}.search-box.internal .ui-keyboard-input-current{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.search-box.external{height:auto;position:absolute;right:4px;border:2px solid #263238;background-color:#fff}.search-box.external .searchBtnGroup{display:none}.search-box.external input{display:none}.search-box-index{display:block;background-color:grey}.search-box-index #indexProgressBar{width:1%;background-color:green;height:27px}.indexingInProgress .loading{position:absolute;top:0;left:0;z-index:9999;width:100%;height:100%;background:rgba(0,0,0,0.7) !important}.indexingInProgress .loading .fa{color:white !important}.ui-keyboard{width:325px;top:auto !important;left:30px !important;bottom:35px;padding:10px;text-align:left;border:2px solid #263238;background-color:#fff}.ui-keyboard .ui-keyboard-button{margin-right:6px;margin-bottom:3px;border-radius:2px;border:1px solid #7d7d7d;font-family:Junicode;font-size:15px;line-height:.8em}.ui-keyboard .ui-keyboard-button:hover{box-shadow:1px 2px 3px rgba(0,0,0,0.4) inset}.ui-keyboard .ui-keyboard-keyset{text-align:left;white-space:initial}.ui-keyboard .ui-keyboard-actionkey-wrapper{display:flex;justify-content:flex-end}.ui-keyboard .ui-keyboard-button-endrow{display:none}.results-open .ui-keyboard{top:35px !important;bottom:auto}.toc_doc{margin:0}.toc_doc.open{background-color:#ECEFF1}.toc_doc:not(:last-child){border-bottom:1px solid #ECEFF1}.toc_doc_head{cursor:pointer;display:block;padding:10px;padding-left:20px}.toc_doc_head:before{content:\'\\25B6\';font-size:12px;position:relative;bottom:2px;left:-5px}.toc_doc_head.open:before{content:\'\\25BC\'}.toc_doc_details{display:none;padding-left:20px;padding-bottom:7px}.toc_doc_details.open{display:inline-flex}.toc_doc_details div{display:block;margin-right:3em}.toc_doc_details .list_head{display:block;font-variant:small-caps}.toc_doc_details .list_head_sub{font-style:italic;margin-left:-20px}.toc_doc_details ul{margin:3px 0 5px 0;padding-left:20px}.toc_doc_details ul li{cursor:pointer}.toc_doc_details ul li span.indexLink:hover{text-decoration:underline}.diplomaticEdition .choice{position:relative;text-align:center}.diplomaticEdition .choice:before,.diplomaticEdition .choice:after{content:""}.diplomaticEdition .choice:hover .expan,.diplomaticEdition .choice.hover .expan{display:inline;min-width:20px;z-index:99;white-space:nowrap}.diplomaticEdition .choice .abbr{color:purple;text-decoration:underline;z-index:9}.diplomaticEdition .choice .abbr:hover,.diplomaticEdition .choice .abbr.hover{text-decoration:underline;color:#561c0a}.diplomaticEdition .choice .expan{font-size:80%;position:absolute;line-height:16px;display:none;border:1.5px solid black;border-radius:3px;padding:5px 2px;margin-top:30px;left:0;-moz-box-shadow:2px 2px 2px #7e7067;-o-box-shadow:2px 2px 2px #7e7067;-webkit-box-shadow:2px 2px 2px #7e7067;-khtml-box-shadow:2px 2px 2px #7e7067;-ms-box-shadow:2px 2px 2px #7e7067;box-shadow:2px 2px 2px #7e7067}.diplomaticEdition .choice .expan:before{content:url(' +
      v +
      ");left:15%;position:absolute;top:-12px}.diplomaticEdition .choice .expan,.diplomaticEdition .choice .expan *{background:#e5dac4 !important}.diplomaticEdition .choice .reg>.expan,.diplomaticEdition .choice .expan>.ex{font-size:100%;position:relative;border:none;border-radius:0;margin-top:0;padding:0;-moz-box-shadow:0px 0px 0px;-o-box-shadow:0px 0px 0px;-webkit-box-shadow:0px 0px 0px;-khtml-box-shadow:0px 0px 0px;-ms-box-shadow:0px 0px 0px;box-shadow:0px 0px 0px}.diplomaticEdition .choice .reg>.expan:before,.diplomaticEdition .choice .expan>.ex:before{content:none}.diplomaticEdition .choice .abbr{color:purple;z-index:9;text-decoration:underline}.diplomaticEdition .choice .corr,.diplomaticEdition .choice .reg{font-size:80%;position:absolute;line-height:16px;display:none;border:1.5px solid black;border-radius:3px;-moz-box-shadow:2px 2px 2px #7e7067;-o-box-shadow:2px 2px 2px #7e7067;-webkit-box-shadow:2px 2px 2px #7e7067;-khtml-box-shadow:2px 2px 2px #7e7067;-ms-box-shadow:2px 2px 2px #7e7067;box-shadow:2px 2px 2px #7e7067;padding:5px 8px;margin-top:30px}.diplomaticEdition .choice .corr:before,.diplomaticEdition .choice .reg:before{left:15%;position:absolute;top:-13px}.diplomaticEdition .choice .corr{left:3em !important}.diplomaticEdition .choice .corr:before{content:url(" +
      b +
      ")}.diplomaticEdition .choice .corr,.diplomaticEdition .choice .corr *{background:#f99069 !important}.diplomaticEdition .choice .reg:before{content:url(" +
      v +
      ')}.diplomaticEdition .choice .reg,.diplomaticEdition .choice .reg *{background:#e5dac4 !important}.diplomaticEdition .choice .orig{color:#69513a}.diplomaticEdition .choice .orig:hover,.diplomaticEdition .choice .orig.hover{color:#561c0a}.diplomaticEdition .choice:hover .reg,.diplomaticEdition .choice:hover .corr,.diplomaticEdition .choice.hover .reg,.diplomaticEdition .choice.hover .corr{display:inline;min-width:20px;text-align:center;z-index:9;white-space:nowrap;left:0px}.diplomaticEdition .choice:hover .corr,.diplomaticEdition .choice.hover .corr{-moz-transform:translate(-80%, 0);-o-transform:translate(-80%, 0);-webkit-transform:translate(-80%, 0);-khtml-transform:translate(-80%, 0);-ms-transform:translate(-80%, 0);transform:translate(-80%, 0)}.diplomaticEdition .choice:hover .orig,.diplomaticEdition .choice.hover .orig{text-decoration:underline}.diplomaticEdition .choice .sic{color:#934d4d}.diplomaticEdition .choice .sup{line-height:20px;vertical-align:20%}.diplomaticEdition .choice .under{line-height:20px;vertical-align:-20%}.diplomaticEdition .choice .corr{display:inline-table}.diplomaticEdition .choice .corr:before,.diplomaticEdition .choice .corr:after{content:""}.diplomaticEdition .choice .corr{font-size:80%;position:absolute;line-height:16px;display:none;background:#f99069;border:1.5px solid black;border-radius:3px;-moz-box-shadow:2px 2px 2px #7e7067;-o-box-shadow:2px 2px 2px #7e7067;-webkit-box-shadow:2px 2px 2px #7e7067;-khtml-box-shadow:2px 2px 2px #7e7067;-ms-box-shadow:2px 2px 2px #7e7067;box-shadow:2px 2px 2px #7e7067;padding:5px 8px;margin-top:30px}.diplomaticEdition .choice .corr:before{content:url(' +
      b +
      ');left:15%;position:absolute;top:-13px}.diplomaticEdition .choice .sic{color:#934d4d}.diplomaticEdition .choice .sic:hover,.diplomaticEdition .choice .sic.hover{color:#561c0a}.diplomaticEdition .choice:hover .corr,.diplomaticEdition .choice.hover .corr{display:inline;min-width:20px;text-align:center}.diplomaticEdition .choice:hover .sic,.diplomaticEdition .choice.hover .sic{text-decoration:underline}.diplomaticEdition .mapping[data-type="diplomatic"],.diplomaticEdition .mapping[data-type="orig"],.diplomaticEdition .mapping[data-type="diplomatic"]{display:inline}.diplomaticEdition .hi[data-rend="7init"]{font-size:200%;font-weight:bold}.diplomaticEdition .hi[data-rend="init3.1"]{font-size:180%;font-weight:bold}.diplomaticEdition .hi[data-rend="cap"]{text-transform:uppercase}.diplomaticEdition .hi[data-rend="double"]{font-size:120%}.diplomaticEdition .hi[data-rend="red_ink"]{color:red}]diplomaticEdition .choice:before,.diplomaticEdition .choice:after{content:""}.diplomaticEdition .choice:hover .reg,.diplomaticEdition .choice.hover .reg{display:inline;min-width:20px;z-index:9;white-space:nowrap}.diplomaticEdition .choice:hover .orig,.diplomaticEdition .choice.hover .orig{color:#561c0a;text-decoration:underline}.diplomaticEdition .choice .corr{display:none}.diplomaticEdition .choice .orig{color:#69513a}.diplomaticEdition .choice .orig .sup{line-height:20px;vertical-align:20%}.diplomaticEdition .choice .orig .under{line-height:20px;vertical-align:-20%}.diplomaticEdition .reg{font-size:85%;position:absolute;line-height:16px;display:none;border:1.5px solid black;border-radius:3px;padding:5px 2px;margin-top:30px;-moz-box-shadow:2px 2px 2px #7e7067;-o-box-shadow:2px 2px 2px #7e7067;-webkit-box-shadow:2px 2px 2px #7e7067;-khtml-box-shadow:2px 2px 2px #7e7067;-ms-box-shadow:2px 2px 2px #7e7067;box-shadow:2px 2px 2px #7e7067;left:0}.diplomaticEdition .reg:before{content:url(' +
      v +
      ');left:15%;position:absolute;top:-12px}.diplomaticEdition .reg span{background:transparent}.diplomaticEdition .reg,.diplomaticEdition .reg *{background:#e5dac4 !important}.diplomaticEdition .add{background-color:#bdecb6}.diplomaticEdition .del{text-decoration:line-through}.diplomaticEdition .damage{background-color:rgba(193,193,193,0.7)}.diplomaticEdition .glyph .glyphname,.diplomaticEdition .glyph .mapping{display:none}.diplomaticEdition .char .charname,.diplomaticEdition .char .mapping{display:none}.diplomaticEdition .center,.diplomaticEdition [rend="center"]{text-align:center;width:92%;display:inline-table;background:#FFF}.diplomaticEdition .right,.diplomaticEdition [rend="right"]{text-align:right;display:inline-table;background:#FFF}.diplomaticEdition .left,.diplomaticEdition [rend="left"]{display:inline-table}.diplomaticEdition [data-rend="red"]{color:red}.diplomaticEdition .attachment{border:1px solid black;padding:5px 0px 0px 10px}.diplomaticEdition .lineN{color:grey;font-size:0.8em}.diplomaticEdition .subst{text-decoration:underline}.diplomaticEdition .zone{margin-bottom:5px}.interpretativeEdition .choice{position:relative;text-align:center}.interpretativeEdition .choice:before,.interpretativeEdition .choice:after{content:""}.interpretativeEdition .choice:hover .abbr,.interpretativeEdition .choice.hover .abbr{display:inline;min-width:20px;z-index:99;white-space:nowrap}.interpretativeEdition .choice .expan{color:purple;z-index:9}.interpretativeEdition .choice .expan:hover,.interpretativeEdition .choice .expan.hover{text-decoration:underline;color:#561c0a}.interpretativeEdition .choice .abbr{font-size:80%;position:absolute;line-height:16px;display:none;border:1.5px solid black;border-radius:3px;padding:5px 2px;margin-top:30px;left:0;-moz-box-shadow:2px 2px 2px #7e7067;-o-box-shadow:2px 2px 2px #7e7067;-webkit-box-shadow:2px 2px 2px #7e7067;-khtml-box-shadow:2px 2px 2px #7e7067;-ms-box-shadow:2px 2px 2px #7e7067;box-shadow:2px 2px 2px #7e7067}.interpretativeEdition .choice .abbr:before{content:url(' +
      v +
      ");left:15%;position:absolute;top:-12px}.interpretativeEdition .choice .abbr,.interpretativeEdition .choice .abbr *{background:#e5dac4 !important}.interpretativeEdition .choice .orig>.abbr{font-size:100%;position:relative;border:none;border-radius:0;margin-top:0;padding:0;-moz-box-shadow:0px 0px 0px;-o-box-shadow:0px 0px 0px;-webkit-box-shadow:0px 0px 0px;-khtml-box-shadow:0px 0px 0px;-ms-box-shadow:0px 0px 0px;box-shadow:0px 0px 0px}.interpretativeEdition .choice .orig>.abbr:before{content:none}.interpretativeEdition .choice .expan{color:purple;z-index:9;text-decoration:underline}.interpretativeEdition .choice .sic,.interpretativeEdition .choice .orig{font-size:80%;position:absolute;line-height:16px;display:none;border:1.5px solid black;border-radius:3px;-moz-box-shadow:2px 2px 2px #7e7067;-o-box-shadow:2px 2px 2px #7e7067;-webkit-box-shadow:2px 2px 2px #7e7067;-khtml-box-shadow:2px 2px 2px #7e7067;-ms-box-shadow:2px 2px 2px #7e7067;box-shadow:2px 2px 2px #7e7067;padding:5px 8px;margin-top:30px}.interpretativeEdition .choice .sic:before,.interpretativeEdition .choice .orig:before{left:15%;position:absolute;top:-13px}.interpretativeEdition .choice .sic{left:3em !important}.interpretativeEdition .choice .sic:before{content:url(" +
      b +
      ")}.interpretativeEdition .choice .sic,.interpretativeEdition .choice .sic *{background:#f99069 !important}.interpretativeEdition .choice .orig:before{content:url(" +
      v +
      ')}.interpretativeEdition .choice .orig,.interpretativeEdition .choice .orig *{background:#e5dac4 !important}.interpretativeEdition .choice .reg{color:#69513a}.interpretativeEdition .choice .reg:hover,.interpretativeEdition .choice .reg.hover{color:#561c0a}.interpretativeEdition .choice:hover .orig,.interpretativeEdition .choice:hover .sic,.interpretativeEdition .choice.hover .orig,.interpretativeEdition .choice.hover .sic{display:inline;min-width:20px;text-align:center;z-index:9;white-space:nowrap}.interpretativeEdition .choice:hover .sic,.interpretativeEdition .choice.hover .sic{-moz-transform:translate(-80%, 0);-o-transform:translate(-80%, 0);-webkit-transform:translate(-80%, 0);-khtml-transform:translate(-80%, 0);-ms-transform:translate(-80%, 0);transform:translate(-80%, 0)}.interpretativeEdition .choice:hover .reg,.interpretativeEdition .choice.hover .reg{text-decoration:underline}.interpretativeEdition .choice .sup{line-height:20px;vertical-align:20%}.interpretativeEdition .choice .under{line-height:20px;vertical-align:-20%}.interpretativeEdition .choice .sic{display:inline-table}.interpretativeEdition .choice .sic:before,.interpretativeEdition .choice .sic:after{content:""}.interpretativeEdition .choice .sic{font-size:80%;position:absolute;line-height:16px;display:none;background:#f99069;border:1.5px solid black;border-radius:3px;-moz-box-shadow:2px 2px 2px #7e7067;-o-box-shadow:2px 2px 2px #7e7067;-webkit-box-shadow:2px 2px 2px #7e7067;-khtml-box-shadow:2px 2px 2px #7e7067;-ms-box-shadow:2px 2px 2px #7e7067;box-shadow:2px 2px 2px #7e7067;padding:5px 8px;margin-top:30px}.interpretativeEdition .choice .sic:before{content:url(' +
      b +
      ');left:15%;position:absolute;top:-13px}.interpretativeEdition .choice .corr{color:#934d4d}.interpretativeEdition .choice .corr:hover,.interpretativeEdition .choice .corr.hover{color:#561c0a}.interpretativeEdition .choice:hover .sic,.interpretativeEdition .choice.hover .sic{display:inline;min-width:20px;text-align:center}.interpretativeEdition .choice:hover .corr,.interpretativeEdition .choice.hover .corr{text-decoration:underline}.interpretativeEdition .mapping[data-type="interpretative"],.interpretativeEdition .mapping[data-type="reg"],.interpretativeEdition .mapping[data-type="normalized"]{display:inline}.interpretativeEdition .attachment{border:1px solid black;padding:5px 0px 0px 10px}.interpretativeEdition .ex{font-style:italic}.interpretativeEdition .lineN{color:grey;font-size:0.8em}.interpretativeEdition .resp{font-weight:bold}.interpretativeEdition .red{color:red}.interpretativeEdition .hi[data-rend="7init"]{font-size:140%}.interpretativeEdition .hi[data-rend="init3.1"]{font-size:120%}.interpretativeEdition .hi[data-rend="cap"]{text-transform:uppercase}.interpretativeEdition .hi[data-rend="double"]{font-size:120%}.interpretativeEdition .ex{font-style:italic}.interpretativeEdition .zone{margin-bottom:5px}.interpretativeEdition .p{display:block}.interpretativeEdition .center,.interpretativeEdition [rend="center"]{text-align:center;width:92%;display:inline-table;background:#fff}.interpretativeEdition .right,.interpretativeEdition [rend="right"]{text-align:right;display:inline-table;background:#fff}.interpretativeEdition .left,.interpretativeEdition [rend="left"]{display:inline-table}.interpretativeEdition .subst{position:relative;margin:0px;padding:0px}.interpretativeEdition .del:before{content:"[["}.interpretativeEdition .del:after{content:"]]"}.interpretativeEdition .add:before{content:"|"}.interpretativeEdition .add:after{content:"|"}.highlight{border:1px solid #4c2f2f;background-color:#c67261;opacity:0.4;filter:alpha(opacity=40)}.selectedHighlight{filter:alpha(opacity=50);border:1px solid #4c2f2f;background-color:#9c4837;opacity:0.5}.nohighlight{display:none}div.hotspot{filter:alpha(opacity=50);border:1px solid #4c2f2f;background-color:#9c4837;opacity:0.5}div.hotspot:hover{cursor:help}a.hotspot{width:30px;height:30px}img.hotspot{width:30px !important;height:30px !important;display:block !important}div.hotspot-dida{background-color:#ffffff;color:#000000;border:2px solid #4e443c;border-radius:2px;padding:0;text-align:left;box-shadow:0px 1px 4px rgba(0,0,0,0.7)}div.hotspot-dida-title{height:25px;margin:0;text-align:center;width:100%;background:#263238;color:#fff;padding:0px 2px;opacity:1}div.hotspot-dida-body{font-size:16px;height:80%;overflow-y:auto;border:none !important;padding:6px !important}div#osd-img{color:#ECEFF1;background:#000;overflow:hidden;text-align:center;padding:0;height:100%}div#osd-img * img{display:block !important}.fa-times{float:right}.fa-times:hover{cursor:pointer}.leaf{stroke:#ffffff;stroke-width:2pt;left:50px;fill:none;stroke-linecap:round}.leaf:hover{stroke:#d3d3d3}.leaf:active{stroke:#000000}.missingLeaf{stroke:#D3D3D3;stroke-width:1pt;fill:none;stroke-linecap:round}.replacedLeaf{stroke:#000000;stroke-dasharray:0.25, 2;stroke-width:1pt;fill:none;stroke-linecap:round}.addedLeaf{stroke:#000000;stroke-dasharray:0.8, 2;stroke-width:0.8pt;fill:none;stroke-linecap:square}.addedLeaf2{stroke:#000000;stroke-dasharray:0.8, 2;stroke-width:1.8pt;fill:none}.notLeaf{stroke:transparent;stroke-width:0.8pt;fill:none;stroke-linecap:square}.glued{stroke:grey;stroke-width:0.5;stroke-linecap:round}@font-face{font-family:\'Junicode\';src:url(' +
      o +
      ") format(\"woff\");font-weight:normal;font-style:normal}@font-face{font-family:'Junicode-bold';src:url(" +
      r +
      ") format(\"woff\");font-weight:bold;font-style:normal}@font-face{font-family:'Junicode-italic';src:url(" +
      a +
      ") format(\"woff\");font-weight:normal;font-style:italic}@font-face{font-family:'evt';src:url(" +
      s +
      ");src:url(" +
      l +
      ') format("embedded-opentype"),url(' +
      c +
      ') format("truetype"),url(' +
      u +
      ') format("woff"),url(' +
      d +
      ") format(\"svg\");font-weight:normal;font-style:normal}@font-face{font-family:'evtbis-icons';src:url(" +
      p +
      ");src:url(" +
      h +
      ') format("embedded-opentype"),url(' +
      f +
      ') format("truetype"),url(' +
      g +
      ') format("woff"),url(' +
      m +
      ') format("svg");font-weight:normal;font-style:normal}[class^="icon-"],[class*=" icon-"]{font-family:"evt" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[class^="iconbis-"],[class*=" iconbis-"]{font-family:"evtbis-icons" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-evt_3dhop:before{content:"\\e800"}.icon-evt_add:before{content:"\\e900"}.icon-evt_advanced-search:before{content:"\\f013"}.icon-evt_align:before{content:"\\e937"}.icon-evt_book:before{content:"\\e901"}.icon-evt_bookmark-alt:before{content:"\\e902"}.icon-evt_bookmark-alt2:before{content:"\\e938"}.icon-evt_bookmark:before{content:"\\e903"}.icon-evt_bookreader-alt:before{content:"\\e939"}.icon-evt_bookreader:before{content:"\\e904"}.icon-evt_books:before{content:"\\e905"}.icon-evt_case-sensitive:before{content:"\\e93f"}.icon-evt_close:before{content:"\\e8f6"}.icon-evt_code:before{content:"\\e907"}.icon-evt_collation:before{content:"\\e908"}.icon-evt_color-legend:before{content:"\\e909"}.icon-evt_color-lens:before{content:"\\e90a"}.icon-evt_colors-fill:before{content:"\\e90b"}.icon-evt_copyright:before{content:"\\e90c"}.icon-evt_drop-down:before{content:"\\e90d"}.icon-evt_drop-up:before{content:"\\e90e"}.icon-evt_exact-match:before{content:"\\e940"}.icon-evt_filter:before{content:"\\e90f"}.icon-evt_find-in-page:before{content:"\\e910"}.icon-evt_font-size-minus-alt:before{content:"\\e93a"}.icon-evt_font-size-minus:before{content:"\\e914"}.icon-evt_font-size-plus-alt:before{content:"\\e915"}.icon-evt_font-size-plus:before{content:"\\e916"}.icon-evt_font-size-reset-alt:before{content:"\\e93b"}.icon-evt_font-size-reset:before{content:"\\e917"}.icon-evt_font-size:before{content:"\\e93d"}.icon-evt_fragment:before{content:"\\e918"}.icon-evt_heatmap-alt:before{content:"\\e919"}.icon-evt_heatmap:before{content:"\\e91a"}.icon-evt_help-alt:before{content:"\\e91b"}.icon-evt_help:before{content:"\\e91c"}.icon-evt_hotspot:before{content:"\\e91d"}.icon-evt_imgtxt:before{content:"\\e91e"}.icon-evt_info-alt-r:before{content:"\\e91f"}.icon-evt_info-alt-sq:before{content:"\\e920"}.icon-evt_info-alt:before{content:"\\e921"}.icon-evt_info:before{content:"\\e922"}.icon-evt_keyboard:before{content:"\\f11c"}.icon-evt_link:before{content:"\\e923"}.icon-evt_list-alt:before{content:"\\e924"}.icon-evt_list:before{content:"\\e925"}.icon-evt_mail:before{content:"\\e926"}.icon-evt_menu:before{content:"\\e927"}.icon-evt_more-horiz:before{content:"\\e928"}.icon-evt_more-vert:before{content:"\\e929"}.icon-evt_next:before{content:"\\f105"}.icon-evt_note:before{content:"\\e92a"}.icon-evt_paragraph:before{content:"\\e92b"}.icon-evt_pin-alt-on:before{content:"\\e92c"}.icon-evt_pin-off:before{content:"\\e92d"}.icon-evt_pin-on:before{content:"\\e92e"}.icon-evt_previous:before{content:"\\f104"}.icon-evt_search-results-close:before{content:"\\f103"}.icon-evt_search-results-open:before{content:"\\f102"}.icon-evt_search:before{content:"\\e92f"}.icon-evt_thumbnails:before{content:"\\e93e"}.icon-evt_txt:before{content:"\\e930"}.icon-evt_txttxt:before{content:"\\e931"}.icon-evt_viscoll:before{content:"\\e801"}.icon-evt_zoom-fit:before{content:"\\e932"}.icon-evt_zoom-in:before{content:"\\e935"}.icon-evt_zoom-out:before{content:"\\e934"}.icon-evt_zoom-reset:before{content:"\\e933"}.icon-evt_zoom-reset1:before{content:"\\e93c"}.icon-evt_zoom:before{content:"\\e936"}.iconbis-evt_srctxt:before{content:"\\e945"}.iconbis-evt_versions:before{content:"\\e944"}.iconbis-evt_quote-left:before{content:"\\e943"}.iconbis-evt_quote-right:before{content:"\\e941"}.iconbis-evt_fork:before{content:"\\e942"}.iconbis-evt_analogue:before{content:"\\e93f"}.iconbis-evt_schema:before{content:"\\e93f"}.fa-rotate-45{-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.fw{display:block;width:100%}.fw[data-place="top-middle"]{text-align:center}.fw[data-place="top-right"]{text-align:right}.fw[data-place="top-left"]{text-align:left}[data-type="hot-spot"]{display:none}.bibl .editor{font-style:italic}.bibl .title{font-weight:bold}.del{text-decoration:none}div.div{display:block;margin:15px 0;background:inherit}.emph{font-style:italic;font-weight:bolder}.encodingError{font-variant:small-caps;background:url(' +
      y +
      ') repeat-x}.encodingError::before{content:"[ERROR]"}.figure{display:block;text-align:center;margin:10px 0px}.figure .desc{font-size:90%}.front .titlePage{text-align:center;font-weight:bold;margin-bottom:20px;font-size:110%;display:block}.head{display:block;font-weight:bold;margin-bottom:1.5rem}.head .ng-scope{font-weight:normal}.l{display:inline;background:inherit}.l.inApparatus{display:inline-block}.l.inApparatus::after{content:" // "}.l-block{display:block}.l[data-rend=\'indent\']:not(.l-hasLineN),.l-hasLineN[data-rend=\'indent\'] .lineContent{text-indent:1.5rem}.l .lineContent{display:inline-block}.l-hasLineN[data-rend=\'indent\']{text-indent:0 !important}.l-indent:not(.l-hasLineN){margin-left:34px}.l .lineN{text-align:right;color:grey;font-size:0.8em;margin-right:10px;height:100%;width:24px !important;display:inline-block}.lacuna,.fragment{font-variant:small-caps;font-size:60%;vertical-align:10%;margin-left:3px}.lacunaStart,.lacunaEnd{display:none}.lb .lineN {text-align:right;color:grey;font-size:0.8em;margin-right:10px;height:100%;width:24px !important;display:inline-block}.fragment{min-height:10px;height:10px;position:relative;display:block;padding:8px 0px 39px 0px;min-width:100%;width:109.5%;left:-5%;margin:0}.fragment-start{background:#bdbdbd;background:-moz-linear-gradient(top, #eceff1 0%, #bdbdbd 100%);background:-webkit-linear-gradient(top, #eceff1 0%, #bdbdbd 100%);background:linear-gradient(to bottom, #eceff1 0%, #bdbdbd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'$box-witness-background-color\', endColorstr=\' #bdbdbd\', GradientType=0);margin-bottom:20px;-moz-box-shadow:inset 0px -10px 9px -8px #000;-o-box-shadow:inset 0px -10px 9px -8px #000;-webkit-box-shadow:inset 0px -10px 9px -8px #000;-khtml-box-shadow:inset 0px -10px 9px -8px #000;-ms-box-shadow:inset 0px -10px 9px -8px #000;box-shadow:inset 0px -10px 9px -8px #000}.fragment-start::after{background:linear-gradient(-45deg, #eceff1 8px, transparent 0),linear-gradient(45deg, #eceff1 8px, transparent 0);background-position:left-bottom;background-repeat:repeat-x;background-size:16px 16px;content:" ";display:block;position:absolute;bottom:0px;left:0px;width:100%;height:16px}.fragment-end{background:#bdbdbd;background:-moz-linear-gradient(top, #bdbdbd 0%, #eceff1 100%);background:-webkit-linear-gradient(top, #bdbdbd 0%, #eceff1 100%);background:linear-gradient(to bottom, #bdbdbd 0%, #eceff1 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\' #bdbdbd\', endColorstr=\'$box-witness-background-color\', GradientType=0);margin-top:20px;-moz-box-shadow:inset 0px 10px 9px -8px #000;-o-box-shadow:inset 0px 10px 9px -8px #000;-webkit-box-shadow:inset 0px 10px 9px -8px #000;-khtml-box-shadow:inset 0px 10px 9px -8px #000;-ms-box-shadow:inset 0px 10px 9px -8px #000;box-shadow:inset 0px 10px 9px -8px #000}.fragment-end::before{top:0px;background-position:left top;background:linear-gradient(-135deg, #eceff1 8px, transparent 0),linear-gradient(135deg, #eceff1 8px, transparent 0);background-position:left-top;background-repeat:repeat-x;background-size:16px 16px;content:" ";display:block;position:absolute;top:0px;left:0px;width:100%;height:16px}.lacuna{min-height:10px;height:10px;position:relative;display:block;padding:8px 0px 39px 0px;min-width:100%;width:109.5%;left:-5%;margin:20px 0;background:#bdbdbd;text-align:center;padding-top:20px}.lacuna::after{background:linear-gradient(-45deg, #eceff1 8px, transparent 0),linear-gradient(45deg, #eceff1 8px, transparent 0);background-position:left-bottom;background-repeat:repeat-x;background-size:16px 16px;content:" ";display:block;position:absolute;bottom:0px;left:0px;width:100%;height:16px}.lacuna::before{top:0px;background-position:left top;background:linear-gradient(-135deg, #eceff1 8px, transparent 0),linear-gradient(135deg, #eceff1 8px, transparent 0);background-position:left-top;background-repeat:repeat-x;background-size:16px 16px;content:" ";display:block;position:absolute;top:0px;left:0px;width:100%;height:16px}.lacunaApp::before{top:1px;position:relative}.list{margin-top:1.5%;margin-bottom:1.5%;margin-left:2%;display:block}.list .item{display:list-item;position:relative;left:20px}.listChange .change{display:list-item;margin-left:1.5rem}.msDesc ::before{font-weight:bold}.msDesc .handDesc,.msDesc .decoDesc{display:block;margin-bottom:8px}.msDesc .history:before,.msDesc .handDesc:before,.msDesc .decoDesc:before{content:"\\a";display:inline-block;white-space:pre}.msDesc .msIdentifier{display:block;margin-bottom:8px}.msDesc .msIdentifier .settlement{display:block}.msDesc .msIdentifier .repository{display:block}.msDesc .msIdentifier .idno{display:block}.msDesc .msContents .msItem .author,.msDesc .msContents .msItem .title,.msDesc .msContents .msItem .textLang,.msDesc .msContents .msItem .colophon{display:block}.msDesc .physDesc{display:block;margin-top:8px}.msDesc .history{display:block;margin-top:8px}.msDesc .quote{font-style:italic}.msDesc .quote::before{content:\'«\';font-weight:normal}.msDesc .quote::after{content:\'»\'}.omission{font-style:italic}.omission::before{content:"[om.]"}.p{display:block;margin-bottom:5px}.pb{display:block;text-align:center;font-size:80%}.pb::before{content:\'\\2014\';margin-right:5px}.pb::after{content:\' \\2014\';margin-left:5px}.speaker{font-variant:small-caps;font-weight:bold;font-size:90%}.speaker::after{content:":"}.stage{font-style:italic;font-size:90%;display:block;text-align:center}.witnesses-lem,.variance-lem{font-weight:bold}.witnesses-rdg,.variance-rdg{font-style:italic}[data-rend="italic"],.i{font-style:italic !important}[data-rend="bold"]{font-weight:bold !important}[data-rend="underline"]{text-decoration:underline !important}[data-rendition="pencil"]{font-weight:lighter;color:#a9a9a9;text-shadow:0px 0px 1px #bfbfbf}.address,.addrline{display:block;font-size:90%}.encodingdesc .editorialdecl{display:block}.encodingdesc .editorialdecl:before,.encodingdesc .editorialdecl>*:before{font-variant:small-caps;color:#666;font-size:90%}.encodingdesc .editorialdecl .correction,.encodingdesc .editorialdecl .hyphenation,.encodingdesc .editorialdecl .interpretation,.encodingdesc .editorialdecl .normalization,.encodingdesc .editorialdecl .punctuation,.encodingdesc .editorialdecl .quotation,.encodingdesc .editorialdecl .segmentation,.encodingdesc .editorialdecl .stdVals{display:block}.encodingdesc .projectDesc,.encodingdesc .refsDecl{display:block;margin-top:14px}.fileDesc *:before{font-variant:small-caps;color:#666;font-size:90%}.fileDesc .author{display:block}.fileDesc .author:before{content:""}.fileDesc .editor{display:block}.fileDesc .notesStmt{display:block}.fileDesc .notesStmt .note{display:block;margin-top:10px}.fileDesc .publicationStmt{display:block}.fileDesc .publicationStmt>*{display:block}.fileDesc .publicationStmt:before,.fileDesc .publicationStmt>*:before{font-variant:small-caps;color:#666;font-size:90%}.fileDesc .respStmt,.fileDesc .seriesStmt{display:block}.fileDesc .sourceDesc{display:block}.fileDesc .sourceDesc .listwit,.fileDesc .sourceDesc .listbibl{display:none}.fileDesc .titleStmt{margin-bottom:10px;margin-left:25%}.fileDesc .titleStmt .title{display:inline;text-align:center;font-weight:bold;font-size:1.2em;margin-bottom:10px}.fileDesc .titleStmt [data-type=\'sub\']{font-weight:bold;font-size:1em}.fileDesc .titleStmt [data-type=\'main\']:after{content:" -"}.funder,.sponsor,.principal{display:block;margin-top:14px}.funder:before,.sponsor:before,.principal:before{display:block;border-bottom:1px dotted #666;margin-bottom:5px}.funder .orgname,.sponsor .orgname,.principal .orgname{display:block}.interpGrp .interp{display:list-item;margin-left:25px}.profiledesc .langUsage .language{display:block}.profiledesc .particDesc .listPerson,.profiledesc .particDesc .person{display:block}.profiledesc .particDesc .listPerson *,.profiledesc .particDesc .person *{margin:0;display:inline}.profiledesc .particDesc .listPerson .head,.profiledesc .particDesc .person .head{display:block;font-variant:small-caps;margin:10px 0 5px 0}.profiledesc .particDesc .person,.profiledesc .particDesc .personGrp{margin-bottom:10px;display:block}.profiledesc .particDesc .person .state:before,.profiledesc .particDesc .personGrp .state:before{content:"- "}.profiledesc .particDesc .person .sex:before,.profiledesc .particDesc .personGrp .sex:before{content:" ("}.profiledesc .particDesc .person .sex:after,.profiledesc .particDesc .personGrp .sex:after{content:")"}.revisionDesc .change{display:list-item;margin-bottom:10px;margin-left:25px}.respStmt .name:not(:last-child):after,.respStmt .persName:not(:last-child):after{content:\', \'}.respStmt .name:last-child:after,.respStmt .persName:last-child:after{content:\'. \'}.variantEncoding{display:block}.fileDesc .listWit,.fileDesc .listPerson{display:none}.gi,.val{font-style:italic}.em{font-weight:bolder;font-style:italic}.gap[data-unit="chars"][data-quantity=\'1\']:before{content:"[."}.gap[data-unit="chars"][data-quantity=\'1\']:after{content:"]"}.gap[data-unit="chars"][data-quantity=\'2\']:before{content:"[.."}.gap[data-unit="chars"][data-quantity=\'2\']:after{content:"]"}.gap[data-unit="chars"][data-quantity=\'3\']:before{content:"[..."}.gap[data-unit="chars"][data-quantity=\'3\']:after{content:"]"}.gap[data-unit="chars"][data-quantity=\'4\']:before{content:"[...."}.gap[data-unit="chars"][data-quantity=\'4\']:after{content:"]"}.gap[data-unit="chars"][data-quantity=\'5\']:before{content:"[....."}.gap[data-unit="chars"][data-quantity=\'5\']:after{content:"]"}.gap[data-unit="chars"][data-quantity=\'6\']:before{content:"[......"}.gap[data-unit="chars"][data-quantity=\'6\']:after{content:"]"}.gap[data-unit="chars"][data-quantity=\'7\']:before{content:"[......."}.gap[data-unit="chars"][data-quantity=\'7\']:after{content:"]"}.gap[data-unit="chars"][data-quantity=\'8\']:before{content:"[........"}.gap[data-unit="chars"][data-quantity=\'8\']:after{content:"]"}.gap[data-unit="chars"][data-quantity=\'unknown\']:before{content:"[..."}.gap[data-unit="chars"][data-quantity=\'unknown\']:after{content:"]"}#tdhop{font-family:Junicode, Times, serif;position:absolute;width:100%;height:100%;max-width:100%;max-height:100%;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}#tdhlg{left:85% !important;top:95% !important;position:absolute;width:105px;height:13px;overflow:hidden;cursor:pointer;color:#909090;text-align:center;text-decoration:none;font-family:verdana;font-style:italic;font-size:10px;line-height:13px;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}#toolbar{position:absolute;left:10px;margin-top:10px;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}#toolbar img{margin-bottom:2px;width:32px;height:32px;opacity:0.5;cursor:pointer;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}.output-box{position:absolute;display:none;border-radius:5px;margin:0;height:48px;padding:0px 5px 2px 5px;cursor:default;background-color:rgba(125,125,125,0.5);color:#f8f8f8;text-decoration:none;text-align:center;font-family:verdana;font-style:italic;font-size:12px;line-height:20px;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}.output-text{padding:0px 5px 0px 5px;cursor:text;-webkit-user-select:text;-webkit-touch-callout:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.output-input{vertical-align:middle;cursor:pointer;height:15px;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}.output-table{margin:0;width:100%;color:#f8f8f8;text-align:center;font-style:italic;font-size:12px;line-height:15px;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}.output-table img{height:25px;cursor:pointer;background-color:rgba(125,125,125,0.25);border:1px outset;border-radius:5px;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;user-drag:none;-webkit-user-drag:none}.output-table img:hover{background-color:rgba(125,125,125,0.8)}.output-box hr{margin:0 0 3px 0;border:0;height:1px;background-image:linear-gradient(to right, rgba(0,0,0,0), rgba(225,225,225,0.75), rgba(0,0,0,0))}#draw-canvas{width:100%;height:100%;background-repeat:no-repeat;background-position:center top;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;outline:none;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}input[type="range"].output-input{padding:0;width:125px}.output-input::-ms-tooltip{display:none}#measurebox{position:absolute;visibility:hidden;overflow:hidden;border-radius:5px;right:10;top:10;margin:0;width:105px;height:26px;cursor:default;color:#909090;text-decoration:none;text-align:center;font-family:verdana;font-style:italic;font-size:10px;line-height:13px;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}#measure-output{cursor:text;-webkit-user-select:text;-webkit-touch-callout:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#measure-box{position:absolute;top:485px;left:70px}#pickpoint-box{position:absolute;top:555px;left:70px}#sections-box{position:absolute;top:620px;left:70px}#lightcontroller{position:absolute}#arrows{display:block}.models{background-color:rgba(50,50,50,0.5);padding:1%;border-radius:10px;box-shadow:1px 1px 10px #f8f8f8;margin-bottom:2px;margin-left:3px}.move_{background-color:rgba(50,50,50,0.5);padding:1.5%;border-radius:6px;box-shadow:1px 1px 10px #f8f8f8}.up{transform:rotate(270deg)}.dawn{transform:rotate(90deg)}.left{transform:rotate(180deg)}#compassCanvass{font-family:Junicode, Times, serif}.dropbtn{border-radius:2px;font-family:Junicode, Times, serif;height:28px;min-width:80px;position:relative;left:0;display:inline-block;background:#eceff1;color:#263238;font-size:1em;text-align:left;overflow:visible;box-shadow:0px 2px 4px rgba(0,0,0,0.4);padding:3px}.dropdown{position:relative;display:inline-block;margin:0 4px;padding-right:24px}.dropdown-content{display:none;position:absolute;background-color:#f1f1f1;min-width:160px;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);z-index:1;color:#263238}.dropdown-content div{color:black;padding:12px 18px;text-decoration:none;display:block}.dropdown-content div:hover{background-color:#263238;color:#fff}.dropdown:hover .dropdown-content{display:block}.open_options{height:28px;width:24px;position:absolute;right:0;top:0;opacity:0.5;border-left:1px solid #b0bec5;border-radius:0 2px 2px 0;background:#b0bec5;text-align:center;cursor:pointer}.option_container{display:none;height:auto;max-height:170px;min-width:100%;width:auto;position:absolute;left:0;top:30px;overflow-y:auto;background:#eceff1;z-index:400;-o-box-shadow:0 2px 5px rgba(0,0,0,0.4);-khtml-box-shadow:0 2px 5px rgba(0,0,0,0.4);-ms-box-shadow:0 2px 5px rgba(0,0,0,0.4);box-shadow:0 2px 5px rgba(0,0,0,0.4)}[data-type="3D_Desc"] span.label-physDesc.projectInfo-sectionSubHeader.ng-binding{display:none}[data-type="3D_Desc"] .head[data-type="main"],[data-type="3D_Desc"] .head{font-weight:bolder;font-size:x-large;color:#a15517 !important}[data-type="3D_Desc"] .head[data-type="main"]:hover,[data-type="3D_Desc"] .head:hover{text-decoration:underline}[data-type="3D_Desc"] .objectName{font-weight:bolder;font-size:larger;color:#c0671e !important}[data-type="3D_Desc"] .object:hover .objectName{text-decoration:underline}[data-type="3D_Desc"] .object:hover{background-color:#ececec;opacity:90%;z-index:1}.object{display:block}#cover{display:none;position:fixed;z-index:20;width:100%;height:100%;top:0;left:0;padding-bottom:20px;background-color:rgba(50,50,50,0.5)}.panel{display:none;width:550px;font-size:80%;font-family:verdana;font-style:italic;color:#f8f8f8;text-align:center;background-color:rgba(50,50,50,0.97);border:2px solid #f8f8f8;border-radius:10px;box-shadow:1px 1px 10px #f8f8f8;-webkit-box-shadow:1px 1px 10px #f8f8f8;-moz-box-shadow:1px 1px 10px #f8f8f8;cursor:default;text-decoration:none;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none}.close,.close_on{position:relative;margin-left:99%;margin-top:-25px;width:25px;height:25px;background-color:#323232;border:2px solid #f8f8f8;border-radius:50%;box-shadow:1px -1px 10px #f8f8f8;-webkit-box-shadow:1px -1px 10px #f8f8f8;-moz-box-shadow:1px -1px 10px #f8f8f8;-webkit-user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;-ms-touch-action:none}.close,.close_on,:hover{cursor:pointer}.secondary-container{position:absolute}.btnGroup{display:inline}.btnGroup .fontSizeBtnGroup{position:absolute;font-size:1.6em;float:left;bottom:45px;left:147px;padding:10px;background:#263238 none repeat scroll 0% 0%;text-align:center;box-shadow:0px -1px 4px rgba(0,0,0,0.6)}.filters-in-box{text-align:center;position:absolute;bottom:44px;width:100%;height:auto;padding:5px;left:3px;right:2px;width:calc(100% - 21px);background:#fff;-moz-box-shadow:0px -7px 6px -4px #fff;-o-box-shadow:0px -7px 6px -4px #fff;-webkit-box-shadow:0px -7px 6px -4px #fff;-khtml-box-shadow:0px -7px 6px -4px #fff;-ms-box-shadow:0px -7px 6px -4px #fff;box-shadow:0px -7px 6px -4px #fff}.filters-in-box span.filter-group{display:inline}.filters-in-box span.filter-group::after{content:"-"}.filters-in-box span.filter-group:last-child::after{content:""}.filters-in-box span.filter-group span.filter-value{display:inline-block;background:#cf00ff;border-radius:2px;font-size:85%;margin:4px;padding:0px 5px;font-variant:small-caps;cursor:pointer;min-width:50px;text-align:center;-moz-box-shadow:0px 1px 3px rgba(0,0,0,0.3);-o-box-shadow:0px 1px 3px rgba(0,0,0,0.3);-webkit-box-shadow:0px 1px 3px rgba(0,0,0,0.3);-khtml-box-shadow:0px 1px 3px rgba(0,0,0,0.3);-ms-box-shadow:0px 1px 3px rgba(0,0,0,0.3);box-shadow:0px 1px 3px rgba(0,0,0,0.3)}.filters-in-box span.filter-group span.filter-value:hover{opacity:0.9}.filters-in-box span.filter-group span.filter-value::after{content:"x";color:#333;font-weight:lighter;font-size:80%;top:-1px;position:relative}.pinnedTypeTitle{display:block;font-variant:small-caps;font-weight:bold;margin-bottom:0.5rem;margin-top:1rem}.alert-msg{background:rgba(0,0,0,0.1);display:block;font-size:90%;text-align:center;padding:10px}.alert-msg-error{background:rgba(255,0,0,0.1)}.globalMenu{width:auto;display:inline-flex;align-items:center;position:absolute;right:8px;top:0px;height:54px;padding:10px;font-size:100%}.globalMenu>button-switch:first-child{position:relative;top:-1px}.globalMenu button-switch{margin:0}.globalMenu button-switch .buttonSwitch{height:0;display:block !important;padding:0 3px;background:none;box-shadow:none;border-radius:0;width:auto}.globalMenu button-switch .buttonSwitch-label{font-variant:small-caps;font-size:80%;top:0;color:#ECEFF1}.globalMenu button-switch .buttonSwitch-icon{color:#ECEFF1;font-size:1em;top:-1px}.globalMenu button-switch .buttonSwitch:hover,.globalMenu button-switch .buttonSwitch:hover>*{color:#FFC107}.globalMenu button-switch.mode-view{margin:0px 1px}.globalMenu button-switch.mode-view[data-icon="reading-txt"]{margin-right:-2px}.globalMenu button-switch.mode-view .buttonSwitch{width:auto;padding:0}.globalMenu button-switch.mode-view .buttonSwitch-active .icon,.globalMenu button-switch.mode-view .buttonSwitch:hover .icon{color:#FFC107}.globalMenu button-switch.mode-view .buttonSwitch-icon{font-size:1.2em;margin-right:3px;top:0}.globalMenu button-switch.mode-view .buttonSwitch .iconbis-evt_versions,.globalMenu button-switch.mode-view .buttonSwitch .iconbis-evt_srctxt{font-size:0.85em;top:-4px}.globalMenu button-switch:last-child{margin-right:0}.globalMenu .viewModeMenu{display:flex}.global-loading-container,.global-msg-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:9999;background:#e5e5e5;font-size:60%}.global-loading-container .global-msg,.global-msg-container .global-msg{height:auto;text-align:center;padding:20px}.global-loading-container .global-msg h1,.global-msg-container .global-msg h1{font-size:2.5em}.popup-container{height:-moz-calc(100% - 99px);height:-o-calc(100% - 99px);height:-webkit-calc(100% - 99px);height:calc(100% - 99px);overflow-y:auto;position:absolute;width:100%;left:0;bottom:45px;background-color:#607d8b;border:1px solid #ffffff;border-left:none;border-right:none;z-index:999;top:54px}.popup-container.noNavBar{top:100px;bottom:0;border:none;left:4px;height:-moz-calc(100% - 99px - 4px - 1px);height:-o-calc(100% - 99px - 4px - 1px);height:-webkit-calc(100% - 99px - 4px - 1px);height:calc(100% - 99px - 4px - 1px)}.popup-container.noNavBar.thumb_cont{width:-moz-calc(50% - 8px);width:-o-calc(50% - 8px);width:-webkit-calc(50% - 8px);width:calc(50% - 8px)}.popup-container.noNavBar.viscoll_cont{top:99px;width:-moz-calc(100% - 7px);width:-o-calc(100% - 7px);width:-webkit-calc(100% - 7px);width:calc(100% - 7px);height:-moz-calc(100% - 99px - 1px);height:-o-calc(100% - 99px - 1px);height:-webkit-calc(100% - 99px - 1px);height:calc(100% - 99px - 1px)}.global-loading-container{display:block}.viewMode .loading,.global-loading-container .loading{background:rgba(0,0,0,0.1)}.viewMode .loading .loader,.global-loading-container .loading .loader{font-size:2.5em;color:#263238;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.viewMode box:last-child .box,.global-loading-container box:last-child .box{margin:0}pre{white-space:pre-wrap;font-size:80%}.colorLegend{padding:15px}.colorLegend-filter-name{display:block;margin:10px 0 5px;font-weight:bold;font-variant:small-caps;text-transform:uppercase}.colorLegend-filter-value{display:block}.colorLegend-filter-color{display:inline-block;min-height:15px;min-width:15px;margin-right:10px;vertical-align:top}.availableWitnesses-selector,.availableVersions-selector{position:absolute;z-index:9999;display:block;right:0;background:#fff;height:auto;top:50%;margin-right:9px;transform:translate(0, -50%);min-width:150px;max-height:80%;overflow-x:hidden;overflow-y:auto;-moz-box-shadow:0px 0px 4px 0px rgba(0,0,0,0.6);-o-box-shadow:0px 0px 4px 0px rgba(0,0,0,0.6);-webkit-box-shadow:0px 0px 4px 0px rgba(0,0,0,0.6);-khtml-box-shadow:0px 0px 4px 0px rgba(0,0,0,0.6);-ms-box-shadow:0px 0px 4px 0px rgba(0,0,0,0.6);box-shadow:0px 0px 4px 0px rgba(0,0,0,0.6)}.availableWitnesses-selector>span,.availableVersions-selector>span{display:block;padding:10px;border-bottom:1px solid #f0f0f0;cursor:pointer}.availableWitnesses-selector>span:hover,.availableVersions-selector>span:hover{background:#f0f0f0}.availableWitnesses-selector.left75,.availableVersions-selector.left75{position:absolute;right:auto;left:75%;transform:translate(-50%, -45%)}.mainMenu{position:absolute;text-align:left;background-color:white;padding:9px 0px;z-index:9999;max-width:340px;overflow:hidden;border-radius:3px;top:54px;right:4px;-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,0.26), 0 2px 10px 0 rgba(0,0,0,0.16);-o-box-shadow:0 2px 5px 0 rgba(0,0,0,0.26), 0 2px 10px 0 rgba(0,0,0,0.16);-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,0.26), 0 2px 10px 0 rgba(0,0,0,0.16);-khtml-box-shadow:0 2px 5px 0 rgba(0,0,0,0.26), 0 2px 10px 0 rgba(0,0,0,0.16);-ms-box-shadow:0 2px 5px 0 rgba(0,0,0,0.26), 0 2px 10px 0 rgba(0,0,0,0.16);box-shadow:0 2px 5px 0 rgba(0,0,0,0.26), 0 2px 10px 0 rgba(0,0,0,0.16)}.mainMenu ul{margin:0;list-style:none;padding:0;color:#4b4b4b}.mainMenu ul li>span{color:#444444;font-size:1.1rem;height:40px;padding-top:13px;padding-right:58px;padding-left:20px;display:block;cursor:pointer;box-sizing:border-box;white-space:nowrap}.mainMenu ul li>span .icon{margin-right:14px}.mainMenu ul li:hover{background-color:#f4f5f5;cursor:pointer}.mainMenu ul li.inactive *{background-color:#f5f5f5;color:#ccc;cursor:default}.mainMenu ul li a{color:#444444;text-decoration:none}.mainMenu img.flag{height:18px;width:18px;border-radius:100px;border:1px solid #4e443c;display:inline-block;margin:0px 4px;position:relative;top:2px;cursor:pointer;opacity:0.5}.mainMenu img.flag.active{cursor:default;opacity:1}.mainMenu img.flag:hover{opacity:1}.projectInfo-sectionHeader{font-weight:bold;display:block;margin:15px 0 5px;font-variant:small-caps;text-align:center}.projectInfo-sectionSubHeader{display:block;border-bottom:1px dotted #666;margin-bottom:5px;font-variant:small-caps;color:#000000;font-size:90%;display:block;margin-top:14px}.projectInfo-blockLabel,.projectInfo-inlineLabel{font-variant:small-caps;color:#666;font-size:90%}.projectInfo-blockLabel{display:block;margin-bottom:2px}.projectInfo-inlineLabel{display:inline}.projectInfo-inlineLabel+.p{display:inline}.p .projectInfo-inlineLabel{display:none}.hidden{display:none}.noPadding{padding:0 !important}.noPadding>*{padding:0 !important}.evtlb{display:block}.evtlb .l{display:inline !important}.zoneInImg{display:none}.zoneInImg.lineHover{border:1px solid #4c2f2f !important;background-color:#c67261 !important;opacity:0.4}.zoneInImg.lineSelected,.zoneInImg.lineSelected.lineHover{border:1px solid #4c2f2f !important;background-color:#9c4837 !important;opacity:0.5}.ITLactive.box-image img{display:none}.ITLactive.box-image .zoneInImg{display:block}.ITLactive .lineHover,.ITLactive .lineHover:after{cursor:pointer;background-color:rgba(230,206,160,0.8) !important;color:#000000}.ITLactive .lineSelected,.ITLactive .lineSelected:after{cursor:pointer;background-color:rgba(213,177,125,0.9) !important;color:#000000}.italic{font-style:italic}.highlighted{background:#ffc !important}.emptyText{padding:0 0.4rem}.emptyText::after{content:"\\00a0"}.front [data-type="footer"]{font-size:95%;padding:10px 0;border-top:1px solid}.evt_note{color:#fff}.evt_note span{padding:2px 5px 2px 3px !important;opacity:10 !important;border-radius:4px !important;font-size:13px !important;top:-8px !important;position:relative !important;text-align:center}.evt_note span.generic{color:#fff;background-color:maroon !important}evt-popover[data-n=""] .evt_note span.generic:before{content:"";padding:0px 4px 4px 4px !important;font-size:1px !important}evt-popover[data-n=""] .evt_note span.generic{margin-right:4px;font-size:10px !important;padding:0px 1px !important;border-radius:100px !important;background-color:#4e443c}.popover_trigger.active:hover{opacity:0.5}.popover_trigger{color:#263238 !important;opacity:10 !important}.evt_note span.comment{color:#fff;background-color:#570e69 !important}.evt_note span.critic{color:#fff;background-color:#18469b !important}.thumbnail{display:inline-block;padding:9px 3px;margin:3px;cursor:pointer}.thumbnail img{height:150px;width:100px;border:2px solid black}.thumbnail.active img{border-color:#FFC107}.thumbnail figcaption{color:white;position:relative;margin-top:-52px;background:rgba(0,0,0,0.2);font-size:0.7em;width:100px;text-align:center}.thumbnail:hover figcaption{background:rgba(0,0,0,0.7) !important}.thumbnail.active{cursor:default}.thumbnail.active figcaption{background:rgba(255,193,7,0.7) !important;color:#000}\n',
      "",
    ]);
  },
  function (e, t, i) {
    e.exports = i.p + "686a5a67443b412b6b9ac63e2db58bcd.woff";
  },
  function (e, t, i) {
    e.exports = i.p + "fbfbf698296891092937591f6e5a7679.woff";
  },
  function (e, t, i) {
    e.exports = i.p + "9b9ea5d869129fdbdaa612f564db94c8.woff";
  },
  function (e, t, i) {
    e.exports = i.p + "c637cdc45040efa4bd0155d03f844bc2.ttf";
  },
  function (e, t, i) {
    e.exports = i.p + "e7c0ddbf4605fa96030b85d8d82d06e4.woff";
  },
  function (e, t, i) {
    e.exports = i.p + "4693e3eebefafa6c132dc4d9e492b890.svg";
  },
  function (e, t) {
    e.exports =
      "data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBkYAAAC8AAAAYGNtYXAXGtMIAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zm7NHGAAAAF4AAAHoGhlYWQPE/lPAAAJGAAAADZoaGVhCNEE4wAACVAAAAAkaG10eC47AIkAAAl0AAAAOGxvY2ELngl+AAAJrAAAAB5tYXhwABYAaAAACcwAAAAgbmFtZXs1ir4AAAnsAAABwnBvc3QAAwAAAAALsAAAACAAAwPXAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpRQPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6UX//f//AAAAAAAg6Tz//f//AAH/4xbIAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAED/wAPAA8AAGQAiADgASwAAAS4BJy4BJy4BIyEiBhURFBYzITI2NRE0JicnHgEXIzUeARcTFAYjISImNRE0NjMwOgIxFRQWOwEBLgEjISIGFREUFhcRNDYzIS4BA5YRLRkaMxcnKQv+kCEvLyECYCEvDhyFFyUNmhEpF28JB/2gBwkJB3OKcxMN4P7bJykL/pAhLyUbCQcB5wcOAlsXMxoZLREcDi8h/SAhLy8hAfALKSc2FykRmg0lF/1/BwkJBwLgBwngDRMBlhwOLyH9IB0sBQMuBwkGCwAABgBA/8ADwAPAABcAGwAzADcATwBTAAABMzI2PQE0JisBNSMVIyIGHQEUFjsBETMDMxUjAzI2PQE0JisBESMRIyIGHQEUFjsBFTM1JzMVIwMyNj0BNCYrATUjFSMiBh0BFBY7AREzESczFSMDgBAUHBwUEIAQFBwcFBCAgICAsBQcHBQQgBAUHBwUEICAgICwFBwcFBCAEBQcHBQQgICAgAIAHBSgFBzAwBwUoBQc/cADAID+QBwUoBQcAkD9wBwUoBQcwMDAgAFAHBSgFBzAwBwUoBQc/cACQMCAAAIAAABSAyUDdwAPACAAAAEhIgYVERQWMyEyNjURNCYXERQGIyEiJjURNDYzITIWFQKA/iUmNjYmAdsmNTV/YUT+JUVgYEUB20RhAy42Jv4lJjY2JgHbJjZc/iVEYWFEAdtEYWFEAAAABQAA/8AEAAPAACEAJAAoADcAQQAAATIWFREUBiMhIiY9ASEiJjURNDY/AT4BOwEyFh0BPgE7AQUHMwEHMzUTNzUjFRQGKwERITU0NjcBESMVFAYrAREhA8kXICAX/dwXIP7JFyAXEOkQNxftFyARKBDu/smrq/6Tq6twtNsgF+4BJRcQAiLcIBbuAgAC5SEW/UkXICAXpCEWAYAXNxDpEBcgF7sKDXqrAYarq/6PtO7uFyD+k5IXNxD+NAKS7Rcg/pIAAAMAAP/ABAADwAAQACEAPgAAJRE0JiMhIgYVERQWMyEyNjUTERQGIyEiJjURNDYzITIWFScVIzU0JiMhIgYVERQWOwEVIyImNRE0NjMhMhYVA7cLB/2SBwsLBwJuBwtJNiX9kiY2NiYCbiU220oLB/2SBwsLB1xcJTY2JQJuJjYbAm4HCwsH/ZIHCwsHAm79kiU2NiUCbiY2NibcXFwHCwsH/ZIHC0o2JgJuJTY2JQAAAgAAAFIDtwN3ACIARQAAAREUDgIrASImPQE0NjsBMjY9ATQmKwEiJj0BNDY7ATIWFSERFA4CKwEiJj0BNDY7ATI2PQE0JisBIiY9ATQ2OwEyFhUBty5Qaj0kDxYWDyQ9ViEWgC5AQC7bLkACAC5Qaj0kDxYWDyQ9ViEWgC5AQC7bLkADCf5uPWpQLhYPSQ8WVT0SFyBALtsuQEAu/m49alAuFg9JDxZVPRIXIEAu2y5AQC4AAgAA/8ADgAPAABUAIwAAARUUBgcBDgEHIxc3Iz4BNwE+AT0BIxMuAS8BBxceARcjFzcjAoAdG/6WKy8CgsDAfwMbGQFqLjCAfgIvK0dbSBgcA3/AwIIDwHwmRxv+mCttPMDAIz4ZAWgtdUB8/MA8bSxGWkcZPiPAwAAAAAIAAABSA7cDdwAiAEUAAAEVFAYrASImNRE0PgI7ATIWHQEUBisBIgYdARQWOwEyFhUhFRQGKwEiJjURND4COwEyFh0BFAYrASIGHQEUFjsBMhYVAbdALtsuQC5Qaj0kDxYWDyQ9ViAXgC5AAgBALtsuQC5Qaj0kDxYWDyQ9ViAXgC5AAZvbLUFBLQGSPWpQLhYPSQ8VVj0SFyBALtstQUEtAZI9alAuFg9JDxVWPRIXIEAuAAYABf/EBQ8DvAAQACsAMAA1AEIARwAAEyIGFREUFjMhMjY1ETQmIyEHIREzPgE/AT4BPQEzFRQGDwEOAQczBycVIREXFSE1IR0BITUhBRceARczByczLgEvAQUVITUhfDFGRjEEHDFGRjH75CECUEcCHhvmERNRHx3mDxIBUHpv/bBXAaj+WAGo/lgDbS0cHQJSenpRAhEQLvzNAaj+WAO8STT9AjRJSTQC/jRJkP2oJEEZ1xApF0pKJkUb1g8lFXJomwL9rlVVr0lJUisZQSRychUlDyoaXV0AAAAHAAT/xAUOA7wAEAAUADUAVgBbAGAAZQAAEyIGFREUFjMhMjY1ETQmIyEHIREhATMyFh0BFAYrASIGHQEUFjsBMhYdARQGKwEiJj0BNDYzITMyFh0BFAYrASIGHQEUFjsBMhYdARQGKwEiJj0BNDYzBRUhNSEdASE1IR0BITUhezFGRjEEHDFGRjH75DcCS/21AyUVCQwMCRUiMhMNSRolJRp+GiVjRQEmFQkMDAkVIjITDUkbJCQbfholY0X8CwGo/lgBqP5YAaj+WAO8STT9AjRJSTQC/jRJiv0DAmIMCCcIDC8gCg0RIxl2GSMjGdpBXQwIJwgMLyAKDREjGXYZIyMZ2kFdGkVFsDs7oUREAAEAAAABAAB6KNKzXw889QALBAAAAAAA1XLaaQAAAADVctppAAD/wAUPA8AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABRQAAAAABQ8AAQAAAAAAAAAAAAAAAAAAAA4EAAAAAAAAAAAAAAACAAAABAAAQAQAAEADJQAABAAAAAQAAAADtwAAA4AAAAO3AAAFFAAFBRQABAAAAAAACgAUAB4AjAD6AS4BkAHoAkICgALaA0gD0AAAAAEAAAAOAGYABwAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAMAAAAAQAAAAAAAgAHAI0AAQAAAAAAAwAMAEUAAQAAAAAABAAMAKIAAQAAAAAABQALACQAAQAAAAAABgAMAGkAAQAAAAAACgAaAMYAAwABBAkAAQAYAAwAAwABBAkAAgAOAJQAAwABBAkAAwAYAFEAAwABBAkABAAYAK4AAwABBAkABQAWAC8AAwABBAkABgAYAHUAAwABBAkACgA0AOBldnRiaXMtaWNvbnMAZQB2AHQAYgBpAHMALQBpAGMAbwBuAHNWZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBldnRiaXMtaWNvbnMAZQB2AHQAYgBpAHMALQBpAGMAbwBuAHNldnRiaXMtaWNvbnMAZQB2AHQAYgBpAHMALQBpAGMAbwBuAHNSZWd1bGFyAFIAZQBnAHUAbABhAHJldnRiaXMtaWNvbnMAZQB2AHQAYgBpAHMALQBpAGMAbwBuAHNGb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";
  },
  function (e, t) {
    e.exports =
      "data:font/woff;base64,d09GRgABAAAAAAwcAAsAAAAAC9AAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIGRmNtYXAAAAFoAAAAVAAAAFQXGtMIZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAB6AAAAegbs0cYGhlYWQAAAlkAAAANgAAADYPE/lPaGhlYQAACZwAAAAkAAAAJAjRBONobXR4AAAJwAAAADgAAAA4LjsAiWxvY2EAAAn4AAAAHgAAAB4Lngl+bWF4cAAAChgAAAAgAAAAIAAWAGhuYW1lAAAKOAAAAcIAAAHCezWKvnBvc3QAAAv8AAAAIAAAACAAAwAAAAMD1wGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6UUDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOlF//3//wAAAAAAIOk8//3//wAB/+MWyAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAABABA/8ADwAPAABkAIgA4AEsAAAEuAScuAScuASMhIgYVERQWMyEyNjURNCYnJx4BFyM1HgEXExQGIyEiJjURNDYzMDoCMRUUFjsBAS4BIyEiBhURFBYXETQ2MyEuAQOWES0ZGjMXJykL/pAhLy8hAmAhLw4chRclDZoRKRdvCQf9oAcJCQdzinMTDeD+2ycpC/6QIS8lGwkHAecHDgJbFzMaGS0RHA4vIf0gIS8vIQHwCyknNhcpEZoNJRf9fwcJCQcC4AcJ4A0TAZYcDi8h/SAdLAUDLgcJBgsAAAYAQP/AA8ADwAAXABsAMwA3AE8AUwAAATMyNj0BNCYrATUjFSMiBh0BFBY7AREzAzMVIwMyNj0BNCYrAREjESMiBh0BFBY7ARUzNSczFSMDMjY9ATQmKwE1IxUjIgYdARQWOwERMxEnMxUjA4AQFBwcFBCAEBQcHBQQgICAgLAUHBwUEIAQFBwcFBCAgICAsBQcHBQQgBAUHBwUEICAgIACABwUoBQcwMAcFKAUHP3AAwCA/kAcFKAUHAJA/cAcFKAUHMDAwIABQBwUoBQcwMAcFKAUHP3AAkDAgAACAAAAUgMlA3cADwAgAAABISIGFREUFjMhMjY1ETQmFxEUBiMhIiY1ETQ2MyEyFhUCgP4lJjY2JgHbJjU1f2FE/iVFYGBFAdtEYQMuNib+JSY2NiYB2yY2XP4lRGFhRAHbRGFhRAAAAAUAAP/ABAADwAAhACQAKAA3AEEAAAEyFhURFAYjISImPQEhIiY1ETQ2PwE+ATsBMhYdAT4BOwEFBzMBBzM1Ezc1IxUUBisBESE1NDY3AREjFRQGKwERIQPJFyAgF/3cFyD+yRcgFxDpEDcX7RcgESgQ7v7Jq6v+k6urcLTbIBfuASUXEAIi3CAW7gIAAuUhFv1JFyAgF6QhFgGAFzcQ6RAXIBe7Cg16qwGGq6v+j7Tu7hcg/pOSFzcQ/jQCku0XIP6SAAADAAD/wAQAA8AAEAAhAD4AACURNCYjISIGFREUFjMhMjY1ExEUBiMhIiY1ETQ2MyEyFhUnFSM1NCYjISIGFREUFjsBFSMiJjURNDYzITIWFQO3Cwf9kgcLCwcCbgcLSTYl/ZImNjYmAm4lNttKCwf9kgcLCwdcXCU2NiUCbiY2GwJuBwsLB/2SBwsLBwJu/ZIlNjYlAm4mNjYm3FxcBwsLB/2SBwtKNiYCbiU2NiUAAAIAAABSA7cDdwAiAEUAAAERFA4CKwEiJj0BNDY7ATI2PQE0JisBIiY9ATQ2OwEyFhUhERQOAisBIiY9ATQ2OwEyNj0BNCYrASImPQE0NjsBMhYVAbcuUGo9JA8WFg8kPVYhFoAuQEAu2y5AAgAuUGo9JA8WFg8kPVYhFoAuQEAu2y5AAwn+bj1qUC4WD0kPFlU9EhcgQC7bLkBALv5uPWpQLhYPSQ8WVT0SFyBALtsuQEAuAAIAAP/AA4ADwAAVACMAAAEVFAYHAQ4BByMXNyM+ATcBPgE9ASMTLgEvAQcXHgEXIxc3IwKAHRv+lisvAoLAwH8DGxkBai4wgH4CLytHW0gYHAN/wMCCA8B8Jkcb/pgrbTzAwCM+GQFoLXVAfPzAPG0sRlpHGT4jwMAAAAACAAAAUgO3A3cAIgBFAAABFRQGKwEiJjURND4COwEyFh0BFAYrASIGHQEUFjsBMhYVIRUUBisBIiY1ETQ+AjsBMhYdARQGKwEiBh0BFBY7ATIWFQG3QC7bLkAuUGo9JA8WFg8kPVYgF4AuQAIAQC7bLkAuUGo9JA8WFg8kPVYgF4AuQAGb2y1BQS0Bkj1qUC4WD0kPFVY9EhcgQC7bLUFBLQGSPWpQLhYPSQ8VVj0SFyBALgAGAAX/xAUPA7wAEAArADAANQBCAEcAABMiBhURFBYzITI2NRE0JiMhByERMz4BPwE+AT0BMxUUBg8BDgEHMwcnFSERFxUhNSEdASE1IQUXHgEXMwcnMy4BLwEFFSE1IXwxRkYxBBwxRkYx++QhAlBHAh4b5hETUR8d5g8SAVB6b/2wVwGo/lgBqP5YA20tHB0CUnp6UQIREC78zQGo/lgDvEk0/QI0SUk0Av40SZD9qCRBGdcQKRdKSiZFG9YPJRVyaJsC/a5VVa9JSVIrGUEkcnIVJQ8qGl1dAAAABwAE/8QFDgO8ABAAFAA1AFYAWwBgAGUAABMiBhURFBYzITI2NRE0JiMhByERIQEzMhYdARQGKwEiBh0BFBY7ATIWHQEUBisBIiY9ATQ2MyEzMhYdARQGKwEiBh0BFBY7ATIWHQEUBisBIiY9ATQ2MwUVITUhHQEhNSEdASE1IXsxRkYxBBwxRkYx++Q3Akv9tQMlFQkMDAkVIjITDUkaJSUafholY0UBJhUJDAwJFSIyEw1JGyQkG34aJWNF/AsBqP5YAaj+WAGo/lgDvEk0/QI0SUk0Av40SYr9AwJiDAgnCAwvIAoNESMZdhkjIxnaQV0MCCcIDC8gCg0RIxl2GSMjGdpBXRpFRbA7O6FERAABAAAAAQAAeijSs18PPPUACwQAAAAAANVy2mkAAAAA1XLaaQAA/8AFDwPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAUUAAAAAAUPAAEAAAAAAAAAAAAAAAAAAAAOBAAAAAAAAAAAAAAAAgAAAAQAAEAEAABAAyUAAAQAAAAEAAAAA7cAAAOAAAADtwAABRQABQUUAAQAAAAAAAoAFAAeAIwA+gEuAZAB6AJCAoAC2gNIA9AAAAABAAAADgBmAAcAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADAAAAAEAAAAAAAIABwCNAAEAAAAAAAMADABFAAEAAAAAAAQADACiAAEAAAAAAAUACwAkAAEAAAAAAAYADABpAAEAAAAAAAoAGgDGAAMAAQQJAAEAGAAMAAMAAQQJAAIADgCUAAMAAQQJAAMAGABRAAMAAQQJAAQAGACuAAMAAQQJAAUAFgAvAAMAAQQJAAYAGAB1AAMAAQQJAAoANADgZXZ0YmlzLWljb25zAGUAdgB0AGIAaQBzAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwZXZ0YmlzLWljb25zAGUAdgB0AGIAaQBzAC0AaQBjAG8AbgBzZXZ0YmlzLWljb25zAGUAdgB0AGIAaQBzAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQByZXZ0YmlzLWljb25zAGUAdgB0AGIAaQBzAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==";
  },
  function (e, t) {
    e.exports =
      "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiID4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8bWV0YWRhdGE+Cjxqc29uPgo8IVtDREFUQVsKewoJImZvbnRGYW1pbHkiOiAiZXZ0YmlzLWljb25zIiwKCSJtYWpvclZlcnNpb24iOiAxLAoJIm1pbm9yVmVyc2lvbiI6IDAsCgkidmVyc2lvbiI6ICJWZXJzaW9uIDEuMCIsCgkiZm9udElkIjogImV2dGJpcy1pY29ucyIsCgkicHNOYW1lIjogImV2dGJpcy1pY29ucyIsCgkic3ViRmFtaWx5IjogIlJlZ3VsYXIiLAoJImZ1bGxOYW1lIjogImV2dGJpcy1pY29ucyIsCgkiZGVzY3JpcHRpb24iOiAiRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4iCn0KXV0+CjwvanNvbj4KPC9tZXRhZGF0YT4KPGRlZnM+Cjxmb250IGlkPSJldnRiaXMtaWNvbnMiIGhvcml6LWFkdi14PSIxMDI0Ij4KPGZvbnQtZmFjZSB1bml0cy1wZXItZW09IjEwMjQiIGFzY2VudD0iOTYwIiBkZXNjZW50PSItNjQiIC8+CjxtaXNzaW5nLWdseXBoIGhvcml6LWFkdi14PSIxMDI0IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4MjA7IiBob3Jpei1hZHYteD0iNTEyIiBkPSIiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTNjOyIgZ2x5cGgtbmFtZT0iZmlsZXMtZW1wdHkiIGRhdGEtdGFncz0iZmlsZXMtZW1wdHksIGZpbGVzLCBkb2N1bWVudHMsIHBhcGVycywgcGFnZXMiIGQ9Ik05MTcuODA2IDYwMi45MjRjLTIyLjIxIDMwLjI5Mi01My4xNzQgNjUuNy04Ny4xNzggOTkuNzA0cy02OS40MTIgNjQuOTY0LTk5LjcwNCA4Ny4xNzhjLTUxLjU3NCAzNy44Mi03Ni41OTIgNDIuMTk0LTkwLjkyNCA0Mi4xOTRoLTM2OGMtNDQuMTE0IDAtODAtMzUuODg4LTgwLTgwdi03MzZjMC00NC4xMTIgMzUuODg2LTgwIDgwLTgwaDYwOGM0NC4xMTIgMCA4MCAzNS44ODggODAgODB2NDk2YzAgMTQuMzMyLTQuMzcyIDM5LjM1LTQyLjE5NCA5MC45MjR6TTc4NS4zNzQgNjU3LjM3NGMzMC43LTMwLjcgNTQuOC01OC4zOTggNzIuNTgtODEuMzc0aC0xNTMuOTU0djE1My45NDZjMjIuOTgyLTE3Ljc4IDUwLjY3OC00MS44NzggODEuMzc0LTcyLjU3MnYwek04OTYgMTZjMC04LjY3Mi03LjMyOC0xNi0xNi0xNmgtNjA4Yy04LjY3MiAwLTE2IDcuMzI4LTE2IDE2djczNmMwIDguNjcyIDcuMzI4IDE2IDE2IDE2IDAgMCAzNjcuOTU2IDAuMDAyIDM2OCAwdi0yMjRjMC0xNy42NzIgMTQuMzI0LTMyIDMyLTMyaDIyNHYtNDk2ek02MDIuOTI0IDkxNy44MDRjLTUxLjU3NCAzNy44MjItNzYuNTkyIDQyLjE5Ni05MC45MjQgNDIuMTk2aC0zNjhjLTQ0LjExMiAwLTgwLTM1Ljg4OC04MC04MHYtNzM2YzAtMzguNjMyIDI3LjUyOC03MC45NTggNjQtNzguMzl2ODE0LjM5YzAgOC42NzIgNy4zMjggMTYgMTYgMTZoNDg2Ljg3NmMtOS42NDYgNy45Mi0xOS4wMjggMTUuMjYtMjcuOTUyIDIxLjgwNHoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTNkOyIgZ2x5cGgtbmFtZT0iZXF1YWxpemVyMiIgZGF0YS10YWdzPSJlcXVhbGl6ZXIsIHNsaWRlcnMsIHNldHRpbmdzLCBwcmVmZXJlbmNlcywgZGFzaGJvYXJkLCBjb250cm9sIiBkPSJNODk2IDUxMmgxNmMyNi40IDAgNDggMjEuNiA0OCA0OHYxNjBjMCAyNi40LTIxLjYgNDgtNDggNDhoLTE2djE5MmgtMTI4di0xOTJoLTE2Yy0yNi40IDAtNDgtMjEuNi00OC00OHYtMTYwYzAtMjYuNCAyMS42LTQ4IDQ4LTQ4aDE2di01NzZoMTI4djU3NnpNNzY4IDcwNGgxMjh2LTEyOGgtMTI4djEyOHpNNTkyIDEyOGMyNi40IDAgNDggMjEuNiA0OCA0OHYxNjBjMCAyNi40LTIxLjYgNDgtNDggNDhoLTE2djU3NmgtMTI4di01NzZoLTE2Yy0yNi40IDAtNDgtMjEuNi00OC00OHYtMTYwYzAtMjYuNCAyMS42LTQ4IDQ4LTQ4aDE2di0xOTJoMTI4djE5MmgxNnpNNDQ4IDMyMGgxMjh2LTEyOGgtMTI4djEyOHpNMjcyIDUxMmMyNi40IDAgNDggMjEuNiA0OCA0OHYxNjBjMCAyNi40LTIxLjYgNDgtNDggNDhoLTE2djE5MmgtMTI4di0xOTJoLTE2Yy0yNi40IDAtNDgtMjEuNi00OC00OHYtMTYwYzAtMjYuNCAyMS42LTQ4IDQ4LTQ4aDE2di01NzZoMTI4djU3NmgxNnpNMTI4IDcwNGgxMjh2LTEyOGgtMTI4djEyOHoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTNlOyIgZ2x5cGgtbmFtZT0ic3F1YXJlLW8iIGRhdGEtdGFncz0ic3F1YXJlLW8iIGhvcml6LWFkdi14PSI4MDUiIGQ9Ik02NDAgODEzLjcxNGgtNDc1LjQyOWMtNTAuMjg2IDAtOTEuNDI5LTQxLjE0My05MS40MjktOTEuNDI5di00NzUuNDI5YzAtNTAuMjg2IDQxLjE0My05MS40MjkgOTEuNDI5LTkxLjQyOWg0NzUuNDI5YzUwLjI4NiAwIDkxLjQyOSA0MS4xNDMgOTEuNDI5IDkxLjQyOXY0NzUuNDI5YzAgNTAuMjg2LTQxLjE0MyA5MS40MjktOTEuNDI5IDkxLjQyOXpNODA0LjU3MSA3MjIuMjg2di00NzUuNDI5YzAtOTAuODU3LTczLjcxNC0xNjQuNTcxLTE2NC41NzEtMTY0LjU3MWgtNDc1LjQyOWMtOTAuODU3IDAtMTY0LjU3MSA3My43MTQtMTY0LjU3MSAxNjQuNTcxdjQ3NS40MjljMCA5MC44NTcgNzMuNzE0IDE2NC41NzEgMTY0LjU3MSAxNjQuNTcxaDQ3NS40MjljOTAuODU3IDAgMTY0LjU3MS03My43MTQgMTY0LjU3MS0xNjQuNTcxeiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5M2Y7IiBnbHlwaC1uYW1lPSJjb3B5LCBmaWxlcy1vIiBkYXRhLXRhZ3M9ImNvcHksIGZpbGVzLW8iIGQ9Ik05NjkuMTQzIDc0MC41NzFjMzAuMjg2IDAgNTQuODU3LTI0LjU3MSA1NC44NTctNTQuODU3di02OTQuODU3YzAtMzAuMjg2LTI0LjU3MS01NC44NTctNTQuODU3LTU0Ljg1N2gtNTQ4LjU3MWMtMzAuMjg2IDAtNTQuODU3IDI0LjU3MS01NC44NTcgNTQuODU3djE2NC41NzFoLTMxMC44NTdjLTMwLjI4NiAwLTU0Ljg1NyAyNC41NzEtNTQuODU3IDU0Ljg1N3YzODRjMCAzMC4yODYgMTcuNzE0IDcyLjU3MSAzOC44NTcgOTMuNzE0bDIzMy4xNDMgMjMzLjE0M2MyMS4xNDMgMjEuMTQzIDYzLjQyOSAzOC44NTcgOTMuNzE0IDM4Ljg1N2gyMzcuNzE0YzMwLjI4NiAwIDU0Ljg1Ny0yNC41NzEgNTQuODU3LTU0Ljg1N3YtMTg3LjQyOWMyMi4yODYgMTMuMTQzIDUwLjg1NyAyMi44NTcgNzMuMTQzIDIyLjg1N2gyMzcuNzE0ek02NTguMjg2IDYxOC44NTdsLTE3MC44NTctMTcwLjg1N2gxNzAuODU3djE3MC44NTd6TTI5Mi41NzEgODM4LjI4NmwtMTcwLjg1Ny0xNzAuODU3aDE3MC44NTd2MTcwLjg1N3pNNDA0LjU3MSA0NjguNTcxbDE4MC41NzEgMTgwLjU3MXYyMzcuNzE0aC0yMTkuNDI5di0yMzcuNzE0YzAtMzAuMjg2LTI0LjU3MS01NC44NTctNTQuODU3LTU0Ljg1N2gtMjM3LjcxNHYtMzY1LjcxNGgyOTIuNTcxdjE0Ni4yODZjMCAzMC4yODYgMTcuNzE0IDcyLjU3MSAzOC44NTcgOTMuNzE0ek05NTAuODU3IDkuMTQzdjY1OC4yODZoLTIxOS40Mjl2LTIzNy43MTRjMC0zMC4yODYtMjQuNTcxLTU0Ljg1Ny01NC44NTctNTQuODU3aC0yMzcuNzE0di0zNjUuNzE0aDUxMnoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTQwOyIgZ2x5cGgtbmFtZT0iY2xvbmUiIGRhdGEtdGFncz0iY2xvbmUiIGQ9Ik05NTAuODU3IDI3LjQyOXY2MjEuNzE0YzAgOS43MTQtOC41NzEgMTguMjg2LTE4LjI4NiAxOC4yODZoLTYyMS43MTRjLTkuNzE0IDAtMTguMjg2LTguNTcxLTE4LjI4Ni0xOC4yODZ2LTYyMS43MTRjMC05LjcxNCA4LjU3MS0xOC4yODYgMTguMjg2LTE4LjI4Nmg2MjEuNzE0YzkuNzE0IDAgMTguMjg2IDguNTcxIDE4LjI4NiAxOC4yODZ6TTEwMjQgNjQ5LjE0M3YtNjIxLjcxNGMwLTUwLjI4Ni00MS4xNDMtOTEuNDI5LTkxLjQyOS05MS40MjloLTYyMS43MTRjLTUwLjI4NiAwLTkxLjQyOSA0MS4xNDMtOTEuNDI5IDkxLjQyOXY2MjEuNzE0YzAgNTAuMjg2IDQxLjE0MyA5MS40MjkgOTEuNDI5IDkxLjQyOWg2MjEuNzE0YzUwLjI4NiAwIDkxLjQyOS00MS4xNDMgOTEuNDI5LTkxLjQyOXpNODA0LjU3MSA4NjguNTcxdi05MS40MjloLTczLjE0M3Y5MS40MjljMCA5LjcxNC04LjU3MSAxOC4yODYtMTguMjg2IDE4LjI4NmgtNjIxLjcxNGMtOS43MTQgMC0xOC4yODYtOC41NzEtMTguMjg2LTE4LjI4NnYtNjIxLjcxNGMwLTkuNzE0IDguNTcxLTE4LjI4NiAxOC4yODYtMTguMjg2aDkxLjQyOXYtNzMuMTQzaC05MS40MjljLTUwLjI4NiAwLTkxLjQyOSA0MS4xNDMtOTEuNDI5IDkxLjQyOXY2MjEuNzE0YzAgNTAuMjg2IDQxLjE0MyA5MS40MjkgOTEuNDI5IDkxLjQyOWg2MjEuNzE0YzUwLjI4NiAwIDkxLjQyOS00MS4xNDMgOTEuNDI5LTkxLjQyOXoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTQxOyIgZ2x5cGgtbmFtZT0icXVvdGUtcmlnaHQiIGRhdGEtdGFncz0icXVvdGUtcmlnaHQiIGhvcml6LWFkdi14PSI5NTEiIGQ9Ik00MzguODU3IDc3Ny4xNDN2LTQwMi4yODZjMC0xNjEuMTQzLTEzMS40MjktMjkyLjU3MS0yOTIuNTcxLTI5Mi41NzFoLTM2LjU3MWMtMjAgMC0zNi41NzEgMTYuNTcxLTM2LjU3MSAzNi41NzF2NzMuMTQzYzAgMjAgMTYuNTcxIDM2LjU3MSAzNi41NzEgMzYuNTcxaDM2LjU3MWM4MC41NzEgMCAxNDYuMjg2IDY1LjcxNCAxNDYuMjg2IDE0Ni4yODZ2MTguMjg2YzAgMzAuMjg2LTI0LjU3MSA1NC44NTctNTQuODU3IDU0Ljg1N2gtMTI4Yy02MC41NzEgMC0xMDkuNzE0IDQ5LjE0My0xMDkuNzE0IDEwOS43MTR2MjE5LjQyOWMwIDYwLjU3MSA0OS4xNDMgMTA5LjcxNCAxMDkuNzE0IDEwOS43MTRoMjE5LjQyOWM2MC41NzEgMCAxMDkuNzE0LTQ5LjE0MyAxMDkuNzE0LTEwOS43MTR6TTk1MC44NTcgNzc3LjE0M3YtNDAyLjI4NmMwLTE2MS4xNDMtMTMxLjQyOS0yOTIuNTcxLTI5Mi41NzEtMjkyLjU3MWgtMzYuNTcxYy0yMCAwLTM2LjU3MSAxNi41NzEtMzYuNTcxIDM2LjU3MXY3My4xNDNjMCAyMCAxNi41NzEgMzYuNTcxIDM2LjU3MSAzNi41NzFoMzYuNTcxYzgwLjU3MSAwIDE0Ni4yODYgNjUuNzE0IDE0Ni4yODYgMTQ2LjI4NnYxOC4yODZjMCAzMC4yODYtMjQuNTcxIDU0Ljg1Ny01NC44NTcgNTQuODU3aC0xMjhjLTYwLjU3MSAwLTEwOS43MTQgNDkuMTQzLTEwOS43MTQgMTA5LjcxNHYyMTkuNDI5YzAgNjAuNTcxIDQ5LjE0MyAxMDkuNzE0IDEwOS43MTQgMTA5LjcxNGgyMTkuNDI5YzYwLjU3MSAwIDEwOS43MTQtNDkuMTQzIDEwOS43MTQtMTA5LjcxNHoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTQyOyIgZ2x5cGgtbmFtZT0iZm9yayIgZGF0YS10YWdzPSJmb3JrIiBob3Jpei1hZHYteD0iODk2IiBkPSJNNjQwIDk2MHYtMTI0YzAtNTEuMjY0LTIwLTk5LjQ4OC01Ni4xMjgtMTM1LjYxNmwtMzYyLjExMi0zNjAuMTI4Yy01Ny4yNDgtNTcuMTItODguNzY4LTEzMi4xMjgtOTIuMjU2LTIxMi4yNTZoLTEyOS41MDRsMTkyLTE5MiAxOTIgMTkyaC0xMjYuNjI0YzMuMzYgNDYuMDE2IDIxLjg4OCA4OC43MzYgNTQuNzUyIDEyMS43NmwzNjIuMTEyIDM2MGM2MC41MTIgNjAuNDggOTMuNzYgMTQwLjczNiA5My43NiAyMjYuMjR2MTI0aC0xMjh6TTc2Ni40OTYgMTI4Yy0zLjQ4OCA4MC4xMjgtMzUuMTM2IDE1NS4xMzYtOTIuMzg0IDIxMi41MTJsLTcxLjM2IDcwLjg4LTkwLjc1Mi05MC4yNzIgNzEuNzQ0LTcxLjM2YzMyLjk5Mi0zMi44NjQgNTEuNDg4LTc1Ljc0NCA1NC44OC0xMjEuNzZoLTEyNi42MjRsMTkyLTE5MiAxOTIgMTkyaC0xMjkuNTA0eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5NDM7IiBnbHlwaC1uYW1lPSJxdW90ZS1sZWZ0IiBkYXRhLXRhZ3M9InF1b3RlLWxlZnQiIGhvcml6LWFkdi14PSI5NTEiIGQ9Ik00MzguODU3IDQxMS40Mjl2LTIxOS40MjljMC02MC41NzEtNDkuMTQzLTEwOS43MTQtMTA5LjcxNC0xMDkuNzE0aC0yMTkuNDI5Yy02MC41NzEgMC0xMDkuNzE0IDQ5LjE0My0xMDkuNzE0IDEwOS43MTR2NDAyLjI4NmMwIDE2MS4xNDMgMTMxLjQyOSAyOTIuNTcxIDI5Mi41NzEgMjkyLjU3MWgzNi41NzFjMjAgMCAzNi41NzEtMTYuNTcxIDM2LjU3MS0zNi41NzF2LTczLjE0M2MwLTIwLTE2LjU3MS0zNi41NzEtMzYuNTcxLTM2LjU3MWgtMzYuNTcxYy04MC41NzEgMC0xNDYuMjg2LTY1LjcxNC0xNDYuMjg2LTE0Ni4yODZ2LTE4LjI4NmMwLTMwLjI4NiAyNC41NzEtNTQuODU3IDU0Ljg1Ny01NC44NTdoMTI4YzYwLjU3MSAwIDEwOS43MTQtNDkuMTQzIDEwOS43MTQtMTA5LjcxNHpNOTUwLjg1NyA0MTEuNDI5di0yMTkuNDI5YzAtNjAuNTcxLTQ5LjE0My0xMDkuNzE0LTEwOS43MTQtMTA5LjcxNGgtMjE5LjQyOWMtNjAuNTcxIDAtMTA5LjcxNCA0OS4xNDMtMTA5LjcxNCAxMDkuNzE0djQwMi4yODZjMCAxNjEuMTQzIDEzMS40MjkgMjkyLjU3MSAyOTIuNTcxIDI5Mi41NzFoMzYuNTcxYzIwIDAgMzYuNTcxLTE2LjU3MSAzNi41NzEtMzYuNTcxdi03My4xNDNjMC0yMC0xNi41NzEtMzYuNTcxLTM2LjU3MS0zNi41NzFoLTM2LjU3MWMtODAuNTcxIDAtMTQ2LjI4Ni02NS43MTQtMTQ2LjI4Ni0xNDYuMjg2di0xOC4yODZjMC0zMC4yODYgMjQuNTcxLTU0Ljg1NyA1NC44NTctNTQuODU3aDEyOGM2MC41NzEgMCAxMDkuNzE0LTQ5LjE0MyAxMDkuNzE0LTEwOS43MTR6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTk0NDsiIGdseXBoLW5hbWU9InZlcnNpb25zIiBkYXRhLXRhZ3M9InZlcnNpb25zIiBob3Jpei1hZHYteD0iMTMwMCIgZD0iTTEyNC4yODMgOTU1LjgxN2MtNjUuODgzIDAtMTE4LjkzNi01NS42NDctMTE4LjkzNi0xMjQuODAxdi03NjYuMDEwYzAtNjkuMTUzIDUzLjA1Mi0xMjQuODQ0IDExOC45MzYtMTI0Ljg0NGgxMDUxLjcwNmM2NS44ODMgMCAxMTguOTM2IDU1LjY5IDExOC45MzYgMTI0Ljg0NHY3NjYuMDEwYzAgNjkuMTUzLTUzLjA1MiAxMjQuODAxLTExOC45MzYgMTI0LjgwMWgtMTA1MS43MDZ6TTkwLjk0OCA4MTIuNDNoNTkxLjcwM3YtNjAwLjMyOGg3MS42NzJjMi4yMTcgNDcuNjY2IDIyLjIyNSA5Mi4yODggNTguNjA1IDEyNi4yNjdsMjMwLjE1MiAyMTQuMjM5YzIyLjk1OSAyMS40OTEgMzUuNjYzIDUwLjE0NiAzNS42NjMgODAuNjQydjczLjc4NWg4MS4zMzJ2LTczLjc4NWMwLTUwLjg2NS0yMS4xNDMtOTguNTctNTkuNTk3LTEzNC41NDdsLTIzMC4xMDktMjE0LjE1M2MtMjAuODg1LTE5LjY0NS0zMi42NjYtNDUuMDc1LTM0LjgwMS03Mi40NDhoODAuNDY5bC0xMjEuOTk3LTExNC4yMzUtMTExLjM4OSAxMDQuMjc0di0xNTUuMTZoLTU5MS43MDN2NzY1LjQ0OXpNMTc3Ljg0MyA2MzguMTY2di04NS41NThoNDI0LjM4MnY4NS41NThoLTQyNC4zODJ6TTE3Ny44NDMgNDYzLjI1NnYtNzMuMTM4aDQyNC4zODJ2NzMuMTM4aC00MjQuMzgyek0xMDU1LjA2OSAzODAuNjc0bDQ1LjMyMy00Mi4xNzVjMzYuMzgtMzQuMTMyIDU2LjUxOC03OC43MyA1OC43MzUtMTI2LjM5Nmg4Mi4yOGwtMTIxLjk5Ny0xMTQuMjM1LTEyMi4wNDEgMTE0LjIzNWg4MC40NjljLTIuMTU2IDI3LjM3My0xMy44NzggNTIuODk5LTM0Ljg0NCA3Mi40NDhsLTQ1LjYyNSA0Mi40MzQgNTcuNyA1My42ODl6TTE3Ny44NDMgMzAwLjc2NXYtOTIuNTQ0aDQyNC4zODJ2OTIuNTQ0aC00MjQuMzgyeiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5NDU7IiBnbHlwaC1uYW1lPSJzcmMtVHh0IiBkYXRhLXRhZ3M9InNyYy1UeHQiIGhvcml6LWFkdi14PSIxMzAwIiBkPSJNMTIzLjA3NiA5NTUuODE3Yy02NS44ODMgMC0xMTguODkzLTU1LjY0Ny0xMTguODkzLTEyNC44MDF2LTc2Ni4wMTBjMC02OS4xNTMgNTMuMDA5LTEyNC44NDQgMTE4Ljg5My0xMjQuODQ0aDEwNTEuNzQ5YzY1Ljg4MyAwIDExOC45MzYgNTUuNjkgMTE4LjkzNiAxMjQuODQ0djc2Ni4wMTBjMCA2OS4xNTMtNTMuMDUyIDEyNC44MDEtMTE4LjkzNiAxMjQuODAxaC0xMDUxLjc0OXpNNjguNDgxIDgxOC4wMzZoNTg2Ljgzdi03NjUuNDA2aC01ODYuODN2NzY1LjQwNnpNODczLjI1OSA2NjMuMDkyaDIxLjA0NGMxMS40ODggMCAyMS4wMDEtOC45NTQgMjEuMDAxLTE5Ljc5NHYtMzkuNjMxYzAtMTAuODM5LTkuNTEzLTE5LjgzNy0yMS4wMDEtMTkuODM3aC0yMS4wNDRjLTQ2LjI4MiAwLTg0LjAwNS0zNS42MzctODQuMDA1LTc5LjMwNXYtOS44NzVjMC0xNi40MTUgMTQuMTI3LTI5Ljc1NSAzMS41MjQtMjkuNzU1aDczLjUyNmMzNC43OTQgMCA2My4wMDQtMjYuNjQgNjMuMDA0LTU5LjQ2OHYtMTE4Ljg5M2MwLTMyLjgyOC0yOC4yMS01OS40NjgtNjMuMDA0LTU5LjQ2OGgtMTI2LjA1MWMtMzQuNzk0IDAtNjMuMDQ3IDI2LjY0LTYzLjA0NyA1OS40Njh2MjE3Ljk5MWMwIDg3LjMzNiA3NS40OSAxNTguNTY3IDE2OC4wNTQgMTU4LjU2N3pNMTE2Ny4zNjQgNjYzLjA5MmgyMS4wNDRjMTEuNDg4IDAgMjEuMDAxLTguOTU0IDIxLjAwMS0xOS43OTR2LTM5LjYzMWMwLTEwLjgzOS05LjUxMy0xOS44MzctMjEuMDAxLTE5LjgzN2gtMjEuMDQ0Yy00Ni4yODIgMC04NC4wMDUtMzUuNjM3LTg0LjAwNS03OS4zMDV2LTkuODc1YzAtMTYuNDE1IDE0LjEyNy0yOS43NTUgMzEuNTI0LTI5Ljc1NWg3My41MjZjMzQuNzk0IDAgNjMuMDA0LTI2LjY0IDYzLjAwNC01OS40Njh2LTExOC44OTNjMC0zMi44MjgtMjguMjEtNTkuNDY4LTYzLjAwNC01OS40NjhoLTEyNi4wNTFjLTM0Ljc5NCAwLTYzLjA0NyAyNi42NC02My4wNDcgNTkuNDY4djIxNy45OTFjMCA4Ny4zMzYgNzUuNDkgMTU4LjU2NyAxNjguMDU0IDE1OC41Njd6TTE1My43MzcgNjM3LjI2MXYtNjkuMjU3aDQyNC40MjV2NjkuMjU3aC00MjQuNDI1ek0xNTMuNzM3IDQ2MC43NTV2LTU4LjUxOWg0MjQuNDI1djU4LjUxOWgtNDI0LjQyNXpNMTUzLjczNyAyOTkuODU5di02OC4xMzZoNDI0LjQyNXY2OC4xMzZoLTQyNC40MjV6IiAvPgo8L2ZvbnQ+PC9kZWZzPjwvc3ZnPg==";
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAYAAAACsSQRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAADpSURBVHjarJAxTgMxEEXfd5xISISCloKOZq9At0fZvSmROIELItp0iGJToJVYDUXWlmPWRQJfGslj/3kzY/FbKiLKikhyC8VujhWwMrPveM7ezhq4CsADazMbJZmZjcB6vndFHb4ygTezoyQDmEGStJ29U7ZigrhsZA8MEZB2PeUC7rJVJvLOgO/7fgsM+cd9vL9SfO4Q/XE9ATfAV2EE4PD2Ajo1fXh6PhusaZr7EMIITA7YLAL2uwRIeeYLIXy2bXsLbFQFVFRO1HXdoy4B1EC6FLAEctcASr+7BlCCdNjvjD/K8Q/6GQAMElhJBofFoAAAAABJRU5ErkJggg==";
  },
  function (e, t, i) {
    e.exports = i.p + "7af6f8c96c4d5318575915053890fed9.png";
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAKJJREFUeNrs1zkKgDAURdHnR2u3ZuOCXZK1gnZCHGLAIhd5fwHhEMhwm2kYN51mXhe9Td92Kp0v6wUZdwHScAmQiDuAVJwkBRl3e0hIuHld8sDauOwOEnCPQAruFkjCXYA0XAIk4g4gFSdJQcYVXdS13+og44p2sPZbHWRcFkj55QQZ5yZxk7hJ3CRuEjeJm8RN4iZxk7hJft8kOwAAAP//AwAqiPK1D4qBLwAAAABJRU5ErkJggg==";
  },
  function (e, t) {
    e.exports = function (e) {
      var t = "undefined" != typeof window && window.location;
      if (!t) throw new Error("fixUrls requires window.location");
      if (!e || "string" != typeof e) return e;
      var i = t.protocol + "//" + t.host,
        n = i + t.pathname.replace(/\/[^\/]*$/, "/");
      return e.replace(
        /url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,
        function (e, t) {
          var o,
            r = t
              .trim()
              .replace(/^"(.*)"$/, function (e, t) {
                return t;
              })
              .replace(/^'(.*)'$/, function (e, t) {
                return t;
              });
          return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)
            ? e
            : ((o =
              0 === r.indexOf("//")
                ? r
                : 0 === r.indexOf("/")
                  ? i + r
                  : n + r.replace(/^\.\//, "")),
              "url(" + JSON.stringify(o) + ")");
        }
      );
    };
  },
  function (e, t) {
    /**
     * @license AngularJS v1.3.0
     * (c) 2010-2014 Google, Inc. http://angularjs.org
     * License: MIT
     */
    !(function (e, t, i) {
      "use strict";
      t.module("ngAnimate", ["ng"])
        .directive("ngAnimateChildren", function () {
          return function (e, i, n) {
            var o = n.ngAnimateChildren;
            t.isString(o) && 0 === o.length
              ? i.data("$$ngAnimateChildren", !0)
              : e.$watch(o, function (e) {
                i.data("$$ngAnimateChildren", !!e);
              });
          };
        })
        .factory("$$animateReflow", [
          "$$rAF",
          "$document",
          function (e, t) {
            var i = t[0].body;
            return function (t) {
              return e(function () {
                i.offsetWidth;
                t();
              });
            };
          },
        ])
        .config([
          "$provide",
          "$animateProvider",
          function (i, n) {
            var o = t.noop,
              r = t.forEach,
              a = n.$$selectors,
              s = t.isArray,
              l = t.isString,
              c = t.isObject,
              u = "$$ngAnimateState",
              d = { running: !0 };
            function p(e) {
              for (var t = 0; t < e.length; t++) {
                var i = e[t];
                if (1 == i.nodeType) return i;
              }
            }
            function h(e) {
              return e && t.element(e);
            }
            function f(e) {
              return t.element(p(e));
            }
            function g(e, t) {
              return p(e) == p(t);
            }
            i.decorator("$animate", [
              "$delegate",
              "$$q",
              "$injector",
              "$sniffer",
              "$rootElement",
              "$$asyncCallback",
              "$rootScope",
              "$document",
              "$templateRequest",
              function (e, i, m, v, b, y, x, w, _) {
                b.data(u, d);
                var A = x.$watch(
                  function () {
                    return _.totalPendingRequests;
                  },
                  function (e, t) {
                    0 === e &&
                      (A(),
                        x.$$postDigest(function () {
                          x.$$postDigest(function () {
                            d.running = !1;
                          });
                        }));
                  }
                ),
                  E = 0,
                  S = n.classNameFilter(),
                  T = S
                    ? function (e) {
                      return S.test(e);
                    }
                    : function () {
                      return !0;
                    };
                function C(e, t) {
                  var i = e.data(u) || {};
                  return (
                    t && ((i.running = !0), (i.structural = !0), e.data(u, i)),
                    i.disabled || (i.running && i.structural)
                  );
                }
                function k(e) {
                  var t,
                    n = i.defer();
                  return (
                    (n.promise.$$cancelFn = function () {
                      t && t();
                    }),
                    x.$$postDigest(function () {
                      t = e(function () {
                        n.resolve();
                      });
                    }),
                    n.promise
                  );
                }
                function L(e) {
                  if (c(e))
                    return (
                      e.tempClasses &&
                      l(e.tempClasses) &&
                      (e.tempClasses = e.tempClasses.split(/\s+/)),
                      e
                    );
                }
                function D(e, i, n, l) {
                  var c = e[0];
                  if (c) {
                    var u, d;
                    l && ((l.to = l.to || {}), (l.from = l.from || {})),
                      s(n) &&
                      ((u = n[0]),
                        (d = n[1]),
                        u
                          ? d
                            ? (n = u + " " + d)
                            : ((n = u), (i = "addClass"))
                          : ((n = d), (i = "removeClass")));
                    var p = "setClass" == i,
                      h =
                        p ||
                        "addClass" == i ||
                        "removeClass" == i ||
                        "animate" == i,
                      f = e.attr("class") + " " + n;
                    if (T(f)) {
                      var g = o,
                        b = [],
                        y = [],
                        x = o,
                        w = [],
                        _ = [],
                        A = (" " + f).replace(/\s+/g, ".");
                      return (
                        r(
                          (function (e) {
                            if (e) {
                              var t = [],
                                i = {},
                                n = e.substr(1).split(".");
                              (v.transitions || v.animations) &&
                                t.push(m.get(a[""]));
                              for (var o = 0; o < n.length; o++) {
                                var r = n[o],
                                  s = a[r];
                                s && !i[r] && (t.push(m.get(s)), (i[r] = !0));
                              }
                              return t;
                            }
                          })(A),
                          function (e) {
                            !E(e, i) &&
                              p &&
                              (E(e, "addClass"), E(e, "removeClass"));
                          }
                        ),
                        {
                          node: c,
                          event: i,
                          className: n,
                          isClassBased: h,
                          isSetClassOperation: p,
                          applyStyles: function () {
                            l && e.css(t.extend(l.from || {}, l.to || {}));
                          },
                          before: function (e) {
                            (g = e),
                              S(y, b, function () {
                                (g = o), e();
                              });
                          },
                          after: function (e) {
                            (x = e),
                              S(_, w, function () {
                                (x = o), e();
                              });
                          },
                          cancel: function () {
                            b &&
                              (r(b, function (e) {
                                (e || o)(!0);
                              }),
                                g(!0)),
                              w &&
                              (r(w, function (e) {
                                (e || o)(!0);
                              }),
                                x(!0));
                          },
                        }
                      );
                    }
                  }
                  function E(e, t) {
                    var i = e[t],
                      n = e["before" + t.charAt(0).toUpperCase() + t.substr(1)];
                    if (i || n)
                      return (
                        "leave" == t && ((n = i), (i = null)),
                        _.push({ event: t, fn: i }),
                        y.push({ event: t, fn: n }),
                        !0
                      );
                  }
                  function S(t, i, a) {
                    var s = [];
                    r(t, function (e) {
                      e.fn && s.push(e);
                    });
                    var c = 0;
                    r(s, function (t, r) {
                      var p = function () {
                        !(function (e) {
                          if (i) {
                            if (((i[e] || o)(), ++c < s.length)) return;
                            i = null;
                          }
                          a();
                        })(r);
                      };
                      switch (t.event) {
                        case "setClass":
                          i.push(t.fn(e, u, d, p, l));
                          break;
                        case "animate":
                          i.push(t.fn(e, n, l.from, l.to, p));
                          break;
                        case "addClass":
                          i.push(t.fn(e, u || n, p, l));
                          break;
                        case "removeClass":
                          i.push(t.fn(e, d || n, p, l));
                          break;
                        default:
                          i.push(t.fn(e, p, l));
                      }
                    }),
                      i && 0 === i.length && a();
                  }
                }
                return {
                  animate: function (e, t, i, n, r) {
                    return (
                      (n = n || "ng-inline-animate"),
                      ((r = L(r) || {}).from = i ? t : null),
                      (r.to = i || t),
                      k(function (t) {
                        return I("animate", n, f(e), null, null, o, r, t);
                      })
                    );
                  },
                  enter: function (i, n, r, a) {
                    return (
                      (a = L(a)),
                      (i = t.element(i)),
                      (n = h(n)),
                      (r = h(r)),
                      C(i, !0),
                      e.enter(i, n, r),
                      k(function (e) {
                        return I("enter", "ng-enter", f(i), n, r, o, a, e);
                      })
                    );
                  },
                  leave: function (i, n) {
                    return (
                      (n = L(n)),
                      P((i = t.element(i))),
                      C(i, !0),
                      k(function (t) {
                        return I(
                          "leave",
                          "ng-leave",
                          f(i),
                          null,
                          null,
                          function () {
                            e.leave(i);
                          },
                          n,
                          t
                        );
                      })
                    );
                  },
                  move: function (i, n, r, a) {
                    return (
                      (a = L(a)),
                      (i = t.element(i)),
                      (n = h(n)),
                      (r = h(r)),
                      P(i),
                      C(i, !0),
                      e.move(i, n, r),
                      k(function (e) {
                        return I("move", "ng-move", f(i), n, r, o, a, e);
                      })
                    );
                  },
                  addClass: function (e, t, i) {
                    return this.setClass(e, t, [], i);
                  },
                  removeClass: function (e, t, i) {
                    return this.setClass(e, [], t, i);
                  },
                  setClass: function (i, n, o, a) {
                    a = L(a);
                    if (C((i = f((i = t.element(i))))))
                      return e.$$setClassImmediately(i, n, o, a);
                    var l,
                      c = i.data("$$animateClasses"),
                      d = !!c;
                    return (
                      c || ((c = {}).classes = {}),
                      (l = c.classes),
                      (n = s(n) ? n : n.split(" ")),
                      r(n, function (e) {
                        e && e.length && (l[e] = !0);
                      }),
                      (o = s(o) ? o : o.split(" ")),
                      r(o, function (e) {
                        e && e.length && (l[e] = !1);
                      }),
                      d
                        ? (a &&
                          c.options &&
                          (c.options = t.extend(c.options || {}, a)),
                          c.promise)
                        : (i.data(
                          "$$animateClasses",
                          (c = { classes: l, options: a })
                        ),
                          (c.promise = k(function (t) {
                            var n = i.parent(),
                              o = p(i),
                              a = o.parentNode;
                            if (a && !a.$$NG_REMOVED && !o.$$NG_REMOVED) {
                              var s = i.data("$$animateClasses");
                              i.removeData("$$animateClasses");
                              var l = i.data(u) || {},
                                c = (function (e, t, i) {
                                  var n = {};
                                  r((i = i || {}), function (e, t) {
                                    r(t.split(" "), function (t) {
                                      n[t] = e;
                                    });
                                  });
                                  var o = Object.create(null);
                                  r(
                                    (e.attr("class") || "").split(/\s+/),
                                    function (e) {
                                      o[e] = !0;
                                    }
                                  );
                                  var a = [],
                                    s = [];
                                  return (
                                    r(t.classes, function (e, t) {
                                      var i = o[t],
                                        r = n[t] || {};
                                      !1 === e
                                        ? (i || "addClass" == r.event) &&
                                        s.push(t)
                                        : !0 === e &&
                                        ((i && "removeClass" != r.event) ||
                                          a.push(t));
                                    }),
                                    a.length + s.length > 0 && [
                                      a.join(" "),
                                      s.join(" "),
                                    ]
                                  );
                                })(i, s, l.active);
                              return c
                                ? I(
                                  "setClass",
                                  c,
                                  i,
                                  n,
                                  null,
                                  function () {
                                    c[0] && e.$$addClassImmediately(i, c[0]),
                                      c[1] &&
                                      e.$$removeClassImmediately(i, c[1]);
                                  },
                                  s.options,
                                  t
                                )
                                : t();
                            }
                            t();
                          })))
                    );
                  },
                  cancel: function (e) {
                    e.$$cancelFn();
                  },
                  enabled: function (e, t) {
                    switch (arguments.length) {
                      case 2:
                        if (e) O(t);
                        else {
                          var i = t.data(u) || {};
                          (i.disabled = !0), t.data(u, i);
                        }
                        break;
                      case 1:
                        d.disabled = !e;
                        break;
                      default:
                        e = !d.disabled;
                    }
                    return !!e;
                  },
                };
                function I(e, i, n, a, s, l, c, p) {
                  var h = o,
                    f = D(n, e, i, c);
                  if (!f) return N(), I(), P(), R(), h;
                  (e = f.event), (i = f.className);
                  var m = t.element._data(f.node);
                  if (
                    ((m = m && m.events),
                      a || (a = s ? s.parent() : n.parent()),
                      (function (e, i) {
                        if (d.disabled) return !0;
                        if (g(e, b)) return d.running;
                        var n, o, r;
                        do {
                          if (0 === i.length) break;
                          var a = g(i, b),
                            s = a ? d : i.data(u) || {};
                          if (s.disabled) return !0;
                          if ((a && (r = !0), !1 !== n)) {
                            var l = i.data("$$ngAnimateChildren");
                            t.isDefined(l) && (n = l);
                          }
                          o = o || s.running || (s.last && !s.last.isClassBased);
                        } while ((i = i.parent()));
                        return !r || (!n && o);
                      })(n, a))
                  )
                    return N(), I(), P(), R(), h;
                  var v = n.data(u) || {},
                    x = v.active || {},
                    w = v.totalActive || 0,
                    _ = v.last,
                    A = !1;
                  if (w > 0) {
                    var S = [];
                    if (f.isClassBased) {
                      if ("setClass" == _.event) S.push(_), O(n, i);
                      else if (x[i]) {
                        var T = x[i];
                        T.event == e ? (A = !0) : (S.push(T), O(n, i));
                      }
                    } else if ("leave" == e && x["ng-leave"]) A = !0;
                    else {
                      for (var C in x) S.push(x[C]);
                      (v = {}), O(n, !0);
                    }
                    S.length > 0 &&
                      r(S, function (e) {
                        e.cancel();
                      });
                  }
                  if (
                    (!f.isClassBased ||
                      f.isSetClassOperation ||
                      "animate" == e ||
                      A ||
                      (A = ("addClass" == e) == n.hasClass(i)),
                      A)
                  )
                    return N(), I(), P(), M(), h;
                  (x = v.active || {}),
                    (w = v.totalActive || 0),
                    "leave" == e &&
                    n.one("$destroy", function (e) {
                      var i = t.element(this),
                        n = i.data(u);
                      if (n) {
                        var o = n.active["ng-leave"];
                        o && (o.cancel(), O(i, "ng-leave"));
                      }
                    }),
                    n.addClass("ng-animate"),
                    c &&
                    c.tempClasses &&
                    r(c.tempClasses, function (e) {
                      n.addClass(e);
                    });
                  var k = E++;
                  return (
                    w++,
                    (x[i] = f),
                    n.data(u, { last: f, active: x, index: k, totalActive: w }),
                    I(),
                    f.before(function (t) {
                      var o = n.data(u);
                      (t =
                        t ||
                        !o ||
                        !o.active[i] ||
                        (f.isClassBased && o.active[i].event != e)),
                        N(),
                        !0 === t ? R() : (P(), f.after(R));
                    }),
                    f.cancel
                  );
                  function L(t) {
                    var o = "$animate:" + t;
                    m &&
                      m[o] &&
                      m[o].length > 0 &&
                      y(function () {
                        n.triggerHandler(o, { event: e, className: i });
                      });
                  }
                  function I() {
                    L("before");
                  }
                  function P() {
                    L("after");
                  }
                  function M() {
                    L("close"), p();
                  }
                  function N() {
                    N.hasBeenRun || ((N.hasBeenRun = !0), l());
                  }
                  function R() {
                    if (!R.hasBeenRun) {
                      f && f.applyStyles(),
                        (R.hasBeenRun = !0),
                        c &&
                        c.tempClasses &&
                        r(c.tempClasses, function (e) {
                          n.removeClass(e);
                        });
                      var e = n.data(u);
                      e &&
                        (f && f.isClassBased
                          ? O(n, i)
                          : (y(function () {
                            var e = n.data(u) || {};
                            k == e.index && O(n, i);
                          }),
                            n.data(u, e))),
                        M();
                    }
                  }
                }
                function P(e) {
                  var i = p(e);
                  if (i) {
                    var n = t.isFunction(i.getElementsByClassName)
                      ? i.getElementsByClassName("ng-animate")
                      : i.querySelectorAll(".ng-animate");
                    r(n, function (e) {
                      var i = (e = t.element(e)).data(u);
                      i &&
                        i.active &&
                        r(i.active, function (e) {
                          e.cancel();
                        });
                    });
                  }
                }
                function O(e, t) {
                  if (g(e, b))
                    d.disabled || ((d.running = !1), (d.structural = !1));
                  else if (t) {
                    var i = e.data(u) || {},
                      n = !0 === t;
                    !n &&
                      i.active &&
                      i.active[t] &&
                      (i.totalActive--, delete i.active[t]),
                      (!n && i.totalActive) ||
                      (e.removeClass("ng-animate"), e.removeData(u));
                  }
                }
              },
            ]),
              n.register("", [
                "$window",
                "$sniffer",
                "$timeout",
                "$$animateReflow",
                function (i, n, a, c) {
                  var u,
                    d,
                    h,
                    f,
                    g = "";
                  void 0 === e.ontransitionend &&
                    void 0 !== e.onwebkittransitionend
                    ? ((g = "-webkit-"),
                      (u = "WebkitTransition"),
                      (d = "webkitTransitionEnd transitionend"))
                    : ((u = "transition"), (d = "transitionend")),
                    void 0 === e.onanimationend &&
                      void 0 !== e.onwebkitanimationend
                      ? ((g = "-webkit-"),
                        (h = "WebkitAnimation"),
                        (f = "webkitAnimationEnd animationend"))
                      : ((h = "animation"), (f = "animationend"));
                  var m,
                    v = {},
                    b = 0,
                    y = [];
                  function x() {
                    m ||
                      (m = c(function () {
                        (y = []), (m = null), (v = {});
                      }));
                  }
                  function w(e, t) {
                    m && m(),
                      y.push(t),
                      (m = c(function () {
                        r(y, function (e) {
                          e();
                        }),
                          (y = []),
                          (m = null),
                          (v = {});
                      }));
                  }
                  var _ = null,
                    A = 0,
                    E = [];
                  function S(e, i) {
                    var n = p(e);
                    (e = t.element(n)), E.push(e);
                    var o = Date.now() + i;
                    o <= A ||
                      (a.cancel(_),
                        (A = o),
                        (_ = a(
                          function () {
                            r(E, function (e) {
                              var t = e.data("$$ngAnimateCSS3Data");
                              t &&
                                r(t.closeAnimationFns, function (e) {
                                  e();
                                });
                            }),
                              (E = []);
                          },
                          i,
                          !1
                        )));
                  }
                  function T(e, t) {
                    var n = t ? v[t] : null;
                    if (!n) {
                      var o = 0,
                        a = 0,
                        s = 0,
                        l = 0;
                      r(e, function (e) {
                        if (1 == e.nodeType) {
                          var t = i.getComputedStyle(e) || {},
                            n = t[u + "Duration"];
                          o = Math.max(C(n), o);
                          var r = t[u + "Delay"];
                          a = Math.max(C(r), a);
                          t[h + "Delay"];
                          l = Math.max(C(t[h + "Delay"]), l);
                          var c = C(t[h + "Duration"]);
                          c > 0 &&
                            (c *= parseInt(t[h + "IterationCount"], 10) || 1),
                            (s = Math.max(c, s));
                        }
                      }),
                        (n = {
                          total: 0,
                          transitionDelay: a,
                          transitionDuration: o,
                          animationDelay: l,
                          animationDuration: s,
                        }),
                        t && (v[t] = n);
                    }
                    return n;
                  }
                  function C(e) {
                    var t = 0,
                      i = l(e) ? e.split(/\s*,\s*/) : [];
                    return (
                      r(i, function (e) {
                        t = Math.max(parseFloat(e) || 0, t);
                      }),
                      t
                    );
                  }
                  function k(e, t, i, n) {
                    var o = ["ng-enter", "ng-leave", "ng-move"].indexOf(i) >= 0,
                      r = (function (e) {
                        var t = e.parent(),
                          i = t.data("$$ngAnimateKey");
                        return (
                          i || (t.data("$$ngAnimateKey", ++b), (i = b)),
                          i + "-" + p(e).getAttribute("class")
                        );
                      })(t),
                      a = r + " " + i,
                      s = v[a] ? ++v[a].total : 0,
                      l = {};
                    if (s > 0) {
                      var c = i + "-stagger",
                        u = r + " " + c,
                        d = !v[u];
                      d && t.addClass(c), (l = T(t, u)), d && t.removeClass(c);
                    }
                    t.addClass(i);
                    var h = t.data("$$ngAnimateCSS3Data") || {},
                      f = T(t, a),
                      g = f.transitionDuration,
                      m = f.animationDuration;
                    if (o && 0 === g && 0 === m) return t.removeClass(i), !1;
                    var y = n || (o && g > 0),
                      x =
                        m > 0 &&
                        l.animationDelay > 0 &&
                        0 === l.animationDuration,
                      w = h.closeAnimationFns || [];
                    t.data("$$ngAnimateCSS3Data", {
                      stagger: l,
                      cacheKey: a,
                      running: h.running || 0,
                      itemIndex: s,
                      blockTransition: y,
                      closeAnimationFns: w,
                    });
                    var _ = p(t);
                    return y && (L(_, !0), n && t.css(n)), x && D(_, !0), !0;
                  }
                  function L(e, t) {
                    e.style[u + "Property"] = t ? "none" : "";
                  }
                  function D(e, t) {
                    e.style[h + "PlayState"] = t ? "paused" : "";
                  }
                  function I(e, t, i, n) {
                    if (k(0, t, i, n))
                      return function (e) {
                        e && M(t, i);
                      };
                  }
                  function P(e, t, i, n, o) {
                    if (t.data("$$ngAnimateCSS3Data"))
                      return (function (e, t, i, n, o) {
                        var s = p(t),
                          l = t.data("$$ngAnimateCSS3Data");
                        if (-1 != s.getAttribute("class").indexOf(i) && l) {
                          var c = "",
                            u = "";
                          r(i.split(" "), function (e, t) {
                            var i = (t > 0 ? " " : "") + e;
                            (c += i + "-active"), (u += i + "-pending");
                          });
                          var h = [],
                            m = l.itemIndex,
                            v = l.stagger,
                            b = 0;
                          if (m > 0) {
                            var y = 0;
                            v.transitionDelay > 0 &&
                              0 === v.transitionDuration &&
                              (y = v.transitionDelay * m);
                            var x = 0;
                            v.animationDelay > 0 &&
                              0 === v.animationDuration &&
                              ((x = v.animationDelay * m),
                                h.push(g + "animation-play-state")),
                              (b = Math.round(100 * Math.max(y, x)) / 100);
                          }
                          b || (t.addClass(c), l.blockTransition && L(s, !1));
                          var w = l.cacheKey + " " + c,
                            _ = T(t, w),
                            A = Math.max(
                              _.transitionDuration,
                              _.animationDuration
                            );
                          if (0 === A)
                            return t.removeClass(c), M(t, i), void n();
                          !b &&
                            o &&
                            (_.transitionDuration ||
                              (t.css(
                                "transition",
                                _.animationDuration + "s linear all"
                              ),
                                h.push("transition")),
                              t.css(o));
                          var E = Math.max(_.transitionDelay, _.animationDelay),
                            C = 1e3 * E;
                          if (h.length > 0) {
                            var k = s.getAttribute("style") || "";
                            ";" !== k.charAt(k.length - 1) && (k += ";"),
                              s.setAttribute("style", k + " ");
                          }
                          var I,
                            P = Date.now(),
                            O = f + " " + d,
                            N = 1e3 * (b + 1.5 * (E + A));
                          return (
                            b > 0 &&
                            (t.addClass(u),
                              (I = a(
                                function () {
                                  (I = null),
                                    _.transitionDuration > 0 && L(s, !1),
                                    _.animationDuration > 0 && D(s, !1),
                                    t.addClass(c),
                                    t.removeClass(u),
                                    o &&
                                    (0 === _.transitionDuration &&
                                      t.css(
                                        "transition",
                                        _.animationDuration + "s linear all"
                                      ),
                                      t.css(o),
                                      h.push("transition"));
                                },
                                1e3 * b,
                                !1
                              ))),
                            t.on(O, B),
                            l.closeAnimationFns.push(function () {
                              R(), n();
                            }),
                            l.running++,
                            S(t, N),
                            R
                          );
                        }
                        function R() {
                          t.off(O, B),
                            t.removeClass(c),
                            t.removeClass(u),
                            I && a.cancel(I),
                            M(t, i);
                          var e = p(t);
                          for (var n in h) e.style.removeProperty(h[n]);
                        }
                        function B(e) {
                          e.stopPropagation();
                          var t = e.originalEvent || e,
                            i = t.$manualTimeStamp || t.timeStamp || Date.now(),
                            o = parseFloat(t.elapsedTime.toFixed(3));
                          Math.max(i - P, 0) >= C && o >= A && n();
                        }
                        n();
                      })(0, t, i, n, o);
                    M(t, i), n();
                  }
                  function O(e, t, i, n, r) {
                    var a = I(0, t, i, r.from);
                    if (!a) return x(), void n();
                    var s = a;
                    return (
                      w(0, function () {
                        s = P(0, t, i, n, r.to);
                      }),
                      function (e) {
                        (s || o)(e);
                      }
                    );
                  }
                  function M(e, t) {
                    e.removeClass(t);
                    var i = e.data("$$ngAnimateCSS3Data");
                    i &&
                      (i.running && i.running--,
                        (i.running && 0 !== i.running) ||
                        e.removeData("$$ngAnimateCSS3Data"));
                  }
                  return {
                    animate: function (e, t, i, n, o, r) {
                      return (
                        ((r = r || {}).from = i), (r.to = n), O(0, e, t, o, r)
                      );
                    },
                    enter: function (e, t, i) {
                      return O(0, e, "ng-enter", t, (i = i || {}));
                    },
                    leave: function (e, t, i) {
                      return O(0, e, "ng-leave", t, (i = i || {}));
                    },
                    move: function (e, t, i) {
                      return O(0, e, "ng-move", t, (i = i || {}));
                    },
                    beforeSetClass: function (e, t, i, n, o) {
                      o = o || {};
                      var r = I(
                        0,
                        e,
                        N(i, "-remove") + " " + N(t, "-add"),
                        o.from
                      );
                      if (r) return w(0, n), r;
                      x(), n();
                    },
                    beforeAddClass: function (e, t, i, n) {
                      n = n || {};
                      var o = I(0, e, N(t, "-add"), n.from);
                      if (o) return w(0, i), o;
                      x(), i();
                    },
                    beforeRemoveClass: function (e, t, i, n) {
                      n = n || {};
                      var o = I(0, e, N(t, "-remove"), n.from);
                      if (o) return w(0, i), o;
                      x(), i();
                    },
                    setClass: function (e, t, i, n, o) {
                      return (
                        (o = o || {}),
                        P(
                          0,
                          e,
                          (i = N(i, "-remove")) + " " + (t = N(t, "-add")),
                          n,
                          o.to
                        )
                      );
                    },
                    addClass: function (e, t, i, n) {
                      return (n = n || {}), P(0, e, N(t, "-add"), i, n.to);
                    },
                    removeClass: function (e, t, i, n) {
                      return (n = n || {}), P(0, e, N(t, "-remove"), i, n.to);
                    },
                  };
                  function N(e, t) {
                    var i = "";
                    return (
                      (e = s(e) ? e : e.split(/\s+/)),
                      r(e, function (e, n) {
                        e && e.length > 0 && (i += (n > 0 ? " " : "") + e + t);
                      }),
                      i
                    );
                  }
                },
              ]);
          },
        ]);
    })(window, window.angular);
  },
  function (e, t) {
    /**
     * @license AngularJS v1.3.0
     * (c) 2010-2014 Google, Inc. http://angularjs.org
     * License: MIT
     */
    !(function (e, t, i) {
      "use strict";
      t.module("ngCookies", ["ng"])
        .factory("$cookies", [
          "$rootScope",
          "$browser",
          function (e, i) {
            var n,
              o = {},
              r = {},
              a = !1,
              s = t.copy,
              l = t.isUndefined;
            return (
              i.addPollFn(function () {
                var t = i.cookies();
                n != t && ((n = t), s(t, r), s(t, o), a && e.$apply());
              })(),
              (a = !0),
              e.$watch(function () {
                var e, n, a, s;
                for (e in r) l(o[e]) && i.cookies(e, void 0);
                for (e in o)
                  (n = o[e]),
                    t.isString(n) || ((n = "" + n), (o[e] = n)),
                    n !== r[e] && (i.cookies(e, n), (s = !0));
                if (s)
                  for (e in ((s = !1), (a = i.cookies()), o))
                    o[e] !== a[e] &&
                      (l(a[e]) ? delete o[e] : (o[e] = a[e]), (s = !0));
              }),
              o
            );
          },
        ])
        .factory("$cookieStore", [
          "$cookies",
          function (e) {
            return {
              get: function (i) {
                var n = e[i];
                return n ? t.fromJson(n) : n;
              },
              put: function (i, n) {
                e[i] = t.toJson(n);
              },
              remove: function (t) {
                delete e[t];
              },
            };
          },
        ]);
    })(window, window.angular);
  },
  function (e, t) {
    /**
     * @license AngularJS v1.3.0
     * (c) 2010-2014 Google, Inc. http://angularjs.org
     * License: MIT
     */
    !(function (e, t, i) {
      "use strict";
      t.module("ngMessages", [])
        .directive("ngMessages", [
          "$compile",
          "$animate",
          "$templateRequest",
          function (e, i, n) {
            return {
              restrict: "AE",
              controller: function () {
                this.$renderNgMessageClasses = t.noop;
                var e = [];
                (this.registerMessage = function (t, i) {
                  for (var n = 0; n < e.length; n++)
                    if (e[n].type == i.type) {
                      if (t != n) {
                        var o = e[t];
                        (e[t] = e[n]),
                          t < e.length ? (e[n] = o) : e.splice(0, n);
                      }
                      return;
                    }
                  e.splice(t, 0, i);
                }),
                  (this.renderMessages = function (i, n) {
                    var o;
                    (i = i || {}),
                      t.forEach(e, function (e) {
                        var t;
                        (o && !n) || null === (t = i[e.type]) || !1 === t || !t
                          ? e.detach()
                          : (e.attach(), (o = !0));
                      }),
                      this.renderElementClasses(o);
                  });
              },
              require: "ngMessages",
              link: function (o, r, a, s) {
                s.renderElementClasses = function (e) {
                  e
                    ? i.setClass(r, "ng-active", "ng-inactive")
                    : i.setClass(r, "ng-inactive", "ng-active");
                };
                var l,
                  c =
                    t.isString(a.ngMessagesMultiple) || t.isString(a.multiple),
                  u = a.ngMessages || a.for;
                o.$watchCollection(u, function (e) {
                  (l = e), s.renderMessages(e, c);
                });
                var d = a.ngMessagesInclude || a.include;
                d &&
                  n(d).then(function (i) {
                    var n,
                      a = t.element("<div/>").html(i);
                    t.forEach(a.children(), function (i) {
                      (i = t.element(i)),
                        n ? n.after(i) : r.prepend(i),
                        (n = i),
                        e(i)(o);
                    }),
                      s.renderMessages(l, c);
                  });
              },
            };
          },
        ])
        .directive("ngMessage", [
          "$animate",
          function (e) {
            return {
              require: "^ngMessages",
              transclude: "element",
              terminal: !0,
              restrict: "AE",
              link: function (t, i, n, o, r) {
                for (
                  var a, s, l = i[0], c = l.parentNode, u = 0, d = 0;
                  u < c.childNodes.length;
                  u++
                ) {
                  var p = c.childNodes[u];
                  if (
                    8 == p.nodeType &&
                    p.nodeValue.indexOf("ngMessage") >= 0
                  ) {
                    if (p === l) {
                      a = d;
                      break;
                    }
                    d++;
                  }
                }
                o.registerMessage(a, {
                  type: n.ngMessage || n.when,
                  attach: function () {
                    s ||
                      r(t, function (t) {
                        e.enter(t, null, i), (s = t);
                      });
                  },
                  detach: function (t) {
                    s && (e.leave(s), (s = null));
                  },
                });
              },
            };
          },
        ]);
    })(window, window.angular);
  },
  function (e, t) {
    /**
     * @license AngularJS v1.3.0
     * (c) 2010-2014 Google, Inc. http://angularjs.org
     * License: MIT
     */
    !(function (e, t, i) {
      "use strict";
      var n = t.$$minErr("$resource"),
        o = /^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;
      function r(e, t) {
        if (
          !(function (e) {
            return (
              null != e && "" !== e && "hasOwnProperty" !== e && o.test("." + e)
            );
          })(t)
        )
          throw n("badmember", 'Dotted member path "@{0}" is invalid.', t);
        for (
          var i = t.split("."), r = 0, a = i.length;
          r < a && void 0 !== e;
          r++
        ) {
          var s = i[r];
          e = null !== e ? e[s] : void 0;
        }
        return e;
      }
      function a(e, i) {
        for (var n in ((i = i || {}),
          t.forEach(i, function (e, t) {
            delete i[t];
          }),
          e))
          !e.hasOwnProperty(n) ||
            ("$" === n.charAt(0) && "$" === n.charAt(1)) ||
            (i[n] = e[n]);
        return i;
      }
      t.module("ngResource", ["ng"]).provider("$resource", function () {
        var e = this;
        (this.defaults = {
          stripTrailingSlashes: !0,
          actions: {
            get: { method: "GET" },
            save: { method: "POST" },
            query: { method: "GET", isArray: !0 },
            remove: { method: "DELETE" },
            delete: { method: "DELETE" },
          },
        }),
          (this.$get = [
            "$http",
            "$q",
            function (i, o) {
              var s = t.noop,
                l = t.forEach,
                c = t.extend,
                u = t.copy,
                d = t.isFunction;
              function p(e) {
                return (function (e, t) {
                  return encodeURIComponent(e)
                    .replace(/%40/gi, "@")
                    .replace(/%3A/gi, ":")
                    .replace(/%24/g, "$")
                    .replace(/%2C/gi, ",")
                    .replace(/%20/g, t ? "%20" : "+");
                })(e, !0)
                  .replace(/%26/gi, "&")
                  .replace(/%3D/gi, "=")
                  .replace(/%2B/gi, "+");
              }
              function h(t, i) {
                (this.template = t),
                  (this.defaults = c({}, e.defaults, i)),
                  (this.urlParams = {});
              }
              return (
                (h.prototype = {
                  setUrlParams: function (e, i, o) {
                    var r,
                      a,
                      s = this,
                      c = o || s.template,
                      u = (s.urlParams = {});
                    l(c.split(/\W/), function (e) {
                      if ("hasOwnProperty" === e)
                        throw n(
                          "badname",
                          "hasOwnProperty is not a valid parameter name."
                        );
                      !new RegExp("^\\d+$").test(e) &&
                        e &&
                        new RegExp("(^|[^\\\\]):" + e + "(\\W|$)").test(c) &&
                        (u[e] = !0);
                    }),
                      (c = c.replace(/\\:/g, ":")),
                      (i = i || {}),
                      l(s.urlParams, function (e, n) {
                        (r = i.hasOwnProperty(n) ? i[n] : s.defaults[n]),
                          t.isDefined(r) && null !== r
                            ? ((a = p(r)),
                              (c = c.replace(
                                new RegExp(":" + n + "(\\W|$)", "g"),
                                function (e, t) {
                                  return a + t;
                                }
                              )))
                            : (c = c.replace(
                              new RegExp("(/?):" + n + "(\\W|$)", "g"),
                              function (e, t, i) {
                                return "/" == i.charAt(0) ? i : t + i;
                              }
                            ));
                      }),
                      s.defaults.stripTrailingSlashes &&
                      (c = c.replace(/\/+$/, "") || "/"),
                      (c = c.replace(/\/\.(?=\w+($|\?))/, ".")),
                      (e.url = c.replace(/\/\\\./, "/.")),
                      l(i, function (t, i) {
                        s.urlParams[i] ||
                          ((e.params = e.params || {}), (e.params[i] = t));
                      });
                  },
                }),
                function p(f, g, m, v) {
                  var b = new h(f, v);
                  function y(e, t) {
                    var i = {};
                    return (
                      (t = c({}, g, t)),
                      l(t, function (t, n) {
                        d(t) && (t = t()),
                          (i[n] =
                            t && t.charAt && "@" == t.charAt(0)
                              ? r(e, t.substr(1))
                              : t);
                      }),
                      i
                    );
                  }
                  function x(e) {
                    return e.resource;
                  }
                  function w(e) {
                    a(e || {}, this);
                  }
                  return (
                    (m = c({}, e.defaults.actions, m)),
                    (w.prototype.toJSON = function () {
                      var e = c({}, this);
                      return delete e.$promise, delete e.$resolved, e;
                    }),
                    l(m, function (e, r) {
                      var p = /^(POST|PUT|PATCH)$/i.test(e.method);
                      (w[r] = function (h, f, g, m) {
                        var v,
                          _,
                          A,
                          E = {};
                        switch (arguments.length) {
                          case 4:
                            (A = m), (_ = g);
                          case 3:
                          case 2:
                            if (!d(f)) {
                              (E = h), (v = f), (_ = g);
                              break;
                            }
                            if (d(h)) {
                              (_ = h), (A = f);
                              break;
                            }
                            (_ = f), (A = g);
                          case 1:
                            d(h) ? (_ = h) : p ? (v = h) : (E = h);
                            break;
                          case 0:
                            break;
                          default:
                            throw n(
                              "badargs",
                              "Expected up to 4 arguments [params, data, success, error], got {0} arguments",
                              arguments.length
                            );
                        }
                        var S = this instanceof w,
                          T = S ? v : e.isArray ? [] : new w(v),
                          C = {},
                          k = (e.interceptor && e.interceptor.response) || x,
                          L =
                            (e.interceptor && e.interceptor.responseError) ||
                            void 0;
                        l(e, function (e, t) {
                          "params" != t &&
                            "isArray" != t &&
                            "interceptor" != t &&
                            (C[t] = u(e));
                        }),
                          p && (C.data = v),
                          b.setUrlParams(
                            C,
                            c({}, y(v, e.params || {}), E),
                            e.url
                          );
                        var D = i(C).then(
                          function (i) {
                            var o = i.data,
                              s = T.$promise;
                            if (o) {
                              if (t.isArray(o) !== !!e.isArray)
                                throw n(
                                  "badcfg",
                                  "Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",
                                  r,
                                  e.isArray ? "array" : "object",
                                  t.isArray(o) ? "array" : "object"
                                );
                              e.isArray
                                ? ((T.length = 0),
                                  l(o, function (e) {
                                    "object" == typeof e
                                      ? T.push(new w(e))
                                      : T.push(e);
                                  }))
                                : (a(o, T), (T.$promise = s));
                            }
                            return (T.$resolved = !0), (i.resource = T), i;
                          },
                          function (e) {
                            return (T.$resolved = !0), (A || s)(e), o.reject(e);
                          }
                        );
                        return (
                          (D = D.then(function (e) {
                            var t = k(e);
                            return (_ || s)(t, e.headers), t;
                          }, L)),
                          S ? D : ((T.$promise = D), (T.$resolved = !1), T)
                        );
                      }),
                        (w.prototype["$" + r] = function (e, t, i) {
                          d(e) && ((i = t), (t = e), (e = {}));
                          var n = w[r].call(this, e, this, t, i);
                          return n.$promise || n;
                        });
                    }),
                    (w.bind = function (e) {
                      return p(f, c({}, g, e), m);
                    }),
                    w
                  );
                }
              );
            },
          ]);
      });
    })(window, window.angular);
  },
  function (e, t) {
    /**
     * @license AngularJS v1.3.0
     * (c) 2010-2014 Google, Inc. http://angularjs.org
     * License: MIT
     */
    !(function (e, t, i) {
      "use strict";
      var n = t.module("ngRoute", ["ng"]).provider("$route", function () {
        function e(e, i) {
          return t.extend(
            new (t.extend(function () { }, { prototype: e }))(),
            i
          );
        }
        var i = {};
        function n(e, t) {
          var i = t.caseInsensitiveMatch,
            n = { originalPath: e, regexp: e },
            o = (n.keys = []);
          return (
            (e = e
              .replace(/([().])/g, "\\$1")
              .replace(/(\/)?:(\w+)([\?\*])?/g, function (e, t, i, n) {
                var r = "?" === n ? n : null,
                  a = "*" === n ? n : null;
                return (
                  o.push({ name: i, optional: !!r }),
                  (t = t || ""),
                  (r ? "" : t) +
                  "(?:" +
                  (r ? t : "") +
                  (a ? "(.+?)" : "([^/]+)") +
                  (r || "") +
                  ")" +
                  (r || "")
                );
              })
              .replace(/([\/$\*])/g, "\\$1")),
            (n.regexp = new RegExp("^" + e + "$", i ? "i" : "")),
            n
          );
        }
        (this.when = function (e, o) {
          if (
            ((i[e] = t.extend({ reloadOnSearch: !0 }, o, e && n(e, o))), e)
          ) {
            var r =
              "/" == e[e.length - 1] ? e.substr(0, e.length - 1) : e + "/";
            i[r] = t.extend({ redirectTo: e }, n(r, o));
          }
          return this;
        }),
          (this.otherwise = function (e) {
            return (
              "string" == typeof e && (e = { redirectTo: e }),
              this.when(null, e),
              this
            );
          }),
          (this.$get = [
            "$rootScope",
            "$location",
            "$routeParams",
            "$q",
            "$injector",
            "$templateRequest",
            "$sce",
            function (n, r, a, s, l, c, u) {
              var d,
                p,
                h = !1,
                f = {
                  routes: i,
                  reload: function () {
                    (h = !0),
                      n.$evalAsync(function () {
                        g(), m();
                      });
                  },
                  updateParams: function (e) {
                    if (!this.current || !this.current.$$route)
                      throw o(
                        "norout",
                        "Tried updating route when with no current route"
                      );
                    var i = {},
                      n = this;
                    t.forEach(Object.keys(e), function (t) {
                      n.current.pathParams[t] || (i[t] = e[t]);
                    }),
                      (e = t.extend({}, this.current.params, e)),
                      r.path(v(this.current.$$route.originalPath, e)),
                      r.search(t.extend({}, r.search(), i));
                  },
                };
              return (
                n.$on("$locationChangeStart", g),
                n.$on("$locationChangeSuccess", m),
                f
              );
              function g(o) {
                var a,
                  s,
                  l = f.current;
                t.forEach(i, function (i, n) {
                  !s &&
                    (a = (function (e, t) {
                      var i = t.keys,
                        n = {};
                      if (!t.regexp) return null;
                      var o = t.regexp.exec(e);
                      if (!o) return null;
                      for (var r = 1, a = o.length; r < a; ++r) {
                        var s = i[r - 1],
                          l = o[r];
                        s && l && (n[s.name] = l);
                      }
                      return n;
                    })(r.path(), i)) &&
                    ((s = e(i, {
                      params: t.extend({}, r.search(), a),
                      pathParams: a,
                    })).$$route = i);
                }),
                  (d =
                    s ||
                    (i.null && e(i.null, { params: {}, pathParams: {} }))),
                  (p =
                    d &&
                    l &&
                    d.$$route === l.$$route &&
                    t.equals(d.pathParams, l.pathParams) &&
                    !d.reloadOnSearch &&
                    !h) ||
                  (!l && !d) ||
                  (n.$broadcast("$routeChangeStart", d, l)
                    .defaultPrevented &&
                    o &&
                    o.preventDefault());
              }
              function m() {
                var e = f.current,
                  i = d;
                p
                  ? ((e.params = i.params),
                    t.copy(e.params, a),
                    n.$broadcast("$routeUpdate", e))
                  : (i || e) &&
                  ((h = !1),
                    (f.current = i),
                    i &&
                    i.redirectTo &&
                    (t.isString(i.redirectTo)
                      ? r
                        .path(v(i.redirectTo, i.params))
                        .search(i.params)
                        .replace()
                      : r
                        .url(
                          i.redirectTo(i.pathParams, r.path(), r.search())
                        )
                        .replace()),
                    s
                      .when(i)
                      .then(function () {
                        if (i) {
                          var e,
                            n,
                            o = t.extend({}, i.resolve);
                          return (
                            t.forEach(o, function (e, i) {
                              o[i] = t.isString(e)
                                ? l.get(e)
                                : l.invoke(e, null, null, i);
                            }),
                            t.isDefined((e = i.template))
                              ? t.isFunction(e) && (e = e(i.params))
                              : t.isDefined((n = i.templateUrl)) &&
                              (t.isFunction(n) && (n = n(i.params)),
                                (n = u.getTrustedResourceUrl(n)),
                                t.isDefined(n) &&
                                ((i.loadedTemplateUrl = n), (e = c(n)))),
                            t.isDefined(e) && (o.$template = e),
                            s.all(o)
                          );
                        }
                      })
                      .then(
                        function (o) {
                          i == f.current &&
                            (i && ((i.locals = o), t.copy(i.params, a)),
                              n.$broadcast("$routeChangeSuccess", i, e));
                        },
                        function (t) {
                          i == f.current &&
                            n.$broadcast("$routeChangeError", i, e, t);
                        }
                      ));
              }
              function v(e, i) {
                var n = [];
                return (
                  t.forEach((e || "").split(":"), function (e, t) {
                    if (0 === t) n.push(e);
                    else {
                      var o = e.match(/(\w+)(.*)/),
                        r = o[1];
                      n.push(i[r]), n.push(o[2] || ""), delete i[r];
                    }
                  }),
                  n.join("")
                );
              }
            },
          ]);
      }),
        o = t.$$minErr("ngRoute");
      function r(e, i, n) {
        return {
          restrict: "ECA",
          terminal: !0,
          priority: 400,
          transclude: "element",
          link: function (o, r, a, s, l) {
            var c,
              u,
              d,
              p = a.autoscroll,
              h = a.onload || "";
            function f() {
              d && (n.cancel(d), (d = null)),
                c && (c.$destroy(), (c = null)),
                u &&
                ((d = n.leave(u)).then(function () {
                  d = null;
                }),
                  (u = null));
            }
            function g() {
              var a = e.current && e.current.locals,
                s = a && a.$template;
              if (t.isDefined(s)) {
                var d = o.$new(),
                  g = e.current,
                  m = l(d, function (e) {
                    n.enter(e, null, u || r).then(function () {
                      !t.isDefined(p) || (p && !o.$eval(p)) || i();
                    }),
                      f();
                  });
                (u = m),
                  (c = g.scope = d).$emit("$viewContentLoaded"),
                  c.$eval(h);
              } else f();
            }
            o.$on("$routeChangeSuccess", g), g();
          },
        };
      }
      function a(e, t, i) {
        return {
          restrict: "ECA",
          priority: -400,
          link: function (n, o) {
            var r = i.current,
              a = r.locals;
            o.html(a.$template);
            var s = e(o.contents());
            if (r.controller) {
              a.$scope = n;
              var l = t(r.controller, a);
              r.controllerAs && (n[r.controllerAs] = l),
                o.data("$ngControllerController", l),
                o.children().data("$ngControllerController", l);
            }
            s(n);
          },
        };
      }
      n.provider("$routeParams", function () {
        this.$get = function () {
          return {};
        };
      }),
        n.directive("ngView", r),
        n.directive("ngView", a),
        (r.$inject = ["$route", "$anchorScroll", "$animate"]),
        (a.$inject = ["$compile", "$controller", "$route"]);
    })(window, window.angular);
  },
  function (e, t) {
    /**
     * @license AngularJS v1.3.0
     * (c) 2010-2014 Google, Inc. http://angularjs.org
     * License: MIT
     */
    !(function (e, t, i) {
      "use strict";
      var n = t.$$minErr("$sanitize");
      var o =
        /^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,
        r = /^<\/\s*([\w:-]+)[^>]*>/,
        a =
          /([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,
        s = /^</,
        l = /^<\//,
        c = /<!--(.*?)-->/g,
        u = /<!DOCTYPE([^>]*?)>/i,
        d = /<!\[CDATA\[(.*?)]]>/g,
        p = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
        h = /([^\#-~| |!])/g,
        f = E("area,br,col,hr,img,wbr"),
        g = E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),
        m = E("rp,rt"),
        v = t.extend({}, m, g),
        b = t.extend(
          {},
          g,
          E(
            "address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"
          )
        ),
        y = t.extend(
          {},
          m,
          E(
            "a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"
          )
        ),
        x = E("script,style"),
        w = t.extend({}, f, b, y, v),
        _ = E("background,cite,href,longdesc,src,usemap"),
        A = t.extend(
          {},
          _,
          E(
            "abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"
          )
        );
      function E(e) {
        var t,
          i = {},
          n = e.split(",");
        for (t = 0; t < n.length; t++) i[n[t]] = !0;
        return i;
      }
      var S = document.createElement("pre"),
        T = /^(\s*)([\s\S]*?)(\s*)$/;
      function C(e) {
        if (!e) return "";
        var t = T.exec(e),
          i = t[1],
          n = t[3],
          o = t[2];
        return (
          o &&
          ((S.innerHTML = o.replace(/</g, "&lt;")),
            (o = "textContent" in S ? S.textContent : S.innerText)),
          i + o + n
        );
      }
      function k(e) {
        return e
          .replace(/&/g, "&amp;")
          .replace(p, function (e) {
            return (
              "&#" +
              (1024 * (e.charCodeAt(0) - 55296) +
                (e.charCodeAt(1) - 56320) +
                65536) +
              ";"
            );
          })
          .replace(h, function (e) {
            return "&#" + e.charCodeAt(0) + ";";
          })
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;");
      }
      function L(e, i) {
        var n = !1,
          o = t.bind(e, e.push);
        return {
          start: function (e, r, a) {
            (e = t.lowercase(e)),
              !n && x[e] && (n = e),
              n ||
              !0 !== w[e] ||
              (o("<"),
                o(e),
                t.forEach(r, function (n, r) {
                  var a = t.lowercase(r),
                    s = ("img" === e && "src" === a) || "background" === a;
                  !0 !== A[a] ||
                    (!0 === _[a] && !i(n, s)) ||
                    (o(" "), o(r), o('="'), o(k(n)), o('"'));
                }),
                o(a ? "/>" : ">"));
          },
          end: function (e) {
            (e = t.lowercase(e)),
              n || !0 !== w[e] || (o("</"), o(e), o(">")),
              e == n && (n = !1);
          },
          chars: function (e) {
            n || o(k(e));
          },
        };
      }
      t.module("ngSanitize", []).provider("$sanitize", function () {
        this.$get = [
          "$$sanitizeUri",
          function (e) {
            return function (i) {
              var p = [];
              return (
                (function (e, i) {
                  "string" != typeof e && (e = null == e ? "" : "" + e);
                  var p,
                    h,
                    g,
                    m,
                    w = [],
                    _ = e;
                  w.last = function () {
                    return w[w.length - 1];
                  };
                  for (; e;) {
                    if (
                      ((m = ""),
                        (h = !0),
                        w.last() && x[w.last()]
                          ? ((e = e.replace(
                            new RegExp(
                              "(.*)<\\s*\\/\\s*" + w.last() + "[^>]*>",
                              "i"
                            ),
                            function (e, t) {
                              return (
                                (t = t.replace(c, "$1").replace(d, "$1")),
                                i.chars && i.chars(C(t)),
                                ""
                              );
                            }
                          )),
                            E("", w.last()))
                          : (0 === e.indexOf("\x3c!--")
                            ? (p = e.indexOf("--", 4)) >= 0 &&
                            e.lastIndexOf("--\x3e", p) === p &&
                            (i.comment && i.comment(e.substring(4, p)),
                              (e = e.substring(p + 3)),
                              (h = !1))
                            : u.test(e)
                              ? (g = e.match(u)) &&
                              ((e = e.replace(g[0], "")), (h = !1))
                              : l.test(e)
                                ? (g = e.match(r)) &&
                                ((e = e.substring(g[0].length)),
                                  g[0].replace(r, E),
                                  (h = !1))
                                : s.test(e) &&
                                ((g = e.match(o))
                                  ? (g[4] &&
                                    ((e = e.substring(g[0].length)),
                                      g[0].replace(o, A)),
                                    (h = !1))
                                  : ((m += "<"), (e = e.substring(1)))),
                            h &&
                            ((p = e.indexOf("<")),
                              (m += p < 0 ? e : e.substring(0, p)),
                              (e = p < 0 ? "" : e.substring(p)),
                              i.chars && i.chars(C(m)))),
                        e == _)
                    )
                      throw n(
                        "badparse",
                        "The sanitizer was unable to parse the following block of html: {0}",
                        e
                      );
                    _ = e;
                  }
                  function A(e, n, o, r) {
                    if (((n = t.lowercase(n)), b[n]))
                      for (; w.last() && y[w.last()];) E("", w.last());
                    v[n] && w.last() == n && E("", n),
                      (r = f[n] || !!r) || w.push(n);
                    var s = {};
                    o.replace(a, function (e, t, i, n, o) {
                      var r = i || n || o || "";
                      s[t] = C(r);
                    }),
                      i.start && i.start(n, s, r);
                  }
                  function E(e, n) {
                    var o,
                      r = 0;
                    if ((n = t.lowercase(n)))
                      for (r = w.length - 1; r >= 0 && w[r] != n; r--);
                    if (r >= 0) {
                      for (o = w.length - 1; o >= r; o--) i.end && i.end(w[o]);
                      w.length = r;
                    }
                  }
                  E();
                })(
                  i,
                  L(p, function (t, i) {
                    return !/^unsafe/.test(e(t, i));
                  })
                ),
                p.join("")
              );
            };
          },
        ];
      }),
        t.module("ngSanitize").filter("linky", [
          "$sanitize",
          function (e) {
            var i =
              /((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,
              n = /^mailto:/;
            return function (o, r) {
              if (!o) return o;
              for (var a, s, l, c = o, u = []; (a = c.match(i));)
                (s = a[0]),
                  a[2] == a[3] && (s = "mailto:" + s),
                  (l = a.index),
                  d(c.substr(0, l)),
                  p(s, a[0].replace(n, "")),
                  (c = c.substring(l + a[0].length));
              return d(c), e(u.join(""));
              function d(e) {
                var i, n;
                e &&
                  u.push(((i = e), L((n = []), t.noop).chars(i), n.join("")));
              }
              function p(e, i) {
                u.push("<a "),
                  t.isDefined(r) &&
                  (u.push('target="'), u.push(r), u.push('" ')),
                  u.push('href="'),
                  u.push(e),
                  u.push('">'),
                  d(i),
                  u.push("</a>");
              }
            };
          },
        ]);
    })(window, window.angular);
  },
  function (e, t) {
    !(function (e) {
      function t(e) {
        this.parser = new e.ActiveXObject("Microsoft.XMLDOM");
      }
      function i(e) {
        this.parser = new e.DOMParser();
      }
      function n(e, t) {
        return {
          response: function (i) {
            return i &&
              (function (e) {
                var t = e.headers("content-type"),
                  i = "text/xml".indexOf("/xml");
                return t.indexOf("/xml") >= i;
              })(i)
              ? ((i.xml = t(i.data)), i)
              : e.when(i);
          },
        };
      }
      (t.prototype.parse = function (e) {
        var t,
          i = this.parser;
        if (((i.async = !1), i.loadXML(e), 0 === (t = i.parseError).errorCode))
          return i;
        throw new Error("Cannot parse XML: " + t.reason);
      }),
        (i.prototype.parse = function (e) {
          return this.parser.parseFromString(e, "text/xml");
        }),
        e &&
        e
          .module("xml", [])
          .config([
            "$provide",
            function (e) {
              e.factory("xmlHttpInterceptor", ["$q", "xmlFilter", n]);
            },
          ])
          .factory("xmlParser", [
            "$window",
            function (e) {
              if (e.DOMParser) return new i(e);
              if (e.ActiveXObject) return new t(e);
              throw new Error("Cannot parser XML in this environment.");
            },
          ])
          .filter("xml", [
            "xmlParser",
            function (t) {
              return function (i) {
                var n = t.parse(i);
                return e.element(n);
              };
            },
          ]);
    })(angular);
  },
  function (e, t) {
    /**
     * @license AngularJS v1.3.15
     * (c) 2010-2014 Google, Inc. http://angularjs.org
     * License: MIT
     */
    !(function (e, t, i) {
      "use strict";
      var n = t.module("ngTouch", []);
      function o(e, i, o) {
        n.directive(e, [
          "$parse",
          "$swipe",
          function (n, r) {
            return function (a, s, l) {
              var c,
                u,
                d = n(l[e]);
              var p = ["touch"];
              t.isDefined(l.ngSwipeDisableMouse) || p.push("mouse"),
                r.bind(
                  s,
                  {
                    start: function (e, t) {
                      (c = e), (u = !0);
                    },
                    cancel: function (e) {
                      u = !1;
                    },
                    end: function (e, t) {
                      (function (e) {
                        if (!c) return !1;
                        var t = Math.abs(e.y - c.y),
                          n = (e.x - c.x) * i;
                        return u && t < 75 && n > 0 && n > 30 && t / n < 0.3;
                      })(e) &&
                        a.$apply(function () {
                          s.triggerHandler(o), d(a, { $event: t });
                        });
                    },
                  },
                  p
                );
            };
          },
        ]);
      }
      n.factory("$swipe", [
        function () {
          var e = {
            mouse: { start: "mousedown", move: "mousemove", end: "mouseup" },
            touch: {
              start: "touchstart",
              move: "touchmove",
              end: "touchend",
              cancel: "touchcancel",
            },
          };
          function i(e) {
            var t = e.touches && e.touches.length ? e.touches : [e],
              i =
                (e.changedTouches && e.changedTouches[0]) ||
                (e.originalEvent &&
                  e.originalEvent.changedTouches &&
                  e.originalEvent.changedTouches[0]) ||
                t[0].originalEvent ||
                t[0];
            return { x: i.clientX, y: i.clientY };
          }
          function n(i, n) {
            var o = [];
            return (
              t.forEach(i, function (t) {
                var i = e[t][n];
                i && o.push(i);
              }),
              o.join(" ")
            );
          }
          return {
            bind: function (e, t, o) {
              var r,
                a,
                s,
                l,
                c = !1;
              (o = o || ["mouse", "touch"]),
                e.on(n(o, "start"), function (e) {
                  (s = i(e)),
                    (c = !0),
                    (r = 0),
                    (a = 0),
                    (l = s),
                    t.start && t.start(s, e);
                });
              var u = n(o, "cancel");
              u &&
                e.on(u, function (e) {
                  (c = !1), t.cancel && t.cancel(e);
                }),
                e.on(n(o, "move"), function (e) {
                  if (c && s) {
                    var n = i(e);
                    if (
                      ((r += Math.abs(n.x - l.x)),
                        (a += Math.abs(n.y - l.y)),
                        (l = n),
                        !(r < 10 && a < 10))
                    )
                      return a > r
                        ? ((c = !1), void (t.cancel && t.cancel(e)))
                        : (e.preventDefault(), void (t.move && t.move(n, e)));
                  }
                }),
                e.on(n(o, "end"), function (e) {
                  c && ((c = !1), t.end && t.end(i(e), e));
                });
            },
          };
        },
      ]),
        n.config([
          "$provide",
          function (e) {
            e.decorator("ngClickDirective", [
              "$delegate",
              function (e) {
                return e.shift(), e;
              },
            ]);
          },
        ]),
        n.directive("ngClick", [
          "$parse",
          "$timeout",
          "$rootElement",
          function (e, i, n) {
            var o, r, a;
            function s(e, t, i) {
              for (var n = 0; n < e.length; n += 2)
                if (
                  ((o = e[n]),
                    (r = e[n + 1]),
                    (a = t),
                    (s = i),
                    Math.abs(o - a) < 25 && Math.abs(r - s) < 25)
                )
                  return e.splice(n, n + 2), !0;
              var o, r, a, s;
              return !1;
            }
            function l(e) {
              if (!(Date.now() - o > 2500)) {
                var t = e.touches && e.touches.length ? e.touches : [e],
                  i = t[0].clientX,
                  n = t[0].clientY;
                (i < 1 && n < 1) ||
                  (a && a[0] === i && a[1] === n) ||
                  (a && (a = null),
                    "label" === e.target.tagName.toLowerCase() && (a = [i, n]),
                    s(r, i, n) ||
                    (e.stopPropagation(),
                      e.preventDefault(),
                      e.target && e.target.blur()));
              }
            }
            function c(e) {
              var t = e.touches && e.touches.length ? e.touches : [e],
                n = t[0].clientX,
                o = t[0].clientY;
              r.push(n, o),
                i(
                  function () {
                    for (var e = 0; e < r.length; e += 2)
                      if (r[e] == n && r[e + 1] == o)
                        return void r.splice(e, e + 2);
                  },
                  2500,
                  !1
                );
            }
            return function (i, a, u) {
              var d,
                p,
                h,
                f,
                g = e(u.ngClick),
                m = !1;
              function v() {
                (m = !1), a.removeClass("ng-click-active");
              }
              a.on("touchstart", function (e) {
                (m = !0),
                  3 == (d = e.target ? e.target : e.srcElement).nodeType &&
                  (d = d.parentNode),
                  a.addClass("ng-click-active"),
                  (p = Date.now());
                var t = e.touches && e.touches.length ? e.touches : [e],
                  i = t[0].originalEvent || t[0];
                (h = i.clientX), (f = i.clientY);
              }),
                a.on("touchmove", function (e) {
                  v();
                }),
                a.on("touchcancel", function (e) {
                  v();
                }),
                a.on("touchend", function (e) {
                  var i = Date.now() - p,
                    g =
                      e.changedTouches && e.changedTouches.length
                        ? e.changedTouches
                        : e.touches && e.touches.length
                          ? e.touches
                          : [e],
                    b = g[0].originalEvent || g[0],
                    y = b.clientX,
                    x = b.clientY,
                    w = Math.sqrt(Math.pow(y - h, 2) + Math.pow(x - f, 2));
                  m &&
                    i < 750 &&
                    w < 12 &&
                    (!(function (e, t) {
                      r ||
                        (n[0].addEventListener("click", l, !0),
                          n[0].addEventListener("touchstart", c, !0),
                          (r = [])),
                        (o = Date.now()),
                        s(r, e, t);
                    })(y, x),
                      d && d.blur(),
                      (t.isDefined(u.disabled) && !1 !== u.disabled) ||
                      a.triggerHandler("click", [e])),
                    v();
                }),
                (a.onclick = function (e) { }),
                a.on("click", function (e, t) {
                  i.$apply(function () {
                    g(i, { $event: t || e });
                  });
                }),
                a.on("mousedown", function (e) {
                  a.addClass("ng-click-active");
                }),
                a.on("mousemove mouseup", function (e) {
                  a.removeClass("ng-click-active");
                });
            };
          },
        ]),
        o("ngSwipeLeft", -1, "swipeleft"),
        o("ngSwipeRight", 1, "swiperight");
    })(window, window.angular);
  },
  function (e, t, i) {
    var n, o, r;
    /*! angularjs-slider - v6.7.0 - 
 (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervi.eu>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - 
 https://github.com/angular-slider/angularjs-slider - 
 2019-02-23 */ !(function (a, s) {
      "use strict";
      (o = [i(11)]),
        void 0 ===
        (r =
          "function" ==
            typeof (n = function (e) {
              var t = e
                .module("rzModule", [])
                .factory("RzSliderOptions", function () {
                  var t = {
                    floor: 0,
                    ceil: null,
                    step: 1,
                    precision: 0,
                    minRange: null,
                    maxRange: null,
                    restrictedRange: null,
                    pushRange: !1,
                    minLimit: null,
                    maxLimit: null,
                    id: null,
                    translate: null,
                    getLegend: null,
                    stepsArray: null,
                    bindIndexForStepsArray: !1,
                    draggableRange: !1,
                    draggableRangeOnly: !1,
                    showSelectionBar: !1,
                    showSelectionBarEnd: !1,
                    showSelectionBarFromValue: null,
                    showOuterSelectionBars: !1,
                    hidePointerLabels: !1,
                    hideLimitLabels: !1,
                    autoHideLimitLabels: !0,
                    readOnly: !1,
                    disabled: !1,
                    interval: 350,
                    showTicks: !1,
                    showTicksValues: !1,
                    ticksArray: null,
                    ticksTooltip: null,
                    ticksValuesTooltip: null,
                    vertical: !1,
                    getSelectionBarColor: null,
                    getTickColor: null,
                    getPointerColor: null,
                    keyboardSupport: !0,
                    scale: 1,
                    enforceStep: !0,
                    enforceRange: !1,
                    noSwitching: !1,
                    onlyBindHandles: !1,
                    onStart: null,
                    onChange: null,
                    onEnd: null,
                    rightToLeft: !1,
                    reversedControls: !1,
                    boundPointerLabels: !0,
                    mergeRangeLabelsIfSame: !1,
                    labelOverlapSeparator: " - ",
                    customTemplateScope: null,
                    logScale: !1,
                    customValueToPosition: null,
                    customPositionToValue: null,
                    selectionBarGradient: null,
                    ariaLabel: null,
                    ariaLabelledBy: null,
                    ariaLabelHigh: null,
                    ariaLabelledByHigh: null,
                  },
                    i = {},
                    n = {
                      options: function (t) {
                        e.extend(i, t);
                      },
                      getOptions: function (n) {
                        return e.extend({}, t, i, n);
                      },
                    };
                  return n;
                })
                .factory("rzThrottle", [
                  "$timeout",
                  function (e) {
                    return function (t, i, n) {
                      var o,
                        r,
                        a,
                        s =
                          Date.now ||
                          function () {
                            return new Date().getTime();
                          },
                        l = null,
                        c = 0;
                      n = n || {};
                      var u = function () {
                        (c = s()),
                          (l = null),
                          (a = t.apply(o, r)),
                          (o = r = null);
                      };
                      return function () {
                        var d = s(),
                          p = i - (d - c);
                        return (
                          (o = this),
                          (r = arguments),
                          p <= 0
                            ? (e.cancel(l),
                              (l = null),
                              (c = d),
                              (a = t.apply(o, r)),
                              (o = r = null))
                            : l || !1 === n.trailing || (l = e(u, p)),
                          a
                        );
                      };
                    };
                  },
                ])
                .factory("RzSlider", [
                  "$timeout",
                  "$document",
                  "$window",
                  "$compile",
                  "RzSliderOptions",
                  "rzThrottle",
                  function (t, i, n, o, r, a) {
                    var s = function (e, t) {
                      (this.scope = e),
                        (this.lowValue = 0),
                        (this.highValue = 0),
                        (this.sliderElem = t),
                        (this.range =
                          void 0 !== this.scope.rzSliderModel &&
                          void 0 !== this.scope.rzSliderHigh),
                        (this.dragging = {
                          active: !1,
                          value: 0,
                          difference: 0,
                          position: 0,
                          lowLimit: 0,
                          highLimit: 0,
                        }),
                        (this.positionProperty = "left"),
                        (this.dimensionProperty = "width"),
                        (this.handleHalfDim = 0),
                        (this.maxPos = 0),
                        (this.precision = 0),
                        (this.step = 1),
                        (this.tracking = ""),
                        (this.minValue = 0),
                        (this.maxValue = 0),
                        (this.valueRange = 0),
                        (this.intermediateTicks = !1),
                        (this.initHasRun = !1),
                        (this.firstKeyDown = !1),
                        (this.internalChange = !1),
                        (this.cmbLabelShown = !1),
                        (this.currentFocusElement = null),
                        (this.fullBar = null),
                        (this.selBar = null),
                        (this.minH = null),
                        (this.maxH = null),
                        (this.flrLab = null),
                        (this.ceilLab = null),
                        (this.minLab = null),
                        (this.maxLab = null),
                        (this.cmbLab = null),
                        (this.ticks = null),
                        this.init();
                    };
                    return (
                      (s.prototype = {
                        init: function () {
                          var t,
                            i,
                            o = this,
                            r = function () {
                              o.calcViewDimensions();
                            };
                          this.applyOptions(),
                            this.syncLowValue(),
                            this.range && this.syncHighValue(),
                            this.initElemHandles(),
                            this.manageElementsStyle(),
                            this.setDisabledState(),
                            this.calcViewDimensions(),
                            this.setMinAndMax(),
                            this.updateRestrictionBar(),
                            this.addAccessibility(),
                            this.updateCeilLab(),
                            this.updateFloorLab(),
                            this.initHandles(),
                            this.manageEventsBindings(),
                            this.scope.$on("reCalcViewDimensions", r),
                            e.element(n).on("resize", r),
                            (this.initHasRun = !0),
                            (t = a(function () {
                              o.onLowHandleChange();
                            }, o.options.interval)),
                            (i = a(function () {
                              o.onHighHandleChange();
                            }, o.options.interval)),
                            this.scope.$on("rzSliderForceRender", function () {
                              o.resetLabelsValue(),
                                t(),
                                o.range && i(),
                                o.resetSlider();
                            }),
                            this.scope.$watchCollection(
                              "rzSliderOptions()",
                              function (e, t) {
                                e !== t &&
                                  (o.applyOptions(),
                                    o.syncLowValue(),
                                    o.range && o.syncHighValue(),
                                    o.resetSlider());
                              }
                            ),
                            this.scope.$watch("rzSliderModel", function (e, i) {
                              o.internalChange || (e !== i && t());
                            }),
                            this.scope.$watch("rzSliderHigh", function (e, t) {
                              o.internalChange ||
                                (e !== t &&
                                  (null != e && i(),
                                    ((o.range && null == e) ||
                                      (!o.range && null != e)) &&
                                    (o.applyOptions(), o.resetSlider())));
                            }),
                            this.scope.$on("$destroy", function () {
                              o.unbindEvents(),
                                e.element(n).off("resize", r),
                                (o.currentFocusElement = null);
                            });
                        },
                        findStepIndex: function (t) {
                          for (
                            var i = 0, n = 0;
                            n < this.options.stepsArray.length;
                            n++
                          ) {
                            var o = this.options.stepsArray[n];
                            if (o === t) {
                              i = n;
                              break;
                            }
                            if (e.isDate(o)) {
                              if (o.getTime() === t.getTime()) {
                                i = n;
                                break;
                              }
                            } else if (
                              e.isObject(o) &&
                              ((e.isDate(o.value) &&
                                o.value.getTime() === t.getTime()) ||
                                o.value === t)
                            ) {
                              i = n;
                              break;
                            }
                          }
                          return i;
                        },
                        syncLowValue: function () {
                          this.options.stepsArray
                            ? this.options.bindIndexForStepsArray
                              ? (this.lowValue = this.scope.rzSliderModel)
                              : (this.lowValue = this.findStepIndex(
                                this.scope.rzSliderModel
                              ))
                            : (this.lowValue = this.scope.rzSliderModel);
                        },
                        syncHighValue: function () {
                          this.options.stepsArray
                            ? this.options.bindIndexForStepsArray
                              ? (this.highValue = this.scope.rzSliderHigh)
                              : (this.highValue = this.findStepIndex(
                                this.scope.rzSliderHigh
                              ))
                            : (this.highValue = this.scope.rzSliderHigh);
                        },
                        getStepValue: function (t) {
                          var i = this.options.stepsArray[t];
                          return e.isDate(i) ? i : e.isObject(i) ? i.value : i;
                        },
                        applyLowValue: function () {
                          this.options.stepsArray
                            ? this.options.bindIndexForStepsArray
                              ? (this.scope.rzSliderModel = this.lowValue)
                              : (this.scope.rzSliderModel = this.getStepValue(
                                this.lowValue
                              ))
                            : (this.scope.rzSliderModel = this.lowValue);
                        },
                        applyHighValue: function () {
                          this.options.stepsArray
                            ? this.options.bindIndexForStepsArray
                              ? (this.scope.rzSliderHigh = this.highValue)
                              : (this.scope.rzSliderHigh = this.getStepValue(
                                this.highValue
                              ))
                            : (this.scope.rzSliderHigh = this.highValue);
                        },
                        onLowHandleChange: function () {
                          this.syncLowValue(),
                            this.range && this.syncHighValue(),
                            this.setMinAndMax(),
                            this.updateLowHandle(
                              this.valueToPosition(this.lowValue)
                            ),
                            this.updateSelectionBar(),
                            this.updateTicksScale(),
                            this.updateAriaAttributes(),
                            this.range && this.updateCmbLabel();
                        },
                        onHighHandleChange: function () {
                          this.syncLowValue(),
                            this.syncHighValue(),
                            this.setMinAndMax(),
                            this.updateHighHandle(
                              this.valueToPosition(this.highValue)
                            ),
                            this.updateSelectionBar(),
                            this.updateTicksScale(),
                            this.updateCmbLabel(),
                            this.updateAriaAttributes();
                        },
                        applyOptions: function () {
                          var t;
                          (t = this.scope.rzSliderOptions
                            ? this.scope.rzSliderOptions()
                            : {}),
                            (this.options = r.getOptions(t)),
                            this.options.step <= 0 && (this.options.step = 1),
                            (this.range =
                              void 0 !== this.scope.rzSliderModel &&
                              void 0 !== this.scope.rzSliderHigh),
                            (this.options.draggableRange =
                              this.range && this.options.draggableRange),
                            (this.options.draggableRangeOnly =
                              this.range && this.options.draggableRangeOnly),
                            this.options.draggableRangeOnly &&
                            (this.options.draggableRange = !0),
                            (this.options.showTicks =
                              this.options.showTicks ||
                              this.options.showTicksValues ||
                              !!this.options.ticksArray),
                            (this.scope.showTicks = this.options.showTicks),
                            (e.isNumber(this.options.showTicks) ||
                              this.options.ticksArray) &&
                            (this.intermediateTicks = !0),
                            (this.options.showSelectionBar =
                              this.options.showSelectionBar ||
                              this.options.showSelectionBarEnd ||
                              null !== this.options.showSelectionBarFromValue),
                            this.options.stepsArray
                              ? this.parseStepsArray()
                              : (this.options.translate
                                ? (this.customTrFn = this.options.translate)
                                : (this.customTrFn = function (e) {
                                  return String(e);
                                }),
                                (this.getLegend = this.options.getLegend)),
                            this.options.vertical &&
                            ((this.positionProperty = "bottom"),
                              (this.dimensionProperty = "height")),
                            this.options.customTemplateScope &&
                            (this.scope.custom =
                              this.options.customTemplateScope);
                        },
                        parseStepsArray: function () {
                          (this.options.floor = 0),
                            (this.options.ceil =
                              this.options.stepsArray.length - 1),
                            (this.options.step = 1),
                            this.options.translate
                              ? (this.customTrFn = this.options.translate)
                              : (this.customTrFn = function (e) {
                                return this.options.bindIndexForStepsArray
                                  ? this.getStepValue(e)
                                  : e;
                              }),
                            (this.getLegend = function (t) {
                              var i = this.options.stepsArray[t];
                              return e.isObject(i) ? i.legend : null;
                            });
                        },
                        resetSlider: function () {
                          this.manageElementsStyle(),
                            this.addAccessibility(),
                            this.setMinAndMax(),
                            this.updateCeilLab(),
                            this.updateFloorLab(),
                            this.unbindEvents(),
                            this.manageEventsBindings(),
                            this.setDisabledState(),
                            this.calcViewDimensions(),
                            this.updateRestrictionBar(),
                            this.refocusPointerIfNeeded();
                        },
                        refocusPointerIfNeeded: function () {
                          this.currentFocusElement &&
                            (this.onPointerFocus(
                              this.currentFocusElement.pointer,
                              this.currentFocusElement.ref
                            ),
                              this.focusElement(
                                this.currentFocusElement.pointer
                              ));
                        },
                        initElemHandles: function () {
                          e.forEach(
                            this.sliderElem.children(),
                            function (t, i) {
                              var n = e.element(t);
                              switch (i) {
                                case 0:
                                  this.leftOutSelBar = n;
                                  break;
                                case 1:
                                  this.rightOutSelBar = n;
                                  break;
                                case 2:
                                  this.fullBar = n;
                                  break;
                                case 3:
                                  this.selBar = n;
                                  break;
                                case 4:
                                  this.restrictedBar = n;
                                  break;
                                case 5:
                                  this.minH = n;
                                  break;
                                case 6:
                                  this.maxH = n;
                                  break;
                                case 7:
                                  this.flrLab = n;
                                  break;
                                case 8:
                                  this.ceilLab = n;
                                  break;
                                case 9:
                                  this.minLab = n;
                                  break;
                                case 10:
                                  this.maxLab = n;
                                  break;
                                case 11:
                                  this.cmbLab = n;
                                  break;
                                case 12:
                                  this.ticks = n;
                              }
                            },
                            this
                          ),
                            (this.selBar.rzsp = 0),
                            (this.minH.rzsp = 0),
                            (this.maxH.rzsp = 0),
                            (this.flrLab.rzsp = 0),
                            (this.ceilLab.rzsp = 0),
                            (this.minLab.rzsp = 0),
                            (this.maxLab.rzsp = 0),
                            (this.cmbLab.rzsp = 0);
                        },
                        manageElementsStyle: function () {
                          this.range
                            ? this.maxH.css("display", "")
                            : this.maxH.css("display", "none"),
                            this.alwaysHide(
                              this.flrLab,
                              this.options.showTicksValues ||
                              this.options.hideLimitLabels
                            ),
                            this.alwaysHide(
                              this.ceilLab,
                              this.options.showTicksValues ||
                              this.options.hideLimitLabels
                            );
                          var e =
                            this.options.showTicksValues &&
                            !this.intermediateTicks;
                          this.alwaysHide(
                            this.minLab,
                            e || this.options.hidePointerLabels
                          ),
                            this.alwaysHide(
                              this.maxLab,
                              e || !this.range || this.options.hidePointerLabels
                            ),
                            this.alwaysHide(
                              this.cmbLab,
                              e || !this.range || this.options.hidePointerLabels
                            ),
                            this.alwaysHide(
                              this.selBar,
                              !this.range && !this.options.showSelectionBar
                            ),
                            this.alwaysHide(
                              this.leftOutSelBar,
                              !this.range ||
                              !this.options.showOuterSelectionBars
                            ),
                            this.alwaysHide(
                              this.restrictedBar,
                              !this.options.restrictedRange
                            ),
                            this.alwaysHide(
                              this.rightOutSelBar,
                              !this.range ||
                              !this.options.showOuterSelectionBars
                            ),
                            this.range &&
                            this.options.showOuterSelectionBars &&
                            this.fullBar.addClass("rz-transparent"),
                            this.options.vertical &&
                            this.sliderElem.addClass("rz-vertical"),
                            this.options.draggableRange
                              ? this.selBar.addClass("rz-draggable")
                              : this.selBar.removeClass("rz-draggable"),
                            this.intermediateTicks &&
                            this.options.showTicksValues &&
                            this.ticks.addClass("rz-ticks-values-under");
                        },
                        alwaysHide: function (e, t) {
                          (e.rzAlwaysHide = t),
                            t ? this.hideEl(e) : this.showEl(e);
                        },
                        manageEventsBindings: function () {
                          this.options.disabled || this.options.readOnly
                            ? this.unbindEvents()
                            : this.bindEvents();
                        },
                        setDisabledState: function () {
                          this.options.disabled
                            ? this.sliderElem.attr("disabled", "disabled")
                            : this.sliderElem.attr("disabled", null);
                        },
                        resetLabelsValue: function () {
                          (this.minLab.rzsv = void 0),
                            (this.maxLab.rzsv = void 0);
                        },
                        initHandles: function () {
                          this.updateLowHandle(
                            this.valueToPosition(this.lowValue)
                          ),
                            this.range &&
                            this.updateHighHandle(
                              this.valueToPosition(this.highValue)
                            ),
                            this.updateSelectionBar(),
                            this.range && this.updateCmbLabel(),
                            this.updateTicksScale();
                        },
                        translateFn: function (e, t, i, n) {
                          n = void 0 === n || n;
                          var o = "",
                            r = !1,
                            a = t.hasClass("no-label-injection");
                          n
                            ? (this.options.stepsArray &&
                              !this.options.bindIndexForStepsArray &&
                              (e = this.getStepValue(e)),
                              (o = String(
                                this.customTrFn(e, this.options.id, i)
                              )))
                            : (o = String(e)),
                            (void 0 === t.rzsv ||
                              t.rzsv.length !== o.length ||
                              (t.rzsv.length > 0 && 0 === t.rzsd)) &&
                            ((r = !0), (t.rzsv = o)),
                            a || t.html(o),
                            (this.scope[i + "Label"] = o),
                            r && this.getDimension(t);
                        },
                        setMinAndMax: function () {
                          if (
                            ((this.step = +this.options.step),
                              (this.precision = +this.options.precision),
                              (this.minValue = this.options.floor),
                              this.options.logScale && 0 === this.minValue)
                          )
                            throw Error(
                              "Can't use floor=0 with logarithmic scale"
                            );
                          this.options.enforceStep &&
                            ((this.lowValue = this.roundStep(this.lowValue)),
                              this.range &&
                              (this.highValue = this.roundStep(
                                this.highValue
                              ))),
                            null != this.options.ceil
                              ? (this.maxValue = this.options.ceil)
                              : (this.maxValue = this.options.ceil =
                                this.range ? this.highValue : this.lowValue),
                            this.options.enforceRange &&
                            ((this.lowValue = this.sanitizeValue(
                              this.lowValue
                            )),
                              this.range &&
                              (this.highValue = this.sanitizeValue(
                                this.highValue
                              ))),
                            this.applyLowValue(),
                            this.range && this.applyHighValue(),
                            (this.valueRange = this.maxValue - this.minValue);
                        },
                        addAccessibility: function () {
                          this.minH.attr("role", "slider"),
                            this.updateAriaAttributes(),
                            !this.options.keyboardSupport ||
                              this.options.readOnly ||
                              this.options.disabled
                              ? this.minH.attr("tabindex", "")
                              : this.minH.attr("tabindex", "0"),
                            this.options.vertical &&
                            this.minH.attr("aria-orientation", "vertical"),
                            this.options.ariaLabel
                              ? this.minH.attr(
                                "aria-label",
                                this.options.ariaLabel
                              )
                              : this.options.ariaLabelledBy &&
                              this.minH.attr(
                                "aria-labelledby",
                                this.options.ariaLabelledBy
                              ),
                            this.range &&
                            (this.maxH.attr("role", "slider"),
                              !this.options.keyboardSupport ||
                                this.options.readOnly ||
                                this.options.disabled
                                ? this.maxH.attr("tabindex", "")
                                : this.maxH.attr("tabindex", "0"),
                              this.options.vertical &&
                              this.maxH.attr("aria-orientation", "vertical"),
                              this.options.ariaLabelHigh
                                ? this.maxH.attr(
                                  "aria-label",
                                  this.options.ariaLabelHigh
                                )
                                : this.options.ariaLabelledByHigh &&
                                this.maxH.attr(
                                  "aria-labelledby",
                                  this.options.ariaLabelledByHigh
                                ));
                        },
                        updateAriaAttributes: function () {
                          this.minH.attr({
                            "aria-valuenow": this.scope.rzSliderModel,
                            "aria-valuetext": this.customTrFn(
                              this.scope.rzSliderModel,
                              this.options.id,
                              "model"
                            ),
                            "aria-valuemin": this.minValue,
                            "aria-valuemax": this.maxValue,
                          }),
                            this.range &&
                            this.maxH.attr({
                              "aria-valuenow": this.scope.rzSliderHigh,
                              "aria-valuetext": this.customTrFn(
                                this.scope.rzSliderHigh,
                                this.options.id,
                                "high"
                              ),
                              "aria-valuemin": this.minValue,
                              "aria-valuemax": this.maxValue,
                            });
                        },
                        calcViewDimensions: function () {
                          var e = this.getDimension(this.minH);
                          if (
                            ((this.handleHalfDim = e / 2),
                              (this.barDimension = this.getDimension(
                                this.fullBar
                              )),
                              (this.maxPos = this.barDimension - e),
                              this.getDimension(this.sliderElem),
                              (this.sliderElem.rzsp =
                                this.sliderElem[0].getBoundingClientRect()[
                                this.positionProperty
                                ]),
                              this.initHasRun)
                          ) {
                            this.updateFloorLab(),
                              this.updateCeilLab(),
                              this.initHandles();
                            var i = this;
                            t(function () {
                              i.updateTicksScale();
                            });
                          }
                        },
                        updateTicksScale: function () {
                          if (this.options.showTicks) {
                            var t =
                              this.options.ticksArray || this.getTicksArray(),
                              i = this.options.vertical
                                ? "translateY"
                                : "translateX",
                              n = this;
                            this.options.rightToLeft && t.reverse(),
                              (this.scope.ticks = t.map(function (t) {
                                var o = null;
                                e.isObject(t) &&
                                  ((o = t.legend), (t = t.value));
                                var r = n.valueToPosition(t);
                                n.options.vertical && (r = n.maxPos - r);
                                var a = i + "(" + Math.round(r) + "px)",
                                  s = {
                                    legend: o,
                                    selected: n.isTickSelected(t),
                                    style: {
                                      "-webkit-transform": a,
                                      "-moz-transform": a,
                                      "-o-transform": a,
                                      "-ms-transform": a,
                                      transform: a,
                                    },
                                  };
                                return (
                                  s.selected &&
                                  n.options.getSelectionBarColor &&
                                  (s.style["background-color"] =
                                    n.getSelectionBarColor()),
                                  !s.selected &&
                                  n.options.getTickColor &&
                                  (s.style["background-color"] =
                                    n.getTickColor(t)),
                                  n.options.ticksTooltip &&
                                  ((s.tooltip = n.options.ticksTooltip(t)),
                                    (s.tooltipPlacement = n.options.vertical
                                      ? "right"
                                      : "top")),
                                  (!0 !== n.options.showTicksValues &&
                                    t % n.options.showTicksValues != 0) ||
                                  ((s.value = n.getDisplayValue(
                                    t,
                                    "tick-value"
                                  )),
                                    n.options.ticksValuesTooltip &&
                                    ((s.valueTooltip =
                                      n.options.ticksValuesTooltip(t)),
                                      (s.valueTooltipPlacement = n.options
                                        .vertical
                                        ? "right"
                                        : "top"))),
                                  n.getLegend &&
                                  (o = n.getLegend(t, n.options.id)) &&
                                  (s.legend = o),
                                  s
                                );
                              }));
                          }
                        },
                        getTicksArray: function () {
                          var e = this.step,
                            t = [];
                          this.intermediateTicks &&
                            (e = this.options.showTicks);
                          for (
                            var i = this.minValue;
                            i <= this.maxValue;
                            i += e
                          )
                            t.push(i);
                          return t;
                        },
                        isTickSelected: function (e) {
                          if (!this.range)
                            if (
                              null !== this.options.showSelectionBarFromValue
                            ) {
                              var t = this.options.showSelectionBarFromValue;
                              if (
                                this.lowValue > t &&
                                e >= t &&
                                e <= this.lowValue
                              )
                                return !0;
                              if (
                                this.lowValue < t &&
                                e <= t &&
                                e >= this.lowValue
                              )
                                return !0;
                            } else if (this.options.showSelectionBarEnd) {
                              if (e >= this.lowValue) return !0;
                            } else if (
                              this.options.showSelectionBar &&
                              e <= this.lowValue
                            )
                              return !0;
                          return !!(
                            this.range &&
                            e >= this.lowValue &&
                            e <= this.highValue
                          );
                        },
                        updateFloorLab: function () {
                          this.translateFn(this.minValue, this.flrLab, "floor"),
                            this.getDimension(this.flrLab);
                          var e = this.options.rightToLeft
                            ? this.barDimension - this.flrLab.rzsd
                            : 0;
                          this.setPosition(this.flrLab, e);
                        },
                        updateCeilLab: function () {
                          this.translateFn(this.maxValue, this.ceilLab, "ceil"),
                            this.getDimension(this.ceilLab);
                          var e = this.options.rightToLeft
                            ? 0
                            : this.barDimension - this.ceilLab.rzsd;
                          this.setPosition(this.ceilLab, e);
                        },
                        updateHandles: function (e, t) {
                          "lowValue" === e
                            ? this.updateLowHandle(t)
                            : this.updateHighHandle(t),
                            this.updateSelectionBar(),
                            this.updateTicksScale(),
                            this.range && this.updateCmbLabel();
                        },
                        getHandleLabelPos: function (e, t) {
                          var i = this[e].rzsd,
                            n = t - i / 2 + this.handleHalfDim,
                            o = this.barDimension - i;
                          return this.options.boundPointerLabels
                            ? (this.options.rightToLeft && "minLab" === e) ||
                              (!this.options.rightToLeft && "maxLab" === e)
                              ? Math.min(n, o)
                              : Math.min(Math.max(n, 0), o)
                            : n;
                        },
                        updateLowHandle: function (e) {
                          if (
                            (this.setPosition(this.minH, e),
                              this.translateFn(
                                this.lowValue,
                                this.minLab,
                                "model"
                              ),
                              this.setPosition(
                                this.minLab,
                                this.getHandleLabelPos("minLab", e)
                              ),
                              this.options.getPointerColor)
                          ) {
                            var t = this.getPointerColor("min");
                            this.scope.minPointerStyle = { backgroundColor: t };
                          }
                          this.options.autoHideLimitLabels &&
                            this.shFloorCeil();
                        },
                        updateHighHandle: function (e) {
                          if (
                            (this.setPosition(this.maxH, e),
                              this.translateFn(
                                this.highValue,
                                this.maxLab,
                                "high"
                              ),
                              this.setPosition(
                                this.maxLab,
                                this.getHandleLabelPos("maxLab", e)
                              ),
                              this.options.getPointerColor)
                          ) {
                            var t = this.getPointerColor("max");
                            this.scope.maxPointerStyle = { backgroundColor: t };
                          }
                          this.options.autoHideLimitLabels &&
                            this.shFloorCeil();
                        },
                        shFloorCeil: function () {
                          if (!this.options.hidePointerLabels) {
                            var e = !1,
                              t = !1,
                              i = this.isLabelBelowFloorLab(this.minLab),
                              n = this.isLabelAboveCeilLab(this.minLab),
                              o = this.isLabelAboveCeilLab(this.maxLab),
                              r = this.isLabelBelowFloorLab(this.cmbLab),
                              a = this.isLabelAboveCeilLab(this.cmbLab);
                            if (
                              (i
                                ? ((e = !0), this.hideEl(this.flrLab))
                                : ((e = !1), this.showEl(this.flrLab)),
                                n
                                  ? ((t = !0), this.hideEl(this.ceilLab))
                                  : ((t = !1), this.showEl(this.ceilLab)),
                                this.range)
                            ) {
                              var s = this.cmbLabelShown ? a : o,
                                l = this.cmbLabelShown ? r : i;
                              s
                                ? this.hideEl(this.ceilLab)
                                : t || this.showEl(this.ceilLab),
                                l
                                  ? this.hideEl(this.flrLab)
                                  : e || this.showEl(this.flrLab);
                            }
                          }
                        },
                        isLabelBelowFloorLab: function (e) {
                          var t = this.options.rightToLeft,
                            i = e.rzsp,
                            n = e.rzsd,
                            o = this.flrLab.rzsp,
                            r = this.flrLab.rzsd;
                          return t ? i + n >= o - 2 : i <= o + r + 2;
                        },
                        isLabelAboveCeilLab: function (e) {
                          var t = this.options.rightToLeft,
                            i = e.rzsp,
                            n = e.rzsd,
                            o = this.ceilLab.rzsp,
                            r = this.ceilLab.rzsd;
                          return t ? i <= o + r + 2 : i + n >= o - 2;
                        },
                        updateRestrictionBar: function () {
                          var e = 0,
                            t = 0;
                          if (this.options.restrictedRange) {
                            var i = this.valueToPosition(
                              this.options.restrictedRange.from
                            ),
                              n = this.valueToPosition(
                                this.options.restrictedRange.to
                              );
                            (t = Math.abs(n - i)),
                              (e = this.options.rightToLeft
                                ? n + this.handleHalfDim
                                : i + this.handleHalfDim),
                              this.setDimension(this.restrictedBar, t),
                              this.setPosition(this.restrictedBar, e);
                          }
                        },
                        updateSelectionBar: function () {
                          var e = 0,
                            t = 0,
                            i = this.options.rightToLeft
                              ? !this.options.showSelectionBarEnd
                              : this.options.showSelectionBarEnd,
                            n = this.options.rightToLeft
                              ? this.maxH.rzsp + this.handleHalfDim
                              : this.minH.rzsp + this.handleHalfDim;
                          if (this.range)
                            (t = Math.abs(this.maxH.rzsp - this.minH.rzsp)),
                              (e = n);
                          else if (
                            null !== this.options.showSelectionBarFromValue
                          ) {
                            var o = this.options.showSelectionBarFromValue,
                              r = this.valueToPosition(o);
                            (
                              this.options.rightToLeft
                                ? this.lowValue <= o
                                : this.lowValue > o
                            )
                              ? ((t = this.minH.rzsp - r),
                                (e = r + this.handleHalfDim))
                              : ((t = r - this.minH.rzsp),
                                (e = this.minH.rzsp + this.handleHalfDim));
                          } else
                            i
                              ? ((t =
                                Math.abs(this.maxPos - this.minH.rzsp) +
                                this.handleHalfDim),
                                (e = this.minH.rzsp + this.handleHalfDim))
                              : ((t = this.minH.rzsp + this.handleHalfDim),
                                (e = 0));
                          if (
                            (this.setDimension(this.selBar, t),
                              this.setPosition(this.selBar, e),
                              this.range &&
                              this.options.showOuterSelectionBars &&
                              (this.options.rightToLeft
                                ? (this.setDimension(this.rightOutSelBar, e),
                                  this.setPosition(this.rightOutSelBar, 0),
                                  this.setDimension(
                                    this.leftOutSelBar,
                                    this.getDimension(this.fullBar) - (e + t)
                                  ),
                                  this.setPosition(this.leftOutSelBar, e + t))
                                : (this.setDimension(this.leftOutSelBar, e),
                                  this.setPosition(this.leftOutSelBar, 0),
                                  this.setDimension(
                                    this.rightOutSelBar,
                                    this.getDimension(this.fullBar) - (e + t)
                                  ),
                                  this.setPosition(
                                    this.rightOutSelBar,
                                    e + t
                                  ))),
                              this.options.getSelectionBarColor)
                          ) {
                            var a = this.getSelectionBarColor();
                            this.scope.barStyle = { backgroundColor: a };
                          } else if (this.options.selectionBarGradient) {
                            var s =
                              null !== this.options.showSelectionBarFromValue
                                ? this.valueToPosition(
                                  this.options.showSelectionBarFromValue
                                )
                                : 0,
                              l = (s - e > 0) ^ i,
                              c = this.options.vertical
                                ? l
                                  ? "bottom"
                                  : "top"
                                : l
                                  ? "left"
                                  : "right";
                            (this.scope.barStyle = {
                              backgroundImage:
                                "linear-gradient(to " +
                                c +
                                ", " +
                                this.options.selectionBarGradient.from +
                                " 0%," +
                                this.options.selectionBarGradient.to +
                                " 100%)",
                            }),
                              this.options.vertical
                                ? ((this.scope.barStyle.backgroundPosition =
                                  "center " +
                                  (s +
                                    t +
                                    e +
                                    (l ? -this.handleHalfDim : 0)) +
                                  "px"),
                                  (this.scope.barStyle.backgroundSize =
                                    "100% " +
                                    (this.barDimension - this.handleHalfDim) +
                                    "px"))
                                : ((this.scope.barStyle.backgroundPosition =
                                  s -
                                  e +
                                  (l ? this.handleHalfDim : 0) +
                                  "px center"),
                                  (this.scope.barStyle.backgroundSize =
                                    this.barDimension -
                                    this.handleHalfDim +
                                    "px 100%"));
                          }
                        },
                        getSelectionBarColor: function () {
                          return this.range
                            ? this.options.getSelectionBarColor(
                              this.scope.rzSliderModel,
                              this.scope.rzSliderHigh
                            )
                            : this.options.getSelectionBarColor(
                              this.scope.rzSliderModel
                            );
                        },
                        getPointerColor: function (e) {
                          return "max" === e
                            ? this.options.getPointerColor(
                              this.scope.rzSliderHigh,
                              e
                            )
                            : this.options.getPointerColor(
                              this.scope.rzSliderModel,
                              e
                            );
                        },
                        getTickColor: function (e) {
                          return this.options.getTickColor(e);
                        },
                        updateCmbLabel: function () {
                          if (
                            this.options.rightToLeft
                              ? this.minLab.rzsp - this.minLab.rzsd - 10 <=
                              this.maxLab.rzsp
                              : this.minLab.rzsp + this.minLab.rzsd + 10 >=
                              this.maxLab.rzsp
                          ) {
                            var e = this.getDisplayValue(
                              this.lowValue,
                              "model"
                            ),
                              t = this.getDisplayValue(this.highValue, "high"),
                              i = "";
                            (i =
                              this.options.mergeRangeLabelsIfSame && e === t
                                ? e
                                : this.options.rightToLeft
                                  ? t + this.options.labelOverlapSeparator + e
                                  : e + this.options.labelOverlapSeparator + t),
                              this.translateFn(i, this.cmbLab, "cmb", !1);
                            var n = this.options.boundPointerLabels
                              ? Math.min(
                                Math.max(
                                  this.selBar.rzsp +
                                  this.selBar.rzsd / 2 -
                                  this.cmbLab.rzsd / 2,
                                  0
                                ),
                                this.barDimension - this.cmbLab.rzsd
                              )
                              : this.selBar.rzsp +
                              this.selBar.rzsd / 2 -
                              this.cmbLab.rzsd / 2;
                            this.setPosition(this.cmbLab, n),
                              (this.cmbLabelShown = !0),
                              this.hideEl(this.minLab),
                              this.hideEl(this.maxLab),
                              this.showEl(this.cmbLab);
                          } else
                            (this.cmbLabelShown = !1),
                              this.updateHighHandle(
                                this.valueToPosition(this.highValue)
                              ),
                              this.updateLowHandle(
                                this.valueToPosition(this.lowValue)
                              ),
                              this.showEl(this.maxLab),
                              this.showEl(this.minLab),
                              this.hideEl(this.cmbLab);
                          this.options.autoHideLimitLabels &&
                            this.shFloorCeil();
                        },
                        getDisplayValue: function (e, t) {
                          return (
                            this.options.stepsArray &&
                            !this.options.bindIndexForStepsArray &&
                            (e = this.getStepValue(e)),
                            this.customTrFn(e, this.options.id, t)
                          );
                        },
                        roundStep: function (e, t) {
                          var i = t || this.step,
                            n = parseFloat((e - this.minValue) / i).toPrecision(
                              12
                            );
                          return (
                            (n = Math.round(+n) * i),
                            +(this.minValue + n).toFixed(this.precision)
                          );
                        },
                        hideEl: function (e) {
                          return e.css({ visibility: "hidden" });
                        },
                        showEl: function (e) {
                          return e.rzAlwaysHide
                            ? e
                            : e.css({ visibility: "visible" });
                        },
                        setPosition: function (e, t) {
                          e.rzsp = t;
                          var i = {};
                          return (
                            (i[this.positionProperty] = Math.round(t) + "px"),
                            e.css(i),
                            t
                          );
                        },
                        getDimension: function (e) {
                          var t = e[0].getBoundingClientRect();
                          return (
                            this.options.vertical
                              ? (e.rzsd =
                                (t.bottom - t.top) * this.options.scale)
                              : (e.rzsd =
                                (t.right - t.left) * this.options.scale),
                            e.rzsd
                          );
                        },
                        setDimension: function (e, t) {
                          e.rzsd = t;
                          var i = {};
                          return (
                            (i[this.dimensionProperty] = Math.round(t) + "px"),
                            e.css(i),
                            t
                          );
                        },
                        sanitizeValue: function (e) {
                          return Math.min(
                            Math.max(e, this.minValue),
                            this.maxValue
                          );
                        },
                        valueToPosition: function (e) {
                          var t = this.linearValueToPosition;
                          this.options.customValueToPosition
                            ? (t = this.options.customValueToPosition)
                            : this.options.logScale &&
                            (t = this.logValueToPosition);
                          var i =
                            t(
                              (e = this.sanitizeValue(e)),
                              this.minValue,
                              this.maxValue
                            ) || 0;
                          return (
                            this.options.rightToLeft && (i = 1 - i),
                            i * this.maxPos
                          );
                        },
                        linearValueToPosition: function (e, t, i) {
                          return (e - t) / (i - t);
                        },
                        logValueToPosition: function (e, t, i) {
                          return (
                            ((e = Math.log(e)) - (t = Math.log(t))) /
                            ((i = Math.log(i)) - t)
                          );
                        },
                        positionToValue: function (e) {
                          var t = e / this.maxPos;
                          this.options.rightToLeft && (t = 1 - t);
                          var i = this.linearPositionToValue;
                          return (
                            this.options.customPositionToValue
                              ? (i = this.options.customPositionToValue)
                              : this.options.logScale &&
                              (i = this.logPositionToValue),
                            i(t, this.minValue, this.maxValue) || 0
                          );
                        },
                        linearPositionToValue: function (e, t, i) {
                          return e * (i - t) + t;
                        },
                        logPositionToValue: function (e, t, i) {
                          t = Math.log(t);
                          var n = e * ((i = Math.log(i)) - t) + t;
                          return Math.exp(n);
                        },
                        getEventAttr: function (e, t) {
                          return void 0 === e.originalEvent
                            ? e[t]
                            : e.originalEvent[t];
                        },
                        getEventXY: function (e, t) {
                          var i = this.options.vertical ? "clientY" : "clientX";
                          if (void 0 !== e[i]) return e[i];
                          var n = this.getEventAttr(e, "touches");
                          if (void 0 !== t)
                            for (var o = 0; o < n.length; o++)
                              if (n[o].identifier === t) return n[o][i];
                          return n[0][i];
                        },
                        getEventPosition: function (e, t) {
                          var i = this.sliderElem.rzsp;
                          return (
                            (this.options.vertical
                              ? -this.getEventXY(e, t) + i
                              : this.getEventXY(e, t) - i) *
                            this.options.scale -
                            this.handleHalfDim
                          );
                        },
                        getEventNames: function (e) {
                          var t = { moveEvent: "", endEvent: "" };
                          return (
                            this.getEventAttr(e, "touches")
                              ? ((t.moveEvent = "touchmove"),
                                (t.endEvent = "touchend"))
                              : ((t.moveEvent = "mousemove"),
                                (t.endEvent = "mouseup")),
                            t
                          );
                        },
                        getNearestHandle: function (e) {
                          if (!this.range) return this.minH;
                          var t = this.getEventPosition(e),
                            i = Math.abs(t - this.minH.rzsp),
                            n = Math.abs(t - this.maxH.rzsp);
                          return i < n
                            ? this.minH
                            : i > n
                              ? this.maxH
                              : this.options.rightToLeft
                                ? t > this.minH.rzsp
                                  ? this.minH
                                  : this.maxH
                                : t < this.minH.rzsp
                                  ? this.minH
                                  : this.maxH;
                        },
                        focusElement: function (e) {
                          e[0].focus();
                        },
                        bindEvents: function () {
                          var t, i, n;
                          this.options.draggableRange
                            ? ((t = "rzSliderDrag"),
                              (i = this.onDragStart),
                              (n = this.onDragMove))
                            : ((t = "lowValue"),
                              (i = this.onStart),
                              (n = this.onMove)),
                            this.options.onlyBindHandles ||
                            (this.selBar.on(
                              "mousedown",
                              e.bind(this, i, null, t)
                            ),
                              this.selBar.on(
                                "mousedown",
                                e.bind(this, n, this.selBar)
                              )),
                            this.options.draggableRangeOnly
                              ? (this.minH.on(
                                "mousedown",
                                e.bind(this, i, null, t)
                              ),
                                this.maxH.on(
                                  "mousedown",
                                  e.bind(this, i, null, t)
                                ))
                              : (this.minH.on(
                                "mousedown",
                                e.bind(
                                  this,
                                  this.onStart,
                                  this.minH,
                                  "lowValue"
                                )
                              ),
                                this.range &&
                                this.maxH.on(
                                  "mousedown",
                                  e.bind(
                                    this,
                                    this.onStart,
                                    this.maxH,
                                    "highValue"
                                  )
                                ),
                                this.options.onlyBindHandles ||
                                (this.fullBar.on(
                                  "mousedown",
                                  e.bind(this, this.onStart, null, null)
                                ),
                                  this.fullBar.on(
                                    "mousedown",
                                    e.bind(this, this.onMove, this.fullBar)
                                  ),
                                  this.ticks.on(
                                    "mousedown",
                                    e.bind(this, this.onStart, null, null)
                                  ),
                                  this.ticks.on(
                                    "mousedown",
                                    e.bind(this, this.onTickClick, this.ticks)
                                  ))),
                            this.options.onlyBindHandles ||
                            (this.selBar.on(
                              "touchstart",
                              e.bind(this, i, null, t)
                            ),
                              this.selBar.on(
                                "touchstart",
                                e.bind(this, n, this.selBar)
                              )),
                            this.options.draggableRangeOnly
                              ? (this.minH.on(
                                "touchstart",
                                e.bind(this, i, null, t)
                              ),
                                this.maxH.on(
                                  "touchstart",
                                  e.bind(this, i, null, t)
                                ))
                              : (this.minH.on(
                                "touchstart",
                                e.bind(
                                  this,
                                  this.onStart,
                                  this.minH,
                                  "lowValue"
                                )
                              ),
                                this.range &&
                                this.maxH.on(
                                  "touchstart",
                                  e.bind(
                                    this,
                                    this.onStart,
                                    this.maxH,
                                    "highValue"
                                  )
                                ),
                                this.options.onlyBindHandles ||
                                (this.fullBar.on(
                                  "touchstart",
                                  e.bind(this, this.onStart, null, null)
                                ),
                                  this.fullBar.on(
                                    "touchstart",
                                    e.bind(this, this.onMove, this.fullBar)
                                  ),
                                  this.ticks.on(
                                    "touchstart",
                                    e.bind(this, this.onStart, null, null)
                                  ),
                                  this.ticks.on(
                                    "touchstart",
                                    e.bind(this, this.onTickClick, this.ticks)
                                  ))),
                            this.options.keyboardSupport &&
                            (this.minH.on(
                              "focus",
                              e.bind(
                                this,
                                this.onPointerFocus,
                                this.minH,
                                "lowValue"
                              )
                            ),
                              this.range &&
                              this.maxH.on(
                                "focus",
                                e.bind(
                                  this,
                                  this.onPointerFocus,
                                  this.maxH,
                                  "highValue"
                                )
                              ));
                        },
                        unbindEvents: function () {
                          this.minH.off(),
                            this.maxH.off(),
                            this.fullBar.off(),
                            this.selBar.off(),
                            this.ticks.off();
                        },
                        onStart: function (t, n, o) {
                          var r,
                            a,
                            s = this.getEventNames(o);
                          o.stopPropagation(),
                            o.preventDefault(),
                            this.calcViewDimensions(),
                            t
                              ? (this.tracking = n)
                              : ((t = this.getNearestHandle(o)),
                                (this.tracking =
                                  t === this.minH ? "lowValue" : "highValue")),
                            t.addClass("rz-active"),
                            this.options.keyboardSupport &&
                            this.focusElement(t),
                            (r = e.bind(
                              this,
                              this.dragging.active
                                ? this.onDragMove
                                : this.onMove,
                              t
                            )),
                            (a = e.bind(this, this.onEnd, r)),
                            i.on(s.moveEvent, r),
                            i.on(s.endEvent, a),
                            (this.endHandlerToBeRemovedOnEnd = a),
                            this.callOnStart();
                          var l = this.getEventAttr(o, "changedTouches");
                          l &&
                            (this.touchId ||
                              ((this.isDragging = !0),
                                (this.touchId = l[0].identifier)));
                        },
                        onMove: function (t, i, n) {
                          var o,
                            r = this.getEventAttr(i, "changedTouches");
                          if (r)
                            for (var a = 0; a < r.length; a++)
                              if (r[a].identifier === this.touchId) {
                                o = r[a];
                                break;
                              }
                          if (!r || o) {
                            var s,
                              l = this.getEventPosition(
                                i,
                                o ? o.identifier : void 0
                              ),
                              c = this.options.rightToLeft
                                ? this.minValue
                                : this.maxValue,
                              u = this.options.rightToLeft
                                ? this.maxValue
                                : this.minValue;
                            l <= 0
                              ? (s = u)
                              : l >= this.maxPos
                                ? (s = c)
                                : ((s = this.positionToValue(l)),
                                  (s =
                                    n && e.isNumber(this.options.showTicks)
                                      ? this.roundStep(s, this.options.showTicks)
                                      : this.roundStep(s))),
                              this.positionTrackingHandle(s);
                          }
                        },
                        onEnd: function (e, t) {
                          var n = this.getEventAttr(t, "changedTouches");
                          if (!n || n[0].identifier === this.touchId) {
                            (this.isDragging = !1),
                              (this.touchId = null),
                              this.options.keyboardSupport ||
                              (this.minH.removeClass("rz-active"),
                                this.maxH.removeClass("rz-active"),
                                (this.tracking = "")),
                              (this.dragging.active = !1);
                            var o = this.getEventNames(t);
                            i.off(o.moveEvent, e),
                              i.off(
                                o.endEvent,
                                this.endHandlerToBeRemovedOnEnd
                              ),
                              (this.endHandlerToBeRemovedOnEnd = null),
                              this.callOnEnd();
                          }
                        },
                        onTickClick: function (e, t) {
                          this.onMove(e, t, !0);
                        },
                        onPointerFocus: function (t, i) {
                          (this.tracking = i),
                            t.one("blur", e.bind(this, this.onPointerBlur, t)),
                            t.on("keydown", e.bind(this, this.onKeyboardEvent)),
                            t.on("keyup", e.bind(this, this.onKeyUp)),
                            (this.firstKeyDown = !0),
                            t.addClass("rz-active"),
                            (this.currentFocusElement = { pointer: t, ref: i });
                        },
                        onKeyUp: function () {
                          (this.firstKeyDown = !0), this.callOnEnd();
                        },
                        onPointerBlur: function (e) {
                          e.off("keydown"),
                            e.off("keyup"),
                            e.removeClass("rz-active"),
                            this.isDragging ||
                            ((this.tracking = ""),
                              (this.currentFocusElement = null));
                        },
                        getKeyActions: function (e) {
                          var t = e + this.step,
                            i = e - this.step,
                            n = e + this.valueRange / 10,
                            o = e - this.valueRange / 10;
                          this.options.reversedControls &&
                            ((t = e - this.step),
                              (i = e + this.step),
                              (n = e - this.valueRange / 10),
                              (o = e + this.valueRange / 10));
                          var r = {
                            UP: t,
                            DOWN: i,
                            LEFT: i,
                            RIGHT: t,
                            PAGEUP: n,
                            PAGEDOWN: o,
                            HOME: this.options.reversedControls
                              ? this.maxValue
                              : this.minValue,
                            END: this.options.reversedControls
                              ? this.minValue
                              : this.maxValue,
                          };
                          return (
                            this.options.rightToLeft &&
                            ((r.LEFT = t),
                              (r.RIGHT = i),
                              this.options.vertical &&
                              ((r.UP = i), (r.DOWN = t))),
                            r
                          );
                        },
                        onKeyboardEvent: function (e) {
                          var i = this[this.tracking],
                            n = e.keyCode || e.which,
                            o =
                              this.getKeyActions(i)[
                              {
                                38: "UP",
                                40: "DOWN",
                                37: "LEFT",
                                39: "RIGHT",
                                33: "PAGEUP",
                                34: "PAGEDOWN",
                                36: "HOME",
                                35: "END",
                              }[n]
                              ];
                          if (null != o && "" !== this.tracking) {
                            e.preventDefault(),
                              this.firstKeyDown &&
                              ((this.firstKeyDown = !1), this.callOnStart());
                            var r = this;
                            t(function () {
                              var e = r.roundStep(r.sanitizeValue(o));
                              if (r.options.draggableRangeOnly) {
                                var t,
                                  i,
                                  n = r.highValue - r.lowValue;
                                "lowValue" === r.tracking
                                  ? ((t = e),
                                    (i = e + n) > r.maxValue &&
                                    (t = (i = r.maxValue) - n))
                                  : ((i = e),
                                    (t = e - n) < r.minValue &&
                                    (i = (t = r.minValue) + n)),
                                  r.positionTrackingBar(t, i);
                              } else r.positionTrackingHandle(e);
                            });
                          }
                        },
                        onDragStart: function (e, t, i) {
                          var n = this.getEventPosition(i);
                          (this.dragging = {
                            active: !0,
                            value: this.positionToValue(n),
                            difference: this.highValue - this.lowValue,
                            lowLimit: this.options.rightToLeft
                              ? this.minH.rzsp - n
                              : n - this.minH.rzsp,
                            highLimit: this.options.rightToLeft
                              ? n - this.maxH.rzsp
                              : this.maxH.rzsp - n,
                          }),
                            this.onStart(e, t, i);
                        },
                        getValue: function (e, t, i, n) {
                          var o = this.options.rightToLeft,
                            r = null;
                          return (
                            (r =
                              "min" === e
                                ? i
                                  ? n
                                    ? o
                                      ? this.minValue
                                      : this.maxValue - this.dragging.difference
                                    : o
                                      ? this.maxValue - this.dragging.difference
                                      : this.minValue
                                  : o
                                    ? this.positionToValue(
                                      t + this.dragging.lowLimit
                                    )
                                    : this.positionToValue(
                                      t - this.dragging.lowLimit
                                    )
                                : i
                                  ? n
                                    ? o
                                      ? this.minValue + this.dragging.difference
                                      : this.maxValue
                                    : o
                                      ? this.maxValue
                                      : this.minValue + this.dragging.difference
                                  : o
                                    ? this.positionToValue(
                                      t + this.dragging.lowLimit
                                    ) + this.dragging.difference
                                    : this.positionToValue(
                                      t - this.dragging.lowLimit
                                    ) + this.dragging.difference),
                            this.roundStep(r)
                          );
                        },
                        onDragMove: function (e, t) {
                          var i,
                            n,
                            o,
                            r,
                            a,
                            s,
                            l,
                            c,
                            u = this.getEventPosition(t);
                          if (
                            (this.options.rightToLeft
                              ? ((o = this.dragging.lowLimit),
                                (r = this.dragging.highLimit),
                                (l = this.maxH),
                                (c = this.minH))
                              : ((o = this.dragging.highLimit),
                                (r = this.dragging.lowLimit),
                                (l = this.minH),
                                (c = this.maxH)),
                              (a = u <= r),
                              (s = u >= this.maxPos - o),
                              a)
                          ) {
                            if (0 === l.rzsp) return;
                            (i = this.getValue("min", u, !0, !1)),
                              (n = this.getValue("max", u, !0, !1));
                          } else if (s) {
                            if (c.rzsp === this.maxPos) return;
                            (n = this.getValue("max", u, !0, !0)),
                              (i = this.getValue("min", u, !0, !0));
                          } else
                            (i = this.getValue("min", u, !1)),
                              (n = this.getValue("max", u, !1));
                          this.positionTrackingBar(i, n);
                        },
                        positionTrackingBar: function (e, t) {
                          null != this.options.minLimit &&
                            e < this.options.minLimit &&
                            (t =
                              (e = this.options.minLimit) +
                              this.dragging.difference),
                            null != this.options.maxLimit &&
                            t > this.options.maxLimit &&
                            (e =
                              (t = this.options.maxLimit) -
                              this.dragging.difference),
                            (this.lowValue = e),
                            (this.highValue = t),
                            this.applyLowValue(),
                            this.range && this.applyHighValue(),
                            this.applyModel(!0),
                            this.updateHandles(
                              "lowValue",
                              this.valueToPosition(e)
                            ),
                            this.updateHandles(
                              "highValue",
                              this.valueToPosition(t)
                            );
                        },
                        positionTrackingHandle: function (e) {
                          var t = !1;
                          (e = this.applyMinMaxLimit(e)),
                            (e = this.applyRestrictedRange(e)),
                            this.range &&
                            (this.options.pushRange
                              ? ((e = this.applyPushRange(e)), (t = !0))
                              : (this.options.noSwitching &&
                                ("lowValue" === this.tracking &&
                                  e > this.highValue
                                  ? (e = this.applyMinMaxRange(
                                    this.highValue
                                  ))
                                  : "highValue" === this.tracking &&
                                  e < this.lowValue &&
                                  (e = this.applyMinMaxRange(
                                    this.lowValue
                                  ))),
                                (e = this.applyMinMaxRange(e)),
                                "lowValue" === this.tracking &&
                                  e > this.highValue
                                  ? ((this.lowValue = this.highValue),
                                    this.applyLowValue(),
                                    this.applyModel(),
                                    this.updateHandles(
                                      this.tracking,
                                      this.maxH.rzsp
                                    ),
                                    this.updateAriaAttributes(),
                                    (this.tracking = "highValue"),
                                    this.minH.removeClass("rz-active"),
                                    this.maxH.addClass("rz-active"),
                                    this.options.keyboardSupport &&
                                    this.focusElement(this.maxH),
                                    (t = !0))
                                  : "highValue" === this.tracking &&
                                  e < this.lowValue &&
                                  ((this.highValue = this.lowValue),
                                    this.applyHighValue(),
                                    this.applyModel(),
                                    this.updateHandles(
                                      this.tracking,
                                      this.minH.rzsp
                                    ),
                                    this.updateAriaAttributes(),
                                    (this.tracking = "lowValue"),
                                    this.maxH.removeClass("rz-active"),
                                    this.minH.addClass("rz-active"),
                                    this.options.keyboardSupport &&
                                    this.focusElement(this.minH),
                                    (t = !0)))),
                            this[this.tracking] !== e &&
                            ((this[this.tracking] = e),
                              "lowValue" === this.tracking
                                ? this.applyLowValue()
                                : this.applyHighValue(),
                              this.applyModel(),
                              this.updateHandles(
                                this.tracking,
                                this.valueToPosition(e)
                              ),
                              this.updateAriaAttributes(),
                              (t = !0)),
                            t && this.applyModel(!0);
                        },
                        applyMinMaxLimit: function (e) {
                          return null != this.options.minLimit &&
                            e < this.options.minLimit
                            ? this.options.minLimit
                            : null != this.options.maxLimit &&
                              e > this.options.maxLimit
                              ? this.options.maxLimit
                              : e;
                        },
                        applyMinMaxRange: function (e) {
                          var t =
                            "lowValue" === this.tracking
                              ? this.highValue
                              : this.lowValue,
                            i = Math.abs(e - t);
                          return null != this.options.minRange &&
                            i < this.options.minRange
                            ? "lowValue" === this.tracking
                              ? this.highValue - this.options.minRange
                              : this.lowValue + this.options.minRange
                            : null != this.options.maxRange &&
                              i > this.options.maxRange
                              ? "lowValue" === this.tracking
                                ? this.highValue - this.options.maxRange
                                : this.lowValue + this.options.maxRange
                              : e;
                        },
                        applyRestrictedRange: function (e) {
                          if (
                            null != this.options.restrictedRange &&
                            e > this.options.restrictedRange.from &&
                            e < this.options.restrictedRange.to
                          ) {
                            var t =
                              (this.options.restrictedRange.to -
                                this.options.restrictedRange.from) /
                              2;
                            if ("lowValue" === this.tracking)
                              return e > this.options.restrictedRange.from + t
                                ? this.options.restrictedRange.to
                                : this.options.restrictedRange.from;
                            if ("highValue" === this.tracking)
                              return e < this.options.restrictedRange.to - t
                                ? this.options.restrictedRange.from
                                : this.options.restrictedRange.to;
                          }
                          return e;
                        },
                        applyPushRange: function (e) {
                          var t =
                            "lowValue" === this.tracking
                              ? this.highValue - e
                              : e - this.lowValue,
                            i =
                              null !== this.options.minRange
                                ? this.options.minRange
                                : this.options.step,
                            n = this.options.maxRange;
                          return (
                            t < i
                              ? ("lowValue" === this.tracking
                                ? ((this.highValue = Math.min(
                                  e + i,
                                  this.maxValue
                                )),
                                  (e = this.highValue - i),
                                  this.applyHighValue(),
                                  this.updateHandles(
                                    "highValue",
                                    this.valueToPosition(this.highValue)
                                  ))
                                : ((this.lowValue = Math.max(
                                  e - i,
                                  this.minValue
                                )),
                                  (e = this.lowValue + i),
                                  this.applyLowValue(),
                                  this.updateHandles(
                                    "lowValue",
                                    this.valueToPosition(this.lowValue)
                                  )),
                                this.updateAriaAttributes())
                              : null !== n &&
                              t > n &&
                              ("lowValue" === this.tracking
                                ? ((this.highValue = e + n),
                                  this.applyHighValue(),
                                  this.updateHandles(
                                    "highValue",
                                    this.valueToPosition(this.highValue)
                                  ))
                                : ((this.lowValue = e - n),
                                  this.applyLowValue(),
                                  this.updateHandles(
                                    "lowValue",
                                    this.valueToPosition(this.lowValue)
                                  )),
                                this.updateAriaAttributes()),
                            e
                          );
                        },
                        applyModel: function (e) {
                          (this.internalChange = !0),
                            this.scope.$apply(),
                            e && this.callOnChange(),
                            (this.internalChange = !1);
                        },
                        callOnStart: function () {
                          if (this.options.onStart) {
                            var e = this,
                              t = "lowValue" === this.tracking ? "min" : "max";
                            this.scope.$evalAsync(function () {
                              e.options.onStart(
                                e.options.id,
                                e.scope.rzSliderModel,
                                e.scope.rzSliderHigh,
                                t
                              );
                            });
                          }
                        },
                        callOnChange: function () {
                          if (this.options.onChange) {
                            var e = this,
                              t = "lowValue" === this.tracking ? "min" : "max";
                            this.scope.$evalAsync(function () {
                              e.options.onChange(
                                e.options.id,
                                e.scope.rzSliderModel,
                                e.scope.rzSliderHigh,
                                t
                              );
                            });
                          }
                        },
                        callOnEnd: function () {
                          if (this.options.onEnd) {
                            var e = this,
                              t = "lowValue" === this.tracking ? "min" : "max";
                            this.scope.$evalAsync(function () {
                              e.options.onEnd(
                                e.options.id,
                                e.scope.rzSliderModel,
                                e.scope.rzSliderHigh,
                                t
                              );
                            });
                          }
                          this.scope.$emit("slideEnded");
                        },
                      }),
                      s
                    );
                  },
                ])
                .directive("rzslider", [
                  "RzSlider",
                  function (e) {
                    return {
                      restrict: "AE",
                      replace: !0,
                      scope: {
                        rzSliderModel: "=?",
                        rzSliderHigh: "=?",
                        rzSliderOptions: "&?",
                        rzSliderTplUrl: "@",
                      },
                      templateUrl: function (e, t) {
                        return t.rzSliderTplUrl || "rzSliderTpl.html";
                      },
                      link: function (t, i) {
                        t.slider = new e(t, i);
                      },
                    };
                  },
                ]);
              return (
                t.run([
                  "$templateCache",
                  function (e) {
                    e.put(
                      "rzSliderTpl.html",
                      '<div class=rzslider><span class="rz-bar-wrapper rz-left-out-selection"><span class=rz-bar></span></span> <span class="rz-bar-wrapper rz-right-out-selection"><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-restricted" ng-style=restrictionStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class="rz-bubble rz-model-value"></span> <span class="rz-bubble rz-model-high"></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>'
                    );
                  },
                ]),
                t.name
              );
            })
            ? n.apply(t, o)
            : n) || (e.exports = r);
    })();
  },
  function (e, t, i) {
    var n = i(64);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*! angularjs-slider - v6.7.0 - \n (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervi.eu>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - \n https://github.com/angular-slider/angularjs-slider - \n 2019-02-23 */.rzslider{position:relative;display:inline-block;width:100%;height:4px;margin:35px 0 15px 0;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rzslider.with-legend{margin-bottom:40px}.rzslider[disabled]{cursor:not-allowed}.rzslider[disabled] .rz-pointer{cursor:not-allowed;background-color:#d8e0f3}.rzslider[disabled] .rz-draggable{cursor:not-allowed}.rzslider[disabled] .rz-selection{background:#8b91a2}.rzslider[disabled] .rz-tick{cursor:not-allowed}.rzslider[disabled] .rz-tick.rz-selected{background:#8b91a2}.rzslider span{position:absolute;display:inline-block;white-space:nowrap}.rzslider .rz-base{width:100%;height:100%;padding:0}.rzslider .rz-bar-wrapper{left:0;z-index:1;width:100%;height:32px;padding-top:16px;margin-top:-16px;box-sizing:border-box}.rzslider .rz-draggable{cursor:move}.rzslider .rz-bar{left:0;z-index:1;width:100%;height:4px;background:#d8e0f3;border-radius:2px}.rzslider .rz-bar-wrapper.rz-transparent .rz-bar{background:transparent}.rzslider .rz-bar-wrapper.rz-left-out-selection .rz-bar{background:#df002d}.rzslider .rz-bar-wrapper.rz-right-out-selection .rz-bar{background:#03a688}.rzslider .rz-selection{z-index:2;background:#0db9f0;border-radius:2px}.rzslider .rz-restricted{z-index:3;background:#ff0000;border-radius:2px}.rzslider .rz-pointer{top:-14px;z-index:3;width:32px;height:32px;cursor:pointer;background-color:#0db9f0;border-radius:16px}.rzslider .rz-pointer:after{position:absolute;top:12px;left:12px;width:8px;height:8px;background:#ffffff;border-radius:4px;content:''}.rzslider .rz-pointer:hover:after{background-color:#ffffff}.rzslider .rz-pointer.rz-active{z-index:4}.rzslider .rz-pointer.rz-active:after{background-color:#451aff}.rzslider .rz-bubble{bottom:16px;padding:1px 3px;color:#55637d;cursor:default}.rzslider .rz-bubble.rz-limit{color:#55637d}.rzslider .rz-ticks{position:absolute;top:-3px;left:0;z-index:1;width:100%;height:0;margin:0;list-style:none;box-sizing:border-box}.rzslider .rz-ticks-values-under .rz-tick-value{top:auto;bottom:-32px}.rzslider .rz-tick{position:absolute;top:0;left:0;width:10px;height:10px;margin-left:11px;text-align:center;cursor:pointer;background:#d8e0f3;border-radius:50%}.rzslider .rz-tick.rz-selected{background:#0db9f0}.rzslider .rz-tick-value{position:absolute;top:-30px;transform:translate(-50%, 0)}.rzslider .rz-tick-legend{position:absolute;top:24px;max-width:50px;white-space:normal;transform:translate(-50%, 0)}.rzslider.rz-vertical{position:relative;width:4px;height:100%;padding:0;margin:0 20px;vertical-align:baseline}.rzslider.rz-vertical .rz-base{width:100%;height:100%;padding:0}.rzslider.rz-vertical .rz-bar-wrapper{top:auto;left:0;width:32px;height:100%;padding:0 0 0 16px;margin:0 0 0 -16px}.rzslider.rz-vertical .rz-bar{bottom:0;left:auto;width:4px;height:100%}.rzslider.rz-vertical .rz-pointer{top:auto;bottom:0;left:-14px !important}.rzslider.rz-vertical .rz-bubble{bottom:0;left:16px !important;margin-left:3px}.rzslider.rz-vertical .rz-ticks{top:0;left:-3px;z-index:1;width:0;height:100%}.rzslider.rz-vertical .rz-tick{margin-top:11px;margin-left:auto;vertical-align:middle}.rzslider.rz-vertical .rz-tick-value{top:auto;left:24px;transform:translate(0, -28%)}.rzslider.rz-vertical .rz-tick-legend{top:auto;right:24px;max-width:none;white-space:nowrap;transform:translate(0, -28%)}.rzslider.rz-vertical .rz-ticks-values-under .rz-tick-value{right:24px;bottom:auto;left:auto}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n, o;
    (n = [i(11)]),
      void 0 !==
      (o = function (e) {
        return (function (e) {
          function t(t) {
            return (
              "ActiveXObject" in t ||
              (e.isDefined(XSLTProcessor) && e.isDefined(XMLSerializer))
            );
          }
          function i(e) {
            var t;
            return (t = e.getElementsByTagName("parsererror")[0])
              ? t.textContent
                ? t.textContent.split("\n", 1)[0]
                : "unknown parser error"
              : null;
          }
          function n(e, n, o, r) {
            if (!o || !r)
              return (
                "No" +
                (o ? "" : " XML") +
                (o || r ? "" : " &") +
                (r ? "" : " XSLT")
              );
            if (!t(e))
              return "XSL transformation is not supported by your browser";
            var a, s, l, c;
            if ("ActiveXObject" in e) {
              if (
                ((l = new ActiveXObject("Msxml2.DOMDocument")).loadXML(o),
                  0 !== l.parseError.errorCode)
              )
                return (
                  "XML parse error (" +
                  l.parseError.errorCode +
                  "): " +
                  l.parseError.reason
                ).trim();
              if (
                ((c = new ActiveXObject(
                  "Msxml2.FreeThreadedDOMDocument"
                )).loadXML(r),
                  0 !== c.parseError.errorCode)
              )
                return (
                  "XSLT parse error (" +
                  c.parseError.errorCode +
                  "): " +
                  c.parseError.reason
                ).trim();
              var u = new ActiveXObject("Msxml2.XSLTemplate");
              try {
                u.stylesheet = c;
              } catch (d) {
                return "XSLT error: " + d.message;
              }
              ((a = u.createProcessor()).input = l),
                a.transform(),
                (s = a.output);
            } else {
              var d;
              if (
                (d = i((l = new DOMParser().parseFromString(o, "text/xml"))))
              )
                return "XML parse error: " + d;
              if (
                (d = i((c = new DOMParser().parseFromString(r, "text/xml"))))
              )
                return "XSLT parse error: " + d;
              (a = new XSLTProcessor()).importStylesheet(c),
                (s = new XMLSerializer().serializeToString(
                  a.transformToFragment(l, n)
                ));
            }
            return s || "(empty)";
          }
          return e.module("ngXslt", []).filter("xslt", [
            "$window",
            "$document",
            function (e, t) {
              return n.bind(this, e, t[0]);
            },
          ]);
        })(e);
      }.apply(t, n)) && (e.exports = o);
  },
  function (e, t, i) {
    angular
      .module("infinite-scroll", [])
      .value("THROTTLE_MILLISECONDS", null)
      .directive("infiniteScroll", [
        "$rootScope",
        "$window",
        "$interval",
        "THROTTLE_MILLISECONDS",
        function (e, t, i, n) {
          return {
            scope: {
              infiniteScroll: "&",
              infiniteScrollContainer: "=",
              infiniteScrollDistance: "=",
              infiniteScrollDisabled: "=",
              infiniteScrollUseDocumentBottom: "=",
              infiniteScrollListenForEvent: "@",
            },
            link: function (o, r, a) {
              var s, l, c, u, d, p, h, f, g, m, v, b, y, x, w, _, A, E;
              return (
                (E = angular.element(t)),
                (x = null),
                (w = null),
                (c = null),
                (u = null),
                (v = !0),
                (A = !1),
                (_ = null),
                (l = !1),
                (m = function (e) {
                  return (
                    (e = e[0] || e),
                    isNaN(e.offsetHeight)
                      ? e.document.documentElement.clientHeight
                      : e.offsetHeight
                  );
                }),
                (b = function (e) {
                  if (e[0].getBoundingClientRect && !e.css("none"))
                    return e[0].getBoundingClientRect().top + y(e);
                }),
                (y = function (e) {
                  return (
                    (e = e[0] || e),
                    isNaN(window.pageYOffset)
                      ? e.document.documentElement.scrollTop
                      : e.ownerDocument.defaultView.pageYOffset
                  );
                }),
                (g = function () {
                  var t, n, a;
                  return (
                    u === E
                      ? ((t = m(u) + y(u[0].document.documentElement)),
                        (a = b(r) + m(r)))
                      : ((t = m(u)),
                        (n = 0),
                        void 0 !== b(u) && (n = b(u)),
                        (a = b(r) - n + m(r))),
                    A &&
                    (a = m(
                      (r[0].ownerDocument || r[0].document).documentElement
                    )),
                    a - t <= m(u) * x + 1
                      ? ((c = !0),
                        w
                          ? o.$$phase || e.$$phase
                            ? o.infiniteScroll()
                            : o.$apply(o.infiniteScroll)
                          : void 0)
                      : (l && i.cancel(l), (c = !1))
                  );
                }),
                null != n &&
                (g = (function (e, t) {
                  var n, o, r;
                  return (
                    (r = null),
                    (o = 0),
                    (n = function () {
                      return (
                        (o = new Date().getTime()),
                        i.cancel(r),
                        (r = null),
                        e.call()
                      );
                    }),
                    function () {
                      var a, s;
                      return (
                        (a = new Date().getTime()),
                        (s = t - (a - o)) <= 0
                          ? (i.cancel(r), (r = null), (o = a), e.call())
                          : r
                            ? void 0
                            : (r = i(n, s, 1))
                      );
                    }
                  );
                })(g, n)),
                o.$on("$destroy", function () {
                  if (
                    (u.unbind("scroll", g), null != _ && (_(), (_ = null)), l)
                  )
                    return i.cancel(l);
                }),
                (h = function (e) {
                  return (x = parseFloat(e) || 0);
                }),
                o.$watch("infiniteScrollDistance", h),
                h(o.infiniteScrollDistance),
                (p = function (e) {
                  if ((w = !e) && c) return (c = !1), g();
                }),
                o.$watch("infiniteScrollDisabled", p),
                p(o.infiniteScrollDisabled),
                (f = function (e) {
                  return (A = e);
                }),
                o.$watch("infiniteScrollUseDocumentBottom", f),
                f(o.infiniteScrollUseDocumentBottom),
                (s = function (e) {
                  if ((null != u && u.unbind("scroll", g), (u = e), null != e))
                    return u.bind("scroll", g);
                })(E),
                o.infiniteScrollListenForEvent &&
                (_ = e.$on(o.infiniteScrollListenForEvent, g)),
                (d = function (e) {
                  if (null != e && 0 !== e.length) {
                    if (
                      (e.nodeType && 1 === e.nodeType
                        ? (e = angular.element(e))
                        : "function" == typeof e.append
                          ? (e = angular.element(e[e.length - 1]))
                          : "string" == typeof e &&
                          (e = angular.element(document.querySelector(e))),
                        null != e)
                    )
                      return s(e);
                    throw new Error(
                      "invalid infinite-scroll-container attribute."
                    );
                  }
                }),
                o.$watch("infiniteScrollContainer", d),
                d(o.infiniteScrollContainer || []),
                null != a.infiniteScrollParent &&
                s(angular.element(r.parent())),
                null != a.infiniteScrollImmediateCheck &&
                (v = o.$eval(a.infiniteScrollImmediateCheck)),
                (l = i(function () {
                  return v && g(), i.cancel(l);
                }))
              );
            },
          };
        },
      ]),
      e.exports === t && (e.exports = "infinite-scroll");
  },
  function (e, t, i) {
    var n;
    /*!
     * angular-translate - v2.18.2 - 2020-01-04
     *
     * Copyright (c) 2020 The angular-translate team, Pascal Precht; Licensed MIT
     */ void 0 ===
      (n = function () {
        return (function () {
          function e(e) {
            "use strict";
            var t = e.storageKey(),
              i = e.storage(),
              n = function () {
                var n = e.preferredLanguage();
                angular.isString(n) ? e.use(n) : i.put(t, e.use());
              };
            (n.displayName = "fallbackFromIncorrectStorageValue"),
              i
                ? i.get(t)
                  ? e.use(i.get(t)).catch(n)
                  : n()
                : angular.isString(e.preferredLanguage()) &&
                e.use(e.preferredLanguage());
          }
          function t(e, t, i, n) {
            "use strict";
            var o,
              r,
              a,
              s,
              l,
              c,
              u,
              d,
              p,
              h,
              f,
              g,
              m,
              v,
              b,
              y,
              x = {},
              w = [],
              _ = e,
              A = [],
              E = "translate-cloak",
              S = !1,
              T = !1,
              C = ".",
              k = !1,
              L = !1,
              D = 0,
              I = !0,
              P = "default",
              O = {
                default: function (e) {
                  return (e || "").split("-").join("_");
                },
                java: function (e) {
                  var t = (e || "").split("-").join("_"),
                    i = t.split("_");
                  return i.length > 1
                    ? i[0].toLowerCase() + "_" + i[1].toUpperCase()
                    : t;
                },
                bcp47: function (e) {
                  var t = (e || "").split("_").join("-"),
                    i = t.split("-");
                  switch (i.length) {
                    case 1:
                      i[0] = i[0].toLowerCase();
                      break;
                    case 2:
                      (i[0] = i[0].toLowerCase()),
                        4 === i[1].length
                          ? (i[1] =
                            i[1].charAt(0).toUpperCase() +
                            i[1].slice(1).toLowerCase())
                          : (i[1] = i[1].toUpperCase());
                      break;
                    case 3:
                      (i[0] = i[0].toLowerCase()),
                        (i[1] =
                          i[1].charAt(0).toUpperCase() +
                          i[1].slice(1).toLowerCase()),
                        (i[2] = i[2].toUpperCase());
                      break;
                    default:
                      return t;
                  }
                  return i.join("-");
                },
                "iso639-1": function (e) {
                  return (e || "")
                    .split("_")
                    .join("-")
                    .split("-")[0]
                    .toLowerCase();
                },
              },
              M = function () {
                if (angular.isFunction(n.getLocale)) return n.getLocale();
                var e,
                  i,
                  o = t.$get().navigator,
                  r = [
                    "language",
                    "browserLanguage",
                    "systemLanguage",
                    "userLanguage",
                  ];
                if (angular.isArray(o.languages))
                  for (e = 0; e < o.languages.length; e++)
                    if ((i = o.languages[e]) && i.length) return i;
                for (e = 0; e < r.length; e++)
                  if ((i = o[r[e]]) && i.length) return i;
                return null;
              };
            M.displayName =
              "angular-translate/service: getFirstBrowserLanguage";
            var N = function () {
              var e = M() || "";
              return O[P] && (e = O[P](e)), e;
            };
            N.displayName = "angular-translate/service: getLocale";
            var R = function (e, t) {
              for (var i = 0, n = e.length; i < n; i++)
                if (e[i] === t) return i;
              return -1;
            },
              B = function () {
                return this.toString().replace(/^\s+|\s+$/g, "");
              },
              z = function (e) {
                return angular.isString(e) ? e.toLowerCase() : e;
              },
              $ = function (e) {
                if (e) {
                  for (var t, i = [], n = z(e), o = 0, a = w.length; o < a; o++)
                    i.push(z(w[o]));
                  if ((o = R(i, n)) > -1) return w[o];
                  if (r)
                    for (var s in r)
                      if (r.hasOwnProperty(s)) {
                        var l = !1,
                          c =
                            Object.prototype.hasOwnProperty.call(r, s) &&
                            z(s) === z(e);
                        if (
                          ("*" === s.slice(-1) &&
                            (l =
                              z(s.slice(0, -1)) ===
                              z(e.slice(0, s.length - 1))),
                            (c || l) && ((t = r[s]), R(i, z(t)) > -1))
                        )
                          return t;
                      }
                  var u = e.split("_");
                  return u.length > 1 && R(i, z(u[0])) > -1 ? u[0] : void 0;
                }
              },
              H = function (e, t) {
                if (!e && !t) return x;
                if (e && !t) {
                  if (angular.isString(e)) return x[e];
                } else
                  angular.isObject(x[e]) || (x[e] = {}),
                    angular.extend(x[e], V(t));
                return this;
              };
            (this.translations = H),
              (this.cloakClassName = function (e) {
                return e ? ((E = e), this) : E;
              }),
              (this.nestedObjectDelimeter = function (e) {
                return e ? ((C = e), this) : C;
              });
            var V = function (e, t, i, n) {
              var o, r, a;
              for (o in (t || (t = []), i || (i = {}), e))
                Object.prototype.hasOwnProperty.call(e, o) &&
                  ((a = e[o]),
                    angular.isObject(a)
                      ? V(a, t.concat(o), i, o)
                      : ((r = t.length ? "" + t.join(C) + C + o : o),
                        t.length && o === n && (i["" + t.join(C)] = "@:" + r),
                        (i[r] = a)));
              return i;
            };
            (V.displayName = "flatObject"),
              (this.addInterpolation = function (e) {
                return A.push(e), this;
              }),
              (this.useMessageFormatInterpolation = function () {
                return this.useInterpolation(
                  "$translateMessageFormatInterpolation"
                );
              }),
              (this.useInterpolation = function (e) {
                return (h = e), this;
              }),
              (this.useSanitizeValueStrategy = function (e) {
                return i.useStrategy(e), this;
              }),
              (this.preferredLanguage = function (e) {
                return e ? (j(e), this) : o;
              });
            var j = function (e) {
              return e && (o = e), o;
            };
            (this.translationNotFoundIndicator = function (e) {
              return (
                this.translationNotFoundIndicatorLeft(e),
                this.translationNotFoundIndicatorRight(e),
                this
              );
            }),
              (this.translationNotFoundIndicatorLeft = function (e) {
                return e ? ((m = e), this) : m;
              }),
              (this.translationNotFoundIndicatorRight = function (e) {
                return e ? ((v = e), this) : v;
              }),
              (this.fallbackLanguage = function (e) {
                return F(e), this;
              });
            var F = function (e) {
              return e
                ? (angular.isString(e)
                  ? ((s = !0), (a = [e]))
                  : angular.isArray(e) && ((s = !1), (a = e)),
                  angular.isString(o) && R(a, o) < 0 && a.push(o),
                  this)
                : s
                  ? a[0]
                  : a;
            };
            (this.use = function (e) {
              if (e) {
                if (!x[e] && !f)
                  throw new Error(
                    "$translateProvider couldn't find translationTable for langKey: '" +
                    e +
                    "'"
                  );
                return (l = e), this;
              }
              return l;
            }),
              (this.resolveClientLocale = function () {
                return N();
              });
            var U = function (e) {
              return e ? ((_ = e), this) : d ? d + _ : _;
            };
            (this.storageKey = U),
              (this.useUrlLoader = function (e, t) {
                return this.useLoader(
                  "$translateUrlLoader",
                  angular.extend({ url: e }, t)
                );
              }),
              (this.useStaticFilesLoader = function (e) {
                return this.useLoader("$translateStaticFilesLoader", e);
              }),
              (this.useLoader = function (e, t) {
                return (f = e), (g = t || {}), this;
              }),
              (this.useLocalStorage = function () {
                return this.useStorage("$translateLocalStorage");
              }),
              (this.useCookieStorage = function () {
                return this.useStorage("$translateCookieStorage");
              }),
              (this.useStorage = function (e) {
                return (u = e), this;
              }),
              (this.storagePrefix = function (e) {
                return e ? ((d = e), this) : e;
              }),
              (this.useMissingTranslationHandlerLog = function () {
                return this.useMissingTranslationHandler(
                  "$translateMissingTranslationHandlerLog"
                );
              }),
              (this.useMissingTranslationHandler = function (e) {
                return (p = e), this;
              }),
              (this.usePostCompiling = function (e) {
                return (S = !!e), this;
              }),
              (this.forceAsyncReload = function (e) {
                return (T = !!e), this;
              }),
              (this.uniformLanguageTag = function (e) {
                return (
                  e ? angular.isString(e) && (e = { standard: e }) : (e = {}),
                  (P = e.standard),
                  this
                );
              }),
              (this.determinePreferredLanguage = function (e) {
                var t = e && angular.isFunction(e) ? e() : N();
                return (o = (w.length && $(t)) || t), this;
              }),
              (this.registerAvailableLanguageKeys = function (e, t) {
                return e ? ((w = e), t && (r = t), this) : w;
              }),
              (this.useLoaderCache = function (e) {
                return (
                  !1 === e
                    ? (b = void 0)
                    : !0 === e
                      ? (b = !0)
                      : void 0 === e
                        ? (b = "$translationCache")
                        : e && (b = e),
                  this
                );
              }),
              (this.directivePriority = function (e) {
                return void 0 === e ? D : ((D = e), this);
              }),
              (this.statefulFilter = function (e) {
                return void 0 === e ? I : ((I = e), this);
              }),
              (this.postProcess = function (e) {
                return (y = e || void 0), this;
              }),
              (this.keepContent = function (e) {
                return (L = !!e), this;
              }),
              (this.$get = [
                "$log",
                "$injector",
                "$rootScope",
                "$q",
                function (e, t, i, n) {
                  var r,
                    d,
                    P,
                    O = t.get(h || "$translateDefaultInterpolation"),
                    M = !1,
                    z = {},
                    W = {},
                    q = function (e, t, i, s, c, p) {
                      !l && o && (l = o);
                      var h = c && c !== l ? $(c) || c : l;
                      if ((c && re(c), angular.isArray(e)))
                        return (function (e) {
                          for (
                            var o = {},
                            r = [],
                            a = function (e) {
                              var r = n.defer(),
                                a = function (t) {
                                  (o[e] = t), r.resolve([e, t]);
                                };
                              return (
                                q(e, t, i, s, c, p).then(a, a), r.promise
                              );
                            },
                            l = 0,
                            u = e.length;
                            l < u;
                            l++
                          )
                            r.push(a(e[l]));
                          return n.all(r).then(function () {
                            return o;
                          });
                        })(e);
                      var f = n.defer();
                      if (!e)
                        throw new TypeError(
                          "translationId must be a not empty string"
                        );
                      e = B.apply(e);
                      var g = (function () {
                        var e = W[h] || W[o];
                        if (((d = 0), u && !e)) {
                          var t = r.get(_);
                          if (((e = W[t]), a && a.length)) {
                            var i = R(a, t);
                            (d = 0 === i ? 1 : 0), R(a, o) < 0 && a.push(o);
                          }
                        }
                        return e;
                      })();
                      if (g) {
                        var m = function () {
                          c || (h = l),
                            ie(e, t, i, s, h, p).then(f.resolve, f.reject);
                        };
                        (m.displayName = "promiseResolved"),
                          g.finally(m).catch(angular.noop);
                      } else ie(e, t, i, s, h, p).then(f.resolve, f.reject);
                      return f.promise;
                    },
                    Q = function (e) {
                      return (
                        m && (e = [m, e].join(" ")),
                        v && (e = [e, v].join(" ")),
                        e
                      );
                    },
                    G = function (e) {
                      (l = e),
                        u && r.put(q.storageKey(), l),
                        i.$emit("$translateChangeSuccess", { language: e }),
                        O.setLocale(l);
                      var t = function (e, t) {
                        z[t].setLocale(l);
                      };
                      (t.displayName = "eachInterpolatorLocaleSetter"),
                        angular.forEach(z, t),
                        i.$emit("$translateChangeEnd", { language: e });
                    },
                    Y = function (e) {
                      if (!e) throw "No language key specified for loading.";
                      var o = n.defer();
                      i.$emit("$translateLoadingStart", { language: e }),
                        (M = !0);
                      var r = b;
                      "string" == typeof r && (r = t.get(r));
                      var a = angular.extend({}, g, {
                        key: e,
                        $http: angular.extend({}, { cache: r }, g.$http),
                      }),
                        s = function (t) {
                          var n = {};
                          i.$emit("$translateLoadingSuccess", { language: e }),
                            angular.isArray(t)
                              ? angular.forEach(t, function (e) {
                                angular.extend(n, V(e));
                              })
                              : angular.extend(n, V(t)),
                            (M = !1),
                            o.resolve({ key: e, table: n }),
                            i.$emit("$translateLoadingEnd", { language: e });
                        };
                      s.displayName = "onLoaderSuccess";
                      var l = function (e) {
                        i.$emit("$translateLoadingError", { language: e }),
                          o.reject(e),
                          i.$emit("$translateLoadingEnd", { language: e });
                      };
                      return (
                        (l.displayName = "onLoaderError"),
                        t.get(f)(a).then(s, l),
                        o.promise
                      );
                    };
                  if (u && (!(r = t.get(u)).get || !r.put))
                    throw new Error(
                      "Couldn't use storage '" +
                      u +
                      "', missing get() or put() method!"
                    );
                  if (A.length) {
                    var Z = function (e) {
                      var i = t.get(e);
                      i.setLocale(o || l),
                        (z[i.getInterpolationIdentifier()] = i);
                    };
                    (Z.displayName = "interpolationFactoryAdder"),
                      angular.forEach(A, Z);
                  }
                  var X = function (e, t, i, o, r) {
                    var a = n.defer(),
                      s = function (n) {
                        if (
                          Object.prototype.hasOwnProperty.call(n, t) &&
                          null !== n[t]
                        ) {
                          o.setLocale(e);
                          var s = n[t];
                          if ("@:" === s.substr(0, 2))
                            X(e, s.substr(2), i, o, r).then(
                              a.resolve,
                              a.reject
                            );
                          else {
                            var c = o.interpolate(n[t], i, "service", r, t);
                            (c = oe(t, n[t], c, i, e)), a.resolve(c);
                          }
                          o.setLocale(l);
                        } else a.reject();
                      };
                    return (
                      (s.displayName = "fallbackTranslationResolver"),
                      (function (e) {
                        var t = n.defer();
                        if (Object.prototype.hasOwnProperty.call(x, e))
                          t.resolve(x[e]);
                        else if (W[e]) {
                          var i = function (e) {
                            H(e.key, e.table), t.resolve(e.table);
                          };
                          (i.displayName = "translationTableResolver"),
                            W[e].then(i, t.reject);
                        } else t.reject();
                        return t.promise;
                      })(e).then(s, a.reject),
                      a.promise
                    );
                  },
                    K = function (e, t, i, n, o) {
                      var r,
                        a = x[e];
                      if (
                        a &&
                        Object.prototype.hasOwnProperty.call(a, t) &&
                        null !== a[t]
                      ) {
                        if (
                          (n.setLocale(e),
                            (r = n.interpolate(a[t], i, "filter", o, t)),
                            (r = oe(t, a[t], r, i, e, o)),
                            !angular.isString(r) &&
                            angular.isFunction(r.$$unwrapTrustedValue))
                        ) {
                          var s = r.$$unwrapTrustedValue();
                          if ("@:" === s.substr(0, 2))
                            return K(e, s.substr(2), i, n, o);
                        } else if ("@:" === r.substr(0, 2))
                          return K(e, r.substr(2), i, n, o);
                        n.setLocale(l);
                      }
                      return r;
                    },
                    J = function (e, i, n, o) {
                      return p ? t.get(p)(e, l, i, n, o) : e;
                    },
                    ee = function (e, t, i, o, r, s) {
                      var l = n.defer();
                      if (e < a.length) {
                        var c = a[e];
                        X(c, t, i, o, s).then(
                          function (e) {
                            l.resolve(e);
                          },
                          function () {
                            return ee(e + 1, t, i, o, r, s).then(
                              l.resolve,
                              l.reject
                            );
                          }
                        );
                      } else if (r) l.resolve(r);
                      else {
                        var u = J(t, i, r);
                        p && u ? l.resolve(u) : l.reject(Q(t));
                      }
                      return l.promise;
                    },
                    te = function (e, t, i, n, o) {
                      var r;
                      if (e < a.length) {
                        var s = a[e];
                        (r = K(s, t, i, n, o)) ||
                          "" === r ||
                          (r = te(e + 1, t, i, n));
                      }
                      return r;
                    },
                    ie = function (e, t, i, o, r, s) {
                      var l = n.defer(),
                        c = r ? x[r] : x,
                        u = i ? z[i] : O;
                      if (
                        c &&
                        Object.prototype.hasOwnProperty.call(c, e) &&
                        null !== c[e]
                      ) {
                        var h = c[e];
                        if ("@:" === h.substr(0, 2))
                          q(h.substr(2), t, i, o, r, s).then(
                            l.resolve,
                            l.reject
                          );
                        else {
                          var f = u.interpolate(h, t, "service", s, e);
                          (f = oe(e, h, f, t, r)), l.resolve(f);
                        }
                      } else {
                        var g;
                        p && !M && (g = J(e, t, o)),
                          r && a && a.length
                            ? (function (e, t, i, n, o) {
                              return ee(P > 0 ? P : d, e, t, i, n, o);
                            })(e, t, u, o, s).then(
                              function (e) {
                                l.resolve(e);
                              },
                              function (e) {
                                l.reject(Q(e));
                              }
                            )
                            : p && !M && g
                              ? o
                                ? l.resolve(o)
                                : l.resolve(g)
                              : o
                                ? l.resolve(o)
                                : l.reject(Q(e));
                      }
                      return l.promise;
                    },
                    ne = function (e, t, i, n, o) {
                      var r,
                        s = n ? x[n] : x,
                        l = O;
                      if (
                        (z &&
                          Object.prototype.hasOwnProperty.call(z, i) &&
                          (l = z[i]),
                          s &&
                          Object.prototype.hasOwnProperty.call(s, e) &&
                          null !== s[e])
                      ) {
                        var c = s[e];
                        "@:" === c.substr(0, 2)
                          ? (r = ne(c.substr(2), t, i, n, o))
                          : ((r = l.interpolate(c, t, "filter", o, e)),
                            (r = oe(e, c, r, t, n, o)));
                      } else {
                        var u;
                        p && !M && (u = J(e, t, o)),
                          n && a && a.length
                            ? ((d = 0),
                              (r = (function (e, t, i, n) {
                                return te(P > 0 ? P : d, e, t, i, n);
                              })(e, t, l, o)))
                            : (r = p && !M && u ? u : Q(e));
                      }
                      return r;
                    },
                    oe = function (e, i, n, o, r, a) {
                      var s = y;
                      return s && ("string" == typeof s && (s = t.get(s)), s)
                        ? s(e, i, n, o, r, a)
                        : n;
                    },
                    re = function (e) {
                      x[e] ||
                        !f ||
                        W[e] ||
                        (W[e] = Y(e).then(function (e) {
                          return H(e.key, e.table), e;
                        }));
                    };
                  (q.preferredLanguage = function (e) {
                    return e && j(e), o;
                  }),
                    (q.cloakClassName = function () {
                      return E;
                    }),
                    (q.nestedObjectDelimeter = function () {
                      return C;
                    }),
                    (q.fallbackLanguage = function (e) {
                      if (null != e) {
                        if ((F(e), f && a && a.length))
                          for (var t = 0, i = a.length; t < i; t++)
                            W[a[t]] || (W[a[t]] = Y(a[t]));
                        q.use(q.use());
                      }
                      return s ? a[0] : a;
                    }),
                    (q.useFallbackLanguage = function (e) {
                      if (null != e)
                        if (e) {
                          var t = R(a, e);
                          t > -1 && (P = t);
                        } else P = 0;
                    }),
                    (q.proposedLanguage = function () {
                      return c;
                    }),
                    (q.storage = function () {
                      return r;
                    }),
                    (q.negotiateLocale = $),
                    (q.use = function (e) {
                      if (!e) return l;
                      var t = n.defer();
                      t.promise.then(null, angular.noop),
                        i.$emit("$translateChangeStart", { language: e });
                      var o = $(e);
                      return w.length > 0 && !o
                        ? n.reject(e)
                        : (o && (e = o),
                          (c = e),
                          (!T && x[e]) || !f || W[e]
                            ? W[e]
                              ? W[e].then(
                                function (e) {
                                  return (
                                    c === e.key && G(e.key),
                                    t.resolve(e.key),
                                    e
                                  );
                                },
                                function (e) {
                                  return !l && a && a.length > 0 && a[0] !== e
                                    ? q.use(a[0]).then(t.resolve, t.reject)
                                    : t.reject(e);
                                }
                              )
                              : (t.resolve(e), G(e))
                            : ((W[e] = Y(e).then(
                              function (i) {
                                return (
                                  H(i.key, i.table),
                                  t.resolve(i.key),
                                  c === e && G(i.key),
                                  i
                                );
                              },
                              function (e) {
                                return (
                                  i.$emit("$translateChangeError", {
                                    language: e,
                                  }),
                                  t.reject(e),
                                  i.$emit("$translateChangeEnd", {
                                    language: e,
                                  }),
                                  n.reject(e)
                                );
                              }
                            )),
                              W[e]
                                .finally(function () {
                                  !(function (e) {
                                    c === e && (c = void 0), (W[e] = void 0);
                                  })(e);
                                })
                                .catch(angular.noop)),
                          t.promise);
                    }),
                    (q.resolveClientLocale = function () {
                      return N();
                    }),
                    (q.storageKey = function () {
                      return U();
                    }),
                    (q.isPostCompilingEnabled = function () {
                      return S;
                    }),
                    (q.isForceAsyncReloadEnabled = function () {
                      return T;
                    }),
                    (q.isKeepContent = function () {
                      return L;
                    }),
                    (q.refresh = function (e) {
                      if (!f)
                        throw new Error(
                          "Couldn't refresh translation table, no loader registered!"
                        );
                      i.$emit("$translateRefreshStart", { language: e });
                      var t = n.defer(),
                        o = {};
                      function r(e) {
                        var t = Y(e);
                        return (
                          (W[e] = t),
                          t.then(function (t) {
                            (x[e] = {}), H(e, t.table), (o[e] = !0);
                          }, angular.noop),
                          t
                        );
                      }
                      if (
                        (t.promise
                          .then(function () {
                            for (var e in x)
                              x.hasOwnProperty(e) && (e in o || delete x[e]);
                            l && G(l);
                          }, angular.noop)
                          .finally(function () {
                            i.$emit("$translateRefreshEnd", { language: e });
                          }),
                          e)
                      )
                        x[e] ? r(e).then(t.resolve, t.reject) : t.reject();
                      else {
                        var s = (a && a.slice()) || [];
                        l && -1 === s.indexOf(l) && s.push(l),
                          n.all(s.map(r)).then(t.resolve, t.reject);
                      }
                      return t.promise;
                    }),
                    (q.instant = function (e, t, i, n, r) {
                      var s = n && n !== l ? $(n) || n : l;
                      if (null === e || angular.isUndefined(e)) return e;
                      if ((n && re(n), angular.isArray(e))) {
                        for (var c = {}, u = 0, d = e.length; u < d; u++)
                          c[e[u]] = q.instant(e[u], t, i, n, r);
                        return c;
                      }
                      if (angular.isString(e) && e.length < 1) return e;
                      e && (e = B.apply(e));
                      var h,
                        f,
                        g = [];
                      o && g.push(o),
                        s && g.push(s),
                        a && a.length && (g = g.concat(a));
                      for (var b = 0, y = g.length; b < y; b++) {
                        var w = g[b];
                        if (
                          (x[w] &&
                            void 0 !== x[w][e] &&
                            (h = ne(e, t, i, s, r)),
                            void 0 !== h)
                        )
                          break;
                      }
                      return (
                        h ||
                        "" === h ||
                        (m || v
                          ? (h = Q(e))
                          : ((h = O.interpolate(e, t, "filter", r)),
                            p && !M && (f = J(e, t, r)),
                            p && !M && f && (h = f))),
                        h
                      );
                    }),
                    (q.versionInfo = function () {
                      return "2.18.2";
                    }),
                    (q.loaderCache = function () {
                      return b;
                    }),
                    (q.directivePriority = function () {
                      return D;
                    }),
                    (q.statefulFilter = function () {
                      return I;
                    }),
                    (q.isReady = function () {
                      return k;
                    });
                  var ae = n.defer();
                  ae.promise.then(function () {
                    k = !0;
                  }),
                    (q.onReady = function (e) {
                      var t = n.defer();
                      return (
                        angular.isFunction(e) && t.promise.then(e),
                        k ? t.resolve() : ae.promise.then(t.resolve),
                        t.promise
                      );
                    }),
                    (q.getAvailableLanguageKeys = function () {
                      return w.length > 0 ? w : null;
                    }),
                    (q.getTranslationTable = function (e) {
                      return (e = e || q.use()) && x[e]
                        ? angular.copy(x[e])
                        : null;
                    });
                  var se = i.$on("$translateReady", function () {
                    ae.resolve(), se(), (se = null);
                  }),
                    le = i.$on("$translateChangeEnd", function () {
                      ae.resolve(), le(), (le = null);
                    });
                  if (f) {
                    if (
                      (angular.equals(x, {}) && q.use() && q.use(q.use()),
                        a && a.length)
                    )
                      for (
                        var ce = function (e) {
                          return (
                            H(e.key, e.table),
                            i.$emit("$translateChangeEnd", {
                              language: e.key,
                            }),
                            e
                          );
                        },
                        ue = 0,
                        de = a.length;
                        ue < de;
                        ue++
                      ) {
                        var pe = a[ue];
                        (!T && x[pe]) || (W[pe] = Y(pe).then(ce));
                      }
                  } else i.$emit("$translateReady", { language: q.use() });
                  return q;
                },
              ]);
          }
          function i(e, t) {
            "use strict";
            var i = {
              setLocale: function (e) { },
              getInterpolationIdentifier: function () {
                return "default";
              },
              useSanitizeValueStrategy: function (e) {
                return t.useStrategy(e), this;
              },
              interpolate: function (i, n, o, r, a) {
                var s;
                return (
                  (n = n || {}),
                  (n = t.sanitize(n, "params", r, o)),
                  angular.isNumber(i)
                    ? (s = "" + i)
                    : angular.isString(i)
                      ? ((s = e(i)(n)), (s = t.sanitize(s, "text", r, o)))
                      : (s = ""),
                  s
                );
              },
            };
            return i;
          }
          function n(e, t, i, n, o) {
            "use strict";
            var r = function () {
              return this.toString().replace(/^\s+|\s+$/g, "");
            },
              a = function (e) {
                return angular.isString(e) ? e.toLowerCase() : e;
              };
            return {
              restrict: "AE",
              scope: !0,
              priority: e.directivePriority(),
              compile: function (s, l) {
                var c = l.translateValues ? l.translateValues : void 0,
                  u = l.translateInterpolation
                    ? l.translateInterpolation
                    : void 0,
                  d = l.translateSanitizeStrategy
                    ? l.translateSanitizeStrategy
                    : void 0,
                  p = s[0].outerHTML.match(/translate-value-+/i),
                  h =
                    "^(.*)(" + t.startSymbol() + ".*" + t.endSymbol() + ")(.*)",
                  f =
                    "^(.*)" + t.startSymbol() + "(.*)" + t.endSymbol() + "(.*)";
                return function (s, g, m) {
                  (s.interpolateParams = {}),
                    (s.preText = ""),
                    (s.postText = ""),
                    (s.translateNamespace = (function e(t) {
                      return t.translateNamespace
                        ? t.translateNamespace
                        : t.$parent
                          ? e(t.$parent)
                          : void 0;
                    })(s));
                  var v = {},
                    b = function (e) {
                      if (
                        (angular.isFunction(b._unwatchOld) &&
                          (b._unwatchOld(), (b._unwatchOld = void 0)),
                          angular.equals(e, "") || !angular.isDefined(e))
                      ) {
                        var i = r.apply(g.text()).replace(/\n/g, " "),
                          n = i.match(h);
                        if (angular.isArray(n)) {
                          (s.preText = n[1]),
                            (s.postText = n[3]),
                            (v.translate = t(n[2])(s.$parent));
                          var o = i.match(f);
                          angular.isArray(o) &&
                            o[2] &&
                            o[2].length &&
                            (b._unwatchOld = s.$watch(o[2], function (e) {
                              (v.translate = e), E();
                            }));
                        } else v.translate = i || void 0;
                      } else v.translate = e;
                      E();
                    },
                    y = function (e) {
                      m.$observe(e, function (t) {
                        (v[e] = t), E();
                      });
                    };
                  !(function (e, t, i) {
                    if (
                      (t.translateValues &&
                        angular.extend(e, n(t.translateValues)(s.$parent)),
                        p)
                    )
                      for (var o in i)
                        Object.prototype.hasOwnProperty.call(t, o) &&
                          "translateValue" === o.substr(0, 14) &&
                          "translateValues" !== o &&
                          (e[a(o.substr(14, 1)) + o.substr(15)] = i[o]);
                  })(s.interpolateParams, m, l);
                  var x = !0;
                  for (var w in (m.$observe("translate", function (e) {
                    void 0 === e
                      ? b("")
                      : ("" === e && x) || ((v.translate = e), E()),
                      (x = !1);
                  }),
                    m))
                    m.hasOwnProperty(w) &&
                      "translateAttr" === w.substr(0, 13) &&
                      w.length > 13 &&
                      y(w);
                  if (
                    (m.$observe("translateDefault", function (e) {
                      (s.defaultText = e), E();
                    }),
                      d &&
                      m.$observe("translateSanitizeStrategy", function (e) {
                        (s.sanitizeStrategy = n(e)(s.$parent)), E();
                      }),
                      c &&
                      m.$observe("translateValues", function (e) {
                        e &&
                          s.$parent.$watch(function () {
                            angular.extend(
                              s.interpolateParams,
                              n(e)(s.$parent)
                            );
                          });
                      }),
                      p)
                  ) {
                    var _ = function (e) {
                      m.$observe(e, function (t) {
                        var i = a(e.substr(14, 1)) + e.substr(15);
                        s.interpolateParams[i] = t;
                      });
                    };
                    for (var A in m)
                      Object.prototype.hasOwnProperty.call(m, A) &&
                        "translateValue" === A.substr(0, 14) &&
                        "translateValues" !== A &&
                        _(A);
                  }
                  var E = function () {
                    for (var e in v)
                      v.hasOwnProperty(e) &&
                        void 0 !== v[e] &&
                        S(
                          e,
                          v[e],
                          s,
                          s.interpolateParams,
                          s.defaultText,
                          s.translateNamespace
                        );
                  },
                    S = function (t, i, n, o, r, a) {
                      i
                        ? (a && "." === i.charAt(0) && (i = a + i),
                          e(
                            i,
                            o,
                            u,
                            r,
                            n.translateLanguage,
                            n.sanitizeStrategy
                          ).then(
                            function (e) {
                              T(e, n, !0, t);
                            },
                            function (e) {
                              T(e, n, !1, t);
                            }
                          ))
                        : T(i, n, !1, t);
                    },
                    T = function (t, n, o, r) {
                      if (
                        (o || (void 0 !== n.defaultText && (t = n.defaultText)),
                          "translate" === r)
                      ) {
                        (o ||
                          (!o &&
                            !e.isKeepContent() &&
                            void 0 === m.translateKeepContent)) &&
                          g.empty().append(n.preText + t + n.postText);
                        var a = e.isPostCompilingEnabled(),
                          s = void 0 !== l.translateCompile,
                          c = s && "false" !== l.translateCompile;
                        ((a && !s) || c) && i(g.contents())(n);
                      } else {
                        var u = m.$attr[r];
                        "data-" === u.substr(0, 5) && (u = u.substr(5)),
                          (u = u.substr(15)),
                          g.attr(u, t);
                      }
                    };
                  (c || p || m.translateDefault) &&
                    s.$watch("interpolateParams", E, !0),
                    s.$on("translateLanguageChanged", E);
                  var C = o.$on("$translateChangeSuccess", E);
                  g.text().length
                    ? m.translate
                      ? b(m.translate)
                      : b("")
                    : m.translate && b(m.translate),
                    E(),
                    s.$on("$destroy", C);
                };
              },
            };
          }
          function o(e, t) {
            "use strict";
            return {
              restrict: "A",
              priority: e.directivePriority(),
              link: function (i, n, o) {
                var a,
                  s,
                  l,
                  c = {},
                  u = function () {
                    angular.forEach(a, function (t, r) {
                      t &&
                        ((c[r] = !0),
                          i.translateNamespace &&
                          "." === t.charAt(0) &&
                          (t = i.translateNamespace + t),
                          e(
                            t,
                            s,
                            o.translateInterpolation,
                            void 0,
                            i.translateLanguage,
                            l
                          ).then(
                            function (e) {
                              n.attr(r, e);
                            },
                            function (e) {
                              n.attr(r, e);
                            }
                          ));
                    }),
                      angular.forEach(c, function (e, t) {
                        a[t] || (n.removeAttr(t), delete c[t]);
                      });
                  };
                r(
                  i,
                  o.translateAttr,
                  function (e) {
                    a = e;
                  },
                  u
                ),
                  r(
                    i,
                    o.translateValues,
                    function (e) {
                      s = e;
                    },
                    u
                  ),
                  r(
                    i,
                    o.translateSanitizeStrategy,
                    function (e) {
                      l = e;
                    },
                    u
                  ),
                  o.translateValues && i.$watch(o.translateValues, u, !0),
                  i.$on("translateLanguageChanged", u);
                var d = t.$on("$translateChangeSuccess", u);
                u(), i.$on("$destroy", d);
              },
            };
          }
          function r(e, t, i, n) {
            "use strict";
            t &&
              ("::" === t.substr(0, 2)
                ? (t = t.substr(2))
                : e.$watch(
                  t,
                  function (e) {
                    i(e), n();
                  },
                  !0
                ),
                i(e.$eval(t)));
          }
          function a(e, t) {
            "use strict";
            return {
              compile: function (i) {
                var n = function (t) {
                  t.addClass(e.cloakClassName());
                },
                  o = function (t) {
                    t.removeClass(e.cloakClassName());
                  };
                return (
                  n(i),
                  function (i, r, a) {
                    var s = o.bind(this, r),
                      l = n.bind(this, r);
                    a.translateCloak && a.translateCloak.length
                      ? (a.$observe("translateCloak", function (t) {
                        e(t).then(s, l);
                      }),
                        t.$on("$translateChangeSuccess", function () {
                          e(a.translateCloak).then(s, l);
                        }))
                      : e.onReady(s);
                  }
                );
              },
            };
          }
          function s() {
            "use strict";
            return {
              restrict: "A",
              scope: !0,
              compile: function () {
                return {
                  pre: function (e, t, i) {
                    (e.translateNamespace = (function e(t) {
                      return t.translateNamespace
                        ? t.translateNamespace
                        : t.$parent
                          ? e(t.$parent)
                          : void 0;
                    })(e)),
                      e.translateNamespace &&
                        "." === i.translateNamespace.charAt(0)
                        ? (e.translateNamespace += i.translateNamespace)
                        : (e.translateNamespace = i.translateNamespace);
                  },
                };
              },
            };
          }
          function l() {
            "use strict";
            return {
              restrict: "A",
              scope: !0,
              compile: function () {
                return function (e, t, i) {
                  i.$observe("translateLanguage", function (t) {
                    e.translateLanguage = t;
                  }),
                    e.$watch("translateLanguage", function () {
                      e.$broadcast("translateLanguageChanged");
                    });
                };
              },
            };
          }
          function c(e, t) {
            "use strict";
            var i = function (i, n, o, r) {
              if (!angular.isObject(n)) {
                var a = this || {
                  __SCOPE_IS_NOT_AVAILABLE:
                    "More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f",
                };
                n = e(n)(a);
              }
              return t.instant(i, n, o, r);
            };
            return t.statefulFilter() && (i.$stateful = !0), i;
          }
          function u(e) {
            "use strict";
            return e("translations");
          }
          return (
            (e.$inject = ["$translate"]),
            (t.$inject = [
              "$STORAGE_KEY",
              "$windowProvider",
              "$translateSanitizationProvider",
              "pascalprechtTranslateOverrider",
            ]),
            (i.$inject = ["$interpolate", "$translateSanitization"]),
            (n.$inject = [
              "$translate",
              "$interpolate",
              "$compile",
              "$parse",
              "$rootScope",
            ]),
            (o.$inject = ["$translate", "$rootScope"]),
            (a.$inject = ["$translate", "$rootScope"]),
            (c.$inject = ["$parse", "$translate"]),
            (u.$inject = ["$cacheFactory"]),
            angular.module("pascalprecht.translate", ["ng"]).run(e),
            (e.displayName = "runTranslate"),
            angular
              .module("pascalprecht.translate")
              .provider("$translateSanitization", function () {
                "use strict";
                var e,
                  t,
                  i,
                  n = null,
                  o = !1,
                  r = !1;
                ((i = {
                  sanitize: function (e, t) {
                    return "text" === t && (e = s(e)), e;
                  },
                  escape: function (e, t) {
                    return "text" === t && (e = a(e)), e;
                  },
                  sanitizeParameters: function (e, t) {
                    return "params" === t && (e = c(e, s)), e;
                  },
                  escapeParameters: function (e, t) {
                    return "params" === t && (e = c(e, a)), e;
                  },
                  sce: function (e, t, i) {
                    return (
                      "text" === t
                        ? (e = l(e))
                        : "params" === t && "filter" !== i && (e = c(e, a)),
                      e
                    );
                  },
                  sceParameters: function (e, t) {
                    return "params" === t && (e = c(e, l)), e;
                  },
                }).escaped = i.escapeParameters),
                  (this.addStrategy = function (e, t) {
                    return (i[e] = t), this;
                  }),
                  (this.removeStrategy = function (e) {
                    return delete i[e], this;
                  }),
                  (this.useStrategy = function (e) {
                    return (o = !0), (n = e), this;
                  }),
                  (this.$get = [
                    "$injector",
                    "$log",
                    function (a, s) {
                      var l,
                        c = {};
                      return (
                        a.has("$sanitize") && (e = a.get("$sanitize")),
                        a.has("$sce") && (t = a.get("$sce")),
                        {
                          useStrategy:
                            ((l = this),
                              function (e) {
                                l.useStrategy(e);
                              }),
                          sanitize: function (e, t, l, u) {
                            return (
                              n ||
                              o ||
                              r ||
                              (s.warn(
                                "pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."
                              ),
                                (r = !0)),
                              l || null === l || (l = n),
                              l
                                ? (u || (u = "service"),
                                  (function (e, t, n, o) {
                                    return (
                                      angular.forEach(o, function (o) {
                                        if (angular.isFunction(o))
                                          e = o(e, t, n);
                                        else if (angular.isFunction(i[o]))
                                          e = i[o](e, t, n);
                                        else {
                                          if (!angular.isString(i[o]))
                                            throw new Error(
                                              "pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '" +
                                              o +
                                              "'"
                                            );
                                          if (!c[i[o]])
                                            try {
                                              c[i[o]] = a.get(i[o]);
                                            } catch (e) {
                                              throw (
                                                ((c[i[o]] = function () { }),
                                                  new Error(
                                                    "pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '" +
                                                    o +
                                                    "'"
                                                  ))
                                              );
                                            }
                                          e = c[i[o]](e, t, n);
                                        }
                                      }),
                                      e
                                    );
                                  })(e, t, u, angular.isArray(l) ? l : [l]))
                                : e
                            );
                          },
                        }
                      );
                    },
                  ]);
                var a = function (e) {
                  var t = angular.element("<div></div>");
                  return t.text(e), t.html();
                },
                  s = function (t) {
                    if (!e)
                      throw new Error(
                        "pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'."
                      );
                    return e(t);
                  },
                  l = function (e) {
                    if (!t)
                      throw new Error(
                        "pascalprecht.translate.$translateSanitization: Error cannot find $sce service."
                      );
                    return t.trustAsHtml(e);
                  },
                  c = function (e, t, i) {
                    if (angular.isDate(e)) return e;
                    if (angular.isObject(e)) {
                      var n = angular.isArray(e) ? [] : {};
                      if (i) {
                        if (i.indexOf(e) > -1)
                          throw new Error(
                            "pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object"
                          );
                      } else i = [];
                      return (
                        i.push(e),
                        angular.forEach(e, function (e, o) {
                          angular.isFunction(e) || (n[o] = c(e, t, i));
                        }),
                        i.splice(-1, 1),
                        n
                      );
                    }
                    return angular.isNumber(e) ||
                      !0 === e ||
                      !1 === e ||
                      angular.isUndefined(e) ||
                      null === e
                      ? e
                      : t(e);
                  };
              }),
            angular
              .module("pascalprecht.translate")
              .constant("pascalprechtTranslateOverrider", {})
              .provider("$translate", t),
            (t.displayName = "displayName"),
            angular
              .module("pascalprecht.translate")
              .factory("$translateDefaultInterpolation", i),
            (i.displayName = "$translateDefaultInterpolation"),
            angular
              .module("pascalprecht.translate")
              .constant("$STORAGE_KEY", "NG_TRANSLATE_LANG_KEY"),
            angular.module("pascalprecht.translate").directive("translate", n),
            (n.displayName = "translateDirective"),
            angular
              .module("pascalprecht.translate")
              .directive("translateAttr", o),
            (o.displayName = "translateAttrDirective"),
            angular
              .module("pascalprecht.translate")
              .directive("translateCloak", a),
            (a.displayName = "translateCloakDirective"),
            angular
              .module("pascalprecht.translate")
              .directive("translateNamespace", s),
            (s.displayName = "translateNamespaceDirective"),
            angular
              .module("pascalprecht.translate")
              .directive("translateLanguage", l),
            (l.displayName = "translateLanguageDirective"),
            angular.module("pascalprecht.translate").filter("translate", c),
            (c.displayName = "translateFilterFactory"),
            angular
              .module("pascalprecht.translate")
              .factory("$translationCache", u),
            (u.displayName = "$translationCache"),
            "pascalprecht.translate"
          );
        })();
      }.apply(t, [])) || (e.exports = n);
  },
  function (e, t, i) {
    var n;
    /*!
     * angular-translate - v2.18.2 - 2020-01-04
     *
     * Copyright (c) 2020 The angular-translate team, Pascal Precht; Licensed MIT
     */ void 0 ===
      (n = function () {
        return (function () {
          function e(e, t) {
            "use strict";
            return function (i) {
              if (
                !i ||
                !(
                  angular.isArray(i.files) ||
                  (angular.isString(i.prefix) && angular.isString(i.suffix))
                )
              )
                throw new Error(
                  "Couldn't load static files, no files and prefix or suffix specified!"
                );
              i.files || (i.files = [{ prefix: i.prefix, suffix: i.suffix }]);
              for (
                var n = function (n) {
                  if (
                    !n ||
                    !angular.isString(n.prefix) ||
                    !angular.isString(n.suffix)
                  )
                    throw new Error(
                      "Couldn't load static file, no prefix or suffix specified!"
                    );
                  var o = [n.prefix, i.key, n.suffix].join("");
                  return (
                    angular.isObject(i.fileMap) &&
                    i.fileMap[o] &&
                    (o = i.fileMap[o]),
                    t(
                      angular.extend({ url: o, method: "GET" }, i.$http)
                    ).then(
                      function (e) {
                        return e.data;
                      },
                      function () {
                        return e.reject(i.key);
                      }
                    )
                  );
                },
                o = [],
                r = i.files.length,
                a = 0;
                a < r;
                a++
              )
                o.push(
                  n({
                    prefix: i.files[a].prefix,
                    key: i.key,
                    suffix: i.files[a].suffix,
                  })
                );
              return e.all(o).then(function (e) {
                for (var t = e.length, i = {}, n = 0; n < t; n++)
                  for (var o in e[n]) i[o] = e[n][o];
                return i;
              });
            };
          }
          return (
            (e.$inject = ["$q", "$http"]),
            angular
              .module("pascalprecht.translate")
              .factory("$translateStaticFilesLoader", e),
            (e.displayName = "$translateStaticFilesLoader"),
            "pascalprecht.translate"
          );
        })();
      }.apply(t, [])) || (e.exports = n);
  },
  function (e, t, i) {
    var n, o;
    (n = [i(11)]),
      void 0 !==
      (o = function (e) {
        return (function (e) {
          function t(t, i) {
            isFinite(i) ? 0 !== i && (i = i || 2) : e.isString(i) || (i = 2);
            for (
              var n = t
                .replace(/>\s*</gm, "><")
                .replace(/</g, "~::~<")
                .replace(/\s*xmlns([=:])/g, "~::~xmlns$1")
                .split("~::~"),
              o = n.length,
              r = !1,
              a = 0,
              s = "",
              l = (function (e) {
                var t = "";
                if (isNaN(parseInt(e))) t = e;
                else for (var i = 0; e > i; i++) t += " ";
                for (var n = ["\n"], o = 0; 100 > o; o++) n.push(n[o] + t);
                return n;
              })(i),
              c = 0;
              o > c;
              c++
            )
              -1 !== n[c].indexOf("<!")
                ? ((s += l[a] + n[c]),
                  (r = !0),
                  (-1 !== n[c].indexOf("--\x3e") ||
                    -1 !== n[c].indexOf("]>") ||
                    -1 !== n[c].indexOf("!DOCTYPE")) &&
                  (r = !1))
                : -1 !== n[c].indexOf("--\x3e") || -1 !== n[c].indexOf("]>")
                  ? ((s += n[c]), (r = !1))
                  : /^<\w/.test(n[c - 1]) &&
                    /^<\/\w/.test(n[c]) &&
                    /^<[\w:\-\.,]+/.exec(n[c - 1]) ==
                    /^<\/[\w:\-\.,]+/.exec(n[c])[0].replace("/", "")
                    ? ((s += n[c]), r || a--)
                    : (s +=
                      -1 !== n[c].search(/<\w/) &&
                        -1 === n[c].indexOf("</") &&
                        -1 === n[c].indexOf("/>")
                        ? r
                          ? n[c]
                          : l[a++] + n[c]
                        : -1 !== n[c].search(/<\w/) && -1 !== n[c].indexOf("</")
                          ? r
                            ? n[c]
                            : l[a] + n[c]
                          : n[c].search(/<\//) > -1
                            ? r
                              ? n[c]
                              : l[--a] + n[c]
                            : -1 !== n[c].indexOf("/>")
                              ? r
                                ? n[c]
                                : l[a] + n[c]
                              : -1 !== n[c].indexOf("<?") ||
                                -1 !== n[c].indexOf("xmlns:") ||
                                -1 !== n[c].indexOf("xmlns=")
                                ? l[a] + n[c]
                                : n[c]);
            return s.trim();
          }
          return e.module("prettyXml", []).filter("prettyXml", function () {
            return t;
          });
        })(e);
      }.apply(t, n)) && (e.exports = o);
  },
  function (e, t, i) {
    /**
     *  angular-simple-logger
     *
     * @version: 0.1.7
     * @author: Nicholas McCready
     * @date: Tue Jan 26 2016 10:15:01 GMT-0500 (EST)
     * @license: MIT
     */
    var n = i(11);
    n.module("nemLogging", []),
      n.module("nemLogging").provider("nemDebug", function () {
        var e;
        return (
          (e = i(71)),
          (this.$get = function () {
            return e;
          }),
          (this.debug = e),
          this
        );
      });
    var o = [].slice;
    n.module("nemLogging").provider("nemSimpleLogger", [
      "nemDebugProvider",
      function (e) {
        var t, i, n, r, a, s, l, c, u, d, p, h;
        for (
          p = e.debug,
          n = {},
          t = {},
          u = c = 0,
          d = (r = ["debug", "info", "warn", "error", "log"]).length;
          c < d;
          u = ++c
        )
          t[(h = r[u])] = u;
        return (
          (s = function (e, t, i) {
            if (e >= t) return i();
          }),
          (a = function (e) {
            var t, i, n;
            if (((t = !1), !e)) return t;
            for (
              i = 0, n = r.length;
              i < n && (t = null != e[(h = r[i])] && "function" == typeof e[h]);
              i++
            );
            return t;
          }),
          (l = function (e, t) {
            var i, o, a, s;
            for (
              null == n[e] && (n[e] = p(e)),
              i = n[e],
              s = {},
              o = 0,
              a = r.length;
              o < a;
              o++
            )
              s[(h = r[o])] = "debug" === h ? i : t[h];
            return s;
          }),
          (i = (function () {
            function e(e) {
              var i, n, l, c, u, d, p;
              if (
                ((this.$log = e),
                  (this.spawn =
                    ((u = this.spawn),
                      (d = this),
                      function () {
                        return u.apply(d, arguments);
                      })),
                  !this.$log)
              )
                throw "internalLogger undefined";
              if (!a(this.$log)) throw "@$log is invalid";
              for (
                this.doLog = !0,
                c = {},
                p = this,
                i = function (e) {
                  return (
                    (c[e] = function () {
                      var i;
                      if (
                        ((i =
                          1 <= arguments.length ? o.call(arguments, 0) : []),
                          p.doLog)
                      )
                        return s(t[e], p.currentLevel, function () {
                          var t;
                          return (t = p.$log)[e].apply(t, i);
                        });
                    }),
                    (p[e] = c[e])
                  );
                },
                n = 0,
                l = r.length;
                n < l;
                n++
              )
                i(r[n]);
              (this.LEVELS = t), (this.currentLevel = t.error);
            }
            return (
              (e.prototype.spawn = function (t) {
                if ("string" == typeof t) {
                  if (!a(this.$log)) throw "@$log is invalid";
                  if (!p)
                    throw "nemDebug is undefined this is probably the light version of this library sep debug logggers is not supported!";
                  return l(t, this.$log);
                }
                return new e(t || this.$log);
              }),
              e
            );
          })()),
          (this.decorator = [
            "$log",
            function (e) {
              var n;
              return ((n = new i(e)).currentLevel = t.debug), n;
            },
          ]),
          (this.$get = [
            "$log",
            function (e) {
              return new i(e);
            },
          ]),
          this
        );
      },
    ]);
  },
  function (e, t, i) {
    (function (n) {
      function o() {
        var e;
        try {
          e = t.storage.debug;
        } catch (e) { }
        return !e && void 0 !== n && "env" in n && (e = n.env.DEBUG), e;
      }
      ((t = e.exports = i(73)).log = function () {
        return (
          "object" == typeof console &&
          console.log &&
          Function.prototype.apply.call(console.log, console, arguments)
        );
      }),
        (t.formatArgs = function (e) {
          var i = this.useColors;
          if (
            ((e[0] =
              (i ? "%c" : "") +
              this.namespace +
              (i ? " %c" : " ") +
              e[0] +
              (i ? "%c " : " ") +
              "+" +
              t.humanize(this.diff)),
              !i)
          )
            return;
          var n = "color: " + this.color;
          e.splice(1, 0, n, "color: inherit");
          var o = 0,
            r = 0;
          e[0].replace(/%[a-zA-Z%]/g, function (e) {
            "%%" !== e && (o++, "%c" === e && (r = o));
          }),
            e.splice(r, 0, n);
        }),
        (t.save = function (e) {
          try {
            null == e ? t.storage.removeItem("debug") : (t.storage.debug = e);
          } catch (e) { }
        }),
        (t.load = o),
        (t.useColors = function () {
          if (
            "undefined" != typeof window &&
            window.process &&
            "renderer" === window.process.type
          )
            return !0;
          return (
            ("undefined" != typeof document &&
              document.documentElement &&
              document.documentElement.style &&
              document.documentElement.style.WebkitAppearance) ||
            ("undefined" != typeof window &&
              window.console &&
              (window.console.firebug ||
                (window.console.exception && window.console.table))) ||
            ("undefined" != typeof navigator &&
              navigator.userAgent &&
              navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) &&
              parseInt(RegExp.$1, 10) >= 31) ||
            ("undefined" != typeof navigator &&
              navigator.userAgent &&
              navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
          );
        }),
        (t.storage =
          "undefined" != typeof chrome && void 0 !== chrome.storage
            ? chrome.storage.local
            : (function () {
              try {
                return window.localStorage;
              } catch (e) { }
            })()),
        (t.colors = [
          "lightseagreen",
          "forestgreen",
          "goldenrod",
          "dodgerblue",
          "darkorchid",
          "crimson",
        ]),
        (t.formatters.j = function (e) {
          try {
            return JSON.stringify(e);
          } catch (e) {
            return "[UnexpectedJSONParseError]: " + e.message;
          }
        }),
        t.enable(o());
    }.call(this, i(72)));
  },
  function (e, t) {
    var i,
      n,
      o = (e.exports = {});
    function r() {
      throw new Error("setTimeout has not been defined");
    }
    function a() {
      throw new Error("clearTimeout has not been defined");
    }
    function s(e) {
      if (i === setTimeout) return setTimeout(e, 0);
      if ((i === r || !i) && setTimeout)
        return (i = setTimeout), setTimeout(e, 0);
      try {
        return i(e, 0);
      } catch (t) {
        try {
          return i.call(null, e, 0);
        } catch (t) {
          return i.call(this, e, 0);
        }
      }
    }
    !(function () {
      try {
        i = "function" == typeof setTimeout ? setTimeout : r;
      } catch (e) {
        i = r;
      }
      try {
        n = "function" == typeof clearTimeout ? clearTimeout : a;
      } catch (e) {
        n = a;
      }
    })();
    var l,
      c = [],
      u = !1,
      d = -1;
    function p() {
      u &&
        l &&
        ((u = !1), l.length ? (c = l.concat(c)) : (d = -1), c.length && h());
    }
    function h() {
      if (!u) {
        var e = s(p);
        u = !0;
        for (var t = c.length; t;) {
          for (l = c, c = []; ++d < t;) l && l[d].run();
          (d = -1), (t = c.length);
        }
        (l = null),
          (u = !1),
          (function (e) {
            if (n === clearTimeout) return clearTimeout(e);
            if ((n === a || !n) && clearTimeout)
              return (n = clearTimeout), clearTimeout(e);
            try {
              n(e);
            } catch (t) {
              try {
                return n.call(null, e);
              } catch (t) {
                return n.call(this, e);
              }
            }
          })(e);
      }
    }
    function f(e, t) {
      (this.fun = e), (this.array = t);
    }
    function g() { }
    (o.nextTick = function (e) {
      var t = new Array(arguments.length - 1);
      if (arguments.length > 1)
        for (var i = 1; i < arguments.length; i++) t[i - 1] = arguments[i];
      c.push(new f(e, t)), 1 !== c.length || u || s(h);
    }),
      (f.prototype.run = function () {
        this.fun.apply(null, this.array);
      }),
      (o.title = "browser"),
      (o.browser = !0),
      (o.env = {}),
      (o.argv = []),
      (o.version = ""),
      (o.versions = {}),
      (o.on = g),
      (o.addListener = g),
      (o.once = g),
      (o.off = g),
      (o.removeListener = g),
      (o.removeAllListeners = g),
      (o.emit = g),
      (o.prependListener = g),
      (o.prependOnceListener = g),
      (o.listeners = function (e) {
        return [];
      }),
      (o.binding = function (e) {
        throw new Error("process.binding is not supported");
      }),
      (o.cwd = function () {
        return "/";
      }),
      (o.chdir = function (e) {
        throw new Error("process.chdir is not supported");
      }),
      (o.umask = function () {
        return 0;
      });
  },
  function (e, t, i) {
    var n;
    function o(e) {
      function i() {
        if (i.enabled) {
          var e = i,
            o = +new Date(),
            r = o - (n || o);
          (e.diff = r), (e.prev = n), (e.curr = o), (n = o);
          for (var a = new Array(arguments.length), s = 0; s < a.length; s++)
            a[s] = arguments[s];
          (a[0] = t.coerce(a[0])), "string" != typeof a[0] && a.unshift("%O");
          var l = 0;
          (a[0] = a[0].replace(/%([a-zA-Z%])/g, function (i, n) {
            if ("%%" === i) return i;
            l++;
            var o = t.formatters[n];
            if ("function" == typeof o) {
              var r = a[l];
              (i = o.call(e, r)), a.splice(l, 1), l--;
            }
            return i;
          })),
            t.formatArgs.call(e, a);
          var c = i.log || t.log || console.log.bind(console);
          c.apply(e, a);
        }
      }
      return (
        (i.namespace = e),
        (i.enabled = t.enabled(e)),
        (i.useColors = t.useColors()),
        (i.color = (function (e) {
          var i,
            n = 0;
          for (i in e) (n = (n << 5) - n + e.charCodeAt(i)), (n |= 0);
          return t.colors[Math.abs(n) % t.colors.length];
        })(e)),
        "function" == typeof t.init && t.init(i),
        i
      );
    }
    ((t = e.exports = o.debug = o.default = o).coerce = function (e) {
      return e instanceof Error ? e.stack || e.message : e;
    }),
      (t.disable = function () {
        t.enable("");
      }),
      (t.enable = function (e) {
        t.save(e), (t.names = []), (t.skips = []);
        for (
          var i = ("string" == typeof e ? e : "").split(/[\s,]+/),
          n = i.length,
          o = 0;
          o < n;
          o++
        )
          i[o] &&
            ("-" === (e = i[o].replace(/\*/g, ".*?"))[0]
              ? t.skips.push(new RegExp("^" + e.substr(1) + "$"))
              : t.names.push(new RegExp("^" + e + "$")));
      }),
      (t.enabled = function (e) {
        var i, n;
        for (i = 0, n = t.skips.length; i < n; i++)
          if (t.skips[i].test(e)) return !1;
        for (i = 0, n = t.names.length; i < n; i++)
          if (t.names[i].test(e)) return !0;
        return !1;
      }),
      (t.humanize = i(74)),
      (t.names = []),
      (t.skips = []),
      (t.formatters = {});
  },
  function (e, t) {
    var i = 1e3,
      n = 6e4,
      o = 60 * n,
      r = 24 * o;
    function a(e, t, i) {
      if (!(e < t))
        return e < 1.5 * t
          ? Math.floor(e / t) + " " + i
          : Math.ceil(e / t) + " " + i + "s";
    }
    e.exports = function (e, t) {
      t = t || {};
      var s,
        l = typeof e;
      if ("string" === l && e.length > 0)
        return (function (e) {
          if ((e = String(e)).length > 100) return;
          var t =
            /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
              e
            );
          if (!t) return;
          var a = parseFloat(t[1]);
          switch ((t[2] || "ms").toLowerCase()) {
            case "years":
            case "year":
            case "yrs":
            case "yr":
            case "y":
              return 315576e5 * a;
            case "days":
            case "day":
            case "d":
              return a * r;
            case "hours":
            case "hour":
            case "hrs":
            case "hr":
            case "h":
              return a * o;
            case "minutes":
            case "minute":
            case "mins":
            case "min":
            case "m":
              return a * n;
            case "seconds":
            case "second":
            case "secs":
            case "sec":
            case "s":
              return a * i;
            case "milliseconds":
            case "millisecond":
            case "msecs":
            case "msec":
            case "ms":
              return a;
            default:
              return;
          }
        })(e);
      if ("number" === l && !1 === isNaN(e))
        return t.long
          ? a((s = e), r, "day") ||
          a(s, o, "hour") ||
          a(s, n, "minute") ||
          a(s, i, "second") ||
          s + " ms"
          : (function (e) {
            if (e >= r) return Math.round(e / r) + "d";
            if (e >= o) return Math.round(e / o) + "h";
            if (e >= n) return Math.round(e / n) + "m";
            if (e >= i) return Math.round(e / i) + "s";
            return e + "ms";
          })(e);
      throw new Error(
        "val is not a non-empty string or a valid number. val=" +
        JSON.stringify(e)
      );
    };
  },
  function (e, t, i) {
    var n, o;
    !(function (r, a, s) {
      var l,
        c,
        u = r.L,
        d = {};
      (d.version = "0.7.7"),
        "object" == typeof e.exports
          ? (e.exports = d)
          : void 0 ===
          (o = "function" == typeof (n = d) ? n.call(t, i, t, e) : n) ||
          (e.exports = o),
        (d.noConflict = function () {
          return (r.L = u), this;
        }),
        (r.L = d),
        (d.Util = {
          extend: function (e) {
            var t,
              i,
              n,
              o,
              r = Array.prototype.slice.call(arguments, 1);
            for (i = 0, n = r.length; i < n; i++)
              for (t in (o = r[i] || {})) o.hasOwnProperty(t) && (e[t] = o[t]);
            return e;
          },
          bind: function (e, t) {
            var i =
              arguments.length > 2
                ? Array.prototype.slice.call(arguments, 2)
                : null;
            return function () {
              return e.apply(t, i || arguments);
            };
          },
          stamp:
            ((l = 0),
              (c = "_leaflet_id"),
              function (e) {
                return (e[c] = e[c] || ++l), e[c];
              }),
          invokeEach: function (e, t, i) {
            var n, o;
            if ("object" == typeof e) {
              for (n in ((o = Array.prototype.slice.call(arguments, 3)), e))
                t.apply(i, [n, e[n]].concat(o));
              return !0;
            }
            return !1;
          },
          limitExecByInterval: function (e, t, i) {
            var n, o;
            return function r() {
              var a = arguments;
              n
                ? (o = !0)
                : ((n = !0),
                  setTimeout(function () {
                    (n = !1), o && (r.apply(i, a), (o = !1));
                  }, t),
                  e.apply(i, a));
            };
          },
          falseFn: function () {
            return !1;
          },
          formatNum: function (e, t) {
            var i = Math.pow(10, t || 5);
            return Math.round(e * i) / i;
          },
          trim: function (e) {
            return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "");
          },
          splitWords: function (e) {
            return d.Util.trim(e).split(/\s+/);
          },
          setOptions: function (e, t) {
            return (e.options = d.extend({}, e.options, t)), e.options;
          },
          getParamString: function (e, t, i) {
            var n = [];
            for (var o in e)
              n.push(
                encodeURIComponent(i ? o.toUpperCase() : o) +
                "=" +
                encodeURIComponent(e[o])
              );
            return (t && -1 !== t.indexOf("?") ? "&" : "?") + n.join("&");
          },
          template: function (e, t) {
            return e.replace(/\{ *([\w_]+) *\}/g, function (e, i) {
              var n = t[i];
              if (void 0 === n)
                throw new Error("No value provided for variable " + e);
              return "function" == typeof n && (n = n(t)), n;
            });
          },
          isArray:
            Array.isArray ||
            function (e) {
              return "[object Array]" === Object.prototype.toString.call(e);
            },
          emptyImageUrl:
            "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",
        }),
        (function () {
          function e(e) {
            var t,
              i,
              n = ["webkit", "moz", "o", "ms"];
            for (t = 0; t < n.length && !i; t++) i = r[n[t] + e];
            return i;
          }
          var t = 0;
          function i(e) {
            var i = +new Date(),
              n = Math.max(0, 16 - (i - t));
            return (t = i + n), r.setTimeout(e, n);
          }
          var n = r.requestAnimationFrame || e("RequestAnimationFrame") || i,
            o =
              r.cancelAnimationFrame ||
              e("CancelAnimationFrame") ||
              e("CancelRequestAnimationFrame") ||
              function (e) {
                r.clearTimeout(e);
              };
          (d.Util.requestAnimFrame = function (e, t, o, a) {
            if (((e = d.bind(e, t)), !o || n !== i)) return n.call(r, e, a);
            e();
          }),
            (d.Util.cancelAnimFrame = function (e) {
              e && o.call(r, e);
            });
        })(),
        (d.extend = d.Util.extend),
        (d.bind = d.Util.bind),
        (d.stamp = d.Util.stamp),
        (d.setOptions = d.Util.setOptions),
        (d.Class = function () { }),
        (d.Class.extend = function (e) {
          var t = function () {
            this.initialize && this.initialize.apply(this, arguments),
              this._initHooks && this.callInitHooks();
          },
            i = function () { };
          i.prototype = this.prototype;
          var n = new i();
          for (var o in ((n.constructor = t), (t.prototype = n), this))
            this.hasOwnProperty(o) && "prototype" !== o && (t[o] = this[o]);
          e.statics && (d.extend(t, e.statics), delete e.statics),
            e.includes &&
            (d.Util.extend.apply(null, [n].concat(e.includes)),
              delete e.includes),
            e.options &&
            n.options &&
            (e.options = d.extend({}, n.options, e.options)),
            d.extend(n, e),
            (n._initHooks = []);
          var r = this;
          return (
            (t.__super__ = r.prototype),
            (n.callInitHooks = function () {
              if (!this._initHooksCalled) {
                r.prototype.callInitHooks &&
                  r.prototype.callInitHooks.call(this),
                  (this._initHooksCalled = !0);
                for (var e = 0, t = n._initHooks.length; e < t; e++)
                  n._initHooks[e].call(this);
              }
            }),
            t
          );
        }),
        (d.Class.include = function (e) {
          d.extend(this.prototype, e);
        }),
        (d.Class.mergeOptions = function (e) {
          d.extend(this.prototype.options, e);
        }),
        (d.Class.addInitHook = function (e) {
          var t = Array.prototype.slice.call(arguments, 1),
            i =
              "function" == typeof e
                ? e
                : function () {
                  this[e].apply(this, t);
                };
          (this.prototype._initHooks = this.prototype._initHooks || []),
            this.prototype._initHooks.push(i);
        });
      var p,
        h,
        f,
        g = "_leaflet_events";
      (d.Mixin = {}),
        (d.Mixin.Events = {
          addEventListener: function (e, t, i) {
            if (d.Util.invokeEach(e, this.addEventListener, this, t, i))
              return this;
            var n,
              o,
              r,
              a,
              s,
              l,
              c,
              u = (this[g] = this[g] || {}),
              p = i && i !== this && d.stamp(i);
            for (n = 0, o = (e = d.Util.splitWords(e)).length; n < o; n++)
              (r = { action: t, context: i || this }),
                (a = e[n]),
                p
                  ? ((l = (s = a + "_idx") + "_len"),
                    (c = u[s] = u[s] || {})[p] ||
                    ((c[p] = []), (u[l] = (u[l] || 0) + 1)),
                    c[p].push(r))
                  : ((u[a] = u[a] || []), u[a].push(r));
            return this;
          },
          hasEventListeners: function (e) {
            var t = this[g];
            return (
              !!t &&
              ((e in t && t[e].length > 0) ||
                (e + "_idx" in t && t[e + "_idx_len"] > 0))
            );
          },
          removeEventListener: function (e, t, i) {
            if (!this[g]) return this;
            if (!e) return this.clearAllEventListeners();
            if (d.Util.invokeEach(e, this.removeEventListener, this, t, i))
              return this;
            var n,
              o,
              r,
              a,
              s,
              l,
              c,
              u,
              p = this[g],
              h = i && i !== this && d.stamp(i);
            for (n = 0, o = (e = d.Util.splitWords(e)).length; n < o; n++)
              if (((c = (l = (r = e[n]) + "_idx") + "_len"), (u = p[l]), t)) {
                if ((a = h && u ? u[h] : p[r])) {
                  for (s = a.length - 1; s >= 0; s--)
                    a[s].action !== t ||
                      (i && a[s].context !== i) ||
                      (a.splice(s, 1)[0].action = d.Util.falseFn);
                  i && u && 0 === a.length && (delete u[h], p[c]--);
                }
              } else delete p[r], delete p[l], delete p[c];
            return this;
          },
          clearAllEventListeners: function () {
            return delete this[g], this;
          },
          fireEvent: function (e, t) {
            if (!this.hasEventListeners(e)) return this;
            var i,
              n,
              o,
              r,
              a,
              s = d.Util.extend({}, t, { type: e, target: this }),
              l = this[g];
            if (l[e])
              for (n = 0, o = (i = l[e].slice()).length; n < o; n++)
                i[n].action.call(i[n].context, s);
            for (a in (r = l[e + "_idx"]))
              if ((i = r[a].slice()))
                for (n = 0, o = i.length; n < o; n++)
                  i[n].action.call(i[n].context, s);
            return this;
          },
          addOneTimeEventListener: function (e, t, i) {
            if (d.Util.invokeEach(e, this.addOneTimeEventListener, this, t, i))
              return this;
            var n = d.bind(function () {
              this.removeEventListener(e, t, i).removeEventListener(e, n, i);
            }, this);
            return this.addEventListener(e, t, i).addEventListener(e, n, i);
          },
        }),
        (d.Mixin.Events.on = d.Mixin.Events.addEventListener),
        (d.Mixin.Events.off = d.Mixin.Events.removeEventListener),
        (d.Mixin.Events.once = d.Mixin.Events.addOneTimeEventListener),
        (d.Mixin.Events.fire = d.Mixin.Events.fireEvent),
        (function () {
          var e = "ActiveXObject" in r,
            t = e && !a.addEventListener,
            i = navigator.userAgent.toLowerCase(),
            n = -1 !== i.indexOf("webkit"),
            o = -1 !== i.indexOf("chrome"),
            s = -1 !== i.indexOf("phantom"),
            l = -1 !== i.indexOf("android"),
            c = -1 !== i.search("android [23]"),
            u = -1 !== i.indexOf("gecko"),
            p = typeof orientation != void 0 + "",
            h = !r.PointerEvent && r.MSPointerEvent,
            f = (r.PointerEvent && r.navigator.pointerEnabled) || h,
            g =
              ("devicePixelRatio" in r && r.devicePixelRatio > 1) ||
              ("matchMedia" in r &&
                r.matchMedia("(min-resolution:144dpi)") &&
                r.matchMedia("(min-resolution:144dpi)").matches),
            m = a.documentElement,
            v = e && "transition" in m.style,
            b =
              "WebKitCSSMatrix" in r && "m11" in new r.WebKitCSSMatrix() && !c,
            y = "MozPerspective" in m.style,
            x = "OTransition" in m.style,
            w = !r.L_DISABLE_3D && (v || b || y || x) && !s,
            _ =
              !r.L_NO_TOUCH &&
              !s &&
              (f ||
                "ontouchstart" in r ||
                (r.DocumentTouch && a instanceof r.DocumentTouch));
          d.Browser = {
            ie: e,
            ielt9: t,
            webkit: n,
            gecko: u && !n && !r.opera && !e,
            android: l,
            android23: c,
            chrome: o,
            ie3d: v,
            webkit3d: b,
            gecko3d: y,
            opera3d: x,
            any3d: w,
            mobile: p,
            mobileWebkit: p && n,
            mobileWebkit3d: p && b,
            mobileOpera: p && r.opera,
            touch: _,
            msPointer: h,
            pointer: f,
            retina: g,
          };
        })(),
        (d.Point = function (e, t, i) {
          (this.x = i ? Math.round(e) : e), (this.y = i ? Math.round(t) : t);
        }),
        (d.Point.prototype = {
          clone: function () {
            return new d.Point(this.x, this.y);
          },
          add: function (e) {
            return this.clone()._add(d.point(e));
          },
          _add: function (e) {
            return (this.x += e.x), (this.y += e.y), this;
          },
          subtract: function (e) {
            return this.clone()._subtract(d.point(e));
          },
          _subtract: function (e) {
            return (this.x -= e.x), (this.y -= e.y), this;
          },
          divideBy: function (e) {
            return this.clone()._divideBy(e);
          },
          _divideBy: function (e) {
            return (this.x /= e), (this.y /= e), this;
          },
          multiplyBy: function (e) {
            return this.clone()._multiplyBy(e);
          },
          _multiplyBy: function (e) {
            return (this.x *= e), (this.y *= e), this;
          },
          round: function () {
            return this.clone()._round();
          },
          _round: function () {
            return (
              (this.x = Math.round(this.x)), (this.y = Math.round(this.y)), this
            );
          },
          floor: function () {
            return this.clone()._floor();
          },
          _floor: function () {
            return (
              (this.x = Math.floor(this.x)), (this.y = Math.floor(this.y)), this
            );
          },
          distanceTo: function (e) {
            var t = (e = d.point(e)).x - this.x,
              i = e.y - this.y;
            return Math.sqrt(t * t + i * i);
          },
          equals: function (e) {
            return (e = d.point(e)).x === this.x && e.y === this.y;
          },
          contains: function (e) {
            return (
              (e = d.point(e)),
              Math.abs(e.x) <= Math.abs(this.x) &&
              Math.abs(e.y) <= Math.abs(this.y)
            );
          },
          toString: function () {
            return (
              "Point(" +
              d.Util.formatNum(this.x) +
              ", " +
              d.Util.formatNum(this.y) +
              ")"
            );
          },
        }),
        (d.point = function (e, t, i) {
          return e instanceof d.Point
            ? e
            : d.Util.isArray(e)
              ? new d.Point(e[0], e[1])
              : null == e
                ? e
                : new d.Point(e, t, i);
        }),
        (d.Bounds = function (e, t) {
          if (e)
            for (var i = t ? [e, t] : e, n = 0, o = i.length; n < o; n++)
              this.extend(i[n]);
        }),
        (d.Bounds.prototype = {
          extend: function (e) {
            return (
              (e = d.point(e)),
              this.min || this.max
                ? ((this.min.x = Math.min(e.x, this.min.x)),
                  (this.max.x = Math.max(e.x, this.max.x)),
                  (this.min.y = Math.min(e.y, this.min.y)),
                  (this.max.y = Math.max(e.y, this.max.y)))
                : ((this.min = e.clone()), (this.max = e.clone())),
              this
            );
          },
          getCenter: function (e) {
            return new d.Point(
              (this.min.x + this.max.x) / 2,
              (this.min.y + this.max.y) / 2,
              e
            );
          },
          getBottomLeft: function () {
            return new d.Point(this.min.x, this.max.y);
          },
          getTopRight: function () {
            return new d.Point(this.max.x, this.min.y);
          },
          getSize: function () {
            return this.max.subtract(this.min);
          },
          contains: function (e) {
            var t, i;
            return (
              (e =
                "number" == typeof e[0] || e instanceof d.Point
                  ? d.point(e)
                  : d.bounds(e)) instanceof d.Bounds
                ? ((t = e.min), (i = e.max))
                : (t = i = e),
              t.x >= this.min.x &&
              i.x <= this.max.x &&
              t.y >= this.min.y &&
              i.y <= this.max.y
            );
          },
          intersects: function (e) {
            e = d.bounds(e);
            var t = this.min,
              i = this.max,
              n = e.min,
              o = e.max,
              r = o.x >= t.x && n.x <= i.x,
              a = o.y >= t.y && n.y <= i.y;
            return r && a;
          },
          isValid: function () {
            return !(!this.min || !this.max);
          },
        }),
        (d.bounds = function (e, t) {
          return !e || e instanceof d.Bounds ? e : new d.Bounds(e, t);
        }),
        (d.Transformation = function (e, t, i, n) {
          (this._a = e), (this._b = t), (this._c = i), (this._d = n);
        }),
        (d.Transformation.prototype = {
          transform: function (e, t) {
            return this._transform(e.clone(), t);
          },
          _transform: function (e, t) {
            return (
              (t = t || 1),
              (e.x = t * (this._a * e.x + this._b)),
              (e.y = t * (this._c * e.y + this._d)),
              e
            );
          },
          untransform: function (e, t) {
            return (
              (t = t || 1),
              new d.Point(
                (e.x / t - this._b) / this._a,
                (e.y / t - this._d) / this._c
              )
            );
          },
        }),
        (d.DomUtil = {
          get: function (e) {
            return "string" == typeof e ? a.getElementById(e) : e;
          },
          getStyle: function (e, t) {
            var i = e.style[t];
            if (
              (!i && e.currentStyle && (i = e.currentStyle[t]),
                (!i || "auto" === i) && a.defaultView)
            ) {
              var n = a.defaultView.getComputedStyle(e, null);
              i = n ? n[t] : null;
            }
            return "auto" === i ? null : i;
          },
          getViewportOffset: function (e) {
            var t,
              i = 0,
              n = 0,
              o = e,
              r = a.body,
              s = a.documentElement;
            do {
              if (
                ((i += o.offsetTop || 0),
                  (n += o.offsetLeft || 0),
                  (i +=
                    parseInt(d.DomUtil.getStyle(o, "borderTopWidth"), 10) || 0),
                  (n +=
                    parseInt(d.DomUtil.getStyle(o, "borderLeftWidth"), 10) || 0),
                  (t = d.DomUtil.getStyle(o, "position")),
                  o.offsetParent === r && "absolute" === t)
              )
                break;
              if ("fixed" === t) {
                (i += r.scrollTop || s.scrollTop || 0),
                  (n += r.scrollLeft || s.scrollLeft || 0);
                break;
              }
              if ("relative" === t && !o.offsetLeft) {
                var l = d.DomUtil.getStyle(o, "width"),
                  c = d.DomUtil.getStyle(o, "max-width"),
                  u = o.getBoundingClientRect();
                ("none" === l && "none" === c) || (n += u.left + o.clientLeft),
                  (i += u.top + (r.scrollTop || s.scrollTop || 0));
                break;
              }
              o = o.offsetParent;
            } while (o);
            o = e;
            do {
              if (o === r) break;
              (i -= o.scrollTop || 0),
                (n -= o.scrollLeft || 0),
                (o = o.parentNode);
            } while (o);
            return new d.Point(n, i);
          },
          documentIsLtr: function () {
            return (
              d.DomUtil._docIsLtrCached ||
              ((d.DomUtil._docIsLtrCached = !0),
                (d.DomUtil._docIsLtr =
                  "ltr" === d.DomUtil.getStyle(a.body, "direction"))),
              d.DomUtil._docIsLtr
            );
          },
          create: function (e, t, i) {
            var n = a.createElement(e);
            return (n.className = t), i && i.appendChild(n), n;
          },
          hasClass: function (e, t) {
            if (void 0 !== e.classList) return e.classList.contains(t);
            var i = d.DomUtil._getClass(e);
            return (
              i.length > 0 && new RegExp("(^|\\s)" + t + "(\\s|$)").test(i)
            );
          },
          addClass: function (e, t) {
            if (void 0 !== e.classList)
              for (
                var i = d.Util.splitWords(t), n = 0, o = i.length;
                n < o;
                n++
              )
                e.classList.add(i[n]);
            else if (!d.DomUtil.hasClass(e, t)) {
              var r = d.DomUtil._getClass(e);
              d.DomUtil._setClass(e, (r ? r + " " : "") + t);
            }
          },
          removeClass: function (e, t) {
            void 0 !== e.classList
              ? e.classList.remove(t)
              : d.DomUtil._setClass(
                e,
                d.Util.trim(
                  (" " + d.DomUtil._getClass(e) + " ").replace(
                    " " + t + " ",
                    " "
                  )
                )
              );
          },
          _setClass: function (e, t) {
            void 0 === e.className.baseVal
              ? (e.className = t)
              : (e.className.baseVal = t);
          },
          _getClass: function (e) {
            return void 0 === e.className.baseVal
              ? e.className
              : e.className.baseVal;
          },
          setOpacity: function (e, t) {
            if ("opacity" in e.style) e.style.opacity = t;
            else if ("filter" in e.style) {
              var i = !1,
                n = "DXImageTransform.Microsoft.Alpha";
              try {
                i = e.filters.item(n);
              } catch (e) {
                if (1 === t) return;
              }
              (t = Math.round(100 * t)),
                i
                  ? ((i.Enabled = 100 !== t), (i.Opacity = t))
                  : (e.style.filter += " progid:" + n + "(opacity=" + t + ")");
            }
          },
          testProp: function (e) {
            for (var t = a.documentElement.style, i = 0; i < e.length; i++)
              if (e[i] in t) return e[i];
            return !1;
          },
          getTranslateString: function (e) {
            var t = d.Browser.webkit3d,
              i = (t ? ",0" : "") + ")";
            return (
              "translate" + (t ? "3d" : "") + "(" + e.x + "px," + e.y + "px" + i
            );
          },
          getScaleString: function (e, t) {
            return (
              d.DomUtil.getTranslateString(t.add(t.multiplyBy(-1 * e))) +
              (" scale(" + e + ") ")
            );
          },
          setPosition: function (e, t, i) {
            (e._leaflet_pos = t),
              !i && d.Browser.any3d
                ? (e.style[d.DomUtil.TRANSFORM] =
                  d.DomUtil.getTranslateString(t))
                : ((e.style.left = t.x + "px"), (e.style.top = t.y + "px"));
          },
          getPosition: function (e) {
            return e._leaflet_pos;
          },
        }),
        (d.DomUtil.TRANSFORM = d.DomUtil.testProp([
          "transform",
          "WebkitTransform",
          "OTransform",
          "MozTransform",
          "msTransform",
        ])),
        (d.DomUtil.TRANSITION = d.DomUtil.testProp([
          "webkitTransition",
          "transition",
          "OTransition",
          "MozTransition",
          "msTransition",
        ])),
        (d.DomUtil.TRANSITION_END =
          "webkitTransition" === d.DomUtil.TRANSITION ||
            "OTransition" === d.DomUtil.TRANSITION
            ? d.DomUtil.TRANSITION + "End"
            : "transitionend"),
        (function () {
          if ("onselectstart" in a)
            d.extend(d.DomUtil, {
              disableTextSelection: function () {
                d.DomEvent.on(r, "selectstart", d.DomEvent.preventDefault);
              },
              enableTextSelection: function () {
                d.DomEvent.off(r, "selectstart", d.DomEvent.preventDefault);
              },
            });
          else {
            var e = d.DomUtil.testProp([
              "userSelect",
              "WebkitUserSelect",
              "OUserSelect",
              "MozUserSelect",
              "msUserSelect",
            ]);
            d.extend(d.DomUtil, {
              disableTextSelection: function () {
                if (e) {
                  var t = a.documentElement.style;
                  (this._userSelect = t[e]), (t[e] = "none");
                }
              },
              enableTextSelection: function () {
                e &&
                  ((a.documentElement.style[e] = this._userSelect),
                    delete this._userSelect);
              },
            });
          }
          d.extend(d.DomUtil, {
            disableImageDrag: function () {
              d.DomEvent.on(r, "dragstart", d.DomEvent.preventDefault);
            },
            enableImageDrag: function () {
              d.DomEvent.off(r, "dragstart", d.DomEvent.preventDefault);
            },
          });
        })(),
        (d.LatLng = function (e, t, i) {
          if (((e = parseFloat(e)), (t = parseFloat(t)), isNaN(e) || isNaN(t)))
            throw new Error("Invalid LatLng object: (" + e + ", " + t + ")");
          (this.lat = e),
            (this.lng = t),
            void 0 !== i && (this.alt = parseFloat(i));
        }),
        d.extend(d.LatLng, {
          DEG_TO_RAD: Math.PI / 180,
          RAD_TO_DEG: 180 / Math.PI,
          MAX_MARGIN: 1e-9,
        }),
        (d.LatLng.prototype = {
          equals: function (e) {
            return (
              !!e &&
              ((e = d.latLng(e)),
                Math.max(
                  Math.abs(this.lat - e.lat),
                  Math.abs(this.lng - e.lng)
                ) <= d.LatLng.MAX_MARGIN)
            );
          },
          toString: function (e) {
            return (
              "LatLng(" +
              d.Util.formatNum(this.lat, e) +
              ", " +
              d.Util.formatNum(this.lng, e) +
              ")"
            );
          },
          distanceTo: function (e) {
            e = d.latLng(e);
            var t = d.LatLng.DEG_TO_RAD,
              i = (e.lat - this.lat) * t,
              n = (e.lng - this.lng) * t,
              o = this.lat * t,
              r = e.lat * t,
              a = Math.sin(i / 2),
              s = Math.sin(n / 2),
              l = a * a + s * s * Math.cos(o) * Math.cos(r);
            return 12756274 * Math.atan2(Math.sqrt(l), Math.sqrt(1 - l));
          },
          wrap: function (e, t) {
            var i = this.lng;
            return (
              (i =
                ((i + (t = t || 180)) % (t - (e = e || -180))) +
                (i < e || i === t ? t : e)),
              new d.LatLng(this.lat, i)
            );
          },
        }),
        (d.latLng = function (e, t) {
          return e instanceof d.LatLng
            ? e
            : d.Util.isArray(e)
              ? "number" == typeof e[0] || "string" == typeof e[0]
                ? new d.LatLng(e[0], e[1], e[2])
                : null
              : null == e
                ? e
                : "object" == typeof e && "lat" in e
                  ? new d.LatLng(e.lat, "lng" in e ? e.lng : e.lon)
                  : void 0 === t
                    ? null
                    : new d.LatLng(e, t);
        }),
        (d.LatLngBounds = function (e, t) {
          if (e)
            for (var i = t ? [e, t] : e, n = 0, o = i.length; n < o; n++)
              this.extend(i[n]);
        }),
        (d.LatLngBounds.prototype = {
          extend: function (e) {
            if (!e) return this;
            var t = d.latLng(e);
            return (
              (e = null !== t ? t : d.latLngBounds(e)) instanceof d.LatLng
                ? this._southWest || this._northEast
                  ? ((this._southWest.lat = Math.min(
                    e.lat,
                    this._southWest.lat
                  )),
                    (this._southWest.lng = Math.min(
                      e.lng,
                      this._southWest.lng
                    )),
                    (this._northEast.lat = Math.max(
                      e.lat,
                      this._northEast.lat
                    )),
                    (this._northEast.lng = Math.max(
                      e.lng,
                      this._northEast.lng
                    )))
                  : ((this._southWest = new d.LatLng(e.lat, e.lng)),
                    (this._northEast = new d.LatLng(e.lat, e.lng)))
                : e instanceof d.LatLngBounds &&
                (this.extend(e._southWest), this.extend(e._northEast)),
              this
            );
          },
          pad: function (e) {
            var t = this._southWest,
              i = this._northEast,
              n = Math.abs(t.lat - i.lat) * e,
              o = Math.abs(t.lng - i.lng) * e;
            return new d.LatLngBounds(
              new d.LatLng(t.lat - n, t.lng - o),
              new d.LatLng(i.lat + n, i.lng + o)
            );
          },
          getCenter: function () {
            return new d.LatLng(
              (this._southWest.lat + this._northEast.lat) / 2,
              (this._southWest.lng + this._northEast.lng) / 2
            );
          },
          getSouthWest: function () {
            return this._southWest;
          },
          getNorthEast: function () {
            return this._northEast;
          },
          getNorthWest: function () {
            return new d.LatLng(this.getNorth(), this.getWest());
          },
          getSouthEast: function () {
            return new d.LatLng(this.getSouth(), this.getEast());
          },
          getWest: function () {
            return this._southWest.lng;
          },
          getSouth: function () {
            return this._southWest.lat;
          },
          getEast: function () {
            return this._northEast.lng;
          },
          getNorth: function () {
            return this._northEast.lat;
          },
          contains: function (e) {
            e =
              "number" == typeof e[0] || e instanceof d.LatLng
                ? d.latLng(e)
                : d.latLngBounds(e);
            var t,
              i,
              n = this._southWest,
              o = this._northEast;
            return (
              e instanceof d.LatLngBounds
                ? ((t = e.getSouthWest()), (i = e.getNorthEast()))
                : (t = i = e),
              t.lat >= n.lat &&
              i.lat <= o.lat &&
              t.lng >= n.lng &&
              i.lng <= o.lng
            );
          },
          intersects: function (e) {
            e = d.latLngBounds(e);
            var t = this._southWest,
              i = this._northEast,
              n = e.getSouthWest(),
              o = e.getNorthEast(),
              r = o.lat >= t.lat && n.lat <= i.lat,
              a = o.lng >= t.lng && n.lng <= i.lng;
            return r && a;
          },
          toBBoxString: function () {
            return [
              this.getWest(),
              this.getSouth(),
              this.getEast(),
              this.getNorth(),
            ].join(",");
          },
          equals: function (e) {
            return (
              !!e &&
              ((e = d.latLngBounds(e)),
                this._southWest.equals(e.getSouthWest()) &&
                this._northEast.equals(e.getNorthEast()))
            );
          },
          isValid: function () {
            return !(!this._southWest || !this._northEast);
          },
        }),
        (d.latLngBounds = function (e, t) {
          return !e || e instanceof d.LatLngBounds
            ? e
            : new d.LatLngBounds(e, t);
        }),
        (d.Projection = {}),
        (d.Projection.SphericalMercator = {
          MAX_LATITUDE: 85.0511287798,
          project: function (e) {
            var t = d.LatLng.DEG_TO_RAD,
              i = this.MAX_LATITUDE,
              n = Math.max(Math.min(i, e.lat), -i),
              o = e.lng * t,
              r = n * t;
            return (
              (r = Math.log(Math.tan(Math.PI / 4 + r / 2))), new d.Point(o, r)
            );
          },
          unproject: function (e) {
            var t = d.LatLng.RAD_TO_DEG,
              i = e.x * t,
              n = (2 * Math.atan(Math.exp(e.y)) - Math.PI / 2) * t;
            return new d.LatLng(n, i);
          },
        }),
        (d.Projection.LonLat = {
          project: function (e) {
            return new d.Point(e.lng, e.lat);
          },
          unproject: function (e) {
            return new d.LatLng(e.y, e.x);
          },
        }),
        (d.CRS = {
          latLngToPoint: function (e, t) {
            var i = this.projection.project(e),
              n = this.scale(t);
            return this.transformation._transform(i, n);
          },
          pointToLatLng: function (e, t) {
            var i = this.scale(t),
              n = this.transformation.untransform(e, i);
            return this.projection.unproject(n);
          },
          project: function (e) {
            return this.projection.project(e);
          },
          scale: function (e) {
            return 256 * Math.pow(2, e);
          },
          getSize: function (e) {
            var t = this.scale(e);
            return d.point(t, t);
          },
        }),
        (d.CRS.Simple = d.extend({}, d.CRS, {
          projection: d.Projection.LonLat,
          transformation: new d.Transformation(1, 0, -1, 0),
          scale: function (e) {
            return Math.pow(2, e);
          },
        })),
        (d.CRS.EPSG3857 = d.extend({}, d.CRS, {
          code: "EPSG:3857",
          projection: d.Projection.SphericalMercator,
          transformation: new d.Transformation(
            0.5 / Math.PI,
            0.5,
            -0.5 / Math.PI,
            0.5
          ),
          project: function (e) {
            return this.projection.project(e).multiplyBy(6378137);
          },
        })),
        (d.CRS.EPSG900913 = d.extend({}, d.CRS.EPSG3857, {
          code: "EPSG:900913",
        })),
        (d.CRS.EPSG4326 = d.extend({}, d.CRS, {
          code: "EPSG:4326",
          projection: d.Projection.LonLat,
          transformation: new d.Transformation(1 / 360, 0.5, -1 / 360, 0.5),
        })),
        (d.Map = d.Class.extend({
          includes: d.Mixin.Events,
          options: {
            crs: d.CRS.EPSG3857,
            fadeAnimation: d.DomUtil.TRANSITION && !d.Browser.android23,
            trackResize: !0,
            markerZoomAnimation: d.DomUtil.TRANSITION && d.Browser.any3d,
          },
          initialize: function (e, t) {
            (t = d.setOptions(this, t)),
              this._initContainer(e),
              this._initLayout(),
              (this._onResize = d.bind(this._onResize, this)),
              this._initEvents(),
              t.maxBounds && this.setMaxBounds(t.maxBounds),
              t.center &&
              void 0 !== t.zoom &&
              this.setView(d.latLng(t.center), t.zoom, { reset: !0 }),
              (this._handlers = []),
              (this._layers = {}),
              (this._zoomBoundLayers = {}),
              (this._tileLayersNum = 0),
              this.callInitHooks(),
              this._addLayers(t.layers);
          },
          setView: function (e, t) {
            return (
              (t = void 0 === t ? this.getZoom() : t),
              this._resetView(d.latLng(e), this._limitZoom(t)),
              this
            );
          },
          setZoom: function (e, t) {
            return this._loaded
              ? this.setView(this.getCenter(), e, { zoom: t })
              : ((this._zoom = this._limitZoom(e)), this);
          },
          zoomIn: function (e, t) {
            return this.setZoom(this._zoom + (e || 1), t);
          },
          zoomOut: function (e, t) {
            return this.setZoom(this._zoom - (e || 1), t);
          },
          setZoomAround: function (e, t, i) {
            var n = this.getZoomScale(t),
              o = this.getSize().divideBy(2),
              r = (e instanceof d.Point ? e : this.latLngToContainerPoint(e))
                .subtract(o)
                .multiplyBy(1 - 1 / n),
              a = this.containerPointToLatLng(o.add(r));
            return this.setView(a, t, { zoom: i });
          },
          fitBounds: function (e, t) {
            (t = t || {}),
              (e = e.getBounds ? e.getBounds() : d.latLngBounds(e));
            var i = d.point(t.paddingTopLeft || t.padding || [0, 0]),
              n = d.point(t.paddingBottomRight || t.padding || [0, 0]),
              o = this.getBoundsZoom(e, !1, i.add(n));
            o = t.maxZoom ? Math.min(t.maxZoom, o) : o;
            var r = n.subtract(i).divideBy(2),
              a = this.project(e.getSouthWest(), o),
              s = this.project(e.getNorthEast(), o),
              l = this.unproject(a.add(s).divideBy(2).add(r), o);
            return this.setView(l, o, t);
          },
          fitWorld: function (e) {
            return this.fitBounds(
              [
                [-90, -180],
                [90, 180],
              ],
              e
            );
          },
          panTo: function (e, t) {
            return this.setView(e, this._zoom, { pan: t });
          },
          panBy: function (e) {
            return (
              this.fire("movestart"),
              this._rawPanBy(d.point(e)),
              this.fire("move"),
              this.fire("moveend")
            );
          },
          setMaxBounds: function (e) {
            return (
              (e = d.latLngBounds(e)),
              (this.options.maxBounds = e),
              e
                ? (this._loaded && this._panInsideMaxBounds(),
                  this.on("moveend", this._panInsideMaxBounds, this))
                : this.off("moveend", this._panInsideMaxBounds, this)
            );
          },
          panInsideBounds: function (e, t) {
            var i = this.getCenter(),
              n = this._limitCenter(i, this._zoom, e);
            return i.equals(n) ? this : this.panTo(n, t);
          },
          addLayer: function (e) {
            var t = d.stamp(e);
            return (
              this._layers[t] ||
              ((this._layers[t] = e),
                !e.options ||
                (isNaN(e.options.maxZoom) && isNaN(e.options.minZoom)) ||
                ((this._zoomBoundLayers[t] = e), this._updateZoomLevels()),
                this.options.zoomAnimation &&
                d.TileLayer &&
                e instanceof d.TileLayer &&
                (this._tileLayersNum++,
                  this._tileLayersToLoad++,
                  e.on("load", this._onTileLayerLoad, this)),
                this._loaded && this._layerAdd(e)),
              this
            );
          },
          removeLayer: function (e) {
            var t = d.stamp(e);
            return this._layers[t]
              ? (this._loaded && e.onRemove(this),
                delete this._layers[t],
                this._loaded && this.fire("layerremove", { layer: e }),
                this._zoomBoundLayers[t] &&
                (delete this._zoomBoundLayers[t], this._updateZoomLevels()),
                this.options.zoomAnimation &&
                d.TileLayer &&
                e instanceof d.TileLayer &&
                (this._tileLayersNum--,
                  this._tileLayersToLoad--,
                  e.off("load", this._onTileLayerLoad, this)),
                this)
              : this;
          },
          hasLayer: function (e) {
            return !!e && d.stamp(e) in this._layers;
          },
          eachLayer: function (e, t) {
            for (var i in this._layers) e.call(t, this._layers[i]);
            return this;
          },
          invalidateSize: function (e) {
            if (!this._loaded) return this;
            e = d.extend(
              { animate: !1, pan: !0 },
              !0 === e ? { animate: !0 } : e
            );
            var t = this.getSize();
            (this._sizeChanged = !0), (this._initialCenter = null);
            var i = this.getSize(),
              n = t.divideBy(2).round(),
              o = i.divideBy(2).round(),
              r = n.subtract(o);
            return r.x || r.y
              ? (e.animate && e.pan
                ? this.panBy(r)
                : (e.pan && this._rawPanBy(r),
                  this.fire("move"),
                  e.debounceMoveend
                    ? (clearTimeout(this._sizeTimer),
                      (this._sizeTimer = setTimeout(
                        d.bind(this.fire, this, "moveend"),
                        200
                      )))
                    : this.fire("moveend")),
                this.fire("resize", { oldSize: t, newSize: i }))
              : this;
          },
          addHandler: function (e, t) {
            if (!t) return this;
            var i = (this[e] = new t(this));
            return this._handlers.push(i), this.options[e] && i.enable(), this;
          },
          remove: function () {
            this._loaded && this.fire("unload"), this._initEvents("off");
            try {
              delete this._container._leaflet;
            } catch (e) {
              this._container._leaflet = void 0;
            }
            return (
              this._clearPanes(),
              this._clearControlPos && this._clearControlPos(),
              this._clearHandlers(),
              this
            );
          },
          getCenter: function () {
            return (
              this._checkIfLoaded(),
              this._initialCenter && !this._moved()
                ? this._initialCenter
                : this.layerPointToLatLng(this._getCenterLayerPoint())
            );
          },
          getZoom: function () {
            return this._zoom;
          },
          getBounds: function () {
            var e = this.getPixelBounds(),
              t = this.unproject(e.getBottomLeft()),
              i = this.unproject(e.getTopRight());
            return new d.LatLngBounds(t, i);
          },
          getMinZoom: function () {
            return void 0 === this.options.minZoom
              ? void 0 === this._layersMinZoom
                ? 0
                : this._layersMinZoom
              : this.options.minZoom;
          },
          getMaxZoom: function () {
            return void 0 === this.options.maxZoom
              ? void 0 === this._layersMaxZoom
                ? 1 / 0
                : this._layersMaxZoom
              : this.options.maxZoom;
          },
          getBoundsZoom: function (e, t, i) {
            e = d.latLngBounds(e);
            var n,
              o = this.getMinZoom() - (t ? 1 : 0),
              r = this.getMaxZoom(),
              a = this.getSize(),
              s = e.getNorthWest(),
              l = e.getSouthEast(),
              c = !0;
            i = d.point(i || [0, 0]);
            do {
              o++,
                (n = this.project(l, o).subtract(this.project(s, o)).add(i)),
                (c = t ? n.x < a.x || n.y < a.y : a.contains(n));
            } while (c && o <= r);
            return c && t ? null : t ? o : o - 1;
          },
          getSize: function () {
            return (
              (this._size && !this._sizeChanged) ||
              ((this._size = new d.Point(
                this._container.clientWidth,
                this._container.clientHeight
              )),
                (this._sizeChanged = !1)),
              this._size.clone()
            );
          },
          getPixelBounds: function () {
            var e = this._getTopLeftPoint();
            return new d.Bounds(e, e.add(this.getSize()));
          },
          getPixelOrigin: function () {
            return this._checkIfLoaded(), this._initialTopLeftPoint;
          },
          getPanes: function () {
            return this._panes;
          },
          getContainer: function () {
            return this._container;
          },
          getZoomScale: function (e) {
            var t = this.options.crs;
            return t.scale(e) / t.scale(this._zoom);
          },
          getScaleZoom: function (e) {
            return this._zoom + Math.log(e) / Math.LN2;
          },
          project: function (e, t) {
            return (
              (t = void 0 === t ? this._zoom : t),
              this.options.crs.latLngToPoint(d.latLng(e), t)
            );
          },
          unproject: function (e, t) {
            return (
              (t = void 0 === t ? this._zoom : t),
              this.options.crs.pointToLatLng(d.point(e), t)
            );
          },
          layerPointToLatLng: function (e) {
            var t = d.point(e).add(this.getPixelOrigin());
            return this.unproject(t);
          },
          latLngToLayerPoint: function (e) {
            return this.project(d.latLng(e))
              ._round()
              ._subtract(this.getPixelOrigin());
          },
          containerPointToLayerPoint: function (e) {
            return d.point(e).subtract(this._getMapPanePos());
          },
          layerPointToContainerPoint: function (e) {
            return d.point(e).add(this._getMapPanePos());
          },
          containerPointToLatLng: function (e) {
            var t = this.containerPointToLayerPoint(d.point(e));
            return this.layerPointToLatLng(t);
          },
          latLngToContainerPoint: function (e) {
            return this.layerPointToContainerPoint(
              this.latLngToLayerPoint(d.latLng(e))
            );
          },
          mouseEventToContainerPoint: function (e) {
            return d.DomEvent.getMousePosition(e, this._container);
          },
          mouseEventToLayerPoint: function (e) {
            return this.containerPointToLayerPoint(
              this.mouseEventToContainerPoint(e)
            );
          },
          mouseEventToLatLng: function (e) {
            return this.layerPointToLatLng(this.mouseEventToLayerPoint(e));
          },
          _initContainer: function (e) {
            var t = (this._container = d.DomUtil.get(e));
            if (!t) throw new Error("Map container not found.");
            if (t._leaflet)
              throw new Error("Map container is already initialized.");
            t._leaflet = !0;
          },
          _initLayout: function () {
            var e = this._container;
            d.DomUtil.addClass(
              e,
              "leaflet-container" +
              (d.Browser.touch ? " leaflet-touch" : "") +
              (d.Browser.retina ? " leaflet-retina" : "") +
              (d.Browser.ielt9 ? " leaflet-oldie" : "") +
              (this.options.fadeAnimation ? " leaflet-fade-anim" : "")
            );
            var t = d.DomUtil.getStyle(e, "position");
            "absolute" !== t &&
              "relative" !== t &&
              "fixed" !== t &&
              (e.style.position = "relative"),
              this._initPanes(),
              this._initControlPos && this._initControlPos();
          },
          _initPanes: function () {
            var e = (this._panes = {});
            (this._mapPane = e.mapPane =
              this._createPane("leaflet-map-pane", this._container)),
              (this._tilePane = e.tilePane =
                this._createPane("leaflet-tile-pane", this._mapPane)),
              (e.objectsPane = this._createPane(
                "leaflet-objects-pane",
                this._mapPane
              )),
              (e.shadowPane = this._createPane("leaflet-shadow-pane")),
              (e.overlayPane = this._createPane("leaflet-overlay-pane")),
              (e.markerPane = this._createPane("leaflet-marker-pane")),
              (e.popupPane = this._createPane("leaflet-popup-pane"));
            var t = " leaflet-zoom-hide";
            this.options.markerZoomAnimation ||
              (d.DomUtil.addClass(e.markerPane, t),
                d.DomUtil.addClass(e.shadowPane, t),
                d.DomUtil.addClass(e.popupPane, t));
          },
          _createPane: function (e, t) {
            return d.DomUtil.create("div", e, t || this._panes.objectsPane);
          },
          _clearPanes: function () {
            this._container.removeChild(this._mapPane);
          },
          _addLayers: function (e) {
            for (
              var t = 0,
              i = (e = e ? (d.Util.isArray(e) ? e : [e]) : []).length;
              t < i;
              t++
            )
              this.addLayer(e[t]);
          },
          _resetView: function (e, t, i, n) {
            var o = this._zoom !== t;
            n || (this.fire("movestart"), o && this.fire("zoomstart")),
              (this._zoom = t),
              (this._initialCenter = e),
              (this._initialTopLeftPoint = this._getNewTopLeftPoint(e)),
              i
                ? this._initialTopLeftPoint._add(this._getMapPanePos())
                : d.DomUtil.setPosition(this._mapPane, new d.Point(0, 0)),
              (this._tileLayersToLoad = this._tileLayersNum);
            var r = !this._loaded;
            (this._loaded = !0),
              this.fire("viewreset", { hard: !i }),
              r && (this.fire("load"), this.eachLayer(this._layerAdd, this)),
              this.fire("move"),
              (o || n) && this.fire("zoomend"),
              this.fire("moveend", { hard: !i });
          },
          _rawPanBy: function (e) {
            d.DomUtil.setPosition(
              this._mapPane,
              this._getMapPanePos().subtract(e)
            );
          },
          _getZoomSpan: function () {
            return this.getMaxZoom() - this.getMinZoom();
          },
          _updateZoomLevels: function () {
            var e,
              t = 1 / 0,
              i = -1 / 0,
              n = this._getZoomSpan();
            for (e in this._zoomBoundLayers) {
              var o = this._zoomBoundLayers[e];
              isNaN(o.options.minZoom) || (t = Math.min(t, o.options.minZoom)),
                isNaN(o.options.maxZoom) ||
                (i = Math.max(i, o.options.maxZoom));
            }
            void 0 === e
              ? (this._layersMaxZoom = this._layersMinZoom = void 0)
              : ((this._layersMaxZoom = i), (this._layersMinZoom = t)),
              n !== this._getZoomSpan() && this.fire("zoomlevelschange");
          },
          _panInsideMaxBounds: function () {
            this.panInsideBounds(this.options.maxBounds);
          },
          _checkIfLoaded: function () {
            if (!this._loaded)
              throw new Error("Set map center and zoom first.");
          },
          _initEvents: function (e) {
            if (d.DomEvent) {
              (e = e || "on"),
                d.DomEvent[e](
                  this._container,
                  "click",
                  this._onMouseClick,
                  this
                );
              var t,
                i,
                n = [
                  "dblclick",
                  "mousedown",
                  "mouseup",
                  "mouseenter",
                  "mouseleave",
                  "mousemove",
                  "contextmenu",
                ];
              for (t = 0, i = n.length; t < i; t++)
                d.DomEvent[e](
                  this._container,
                  n[t],
                  this._fireMouseEvent,
                  this
                );
              this.options.trackResize &&
                d.DomEvent[e](r, "resize", this._onResize, this);
            }
          },
          _onResize: function () {
            d.Util.cancelAnimFrame(this._resizeRequest),
              (this._resizeRequest = d.Util.requestAnimFrame(
                function () {
                  this.invalidateSize({ debounceMoveend: !0 });
                },
                this,
                !1,
                this._container
              ));
          },
          _onMouseClick: function (e) {
            !this._loaded ||
              (!e._simulated &&
                ((this.dragging && this.dragging.moved()) ||
                  (this.boxZoom && this.boxZoom.moved()))) ||
              d.DomEvent._skipped(e) ||
              (this.fire("preclick"), this._fireMouseEvent(e));
          },
          _fireMouseEvent: function (e) {
            if (this._loaded && !d.DomEvent._skipped(e)) {
              var t = e.type;
              if (
                ((t =
                  "mouseenter" === t
                    ? "mouseover"
                    : "mouseleave" === t
                      ? "mouseout"
                      : t),
                  this.hasEventListeners(t))
              ) {
                "contextmenu" === t && d.DomEvent.preventDefault(e);
                var i = this.mouseEventToContainerPoint(e),
                  n = this.containerPointToLayerPoint(i),
                  o = this.layerPointToLatLng(n);
                this.fire(t, {
                  latlng: o,
                  layerPoint: n,
                  containerPoint: i,
                  originalEvent: e,
                });
              }
            }
          },
          _onTileLayerLoad: function () {
            this._tileLayersToLoad--,
              this._tileLayersNum &&
              !this._tileLayersToLoad &&
              this.fire("tilelayersload");
          },
          _clearHandlers: function () {
            for (var e = 0, t = this._handlers.length; e < t; e++)
              this._handlers[e].disable();
          },
          whenReady: function (e, t) {
            return (
              this._loaded ? e.call(t || this, this) : this.on("load", e, t),
              this
            );
          },
          _layerAdd: function (e) {
            e.onAdd(this), this.fire("layeradd", { layer: e });
          },
          _getMapPanePos: function () {
            return d.DomUtil.getPosition(this._mapPane);
          },
          _moved: function () {
            var e = this._getMapPanePos();
            return e && !e.equals([0, 0]);
          },
          _getTopLeftPoint: function () {
            return this.getPixelOrigin().subtract(this._getMapPanePos());
          },
          _getNewTopLeftPoint: function (e, t) {
            var i = this.getSize()._divideBy(2);
            return this.project(e, t)._subtract(i)._round();
          },
          _latLngToNewLayerPoint: function (e, t, i) {
            var n = this._getNewTopLeftPoint(i, t).add(this._getMapPanePos());
            return this.project(e, t)._subtract(n);
          },
          _getCenterLayerPoint: function () {
            return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
          },
          _getCenterOffset: function (e) {
            return this.latLngToLayerPoint(e).subtract(
              this._getCenterLayerPoint()
            );
          },
          _limitCenter: function (e, t, i) {
            if (!i) return e;
            var n = this.project(e, t),
              o = this.getSize().divideBy(2),
              r = new d.Bounds(n.subtract(o), n.add(o)),
              a = this._getBoundsOffset(r, i, t);
            return this.unproject(n.add(a), t);
          },
          _limitOffset: function (e, t) {
            if (!t) return e;
            var i = this.getPixelBounds(),
              n = new d.Bounds(i.min.add(e), i.max.add(e));
            return e.add(this._getBoundsOffset(n, t));
          },
          _getBoundsOffset: function (e, t, i) {
            var n = this.project(t.getNorthWest(), i).subtract(e.min),
              o = this.project(t.getSouthEast(), i).subtract(e.max),
              r = this._rebound(n.x, -o.x),
              a = this._rebound(n.y, -o.y);
            return new d.Point(r, a);
          },
          _rebound: function (e, t) {
            return e + t > 0
              ? Math.round(e - t) / 2
              : Math.max(0, Math.ceil(e)) - Math.max(0, Math.floor(t));
          },
          _limitZoom: function (e) {
            var t = this.getMinZoom(),
              i = this.getMaxZoom();
            return Math.max(t, Math.min(i, e));
          },
        })),
        (d.map = function (e, t) {
          return new d.Map(e, t);
        }),
        (d.Projection.Mercator = {
          MAX_LATITUDE: 85.0840591556,
          R_MINOR: 6356752.314245179,
          R_MAJOR: 6378137,
          project: function (e) {
            var t = d.LatLng.DEG_TO_RAD,
              i = this.MAX_LATITUDE,
              n = Math.max(Math.min(i, e.lat), -i),
              o = this.R_MAJOR,
              r = this.R_MINOR,
              a = e.lng * t * o,
              s = n * t,
              l = r / o,
              c = Math.sqrt(1 - l * l),
              u = c * Math.sin(s);
            u = Math.pow((1 - u) / (1 + u), 0.5 * c);
            var p = Math.tan(0.5 * (0.5 * Math.PI - s)) / u;
            return (s = -o * Math.log(p)), new d.Point(a, s);
          },
          unproject: function (e) {
            for (
              var t,
              i = d.LatLng.RAD_TO_DEG,
              n = this.R_MAJOR,
              o = this.R_MINOR,
              r = (e.x * i) / n,
              a = o / n,
              s = Math.sqrt(1 - a * a),
              l = Math.exp(-e.y / n),
              c = Math.PI / 2 - 2 * Math.atan(l),
              u = 15,
              p = 0.1;
              Math.abs(p) > 1e-7 && --u > 0;

            )
              (t = s * Math.sin(c)),
                (c += p =
                  Math.PI / 2 -
                  2 * Math.atan(l * Math.pow((1 - t) / (1 + t), 0.5 * s)) -
                  c);
            return new d.LatLng(c * i, r);
          },
        }),
        (d.CRS.EPSG3395 = d.extend({}, d.CRS, {
          code: "EPSG:3395",
          projection: d.Projection.Mercator,
          transformation:
            ((p = d.Projection.Mercator.R_MAJOR),
              (h = 0.5 / (Math.PI * p)),
              new d.Transformation(h, 0.5, -h, 0.5)),
        })),
        (d.TileLayer = d.Class.extend({
          includes: d.Mixin.Events,
          options: {
            minZoom: 0,
            maxZoom: 18,
            tileSize: 256,
            subdomains: "abc",
            errorTileUrl: "",
            attribution: "",
            zoomOffset: 0,
            opacity: 1,
            unloadInvisibleTiles: d.Browser.mobile,
            updateWhenIdle: d.Browser.mobile,
          },
          initialize: function (e, t) {
            (t = d.setOptions(this, t)).detectRetina &&
              d.Browser.retina &&
              t.maxZoom > 0 &&
              ((t.tileSize = Math.floor(t.tileSize / 2)),
                t.zoomOffset++,
                t.minZoom > 0 && t.minZoom--,
                this.options.maxZoom--),
              t.bounds && (t.bounds = d.latLngBounds(t.bounds)),
              (this._url = e);
            var i = this.options.subdomains;
            "string" == typeof i && (this.options.subdomains = i.split(""));
          },
          onAdd: function (e) {
            (this._map = e),
              (this._animated = e._zoomAnimated),
              this._initContainer(),
              e.on({ viewreset: this._reset, moveend: this._update }, this),
              this._animated &&
              e.on(
                { zoomanim: this._animateZoom, zoomend: this._endZoomAnim },
                this
              ),
              this.options.updateWhenIdle ||
              ((this._limitedUpdate = d.Util.limitExecByInterval(
                this._update,
                150,
                this
              )),
                e.on("move", this._limitedUpdate, this)),
              this._reset(),
              this._update();
          },
          addTo: function (e) {
            return e.addLayer(this), this;
          },
          onRemove: function (e) {
            this._container.parentNode.removeChild(this._container),
              e.off({ viewreset: this._reset, moveend: this._update }, this),
              this._animated &&
              e.off(
                { zoomanim: this._animateZoom, zoomend: this._endZoomAnim },
                this
              ),
              this.options.updateWhenIdle ||
              e.off("move", this._limitedUpdate, this),
              (this._container = null),
              (this._map = null);
          },
          bringToFront: function () {
            var e = this._map._panes.tilePane;
            return (
              this._container &&
              (e.appendChild(this._container),
                this._setAutoZIndex(e, Math.max)),
              this
            );
          },
          bringToBack: function () {
            var e = this._map._panes.tilePane;
            return (
              this._container &&
              (e.insertBefore(this._container, e.firstChild),
                this._setAutoZIndex(e, Math.min)),
              this
            );
          },
          getAttribution: function () {
            return this.options.attribution;
          },
          getContainer: function () {
            return this._container;
          },
          setOpacity: function (e) {
            return (
              (this.options.opacity = e),
              this._map && this._updateOpacity(),
              this
            );
          },
          setZIndex: function (e) {
            return (this.options.zIndex = e), this._updateZIndex(), this;
          },
          setUrl: function (e, t) {
            return (this._url = e), t || this.redraw(), this;
          },
          redraw: function () {
            return (
              this._map && (this._reset({ hard: !0 }), this._update()), this
            );
          },
          _updateZIndex: function () {
            this._container &&
              void 0 !== this.options.zIndex &&
              (this._container.style.zIndex = this.options.zIndex);
          },
          _setAutoZIndex: function (e, t) {
            var i,
              n,
              o,
              r = e.children,
              a = -t(1 / 0, -1 / 0);
            for (n = 0, o = r.length; n < o; n++)
              r[n] !== this._container &&
                ((i = parseInt(r[n].style.zIndex, 10)),
                  isNaN(i) || (a = t(a, i)));
            this.options.zIndex = this._container.style.zIndex =
              (isFinite(a) ? a : 0) + t(1, -1);
          },
          _updateOpacity: function () {
            var e,
              t = this._tiles;
            if (d.Browser.ielt9)
              for (e in t) d.DomUtil.setOpacity(t[e], this.options.opacity);
            else d.DomUtil.setOpacity(this._container, this.options.opacity);
          },
          _initContainer: function () {
            var e = this._map._panes.tilePane;
            if (!this._container) {
              if (
                ((this._container = d.DomUtil.create("div", "leaflet-layer")),
                  this._updateZIndex(),
                  this._animated)
              ) {
                (this._bgBuffer = d.DomUtil.create(
                  "div",
                  "leaflet-tile-container",
                  this._container
                )),
                  (this._tileContainer = d.DomUtil.create(
                    "div",
                    "leaflet-tile-container",
                    this._container
                  ));
              } else this._tileContainer = this._container;
              e.appendChild(this._container),
                this.options.opacity < 1 && this._updateOpacity();
            }
          },
          _reset: function (e) {
            for (var t in this._tiles)
              this.fire("tileunload", { tile: this._tiles[t] });
            (this._tiles = {}),
              (this._tilesToLoad = 0),
              this.options.reuseTiles && (this._unusedTiles = []),
              (this._tileContainer.innerHTML = ""),
              this._animated && e && e.hard && this._clearBgBuffer(),
              this._initContainer();
          },
          _getTileSize: function () {
            var e = this._map,
              t = e.getZoom() + this.options.zoomOffset,
              i = this.options.maxNativeZoom,
              n = this.options.tileSize;
            return (
              i &&
              t > i &&
              (n = Math.round((e.getZoomScale(t) / e.getZoomScale(i)) * n)),
              n
            );
          },
          _update: function () {
            if (this._map) {
              var e = this._map,
                t = e.getPixelBounds(),
                i = e.getZoom(),
                n = this._getTileSize();
              if (!(i > this.options.maxZoom || i < this.options.minZoom)) {
                var o = d.bounds(
                  t.min.divideBy(n)._floor(),
                  t.max.divideBy(n)._floor()
                );
                this._addTilesFromCenterOut(o),
                  (this.options.unloadInvisibleTiles ||
                    this.options.reuseTiles) &&
                  this._removeOtherTiles(o);
              }
            }
          },
          _addTilesFromCenterOut: function (e) {
            var t,
              i,
              n,
              o = [],
              r = e.getCenter();
            for (t = e.min.y; t <= e.max.y; t++)
              for (i = e.min.x; i <= e.max.x; i++)
                (n = new d.Point(i, t)),
                  this._tileShouldBeLoaded(n) && o.push(n);
            var s = o.length;
            if (0 !== s) {
              o.sort(function (e, t) {
                return e.distanceTo(r) - t.distanceTo(r);
              });
              var l = a.createDocumentFragment();
              for (
                this._tilesToLoad || this.fire("loading"),
                this._tilesToLoad += s,
                i = 0;
                i < s;
                i++
              )
                this._addTile(o[i], l);
              this._tileContainer.appendChild(l);
            }
          },
          _tileShouldBeLoaded: function (e) {
            if (e.x + ":" + e.y in this._tiles) return !1;
            var t = this.options;
            if (!t.continuousWorld) {
              var i = this._getWrapTileNum();
              if (
                (t.noWrap && (e.x < 0 || e.x >= i.x)) ||
                e.y < 0 ||
                e.y >= i.y
              )
                return !1;
            }
            if (t.bounds) {
              var n = this._getTileSize(),
                o = e.multiplyBy(n),
                r = o.add([n, n]),
                a = this._map.unproject(o),
                s = this._map.unproject(r);
              if (
                (t.continuousWorld ||
                  t.noWrap ||
                  ((a = a.wrap()), (s = s.wrap())),
                  !t.bounds.intersects([a, s]))
              )
                return !1;
            }
            return !0;
          },
          _removeOtherTiles: function (e) {
            var t, i, n, o;
            for (o in this._tiles)
              (t = o.split(":")),
                (i = parseInt(t[0], 10)),
                (n = parseInt(t[1], 10)),
                (i < e.min.x || i > e.max.x || n < e.min.y || n > e.max.y) &&
                this._removeTile(o);
          },
          _removeTile: function (e) {
            var t = this._tiles[e];
            this.fire("tileunload", { tile: t, url: t.src }),
              this.options.reuseTiles
                ? (d.DomUtil.removeClass(t, "leaflet-tile-loaded"),
                  this._unusedTiles.push(t))
                : t.parentNode === this._tileContainer &&
                this._tileContainer.removeChild(t),
              d.Browser.android ||
              ((t.onload = null), (t.src = d.Util.emptyImageUrl)),
              delete this._tiles[e];
          },
          _addTile: function (e, t) {
            var i = this._getTilePos(e),
              n = this._getTile();
            d.DomUtil.setPosition(n, i, d.Browser.chrome),
              (this._tiles[e.x + ":" + e.y] = n),
              this._loadTile(n, e),
              n.parentNode !== this._tileContainer && t.appendChild(n);
          },
          _getZoomForUrl: function () {
            var e = this.options,
              t = this._map.getZoom();
            return (
              e.zoomReverse && (t = e.maxZoom - t),
              (t += e.zoomOffset),
              e.maxNativeZoom ? Math.min(t, e.maxNativeZoom) : t
            );
          },
          _getTilePos: function (e) {
            var t = this._map.getPixelOrigin(),
              i = this._getTileSize();
            return e.multiplyBy(i).subtract(t);
          },
          getTileUrl: function (e) {
            return d.Util.template(
              this._url,
              d.extend(
                { s: this._getSubdomain(e), z: e.z, x: e.x, y: e.y },
                this.options
              )
            );
          },
          _getWrapTileNum: function () {
            return this._map.options.crs
              .getSize(this._map.getZoom())
              .divideBy(this._getTileSize())
              ._floor();
          },
          _adjustTilePoint: function (e) {
            var t = this._getWrapTileNum();
            this.options.continuousWorld ||
              this.options.noWrap ||
              (e.x = ((e.x % t.x) + t.x) % t.x),
              this.options.tms && (e.y = t.y - e.y - 1),
              (e.z = this._getZoomForUrl());
          },
          _getSubdomain: function (e) {
            var t = Math.abs(e.x + e.y) % this.options.subdomains.length;
            return this.options.subdomains[t];
          },
          _getTile: function () {
            if (this.options.reuseTiles && this._unusedTiles.length > 0) {
              var e = this._unusedTiles.pop();
              return this._resetTile(e), e;
            }
            return this._createTile();
          },
          _resetTile: function () { },
          _createTile: function () {
            var e = d.DomUtil.create("img", "leaflet-tile");
            return (
              (e.style.width = e.style.height = this._getTileSize() + "px"),
              (e.galleryimg = "no"),
              (e.onselectstart = e.onmousemove = d.Util.falseFn),
              d.Browser.ielt9 &&
              void 0 !== this.options.opacity &&
              d.DomUtil.setOpacity(e, this.options.opacity),
              d.Browser.mobileWebkit3d &&
              (e.style.WebkitBackfaceVisibility = "hidden"),
              e
            );
          },
          _loadTile: function (e, t) {
            (e._layer = this),
              (e.onload = this._tileOnLoad),
              (e.onerror = this._tileOnError),
              this._adjustTilePoint(t),
              (e.src = this.getTileUrl(t)),
              this.fire("tileloadstart", { tile: e, url: e.src });
          },
          _tileLoaded: function () {
            this._tilesToLoad--,
              this._animated &&
              d.DomUtil.addClass(
                this._tileContainer,
                "leaflet-zoom-animated"
              ),
              this._tilesToLoad ||
              (this.fire("load"),
                this._animated &&
                (clearTimeout(this._clearBgBufferTimer),
                  (this._clearBgBufferTimer = setTimeout(
                    d.bind(this._clearBgBuffer, this),
                    500
                  ))));
          },
          _tileOnLoad: function () {
            var e = this._layer;
            this.src !== d.Util.emptyImageUrl &&
              (d.DomUtil.addClass(this, "leaflet-tile-loaded"),
                e.fire("tileload", { tile: this, url: this.src })),
              e._tileLoaded();
          },
          _tileOnError: function () {
            var e = this._layer;
            e.fire("tileerror", { tile: this, url: this.src });
            var t = e.options.errorTileUrl;
            t && (this.src = t), e._tileLoaded();
          },
        })),
        (d.tileLayer = function (e, t) {
          return new d.TileLayer(e, t);
        }),
        (d.TileLayer.WMS = d.TileLayer.extend({
          defaultWmsParams: {
            service: "WMS",
            request: "GetMap",
            version: "1.1.1",
            layers: "",
            styles: "",
            format: "image/jpeg",
            transparent: !1,
          },
          initialize: function (e, t) {
            this._url = e;
            var i = d.extend({}, this.defaultWmsParams),
              n = t.tileSize || this.options.tileSize;
            for (var o in (t.detectRetina && d.Browser.retina
              ? (i.width = i.height = 2 * n)
              : (i.width = i.height = n),
              t))
              this.options.hasOwnProperty(o) || "crs" === o || (i[o] = t[o]);
            (this.wmsParams = i), d.setOptions(this, t);
          },
          onAdd: function (e) {
            (this._crs = this.options.crs || e.options.crs),
              (this._wmsVersion = parseFloat(this.wmsParams.version));
            var t = this._wmsVersion >= 1.3 ? "crs" : "srs";
            (this.wmsParams[t] = this._crs.code),
              d.TileLayer.prototype.onAdd.call(this, e);
          },
          getTileUrl: function (e) {
            var t = this._map,
              i = this.options.tileSize,
              n = e.multiplyBy(i),
              o = n.add([i, i]),
              r = this._crs.project(t.unproject(n, e.z)),
              a = this._crs.project(t.unproject(o, e.z)),
              s =
                this._wmsVersion >= 1.3 && this._crs === d.CRS.EPSG4326
                  ? [a.y, r.x, r.y, a.x].join(",")
                  : [r.x, a.y, a.x, r.y].join(","),
              l = d.Util.template(this._url, { s: this._getSubdomain(e) });
            return (
              l + d.Util.getParamString(this.wmsParams, l, !0) + "&BBOX=" + s
            );
          },
          setParams: function (e, t) {
            return d.extend(this.wmsParams, e), t || this.redraw(), this;
          },
        })),
        (d.tileLayer.wms = function (e, t) {
          return new d.TileLayer.WMS(e, t);
        }),
        (d.TileLayer.Canvas = d.TileLayer.extend({
          options: { async: !1 },
          initialize: function (e) {
            d.setOptions(this, e);
          },
          redraw: function () {
            for (var e in (this._map &&
              (this._reset({ hard: !0 }), this._update()),
              this._tiles))
              this._redrawTile(this._tiles[e]);
            return this;
          },
          _redrawTile: function (e) {
            this.drawTile(e, e._tilePoint, this._map._zoom);
          },
          _createTile: function () {
            var e = d.DomUtil.create("canvas", "leaflet-tile");
            return (
              (e.width = e.height = this.options.tileSize),
              (e.onselectstart = e.onmousemove = d.Util.falseFn),
              e
            );
          },
          _loadTile: function (e, t) {
            (e._layer = this),
              (e._tilePoint = t),
              this._redrawTile(e),
              this.options.async || this.tileDrawn(e);
          },
          drawTile: function () { },
          tileDrawn: function (e) {
            this._tileOnLoad.call(e);
          },
        })),
        (d.tileLayer.canvas = function (e) {
          return new d.TileLayer.Canvas(e);
        }),
        (d.ImageOverlay = d.Class.extend({
          includes: d.Mixin.Events,
          options: { opacity: 1 },
          initialize: function (e, t, i) {
            (this._url = e),
              (this._bounds = d.latLngBounds(t)),
              d.setOptions(this, i);
          },
          onAdd: function (e) {
            (this._map = e),
              this._image || this._initImage(),
              e._panes.overlayPane.appendChild(this._image),
              e.on("viewreset", this._reset, this),
              e.options.zoomAnimation &&
              d.Browser.any3d &&
              e.on("zoomanim", this._animateZoom, this),
              this._reset();
          },
          onRemove: function (e) {
            e.getPanes().overlayPane.removeChild(this._image),
              e.off("viewreset", this._reset, this),
              e.options.zoomAnimation &&
              e.off("zoomanim", this._animateZoom, this);
          },
          addTo: function (e) {
            return e.addLayer(this), this;
          },
          setOpacity: function (e) {
            return (this.options.opacity = e), this._updateOpacity(), this;
          },
          bringToFront: function () {
            return (
              this._image &&
              this._map._panes.overlayPane.appendChild(this._image),
              this
            );
          },
          bringToBack: function () {
            var e = this._map._panes.overlayPane;
            return (
              this._image && e.insertBefore(this._image, e.firstChild), this
            );
          },
          setUrl: function (e) {
            (this._url = e), (this._image.src = this._url);
          },
          getAttribution: function () {
            return this.options.attribution;
          },
          _initImage: function () {
            (this._image = d.DomUtil.create("img", "leaflet-image-layer")),
              this._map.options.zoomAnimation && d.Browser.any3d
                ? d.DomUtil.addClass(this._image, "leaflet-zoom-animated")
                : d.DomUtil.addClass(this._image, "leaflet-zoom-hide"),
              this._updateOpacity(),
              d.extend(this._image, {
                galleryimg: "no",
                onselectstart: d.Util.falseFn,
                onmousemove: d.Util.falseFn,
                onload: d.bind(this._onImageLoad, this),
                src: this._url,
              });
          },
          _animateZoom: function (e) {
            var t = this._map,
              i = this._image,
              n = t.getZoomScale(e.zoom),
              o = this._bounds.getNorthWest(),
              r = this._bounds.getSouthEast(),
              a = t._latLngToNewLayerPoint(o, e.zoom, e.center),
              s = t._latLngToNewLayerPoint(r, e.zoom, e.center)._subtract(a),
              l = a._add(s._multiplyBy(0.5 * (1 - 1 / n)));
            i.style[d.DomUtil.TRANSFORM] =
              d.DomUtil.getTranslateString(l) + " scale(" + n + ") ";
          },
          _reset: function () {
            var e = this._image,
              t = this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
              i = this._map
                .latLngToLayerPoint(this._bounds.getSouthEast())
                ._subtract(t);
            d.DomUtil.setPosition(e, t),
              (e.style.width = i.x + "px"),
              (e.style.height = i.y + "px");
          },
          _onImageLoad: function () {
            this.fire("load");
          },
          _updateOpacity: function () {
            d.DomUtil.setOpacity(this._image, this.options.opacity);
          },
        })),
        (d.imageOverlay = function (e, t, i) {
          return new d.ImageOverlay(e, t, i);
        }),
        (d.Icon = d.Class.extend({
          options: { className: "" },
          initialize: function (e) {
            d.setOptions(this, e);
          },
          createIcon: function (e) {
            return this._createIcon("icon", e);
          },
          createShadow: function (e) {
            return this._createIcon("shadow", e);
          },
          _createIcon: function (e, t) {
            var i,
              n = this._getIconUrl(e);
            if (!n) {
              if ("icon" === e)
                throw new Error(
                  "iconUrl not set in Icon options (see the docs)."
                );
              return null;
            }
            return (
              (i =
                t && "IMG" === t.tagName
                  ? this._createImg(n, t)
                  : this._createImg(n)),
              this._setIconStyles(i, e),
              i
            );
          },
          _setIconStyles: function (e, t) {
            var i,
              n = this.options,
              o = d.point(n[t + "Size"]);
            !(i =
              "shadow" === t
                ? d.point(n.shadowAnchor || n.iconAnchor)
                : d.point(n.iconAnchor)) &&
              o &&
              (i = o.divideBy(2, !0)),
              (e.className = "leaflet-marker-" + t + " " + n.className),
              i &&
              ((e.style.marginLeft = -i.x + "px"),
                (e.style.marginTop = -i.y + "px")),
              o &&
              ((e.style.width = o.x + "px"), (e.style.height = o.y + "px"));
          },
          _createImg: function (e, t) {
            return ((t = t || a.createElement("img")).src = e), t;
          },
          _getIconUrl: function (e) {
            return d.Browser.retina && this.options[e + "RetinaUrl"]
              ? this.options[e + "RetinaUrl"]
              : this.options[e + "Url"];
          },
        })),
        (d.icon = function (e) {
          return new d.Icon(e);
        }),
        (d.Icon.Default = d.Icon.extend({
          options: {
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41],
          },
          _getIconUrl: function (e) {
            var t = e + "Url";
            if (this.options[t]) return this.options[t];
            d.Browser.retina && "icon" === e && (e += "-2x");
            var i = d.Icon.Default.imagePath;
            if (!i)
              throw new Error(
                "Couldn't autodetect L.Icon.Default.imagePath, set it manually."
              );
            return i + "/marker-" + e + ".png";
          },
        })),
        (d.Icon.Default.imagePath = (function () {
          var e,
            t,
            i,
            n,
            o = a.getElementsByTagName("script"),
            r = /[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;
          for (e = 0, t = o.length; e < t; e++)
            if ((i = o[e].src).match(r))
              return ((n = i.split(r)[0]) ? n + "/" : "") + "images";
        })()),
        (d.Marker = d.Class.extend({
          includes: d.Mixin.Events,
          options: {
            icon: new d.Icon.Default(),
            title: "",
            alt: "",
            clickable: !0,
            draggable: !1,
            keyboard: !0,
            zIndexOffset: 0,
            opacity: 1,
            riseOnHover: !1,
            riseOffset: 250,
          },
          initialize: function (e, t) {
            d.setOptions(this, t), (this._latlng = d.latLng(e));
          },
          onAdd: function (e) {
            (this._map = e),
              e.on("viewreset", this.update, this),
              this._initIcon(),
              this.update(),
              this.fire("add"),
              e.options.zoomAnimation &&
              e.options.markerZoomAnimation &&
              e.on("zoomanim", this._animateZoom, this);
          },
          addTo: function (e) {
            return e.addLayer(this), this;
          },
          onRemove: function (e) {
            this.dragging && this.dragging.disable(),
              this._removeIcon(),
              this._removeShadow(),
              this.fire("remove"),
              e.off(
                { viewreset: this.update, zoomanim: this._animateZoom },
                this
              ),
              (this._map = null);
          },
          getLatLng: function () {
            return this._latlng;
          },
          setLatLng: function (e) {
            return (
              (this._latlng = d.latLng(e)),
              this.update(),
              this.fire("move", { latlng: this._latlng })
            );
          },
          setZIndexOffset: function (e) {
            return (this.options.zIndexOffset = e), this.update(), this;
          },
          setIcon: function (e) {
            return (
              (this.options.icon = e),
              this._map && (this._initIcon(), this.update()),
              this._popup && this.bindPopup(this._popup),
              this
            );
          },
          update: function () {
            return (
              this._icon &&
              this._setPos(
                this._map.latLngToLayerPoint(this._latlng).round()
              ),
              this
            );
          },
          _initIcon: function () {
            var e = this.options,
              t = this._map,
              i =
                t.options.zoomAnimation && t.options.markerZoomAnimation
                  ? "leaflet-zoom-animated"
                  : "leaflet-zoom-hide",
              n = e.icon.createIcon(this._icon),
              o = !1;
            n !== this._icon &&
              (this._icon && this._removeIcon(),
                (o = !0),
                e.title && (n.title = e.title),
                e.alt && (n.alt = e.alt)),
              d.DomUtil.addClass(n, i),
              e.keyboard && (n.tabIndex = "0"),
              (this._icon = n),
              this._initInteraction(),
              e.riseOnHover &&
              d.DomEvent.on(n, "mouseover", this._bringToFront, this).on(
                n,
                "mouseout",
                this._resetZIndex,
                this
              );
            var r = e.icon.createShadow(this._shadow),
              a = !1;
            r !== this._shadow && (this._removeShadow(), (a = !0)),
              r && d.DomUtil.addClass(r, i),
              (this._shadow = r),
              e.opacity < 1 && this._updateOpacity();
            var s = this._map._panes;
            o && s.markerPane.appendChild(this._icon),
              r && a && s.shadowPane.appendChild(this._shadow);
          },
          _removeIcon: function () {
            this.options.riseOnHover &&
              d.DomEvent.off(this._icon, "mouseover", this._bringToFront).off(
                this._icon,
                "mouseout",
                this._resetZIndex
              ),
              this._map._panes.markerPane.removeChild(this._icon),
              (this._icon = null);
          },
          _removeShadow: function () {
            this._shadow &&
              this._map._panes.shadowPane.removeChild(this._shadow),
              (this._shadow = null);
          },
          _setPos: function (e) {
            d.DomUtil.setPosition(this._icon, e),
              this._shadow && d.DomUtil.setPosition(this._shadow, e),
              (this._zIndex = e.y + this.options.zIndexOffset),
              this._resetZIndex();
          },
          _updateZIndex: function (e) {
            this._icon.style.zIndex = this._zIndex + e;
          },
          _animateZoom: function (e) {
            var t = this._map
              ._latLngToNewLayerPoint(this._latlng, e.zoom, e.center)
              .round();
            this._setPos(t);
          },
          _initInteraction: function () {
            if (this.options.clickable) {
              var e = this._icon,
                t = [
                  "dblclick",
                  "mousedown",
                  "mouseover",
                  "mouseout",
                  "contextmenu",
                ];
              d.DomUtil.addClass(e, "leaflet-clickable"),
                d.DomEvent.on(e, "click", this._onMouseClick, this),
                d.DomEvent.on(e, "keypress", this._onKeyPress, this);
              for (var i = 0; i < t.length; i++)
                d.DomEvent.on(e, t[i], this._fireMouseEvent, this);
              d.Handler.MarkerDrag &&
                ((this.dragging = new d.Handler.MarkerDrag(this)),
                  this.options.draggable && this.dragging.enable());
            }
          },
          _onMouseClick: function (e) {
            var t = this.dragging && this.dragging.moved();
            (this.hasEventListeners(e.type) || t) &&
              d.DomEvent.stopPropagation(e),
              t ||
              (((this.dragging && this.dragging._enabled) ||
                !this._map.dragging ||
                !this._map.dragging.moved()) &&
                this.fire(e.type, {
                  originalEvent: e,
                  latlng: this._latlng,
                }));
          },
          _onKeyPress: function (e) {
            13 === e.keyCode &&
              this.fire("click", { originalEvent: e, latlng: this._latlng });
          },
          _fireMouseEvent: function (e) {
            this.fire(e.type, { originalEvent: e, latlng: this._latlng }),
              "contextmenu" === e.type &&
              this.hasEventListeners(e.type) &&
              d.DomEvent.preventDefault(e),
              "mousedown" !== e.type
                ? d.DomEvent.stopPropagation(e)
                : d.DomEvent.preventDefault(e);
          },
          setOpacity: function (e) {
            return (
              (this.options.opacity = e),
              this._map && this._updateOpacity(),
              this
            );
          },
          _updateOpacity: function () {
            d.DomUtil.setOpacity(this._icon, this.options.opacity),
              this._shadow &&
              d.DomUtil.setOpacity(this._shadow, this.options.opacity);
          },
          _bringToFront: function () {
            this._updateZIndex(this.options.riseOffset);
          },
          _resetZIndex: function () {
            this._updateZIndex(0);
          },
        })),
        (d.marker = function (e, t) {
          return new d.Marker(e, t);
        }),
        (d.DivIcon = d.Icon.extend({
          options: {
            iconSize: [12, 12],
            className: "leaflet-div-icon",
            html: !1,
          },
          createIcon: function (e) {
            var t = e && "DIV" === e.tagName ? e : a.createElement("div"),
              i = this.options;
            return (
              !1 !== i.html ? (t.innerHTML = i.html) : (t.innerHTML = ""),
              i.bgPos &&
              (t.style.backgroundPosition =
                -i.bgPos.x + "px " + -i.bgPos.y + "px"),
              this._setIconStyles(t, "icon"),
              t
            );
          },
          createShadow: function () {
            return null;
          },
        })),
        (d.divIcon = function (e) {
          return new d.DivIcon(e);
        }),
        d.Map.mergeOptions({ closePopupOnClick: !0 }),
        (d.Popup = d.Class.extend({
          includes: d.Mixin.Events,
          options: {
            minWidth: 50,
            maxWidth: 300,
            autoPan: !0,
            closeButton: !0,
            offset: [0, 7],
            autoPanPadding: [5, 5],
            keepInView: !1,
            className: "",
            zoomAnimation: !0,
          },
          initialize: function (e, t) {
            d.setOptions(this, e),
              (this._source = t),
              (this._animated = d.Browser.any3d && this.options.zoomAnimation),
              (this._isOpen = !1);
          },
          onAdd: function (e) {
            (this._map = e), this._container || this._initLayout();
            var t = e.options.fadeAnimation;
            t && d.DomUtil.setOpacity(this._container, 0),
              e._panes.popupPane.appendChild(this._container),
              e.on(this._getEvents(), this),
              this.update(),
              t && d.DomUtil.setOpacity(this._container, 1),
              this.fire("open"),
              e.fire("popupopen", { popup: this }),
              this._source && this._source.fire("popupopen", { popup: this });
          },
          addTo: function (e) {
            return e.addLayer(this), this;
          },
          openOn: function (e) {
            return e.openPopup(this), this;
          },
          onRemove: function (e) {
            e._panes.popupPane.removeChild(this._container),
              d.Util.falseFn(this._container.offsetWidth),
              e.off(this._getEvents(), this),
              e.options.fadeAnimation &&
              d.DomUtil.setOpacity(this._container, 0),
              (this._map = null),
              this.fire("close"),
              e.fire("popupclose", { popup: this }),
              this._source && this._source.fire("popupclose", { popup: this });
          },
          getLatLng: function () {
            return this._latlng;
          },
          setLatLng: function (e) {
            return (
              (this._latlng = d.latLng(e)),
              this._map && (this._updatePosition(), this._adjustPan()),
              this
            );
          },
          getContent: function () {
            return this._content;
          },
          setContent: function (e) {
            return (this._content = e), this.update(), this;
          },
          update: function () {
            this._map &&
              ((this._container.style.visibility = "hidden"),
                this._updateContent(),
                this._updateLayout(),
                this._updatePosition(),
                (this._container.style.visibility = ""),
                this._adjustPan());
          },
          _getEvents: function () {
            var e = { viewreset: this._updatePosition };
            return (
              this._animated && (e.zoomanim = this._zoomAnimation),
              ("closeOnClick" in this.options
                ? this.options.closeOnClick
                : this._map.options.closePopupOnClick) &&
              (e.preclick = this._close),
              this.options.keepInView && (e.moveend = this._adjustPan),
              e
            );
          },
          _close: function () {
            this._map && this._map.closePopup(this);
          },
          _initLayout: function () {
            var e,
              t = "leaflet-popup",
              i =
                t +
                " " +
                this.options.className +
                " leaflet-zoom-" +
                (this._animated ? "animated" : "hide"),
              n = (this._container = d.DomUtil.create("div", i));
            this.options.closeButton &&
              (((e = this._closeButton =
                d.DomUtil.create("a", t + "-close-button", n)).href = "#close"),
                (e.innerHTML = "&#215;"),
                d.DomEvent.disableClickPropagation(e),
                d.DomEvent.on(e, "click", this._onCloseButtonClick, this));
            var o = (this._wrapper = d.DomUtil.create(
              "div",
              t + "-content-wrapper",
              n
            ));
            d.DomEvent.disableClickPropagation(o),
              (this._contentNode = d.DomUtil.create("div", t + "-content", o)),
              d.DomEvent.disableScrollPropagation(this._contentNode),
              d.DomEvent.on(o, "contextmenu", d.DomEvent.stopPropagation),
              (this._tipContainer = d.DomUtil.create(
                "div",
                t + "-tip-container",
                n
              )),
              (this._tip = d.DomUtil.create(
                "div",
                t + "-tip",
                this._tipContainer
              ));
          },
          _updateContent: function () {
            if (this._content) {
              if ("string" == typeof this._content)
                this._contentNode.innerHTML = this._content;
              else {
                for (; this._contentNode.hasChildNodes();)
                  this._contentNode.removeChild(this._contentNode.firstChild);
                this._contentNode.appendChild(this._content);
              }
              this.fire("contentupdate");
            }
          },
          _updateLayout: function () {
            var e = this._contentNode,
              t = e.style;
            (t.width = ""), (t.whiteSpace = "nowrap");
            var i = e.offsetWidth;
            (i = Math.min(i, this.options.maxWidth)),
              (i = Math.max(i, this.options.minWidth)),
              (t.width = i + 1 + "px"),
              (t.whiteSpace = ""),
              (t.height = "");
            var n = e.offsetHeight,
              o = this.options.maxHeight;
            o && n > o
              ? ((t.height = o + "px"),
                d.DomUtil.addClass(e, "leaflet-popup-scrolled"))
              : d.DomUtil.removeClass(e, "leaflet-popup-scrolled"),
              (this._containerWidth = this._container.offsetWidth);
          },
          _updatePosition: function () {
            if (this._map) {
              var e = this._map.latLngToLayerPoint(this._latlng),
                t = this._animated,
                i = d.point(this.options.offset);
              t && d.DomUtil.setPosition(this._container, e),
                (this._containerBottom = -i.y - (t ? 0 : e.y)),
                (this._containerLeft =
                  -Math.round(this._containerWidth / 2) + i.x + (t ? 0 : e.x)),
                (this._container.style.bottom = this._containerBottom + "px"),
                (this._container.style.left = this._containerLeft + "px");
            }
          },
          _zoomAnimation: function (e) {
            var t = this._map._latLngToNewLayerPoint(
              this._latlng,
              e.zoom,
              e.center
            );
            d.DomUtil.setPosition(this._container, t);
          },
          _adjustPan: function () {
            if (this.options.autoPan) {
              var e = this._map,
                t = this._container.offsetHeight,
                i = this._containerWidth,
                n = new d.Point(
                  this._containerLeft,
                  -t - this._containerBottom
                );
              this._animated && n._add(d.DomUtil.getPosition(this._container));
              var o = e.layerPointToContainerPoint(n),
                r = d.point(this.options.autoPanPadding),
                a = d.point(this.options.autoPanPaddingTopLeft || r),
                s = d.point(this.options.autoPanPaddingBottomRight || r),
                l = e.getSize(),
                c = 0,
                u = 0;
              o.x + i + s.x > l.x && (c = o.x + i - l.x + s.x),
                o.x - c - a.x < 0 && (c = o.x - a.x),
                o.y + t + s.y > l.y && (u = o.y + t - l.y + s.y),
                o.y - u - a.y < 0 && (u = o.y - a.y),
                (c || u) && e.fire("autopanstart").panBy([c, u]);
            }
          },
          _onCloseButtonClick: function (e) {
            this._close(), d.DomEvent.stop(e);
          },
        })),
        (d.popup = function (e, t) {
          return new d.Popup(e, t);
        }),
        d.Map.include({
          openPopup: function (e, t, i) {
            if ((this.closePopup(), !(e instanceof d.Popup))) {
              var n = e;
              e = new d.Popup(i).setLatLng(t).setContent(n);
            }
            return (e._isOpen = !0), (this._popup = e), this.addLayer(e);
          },
          closePopup: function (e) {
            return (
              (e && e !== this._popup) ||
              ((e = this._popup), (this._popup = null)),
              e && (this.removeLayer(e), (e._isOpen = !1)),
              this
            );
          },
        }),
        d.Marker.include({
          openPopup: function () {
            return (
              this._popup &&
              this._map &&
              !this._map.hasLayer(this._popup) &&
              (this._popup.setLatLng(this._latlng),
                this._map.openPopup(this._popup)),
              this
            );
          },
          closePopup: function () {
            return this._popup && this._popup._close(), this;
          },
          togglePopup: function () {
            return (
              this._popup &&
              (this._popup._isOpen ? this.closePopup() : this.openPopup()),
              this
            );
          },
          bindPopup: function (e, t) {
            var i = d.point(this.options.icon.options.popupAnchor || [0, 0]);
            return (
              (i = i.add(d.Popup.prototype.options.offset)),
              t && t.offset && (i = i.add(t.offset)),
              (t = d.extend({ offset: i }, t)),
              this._popupHandlersAdded ||
              (this.on("click", this.togglePopup, this)
                .on("remove", this.closePopup, this)
                .on("move", this._movePopup, this),
                (this._popupHandlersAdded = !0)),
              e instanceof d.Popup
                ? (d.setOptions(e, t), (this._popup = e), (e._source = this))
                : (this._popup = new d.Popup(t, this).setContent(e)),
              this
            );
          },
          setPopupContent: function (e) {
            return this._popup && this._popup.setContent(e), this;
          },
          unbindPopup: function () {
            return (
              this._popup &&
              ((this._popup = null),
                this.off("click", this.togglePopup, this)
                  .off("remove", this.closePopup, this)
                  .off("move", this._movePopup, this),
                (this._popupHandlersAdded = !1)),
              this
            );
          },
          getPopup: function () {
            return this._popup;
          },
          _movePopup: function (e) {
            this._popup.setLatLng(e.latlng);
          },
        }),
        (d.LayerGroup = d.Class.extend({
          initialize: function (e) {
            var t, i;
            if (((this._layers = {}), e))
              for (t = 0, i = e.length; t < i; t++) this.addLayer(e[t]);
          },
          addLayer: function (e) {
            var t = this.getLayerId(e);
            return (
              (this._layers[t] = e), this._map && this._map.addLayer(e), this
            );
          },
          removeLayer: function (e) {
            var t = e in this._layers ? e : this.getLayerId(e);
            return (
              this._map &&
              this._layers[t] &&
              this._map.removeLayer(this._layers[t]),
              delete this._layers[t],
              this
            );
          },
          hasLayer: function (e) {
            return (
              !!e && (e in this._layers || this.getLayerId(e) in this._layers)
            );
          },
          clearLayers: function () {
            return this.eachLayer(this.removeLayer, this), this;
          },
          invoke: function (e) {
            var t,
              i,
              n = Array.prototype.slice.call(arguments, 1);
            for (t in this._layers)
              (i = this._layers[t])[e] && i[e].apply(i, n);
            return this;
          },
          onAdd: function (e) {
            (this._map = e), this.eachLayer(e.addLayer, e);
          },
          onRemove: function (e) {
            this.eachLayer(e.removeLayer, e), (this._map = null);
          },
          addTo: function (e) {
            return e.addLayer(this), this;
          },
          eachLayer: function (e, t) {
            for (var i in this._layers) e.call(t, this._layers[i]);
            return this;
          },
          getLayer: function (e) {
            return this._layers[e];
          },
          getLayers: function () {
            var e = [];
            for (var t in this._layers) e.push(this._layers[t]);
            return e;
          },
          setZIndex: function (e) {
            return this.invoke("setZIndex", e);
          },
          getLayerId: function (e) {
            return d.stamp(e);
          },
        })),
        (d.layerGroup = function (e) {
          return new d.LayerGroup(e);
        }),
        (d.FeatureGroup = d.LayerGroup.extend({
          includes: d.Mixin.Events,
          statics: {
            EVENTS:
              "click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose",
          },
          addLayer: function (e) {
            return this.hasLayer(e)
              ? this
              : ("on" in e &&
                e.on(d.FeatureGroup.EVENTS, this._propagateEvent, this),
                d.LayerGroup.prototype.addLayer.call(this, e),
                this._popupContent &&
                e.bindPopup &&
                e.bindPopup(this._popupContent, this._popupOptions),
                this.fire("layeradd", { layer: e }));
          },
          removeLayer: function (e) {
            return this.hasLayer(e)
              ? (e in this._layers && (e = this._layers[e]),
                "off" in e &&
                e.off(d.FeatureGroup.EVENTS, this._propagateEvent, this),
                d.LayerGroup.prototype.removeLayer.call(this, e),
                this._popupContent && this.invoke("unbindPopup"),
                this.fire("layerremove", { layer: e }))
              : this;
          },
          bindPopup: function (e, t) {
            return (
              (this._popupContent = e),
              (this._popupOptions = t),
              this.invoke("bindPopup", e, t)
            );
          },
          openPopup: function (e) {
            for (var t in this._layers) {
              this._layers[t].openPopup(e);
              break;
            }
            return this;
          },
          setStyle: function (e) {
            return this.invoke("setStyle", e);
          },
          bringToFront: function () {
            return this.invoke("bringToFront");
          },
          bringToBack: function () {
            return this.invoke("bringToBack");
          },
          getBounds: function () {
            var e = new d.LatLngBounds();
            return (
              this.eachLayer(function (t) {
                e.extend(t instanceof d.Marker ? t.getLatLng() : t.getBounds());
              }),
              e
            );
          },
          _propagateEvent: function (e) {
            (e = d.extend({ layer: e.target, target: this }, e)),
              this.fire(e.type, e);
          },
        })),
        (d.featureGroup = function (e) {
          return new d.FeatureGroup(e);
        }),
        (d.Path = d.Class.extend({
          includes: [d.Mixin.Events],
          statics: {
            CLIP_PADDING:
              ((f =
                ((d.Browser.mobile ? 1280 : 2e3) /
                  Math.max(r.outerWidth, r.outerHeight) -
                  1) /
                2),
                Math.max(0, Math.min(0.5, f))),
          },
          options: {
            stroke: !0,
            color: "#0033ff",
            dashArray: null,
            lineCap: null,
            lineJoin: null,
            weight: 5,
            opacity: 0.5,
            fill: !1,
            fillColor: null,
            fillOpacity: 0.2,
            clickable: !0,
          },
          initialize: function (e) {
            d.setOptions(this, e);
          },
          onAdd: function (e) {
            (this._map = e),
              this._container || (this._initElements(), this._initEvents()),
              this.projectLatlngs(),
              this._updatePath(),
              this._container &&
              this._map._pathRoot.appendChild(this._container),
              this.fire("add"),
              e.on(
                { viewreset: this.projectLatlngs, moveend: this._updatePath },
                this
              );
          },
          addTo: function (e) {
            return e.addLayer(this), this;
          },
          onRemove: function (e) {
            e._pathRoot.removeChild(this._container),
              this.fire("remove"),
              (this._map = null),
              d.Browser.vml &&
              ((this._container = null),
                (this._stroke = null),
                (this._fill = null)),
              e.off(
                { viewreset: this.projectLatlngs, moveend: this._updatePath },
                this
              );
          },
          projectLatlngs: function () { },
          setStyle: function (e) {
            return (
              d.setOptions(this, e),
              this._container && this._updateStyle(),
              this
            );
          },
          redraw: function () {
            return (
              this._map && (this.projectLatlngs(), this._updatePath()), this
            );
          },
        })),
        d.Map.include({
          _updatePathViewport: function () {
            var e = d.Path.CLIP_PADDING,
              t = this.getSize(),
              i = d.DomUtil.getPosition(this._mapPane)
                .multiplyBy(-1)
                ._subtract(t.multiplyBy(e)._round()),
              n = i.add(t.multiplyBy(1 + 2 * e)._round());
            this._pathViewport = new d.Bounds(i, n);
          },
        }),
        (d.Path.SVG_NS = "http://www.w3.org/2000/svg"),
        (d.Browser.svg = !(
          !a.createElementNS ||
          !a.createElementNS(d.Path.SVG_NS, "svg").createSVGRect
        )),
        (d.Path = d.Path.extend({
          statics: { SVG: d.Browser.svg },
          bringToFront: function () {
            var e = this._map._pathRoot,
              t = this._container;
            return t && e.lastChild !== t && e.appendChild(t), this;
          },
          bringToBack: function () {
            var e = this._map._pathRoot,
              t = this._container,
              i = e.firstChild;
            return t && i !== t && e.insertBefore(t, i), this;
          },
          getPathString: function () { },
          _createElement: function (e) {
            return a.createElementNS(d.Path.SVG_NS, e);
          },
          _initElements: function () {
            this._map._initPathRoot(), this._initPath(), this._initStyle();
          },
          _initPath: function () {
            (this._container = this._createElement("g")),
              (this._path = this._createElement("path")),
              this.options.className &&
              d.DomUtil.addClass(this._path, this.options.className),
              this._container.appendChild(this._path);
          },
          _initStyle: function () {
            this.options.stroke &&
              (this._path.setAttribute("stroke-linejoin", "round"),
                this._path.setAttribute("stroke-linecap", "round")),
              this.options.fill &&
              this._path.setAttribute("fill-rule", "evenodd"),
              this.options.pointerEvents &&
              this._path.setAttribute(
                "pointer-events",
                this.options.pointerEvents
              ),
              this.options.clickable ||
              this.options.pointerEvents ||
              this._path.setAttribute("pointer-events", "none"),
              this._updateStyle();
          },
          _updateStyle: function () {
            this.options.stroke
              ? (this._path.setAttribute("stroke", this.options.color),
                this._path.setAttribute("stroke-opacity", this.options.opacity),
                this._path.setAttribute("stroke-width", this.options.weight),
                this.options.dashArray
                  ? this._path.setAttribute(
                    "stroke-dasharray",
                    this.options.dashArray
                  )
                  : this._path.removeAttribute("stroke-dasharray"),
                this.options.lineCap &&
                this._path.setAttribute(
                  "stroke-linecap",
                  this.options.lineCap
                ),
                this.options.lineJoin &&
                this._path.setAttribute(
                  "stroke-linejoin",
                  this.options.lineJoin
                ))
              : this._path.setAttribute("stroke", "none"),
              this.options.fill
                ? (this._path.setAttribute(
                  "fill",
                  this.options.fillColor || this.options.color
                ),
                  this._path.setAttribute(
                    "fill-opacity",
                    this.options.fillOpacity
                  ))
                : this._path.setAttribute("fill", "none");
          },
          _updatePath: function () {
            var e = this.getPathString();
            e || (e = "M0 0"), this._path.setAttribute("d", e);
          },
          _initEvents: function () {
            if (this.options.clickable) {
              (!d.Browser.svg && d.Browser.vml) ||
                d.DomUtil.addClass(this._path, "leaflet-clickable"),
                d.DomEvent.on(
                  this._container,
                  "click",
                  this._onMouseClick,
                  this
                );
              for (
                var e = [
                  "dblclick",
                  "mousedown",
                  "mouseover",
                  "mouseout",
                  "mousemove",
                  "contextmenu",
                ],
                t = 0;
                t < e.length;
                t++
              )
                d.DomEvent.on(
                  this._container,
                  e[t],
                  this._fireMouseEvent,
                  this
                );
            }
          },
          _onMouseClick: function (e) {
            (this._map.dragging && this._map.dragging.moved()) ||
              this._fireMouseEvent(e);
          },
          _fireMouseEvent: function (e) {
            if (this._map && this.hasEventListeners(e.type)) {
              var t = this._map,
                i = t.mouseEventToContainerPoint(e),
                n = t.containerPointToLayerPoint(i),
                o = t.layerPointToLatLng(n);
              this.fire(e.type, {
                latlng: o,
                layerPoint: n,
                containerPoint: i,
                originalEvent: e,
              }),
                "contextmenu" === e.type && d.DomEvent.preventDefault(e),
                "mousemove" !== e.type && d.DomEvent.stopPropagation(e);
            }
          },
        })),
        d.Map.include({
          _initPathRoot: function () {
            this._pathRoot ||
              ((this._pathRoot = d.Path.prototype._createElement("svg")),
                this._panes.overlayPane.appendChild(this._pathRoot),
                this.options.zoomAnimation && d.Browser.any3d
                  ? (d.DomUtil.addClass(this._pathRoot, "leaflet-zoom-animated"),
                    this.on({
                      zoomanim: this._animatePathZoom,
                      zoomend: this._endPathZoom,
                    }))
                  : d.DomUtil.addClass(this._pathRoot, "leaflet-zoom-hide"),
                this.on("moveend", this._updateSvgViewport),
                this._updateSvgViewport());
          },
          _animatePathZoom: function (e) {
            var t = this.getZoomScale(e.zoom),
              i = this._getCenterOffset(e.center)
                ._multiplyBy(-t)
                ._add(this._pathViewport.min);
            (this._pathRoot.style[d.DomUtil.TRANSFORM] =
              d.DomUtil.getTranslateString(i) + " scale(" + t + ") "),
              (this._pathZooming = !0);
          },
          _endPathZoom: function () {
            this._pathZooming = !1;
          },
          _updateSvgViewport: function () {
            if (!this._pathZooming) {
              this._updatePathViewport();
              var e = this._pathViewport,
                t = e.min,
                i = e.max,
                n = i.x - t.x,
                o = i.y - t.y,
                r = this._pathRoot,
                a = this._panes.overlayPane;
              d.Browser.mobileWebkit && a.removeChild(r),
                d.DomUtil.setPosition(r, t),
                r.setAttribute("width", n),
                r.setAttribute("height", o),
                r.setAttribute("viewBox", [t.x, t.y, n, o].join(" ")),
                d.Browser.mobileWebkit && a.appendChild(r);
            }
          },
        }),
        d.Path.include({
          bindPopup: function (e, t) {
            return (
              e instanceof d.Popup
                ? (this._popup = e)
                : ((this._popup && !t) || (this._popup = new d.Popup(t, this)),
                  this._popup.setContent(e)),
              this._popupHandlersAdded ||
              (this.on("click", this._openPopup, this).on(
                "remove",
                this.closePopup,
                this
              ),
                (this._popupHandlersAdded = !0)),
              this
            );
          },
          unbindPopup: function () {
            return (
              this._popup &&
              ((this._popup = null),
                this.off("click", this._openPopup).off(
                  "remove",
                  this.closePopup
                ),
                (this._popupHandlersAdded = !1)),
              this
            );
          },
          openPopup: function (e) {
            return (
              this._popup &&
              ((e =
                e ||
                this._latlng ||
                this._latlngs[Math.floor(this._latlngs.length / 2)]),
                this._openPopup({ latlng: e })),
              this
            );
          },
          closePopup: function () {
            return this._popup && this._popup._close(), this;
          },
          _openPopup: function (e) {
            this._popup.setLatLng(e.latlng), this._map.openPopup(this._popup);
          },
        }),
        (d.Browser.vml =
          !d.Browser.svg &&
          (function () {
            try {
              var e = a.createElement("div");
              e.innerHTML = '<v:shape adj="1"/>';
              var t = e.firstChild;
              return (
                (t.style.behavior = "url(#default#VML)"),
                t && "object" == typeof t.adj
              );
            } catch (e) {
              return !1;
            }
          })()),
        (d.Path =
          d.Browser.svg || !d.Browser.vml
            ? d.Path
            : d.Path.extend({
              statics: { VML: !0, CLIP_PADDING: 0.02 },
              _createElement: (function () {
                try {
                  return (
                    a.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"),
                    function (e) {
                      return a.createElement("<lvml:" + e + ' class="lvml">');
                    }
                  );
                } catch (e) {
                  return function (e) {
                    return a.createElement(
                      "<" +
                      e +
                      ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">'
                    );
                  };
                }
              })(),
              _initPath: function () {
                var e = (this._container = this._createElement("shape"));
                d.DomUtil.addClass(
                  e,
                  "leaflet-vml-shape" +
                  (this.options.className
                    ? " " + this.options.className
                    : "")
                ),
                  this.options.clickable &&
                  d.DomUtil.addClass(e, "leaflet-clickable"),
                  (e.coordsize = "1 1"),
                  (this._path = this._createElement("path")),
                  e.appendChild(this._path),
                  this._map._pathRoot.appendChild(e);
              },
              _initStyle: function () {
                this._updateStyle();
              },
              _updateStyle: function () {
                var e = this._stroke,
                  t = this._fill,
                  i = this.options,
                  n = this._container;
                (n.stroked = i.stroke),
                  (n.filled = i.fill),
                  i.stroke
                    ? (e ||
                      (((e = this._stroke =
                        this._createElement("stroke")).endcap = "round"),
                        n.appendChild(e)),
                      (e.weight = i.weight + "px"),
                      (e.color = i.color),
                      (e.opacity = i.opacity),
                      i.dashArray
                        ? (e.dashStyle = d.Util.isArray(i.dashArray)
                          ? i.dashArray.join(" ")
                          : i.dashArray.replace(/( *, *)/g, " "))
                        : (e.dashStyle = ""),
                      i.lineCap &&
                      (e.endcap = i.lineCap.replace("butt", "flat")),
                      i.lineJoin && (e.joinstyle = i.lineJoin))
                    : e && (n.removeChild(e), (this._stroke = null)),
                  i.fill
                    ? (t ||
                      ((t = this._fill = this._createElement("fill")),
                        n.appendChild(t)),
                      (t.color = i.fillColor || i.color),
                      (t.opacity = i.fillOpacity))
                    : t && (n.removeChild(t), (this._fill = null));
              },
              _updatePath: function () {
                var e = this._container.style;
                (e.display = "none"),
                  (this._path.v = this.getPathString() + " "),
                  (e.display = "");
              },
            })),
        d.Map.include(
          d.Browser.svg || !d.Browser.vml
            ? {}
            : {
              _initPathRoot: function () {
                if (!this._pathRoot) {
                  var e = (this._pathRoot = a.createElement("div"));
                  (e.className = "leaflet-vml-container"),
                    this._panes.overlayPane.appendChild(e),
                    this.on("moveend", this._updatePathViewport),
                    this._updatePathViewport();
                }
              },
            }
        ),
        (d.Browser.canvas = !!a.createElement("canvas").getContext),
        (d.Path =
          (d.Path.SVG && !r.L_PREFER_CANVAS) || !d.Browser.canvas
            ? d.Path
            : d.Path.extend({
              statics: { CANVAS: !0, SVG: !1 },
              redraw: function () {
                return (
                  this._map && (this.projectLatlngs(), this._requestUpdate()),
                  this
                );
              },
              setStyle: function (e) {
                return (
                  d.setOptions(this, e),
                  this._map && (this._updateStyle(), this._requestUpdate()),
                  this
                );
              },
              onRemove: function (e) {
                e
                  .off("viewreset", this.projectLatlngs, this)
                  .off("moveend", this._updatePath, this),
                  this.options.clickable &&
                  (this._map.off("click", this._onClick, this),
                    this._map.off("mousemove", this._onMouseMove, this)),
                  this._requestUpdate(),
                  this.fire("remove"),
                  (this._map = null);
              },
              _requestUpdate: function () {
                this._map &&
                  !d.Path._updateRequest &&
                  (d.Path._updateRequest = d.Util.requestAnimFrame(
                    this._fireMapMoveEnd,
                    this._map
                  ));
              },
              _fireMapMoveEnd: function () {
                (d.Path._updateRequest = null), this.fire("moveend");
              },
              _initElements: function () {
                this._map._initPathRoot(), (this._ctx = this._map._canvasCtx);
              },
              _updateStyle: function () {
                var e = this.options;
                e.stroke &&
                  ((this._ctx.lineWidth = e.weight),
                    (this._ctx.strokeStyle = e.color)),
                  e.fill && (this._ctx.fillStyle = e.fillColor || e.color),
                  e.lineCap && (this._ctx.lineCap = e.lineCap),
                  e.lineJoin && (this._ctx.lineJoin = e.lineJoin);
              },
              _drawPath: function () {
                var e, t, i, n, o, r;
                for (
                  this._ctx.beginPath(), e = 0, i = this._parts.length;
                  e < i;
                  e++
                ) {
                  for (t = 0, n = this._parts[e].length; t < n; t++)
                    (o = this._parts[e][t]),
                      (r = (0 === t ? "move" : "line") + "To"),
                      this._ctx[r](o.x, o.y);
                  this instanceof d.Polygon && this._ctx.closePath();
                }
              },
              _checkIfEmpty: function () {
                return !this._parts.length;
              },
              _updatePath: function () {
                if (!this._checkIfEmpty()) {
                  var e = this._ctx,
                    t = this.options;
                  this._drawPath(),
                    e.save(),
                    this._updateStyle(),
                    t.fill &&
                    ((e.globalAlpha = t.fillOpacity),
                      e.fill(t.fillRule || "evenodd")),
                    t.stroke && ((e.globalAlpha = t.opacity), e.stroke()),
                    e.restore();
                }
              },
              _initEvents: function () {
                this.options.clickable &&
                  (this._map.on("mousemove", this._onMouseMove, this),
                    this._map.on(
                      "click dblclick contextmenu",
                      this._fireMouseEvent,
                      this
                    ));
              },
              _fireMouseEvent: function (e) {
                this._containsPoint(e.layerPoint) && this.fire(e.type, e);
              },
              _onMouseMove: function (e) {
                this._map &&
                  !this._map._animatingZoom &&
                  (this._containsPoint(e.layerPoint)
                    ? ((this._ctx.canvas.style.cursor = "pointer"),
                      (this._mouseInside = !0),
                      this.fire("mouseover", e))
                    : this._mouseInside &&
                    ((this._ctx.canvas.style.cursor = ""),
                      (this._mouseInside = !1),
                      this.fire("mouseout", e)));
              },
            })),
        d.Map.include(
          (d.Path.SVG && !r.L_PREFER_CANVAS) || !d.Browser.canvas
            ? {}
            : {
              _initPathRoot: function () {
                var e,
                  t = this._pathRoot;
                t ||
                  (((t = this._pathRoot =
                    a.createElement("canvas")).style.position = "absolute"),
                    ((e = this._canvasCtx = t.getContext("2d")).lineCap =
                      "round"),
                    (e.lineJoin = "round"),
                    this._panes.overlayPane.appendChild(t),
                    this.options.zoomAnimation &&
                    ((this._pathRoot.className = "leaflet-zoom-animated"),
                      this.on("zoomanim", this._animatePathZoom),
                      this.on("zoomend", this._endPathZoom)),
                    this.on("moveend", this._updateCanvasViewport),
                    this._updateCanvasViewport());
              },
              _updateCanvasViewport: function () {
                if (!this._pathZooming) {
                  this._updatePathViewport();
                  var e = this._pathViewport,
                    t = e.min,
                    i = e.max.subtract(t),
                    n = this._pathRoot;
                  d.DomUtil.setPosition(n, t),
                    (n.width = i.x),
                    (n.height = i.y),
                    n.getContext("2d").translate(-t.x, -t.y);
                }
              },
            }
        ),
        (d.LineUtil = {
          simplify: function (e, t) {
            if (!t || !e.length) return e.slice();
            var i = t * t;
            return (e = this._reducePoints(e, i)), (e = this._simplifyDP(e, i));
          },
          pointToSegmentDistance: function (e, t, i) {
            return Math.sqrt(this._sqClosestPointOnSegment(e, t, i, !0));
          },
          closestPointOnSegment: function (e, t, i) {
            return this._sqClosestPointOnSegment(e, t, i);
          },
          _simplifyDP: function (e, t) {
            var i = e.length,
              n = new (typeof Uint8Array != void 0 + "" ? Uint8Array : Array)(
                i
              );
            (n[0] = n[i - 1] = 1), this._simplifyDPStep(e, n, t, 0, i - 1);
            var o,
              r = [];
            for (o = 0; o < i; o++) n[o] && r.push(e[o]);
            return r;
          },
          _simplifyDPStep: function (e, t, i, n, o) {
            var r,
              a,
              s,
              l = 0;
            for (a = n + 1; a <= o - 1; a++)
              (s = this._sqClosestPointOnSegment(e[a], e[n], e[o], !0)) > l &&
                ((r = a), (l = s));
            l > i &&
              ((t[r] = 1),
                this._simplifyDPStep(e, t, i, n, r),
                this._simplifyDPStep(e, t, i, r, o));
          },
          _reducePoints: function (e, t) {
            for (var i = [e[0]], n = 1, o = 0, r = e.length; n < r; n++)
              this._sqDist(e[n], e[o]) > t && (i.push(e[n]), (o = n));
            return o < r - 1 && i.push(e[r - 1]), i;
          },
          clipSegment: function (e, t, i, n) {
            var o,
              r,
              a,
              s = n ? this._lastCode : this._getBitCode(e, i),
              l = this._getBitCode(t, i);
            for (this._lastCode = l; ;) {
              if (!(s | l)) return [e, t];
              if (s & l) return !1;
              (o = s || l),
                (r = this._getEdgeIntersection(e, t, o, i)),
                (a = this._getBitCode(r, i)),
                o === s ? ((e = r), (s = a)) : ((t = r), (l = a));
            }
          },
          _getEdgeIntersection: function (e, t, i, n) {
            var o = t.x - e.x,
              r = t.y - e.y,
              a = n.min,
              s = n.max;
            return 8 & i
              ? new d.Point(e.x + (o * (s.y - e.y)) / r, s.y)
              : 4 & i
                ? new d.Point(e.x + (o * (a.y - e.y)) / r, a.y)
                : 2 & i
                  ? new d.Point(s.x, e.y + (r * (s.x - e.x)) / o)
                  : 1 & i
                    ? new d.Point(a.x, e.y + (r * (a.x - e.x)) / o)
                    : void 0;
          },
          _getBitCode: function (e, t) {
            var i = 0;
            return (
              e.x < t.min.x ? (i |= 1) : e.x > t.max.x && (i |= 2),
              e.y < t.min.y ? (i |= 4) : e.y > t.max.y && (i |= 8),
              i
            );
          },
          _sqDist: function (e, t) {
            var i = t.x - e.x,
              n = t.y - e.y;
            return i * i + n * n;
          },
          _sqClosestPointOnSegment: function (e, t, i, n) {
            var o,
              r = t.x,
              a = t.y,
              s = i.x - r,
              l = i.y - a,
              c = s * s + l * l;
            return (
              c > 0 &&
              ((o = ((e.x - r) * s + (e.y - a) * l) / c) > 1
                ? ((r = i.x), (a = i.y))
                : o > 0 && ((r += s * o), (a += l * o))),
              (s = e.x - r),
              (l = e.y - a),
              n ? s * s + l * l : new d.Point(r, a)
            );
          },
        }),
        (d.Polyline = d.Path.extend({
          initialize: function (e, t) {
            d.Path.prototype.initialize.call(this, t),
              (this._latlngs = this._convertLatLngs(e));
          },
          options: { smoothFactor: 1, noClip: !1 },
          projectLatlngs: function () {
            this._originalPoints = [];
            for (var e = 0, t = this._latlngs.length; e < t; e++)
              this._originalPoints[e] = this._map.latLngToLayerPoint(
                this._latlngs[e]
              );
          },
          getPathString: function () {
            for (var e = 0, t = this._parts.length, i = ""; e < t; e++)
              i += this._getPathPartStr(this._parts[e]);
            return i;
          },
          getLatLngs: function () {
            return this._latlngs;
          },
          setLatLngs: function (e) {
            return (this._latlngs = this._convertLatLngs(e)), this.redraw();
          },
          addLatLng: function (e) {
            return this._latlngs.push(d.latLng(e)), this.redraw();
          },
          spliceLatLngs: function () {
            var e = [].splice.apply(this._latlngs, arguments);
            return this._convertLatLngs(this._latlngs, !0), this.redraw(), e;
          },
          closestLayerPoint: function (e) {
            for (
              var t,
              i,
              n = 1 / 0,
              o = this._parts,
              r = null,
              a = 0,
              s = o.length;
              a < s;
              a++
            )
              for (var l = o[a], c = 1, u = l.length; c < u; c++) {
                (t = l[c - 1]), (i = l[c]);
                var p = d.LineUtil._sqClosestPointOnSegment(e, t, i, !0);
                p < n &&
                  ((n = p), (r = d.LineUtil._sqClosestPointOnSegment(e, t, i)));
              }
            return r && (r.distance = Math.sqrt(n)), r;
          },
          getBounds: function () {
            return new d.LatLngBounds(this.getLatLngs());
          },
          _convertLatLngs: function (e, t) {
            var i,
              n,
              o = t ? e : [];
            for (i = 0, n = e.length; i < n; i++) {
              if (d.Util.isArray(e[i]) && "number" != typeof e[i][0]) return;
              o[i] = d.latLng(e[i]);
            }
            return o;
          },
          _initEvents: function () {
            d.Path.prototype._initEvents.call(this);
          },
          _getPathPartStr: function (e) {
            for (var t, i = d.Path.VML, n = 0, o = e.length, r = ""; n < o; n++)
              (t = e[n]),
                i && t._round(),
                (r += (n ? "L" : "M") + t.x + " " + t.y);
            return r;
          },
          _clipPoints: function () {
            var e,
              t,
              i,
              n = this._originalPoints,
              o = n.length;
            if (this.options.noClip) this._parts = [n];
            else {
              this._parts = [];
              var r = this._parts,
                a = this._map._pathViewport,
                s = d.LineUtil;
              for (e = 0, t = 0; e < o - 1; e++)
                (i = s.clipSegment(n[e], n[e + 1], a, e)) &&
                  ((r[t] = r[t] || []),
                    r[t].push(i[0]),
                    (i[1] === n[e + 1] && e !== o - 2) || (r[t].push(i[1]), t++));
            }
          },
          _simplifyPoints: function () {
            for (
              var e = this._parts, t = d.LineUtil, i = 0, n = e.length;
              i < n;
              i++
            )
              e[i] = t.simplify(e[i], this.options.smoothFactor);
          },
          _updatePath: function () {
            this._map &&
              (this._clipPoints(),
                this._simplifyPoints(),
                d.Path.prototype._updatePath.call(this));
          },
        })),
        (d.polyline = function (e, t) {
          return new d.Polyline(e, t);
        }),
        (d.PolyUtil = {}),
        (d.PolyUtil.clipPolygon = function (e, t) {
          var i,
            n,
            o,
            r,
            a,
            s,
            l,
            c,
            u,
            p = [1, 4, 2, 8],
            h = d.LineUtil;
          for (n = 0, l = e.length; n < l; n++)
            e[n]._code = h._getBitCode(e[n], t);
          for (r = 0; r < 4; r++) {
            for (
              c = p[r], i = [], n = 0, o = (l = e.length) - 1;
              n < l;
              o = n++
            )
              (a = e[n]),
                (s = e[o]),
                a._code & c
                  ? s._code & c ||
                  (((u = h._getEdgeIntersection(s, a, c, t))._code =
                    h._getBitCode(u, t)),
                    i.push(u))
                  : (s._code & c &&
                    (((u = h._getEdgeIntersection(s, a, c, t))._code =
                      h._getBitCode(u, t)),
                      i.push(u)),
                    i.push(a));
            e = i;
          }
          return e;
        }),
        (d.Polygon = d.Polyline.extend({
          options: { fill: !0 },
          initialize: function (e, t) {
            d.Polyline.prototype.initialize.call(this, e, t),
              this._initWithHoles(e);
          },
          _initWithHoles: function (e) {
            var t, i, n;
            if (e && d.Util.isArray(e[0]) && "number" != typeof e[0][0])
              for (
                this._latlngs = this._convertLatLngs(e[0]),
                this._holes = e.slice(1),
                t = 0,
                i = this._holes.length;
                t < i;
                t++
              )
                (n = this._holes[t] =
                  this._convertLatLngs(this._holes[t]))[0].equals(
                    n[n.length - 1]
                  ) && n.pop();
            (e = this._latlngs).length >= 2 &&
              e[0].equals(e[e.length - 1]) &&
              e.pop();
          },
          projectLatlngs: function () {
            var e, t, i, n;
            if (
              (d.Polyline.prototype.projectLatlngs.call(this),
                (this._holePoints = []),
                this._holes)
            )
              for (e = 0, i = this._holes.length; e < i; e++)
                for (
                  this._holePoints[e] = [], t = 0, n = this._holes[e].length;
                  t < n;
                  t++
                )
                  this._holePoints[e][t] = this._map.latLngToLayerPoint(
                    this._holes[e][t]
                  );
          },
          setLatLngs: function (e) {
            return e && d.Util.isArray(e[0]) && "number" != typeof e[0][0]
              ? (this._initWithHoles(e), this.redraw())
              : d.Polyline.prototype.setLatLngs.call(this, e);
          },
          _clipPoints: function () {
            var e = this._originalPoints,
              t = [];
            if (
              ((this._parts = [e].concat(this._holePoints)),
                !this.options.noClip)
            ) {
              for (var i = 0, n = this._parts.length; i < n; i++) {
                var o = d.PolyUtil.clipPolygon(
                  this._parts[i],
                  this._map._pathViewport
                );
                o.length && t.push(o);
              }
              this._parts = t;
            }
          },
          _getPathPartStr: function (e) {
            return (
              d.Polyline.prototype._getPathPartStr.call(this, e) +
              (d.Browser.svg ? "z" : "x")
            );
          },
        })),
        (d.polygon = function (e, t) {
          return new d.Polygon(e, t);
        }),
        (function () {
          function e(e) {
            return d.FeatureGroup.extend({
              initialize: function (e, t) {
                (this._layers = {}), (this._options = t), this.setLatLngs(e);
              },
              setLatLngs: function (t) {
                var i = 0,
                  n = t.length;
                for (
                  this.eachLayer(function (e) {
                    i < n ? e.setLatLngs(t[i++]) : this.removeLayer(e);
                  }, this);
                  i < n;

                )
                  this.addLayer(new e(t[i++], this._options));
                return this;
              },
              getLatLngs: function () {
                var e = [];
                return (
                  this.eachLayer(function (t) {
                    e.push(t.getLatLngs());
                  }),
                  e
                );
              },
            });
          }
          (d.MultiPolyline = e(d.Polyline)),
            (d.MultiPolygon = e(d.Polygon)),
            (d.multiPolyline = function (e, t) {
              return new d.MultiPolyline(e, t);
            }),
            (d.multiPolygon = function (e, t) {
              return new d.MultiPolygon(e, t);
            });
        })(),
        (d.Rectangle = d.Polygon.extend({
          initialize: function (e, t) {
            d.Polygon.prototype.initialize.call(
              this,
              this._boundsToLatLngs(e),
              t
            );
          },
          setBounds: function (e) {
            this.setLatLngs(this._boundsToLatLngs(e));
          },
          _boundsToLatLngs: function (e) {
            return [
              (e = d.latLngBounds(e)).getSouthWest(),
              e.getNorthWest(),
              e.getNorthEast(),
              e.getSouthEast(),
            ];
          },
        })),
        (d.rectangle = function (e, t) {
          return new d.Rectangle(e, t);
        }),
        (d.Circle = d.Path.extend({
          initialize: function (e, t, i) {
            d.Path.prototype.initialize.call(this, i),
              (this._latlng = d.latLng(e)),
              (this._mRadius = t);
          },
          options: { fill: !0 },
          setLatLng: function (e) {
            return (this._latlng = d.latLng(e)), this.redraw();
          },
          setRadius: function (e) {
            return (this._mRadius = e), this.redraw();
          },
          projectLatlngs: function () {
            var e = this._getLngRadius(),
              t = this._latlng,
              i = this._map.latLngToLayerPoint([t.lat, t.lng - e]);
            (this._point = this._map.latLngToLayerPoint(t)),
              (this._radius = Math.max(this._point.x - i.x, 1));
          },
          getBounds: function () {
            var e = this._getLngRadius(),
              t = (this._mRadius / 40075017) * 360,
              i = this._latlng;
            return new d.LatLngBounds(
              [i.lat - t, i.lng - e],
              [i.lat + t, i.lng + e]
            );
          },
          getLatLng: function () {
            return this._latlng;
          },
          getPathString: function () {
            var e = this._point,
              t = this._radius;
            return this._checkIfEmpty()
              ? ""
              : d.Browser.svg
                ? "M" +
                e.x +
                "," +
                (e.y - t) +
                "A" +
                t +
                "," +
                t +
                ",0,1,1," +
                (e.x - 0.1) +
                "," +
                (e.y - t) +
                " z"
                : (e._round(),
                  (t = Math.round(t)),
                  "AL " + e.x + "," + e.y + " " + t + "," + t + " 0,23592600");
          },
          getRadius: function () {
            return this._mRadius;
          },
          _getLatRadius: function () {
            return (this._mRadius / 40075017) * 360;
          },
          _getLngRadius: function () {
            return (
              this._getLatRadius() /
              Math.cos(d.LatLng.DEG_TO_RAD * this._latlng.lat)
            );
          },
          _checkIfEmpty: function () {
            if (!this._map) return !1;
            var e = this._map._pathViewport,
              t = this._radius,
              i = this._point;
            return (
              i.x - t > e.max.x ||
              i.y - t > e.max.y ||
              i.x + t < e.min.x ||
              i.y + t < e.min.y
            );
          },
        })),
        (d.circle = function (e, t, i) {
          return new d.Circle(e, t, i);
        }),
        (d.CircleMarker = d.Circle.extend({
          options: { radius: 10, weight: 2 },
          initialize: function (e, t) {
            d.Circle.prototype.initialize.call(this, e, null, t),
              (this._radius = this.options.radius);
          },
          projectLatlngs: function () {
            this._point = this._map.latLngToLayerPoint(this._latlng);
          },
          _updateStyle: function () {
            d.Circle.prototype._updateStyle.call(this),
              this.setRadius(this.options.radius);
          },
          setLatLng: function (e) {
            return (
              d.Circle.prototype.setLatLng.call(this, e),
              this._popup && this._popup._isOpen && this._popup.setLatLng(e),
              this
            );
          },
          setRadius: function (e) {
            return (this.options.radius = this._radius = e), this.redraw();
          },
          getRadius: function () {
            return this._radius;
          },
        })),
        (d.circleMarker = function (e, t) {
          return new d.CircleMarker(e, t);
        }),
        d.Polyline.include(
          d.Path.CANVAS
            ? {
              _containsPoint: function (e, t) {
                var i,
                  n,
                  o,
                  r,
                  a,
                  s,
                  l = this.options.weight / 2;
                for (
                  d.Browser.touch && (l += 10), i = 0, r = this._parts.length;
                  i < r;
                  i++
                )
                  for (
                    n = 0, o = (a = (s = this._parts[i]).length) - 1;
                    n < a;
                    o = n++
                  )
                    if (
                      (t || 0 !== n) &&
                      d.LineUtil.pointToSegmentDistance(e, s[o], s[n]) <= l
                    )
                      return !0;
                return !1;
              },
            }
            : {}
        ),
        d.Polygon.include(
          d.Path.CANVAS
            ? {
              _containsPoint: function (e) {
                var t,
                  i,
                  n,
                  o,
                  r,
                  a,
                  s,
                  l,
                  c = !1;
                if (d.Polyline.prototype._containsPoint.call(this, e, !0))
                  return !0;
                for (o = 0, s = this._parts.length; o < s; o++)
                  for (
                    r = 0, a = (l = (t = this._parts[o]).length) - 1;
                    r < l;
                    a = r++
                  )
                    (i = t[r]),
                      (n = t[a]),
                      i.y > e.y != n.y > e.y &&
                      e.x <
                      ((n.x - i.x) * (e.y - i.y)) / (n.y - i.y) + i.x &&
                      (c = !c);
                return c;
              },
            }
            : {}
        ),
        d.Circle.include(
          d.Path.CANVAS
            ? {
              _drawPath: function () {
                var e = this._point;
                this._ctx.beginPath(),
                  this._ctx.arc(e.x, e.y, this._radius, 0, 2 * Math.PI, !1);
              },
              _containsPoint: function (e) {
                var t = this._point,
                  i = this.options.stroke ? this.options.weight / 2 : 0;
                return e.distanceTo(t) <= this._radius + i;
              },
            }
            : {}
        ),
        d.CircleMarker.include(
          d.Path.CANVAS
            ? {
              _updateStyle: function () {
                d.Path.prototype._updateStyle.call(this);
              },
            }
            : {}
        ),
        (d.GeoJSON = d.FeatureGroup.extend({
          initialize: function (e, t) {
            d.setOptions(this, t), (this._layers = {}), e && this.addData(e);
          },
          addData: function (e) {
            var t,
              i,
              n,
              o = d.Util.isArray(e) ? e : e.features;
            if (o) {
              for (t = 0, i = o.length; t < i; t++)
                ((n = o[t]).geometries ||
                  n.geometry ||
                  n.features ||
                  n.coordinates) &&
                  this.addData(o[t]);
              return this;
            }
            var r = this.options;
            if (!r.filter || r.filter(e)) {
              var a = d.GeoJSON.geometryToLayer(
                e,
                r.pointToLayer,
                r.coordsToLatLng,
                r
              );
              return (
                (a.feature = d.GeoJSON.asFeature(e)),
                (a.defaultOptions = a.options),
                this.resetStyle(a),
                r.onEachFeature && r.onEachFeature(e, a),
                this.addLayer(a)
              );
            }
          },
          resetStyle: function (e) {
            var t = this.options.style;
            t &&
              (d.Util.extend(e.options, e.defaultOptions),
                this._setLayerStyle(e, t));
          },
          setStyle: function (e) {
            this.eachLayer(function (t) {
              this._setLayerStyle(t, e);
            }, this);
          },
          _setLayerStyle: function (e, t) {
            "function" == typeof t && (t = t(e.feature)),
              e.setStyle && e.setStyle(t);
          },
        })),
        d.extend(d.GeoJSON, {
          geometryToLayer: function (e, t, i, n) {
            var o,
              r,
              a,
              s,
              l = "Feature" === e.type ? e.geometry : e,
              c = l.coordinates,
              u = [];
            switch (((i = i || this.coordsToLatLng), l.type)) {
              case "Point":
                return (o = i(c)), t ? t(e, o) : new d.Marker(o);
              case "MultiPoint":
                for (a = 0, s = c.length; a < s; a++)
                  (o = i(c[a])), u.push(t ? t(e, o) : new d.Marker(o));
                return new d.FeatureGroup(u);
              case "LineString":
                return (
                  (r = this.coordsToLatLngs(c, 0, i)), new d.Polyline(r, n)
                );
              case "Polygon":
                if (2 === c.length && !c[1].length)
                  throw new Error("Invalid GeoJSON object.");
                return (r = this.coordsToLatLngs(c, 1, i)), new d.Polygon(r, n);
              case "MultiLineString":
                return (
                  (r = this.coordsToLatLngs(c, 1, i)), new d.MultiPolyline(r, n)
                );
              case "MultiPolygon":
                return (
                  (r = this.coordsToLatLngs(c, 2, i)), new d.MultiPolygon(r, n)
                );
              case "GeometryCollection":
                for (a = 0, s = l.geometries.length; a < s; a++)
                  u.push(
                    this.geometryToLayer(
                      {
                        geometry: l.geometries[a],
                        type: "Feature",
                        properties: e.properties,
                      },
                      t,
                      i,
                      n
                    )
                  );
                return new d.FeatureGroup(u);
              default:
                throw new Error("Invalid GeoJSON object.");
            }
          },
          coordsToLatLng: function (e) {
            return new d.LatLng(e[1], e[0], e[2]);
          },
          coordsToLatLngs: function (e, t, i) {
            var n,
              o,
              r,
              a = [];
            for (o = 0, r = e.length; o < r; o++)
              (n = t
                ? this.coordsToLatLngs(e[o], t - 1, i)
                : (i || this.coordsToLatLng)(e[o])),
                a.push(n);
            return a;
          },
          latLngToCoords: function (e) {
            var t = [e.lng, e.lat];
            return void 0 !== e.alt && t.push(e.alt), t;
          },
          latLngsToCoords: function (e) {
            for (var t = [], i = 0, n = e.length; i < n; i++)
              t.push(d.GeoJSON.latLngToCoords(e[i]));
            return t;
          },
          getFeature: function (e, t) {
            return e.feature
              ? d.extend({}, e.feature, { geometry: t })
              : d.GeoJSON.asFeature(t);
          },
          asFeature: function (e) {
            return "Feature" === e.type
              ? e
              : { type: "Feature", properties: {}, geometry: e };
          },
        });
      var m = {
        toGeoJSON: function () {
          return d.GeoJSON.getFeature(this, {
            type: "Point",
            coordinates: d.GeoJSON.latLngToCoords(this.getLatLng()),
          });
        },
      };
      d.Marker.include(m),
        d.Circle.include(m),
        d.CircleMarker.include(m),
        d.Polyline.include({
          toGeoJSON: function () {
            return d.GeoJSON.getFeature(this, {
              type: "LineString",
              coordinates: d.GeoJSON.latLngsToCoords(this.getLatLngs()),
            });
          },
        }),
        d.Polygon.include({
          toGeoJSON: function () {
            var e,
              t,
              i,
              n = [d.GeoJSON.latLngsToCoords(this.getLatLngs())];
            if ((n[0].push(n[0][0]), this._holes))
              for (e = 0, t = this._holes.length; e < t; e++)
                (i = d.GeoJSON.latLngsToCoords(this._holes[e])).push(i[0]),
                  n.push(i);
            return d.GeoJSON.getFeature(this, {
              type: "Polygon",
              coordinates: n,
            });
          },
        }),
        (function () {
          function e(e) {
            return function () {
              var t = [];
              return (
                this.eachLayer(function (e) {
                  t.push(e.toGeoJSON().geometry.coordinates);
                }),
                d.GeoJSON.getFeature(this, { type: e, coordinates: t })
              );
            };
          }
          d.MultiPolyline.include({ toGeoJSON: e("MultiLineString") }),
            d.MultiPolygon.include({ toGeoJSON: e("MultiPolygon") }),
            d.LayerGroup.include({
              toGeoJSON: function () {
                var t,
                  i = this.feature && this.feature.geometry,
                  n = [];
                if (i && "MultiPoint" === i.type)
                  return e("MultiPoint").call(this);
                var o = i && "GeometryCollection" === i.type;
                return (
                  this.eachLayer(function (e) {
                    e.toGeoJSON &&
                      ((t = e.toGeoJSON()),
                        n.push(o ? t.geometry : d.GeoJSON.asFeature(t)));
                  }),
                  o
                    ? d.GeoJSON.getFeature(this, {
                      geometries: n,
                      type: "GeometryCollection",
                    })
                    : { type: "FeatureCollection", features: n }
                );
              },
            });
        })(),
        (d.geoJson = function (e, t) {
          return new d.GeoJSON(e, t);
        }),
        (d.DomEvent = {
          addListener: function (e, t, i, n) {
            var o,
              r,
              a,
              s = d.stamp(i),
              l = "_leaflet_" + t + s;
            return e[l]
              ? this
              : ((o = function (t) {
                return i.call(n || e, t || d.DomEvent._getEvent());
              }),
                d.Browser.pointer && 0 === t.indexOf("touch")
                  ? this.addPointerListener(e, t, o, s)
                  : (d.Browser.touch &&
                    "dblclick" === t &&
                    this.addDoubleTapListener &&
                    this.addDoubleTapListener(e, o, s),
                    "addEventListener" in e
                      ? "mousewheel" === t
                        ? (e.addEventListener("DOMMouseScroll", o, !1),
                          e.addEventListener(t, o, !1))
                        : "mouseenter" === t || "mouseleave" === t
                          ? ((r = o),
                            (a = "mouseenter" === t ? "mouseover" : "mouseout"),
                            (o = function (t) {
                              if (d.DomEvent._checkMouse(e, t)) return r(t);
                            }),
                            e.addEventListener(a, o, !1))
                          : "click" === t && d.Browser.android
                            ? ((r = o),
                              (o = function (e) {
                                return d.DomEvent._filterClick(e, r);
                              }),
                              e.addEventListener(t, o, !1))
                            : e.addEventListener(t, o, !1)
                      : "attachEvent" in e && e.attachEvent("on" + t, o),
                    (e[l] = o),
                    this));
          },
          removeListener: function (e, t, i) {
            var n = d.stamp(i),
              o = "_leaflet_" + t + n,
              r = e[o];
            return r
              ? (d.Browser.pointer && 0 === t.indexOf("touch")
                ? this.removePointerListener(e, t, n)
                : d.Browser.touch &&
                  "dblclick" === t &&
                  this.removeDoubleTapListener
                  ? this.removeDoubleTapListener(e, n)
                  : "removeEventListener" in e
                    ? "mousewheel" === t
                      ? (e.removeEventListener("DOMMouseScroll", r, !1),
                        e.removeEventListener(t, r, !1))
                      : "mouseenter" === t || "mouseleave" === t
                        ? e.removeEventListener(
                          "mouseenter" === t ? "mouseover" : "mouseout",
                          r,
                          !1
                        )
                        : e.removeEventListener(t, r, !1)
                    : "detachEvent" in e && e.detachEvent("on" + t, r),
                (e[o] = null),
                this)
              : this;
          },
          stopPropagation: function (e) {
            return (
              e.stopPropagation ? e.stopPropagation() : (e.cancelBubble = !0),
              d.DomEvent._skipped(e),
              this
            );
          },
          disableScrollPropagation: function (e) {
            var t = d.DomEvent.stopPropagation;
            return d.DomEvent.on(e, "mousewheel", t).on(
              e,
              "MozMousePixelScroll",
              t
            );
          },
          disableClickPropagation: function (e) {
            for (
              var t = d.DomEvent.stopPropagation,
              i = d.Draggable.START.length - 1;
              i >= 0;
              i--
            )
              d.DomEvent.on(e, d.Draggable.START[i], t);
            return d.DomEvent.on(e, "click", d.DomEvent._fakeStop).on(
              e,
              "dblclick",
              t
            );
          },
          preventDefault: function (e) {
            return (
              e.preventDefault ? e.preventDefault() : (e.returnValue = !1), this
            );
          },
          stop: function (e) {
            return d.DomEvent.preventDefault(e).stopPropagation(e);
          },
          getMousePosition: function (e, t) {
            if (!t) return new d.Point(e.clientX, e.clientY);
            var i = t.getBoundingClientRect();
            return new d.Point(
              e.clientX - i.left - t.clientLeft,
              e.clientY - i.top - t.clientTop
            );
          },
          getWheelDelta: function (e) {
            var t = 0;
            return (
              e.wheelDelta && (t = e.wheelDelta / 120),
              e.detail && (t = -e.detail / 3),
              t
            );
          },
          _skipEvents: {},
          _fakeStop: function (e) {
            d.DomEvent._skipEvents[e.type] = !0;
          },
          _skipped: function (e) {
            var t = this._skipEvents[e.type];
            return (this._skipEvents[e.type] = !1), t;
          },
          _checkMouse: function (e, t) {
            var i = t.relatedTarget;
            if (!i) return !0;
            try {
              for (; i && i !== e;) i = i.parentNode;
            } catch (e) {
              return !1;
            }
            return i !== e;
          },
          _getEvent: function () {
            var e = r.event;
            if (!e)
              for (
                var t = arguments.callee.caller;
                t && (!(e = t.arguments[0]) || r.Event !== e.constructor);

              )
                t = t.caller;
            return e;
          },
          _filterClick: function (e, t) {
            var i = e.timeStamp || e.originalEvent.timeStamp,
              n = d.DomEvent._lastClick && i - d.DomEvent._lastClick;
            if (
              !(
                (n && n > 100 && n < 500) ||
                (e.target._simulatedClick && !e._simulated)
              )
            )
              return (d.DomEvent._lastClick = i), t(e);
            d.DomEvent.stop(e);
          },
        }),
        (d.DomEvent.on = d.DomEvent.addListener),
        (d.DomEvent.off = d.DomEvent.removeListener),
        (d.Draggable = d.Class.extend({
          includes: d.Mixin.Events,
          statics: {
            START: d.Browser.touch
              ? ["touchstart", "mousedown"]
              : ["mousedown"],
            END: {
              mousedown: "mouseup",
              touchstart: "touchend",
              pointerdown: "touchend",
              MSPointerDown: "touchend",
            },
            MOVE: {
              mousedown: "mousemove",
              touchstart: "touchmove",
              pointerdown: "touchmove",
              MSPointerDown: "touchmove",
            },
          },
          initialize: function (e, t) {
            (this._element = e), (this._dragStartTarget = t || e);
          },
          enable: function () {
            if (!this._enabled) {
              for (var e = d.Draggable.START.length - 1; e >= 0; e--)
                d.DomEvent.on(
                  this._dragStartTarget,
                  d.Draggable.START[e],
                  this._onDown,
                  this
                );
              this._enabled = !0;
            }
          },
          disable: function () {
            if (this._enabled) {
              for (var e = d.Draggable.START.length - 1; e >= 0; e--)
                d.DomEvent.off(
                  this._dragStartTarget,
                  d.Draggable.START[e],
                  this._onDown,
                  this
                );
              (this._enabled = !1), (this._moved = !1);
            }
          },
          _onDown: function (e) {
            if (
              ((this._moved = !1),
                !e.shiftKey &&
                (1 === e.which || 1 === e.button || e.touches) &&
                (d.DomEvent.stopPropagation(e),
                  !d.Draggable._disabled &&
                  (d.DomUtil.disableImageDrag(),
                    d.DomUtil.disableTextSelection(),
                    !this._moving)))
            ) {
              var t = e.touches ? e.touches[0] : e;
              (this._startPoint = new d.Point(t.clientX, t.clientY)),
                (this._startPos = this._newPos =
                  d.DomUtil.getPosition(this._element)),
                d.DomEvent.on(
                  a,
                  d.Draggable.MOVE[e.type],
                  this._onMove,
                  this
                ).on(a, d.Draggable.END[e.type], this._onUp, this);
            }
          },
          _onMove: function (e) {
            if (e.touches && e.touches.length > 1) this._moved = !0;
            else {
              var t = e.touches && 1 === e.touches.length ? e.touches[0] : e,
                i = new d.Point(t.clientX, t.clientY).subtract(
                  this._startPoint
                );
              (i.x || i.y) &&
                ((d.Browser.touch && Math.abs(i.x) + Math.abs(i.y) < 3) ||
                  (d.DomEvent.preventDefault(e),
                    this._moved ||
                    (this.fire("dragstart"),
                      (this._moved = !0),
                      (this._startPos = d.DomUtil.getPosition(
                        this._element
                      ).subtract(i)),
                      d.DomUtil.addClass(a.body, "leaflet-dragging"),
                      (this._lastTarget = e.target || e.srcElement),
                      d.DomUtil.addClass(
                        this._lastTarget,
                        "leaflet-drag-target"
                      )),
                    (this._newPos = this._startPos.add(i)),
                    (this._moving = !0),
                    d.Util.cancelAnimFrame(this._animRequest),
                    (this._animRequest = d.Util.requestAnimFrame(
                      this._updatePosition,
                      this,
                      !0,
                      this._dragStartTarget
                    ))));
            }
          },
          _updatePosition: function () {
            this.fire("predrag"),
              d.DomUtil.setPosition(this._element, this._newPos),
              this.fire("drag");
          },
          _onUp: function () {
            for (var e in (d.DomUtil.removeClass(a.body, "leaflet-dragging"),
              this._lastTarget &&
              (d.DomUtil.removeClass(this._lastTarget, "leaflet-drag-target"),
                (this._lastTarget = null)),
              d.Draggable.MOVE))
              d.DomEvent.off(a, d.Draggable.MOVE[e], this._onMove).off(
                a,
                d.Draggable.END[e],
                this._onUp
              );
            d.DomUtil.enableImageDrag(),
              d.DomUtil.enableTextSelection(),
              this._moved &&
              this._moving &&
              (d.Util.cancelAnimFrame(this._animRequest),
                this.fire("dragend", {
                  distance: this._newPos.distanceTo(this._startPos),
                })),
              (this._moving = !1);
          },
        })),
        (d.Handler = d.Class.extend({
          initialize: function (e) {
            this._map = e;
          },
          enable: function () {
            this._enabled || ((this._enabled = !0), this.addHooks());
          },
          disable: function () {
            this._enabled && ((this._enabled = !1), this.removeHooks());
          },
          enabled: function () {
            return !!this._enabled;
          },
        })),
        d.Map.mergeOptions({
          dragging: !0,
          inertia: !d.Browser.android23,
          inertiaDeceleration: 3400,
          inertiaMaxSpeed: 1 / 0,
          inertiaThreshold: d.Browser.touch ? 32 : 18,
          easeLinearity: 0.25,
          worldCopyJump: !1,
        }),
        (d.Map.Drag = d.Handler.extend({
          addHooks: function () {
            if (!this._draggable) {
              var e = this._map;
              (this._draggable = new d.Draggable(e._mapPane, e._container)),
                this._draggable.on(
                  {
                    dragstart: this._onDragStart,
                    drag: this._onDrag,
                    dragend: this._onDragEnd,
                  },
                  this
                ),
                e.options.worldCopyJump &&
                (this._draggable.on("predrag", this._onPreDrag, this),
                  e.on("viewreset", this._onViewReset, this),
                  e.whenReady(this._onViewReset, this));
            }
            this._draggable.enable();
          },
          removeHooks: function () {
            this._draggable.disable();
          },
          moved: function () {
            return this._draggable && this._draggable._moved;
          },
          _onDragStart: function () {
            var e = this._map;
            e._panAnim && e._panAnim.stop(),
              e.fire("movestart").fire("dragstart"),
              e.options.inertia && ((this._positions = []), (this._times = []));
          },
          _onDrag: function () {
            if (this._map.options.inertia) {
              var e = (this._lastTime = +new Date()),
                t = (this._lastPos = this._draggable._newPos);
              this._positions.push(t),
                this._times.push(e),
                e - this._times[0] > 200 &&
                (this._positions.shift(), this._times.shift());
            }
            this._map.fire("move").fire("drag");
          },
          _onViewReset: function () {
            var e = this._map.getSize()._divideBy(2),
              t = this._map.latLngToLayerPoint([0, 0]);
            (this._initialWorldOffset = t.subtract(e).x),
              (this._worldWidth = this._map.project([0, 180]).x);
          },
          _onPreDrag: function () {
            var e = this._worldWidth,
              t = Math.round(e / 2),
              i = this._initialWorldOffset,
              n = this._draggable._newPos.x,
              o = ((n - t + i) % e) + t - i,
              r = ((n + t + i) % e) - t - i,
              a = Math.abs(o + i) < Math.abs(r + i) ? o : r;
            this._draggable._newPos.x = a;
          },
          _onDragEnd: function (e) {
            var t = this._map,
              i = t.options,
              n = +new Date() - this._lastTime,
              o = !i.inertia || n > i.inertiaThreshold || !this._positions[0];
            if ((t.fire("dragend", e), o)) t.fire("moveend");
            else {
              var r = this._lastPos.subtract(this._positions[0]),
                a = (this._lastTime + n - this._times[0]) / 1e3,
                s = i.easeLinearity,
                l = r.multiplyBy(s / a),
                c = l.distanceTo([0, 0]),
                u = Math.min(i.inertiaMaxSpeed, c),
                p = l.multiplyBy(u / c),
                h = u / (i.inertiaDeceleration * s),
                f = p.multiplyBy(-h / 2).round();
              f.x && f.y
                ? ((f = t._limitOffset(f, t.options.maxBounds)),
                  d.Util.requestAnimFrame(function () {
                    t.panBy(f, {
                      duration: h,
                      easeLinearity: s,
                      noMoveStart: !0,
                    });
                  }))
                : t.fire("moveend");
            }
          },
        })),
        d.Map.addInitHook("addHandler", "dragging", d.Map.Drag),
        d.Map.mergeOptions({ doubleClickZoom: !0 }),
        (d.Map.DoubleClickZoom = d.Handler.extend({
          addHooks: function () {
            this._map.on("dblclick", this._onDoubleClick, this);
          },
          removeHooks: function () {
            this._map.off("dblclick", this._onDoubleClick, this);
          },
          _onDoubleClick: function (e) {
            var t = this._map,
              i = t.getZoom() + (e.originalEvent.shiftKey ? -1 : 1);
            "center" === t.options.doubleClickZoom
              ? t.setZoom(i)
              : t.setZoomAround(e.containerPoint, i);
          },
        })),
        d.Map.addInitHook(
          "addHandler",
          "doubleClickZoom",
          d.Map.DoubleClickZoom
        ),
        d.Map.mergeOptions({ scrollWheelZoom: !0 }),
        (d.Map.ScrollWheelZoom = d.Handler.extend({
          addHooks: function () {
            d.DomEvent.on(
              this._map._container,
              "mousewheel",
              this._onWheelScroll,
              this
            ),
              d.DomEvent.on(
                this._map._container,
                "MozMousePixelScroll",
                d.DomEvent.preventDefault
              ),
              (this._delta = 0);
          },
          removeHooks: function () {
            d.DomEvent.off(
              this._map._container,
              "mousewheel",
              this._onWheelScroll
            ),
              d.DomEvent.off(
                this._map._container,
                "MozMousePixelScroll",
                d.DomEvent.preventDefault
              );
          },
          _onWheelScroll: function (e) {
            var t = d.DomEvent.getWheelDelta(e);
            (this._delta += t),
              (this._lastMousePos = this._map.mouseEventToContainerPoint(e)),
              this._startTime || (this._startTime = +new Date());
            var i = Math.max(40 - (+new Date() - this._startTime), 0);
            clearTimeout(this._timer),
              (this._timer = setTimeout(d.bind(this._performZoom, this), i)),
              d.DomEvent.preventDefault(e),
              d.DomEvent.stopPropagation(e);
          },
          _performZoom: function () {
            var e = this._map,
              t = this._delta,
              i = e.getZoom();
            (t = t > 0 ? Math.ceil(t) : Math.floor(t)),
              (t = Math.max(Math.min(t, 4), -4)),
              (t = e._limitZoom(i + t) - i),
              (this._delta = 0),
              (this._startTime = null),
              t &&
              ("center" === e.options.scrollWheelZoom
                ? e.setZoom(i + t)
                : e.setZoomAround(this._lastMousePos, i + t));
          },
        })),
        d.Map.addInitHook(
          "addHandler",
          "scrollWheelZoom",
          d.Map.ScrollWheelZoom
        ),
        d.extend(d.DomEvent, {
          _touchstart: d.Browser.msPointer
            ? "MSPointerDown"
            : d.Browser.pointer
              ? "pointerdown"
              : "touchstart",
          _touchend: d.Browser.msPointer
            ? "MSPointerUp"
            : d.Browser.pointer
              ? "pointerup"
              : "touchend",
          addDoubleTapListener: function (e, t, i) {
            var n,
              o,
              r = !1,
              s = this._touchstart,
              l = this._touchend,
              c = [];
            function u(e) {
              var t;
              if (
                (d.Browser.pointer
                  ? (c.push(e.pointerId), (t = c.length))
                  : (t = e.touches.length),
                  !(t > 1))
              ) {
                var i = Date.now(),
                  a = i - (n || i);
                (o = e.touches ? e.touches[0] : e),
                  (r = a > 0 && a <= 250),
                  (n = i);
              }
            }
            function p(e) {
              if (d.Browser.pointer) {
                var i = c.indexOf(e.pointerId);
                if (-1 === i) return;
                c.splice(i, 1);
              }
              if (r) {
                if (d.Browser.pointer) {
                  var a,
                    s = {};
                  for (var l in o)
                    (a = o[l]), (s[l] = "function" == typeof a ? a.bind(o) : a);
                  o = s;
                }
                (o.type = "dblclick"), t(o), (n = null);
              }
            }
            (e["_leaflet_" + s + i] = u), (e["_leaflet_" + l + i] = p);
            var h = d.Browser.pointer ? a.documentElement : e;
            return (
              e.addEventListener(s, u, !1),
              h.addEventListener(l, p, !1),
              d.Browser.pointer &&
              h.addEventListener(d.DomEvent.POINTER_CANCEL, p, !1),
              this
            );
          },
          removeDoubleTapListener: function (e, t) {
            var i = "_leaflet_";
            return (
              e.removeEventListener(
                this._touchstart,
                e[i + this._touchstart + t],
                !1
              ),
              (d.Browser.pointer ? a.documentElement : e).removeEventListener(
                this._touchend,
                e[i + this._touchend + t],
                !1
              ),
              d.Browser.pointer &&
              a.documentElement.removeEventListener(
                d.DomEvent.POINTER_CANCEL,
                e[i + this._touchend + t],
                !1
              ),
              this
            );
          },
        }),
        d.extend(d.DomEvent, {
          POINTER_DOWN: d.Browser.msPointer ? "MSPointerDown" : "pointerdown",
          POINTER_MOVE: d.Browser.msPointer ? "MSPointerMove" : "pointermove",
          POINTER_UP: d.Browser.msPointer ? "MSPointerUp" : "pointerup",
          POINTER_CANCEL: d.Browser.msPointer
            ? "MSPointerCancel"
            : "pointercancel",
          _pointers: [],
          _pointerDocumentListener: !1,
          addPointerListener: function (e, t, i, n) {
            switch (t) {
              case "touchstart":
                return this.addPointerListenerStart(e, t, i, n);
              case "touchend":
                return this.addPointerListenerEnd(e, t, i, n);
              case "touchmove":
                return this.addPointerListenerMove(e, t, i, n);
              default:
                throw "Unknown touch event type";
            }
          },
          addPointerListenerStart: function (e, t, i, n) {
            var o = this._pointers,
              r = function (e) {
                "mouse" !== e.pointerType &&
                  e.pointerType !== e.MSPOINTER_TYPE_MOUSE &&
                  d.DomEvent.preventDefault(e);
                for (var t = !1, n = 0; n < o.length; n++)
                  if (o[n].pointerId === e.pointerId) {
                    t = !0;
                    break;
                  }
                t || o.push(e),
                  (e.touches = o.slice()),
                  (e.changedTouches = [e]),
                  i(e);
              };
            if (
              ((e["_leaflet_touchstart" + n] = r),
                e.addEventListener(this.POINTER_DOWN, r, !1),
                !this._pointerDocumentListener)
            ) {
              var s = function (e) {
                for (var t = 0; t < o.length; t++)
                  if (o[t].pointerId === e.pointerId) {
                    o.splice(t, 1);
                    break;
                  }
              };
              a.documentElement.addEventListener(this.POINTER_UP, s, !1),
                a.documentElement.addEventListener(this.POINTER_CANCEL, s, !1),
                (this._pointerDocumentListener = !0);
            }
            return this;
          },
          addPointerListenerMove: function (e, t, i, n) {
            var o = this._pointers;
            function r(e) {
              if (
                (e.pointerType !== e.MSPOINTER_TYPE_MOUSE &&
                  "mouse" !== e.pointerType) ||
                0 !== e.buttons
              ) {
                for (var t = 0; t < o.length; t++)
                  if (o[t].pointerId === e.pointerId) {
                    o[t] = e;
                    break;
                  }
                (e.touches = o.slice()), (e.changedTouches = [e]), i(e);
              }
            }
            return (
              (e["_leaflet_touchmove" + n] = r),
              e.addEventListener(this.POINTER_MOVE, r, !1),
              this
            );
          },
          addPointerListenerEnd: function (e, t, i, n) {
            var o = this._pointers,
              r = function (e) {
                for (var t = 0; t < o.length; t++)
                  if (o[t].pointerId === e.pointerId) {
                    o.splice(t, 1);
                    break;
                  }
                (e.touches = o.slice()), (e.changedTouches = [e]), i(e);
              };
            return (
              (e["_leaflet_touchend" + n] = r),
              e.addEventListener(this.POINTER_UP, r, !1),
              e.addEventListener(this.POINTER_CANCEL, r, !1),
              this
            );
          },
          removePointerListener: function (e, t, i) {
            var n = e["_leaflet_" + t + i];
            switch (t) {
              case "touchstart":
                e.removeEventListener(this.POINTER_DOWN, n, !1);
                break;
              case "touchmove":
                e.removeEventListener(this.POINTER_MOVE, n, !1);
                break;
              case "touchend":
                e.removeEventListener(this.POINTER_UP, n, !1),
                  e.removeEventListener(this.POINTER_CANCEL, n, !1);
            }
            return this;
          },
        }),
        d.Map.mergeOptions({
          touchZoom: d.Browser.touch && !d.Browser.android23,
          bounceAtZoomLimits: !0,
        }),
        (d.Map.TouchZoom = d.Handler.extend({
          addHooks: function () {
            d.DomEvent.on(
              this._map._container,
              "touchstart",
              this._onTouchStart,
              this
            );
          },
          removeHooks: function () {
            d.DomEvent.off(
              this._map._container,
              "touchstart",
              this._onTouchStart,
              this
            );
          },
          _onTouchStart: function (e) {
            var t = this._map;
            if (
              e.touches &&
              2 === e.touches.length &&
              !t._animatingZoom &&
              !this._zooming
            ) {
              var i = t.mouseEventToLayerPoint(e.touches[0]),
                n = t.mouseEventToLayerPoint(e.touches[1]),
                o = t._getCenterLayerPoint();
              (this._startCenter = i.add(n)._divideBy(2)),
                (this._startDist = i.distanceTo(n)),
                (this._moved = !1),
                (this._zooming = !0),
                (this._centerOffset = o.subtract(this._startCenter)),
                t._panAnim && t._panAnim.stop(),
                d.DomEvent.on(a, "touchmove", this._onTouchMove, this).on(
                  a,
                  "touchend",
                  this._onTouchEnd,
                  this
                ),
                d.DomEvent.preventDefault(e);
            }
          },
          _onTouchMove: function (e) {
            var t = this._map;
            if (e.touches && 2 === e.touches.length && this._zooming) {
              var i = t.mouseEventToLayerPoint(e.touches[0]),
                n = t.mouseEventToLayerPoint(e.touches[1]);
              (this._scale = i.distanceTo(n) / this._startDist),
                (this._delta = i
                  ._add(n)
                  ._divideBy(2)
                  ._subtract(this._startCenter)),
                1 !== this._scale &&
                ((!t.options.bounceAtZoomLimits &&
                  ((t.getZoom() === t.getMinZoom() && this._scale < 1) ||
                    (t.getZoom() === t.getMaxZoom() && this._scale > 1))) ||
                  (this._moved ||
                    (d.DomUtil.addClass(t._mapPane, "leaflet-touching"),
                      t.fire("movestart").fire("zoomstart"),
                      (this._moved = !0)),
                    d.Util.cancelAnimFrame(this._animRequest),
                    (this._animRequest = d.Util.requestAnimFrame(
                      this._updateOnMove,
                      this,
                      !0,
                      this._map._container
                    )),
                    d.DomEvent.preventDefault(e)));
            }
          },
          _updateOnMove: function () {
            var e = this._map,
              t = this._getScaleOrigin(),
              i = e.layerPointToLatLng(t),
              n = e.getScaleZoom(this._scale);
            e._animateZoom(
              i,
              n,
              this._startCenter,
              this._scale,
              this._delta,
              !1,
              !0
            );
          },
          _onTouchEnd: function () {
            if (this._moved && this._zooming) {
              var e = this._map;
              (this._zooming = !1),
                d.DomUtil.removeClass(e._mapPane, "leaflet-touching"),
                d.Util.cancelAnimFrame(this._animRequest),
                d.DomEvent.off(a, "touchmove", this._onTouchMove).off(
                  a,
                  "touchend",
                  this._onTouchEnd
                );
              var t = this._getScaleOrigin(),
                i = e.layerPointToLatLng(t),
                n = e.getZoom(),
                o = e.getScaleZoom(this._scale) - n,
                r = o > 0 ? Math.ceil(o) : Math.floor(o),
                s = e._limitZoom(n + r),
                l = e.getZoomScale(s) / this._scale;
              e._animateZoom(i, s, t, l);
            } else this._zooming = !1;
          },
          _getScaleOrigin: function () {
            var e = this._centerOffset
              .subtract(this._delta)
              .divideBy(this._scale);
            return this._startCenter.add(e);
          },
        })),
        d.Map.addInitHook("addHandler", "touchZoom", d.Map.TouchZoom),
        d.Map.mergeOptions({ tap: !0, tapTolerance: 15 }),
        (d.Map.Tap = d.Handler.extend({
          addHooks: function () {
            d.DomEvent.on(
              this._map._container,
              "touchstart",
              this._onDown,
              this
            );
          },
          removeHooks: function () {
            d.DomEvent.off(
              this._map._container,
              "touchstart",
              this._onDown,
              this
            );
          },
          _onDown: function (e) {
            if (e.touches) {
              if (
                (d.DomEvent.preventDefault(e),
                  (this._fireClick = !0),
                  e.touches.length > 1)
              )
                return (
                  (this._fireClick = !1), void clearTimeout(this._holdTimeout)
                );
              var t = e.touches[0],
                i = t.target;
              (this._startPos = this._newPos =
                new d.Point(t.clientX, t.clientY)),
                i.tagName &&
                "a" === i.tagName.toLowerCase() &&
                d.DomUtil.addClass(i, "leaflet-active"),
                (this._holdTimeout = setTimeout(
                  d.bind(function () {
                    this._isTapValid() &&
                      ((this._fireClick = !1),
                        this._onUp(),
                        this._simulateEvent("contextmenu", t));
                  }, this),
                  1e3
                )),
                d.DomEvent.on(a, "touchmove", this._onMove, this).on(
                  a,
                  "touchend",
                  this._onUp,
                  this
                );
            }
          },
          _onUp: function (e) {
            if (
              (clearTimeout(this._holdTimeout),
                d.DomEvent.off(a, "touchmove", this._onMove, this).off(
                  a,
                  "touchend",
                  this._onUp,
                  this
                ),
                this._fireClick && e && e.changedTouches)
            ) {
              var t = e.changedTouches[0],
                i = t.target;
              i &&
                i.tagName &&
                "a" === i.tagName.toLowerCase() &&
                d.DomUtil.removeClass(i, "leaflet-active"),
                this._isTapValid() && this._simulateEvent("click", t);
            }
          },
          _isTapValid: function () {
            return (
              this._newPos.distanceTo(this._startPos) <=
              this._map.options.tapTolerance
            );
          },
          _onMove: function (e) {
            var t = e.touches[0];
            this._newPos = new d.Point(t.clientX, t.clientY);
          },
          _simulateEvent: function (e, t) {
            var i = a.createEvent("MouseEvents");
            (i._simulated = !0),
              (t.target._simulatedClick = !0),
              i.initMouseEvent(
                e,
                !0,
                !0,
                r,
                1,
                t.screenX,
                t.screenY,
                t.clientX,
                t.clientY,
                !1,
                !1,
                !1,
                !1,
                0,
                null
              ),
              t.target.dispatchEvent(i);
          },
        })),
        d.Browser.touch &&
        !d.Browser.pointer &&
        d.Map.addInitHook("addHandler", "tap", d.Map.Tap),
        d.Map.mergeOptions({ boxZoom: !0 }),
        (d.Map.BoxZoom = d.Handler.extend({
          initialize: function (e) {
            (this._map = e),
              (this._container = e._container),
              (this._pane = e._panes.overlayPane),
              (this._moved = !1);
          },
          addHooks: function () {
            d.DomEvent.on(
              this._container,
              "mousedown",
              this._onMouseDown,
              this
            );
          },
          removeHooks: function () {
            d.DomEvent.off(this._container, "mousedown", this._onMouseDown),
              (this._moved = !1);
          },
          moved: function () {
            return this._moved;
          },
          _onMouseDown: function (e) {
            if (
              ((this._moved = !1),
                !e.shiftKey || (1 !== e.which && 1 !== e.button))
            )
              return !1;
            d.DomUtil.disableTextSelection(),
              d.DomUtil.disableImageDrag(),
              (this._startLayerPoint = this._map.mouseEventToLayerPoint(e)),
              d.DomEvent.on(a, "mousemove", this._onMouseMove, this)
                .on(a, "mouseup", this._onMouseUp, this)
                .on(a, "keydown", this._onKeyDown, this);
          },
          _onMouseMove: function (e) {
            this._moved ||
              ((this._box = d.DomUtil.create(
                "div",
                "leaflet-zoom-box",
                this._pane
              )),
                d.DomUtil.setPosition(this._box, this._startLayerPoint),
                (this._container.style.cursor = "crosshair"),
                this._map.fire("boxzoomstart"));
            var t = this._startLayerPoint,
              i = this._box,
              n = this._map.mouseEventToLayerPoint(e),
              o = n.subtract(t),
              r = new d.Point(Math.min(n.x, t.x), Math.min(n.y, t.y));
            d.DomUtil.setPosition(i, r),
              (this._moved = !0),
              (i.style.width = Math.max(0, Math.abs(o.x) - 4) + "px"),
              (i.style.height = Math.max(0, Math.abs(o.y) - 4) + "px");
          },
          _finish: function () {
            this._moved &&
              (this._pane.removeChild(this._box),
                (this._container.style.cursor = "")),
              d.DomUtil.enableTextSelection(),
              d.DomUtil.enableImageDrag(),
              d.DomEvent.off(a, "mousemove", this._onMouseMove)
                .off(a, "mouseup", this._onMouseUp)
                .off(a, "keydown", this._onKeyDown);
          },
          _onMouseUp: function (e) {
            this._finish();
            var t = this._map,
              i = t.mouseEventToLayerPoint(e);
            if (!this._startLayerPoint.equals(i)) {
              var n = new d.LatLngBounds(
                t.layerPointToLatLng(this._startLayerPoint),
                t.layerPointToLatLng(i)
              );
              t.fitBounds(n), t.fire("boxzoomend", { boxZoomBounds: n });
            }
          },
          _onKeyDown: function (e) {
            27 === e.keyCode && this._finish();
          },
        })),
        d.Map.addInitHook("addHandler", "boxZoom", d.Map.BoxZoom),
        d.Map.mergeOptions({
          keyboard: !0,
          keyboardPanOffset: 80,
          keyboardZoomOffset: 1,
        }),
        (d.Map.Keyboard = d.Handler.extend({
          keyCodes: {
            left: [37],
            right: [39],
            down: [40],
            up: [38],
            zoomIn: [187, 107, 61, 171],
            zoomOut: [189, 109, 173],
          },
          initialize: function (e) {
            (this._map = e),
              this._setPanOffset(e.options.keyboardPanOffset),
              this._setZoomOffset(e.options.keyboardZoomOffset);
          },
          addHooks: function () {
            var e = this._map._container;
            -1 === e.tabIndex && (e.tabIndex = "0"),
              d.DomEvent.on(e, "focus", this._onFocus, this)
                .on(e, "blur", this._onBlur, this)
                .on(e, "mousedown", this._onMouseDown, this),
              this._map
                .on("focus", this._addHooks, this)
                .on("blur", this._removeHooks, this);
          },
          removeHooks: function () {
            this._removeHooks();
            var e = this._map._container;
            d.DomEvent.off(e, "focus", this._onFocus, this)
              .off(e, "blur", this._onBlur, this)
              .off(e, "mousedown", this._onMouseDown, this),
              this._map
                .off("focus", this._addHooks, this)
                .off("blur", this._removeHooks, this);
          },
          _onMouseDown: function () {
            if (!this._focused) {
              var e = a.body,
                t = a.documentElement,
                i = e.scrollTop || t.scrollTop,
                n = e.scrollLeft || t.scrollLeft;
              this._map._container.focus(), r.scrollTo(n, i);
            }
          },
          _onFocus: function () {
            (this._focused = !0), this._map.fire("focus");
          },
          _onBlur: function () {
            (this._focused = !1), this._map.fire("blur");
          },
          _setPanOffset: function (e) {
            var t,
              i,
              n = (this._panKeys = {}),
              o = this.keyCodes;
            for (t = 0, i = o.left.length; t < i; t++)
              n[o.left[t]] = [-1 * e, 0];
            for (t = 0, i = o.right.length; t < i; t++) n[o.right[t]] = [e, 0];
            for (t = 0, i = o.down.length; t < i; t++) n[o.down[t]] = [0, e];
            for (t = 0, i = o.up.length; t < i; t++) n[o.up[t]] = [0, -1 * e];
          },
          _setZoomOffset: function (e) {
            var t,
              i,
              n = (this._zoomKeys = {}),
              o = this.keyCodes;
            for (t = 0, i = o.zoomIn.length; t < i; t++) n[o.zoomIn[t]] = e;
            for (t = 0, i = o.zoomOut.length; t < i; t++) n[o.zoomOut[t]] = -e;
          },
          _addHooks: function () {
            d.DomEvent.on(a, "keydown", this._onKeyDown, this);
          },
          _removeHooks: function () {
            d.DomEvent.off(a, "keydown", this._onKeyDown, this);
          },
          _onKeyDown: function (e) {
            var t = e.keyCode,
              i = this._map;
            if (t in this._panKeys) {
              if (i._panAnim && i._panAnim._inProgress) return;
              i.panBy(this._panKeys[t]),
                i.options.maxBounds && i.panInsideBounds(i.options.maxBounds);
            } else {
              if (!(t in this._zoomKeys)) return;
              i.setZoom(i.getZoom() + this._zoomKeys[t]);
            }
            d.DomEvent.stop(e);
          },
        })),
        d.Map.addInitHook("addHandler", "keyboard", d.Map.Keyboard),
        (d.Handler.MarkerDrag = d.Handler.extend({
          initialize: function (e) {
            this._marker = e;
          },
          addHooks: function () {
            var e = this._marker._icon;
            this._draggable || (this._draggable = new d.Draggable(e, e)),
              this._draggable
                .on("dragstart", this._onDragStart, this)
                .on("drag", this._onDrag, this)
                .on("dragend", this._onDragEnd, this),
              this._draggable.enable(),
              d.DomUtil.addClass(
                this._marker._icon,
                "leaflet-marker-draggable"
              );
          },
          removeHooks: function () {
            this._draggable
              .off("dragstart", this._onDragStart, this)
              .off("drag", this._onDrag, this)
              .off("dragend", this._onDragEnd, this),
              this._draggable.disable(),
              d.DomUtil.removeClass(
                this._marker._icon,
                "leaflet-marker-draggable"
              );
          },
          moved: function () {
            return this._draggable && this._draggable._moved;
          },
          _onDragStart: function () {
            this._marker.closePopup().fire("movestart").fire("dragstart");
          },
          _onDrag: function () {
            var e = this._marker,
              t = e._shadow,
              i = d.DomUtil.getPosition(e._icon),
              n = e._map.layerPointToLatLng(i);
            t && d.DomUtil.setPosition(t, i),
              (e._latlng = n),
              e.fire("move", { latlng: n }).fire("drag");
          },
          _onDragEnd: function (e) {
            this._marker.fire("moveend").fire("dragend", e);
          },
        })),
        (d.Control = d.Class.extend({
          options: { position: "topright" },
          initialize: function (e) {
            d.setOptions(this, e);
          },
          getPosition: function () {
            return this.options.position;
          },
          setPosition: function (e) {
            var t = this._map;
            return (
              t && t.removeControl(this),
              (this.options.position = e),
              t && t.addControl(this),
              this
            );
          },
          getContainer: function () {
            return this._container;
          },
          addTo: function (e) {
            this._map = e;
            var t = (this._container = this.onAdd(e)),
              i = this.getPosition(),
              n = e._controlCorners[i];
            return (
              d.DomUtil.addClass(t, "leaflet-control"),
              -1 !== i.indexOf("bottom")
                ? n.insertBefore(t, n.firstChild)
                : n.appendChild(t),
              this
            );
          },
          removeFrom: function (e) {
            var t = this.getPosition();
            return (
              e._controlCorners[t].removeChild(this._container),
              (this._map = null),
              this.onRemove && this.onRemove(e),
              this
            );
          },
          _refocusOnMap: function () {
            this._map && this._map.getContainer().focus();
          },
        })),
        (d.control = function (e) {
          return new d.Control(e);
        }),
        d.Map.include({
          addControl: function (e) {
            return e.addTo(this), this;
          },
          removeControl: function (e) {
            return e.removeFrom(this), this;
          },
          _initControlPos: function () {
            var e = (this._controlCorners = {}),
              t = "leaflet-",
              i = (this._controlContainer = d.DomUtil.create(
                "div",
                t + "control-container",
                this._container
              ));
            function n(n, o) {
              var r = t + n + " " + t + o;
              e[n + o] = d.DomUtil.create("div", r, i);
            }
            n("top", "left"),
              n("top", "right"),
              n("bottom", "left"),
              n("bottom", "right");
          },
          _clearControlPos: function () {
            this._container.removeChild(this._controlContainer);
          },
        }),
        (d.Control.Zoom = d.Control.extend({
          options: {
            position: "topleft",
            zoomInText: "+",
            zoomInTitle: "Zoom in",
            zoomOutText: "-",
            zoomOutTitle: "Zoom out",
          },
          onAdd: function (e) {
            var t = "leaflet-control-zoom",
              i = d.DomUtil.create("div", t + " leaflet-bar");
            return (
              (this._map = e),
              (this._zoomInButton = this._createButton(
                this.options.zoomInText,
                this.options.zoomInTitle,
                t + "-in",
                i,
                this._zoomIn,
                this
              )),
              (this._zoomOutButton = this._createButton(
                this.options.zoomOutText,
                this.options.zoomOutTitle,
                t + "-out",
                i,
                this._zoomOut,
                this
              )),
              this._updateDisabled(),
              e.on("zoomend zoomlevelschange", this._updateDisabled, this),
              i
            );
          },
          onRemove: function (e) {
            e.off("zoomend zoomlevelschange", this._updateDisabled, this);
          },
          _zoomIn: function (e) {
            this._map.zoomIn(e.shiftKey ? 3 : 1);
          },
          _zoomOut: function (e) {
            this._map.zoomOut(e.shiftKey ? 3 : 1);
          },
          _createButton: function (e, t, i, n, o, r) {
            var a = d.DomUtil.create("a", i, n);
            (a.innerHTML = e), (a.href = "#"), (a.title = t);
            var s = d.DomEvent.stopPropagation;
            return (
              d.DomEvent.on(a, "click", s)
                .on(a, "mousedown", s)
                .on(a, "dblclick", s)
                .on(a, "click", d.DomEvent.preventDefault)
                .on(a, "click", o, r)
                .on(a, "click", this._refocusOnMap, r),
              a
            );
          },
          _updateDisabled: function () {
            var e = this._map,
              t = "leaflet-disabled";
            d.DomUtil.removeClass(this._zoomInButton, t),
              d.DomUtil.removeClass(this._zoomOutButton, t),
              e._zoom === e.getMinZoom() &&
              d.DomUtil.addClass(this._zoomOutButton, t),
              e._zoom === e.getMaxZoom() &&
              d.DomUtil.addClass(this._zoomInButton, t);
          },
        })),
        d.Map.mergeOptions({ zoomControl: !0 }),
        d.Map.addInitHook(function () {
          this.options.zoomControl &&
            ((this.zoomControl = new d.Control.Zoom()),
              this.addControl(this.zoomControl));
        }),
        (d.control.zoom = function (e) {
          return new d.Control.Zoom(e);
        }),
        (d.Control.Attribution = d.Control.extend({
          options: {
            position: "bottomright",
            prefix:
              '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>',
          },
          initialize: function (e) {
            d.setOptions(this, e), (this._attributions = {});
          },
          onAdd: function (e) {
            for (var t in ((this._container = d.DomUtil.create(
              "div",
              "leaflet-control-attribution"
            )),
              d.DomEvent.disableClickPropagation(this._container),
              e._layers))
              e._layers[t].getAttribution &&
                this.addAttribution(e._layers[t].getAttribution());
            return (
              e
                .on("layeradd", this._onLayerAdd, this)
                .on("layerremove", this._onLayerRemove, this),
              this._update(),
              this._container
            );
          },
          onRemove: function (e) {
            e.off("layeradd", this._onLayerAdd).off(
              "layerremove",
              this._onLayerRemove
            );
          },
          setPrefix: function (e) {
            return (this.options.prefix = e), this._update(), this;
          },
          addAttribution: function (e) {
            if (e)
              return (
                this._attributions[e] || (this._attributions[e] = 0),
                this._attributions[e]++,
                this._update(),
                this
              );
          },
          removeAttribution: function (e) {
            if (e)
              return (
                this._attributions[e] &&
                (this._attributions[e]--, this._update()),
                this
              );
          },
          _update: function () {
            if (this._map) {
              var e = [];
              for (var t in this._attributions)
                this._attributions[t] && e.push(t);
              var i = [];
              this.options.prefix && i.push(this.options.prefix),
                e.length && i.push(e.join(", ")),
                (this._container.innerHTML = i.join(" | "));
            }
          },
          _onLayerAdd: function (e) {
            e.layer.getAttribution &&
              this.addAttribution(e.layer.getAttribution());
          },
          _onLayerRemove: function (e) {
            e.layer.getAttribution &&
              this.removeAttribution(e.layer.getAttribution());
          },
        })),
        d.Map.mergeOptions({ attributionControl: !0 }),
        d.Map.addInitHook(function () {
          this.options.attributionControl &&
            (this.attributionControl = new d.Control.Attribution().addTo(this));
        }),
        (d.control.attribution = function (e) {
          return new d.Control.Attribution(e);
        }),
        (d.Control.Scale = d.Control.extend({
          options: {
            position: "bottomleft",
            maxWidth: 100,
            metric: !0,
            imperial: !0,
            updateWhenIdle: !1,
          },
          onAdd: function (e) {
            this._map = e;
            var t = d.DomUtil.create("div", "leaflet-control-scale"),
              i = this.options;
            return (
              this._addScales(i, "leaflet-control-scale", t),
              e.on(i.updateWhenIdle ? "moveend" : "move", this._update, this),
              e.whenReady(this._update, this),
              t
            );
          },
          onRemove: function (e) {
            e.off(
              this.options.updateWhenIdle ? "moveend" : "move",
              this._update,
              this
            );
          },
          _addScales: function (e, t, i) {
            e.metric &&
              (this._mScale = d.DomUtil.create("div", t + "-line", i)),
              e.imperial &&
              (this._iScale = d.DomUtil.create("div", t + "-line", i));
          },
          _update: function () {
            var e = this._map.getBounds(),
              t = e.getCenter().lat,
              i =
                (6378137 *
                  Math.PI *
                  Math.cos((t * Math.PI) / 180) *
                  (e.getNorthEast().lng - e.getSouthWest().lng)) /
                180,
              n = this._map.getSize(),
              o = this.options,
              r = 0;
            n.x > 0 && (r = i * (o.maxWidth / n.x)), this._updateScales(o, r);
          },
          _updateScales: function (e, t) {
            e.metric && t && this._updateMetric(t),
              e.imperial && t && this._updateImperial(t);
          },
          _updateMetric: function (e) {
            var t = this._getRoundNum(e);
            (this._mScale.style.width = this._getScaleWidth(t / e) + "px"),
              (this._mScale.innerHTML = t < 1e3 ? t + " m" : t / 1e3 + " km");
          },
          _updateImperial: function (e) {
            var t,
              i,
              n,
              o = 3.2808399 * e,
              r = this._iScale;
            o > 5280
              ? ((t = o / 5280),
                (i = this._getRoundNum(t)),
                (r.style.width = this._getScaleWidth(i / t) + "px"),
                (r.innerHTML = i + " mi"))
              : ((n = this._getRoundNum(o)),
                (r.style.width = this._getScaleWidth(n / o) + "px"),
                (r.innerHTML = n + " ft"));
          },
          _getScaleWidth: function (e) {
            return Math.round(this.options.maxWidth * e) - 10;
          },
          _getRoundNum: function (e) {
            var t = Math.pow(10, (Math.floor(e) + "").length - 1),
              i = e / t;
            return (
              t * (i = i >= 10 ? 10 : i >= 5 ? 5 : i >= 3 ? 3 : i >= 2 ? 2 : 1)
            );
          },
        })),
        (d.control.scale = function (e) {
          return new d.Control.Scale(e);
        }),
        (d.Control.Layers = d.Control.extend({
          options: { collapsed: !0, position: "topright", autoZIndex: !0 },
          initialize: function (e, t, i) {
            for (var n in (d.setOptions(this, i),
              (this._layers = {}),
              (this._lastZIndex = 0),
              (this._handlingClick = !1),
              e))
              this._addLayer(e[n], n);
            for (n in t) this._addLayer(t[n], n, !0);
          },
          onAdd: function (e) {
            return (
              this._initLayout(),
              this._update(),
              e
                .on("layeradd", this._onLayerChange, this)
                .on("layerremove", this._onLayerChange, this),
              this._container
            );
          },
          onRemove: function (e) {
            e.off("layeradd", this._onLayerChange, this).off(
              "layerremove",
              this._onLayerChange,
              this
            );
          },
          addBaseLayer: function (e, t) {
            return this._addLayer(e, t), this._update(), this;
          },
          addOverlay: function (e, t) {
            return this._addLayer(e, t, !0), this._update(), this;
          },
          removeLayer: function (e) {
            var t = d.stamp(e);
            return delete this._layers[t], this._update(), this;
          },
          _initLayout: function () {
            var e = "leaflet-control-layers",
              t = (this._container = d.DomUtil.create("div", e));
            t.setAttribute("aria-haspopup", !0),
              d.Browser.touch
                ? d.DomEvent.on(t, "click", d.DomEvent.stopPropagation)
                : d.DomEvent.disableClickPropagation(
                  t
                ).disableScrollPropagation(t);
            var i = (this._form = d.DomUtil.create("form", e + "-list"));
            if (this.options.collapsed) {
              d.Browser.android ||
                d.DomEvent.on(t, "mouseover", this._expand, this).on(
                  t,
                  "mouseout",
                  this._collapse,
                  this
                );
              var n = (this._layersLink = d.DomUtil.create(
                "a",
                e + "-toggle",
                t
              ));
              (n.href = "#"),
                (n.title = "Layers"),
                d.Browser.touch
                  ? d.DomEvent.on(n, "click", d.DomEvent.stop).on(
                    n,
                    "click",
                    this._expand,
                    this
                  )
                  : d.DomEvent.on(n, "focus", this._expand, this),
                d.DomEvent.on(
                  i,
                  "click",
                  function () {
                    setTimeout(d.bind(this._onInputClick, this), 0);
                  },
                  this
                ),
                this._map.on("click", this._collapse, this);
            } else this._expand();
            (this._baseLayersList = d.DomUtil.create("div", e + "-base", i)),
              (this._separator = d.DomUtil.create("div", e + "-separator", i)),
              (this._overlaysList = d.DomUtil.create(
                "div",
                e + "-overlays",
                i
              )),
              t.appendChild(i);
          },
          _addLayer: function (e, t, i) {
            var n = d.stamp(e);
            (this._layers[n] = { layer: e, name: t, overlay: i }),
              this.options.autoZIndex &&
              e.setZIndex &&
              (this._lastZIndex++, e.setZIndex(this._lastZIndex));
          },
          _update: function () {
            if (this._container) {
              (this._baseLayersList.innerHTML = ""),
                (this._overlaysList.innerHTML = "");
              var e,
                t,
                i = !1,
                n = !1;
              for (e in this._layers)
                (t = this._layers[e]),
                  this._addItem(t),
                  (n = n || t.overlay),
                  (i = i || !t.overlay);
              this._separator.style.display = n && i ? "" : "none";
            }
          },
          _onLayerChange: function (e) {
            var t = this._layers[d.stamp(e.layer)];
            if (t) {
              this._handlingClick || this._update();
              var i = t.overlay
                ? "layeradd" === e.type
                  ? "overlayadd"
                  : "overlayremove"
                : "layeradd" === e.type
                  ? "baselayerchange"
                  : null;
              i && this._map.fire(i, t);
            }
          },
          _createRadioElement: function (e, t) {
            var i =
              '<input type="radio" class="leaflet-control-layers-selector" name="' +
              e +
              '"';
            t && (i += ' checked="checked"'), (i += "/>");
            var n = a.createElement("div");
            return (n.innerHTML = i), n.firstChild;
          },
          _addItem: function (e) {
            var t,
              i = a.createElement("label"),
              n = this._map.hasLayer(e.layer);
            e.overlay
              ? (((t = a.createElement("input")).type = "checkbox"),
                (t.className = "leaflet-control-layers-selector"),
                (t.defaultChecked = n))
              : (t = this._createRadioElement("leaflet-base-layers", n)),
              (t.layerId = d.stamp(e.layer)),
              d.DomEvent.on(t, "click", this._onInputClick, this);
            var o = a.createElement("span");
            return (
              (o.innerHTML = " " + e.name),
              i.appendChild(t),
              i.appendChild(o),
              (e.overlay
                ? this._overlaysList
                : this._baseLayersList
              ).appendChild(i),
              i
            );
          },
          _onInputClick: function () {
            var e,
              t,
              i,
              n = this._form.getElementsByTagName("input"),
              o = n.length;
            for (this._handlingClick = !0, e = 0; e < o; e++)
              (t = n[e]),
                (i = this._layers[t.layerId]),
                t.checked && !this._map.hasLayer(i.layer)
                  ? this._map.addLayer(i.layer)
                  : !t.checked &&
                  this._map.hasLayer(i.layer) &&
                  this._map.removeLayer(i.layer);
            (this._handlingClick = !1), this._refocusOnMap();
          },
          _expand: function () {
            d.DomUtil.addClass(
              this._container,
              "leaflet-control-layers-expanded"
            );
          },
          _collapse: function () {
            this._container.className = this._container.className.replace(
              " leaflet-control-layers-expanded",
              ""
            );
          },
        })),
        (d.control.layers = function (e, t, i) {
          return new d.Control.Layers(e, t, i);
        }),
        (d.PosAnimation = d.Class.extend({
          includes: d.Mixin.Events,
          run: function (e, t, i, n) {
            this.stop(),
              (this._el = e),
              (this._inProgress = !0),
              (this._newPos = t),
              this.fire("start"),
              (e.style[d.DomUtil.TRANSITION] =
                "all " +
                (i || 0.25) +
                "s cubic-bezier(0,0," +
                (n || 0.5) +
                ",1)"),
              d.DomEvent.on(
                e,
                d.DomUtil.TRANSITION_END,
                this._onTransitionEnd,
                this
              ),
              d.DomUtil.setPosition(e, t),
              d.Util.falseFn(e.offsetWidth),
              (this._stepTimer = setInterval(d.bind(this._onStep, this), 50));
          },
          stop: function () {
            this._inProgress &&
              (d.DomUtil.setPosition(this._el, this._getPos()),
                this._onTransitionEnd(),
                d.Util.falseFn(this._el.offsetWidth));
          },
          _onStep: function () {
            var e = this._getPos();
            e
              ? ((this._el._leaflet_pos = e), this.fire("step"))
              : this._onTransitionEnd();
          },
          _transformRe: /([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,
          _getPos: function () {
            var e,
              t,
              i,
              n = this._el,
              o = r.getComputedStyle(n);
            if (d.Browser.any3d) {
              if (!(i = o[d.DomUtil.TRANSFORM].match(this._transformRe)))
                return;
              (e = parseFloat(i[1])), (t = parseFloat(i[2]));
            } else (e = parseFloat(o.left)), (t = parseFloat(o.top));
            return new d.Point(e, t, !0);
          },
          _onTransitionEnd: function () {
            d.DomEvent.off(
              this._el,
              d.DomUtil.TRANSITION_END,
              this._onTransitionEnd,
              this
            ),
              this._inProgress &&
              ((this._inProgress = !1),
                (this._el.style[d.DomUtil.TRANSITION] = ""),
                (this._el._leaflet_pos = this._newPos),
                clearInterval(this._stepTimer),
                this.fire("step").fire("end"));
          },
        })),
        d.Map.include({
          setView: function (e, t, i) {
            if (
              ((t = void 0 === t ? this._zoom : this._limitZoom(t)),
                (e = this._limitCenter(d.latLng(e), t, this.options.maxBounds)),
                (i = i || {}),
                this._panAnim && this._panAnim.stop(),
                this._loaded && !i.reset && !0 !== i) &&
              (void 0 !== i.animate &&
                ((i.zoom = d.extend({ animate: i.animate }, i.zoom)),
                  (i.pan = d.extend({ animate: i.animate }, i.pan))),
                this._zoom !== t
                  ? this._tryAnimatedZoom && this._tryAnimatedZoom(e, t, i.zoom)
                  : this._tryAnimatedPan(e, i.pan))
            )
              return clearTimeout(this._sizeTimer), this;
            return this._resetView(e, t), this;
          },
          panBy: function (e, t) {
            if (((t = t || {}), !(e = d.point(e).round()).x && !e.y))
              return this;
            if (
              (this._panAnim ||
                ((this._panAnim = new d.PosAnimation()),
                  this._panAnim.on(
                    {
                      step: this._onPanTransitionStep,
                      end: this._onPanTransitionEnd,
                    },
                    this
                  )),
                t.noMoveStart || this.fire("movestart"),
                !1 !== t.animate)
            ) {
              d.DomUtil.addClass(this._mapPane, "leaflet-pan-anim");
              var i = this._getMapPanePos().subtract(e);
              this._panAnim.run(
                this._mapPane,
                i,
                t.duration || 0.25,
                t.easeLinearity
              );
            } else this._rawPanBy(e), this.fire("move").fire("moveend");
            return this;
          },
          _onPanTransitionStep: function () {
            this.fire("move");
          },
          _onPanTransitionEnd: function () {
            d.DomUtil.removeClass(this._mapPane, "leaflet-pan-anim"),
              this.fire("moveend");
          },
          _tryAnimatedPan: function (e, t) {
            var i = this._getCenterOffset(e)._floor();
            return (
              !(!0 !== (t && t.animate) && !this.getSize().contains(i)) &&
              (this.panBy(i, t), !0)
            );
          },
        }),
        (d.PosAnimation = d.DomUtil.TRANSITION
          ? d.PosAnimation
          : d.PosAnimation.extend({
            run: function (e, t, i, n) {
              this.stop(),
                (this._el = e),
                (this._inProgress = !0),
                (this._duration = i || 0.25),
                (this._easeOutPower = 1 / Math.max(n || 0.5, 0.2)),
                (this._startPos = d.DomUtil.getPosition(e)),
                (this._offset = t.subtract(this._startPos)),
                (this._startTime = +new Date()),
                this.fire("start"),
                this._animate();
            },
            stop: function () {
              this._inProgress && (this._step(), this._complete());
            },
            _animate: function () {
              (this._animId = d.Util.requestAnimFrame(this._animate, this)),
                this._step();
            },
            _step: function () {
              var e = +new Date() - this._startTime,
                t = 1e3 * this._duration;
              e < t
                ? this._runFrame(this._easeOut(e / t))
                : (this._runFrame(1), this._complete());
            },
            _runFrame: function (e) {
              var t = this._startPos.add(this._offset.multiplyBy(e));
              d.DomUtil.setPosition(this._el, t), this.fire("step");
            },
            _complete: function () {
              d.Util.cancelAnimFrame(this._animId),
                (this._inProgress = !1),
                this.fire("end");
            },
            _easeOut: function (e) {
              return 1 - Math.pow(1 - e, this._easeOutPower);
            },
          })),
        d.Map.mergeOptions({ zoomAnimation: !0, zoomAnimationThreshold: 4 }),
        d.DomUtil.TRANSITION &&
        d.Map.addInitHook(function () {
          (this._zoomAnimated =
            this.options.zoomAnimation &&
            d.DomUtil.TRANSITION &&
            d.Browser.any3d &&
            !d.Browser.android23 &&
            !d.Browser.mobileOpera),
            this._zoomAnimated &&
            d.DomEvent.on(
              this._mapPane,
              d.DomUtil.TRANSITION_END,
              this._catchTransitionEnd,
              this
            );
        }),
        d.Map.include(
          d.DomUtil.TRANSITION
            ? {
              _catchTransitionEnd: function (e) {
                this._animatingZoom &&
                  e.propertyName.indexOf("transform") >= 0 &&
                  this._onZoomTransitionEnd();
              },
              _nothingToAnimate: function () {
                return !this._container.getElementsByClassName(
                  "leaflet-zoom-animated"
                ).length;
              },
              _tryAnimatedZoom: function (e, t, i) {
                if (this._animatingZoom) return !0;
                if (
                  ((i = i || {}),
                    !this._zoomAnimated ||
                    !1 === i.animate ||
                    this._nothingToAnimate() ||
                    Math.abs(t - this._zoom) >
                    this.options.zoomAnimationThreshold)
                )
                  return !1;
                var n = this.getZoomScale(t),
                  o = this._getCenterOffset(e)._divideBy(1 - 1 / n),
                  r = this._getCenterLayerPoint()._add(o);
                return (
                  !(!0 !== i.animate && !this.getSize().contains(o)) &&
                  (this.fire("movestart").fire("zoomstart"),
                    this._animateZoom(e, t, r, n, null, !0),
                    !0)
                );
              },
              _animateZoom: function (e, t, i, n, o, r, a) {
                a || (this._animatingZoom = !0),
                  d.DomUtil.addClass(this._mapPane, "leaflet-zoom-anim"),
                  (this._animateToCenter = e),
                  (this._animateToZoom = t),
                  d.Draggable && (d.Draggable._disabled = !0),
                  d.Util.requestAnimFrame(function () {
                    this.fire("zoomanim", {
                      center: e,
                      zoom: t,
                      origin: i,
                      scale: n,
                      delta: o,
                      backwards: r,
                    }),
                      setTimeout(
                        d.bind(this._onZoomTransitionEnd, this),
                        250
                      );
                  }, this);
              },
              _onZoomTransitionEnd: function () {
                this._animatingZoom &&
                  ((this._animatingZoom = !1),
                    d.DomUtil.removeClass(this._mapPane, "leaflet-zoom-anim"),
                    d.Util.requestAnimFrame(function () {
                      this._resetView(
                        this._animateToCenter,
                        this._animateToZoom,
                        !0,
                        !0
                      ),
                        d.Draggable && (d.Draggable._disabled = !1);
                    }, this));
              },
            }
            : {}
        ),
        d.TileLayer.include({
          _animateZoom: function (e) {
            this._animating ||
              ((this._animating = !0), this._prepareBgBuffer());
            var t = this._bgBuffer,
              i = d.DomUtil.TRANSFORM,
              n = e.delta ? d.DomUtil.getTranslateString(e.delta) : t.style[i],
              o = d.DomUtil.getScaleString(e.scale, e.origin);
            t.style[i] = e.backwards ? o + " " + n : n + " " + o;
          },
          _endZoomAnim: function () {
            var e = this._tileContainer,
              t = this._bgBuffer;
            (e.style.visibility = ""),
              e.parentNode.appendChild(e),
              d.Util.falseFn(t.offsetWidth);
            var i = this._map.getZoom();
            (i > this.options.maxZoom || i < this.options.minZoom) &&
              this._clearBgBuffer(),
              (this._animating = !1);
          },
          _clearBgBuffer: function () {
            var e = this._map;
            !e ||
              e._animatingZoom ||
              e.touchZoom._zooming ||
              ((this._bgBuffer.innerHTML = ""),
                (this._bgBuffer.style[d.DomUtil.TRANSFORM] = ""));
          },
          _prepareBgBuffer: function () {
            var e = this._tileContainer,
              t = this._bgBuffer,
              i = this._getLoadedTilesPercentage(t),
              n = this._getLoadedTilesPercentage(e);
            if (t && i > 0.5 && n < 0.5)
              return (
                (e.style.visibility = "hidden"), void this._stopLoadingImages(e)
              );
            (t.style.visibility = "hidden"),
              (t.style[d.DomUtil.TRANSFORM] = ""),
              (this._tileContainer = t),
              (t = this._bgBuffer = e),
              this._stopLoadingImages(t),
              clearTimeout(this._clearBgBufferTimer);
          },
          _getLoadedTilesPercentage: function (e) {
            var t,
              i,
              n = e.getElementsByTagName("img"),
              o = 0;
            for (t = 0, i = n.length; t < i; t++) n[t].complete && o++;
            return o / i;
          },
          _stopLoadingImages: function (e) {
            var t,
              i,
              n,
              o = Array.prototype.slice.call(e.getElementsByTagName("img"));
            for (t = 0, i = o.length; t < i; t++)
              (n = o[t]).complete ||
                ((n.onload = d.Util.falseFn),
                  (n.onerror = d.Util.falseFn),
                  (n.src = d.Util.emptyImageUrl),
                  n.parentNode.removeChild(n));
          },
        }),
        d.Map.include({
          _defaultLocateOptions: {
            watch: !1,
            setView: !1,
            maxZoom: 1 / 0,
            timeout: 1e4,
            maximumAge: 0,
            enableHighAccuracy: !1,
          },
          locate: function (e) {
            if (
              ((e = this._locateOptions =
                d.extend(this._defaultLocateOptions, e)),
                !navigator.geolocation)
            )
              return (
                this._handleGeolocationError({
                  code: 0,
                  message: "Geolocation not supported.",
                }),
                this
              );
            var t = d.bind(this._handleGeolocationResponse, this),
              i = d.bind(this._handleGeolocationError, this);
            return (
              e.watch
                ? (this._locationWatchId = navigator.geolocation.watchPosition(
                  t,
                  i,
                  e
                ))
                : navigator.geolocation.getCurrentPosition(t, i, e),
              this
            );
          },
          stopLocate: function () {
            return (
              navigator.geolocation &&
              navigator.geolocation.clearWatch(this._locationWatchId),
              this._locateOptions && (this._locateOptions.setView = !1),
              this
            );
          },
          _handleGeolocationError: function (e) {
            var t = e.code,
              i =
                e.message ||
                (1 === t
                  ? "permission denied"
                  : 2 === t
                    ? "position unavailable"
                    : "timeout");
            this._locateOptions.setView && !this._loaded && this.fitWorld(),
              this.fire("locationerror", {
                code: t,
                message: "Geolocation error: " + i + ".",
              });
          },
          _handleGeolocationResponse: function (e) {
            var t = e.coords.latitude,
              i = e.coords.longitude,
              n = new d.LatLng(t, i),
              o = (180 * e.coords.accuracy) / 40075017,
              r = o / Math.cos(d.LatLng.DEG_TO_RAD * t),
              a = d.latLngBounds([t - o, i - r], [t + o, i + r]),
              s = this._locateOptions;
            if (s.setView) {
              var l = Math.min(this.getBoundsZoom(a), s.maxZoom);
              this.setView(n, l);
            }
            var c = { latlng: n, bounds: a, timestamp: e.timestamp };
            for (var u in e.coords)
              "number" == typeof e.coords[u] && (c[u] = e.coords[u]);
            this.fire("locationfound", c);
          },
        });
    })(window, document);
  },
  function (e, t, i) {
    var n = i(77);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    t = e.exports = i(2)(!1);
    var n = i(13),
      o = n(i(78)),
      r = n(i(79));
    t.push([
      e.i,
      ".leaflet-map-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-pane,.leaflet-tile-container,.leaflet-overlay-pane,.leaflet-shadow-pane,.leaflet-marker-pane,.leaflet-popup-pane,.leaflet-overlay-pane svg,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden;-ms-touch-action:none;touch-action:none}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container img{max-width:none !important}.leaflet-container img.leaflet-image-layer{max-width:15000px !important}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-tile-pane{z-index:2}.leaflet-objects-pane{z-index:3}.leaflet-overlay-pane{z-index:4}.leaflet-shadow-pane{z-index:5}.leaflet-marker-pane{z-index:6}.leaflet-popup-pane{z-index:7}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:7;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile,.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity 0.2s linear;-moz-transition:opacity 0.2s linear;-o-transition:opacity 0.2s linear;transition:opacity 0.2s linear}.leaflet-fade-anim .leaflet-tile-loaded,.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform 0.25s cubic-bezier(0, 0, 0.25, 1);-moz-transition:-moz-transform 0.25s cubic-bezier(0, 0, 0.25, 1);-o-transition:-o-transform 0.25s cubic-bezier(0, 0, 0.25, 1);transition:transform 0.25s cubic-bezier(0, 0, 0.25, 1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile,.leaflet-touching .leaflet-zoom-animated{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-clickable{cursor:pointer}.leaflet-container{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-container,.leaflet-dragging .leaflet-clickable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078A8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,0.5)}.leaflet-container{font:12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,0.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:black}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:bold 18px 'Lucida Console', Monaco, monospace;text-indent:1px}.leaflet-control-zoom-out{font-size:20px}.leaflet-touch .leaflet-control-zoom-in{font-size:22px}.leaflet-touch .leaflet-control-zoom-out{font-size:24px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,0.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(" +
      o +
      ");width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(" +
      r +
      ');background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,0.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:content-box;box-sizing:content-box;background:#fff;background:rgba(255,255,255,0.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,0.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{margin:0 auto;width:40px;height:20px;position:relative;overflow:hidden}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;box-shadow:0 3px 14px rgba(0,0,0,0.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;text-align:center;width:18px;height:14px;font:16px/14px Tahoma, Verdana, sans-serif;color:#c3c3c3;text-decoration:none;font-weight:bold;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}\n',
      "",
    ]);
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAVbSURBVEiJrZZfSFt3FMe/v3tvbmLUZleNKSHE/LGRiNbGRovTtrA9lcFkpcOnMvawwhhjrb3soQ8djGFhXMQNRqEvY3R9kJVuPpRRWQebcdKYxkaHqcHchKJ2rVo1WhNz//z2UOLUadVuv9fvOedzfuec3x9CKcV+1qVLlwgAdHV17cuR7AfU29tb43a73wWAVCr1Q0dHx8T/Curu7i5ubGw843K5ms1mMwBgdXUV6XQ6HI1Gb3Z2dj7/z6C+vr6T1dXVp6xWa+l2+uzs7PLk5OTP7e3tv70S6Pr1647q6uoOt9vtYRjmpcnouo5UKiVPTk72nj17dmpPIEmS+IaGhnaPx3O8tLSU3ahRSotyudzrAGAymf4ghGQ36svLy5osywOxWKxPFMX8jqBbt241ejyed+x2e9nWjPL5fK2iKC2UUiMAEELWDAbDEM/z41ttZ2Zmnsmy/OPp06ejm0DXrl2rqK2tPeNyuQ7zPL9pi5qmVaytrZ3Qdf3gdiVhGOYvo9H4O8uyc1sSI+l0enR8fPzmuXPn5sjt27ff8nq9bwiCYNpSJsPa2lqzqqr1AF7eJEDnOG7MaDSGCSHKRmFhYSGXTCZ/Zd1u93dOp3NJEAS9ICqK4snlcm/puu4EQHaBAADRdf2gqqo1hJBllmUXCsLjx4+L7t69e4Ztamqaffjw4QepVOr5oUOHDKqqvqkoShAAvwfA1sVrmlataVqlqqqzvb29lnA43KwoymeEUoqenp7XdF3vW11dPX7s2DHi9XpfgfHPSiaTuHfvHjWbzQMMw7SfP39+kUSj0ZOU0qsA/EtLSwiHwygpKUFraysOHDiwL0Amk8Hg4CBWVlbQ3NwMi8UCAHFCyIesw+H43uFwuAwGg9lkMsHj8SCfzyMUCkFRFNhsNux2YDVNQzQaRSgUgsvlwtGjR2EyvZitbDbL9Pf3H2YDgcD8xMREk67rCZvN5iSEkLKyMrjdbsiyjJGREVgslh13NzU1hf7+fui6jra2NlitVhBCQCmlo6OjoYGBASWbzX5BKKW4cuWKhRDyk67rJ4LBIFNRUbEeaHZ2FpFIBDabDS0tLSgqKipkiqGhITx58gTBYBBWq3XdZ25uDpFIhLIsO8jzfPuFCxeekTt37rQCuAqgfmVlBfF4HOXl5Thy5Ah4/sXgUUoRj8chyzIaGhoAALFYDB6PB36/H4S8OAH5fB4PHjzA/Pw8/H4/SkpKACAB4CPW6/XeqKysrOI4rpjnedjtdmSzWUSjURgMBgiCAEIIrFYrHA4HxsfHsbi4iNbWVtjt9nWILMsYGhpCeXk5ampqYDQaC3AyPDxcSy5evPg2IaTL6XTO+3y+NkIIAwCKoiCRSEBVVTQ1Ne3Yo0wmg+HhYXAcB5/PB4PBUJBoMpkclGW5lFJ6mVBKIYpiMYDLHMedCgQCnCAI/oL1wsICEokEHA4H6uvr1ydQ13WMjY1hamoKPp8PgiBshE/ev38/oyjKLwA+lyTp+abbWxTFOgDfCIKAQCAQ4DiutNCjdDqNp0+fIhAIAABGRkZQWVkJl8u1Xj5N01Zjsdjw3NwcBfCxJEl/FmL/6z0SRZEAeJ8QIvp8vsWqqqqWgpbL5RCPxwEAfr9//awAwPT0dDgejxfput4D4FtJkjYF3vGFFUWxHMCXRqPxcDAYtBYXF1dtZ5fNZmcikcijbDY7DuBTSZLmt7Pb9c8gimIbIeQrm82Wqaura2EYxggAlFI1Ho8PTk9PmymlnZIkhV4WZ0+/IFEUOQCdDMO8V19fn2NZ1hCLxaimaTcAdEuSpO4WY1//OlEUnQC+BkABfCJJ0qO9+v4NmO9xnZob3WcAAAAASUVORK5CYII=";
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAbrwAAG68BXhqRHAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAArPSURBVGiB3Zp7TFvXHce/916/eBhCDInJwDjGBhvjQHi5SclaKRL5Z1Wl/rEq/WNr11TJmkpMw900pLVrplJ1cadFarp0zdZmmpZpf3SqNrUKfSnKgwI2sQPGBmNjAsUOxCW8bGzfe8/+SEAkMfa1A5m075/2+f3O+Z7X595zLkUIwf+T6EdRSWdnp7izs1P8KOqitnqE3n///QMajeYZAPD7/R8fPXr00lbWt2WGTp48qdRoNC/s2bNHXVhYyALA/Py86Pr16wG/3//hq6++GtqKejfdUGdnJ6XT6Q4bDIZWjUaTNLnf76fcbvdlr9d7vqura1MbsKmGTp8+XadWqw/v3bu3UCQS8anKsixLX7t2bT4QCJw/fvy4c7PasCmGTpw4Ia+qqnrRZDIZSkpK2ExiZ2dnRYODg+7R0dE/v/baa4sP25aHNnT27Nkf6HS6QwaD4aF2TLfbzXu93gtHjhz5z8PkydrQqVOnKtVq9Y/q6uqUubm5GY3KRopEIiKn0xkKBAJ/bW9v92WTI2NDnZ2dYoPB8ILRaGwoKyvjsqk0naamphiXyzXgdrs/7OrqSmQSm5GhM2fOHNBoNM/U1dVJKYoSFEgIEcVisWYAkEql/RRFCRpNQgjldDpjfr//42PHjglmlyBDJ0+eVO7evfsndXV1FatMEaJEIqGOx+MHCCFyAKAoalEikVwSi8UBoTnm5+dFTqdzYnx8/C9C2JXS0CpT9Hr9gcrKypTb8HrxPJ+/srJygOf53cn+p2l6XCaTXaJpekloTp/PR3s8nkvp2LWhoXfffbderVYfbmhoKEjHlPVtjcVidSzLNhFCUj67URSVEIlENqlU6gQgKD/LsvTAwMBCIBA4/8orrziS5r3f0IkTJ+Q6ne6IyWQy7NixQ/CCZFm2NB6PP8Hz/HahMQBA0/R3EonkokgkCgqNmZmZEQ8ODrq9Xu/Z+9l1j6EPPvjgKZ1Od6impoYSmpzneVksFtvHcZxBaEwyMQzjlkqlPTRNrwiNGR4eJl6v98JLL73079XfKEIITp06VVlRUfHj+vr6nZkwJR6P6xOJxH5CiCxTA8lEUdSKWCy+KpFIPEJjIpGIyOFw3JyYmDjX3t7uo86dO3fUaDQ2lJeXCzbCcdz2WCz2BM/zpdk1PbVomg5KpdKLDMN8JzRmcnJS5HK5Bhi9Xv9RcXHx7V27dqUd6rtMMcfj8YOEkIKHa3bKeuQsy9bwPC9mGCZEUVTaTWNsbKzQbrc/RXV0dBAAMYVCcfnpp5+eKC4uTmrsfqY8KqVj161bt2SffPJJRTgcbgUgZVpbW3sIIQei0Wij0+ksmZubW9DpdEsUdWdf4Hk+PxqNHmRZtgWA9NFZWZOU4zgdy7LFd0crDgCEEHz66aelX3zxxfcjkUg9gAmapg8zV65c8fX09PwpHo/zhJC22dnZ2oGBARQUFCwVFBTUxOPxQ4QQxf/AyD0ihBSxLFtDCCFerzdy/vz5PcFg8CAhRAqgSy6XP/fmm2+O3LNtd3R0VFEU9R6AgyKRiNfr9fS+ffsgFj+S8420SiQS6Onpgcfj4VmWpQF8SQh5+Z133hldLSNaH/Dss8+GGYYJ3Lhxg9jtdnpoaAiTk5NoampCdXX1IzewXiMjI7DZbJifn4dMJqPNZjNRqVQBjuPC68utjhA1MDDwPIDfASgG7vSGw+HA2NgYAEClUmH//v0oKip6pEbm5uZw9epV3LhxAwCg1WpRX1+/ftbcAvCLhoaGjwAQyuFwGDmOOwOgNVnCcDiMvr4+zM3NQSaTwWg0orm5GTS9tUd6PM+jv78fLpcLKysrKCoqQktLCxSKDZfzZYZhjjFarfYfKpWqmabppAslNzcXWq0WMpkMwWAQU1NTCAQCyM/Px7Zt27bEzMTEBD7//HP4fD5QFIWGhgaYzWbk5uZuGMNxXPHXX39tYkwm07nh4eGZ3Nxcz/bt27+XrDBFUVAoFNBoNIhEIggGg/D5fLh9+zaUSuWmbRqRSAQXL15EX18flpeXoVKp8OSTT0KpVGIVI8nk8/n6uru7xYuLi3WrHDr07bffmvx+f295eTktkUiSwlMsFkOlUqGkpAQzMzMIBoPwer0AAKVS+VBmHA4HvvrqK4RCIeTl5aG1tRU1NTUpO2t5eXn6s88+Gx4fHzcDmKVp+jBFCMEbb7whW1xc/BWAXwJgKysrbS0tLY9TFCXaKBnP8xgaGoLb7QbHcSgtLcW+ffsyNhYKhdDT04NgMAiGYWAwGFBbW5tyjRJC2L6+vis+n68Jd3bqt+Vy+Vuvv/76yoYcysvLi5nNZmm6Bi4sLMBmsyEUCkEsFkOv1+Oxxx5LOw0TiQS++eYbeDweJBIJKJVKNDU1oaAg9SNiKBRCb28vu7y8LEISDt1jqLu7ezuAt0Oh0IsjIyNUPB5HeXk5mpubIZWmfuqZmJiA3W7HysoKCgsLU7LrPqagsbERFRUVKfPHYjH09/djcnISEokE1dXVUCqV/wLQ3tbWNvmAoe7u7ucBnMRdDrEsC6/Xu5bAZDKhqqoq5eJMxy4BTHlAhBCMjo5icHAQqx2s0+kgEq2thiUAvwFwqq2tjaUuXLhQA+CPAL6fLOHCwgJcLhcWFxeFsADAg+yqra0FAAwNDQllygN55HI5jEZjqil5HcBPmerq6r/t2LFjL8MwOclKSaVSlJWVQSKRIBQKwefzIRqNYufOnRsu3GTsmp6eFswUlmVht9ths9mQSCRQVVUFo9EImWzjF2OO4+ROp1NPdXR0JAAsaLVat0ajeXzDCNyZxx6PBzdv3kROTg727t0LtVqdKgTRaBR2ux0A0NjYiJycpP22pkAggGvXrq11ml6vT7t+p6en+10uVykhpIzq6OhoA/AegEqxWOxsamrKl8vllakShMNhDA8Pr1VqNpuRn5+fstJ0WlpaQm9v71pn1dTUpJ2S0Wh02mazTUajUTMAH4CXKUIILBaLDMAqh+iSkpIre/bsaWEYZsN5wfM8/H4/AoEAKIqCwWCAyWRKuWkkEyEEg4ODcLvdIIRArVZDo9Gk5ZDb7b4yNTW1xiEAb1mt1ns5ZLFYqnBntA5SFDVlNBqDu3btak7VoOXlZXg8HoTDYeTn56OlpUUwXEOhEPr6+rC0tASFQgG9Xo+8vLyUMeFweNDhcEg5jqsC8CWAl61Wa3IOrTP2HIDfA9iZk5PT29TUVJ6Tk7MrXeNGRkYghF0bMCWlkUQiMWe324cWFhZaAcwA+LnVav37/eU2PAq2WCyFALoAHAMQLSsrsxkMhpSPQ+nYJYApSeX3+y+PjY3VANgG4AyATqvVOp+sbNrbB4vF0nw3SQPDMKP19fUxhUJhShWTjF0AMmEKAGBxcdFns9mWEolEHYABAMesVmt/qhhB1ykWi4UBcBzAbwHICwoKLjc2NtaKxeINX18JIZicnMTY2Bh4/s6xGk3T0Gq1KC8vT7l5cBwXuX79et/s7OzjAKIAfg3gtNVqTXvBltGFl8ViKQXwBwA/BPCdVqsd1mg0Sd90V7XKLgAZMwXAPwH8zGq1Cj7Iz+qO1WKxZMyudErGFKvV2p1pnqwvjbNhVzKlYko27Xroa/1s2LWqdEzJRpv2JUkm7BLKlGy0qZ/GCGFXJkzJRlvyNVYydkkkktxMmZKNtuzzsvvZBYADEEEGTMlGW/4B4Dp2ARkyJRv9F9vsxWD/43R9AAAAAElFTkSuQmCC";
  },
  function (module, exports) {
    /*!
     *  ui-leaflet 1.0.3 2017-01-26
     *  ui-leaflet - An AngularJS directive to easily interact with Leaflet maps
     *  git: https://github.com/angular-ui/ui-leaflet
     */
    !(function (angular) {
      "use strict";
      angular.module("ui-leaflet", ["nemLogging"]).directive("leaflet", [
        "$q",
        "leafletData",
        "leafletMapDefaults",
        "leafletHelpers",
        "leafletMapEvents",
        function (e, t, i, n, o) {
          return {
            restrict: "EA",
            replace: !0,
            scope: {
              center: "=",
              lfCenter: "=",
              defaults: "=",
              maxbounds: "=",
              bounds: "=",
              markers: "=",
              legend: "=",
              geojson: "=",
              paths: "=",
              tiles: "=",
              layers: "=",
              controls: "=",
              decorations: "=",
              eventBroadcast: "=",
              markersWatchOptions: "=",
              geojsonWatchOptions: "=",
            },
            transclude: !0,
            template:
              '<div class="angular-leaflet-map"><div ng-transclude></div></div>',
            controller: [
              "$scope",
              function (t) {
                (this._leafletMap = e.defer()),
                  (this.getMap = function () {
                    return this._leafletMap.promise;
                  }),
                  (this.getLeafletScope = function () {
                    return t;
                  });
              },
            ],
            link: function (e, r, a, s) {
              var l = n.isDefined,
                c = i.setDefaults(e.defaults, a.id),
                u = o.getAvailableMapEvents(),
                d = o.addEvents;
              function p() {
                isNaN(a.width)
                  ? r.css("width", a.width)
                  : r.css("width", a.width + "px");
              }
              function h() {
                isNaN(a.height)
                  ? r.css("height", a.height)
                  : r.css("height", a.height + "px");
              }
              (e.mapId = a.id),
                t.setDirectiveControls({}, a.id),
                l(a.width) &&
                (p(),
                  e.$watch(
                    function () {
                      return r[0].getAttribute("width");
                    },
                    function () {
                      p(), f.invalidateSize();
                    }
                  )),
                l(a.height) &&
                (h(),
                  e.$watch(
                    function () {
                      return r[0].getAttribute("height");
                    },
                    function () {
                      h(), f.invalidateSize();
                    }
                  ));
              var f = new L.Map(r[0], i.getMapCreationDefaults(a.id));
              if (
                (s._leafletMap.resolve(f),
                  l(a.center) ||
                  l(a.lfCenter) ||
                  f.setView([c.center.lat, c.center.lng], c.center.zoom),
                  !l(a.tiles) && !l(a.layers))
              ) {
                var g = L.tileLayer(c.tileLayer, c.tileLayerOptions);
                g.addTo(f), t.setTiles(g, a.id);
              }
              if (
                (l(f.zoomControl) &&
                  l(c.zoomControlPosition) &&
                  f.zoomControl.setPosition(c.zoomControlPosition),
                  l(f.zoomControl) &&
                  !1 === c.zoomControl &&
                  f.zoomControl.removeFrom(f),
                  l(f.zoomsliderControl) &&
                  l(c.zoomsliderControl) &&
                  !1 === c.zoomsliderControl &&
                  f.zoomsliderControl.removeFrom(f),
                  !l(a.eventBroadcast))
              ) {
                d(f, u, "eventName", e, "broadcast");
              }
              f.whenReady(function () {
                t.setMap(f, a.id);
              }),
                e.$on("$destroy", function () {
                  i.reset(), f.remove(), t.unresolveMap(a.id);
                }),
                e.$on("invalidateSize", function () {
                  f.invalidateSize();
                });
            },
          };
        },
      ]),
        angular.module("ui-leaflet").factory("leafletBoundsHelpers", [
          "leafletLogger",
          "leafletHelpers",
          function (e, t) {
            var i = t.isArray,
              n = t.isNumber,
              o = t.isFunction,
              r = t.isDefined,
              a = e;
            function s(e) {
              return (
                angular.isDefined(e) &&
                angular.isDefined(e.southWest) &&
                angular.isDefined(e.northEast) &&
                angular.isNumber(e.southWest.lat) &&
                angular.isNumber(e.southWest.lng) &&
                angular.isNumber(e.northEast.lat) &&
                angular.isNumber(e.northEast.lng)
              );
            }
            return {
              createLeafletBounds: function (e) {
                if (s(e))
                  return L.latLngBounds(
                    [e.southWest.lat, e.southWest.lng],
                    [e.northEast.lat, e.northEast.lng]
                  );
              },
              isValidBounds: s,
              createBoundsFromArray: function (e) {
                if (
                  i(e) &&
                  2 === e.length &&
                  i(e[0]) &&
                  i(e[1]) &&
                  2 === e[0].length &&
                  2 === e[1].length &&
                  n(e[0][0]) &&
                  n(e[0][1]) &&
                  n(e[1][0]) &&
                  n(e[1][1])
                )
                  return {
                    northEast: { lat: e[0][0], lng: e[0][1] },
                    southWest: { lat: e[1][0], lng: e[1][1] },
                  };
                a.error("[AngularJS - Leaflet] The bounds array is not valid.");
              },
              createBoundsFromLeaflet: function (e) {
                if (r(e) && o(e.getNorthEast) && o(e.getSouthWest)) {
                  var t = e.getNorthEast(),
                    i = e.getSouthWest();
                  return {
                    northEast: { lat: t.lat, lng: t.lng },
                    southWest: { lat: i.lat, lng: i.lng },
                  };
                }
                a.error(
                  "[AngularJS - Leaflet] The leaflet bounds is not valid object."
                );
              },
            };
          },
        ]),
        angular.module("ui-leaflet").factory("leafletControlHelpers", [
          "$rootScope",
          "leafletLogger",
          "leafletHelpers",
          "leafletLayerHelpers",
          "leafletMapDefaults",
          function (e, t, i, n, o) {
            var r = i.isDefined,
              a = i.isObject,
              s = i.get,
              l = n.createLayer,
              c = {},
              u = i.errorHeader + " [Controls] ",
              d = t,
              p = function (e, t, i) {
                var n = o.getDefaults(i);
                if (!s(n, "controls.layers.visible")) return !1;
                var l = !1;
                return (
                  a(e) &&
                  Object.keys(e).forEach(function (t) {
                    var i = e[t];
                    (r(i.layerOptions) &&
                      !1 === i.layerOptions.showOnSelector) ||
                      (l = !0);
                  }),
                  a(t) &&
                  Object.keys(t).forEach(function (e) {
                    var i = t[e];
                    (r(i.layerParams) &&
                      !1 === i.layerParams.showOnSelector) ||
                      (l = !0);
                  }),
                  l
                );
              },
              h = {
                draw: {
                  isPluginLoaded: function () {
                    return (
                      !!angular.isDefined(L.Control.Draw) ||
                      (d.error(u + " Draw plugin is not loaded."), !1)
                    );
                  },
                  checkValidParams: function () {
                    return !0;
                  },
                  createControl: function (e) {
                    return new L.Control.Draw(e);
                  },
                },
                scale: {
                  isPluginLoaded: function () {
                    return !0;
                  },
                  checkValidParams: function () {
                    return !0;
                  },
                  createControl: function (e) {
                    return new L.control.scale(e);
                  },
                },
                fullscreen: {
                  isPluginLoaded: function () {
                    return (
                      !!angular.isDefined(L.Control.Fullscreen) ||
                      (d.error(u + " Fullscreen plugin is not loaded."), !1)
                    );
                  },
                  checkValidParams: function () {
                    return !0;
                  },
                  createControl: function (e) {
                    return new L.Control.Fullscreen(e);
                  },
                },
                search: {
                  isPluginLoaded: function () {
                    return (
                      !!angular.isDefined(L.Control.Search) ||
                      (d.error(u + " Search plugin is not loaded."), !1)
                    );
                  },
                  checkValidParams: function () {
                    return !0;
                  },
                  createControl: function (e) {
                    return new L.Control.Search(e);
                  },
                },
                custom: {},
                minimap: {
                  isPluginLoaded: function () {
                    return (
                      !!angular.isDefined(L.Control.MiniMap) ||
                      (d.error(u + " Minimap plugin is not loaded."), !1)
                    );
                  },
                  checkValidParams: function (e) {
                    return (
                      !!r(e.layer) ||
                      (d.warn(u + ' minimap "layer" option should be defined.'),
                        !1)
                    );
                  },
                  createControl: function (e) {
                    var t = l(e.layer);
                    if (r(t)) return new L.Control.MiniMap(t, e);
                    d.warn(
                      u + ' minimap control "layer" could not be created.'
                    );
                  },
                },
              };
            return {
              layersControlMustBeVisible: p,
              isValidControlType: function (e) {
                return -1 !== Object.keys(h).indexOf(e);
              },
              createControl: function (e, t) {
                if (h[e].checkValidParams(t)) return h[e].createControl(t);
              },
              updateLayersControl: function (e, t, i, n, a, l) {
                var u,
                  d = c[t],
                  h = p(n, a, t);
                if (r(d) && i) {
                  for (u in l.baselayers) d.removeLayer(l.baselayers[u]);
                  for (u in l.overlays) d.removeLayer(l.overlays[u]);
                  e.removeControl(d), delete c[t];
                }
                if (h) {
                  for (u in ((d = (function (e) {
                    var t = o.getDefaults(e),
                      i = {
                        collapsed: t.controls.layers.collapsed,
                        position: t.controls.layers.position,
                        autoZIndex: !1,
                      };
                    return (
                      angular.extend(i, t.controls.layers.options),
                      s(t, "controls.layers.control")
                        ? t.controls.layers.control.apply(this, [[], [], i])
                        : new L.control.layers([], [], i)
                    );
                  })(t)),
                    (c[t] = d),
                    n)) {
                    !(
                      r(n[u].layerOptions) &&
                      !1 === n[u].layerOptions.showOnSelector
                    ) &&
                      r(l.baselayers[u]) &&
                      d.addBaseLayer(l.baselayers[u], n[u].name);
                  }
                  for (u in a) {
                    !(
                      r(a[u].layerParams) &&
                      !1 === a[u].layerParams.showOnSelector
                    ) &&
                      r(l.overlays[u]) &&
                      d.addOverlay(l.overlays[u], a[u].name);
                  }
                  e.addControl(d);
                }
                return h;
              },
            };
          },
        ]),
        angular.module("ui-leaflet").service("leafletData", [
          "leafletLogger",
          "$q",
          "leafletHelpers",
          function (e, t, i) {
            var n = i.getDefer,
              o = i.getUnresolvedDefer,
              r = i.setResolvedDefer,
              a = {},
              s = this,
              l = [
                "map",
                "tiles",
                "layers",
                "paths",
                "markers",
                "geoJSON",
                "UTFGrid",
                "decorations",
                "directiveControls",
              ];
            l.forEach(function (e) {
              a[e] = {};
            }),
              (this.unresolveMap = function (e) {
                var t = i.obtainEffectiveMapId(a.map, e);
                l.forEach(function (e) {
                  a[e][t] = void 0;
                });
              }),
              l.forEach(function (e) {
                var t,
                  i = (t = e).charAt(0).toUpperCase() + t.slice(1);
                (s["set" + i] = function (t, i) {
                  o(a[e], i).resolve(t), r(a[e], i);
                }),
                  (s["get" + i] = function (t) {
                    return n(a[e], t).promise;
                  });
              });
          },
        ]),
        angular
          .module("ui-leaflet")
          .service("leafletDirectiveControlsHelpers", [
            "leafletLogger",
            "leafletData",
            "leafletHelpers",
            function (e, t, i) {
              var n = i.isDefined,
                o = i.isString,
                r = i.isObject,
                a = i.errorHeader,
                s = e,
                l = a + "[leafletDirectiveControlsHelpers";
              return {
                extend: function (e, i, a, c) {
                  var u = l + ".extend] ",
                    d = {};
                  if (n(i)) {
                    if (o(i) && n(a) && n(c)) d[i] = { create: a, clean: c };
                    else {
                      if (!r(i) || n(a) || n(c))
                        return void s.error(u + "incorrect arguments");
                      d = i;
                    }
                    t.getDirectiveControls(e).then(function (i) {
                      angular.extend(i, d), t.setDirectiveControls(i, e);
                    });
                  } else s.error(u + "thingToAddName cannot be undefined");
                },
              };
            },
          ]),
        angular.module("ui-leaflet").service("leafletGeoJsonHelpers", [
          "leafletHelpers",
          "leafletIterators",
          function (e, t) {
            var i = e,
              n = t,
              o = function (e, t) {
                return (this.lat = e), (this.lng = t), this;
              },
              r = function (e) {
                if (i.isUndefined(e)) return !1;
                if (i.isArray(e)) {
                  if (2 === e.length && i.isNumber(e[0]) && i.isNumber(e[1]))
                    return !0;
                } else if (
                  i.isDefined(e.type) &&
                  "Point" === e.type &&
                  i.isArray(e.coordinates) &&
                  2 === e.coordinates.length &&
                  i.isNumber(e.coordinates[0]) &&
                  i.isNumber(e.coordinates[1])
                )
                  return !0;
                return n.all(["lat", "lng"], function (t) {
                  return i.isDefined(e[t]) && i.isNumber(e[t]);
                });
              };
            return {
              getLat: function (e) {
                return Array.isArray(e) && 2 === e.length
                  ? e[1]
                  : i.isDefined(e.type) && "Point" === e.type
                    ? +e.coordinates[1]
                    : +e.lat;
              },
              getLng: function (e) {
                return Array.isArray(e) && 2 === e.length
                  ? e[0]
                  : i.isDefined(e.type) && "Point" === e.type
                    ? +e.coordinates[0]
                    : +e.lng;
              },
              validateCoords: r,
              getCoords: function (e) {
                if (e && r(e)) {
                  var t = null;
                  if (Array.isArray(e) && 2 === e.length) t = new o(e[1], e[0]);
                  else {
                    if (!i.isDefined(e.type) || "Point" !== e.type) return e;
                    t = new o(e.coordinates[1], e.coordinates[0]);
                  }
                  return angular.extend(e, t);
                }
              },
            };
          },
        ]),
        angular.module("ui-leaflet").service("leafletHelpers", [
          "$q",
          "$log",
          function (e, t) {
            var i = angular.copy,
              n = function (e, t) {
                if (e) {
                  for (var i = e[(t = t.split(".")).shift()]; i && t.length;)
                    i = i[t.shift()];
                  return i;
                }
              };
            function o(e, t) {
              var i,
                n = Object.keys(e);
              if (angular.isDefined(t)) i = t;
              else {
                if (0 !== n.length && (1 !== n.length || "main" !== n[0]))
                  throw new Error(
                    "[AngularJS - Leaflet] - You have more than 1 map on the DOM, you must provide the map ID to the leafletData.getXXX call. Where one of the following mapIds " +
                    Object.keys(e).join(",") +
                    " are available."
                  );
                i = "main";
              }
              return i;
            }
            function r(t, i) {
              var n,
                r = o(t, i);
              return (
                angular.isDefined(t[r]) && !0 !== t[r].resolvedDefer
                  ? (n = t[r].defer)
                  : ((n = e.defer()), (t[r] = { defer: n, resolvedDefer: !1 })),
                n
              );
            }
            var a = function (e) {
              return angular.isDefined(e) && null !== e;
            },
              s = /([\:\-\_]+(.))/g,
              l = /^moz([A-Z])/,
              c = /^((?:x|data)[\:\-_])/i,
              u = function (e) {
                return e
                  .replace(s, function (e, t, i, n) {
                    return n ? i.toUpperCase() : i;
                  })
                  .replace(l, "Moz$1");
              };
            return {
              camelCase: u,
              directiveNormalize: function (e) {
                return u(e.replace(c, ""));
              },
              copy: i,
              clone: i,
              errorHeader: "[AngularJS - Leaflet] ",
              getObjectValue: n,
              get: n,
              getObjectArrayPath: function (e) {
                return e.split(".").reduce(function (e, t) {
                  return e + '["' + t + '"]';
                });
              },
              getObjectDotPath: function (e) {
                return e.reduce(function (e, t) {
                  return e + "." + t;
                });
              },
              defaultTo: function (e, t) {
                return a(e) ? e : t;
              },
              isTruthy: function (e) {
                return "true" === e || !0 === e;
              },
              isEmpty: function (e) {
                return 0 === Object.keys(e).length;
              },
              isUndefinedOrEmpty: function (e) {
                return (
                  angular.isUndefined(e) ||
                  null === e ||
                  0 === Object.keys(e).length
                );
              },
              isDefined: a,
              isUndefined: function (e) {
                return !a(e);
              },
              isNumber: angular.isNumber,
              isString: angular.isString,
              isArray: angular.isArray,
              isObject: angular.isObject,
              isFunction: angular.isFunction,
              equals: angular.equals,
              isValidCenter: function (e) {
                return (
                  angular.isDefined(e) &&
                  angular.isNumber(e.lat) &&
                  angular.isNumber(e.lng) &&
                  angular.isNumber(e.zoom)
                );
              },
              isValidPoint: function (e) {
                return (
                  !!angular.isDefined(e) &&
                  (angular.isArray(e)
                    ? 2 === e.length &&
                    angular.isNumber(e[0]) &&
                    angular.isNumber(e[1])
                    : angular.isNumber(e.lat) && angular.isNumber(e.lng))
                );
              },
              isSameCenterOnMap: function (e, t) {
                var i = t.getCenter(),
                  n = t.getZoom();
                return !(
                  !e.lat ||
                  !e.lng ||
                  i.lat.toFixed(4) !== e.lat.toFixed(4) ||
                  i.lng.toFixed(4) !== e.lng.toFixed(4) ||
                  n !== e.zoom
                );
              },
              safeApply: function (e, t) {
                var i = e.$root.$$phase;
                "$apply" === i || "$digest" === i
                  ? e.$eval(t)
                  : e.$evalAsync(t);
              },
              obtainEffectiveMapId: o,
              getDefer: function (e, t) {
                var i = o(e, t);
                return angular.isDefined(e[i]) && !1 !== e[i].resolvedDefer
                  ? e[i].defer
                  : r(e, t);
              },
              getUnresolvedDefer: r,
              setResolvedDefer: function (e, t) {
                e[o(e, t)].resolvedDefer = !0;
              },
              rangeIsSupported: function () {
                var e = document.createElement("input");
                return e.setAttribute("type", "range"), "range" === e.type;
              },
              FullScreenControlPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.Control.Fullscreen);
                },
              },
              MiniMapControlPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.Control.MiniMap);
                },
              },
              AwesomeMarkersPlugin: {
                isLoaded: function () {
                  return (
                    angular.isDefined(L.AwesomeMarkers) &&
                    angular.isDefined(L.AwesomeMarkers.Icon)
                  );
                },
                is: function (e) {
                  return (
                    !!this.isLoaded() && e instanceof L.AwesomeMarkers.Icon
                  );
                },
                equal: function (e, t) {
                  return (
                    !!this.isLoaded() && !!this.is(e) && angular.equals(e, t)
                  );
                },
              },
              VectorMarkersPlugin: {
                isLoaded: function () {
                  return (
                    angular.isDefined(L.VectorMarkers) &&
                    angular.isDefined(L.VectorMarkers.Icon)
                  );
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.VectorMarkers.Icon;
                },
                equal: function (e, t) {
                  return (
                    !!this.isLoaded() && !!this.is(e) && angular.equals(e, t)
                  );
                },
              },
              DomMarkersPlugin: {
                isLoaded: function () {
                  return !(
                    !angular.isDefined(L.DomMarkers) ||
                    !angular.isDefined(L.DomMarkers.Icon)
                  );
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.DomMarkers.Icon;
                },
                equal: function (e, t) {
                  return (
                    !!this.isLoaded() && !!this.is(e) && angular.equals(e, t)
                  );
                },
              },
              PolylineDecoratorPlugin: {
                isLoaded: function () {
                  return !!angular.isDefined(L.PolylineDecorator);
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.PolylineDecorator;
                },
                equal: function (e, t) {
                  return (
                    !!this.isLoaded() && !!this.is(e) && angular.equals(e, t)
                  );
                },
              },
              MakiMarkersPlugin: {
                isLoaded: function () {
                  return !(
                    !angular.isDefined(L.MakiMarkers) ||
                    !angular.isDefined(L.MakiMarkers.Icon)
                  );
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.MakiMarkers.Icon;
                },
                equal: function (e, t) {
                  return (
                    !!this.isLoaded() && !!this.is(e) && angular.equals(e, t)
                  );
                },
              },
              ExtraMarkersPlugin: {
                isLoaded: function () {
                  return !(
                    !angular.isDefined(L.ExtraMarkers) ||
                    !angular.isDefined(L.ExtraMarkers.Icon)
                  );
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.ExtraMarkers.Icon;
                },
                equal: function (e, t) {
                  return (
                    !!this.isLoaded() && !!this.is(e) && angular.equals(e, t)
                  );
                },
              },
              LabelPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.Label);
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.MarkerClusterGroup;
                },
              },
              MarkerClusterPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.MarkerClusterGroup);
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.MarkerClusterGroup;
                },
              },
              GoogleLayerPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.Google);
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.Google;
                },
              },
              LeafletProviderPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.TileLayer.Provider);
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.TileLayer.Provider;
                },
              },
              ChinaLayerPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.tileLayer.chinaProvider);
                },
              },
              HeatLayerPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.heatLayer);
                },
              },
              WebGLHeatMapLayerPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.TileLayer.WebGLHeatMap);
                },
              },
              BingLayerPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.BingLayer);
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.BingLayer;
                },
              },
              WFSLayerPlugin: {
                isLoaded: function () {
                  return void 0 !== L.GeoJSON.WFS;
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.GeoJSON.WFS;
                },
              },
              AGSBaseLayerPlugin: {
                isLoaded: function () {
                  return void 0 !== L.esri && void 0 !== L.esri.basemapLayer;
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.esri.basemapLayer;
                },
              },
              AGSLayerPlugin: {
                isLoaded: function () {
                  return void 0 !== lvector && void 0 !== lvector.AGS;
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof lvector.AGS;
                },
              },
              AGSFeatureLayerPlugin: {
                isLoaded: function () {
                  return void 0 !== L.esri && void 0 !== L.esri.featureLayer;
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.esri.featureLayer;
                },
              },
              AGSTiledMapLayerPlugin: {
                isLoaded: function () {
                  return void 0 !== L.esri && void 0 !== L.esri.tiledMapLayer;
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.esri.tiledMapLayer;
                },
              },
              AGSDynamicMapLayerPlugin: {
                isLoaded: function () {
                  return void 0 !== L.esri && void 0 !== L.esri.dynamicMapLayer;
                },
                is: function (e) {
                  return (
                    !!this.isLoaded() && e instanceof L.esri.dynamicMapLayer
                  );
                },
              },
              AGSImageMapLayerPlugin: {
                isLoaded: function () {
                  return void 0 !== L.esri && void 0 !== L.esri.imageMapLayer;
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.esri.imageMapLayer;
                },
              },
              AGSClusteredLayerPlugin: {
                isLoaded: function () {
                  return (
                    void 0 !== L.esri && void 0 !== L.esri.clusteredFeatureLayer
                  );
                },
                is: function (e) {
                  return (
                    !!this.isLoaded() &&
                    e instanceof L.esri.clusteredFeatureLayer
                  );
                },
              },
              AGSHeatmapLayerPlugin: {
                isLoaded: function () {
                  return (
                    void 0 !== L.esri && void 0 !== L.esri.heatmapFeatureLayer
                  );
                },
                is: function (e) {
                  return (
                    !!this.isLoaded() && e instanceof L.esri.heatmapFeatureLayer
                  );
                },
              },
              YandexLayerPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.Yandex);
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.Yandex;
                },
              },
              GeoJSONPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.TileLayer.GeoJSON);
                },
                is: function (e) {
                  return !!this.isLoaded() && e instanceof L.TileLayer.GeoJSON;
                },
              },
              UTFGridPlugin: {
                isLoaded: function () {
                  return angular.isDefined(L.UtfGrid);
                },
                is: function (e) {
                  return this.isLoaded()
                    ? e instanceof L.UtfGrid
                    : (t.error(
                      "[AngularJS - Leaflet] No UtfGrid plugin found."
                    ),
                      !1);
                },
              },
              CartoDB: {
                isLoaded: function () {
                  return cartodb;
                },
                is: function () {
                  return !0;
                },
              },
              Leaflet: {
                DivIcon: {
                  is: function (e) {
                    return e instanceof L.DivIcon;
                  },
                  equal: function (e, t) {
                    return !!this.is(e) && angular.equals(e, t);
                  },
                },
                Icon: {
                  is: function (e) {
                    return e instanceof L.Icon;
                  },
                  equal: function (e, t) {
                    return !!this.is(e) && angular.equals(e, t);
                  },
                },
              },
              watchOptions: {
                doWatch: !0,
                isDeep: !0,
                individual: { doWatch: !0, isDeep: !0 },
              },
            };
          },
        ]),
        angular.module("ui-leaflet").service("leafletIterators", [
          "leafletLogger",
          "leafletHelpers",
          function (e, t) {
            var i,
              n,
              o,
              r = t,
              a = t.errorHeader + "leafletIterators: ",
              s = Object.keys,
              l = r.isFunction,
              c = r.isObject,
              u = e,
              d = Math.pow(2, 53) - 1,
              p = function (e) {
                return e;
              };
            (n = s),
              (i = function (e) {
                var t = arguments.length;
                if (t < 2 || null === e) return e;
                for (var i = 1; i < t; i++)
                  for (
                    var r = arguments[i], a = n(r), s = a.length, l = 0;
                    l < s;
                    l++
                  ) {
                    var c = a[l];
                    (o && void 0 !== e[c]) || (e[c] = r[c]);
                  }
                return e;
              });
            var h;
            h = function (e) {
              return (
                (e = i({}, e)),
                function (t) {
                  return (function (e, t) {
                    var i = s(t),
                      n = i.length;
                    if (null === e) return !n;
                    for (var o = Object(e), r = 0; r < n; r++) {
                      var a = i[r];
                      if (t[a] !== o[a] || !(a in o)) return !1;
                    }
                    return !0;
                  })(t, e);
                }
              );
            };
            var f, g;
            f = g = function (e, t, i) {
              t = (function (e, t, i) {
                return null === e
                  ? p
                  : l(e)
                    ? (function (e, t, i) {
                      if (void 0 === t) return e;
                      switch (null === i ? 3 : i) {
                        case 1:
                          return function (i) {
                            return e.call(t, i);
                          };
                        case 2:
                          return function (i, n) {
                            return e.call(t, i, n);
                          };
                        case 3:
                          return function (i, n, o) {
                            return e.call(t, i, n, o);
                          };
                        case 4:
                          return function (i, n, o, r) {
                            return e.call(t, i, n, o, r);
                          };
                      }
                      return function () {
                        return e.apply(t, arguments);
                      };
                    })(e, t, i)
                    : c(e)
                      ? h(e)
                      : ((n = e),
                        function (e) {
                          return null === e ? void 0 : e[n];
                        });
                var n;
              })(t, i);
              for (
                var n =
                  !(function (e) {
                    var t = null !== e && e.length;
                    return r.isNumber(t) && t >= 0 && t <= d;
                  })(e) && s(e),
                o = (n || e).length,
                a = 0;
                a < o;
                a++
              ) {
                var u = n ? n[a] : a;
                if (!t(e[u], u, e)) return !1;
              }
              return !0;
            };
            var m = function (e, t, i, n) {
              return (
                !(i || (r.isDefined(e) && r.isDefined(t))) ||
                (!r.isFunction(t) &&
                  ((n = r.defaultTo(t, "cb")),
                    u.error(a + n + " is not a function"),
                    !0))
              );
            },
              v = function (e, t) {
                !(function (e, t, i) {
                  if (!m(void 0, i, !0, "internalCb") && !m(e, t))
                    for (var n in e) e.hasOwnProperty(n) && i(e[n], n);
                })(e, t, function (e, i) {
                  t(e, i);
                });
              };
            return { each: v, forEach: v, every: f, all: g };
          },
        ]),
        angular.module("ui-leaflet").factory("leafletLayerHelpers", [
          "$rootScope",
          "$q",
          "leafletLogger",
          "leafletHelpers",
          "leafletIterators",
          function (
            $rootScope,
            $q,
            leafletLogger,
            leafletHelpers,
            leafletIterators
          ) {
            var Helpers = leafletHelpers,
              isString = leafletHelpers.isString,
              isObject = leafletHelpers.isObject,
              isArray = leafletHelpers.isArray,
              isDefined = leafletHelpers.isDefined,
              errorHeader = leafletHelpers.errorHeader,
              $it = leafletIterators,
              $log = leafletLogger,
              utfGridCreateLayer = function (e) {
                if (Helpers.UTFGridPlugin.isLoaded()) {
                  var t = new L.UtfGrid(e.url, e.pluginOptions);
                  return (
                    t.on("mouseover", function (e) {
                      $rootScope.$broadcast(
                        "leafletDirectiveMap.utfgridMouseover",
                        e
                      );
                    }),
                    t.on("mouseout", function (e) {
                      $rootScope.$broadcast(
                        "leafletDirectiveMap.utfgridMouseout",
                        e
                      );
                    }),
                    t.on("click", function (e) {
                      $rootScope.$broadcast(
                        "leafletDirectiveMap.utfgridClick",
                        e
                      );
                    }),
                    t.on("mousemove", function (e) {
                      $rootScope.$broadcast(
                        "leafletDirectiveMap.utfgridMousemove",
                        e
                      );
                    }),
                    t
                  );
                }
                $log.error(
                  "[AngularJS - Leaflet] The UTFGrid plugin is not loaded."
                );
              },
              layerTypes = {
                xyz: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    return L.tileLayer(e.url, e.options);
                  },
                },
                mapbox: {
                  mustHaveKey: !0,
                  createLayer: function (e) {
                    var t = 3;
                    isDefined(e.options.version) &&
                      4 === e.options.version &&
                      (t = e.options.version);
                    var i =
                      3 === t
                        ? "//{s}.tiles.mapbox.com/v3/" +
                        e.key +
                        "/{z}/{x}/{y}.png"
                        : "//api.tiles.mapbox.com/v4/" +
                        e.key +
                        "/{z}/{x}/{y}.png?access_token=" +
                        e.apiKey;
                    return L.tileLayer(i, e.options);
                  },
                },
                geoJSON: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    if (Helpers.GeoJSONPlugin.isLoaded())
                      return new L.TileLayer.GeoJSON(
                        e.url,
                        e.pluginOptions,
                        e.options
                      );
                  },
                },
                geoJSONShape: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    return new L.GeoJSON(e.data, e.options);
                  },
                },
                geoJSONAwesomeMarker: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    return new L.geoJson(e.data, {
                      pointToLayer: function (t, i) {
                        return L.marker(i, {
                          icon: L.AwesomeMarkers.icon(e.icon),
                        });
                      },
                    });
                  },
                },
                geoJSONVectorMarker: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    return new L.geoJson(e.data, {
                      pointToLayer: function (t, i) {
                        return L.marker(i, {
                          icon: L.VectorMarkers.icon(e.icon),
                        });
                      },
                    });
                  },
                },
                utfGrid: { mustHaveUrl: !0, createLayer: utfGridCreateLayer },
                cartodbTiles: {
                  mustHaveKey: !0,
                  createLayer: function (e) {
                    var t =
                      "//" +
                      e.user +
                      ".cartodb.com/api/v1/map/" +
                      e.key +
                      "/{z}/{x}/{y}.png";
                    return L.tileLayer(t, e.options);
                  },
                },
                cartodbUTFGrid: {
                  mustHaveKey: !0,
                  mustHaveLayer: !0,
                  createLayer: function (e) {
                    return (
                      (e.url =
                        "//" +
                        e.user +
                        ".cartodb.com/api/v1/map/" +
                        e.key +
                        "/" +
                        e.layer +
                        "/{z}/{x}/{y}.grid.json"),
                      utfGridCreateLayer(e)
                    );
                  },
                },
                cartodbInteractive: {
                  mustHaveKey: !0,
                  mustHaveLayer: !0,
                  createLayer: function (e) {
                    var t =
                      "//" +
                      e.user +
                      ".cartodb.com/api/v1/map/" +
                      e.key +
                      "/{z}/{x}/{y}.png",
                      i = L.tileLayer(t, e.options);
                    e.url =
                      "//" +
                      e.user +
                      ".cartodb.com/api/v1/map/" +
                      e.key +
                      "/" +
                      e.layer +
                      "/{z}/{x}/{y}.grid.json";
                    var n = utfGridCreateLayer(e);
                    return L.layerGroup([i, n]);
                  },
                },
                wms: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    return L.tileLayer.wms(e.url, e.options);
                  },
                },
                wmts: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    return L.tileLayer.wmts(e.url, e.options);
                  },
                },
                wfs: {
                  mustHaveUrl: !0,
                  mustHaveLayer: !0,
                  createLayer: function (params) {
                    if (Helpers.WFSLayerPlugin.isLoaded()) {
                      var options = angular.copy(params.options);
                      return (
                        options.crs &&
                        "string" == typeof options.crs &&
                        (options.crs = eval(options.crs)),
                        new L.GeoJSON.WFS(params.url, params.layer, options)
                      );
                    }
                  },
                },
                group: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    var t = [];
                    return (
                      $it.each(e.options.layers, function (e) {
                        t.push(createLayer(e));
                      }),
                      (e.options.loadedDefer = function () {
                        var t = [];
                        if (isDefined(e.options.layers))
                          for (var i = 0; i < e.options.layers.length; i++) {
                            var n =
                              e.options.layers[i].layerOptions.loadedDefer;
                            isDefined(n) && t.push(n);
                          }
                        return t;
                      }),
                      L.layerGroup(t)
                    );
                  },
                },
                featureGroup: {
                  mustHaveUrl: !1,
                  createLayer: function () {
                    return L.featureGroup();
                  },
                },
                google: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    var t = e.type || "SATELLITE";
                    if (Helpers.GoogleLayerPlugin.isLoaded())
                      return new L.Google(t, e.options);
                  },
                },
                here: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    var t = e.provider || "HERE.terrainDay";
                    if (Helpers.LeafletProviderPlugin.isLoaded())
                      return new L.TileLayer.Provider(t, e.options);
                  },
                },
                china: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    var t = e.type || "";
                    if (Helpers.ChinaLayerPlugin.isLoaded())
                      return L.tileLayer.chinaProvider(t, e.options);
                  },
                },
                agsBase: {
                  mustHaveLayer: !0,
                  createLayer: function (e) {
                    if (Helpers.AGSBaseLayerPlugin.isLoaded())
                      return L.esri.basemapLayer(e.layer, e.options);
                  },
                },
                ags: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    if (Helpers.AGSLayerPlugin.isLoaded()) {
                      var t = angular.copy(e.options);
                      angular.extend(t, { url: e.url });
                      var i = new lvector.AGS(t);
                      return (
                        (i.onAdd = function (e) {
                          this.setMap(e);
                        }),
                        (i.onRemove = function () {
                          this.setMap(null);
                        }),
                        i
                      );
                    }
                  },
                },
                agsFeature: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    if (Helpers.AGSFeatureLayerPlugin.isLoaded()) {
                      e.options.url = e.url;
                      var t = L.esri.featureLayer(e.options),
                        i = function () {
                          isDefined(e.options.loadedDefer) &&
                            e.options.loadedDefer.resolve();
                        };
                      return (
                        t.on("loading", function () {
                          (e.options.loadedDefer = $q.defer()),
                            t.off("load", i),
                            t.on("load", i);
                        }),
                        t
                      );
                    }
                    $log.warn(errorHeader + " The esri plugin is not loaded.");
                  },
                },
                agsTiled: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    if (Helpers.AGSTiledMapLayerPlugin.isLoaded())
                      return (
                        (e.options.url = e.url), L.esri.tiledMapLayer(e.options)
                      );
                    $log.warn(errorHeader + " The esri plugin is not loaded.");
                  },
                },
                agsDynamic: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    if (Helpers.AGSDynamicMapLayerPlugin.isLoaded())
                      return (
                        (e.options.url = e.url),
                        L.esri.dynamicMapLayer(e.options)
                      );
                    $log.warn(errorHeader + " The esri plugin is not loaded.");
                  },
                },
                agsImage: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    if (Helpers.AGSImageMapLayerPlugin.isLoaded())
                      return (
                        (e.options.url = e.url), L.esri.imageMapLayer(e.options)
                      );
                    $log.warn(errorHeader + " The esri plugin is not loaded.");
                  },
                },
                agsClustered: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    if (Helpers.AGSClusteredLayerPlugin.isLoaded()) {
                      if (Helpers.MarkerClusterPlugin.isLoaded())
                        return L.esri.clusteredFeatureLayer(e.url, e.options);
                      $log.warn(
                        errorHeader + " The markercluster plugin is not loaded."
                      );
                    } else
                      $log.warn(
                        errorHeader +
                        " The esri clustered layer plugin is not loaded."
                      );
                  },
                },
                agsHeatmap: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    if (Helpers.AGSHeatmapLayerPlugin.isLoaded()) {
                      if (Helpers.HeatLayerPlugin.isLoaded())
                        return L.esri.heatmapFeatureLayer(e.url, e.options);
                      $log.warn(
                        errorHeader + " The heatlayer plugin is not loaded."
                      );
                    } else
                      $log.warn(
                        errorHeader +
                        " The esri heatmap layer plugin is not loaded."
                      );
                  },
                },
                markercluster: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    if (Helpers.MarkerClusterPlugin.isLoaded())
                      return new L.MarkerClusterGroup(e.options);
                    $log.warn(
                      errorHeader + " The markercluster plugin is not loaded."
                    );
                  },
                },
                bing: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    if (Helpers.BingLayerPlugin.isLoaded())
                      return new L.BingLayer(e.key, e.options);
                  },
                },
                webGLHeatmap: {
                  mustHaveUrl: !1,
                  mustHaveData: !0,
                  createLayer: function (e) {
                    if (Helpers.WebGLHeatMapLayerPlugin.isLoaded()) {
                      var t = new L.TileLayer.WebGLHeatMap(e.options);
                      return isDefined(e.data) && t.setData(e.data), t;
                    }
                  },
                },
                heat: {
                  mustHaveUrl: !1,
                  mustHaveData: !0,
                  createLayer: function (e) {
                    if (Helpers.HeatLayerPlugin.isLoaded()) {
                      var t = new L.heatLayer();
                      return (
                        isArray(e.data) && t.setLatLngs(e.data),
                        isObject(e.options) && t.setOptions(e.options),
                        t
                      );
                    }
                  },
                },
                yandex: {
                  mustHaveUrl: !1,
                  createLayer: function (e) {
                    var t = e.type || "map";
                    if (Helpers.YandexLayerPlugin.isLoaded())
                      return new L.Yandex(t, e.options);
                  },
                },
                imageOverlay: {
                  mustHaveUrl: !0,
                  mustHaveBounds: !0,
                  createLayer: function (e) {
                    return L.imageOverlay(e.url, e.bounds, e.options);
                  },
                },
                iip: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    return L.tileLayer.iip(e.url, e.options);
                  },
                },
                custom: {
                  createLayer: function (e) {
                    if (e.layer instanceof L.Class)
                      return angular.copy(e.layer);
                    $log.error(
                      "[AngularJS - Leaflet] A custom layer must be a leaflet Class"
                    );
                  },
                },
                cartodb: {
                  mustHaveUrl: !0,
                  createLayer: function (e) {
                    return cartodb.createLayer(e.map, e.url);
                  },
                },
              };
            function isValidLayerType(e) {
              return isString(e.type)
                ? -1 === Object.keys(layerTypes).indexOf(e.type)
                  ? ($log.error(
                    "[AngularJS - Leaflet] A layer must have a valid type: " +
                    Object.keys(layerTypes)
                  ),
                    !1)
                  : layerTypes[e.type].mustHaveUrl && !isString(e.url)
                    ? ($log.error(
                      "[AngularJS - Leaflet] A base layer must have an url"
                    ),
                      !1)
                    : layerTypes[e.type].mustHaveData && !isDefined(e.data)
                      ? ($log.error(
                        '[AngularJS - Leaflet] The base layer must have a "data" array attribute'
                      ),
                        !1)
                      : layerTypes[e.type].mustHaveLayer && !isDefined(e.layer)
                        ? ($log.error(
                          "[AngularJS - Leaflet] The type of layer " +
                          e.type +
                          " must have an layer defined"
                        ),
                          !1)
                        : layerTypes[e.type].mustHaveBounds && !isDefined(e.bounds)
                          ? ($log.error(
                            "[AngularJS - Leaflet] The type of layer " +
                            e.type +
                            " must have bounds defined"
                          ),
                            !1)
                          : !(layerTypes[e.type].mustHaveKey && !isDefined(e.key)) ||
                          ($log.error(
                            "[AngularJS - Leaflet] The type of layer " +
                            e.type +
                            " must have key defined"
                          ),
                            !1)
                : ($log.error(
                  "[AngularJS - Leaflet] A layer must have a valid type defined."
                ),
                  !1);
            }
            function createLayer(e) {
              if (isValidLayerType(e)) {
                if (isString(e.name)) {
                  for (var t in (isObject(e.layerParams) ||
                    (e.layerParams = {}),
                    isObject(e.layerOptions) || (e.layerOptions = {}),
                    e.layerParams))
                    e.layerOptions[t] = e.layerParams[t];
                  var i = {
                    url: e.url,
                    data: e.data,
                    options: e.layerOptions,
                    layer: e.layer,
                    icon: e.icon,
                    type: e.layerType,
                    bounds: e.bounds,
                    key: e.key,
                    apiKey: e.apiKey,
                    pluginOptions: e.pluginOptions,
                    user: e.user,
                  };
                  return layerTypes[e.type].createLayer(i);
                }
                $log.error(
                  "[AngularJS - Leaflet] A base layer must have a name"
                );
              }
            }
            function safeAddLayer(e, t) {
              t && "function" == typeof t.addTo ? t.addTo(e) : e.addLayer(t);
            }
            function safeRemoveLayer(e, t, i) {
              if (isDefined(i) && isDefined(i.loadedDefer))
                if (angular.isFunction(i.loadedDefer)) {
                  var n = i.loadedDefer();
                  $log.debug("Loaded Deferred", n);
                  var o = n.length;
                  if (o > 0)
                    for (
                      var r = function () {
                        0 === --o && e.removeLayer(t);
                      },
                      a = 0;
                      a < n.length;
                      a++
                    )
                      n[a].promise.then(r);
                  else e.removeLayer(t);
                } else
                  i.loadedDefer.promise.then(function () {
                    e.removeLayer(t);
                  });
              else e.removeLayer(t);
            }
            return {
              createLayer: createLayer,
              safeAddLayer: safeAddLayer,
              safeRemoveLayer: safeRemoveLayer,
            };
          },
        ]),
        angular.module("ui-leaflet").factory("leafletLegendHelpers", [
          "$http",
          "$q",
          "$log",
          "leafletHelpers",
          function (e, t, i, n) {
            var o = {},
              r = n.isDefined,
              a = function (t) {
                var i = o[t],
                  n = i[0];
                e(n.c).then(
                  function (e) {
                    i.shift(), n.d.resolve(e), i.length > 0 && a(t);
                  },
                  function (e) {
                    i.shift(), n.d.reject(e), i.length > 0 && a(t);
                  }
                );
              },
              s = function (e, t, i, n) {
                if (((e.innerHTML = ""), t.error))
                  e.innerHTML +=
                    '<div class="info-title alert alert-danger">' +
                    t.error.message +
                    "</div>";
                else if ("arcgis" === i)
                  for (var o = 0; o < t.layers.length; o++) {
                    var r = t.layers[o];
                    e.innerHTML +=
                      '<div class="info-title" data-layerid="' +
                      r.layerId +
                      '">' +
                      r.layerName +
                      "</div>";
                    for (var a = 0; a < r.legend.length; a++) {
                      var s = r.legend[a];
                      e.innerHTML +=
                        '<div class="inline" data-layerid="' +
                        r.layerId +
                        '"><img src="data:' +
                        s.contentType +
                        ";base64," +
                        s.imageData +
                        '" /></div><div class="info-label" data-layerid="' +
                        r.layerId +
                        '">' +
                        s.label +
                        "</div>";
                    }
                  }
                else "image" === i && (e.innerHTML = '<img src="' + n + '"/>');
              };
            return {
              getOnAddLegend: function (e, t, i, n) {
                return function () {
                  var o = L.DomUtil.create("div", t);
                  return (
                    L.Browser.touch
                      ? L.DomEvent.on(o, "click", L.DomEvent.stopPropagation)
                      : (L.DomEvent.disableClickPropagation(o),
                        L.DomEvent.on(
                          o,
                          "mousewheel",
                          L.DomEvent.stopPropagation
                        )),
                    s(o, e, i, n),
                    o
                  );
                };
              },
              getOnAddArrayLegend: function (e, t) {
                return function () {
                  for (
                    var i = L.DomUtil.create("div", t), n = 0;
                    n < e.colors.length;
                    n++
                  )
                    i.innerHTML +=
                      '<div class="outline"><i style="background:' +
                      e.colors[n] +
                      '"></i></div><div class="info-label">' +
                      e.labels[n] +
                      "</div>";
                  return (
                    L.Browser.touch
                      ? L.DomEvent.on(i, "click", L.DomEvent.stopPropagation)
                      : (L.DomEvent.disableClickPropagation(i),
                        L.DomEvent.on(
                          i,
                          "mousewheel",
                          L.DomEvent.stopPropagation
                        )),
                    i
                  );
                };
              },
              updateLegend: s,
              addLegendURL: function (e, i) {
                var n = t.defer();
                return (
                  r(o[e]) || (o[e] = []),
                  o[e].push({ c: i, d: n }),
                  1 === o[e].length && a(e),
                  n.promise
                );
              },
            };
          },
        ]),
        angular.module("ui-leaflet").factory("leafletMapDefaults", [
          "$q",
          "leafletHelpers",
          function (e, t) {
            var i = t.isDefined,
              n = t.isObject,
              o = t.obtainEffectiveMapId,
              r = {};
            return {
              reset: function () {
                r = {};
              },
              getDefaults: function (e) {
                var t = o(r, e);
                return r[t];
              },
              getMapCreationDefaults: function (e) {
                var t = o(r, e),
                  n = r[t],
                  a = {
                    maxZoom: n.maxZoom,
                    keyboard: n.keyboard,
                    dragging: n.dragging,
                    zoomControl: n.zoomControl,
                    doubleClickZoom: n.doubleClickZoom,
                    scrollWheelZoom: n.scrollWheelZoom,
                    tap: n.tap,
                    touchZoom: n.touchZoom,
                    attributionControl: n.attributionControl,
                    worldCopyJump: n.worldCopyJump,
                    crs: n.crs,
                  };
                if (
                  (i(n.minZoom) && (a.minZoom = n.minZoom),
                    i(n.zoomAnimation) && (a.zoomAnimation = n.zoomAnimation),
                    i(n.fadeAnimation) && (a.fadeAnimation = n.fadeAnimation),
                    i(n.markerZoomAnimation) &&
                    (a.markerZoomAnimation = n.markerZoomAnimation),
                    n.map)
                )
                  for (var s in n.map) a[s] = n.map[s];
                return a;
              },
              setDefaults: function (e, t) {
                var a = {
                  keyboard: !0,
                  dragging: !0,
                  worldCopyJump: !1,
                  doubleClickZoom: !0,
                  scrollWheelZoom: !0,
                  tap: !0,
                  touchZoom: !0,
                  zoomControl: !0,
                  zoomsliderControl: !1,
                  zoomControlPosition: "topleft",
                  attributionControl: !0,
                  controls: {
                    layers: {
                      visible: !0,
                      position: "topright",
                      collapsed: !0,
                    },
                  },
                  nominatim: {
                    server: " http://nominatim.openstreetmap.org/search",
                  },
                  crs: L.CRS.EPSG3857,
                  tileLayer: "//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                  tileLayerOptions: {
                    attribution:
                      '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                  },
                  path: { weight: 10, opacity: 1, color: "#0000ff" },
                  center: { lat: 0, lng: 0, zoom: 1 },
                };
                i(e) &&
                  ((a.doubleClickZoom = i(e.doubleClickZoom)
                    ? e.doubleClickZoom
                    : a.doubleClickZoom),
                    (a.scrollWheelZoom = i(e.scrollWheelZoom)
                      ? e.scrollWheelZoom
                      : a.doubleClickZoom),
                    (a.tap = i(e.tap) ? e.tap : a.tap),
                    (a.touchZoom = i(e.touchZoom)
                      ? e.touchZoom
                      : a.doubleClickZoom),
                    (a.zoomControl = i(e.zoomControl)
                      ? e.zoomControl
                      : a.zoomControl),
                    (a.zoomsliderControl = i(e.zoomsliderControl)
                      ? e.zoomsliderControl
                      : a.zoomsliderControl),
                    (a.attributionControl = i(e.attributionControl)
                      ? e.attributionControl
                      : a.attributionControl),
                    (a.tileLayer = i(e.tileLayer) ? e.tileLayer : a.tileLayer),
                    (a.zoomControlPosition = i(e.zoomControlPosition)
                      ? e.zoomControlPosition
                      : a.zoomControlPosition),
                    (a.keyboard = i(e.keyboard) ? e.keyboard : a.keyboard),
                    (a.dragging = i(e.dragging) ? e.dragging : a.dragging),
                    i(e.controls) && angular.extend(a.controls, e.controls),
                    n(e.crs)
                      ? (a.crs = e.crs)
                      : i(L.CRS[e.crs]) && (a.crs = L.CRS[e.crs]),
                    i(e.center) && angular.copy(e.center, a.center),
                    i(e.tileLayerOptions) &&
                    angular.copy(e.tileLayerOptions, a.tileLayerOptions),
                    i(e.maxZoom) && (a.maxZoom = e.maxZoom),
                    i(e.minZoom) && (a.minZoom = e.minZoom),
                    i(e.zoomAnimation) && (a.zoomAnimation = e.zoomAnimation),
                    i(e.fadeAnimation) && (a.fadeAnimation = e.fadeAnimation),
                    i(e.markerZoomAnimation) &&
                    (a.markerZoomAnimation = e.markerZoomAnimation),
                    i(e.worldCopyJump) && (a.worldCopyJump = e.worldCopyJump),
                    i(e.map) && (a.map = e.map),
                    i(e.path) && (a.path = e.path));
                var s = o(r, t);
                return (r[s] = a), a;
              },
            };
          },
        ]),
        angular.module("ui-leaflet").service("leafletMarkersHelpers", [
          "$rootScope",
          "$timeout",
          "leafletHelpers",
          "leafletLogger",
          "$compile",
          "leafletGeoJsonHelpers",
          function (e, t, i, n, o, r) {
            var a = i.isDefined,
              s = i.defaultTo,
              l = i.MarkerClusterPlugin,
              c = i.AwesomeMarkersPlugin,
              u = i.VectorMarkersPlugin,
              d = i.MakiMarkersPlugin,
              p = i.ExtraMarkersPlugin,
              h = i.DomMarkersPlugin,
              f = i.safeApply,
              g = i,
              m = i.isString,
              v = i.isNumber,
              b = i.isObject,
              y = {},
              x = r,
              w = i.errorHeader,
              _ = n,
              A = function (e) {
                var t = "";
                return (
                  [
                    "_icon",
                    "_latlng",
                    "_leaflet_id",
                    "_map",
                    "_shadow",
                  ].forEach(function (i) {
                    t += i + ": " + s(e[i], "undefined") + " \n";
                  }),
                  "[leafletMarker] : \n" + t
                );
              },
              E = function (t) {
                if (a(t) && a(t.type) && "awesomeMarker" === t.type)
                  return (
                    c.isLoaded() ||
                    _.error(w + " The AwesomeMarkers Plugin is not loaded."),
                    new L.AwesomeMarkers.icon(t)
                  );
                if (a(t) && a(t.type) && "vectorMarker" === t.type)
                  return (
                    u.isLoaded() ||
                    _.error(w + " The VectorMarkers Plugin is not loaded."),
                    new L.VectorMarkers.icon(t)
                  );
                if (a(t) && a(t.type) && "makiMarker" === t.type)
                  return (
                    d.isLoaded() ||
                    _.error(w + "The MakiMarkers Plugin is not loaded."),
                    new L.MakiMarkers.icon(t)
                  );
                if (a(t) && a(t.type) && "extraMarker" === t.type)
                  return (
                    p.isLoaded() ||
                    _.error(w + "The ExtraMarkers Plugin is not loaded."),
                    new L.ExtraMarkers.icon(t)
                  );
                if (a(t) && a(t.type) && "div" === t.type)
                  return new L.divIcon(t);
                if (a(t) && a(t.type) && "dom" === t.type) {
                  h.isLoaded() ||
                    _.error(w + "The DomMarkers Plugin is not loaded.");
                  var i = angular.isFunction(t.getMarkerScope)
                    ? t.getMarkerScope()
                    : e,
                    n = o(t.template)(i),
                    r = angular.copy(t);
                  return (r.element = n[0]), new L.DomMarkers.icon(r);
                }
                if (a(t) && a(t.type) && "icon" === t.type) return t.icon;
                return a(t) && a(t.iconUrl)
                  ? new L.Icon(t)
                  : new L.Icon.Default({
                    iconUrl:
                      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg==",
                    shadowUrl:
                      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII=",
                    iconSize: [25, 41],
                    iconAnchor: [12, 41],
                    popupAnchor: [1, -34],
                    shadowSize: [41, 41],
                  });
              },
              S = function (e, t, i) {
                if ((e.closePopup(), a(i) && a(i.overlays)))
                  for (var n in i.overlays)
                    if (
                      (i.overlays[n] instanceof L.LayerGroup ||
                        i.overlays[n] instanceof L.FeatureGroup) &&
                      i.overlays[n].hasLayer(e)
                    )
                      return void i.overlays[n].removeLayer(e);
                if (a(y))
                  for (var o in y) y[o].hasLayer(e) && y[o].removeLayer(e);
                t.hasLayer(e) && t.removeLayer(e);
              },
              T = function (e, i, n) {
                (
                  e._popup._contentNode.innerText ||
                  e._popup._contentNode.textContent
                ).length < 1 &&
                  t(function () {
                    T(e, i, n);
                  });
                var o = e._popup._contentNode.offsetWidth;
                return (
                  e._popup._updateLayout(),
                  e._popup._updatePosition(),
                  e._popup.options.autoPan &&
                  (function (e, t) {
                    var i = e._popup._container.offsetHeight,
                      n = new L.Point(
                        e._popup._containerLeft,
                        -i - e._popup._containerBottom
                      );
                    null !== t.layerPointToContainerPoint(n) &&
                      e._popup._adjustPan();
                  })(e, n),
                  o
                );
              },
              C = function (t, i, n) {
                var r = angular.isFunction(i.getMessageScope)
                  ? i.getMessageScope()
                  : e;
                if (!a(i.compileMessage) || i.compileMessage) {
                  if (!a(t._popup) || !a(t._popup._contentNode))
                    return (
                      _.error(
                        w + "Popup is invalid or does not have any content."
                      ),
                      !1
                    );
                  !(function (e, t) {
                    o(e._popup._contentNode)(t);
                  })(t, r),
                    T(t, i, n);
                }
              },
              k = function (t, i) {
                var n = angular.isFunction(i.getMessageScope)
                  ? i.getMessageScope()
                  : e,
                  r = angular.isFunction(i.getLabelScope)
                    ? i.getLabelScope()
                    : n,
                  s = !a(i.compileMessage) || i.compileMessage;
                g.LabelPlugin.isLoaded() &&
                  a(i.label) &&
                  (a(i.label.options) &&
                    !0 === i.label.options.noHide &&
                    t.showLabel(),
                    s && a(t.label) && o(t.label._container)(r));
              },
              D = function (e, t, i, n, o, r, s) {
                if (a(t)) {
                  if (!x.validateCoords(e))
                    return (
                      _.warn(
                        "There are problems with lat-lng data, please verify your marker model"
                      ),
                      void S(i, s, r)
                    );
                  var l = e === t;
                  if (
                    (a(e.iconAngle) &&
                      t.iconAngle !== e.iconAngle &&
                      i.setIconAngle(e.iconAngle),
                      m(e.layer) ||
                      (m(t.layer) &&
                        (a(r.overlays[t.layer]) &&
                          r.overlays[t.layer].hasLayer(i) &&
                          (r.overlays[t.layer].removeLayer(i), i.closePopup()),
                          s.hasLayer(i) || s.addLayer(i))),
                      (v(e.opacity) || v(parseFloat(e.opacity))) &&
                      e.opacity !== t.opacity &&
                      i.setOpacity(e.opacity),
                      m(e.layer) && t.layer !== e.layer)
                  ) {
                    if (
                      (m(t.layer) &&
                        a(r.overlays[t.layer]) &&
                        r.overlays[t.layer].hasLayer(i) &&
                        r.overlays[t.layer].removeLayer(i),
                        i.closePopup(),
                        s.hasLayer(i) && s.removeLayer(i),
                        !a(r.overlays[e.layer]))
                    )
                      return void _.error(
                        w + "You must use a name of an existing layer"
                      );
                    var c = r.overlays[e.layer];
                    if (
                      !(
                        c instanceof L.LayerGroup || c instanceof L.FeatureGroup
                      )
                    )
                      return void _.error(
                        w +
                        'A marker can only be added to a layer of type "group" or "featureGroup"'
                      );
                    c.addLayer(i),
                      s.hasLayer(i) && !0 === e.focus && i.openPopup();
                  }
                  if (
                    (!0 !== e.draggable &&
                      !0 === t.draggable &&
                      a(i.dragging) &&
                      i.dragging.disable(),
                      !0 === e.draggable &&
                      !0 !== t.draggable &&
                      (i.dragging
                        ? i.dragging.enable()
                        : L.Handler.MarkerDrag &&
                        ((i.dragging = new L.Handler.MarkerDrag(i)),
                          (i.options.draggable = !0),
                          i.dragging.enable())),
                      b(e.icon) ||
                      (b(t.icon) &&
                        (i.setIcon(E()),
                          i.closePopup(),
                          i.unbindPopup(),
                          m(e.message) &&
                          i.bindPopup(e.message, e.popupOptions))),
                      b(e.icon) && b(t.icon) && !angular.equals(e.icon, t.icon))
                  ) {
                    var u = !1;
                    i.dragging && (u = i.dragging.enabled()),
                      i.setIcon(E(e.icon)),
                      u && i.dragging.enable(),
                      i.closePopup(),
                      i.unbindPopup(),
                      m(e.message) &&
                      (i.bindPopup(e.message, e.popupOptions),
                        s.hasLayer(i) && !0 === e.focus && i.openPopup());
                  }
                  !m(e.message) &&
                    m(t.message) &&
                    (i.closePopup(), i.unbindPopup()),
                    g.LabelPlugin.isLoaded() &&
                    (a(e.label) && a(e.label.message)
                      ? "label" in t &&
                        "message" in t.label &&
                        !angular.equals(e.label.message, t.label.message)
                        ? i.updateLabelContent(e.label.message)
                        : !angular.isFunction(i.getLabel) ||
                          (angular.isFunction(i.getLabel) && !a(i.getLabel()))
                          ? (i.bindLabel(e.label.message, e.label.options),
                            k(i, e))
                          : k(i, e)
                      : ("label" in e && !("message" in e.label)) ||
                      (angular.isFunction(i.unbindLabel) &&
                        i.unbindLabel())),
                    m(e.message) &&
                    !m(t.message) &&
                    i.bindPopup(e.message, e.popupOptions),
                    m(e.message) &&
                    m(t.message) &&
                    e.message !== t.message &&
                    i.setPopupContent(e.message);
                  var d = !1;
                  !0 !== e.focus &&
                    !0 === t.focus &&
                    (i.closePopup(), (d = !0)),
                    ((!0 === e.focus && (!a(t.focus) || !1 === t.focus)) ||
                      (l && !0 === e.focus)) &&
                    (i.openPopup(), (d = !0)),
                    t.zIndexOffset !== e.zIndexOffset &&
                    i.setZIndexOffset(e.zIndexOffset);
                  var p = i.getLatLng();
                  m(e.layer) && g.MarkerClusterPlugin.is(r.overlays[e.layer])
                    ? d
                      ? (e.lat === t.lat && e.lng === t.lng) ||
                      (r.overlays[e.layer].removeLayer(i),
                        i.setLatLng([e.lat, e.lng]),
                        r.overlays[e.layer].addLayer(i))
                      : p.lat !== e.lat ||
                        p.lng !== e.lng ||
                        e.lat !== t.lat ||
                        e.lng !== t.lng
                        ? (r.overlays[e.layer].removeLayer(i),
                          i.setLatLng([e.lat, e.lng]),
                          r.overlays[e.layer].addLayer(i))
                        : b(e.icon) &&
                        b(t.icon) &&
                        !angular.equals(e.icon, t.icon) &&
                        (r.overlays[e.layer].removeLayer(i),
                          r.overlays[e.layer].addLayer(i))
                    : (p.lat === e.lat && p.lng === e.lng) ||
                    i.setLatLng([e.lat, e.lng]);
                }
              };
            return {
              resetMarkerGroup: function (e) {
                a(y[e]) && y.splice(e, 1);
              },
              resetMarkerGroups: function () {
                y = {};
              },
              deleteMarker: S,
              manageOpenPopup: C,
              manageOpenLabel: k,
              createMarker: function (e) {
                if (a(e) && x.validateCoords(e)) {
                  var t = x.getCoords(e);
                  if (a(t)) {
                    var i = {
                      icon: E(e.icon),
                      title: a(e.title) ? e.title : "",
                      draggable: !!a(e.draggable) && e.draggable,
                      clickable: !a(e.clickable) || e.clickable,
                      riseOnHover: !!a(e.riseOnHover) && e.riseOnHover,
                      zIndexOffset: a(e.zIndexOffset) ? e.zIndexOffset : 0,
                      iconAngle: a(e.iconAngle) ? e.iconAngle : 0,
                    };
                    for (var n in e)
                      e.hasOwnProperty(n) &&
                        !i.hasOwnProperty(n) &&
                        (i[n] = e[n]);
                    var o = new L.marker(t, i);
                    return m(e.message) || o.unbindPopup(), o;
                  }
                  _.error(w + "Unable to get coordinates from markerData.");
                } else _.error(w + "The marker definition is not valid.");
              },
              addMarkerToGroup: function (e, t, i, n) {
                m(t)
                  ? l.isLoaded()
                    ? (a(y[t]) ||
                      ((y[t] = new L.MarkerClusterGroup(i)),
                        n.addLayer(y[t])),
                      y[t].addLayer(e))
                    : _.error(w + "The MarkerCluster plugin is not loaded.")
                  : _.error(
                    w + "The marker group you have specified is invalid."
                  );
              },
              listenMarkerEvents: function (e, t, i, n, o) {
                e.on("popupopen", function () {
                  f(i, function () {
                    (a(e._popup) || a(e._popup._contentNode)) &&
                      ((t.focus = !0), C(e, t, o));
                  });
                }),
                  e.on("popupclose", function () {
                    f(i, function () {
                      t.focus = !1;
                    });
                  }),
                  e.on("add", function () {
                    f(i, function () {
                      "label" in t && k(e, t);
                    });
                  });
              },
              updateMarker: D,
              addMarkerWatcher: function (e, t, i, n, o, r) {
                var l = g.getObjectArrayPath("markers." + t);
                r = s(r, !0);
                var c = i.$watch(
                  l,
                  function (t, i) {
                    if (!a(t)) return S(e, o, n), void c();
                    D(t, i, e, 0, 0, n, o);
                  },
                  r
                );
              },
              string: A,
              log: function (e, t) {
                (t ? console : _).debug(A(e));
              },
              getModelFromModels: function (e, t, i) {
                if (a(e)) {
                  if (t) return i ? e[i][t] : e[t];
                  _.error(w + "marker id missing in getMarker");
                }
              },
              getLayerModels: function (e, t) {
                if (a(e)) return t ? e[t] : e;
              },
            };
          },
        ]),
        angular.module("ui-leaflet").factory("leafletPathsHelpers", [
          "$rootScope",
          "leafletLogger",
          "leafletHelpers",
          function (e, t, i) {
            var n = i.isDefined,
              o = i.isArray,
              r = i.isNumber,
              a = i.isValidPoint,
              s = t,
              l = [
                "stroke",
                "weight",
                "color",
                "opacity",
                "fill",
                "fillColor",
                "fillOpacity",
                "dashArray",
                "lineCap",
                "lineJoin",
                "clickable",
                "pointerEvents",
                "className",
                "smoothFactor",
                "noClip",
              ];
            function c(e) {
              return e
                .filter(function (e) {
                  return a(e);
                })
                .map(function (e) {
                  return u(e);
                });
            }
            function u(e) {
              return o(e)
                ? new L.LatLng(e[0], e[1])
                : new L.LatLng(e.lat, e.lng);
            }
            function d(e) {
              return e.map(function (e) {
                return c(e);
              });
            }
            var p = function (e, t) {
              for (var i = {}, o = 0; o < l.length; o++) {
                var r = l[o];
                n(t[r]) && (i[r] = t[r]);
              }
              e.setStyle(t);
            },
              h = function (e) {
                if (!o(e)) return !1;
                for (var t = 0; t < e.length; t++) {
                  var i = e[t];
                  if (!a(i)) return !1;
                }
                return !0;
              },
              f = {
                polyline: {
                  isValid: function (e) {
                    var t = e.latlngs;
                    return h(t);
                  },
                  createPath: function (e) {
                    return new L.Polyline([], e);
                  },
                  setPath: function (e, t) {
                    e.setLatLngs(c(t.latlngs)), p(e, t);
                  },
                },
                multiPolyline: {
                  isValid: function (e) {
                    var t = e.latlngs;
                    if (!o(t)) return !1;
                    for (var i in t) {
                      var n = t[i];
                      if (!h(n)) return !1;
                    }
                    return !0;
                  },
                  createPath: function (e) {
                    return new L.multiPolyline(
                      [
                        [
                          [0, 0],
                          [1, 1],
                        ],
                      ],
                      e
                    );
                  },
                  setPath: function (e, t) {
                    e.setLatLngs(d(t.latlngs)), p(e, t);
                  },
                },
                polygon: {
                  isValid: function (e) {
                    var t = e.latlngs;
                    return h(t);
                  },
                  createPath: function (e) {
                    return new L.Polygon([], e);
                  },
                  setPath: function (e, t) {
                    e.setLatLngs(c(t.latlngs)), p(e, t);
                  },
                },
                multiPolygon: {
                  isValid: function (e) {
                    var t = e.latlngs;
                    if (!o(t)) return !1;
                    for (var i in t) {
                      var n = t[i];
                      if (!h(n)) return !1;
                    }
                    return !0;
                  },
                  createPath: function (e) {
                    return new L.MultiPolygon(
                      [
                        [
                          [0, 0],
                          [1, 1],
                          [0, 1],
                        ],
                      ],
                      e
                    );
                  },
                  setPath: function (e, t) {
                    e.setLatLngs(d(t.latlngs)), p(e, t);
                  },
                },
                rectangle: {
                  isValid: function (e) {
                    var t = e.latlngs;
                    if (!o(t) || 2 !== t.length) return !1;
                    for (var i in t) {
                      var n = t[i];
                      if (!a(n)) return !1;
                    }
                    return !0;
                  },
                  createPath: function (e) {
                    return new L.Rectangle(
                      [
                        [0, 0],
                        [1, 1],
                      ],
                      e
                    );
                  },
                  setPath: function (e, t) {
                    e.setBounds(new L.LatLngBounds(c(t.latlngs))), p(e, t);
                  },
                },
                circle: {
                  isValid: function (e) {
                    var t = e.latlngs;
                    return a(t) && r(e.radius);
                  },
                  createPath: function (e) {
                    return new L.Circle([0, 0], 1, e);
                  },
                  setPath: function (e, t) {
                    e.setLatLng(u(t.latlngs)),
                      n(t.radius) && e.setRadius(t.radius),
                      p(e, t);
                  },
                },
                circleMarker: {
                  isValid: function (e) {
                    var t = e.latlngs;
                    return a(t) && r(e.radius);
                  },
                  createPath: function (e) {
                    return new L.CircleMarker([0, 0], e);
                  },
                  setPath: function (e, t) {
                    e.setLatLng(u(t.latlngs)),
                      n(t.radius) && e.setRadius(t.radius),
                      p(e, t);
                  },
                },
              };
            return {
              setPathOptions: function (e, t, i) {
                n(t) || (t = "polyline"), f[t].setPath(e, i);
              },
              createPath: function (e, t, i) {
                n(t.type) || (t.type = "polyline");
                var o = (function (e, t) {
                  for (var i = {}, o = 0; o < l.length; o++) {
                    var r = l[o];
                    n(e[r])
                      ? (i[r] = e[r])
                      : n(t.path[r]) && (i[r] = t.path[r]);
                  }
                  return i;
                })(t, i),
                  r = (function (e) {
                    var t = {};
                    return (
                      e.latlngs && (t.latlngs = e.latlngs),
                      e.radius && (t.radius = e.radius),
                      t
                    );
                  })(t);
                if (f[t.type].isValid(r)) return f[t.type].createPath(o);
                s.error(
                  "[AngularJS - Leaflet] Invalid data passed to the " +
                  t.type +
                  " path"
                );
              },
            };
          },
        ]),
        angular
          .module("ui-leaflet")
          .service("leafletWatchHelpers", function () {
            var e = function (e, t, i, n, o) {
              var r = e[t](
                i,
                function (e, t) {
                  o(e, t), n.doWatch || r();
                },
                n.isDeep
              );
              return r;
            };
            return {
              maybeWatch: function (t, i, n, o) {
                return e(t, "$watch", i, n, o);
              },
              maybeWatchCollection: function (t, i, n, o) {
                return e(t, "$watchCollection", i, n, o);
              },
            };
          }),
        angular.module("ui-leaflet").service("leafletLogger", [
          "nemSimpleLogger",
          function (e) {
            return e.spawn();
          },
        ]),
        angular.module("ui-leaflet").factory("nominatimService", [
          "$q",
          "$http",
          "leafletHelpers",
          "leafletMapDefaults",
          function (e, t, i, n) {
            var o = i.isDefined;
            return {
              query: function (i, r) {
                var a = n.getDefaults(r).nominatim.server,
                  s = e.defer();
                return (
                  t
                    .get(a, { params: { format: "json", limit: 1, q: i } })
                    .success(function (e) {
                      e.length > 0 && o(e[0].boundingbox)
                        ? s.resolve(e[0])
                        : s.reject("[Nominatim] Invalid address");
                    }),
                  s.promise
                );
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("bounds", [
          "leafletLogger",
          "$timeout",
          "$http",
          "leafletHelpers",
          "nominatimService",
          "leafletBoundsHelpers",
          function (e, t, i, n, o, r) {
            var a = e;
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: ["leaflet"],
              link: function (e, i, s, l) {
                var c = n.isDefined,
                  u = r.createLeafletBounds,
                  d = l[0].getLeafletScope(),
                  p = l[0],
                  h = n.errorHeader + " [Bounds] ";
                p.getMap().then(function (i) {
                  var n;
                  d.$on("boundsChanged", function (e) {
                    var n = e.currentScope,
                      o = i.getBounds();
                    if (
                      !(function (e) {
                        return (
                          0 === e._southWest.lat &&
                          0 === e._southWest.lng &&
                          0 === e._northEast.lat &&
                          0 === e._northEast.lng
                        );
                      })(o) &&
                      !n.settingBoundsFromScope
                    ) {
                      n.settingBoundsFromLeaflet = !0;
                      var r = {
                        northEast: {
                          lat: o._northEast.lat,
                          lng: o._northEast.lng,
                        },
                        southWest: {
                          lat: o._southWest.lat,
                          lng: o._southWest.lng,
                        },
                        options: o.options,
                      };
                      angular.equals(n.bounds, r) || (n.bounds = r),
                        t(function () {
                          n.settingBoundsFromLeaflet = !1;
                        });
                    }
                  }),
                    d.$watch(
                      "bounds",
                      function (r) {
                        if (!e.settingBoundsFromLeaflet) {
                          if (c(r.address) && r.address !== n)
                            return (
                              (e.settingBoundsFromScope = !0),
                              o.query(r.address, s.id).then(
                                function (e) {
                                  var t = e.boundingbox,
                                    n = [
                                      [t[0], t[2]],
                                      [t[1], t[3]],
                                    ];
                                  i.fitBounds(n);
                                },
                                function (e) {
                                  a.error(h + " " + e + ".");
                                }
                              ),
                              (n = r.address),
                              void t(function () {
                                e.settingBoundsFromScope = !1;
                              })
                            );
                          var l = u(r);
                          l &&
                            !i.getBounds().equals(l) &&
                            ((e.settingBoundsFromScope = !0),
                              i.fitBounds(l, r.options),
                              t(function () {
                                e.settingBoundsFromScope = !1;
                              }));
                        }
                      },
                      !0
                    );
                });
              },
            };
          },
        ]);
      var centerDirectiveTypes = ["center", "lfCenter"],
        centerDirectives = {};
      centerDirectiveTypes.forEach(function (e) {
        centerDirectives[e] = [
          "leafletLogger",
          "$q",
          "$location",
          "$timeout",
          "leafletMapDefaults",
          "leafletHelpers",
          "leafletBoundsHelpers",
          "leafletMapEvents",
          function (t, i, n, o, r, a, s, l) {
            var c,
              u = a.isDefined,
              d = a.isNumber,
              p = a.isSameCenterOnMap,
              h = a.safeApply,
              f = a.isValidCenter,
              g = s.isValidBounds,
              m = a.isUndefinedOrEmpty,
              v = a.errorHeader,
              b = t;
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "leaflet",
              controller: function () {
                (c = i.defer()),
                  (this.getCenter = function () {
                    return c.promise;
                  });
              },
              link: function (t, i, a, y) {
                var x = y.getLeafletScope(),
                  w = x[e];
                y.getMap().then(function (t) {
                  var i,
                    y,
                    _,
                    A,
                    E = r.getDefaults(a.id);
                  if (-1 !== a[e].search("-"))
                    return (
                      b.error(
                        v +
                        ' The "center" variable can\'t use a "-" on its key name: "' +
                        a[e] +
                        '".'
                      ),
                      void t.setView(
                        [E.center.lat, E.center.lng],
                        E.center.zoom
                      )
                    );
                  if (((i = x.bounds), (y = w), u(i) && g(i) && m(y)))
                    t.fitBounds(
                      s.createLeafletBounds(x.bounds),
                      x.bounds.options
                    ),
                      (w = t.getCenter()),
                      h(x, function (i) {
                        angular.extend(i[e], {
                          lat: t.getCenter().lat,
                          lng: t.getCenter().lng,
                          zoom: t.getZoom(),
                          autoDiscover: !1,
                        });
                      }),
                      h(x, function (e) {
                        var i = t.getBounds();
                        e.bounds = {
                          northEast: {
                            lat: i._northEast.lat,
                            lng: i._northEast.lng,
                          },
                          southWest: {
                            lat: i._southWest.lat,
                            lng: i._southWest.lng,
                          },
                        };
                      });
                  else {
                    if (!u(w))
                      return (
                        b.error(
                          v +
                          ' The "center" property is not defined in the main scope'
                        ),
                        void t.setView(
                          [E.center.lat, E.center.lng],
                          E.center.zoom
                        )
                      );
                    (u(w.lat) && u(w.lng)) ||
                      u(w.autoDiscover) ||
                      angular.copy(E.center, w);
                  }
                  if ("yes" === a.urlHashCenter) {
                    var S = function () {
                      var e,
                        t = n.search();
                      if (u(t.c)) {
                        var i = t.c.split(":");
                        3 === i.length &&
                          (e = {
                            lat: parseFloat(i[0]),
                            lng: parseFloat(i[1]),
                            zoom: parseInt(i[2], 10),
                          });
                      }
                      return e;
                    };
                    (_ = S()),
                      x.$on("$locationChangeSuccess", function (i) {
                        var n = i.currentScope,
                          o = S();
                        u(o) &&
                          !p(o, t) &&
                          angular.extend(n[e], {
                            lat: o.lat,
                            lng: o.lng,
                            zoom: o.zoom,
                          });
                      });
                  }
                  x.$watch(
                    e,
                    function (e) {
                      if (!x.settingCenterFromLeaflet) {
                        if (
                          (u(_) && (angular.copy(_, e), (_ = void 0)),
                            f(e) || !0 === e.autoDiscover)
                        )
                          return !0 === e.autoDiscover
                            ? (d(e.zoom) ||
                              t.setView(
                                [E.center.lat, E.center.lng],
                                E.center.zoom
                              ),
                              void (d(e.zoom) && e.zoom > E.center.zoom
                                ? t.locate({ setView: !0, maxZoom: e.zoom })
                                : u(E.maxZoom)
                                  ? t.locate({ setView: !0, maxZoom: E.maxZoom })
                                  : t.locate({ setView: !0 })))
                            : void (
                              (A && p(e, t)) ||
                              ((x.settingCenterFromScope = !0),
                                t.setView([e.lat, e.lng], e.zoom),
                                l.notifyCenterChangedToBounds(x, t),
                                o(function () {
                                  x.settingCenterFromScope = !1;
                                }))
                            );
                        b.warn(v + " invalid 'center'");
                      }
                    },
                    !0
                  ),
                    t.whenReady(function () {
                      A = !0;
                    }),
                    t.on("moveend", function () {
                      c.resolve(),
                        l.notifyCenterUrlHashChanged(x, t, a, n.search()),
                        p(w, t) ||
                        x.settingCenterFromScope ||
                        ((x.settingCenterFromLeaflet = !0),
                          h(x, function (i) {
                            x.settingCenterFromScope ||
                              angular.extend(i[e], {
                                lat: t.getCenter().lat,
                                lng: t.getCenter().lng,
                                zoom: t.getZoom(),
                                autoDiscover: !1,
                              }),
                              l.notifyCenterChangedToBounds(x, t),
                              o(function () {
                                x.settingCenterFromLeaflet = !1;
                              });
                          }));
                    }),
                    !0 === w.autoDiscover &&
                    t.on("locationerror", function () {
                      b.warn(
                        v +
                        " The Geolocation API is unauthorized on this page."
                      ),
                        f(w)
                          ? (t.setView([w.lat, w.lng], w.zoom),
                            l.notifyCenterChangedToBounds(x, t))
                          : (t.setView(
                            [E.center.lat, E.center.lng],
                            E.center.zoom
                          ),
                            l.notifyCenterChangedToBounds(x, t));
                    });
                });
              },
            };
          },
        ];
      }),
        centerDirectiveTypes.forEach(function (e) {
          angular.module("ui-leaflet").directive(e, centerDirectives[e]);
        }),
        angular.module("ui-leaflet").directive("controls", [
          "leafletLogger",
          "leafletHelpers",
          "leafletControlHelpers",
          function (e, t, i) {
            var n = e;
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "?^leaflet",
              link: function (e, o, r, a) {
                if (a) {
                  var s = i.createControl,
                    l = i.isValidControlType,
                    c = a.getLeafletScope(),
                    u = t.isDefined,
                    d = t.isArray,
                    p = {},
                    h = t.errorHeader + " [Controls] ";
                  a.getMap().then(function (e) {
                    c.$watchCollection("controls", function (t) {
                      for (var i in p)
                        u(t[i]) ||
                          (e.hasControl(p[i]) && e.removeControl(p[i]),
                            delete p[i]);
                      for (var o in t) {
                        var r,
                          a = u(t[o].type) ? t[o].type : o;
                        if (!l(a))
                          return void n.error(
                            h + " Invalid control type: " + a + "."
                          );
                        if ("custom" !== a)
                          (r = s(a, t[o])), e.addControl(r), (p[o] = r);
                        else {
                          var c = t[o];
                          if (d(c))
                            for (var f in c) {
                              var g = c[f];
                              e.addControl(g),
                                (p[o] = u(p[o]) ? p[o].concat([g]) : [g]);
                            }
                          else e.addControl(c), (p[o] = c);
                        }
                      }
                    });
                  });
                }
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("decorations", [
          "leafletLogger",
          "leafletHelpers",
          function (e, t) {
            var i = e;
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "leaflet",
              link: function (e, n, o, r) {
                var a = r.getLeafletScope(),
                  s = t.PolylineDecoratorPlugin,
                  l = t.isDefined,
                  c = {};
                function u(e, t) {
                  if (l(e) && l(t) && l(t.coordinates) && l(t.patterns))
                    return (
                      e.setPaths(t.coordinates), e.setPatterns(t.patterns), e
                    );
                }
                r.getMap().then(function (e) {
                  a.$watch(
                    "decorations",
                    function (t) {
                      for (var n in c)
                        (l(t[n]) && angular.equals(t[n], c)) ||
                          (e.removeLayer(c[n]), delete c[n]);
                      for (var o in t) {
                        var r = t[o],
                          a =
                            (l((d = r)) &&
                              l(d.coordinates) &&
                              (s.isLoaded() ||
                                i.error(
                                  "[AngularJS - Leaflet] The PolylineDecorator Plugin is not loaded."
                                )),
                              L.polylineDecorator(d.coordinates));
                        l(a) && ((c[o] = a), e.addLayer(a), u(a, r));
                      }
                      var d;
                    },
                    !0
                  );
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("eventBroadcast", [
          "leafletLogger",
          "$rootScope",
          "leafletHelpers",
          "leafletMapEvents",
          "leafletIterators",
          function (e, t, i, n, o) {
            var r = e;
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "leaflet",
              link: function (e, t, a, s) {
                var l = i.isObject,
                  c = i.isDefined,
                  u = s.getLeafletScope(),
                  d = u.eventBroadcast,
                  p = n.getAvailableMapEvents(),
                  h = n.addEvents;
                s.getMap().then(function (e) {
                  var t = [],
                    i = "broadcast";
                  c(d.map)
                    ? l(d.map)
                      ? ("emit" !== d.map.logic && "broadcast" !== d.map.logic
                        ? r.warn(
                          "[AngularJS - Leaflet] Available event propagation logic are: 'emit' or 'broadcast'."
                        )
                        : (i = d.map.logic),
                        l(d.map.enable) && d.map.enable.length >= 0
                          ? o.each(d.map.enable, function (e) {
                            -1 === t.indexOf(e) &&
                              -1 !== p.indexOf(e) &&
                              t.push(e);
                          })
                          : r.warn(
                            "[AngularJS - Leaflet] event-broadcast.map.enable must be an object check your model."
                          ))
                      : r.warn(
                        "[AngularJS - Leaflet] event-broadcast.map must be an object check your model."
                      )
                    : (t = p),
                    h(e, t, "eventName", u, i);
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("geojson", [
          "leafletLogger",
          "$rootScope",
          "leafletData",
          "leafletHelpers",
          "leafletWatchHelpers",
          "leafletDirectiveControlsHelpers",
          "leafletIterators",
          "leafletGeoJsonEvents",
          function (e, t, i, n, o, r, a, s) {
            var l = o.maybeWatch,
              c = n.watchOptions,
              u = r.extend,
              d = n,
              p = a;
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "leaflet",
              link: function (e, t, o, r) {
                var a = n.isDefined,
                  h = r.getLeafletScope(),
                  f = {},
                  g = !1;
                r.getMap().then(function (e) {
                  var t = h.geojsonWatchOptions || c,
                    r =
                      d.isDefined(o.geojsonNested) &&
                      d.isTruthy(o.geojsonNested),
                    m = function () {
                      if (f) {
                        var t = function (t) {
                          a(t) && e.hasLayer(t) && e.removeLayer(t);
                        };
                        r
                          ? p.each(f, function (e) {
                            t(e);
                          })
                          : t(f);
                      }
                    },
                    v = function (t, r) {
                      var l = angular.copy(t);
                      if (a(l) && a(l.data)) {
                        var c = (function (e, t) {
                          return angular.isFunction(e.onEachFeature)
                            ? e.onEachFeature
                            : function (i, r) {
                              n.LabelPlugin.isLoaded() &&
                                a(i.properties.description) &&
                                r.bindLabel(i.properties.description),
                                s.bindEvents(o.id, r, null, i, h, t, {
                                  resetStyleOnMouseout:
                                    e.resetStyleOnMouseout,
                                  mapId: o.id,
                                });
                            };
                        })(l, r);
                        a(l.options) ||
                          (l.options = {
                            style: l.style,
                            filter: l.filter,
                            onEachFeature: c,
                            pointToLayer: l.pointToLayer,
                          });
                        var u = L.geoJson(l.data, l.options);
                        r && d.isString(r) ? (f[r] = u) : (f = u),
                          u.addTo(e),
                          g || ((g = !0), i.setGeoJSON(f, o.id));
                      }
                    },
                    b = function (e) {
                      if ((m(), r)) {
                        if (!e || !Object.keys(e).length) return;
                        p.each(e, function (e, t) {
                          v(e, t);
                        });
                      } else v(e);
                    };
                  u(o.id, "geojson", b, m),
                    l(h, "geojson", t, function (e) {
                      b(e);
                    });
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("layercontrol", [
          "$filter",
          "leafletLogger",
          "leafletData",
          "leafletHelpers",
          function (e, t, i, n) {
            var o = t;
            return {
              restrict: "E",
              scope: {
                icons: "=?",
                autoHideOpacity: "=?",
                showGroups: "=?",
                title: "@",
                baseTitle: "@",
                overlaysTitle: "@",
              },
              replace: !0,
              transclude: !1,
              require: "^leaflet",
              controller: [
                "$scope",
                "$element",
                "$sce",
                function (e, t, r) {
                  o.debug("[Angular Directive - Layers] layers", e, t);
                  var a = n.safeApply,
                    s = n.isDefined;
                  angular.extend(e, {
                    baselayer: "",
                    oldGroup: "",
                    layerProperties: {},
                    groupProperties: {},
                    rangeIsSupported: n.rangeIsSupported(),
                    changeBaseLayer: function (t, o) {
                      n.safeApply(e, function (n) {
                        (n.baselayer = t),
                          i.getMap().then(function (o) {
                            i.getLayers().then(function (i) {
                              if (!o.hasLayer(i.baselayers[t])) {
                                for (var r in n.layers.baselayers)
                                  (n.layers.baselayers[r].icon =
                                    n.icons.unradio),
                                    o.hasLayer(i.baselayers[r]) &&
                                    o.removeLayer(i.baselayers[r]);
                                o.addLayer(i.baselayers[t]),
                                  (n.layers.baselayers[t].icon = e.icons.radio);
                              }
                            });
                          });
                      }),
                        o.preventDefault();
                    },
                    moveLayer: function (t, i, n) {
                      var o = Object.keys(e.layers.baselayers).length;
                      if (i >= 1 + o && i <= e.overlaysArray.length + o) {
                        var r;
                        for (var s in e.layers.overlays)
                          if (e.layers.overlays[s].index === i) {
                            r = e.layers.overlays[s];
                            break;
                          }
                        r &&
                          a(e, function () {
                            (r.index = t.index), (t.index = i);
                          });
                      }
                      n.stopPropagation(), n.preventDefault();
                    },
                    initIndex: function (t, i) {
                      var n = Object.keys(e.layers.baselayers).length;
                      t.index = s(t.index) ? t.index : i + n + 1;
                    },
                    initGroup: function (t) {
                      e.groupProperties[t] = e.groupProperties[t]
                        ? e.groupProperties[t]
                        : {};
                    },
                    toggleOpacity: function (t, i) {
                      if (i.visible) {
                        if (
                          e.autoHideOpacity &&
                          !e.layerProperties[i.name].opacityControl
                        )
                          for (var n in e.layerProperties)
                            e.layerProperties[n].opacityControl = !1;
                        e.layerProperties[i.name].opacityControl =
                          !e.layerProperties[i.name].opacityControl;
                      }
                      t.stopPropagation(), t.preventDefault();
                    },
                    toggleLegend: function (t) {
                      e.layerProperties[t.name].showLegend =
                        !e.layerProperties[t.name].showLegend;
                    },
                    showLegend: function (t) {
                      return t.legend && e.layerProperties[t.name].showLegend;
                    },
                    unsafeHTML: function (e) {
                      return r.trustAsHtml(e);
                    },
                    getOpacityIcon: function (t) {
                      return t.visible &&
                        e.layerProperties[t.name].opacityControl
                        ? e.icons.close
                        : e.icons.open;
                    },
                    getGroupIcon: function (t) {
                      return t.visible ? e.icons.check : e.icons.uncheck;
                    },
                    changeOpacity: function (t) {
                      var n = e.layerProperties[t.name].opacity;
                      i.getMap().then(function (o) {
                        i.getLayers().then(function (i) {
                          var r;
                          for (var a in e.layers.overlays)
                            if (e.layers.overlays[a] === t) {
                              r = i.overlays[a];
                              break;
                            }
                          o.hasLayer(r) &&
                            (r.setOpacity && r.setOpacity(n / 100),
                              r.getLayers &&
                              r.eachLayer &&
                              r.eachLayer(function (e) {
                                e.setOpacity && e.setOpacity(n / 100);
                              }));
                        });
                      });
                    },
                    changeGroupVisibility: function (t) {
                      if (s(e.groupProperties[t])) {
                        var i = e.groupProperties[t].visible;
                        for (var n in e.layers.overlays) {
                          var o = e.layers.overlays[n];
                          o.group === t && (o.visible = i);
                        }
                      }
                    },
                  });
                  var l = t.get(0);
                  L.Browser.touch
                    ? L.DomEvent.on(l, "click", L.DomEvent.stopPropagation)
                    : (L.DomEvent.disableClickPropagation(l),
                      L.DomEvent.on(
                        l,
                        "mousewheel",
                        L.DomEvent.stopPropagation
                      ));
                },
              ],
              template:
                '<div class="angular-leaflet-control-layers" ng-show="overlaysArray.length"><h4 ng-if="title">{{ title }}</h4><div class="lf-baselayers"><h5 class="lf-title" ng-if="baseTitle">{{ baseTitle }}</h5><div class="lf-row" ng-repeat="(key, layer) in baselayersArray"><label class="lf-icon-bl" ng-click="changeBaseLayer(key, $event)"><input class="leaflet-control-layers-selector" type="radio" name="lf-radio" ng-show="false" ng-checked="baselayer === key" ng-value="key" /> <i class="lf-icon lf-icon-radio" ng-class="layer.icon"></i><div class="lf-text">{{layer.name}}</div></label></div></div><div class="lf-overlays"><h5 class="lf-title" ng-if="overlaysTitle">{{ overlaysTitle }}</h5><div class="lf-container"><div class="lf-row" ng-repeat="layer in (o = (overlaysArray | orderBy:\'index\':order))" ng-init="initIndex(layer, $index)"><label class="lf-icon-ol-group" ng-if="showGroups &amp;&amp; layer.group &amp;&amp; layer.group != o[$index-1].group"><input class="lf-control-layers-selector" type="checkbox" ng-show="false" ng-change="changeGroupVisibility(layer.group)" ng-model="groupProperties[layer.group].visible"/> <i class="lf-icon lf-icon-check" ng-class="getGroupIcon(groupProperties[layer.group])"></i><div class="lf-text">{{ layer.group }}</div></label><label class="lf-icon-ol"><input class="lf-control-layers-selector" type="checkbox" ng-show="false" ng-model="layer.visible"/> <i class="lf-icon lf-icon-check" ng-class="layer.icon"></i><div class="lf-text">{{layer.name}}</div></label><div class="lf-icons"><i class="lf-icon lf-up" ng-class="icons.up" ng-click="moveLayer(layer, layer.index - orderNumber, $event)"></i> <i class="lf-icon lf-down" ng-class="icons.down" ng-click="moveLayer(layer, layer.index + orderNumber, $event)"></i> <i class="lf-icon lf-toggle-legend" ng-class="icons.toggleLegend" ng-if="layer.legend" ng-click="toggleLegend(layer)"></i> <i class="lf-icon lf-open" ng-class="getOpacityIcon(layer)" ng-click="toggleOpacity($event, layer)"></i></div><div class="lf-legend" ng-if="showLegend(layer)" ng-bind-html="unsafeHTML(layer.legend)"></div><div class="lf-opacity clearfix" ng-if="layer.visible &amp;&amp; layerProperties[layer.name].opacityControl"><label ng-if="rangeIsSupported" class="pull-left" style="width: 50%">0</label><label ng-if="rangeIsSupported" class="pull-left text-right" style="width: 50%">100</label><input ng-if="rangeIsSupported" class="clearfix" type="range" min="0" max="100" class="lf-opacity-control" ng-model="layerProperties[layer.name].opacity" ng-change="changeOpacity(layer)"/><h6 ng-if="!rangeIsSupported">Range is not supported in this browser</h6></div></div></div></div></div>',
              link: function (e, t, o, r) {
                var a = n.isDefined,
                  s = r.getLeafletScope(),
                  l = s.layers;
                e.$watch("icons", function () {
                  var t = {
                    uncheck: "fa fa-square-o",
                    check: "fa fa-check-square-o",
                    radio: "fa fa-dot-circle-o",
                    unradio: "fa fa-circle-o",
                    up: "fa fa-angle-up",
                    down: "fa fa-angle-down",
                    open: "fa fa-angle-double-down",
                    close: "fa fa-angle-double-up",
                    toggleLegend: "fa fa-pencil-square-o",
                  };
                  a(e.icons)
                    ? (angular.extend(t, e.icons), angular.extend(e.icons, t))
                    : (e.icons = t);
                }),
                  (o.order =
                    !a(o.order) ||
                      ("normal" !== o.order && "reverse" !== o.order)
                      ? "normal"
                      : o.order),
                  (e.order = "normal" === o.order),
                  (e.orderNumber = "normal" === o.order ? -1 : 1),
                  (e.layers = l),
                  r.getMap().then(function (t) {
                    s.$watch("layers.baselayers", function (n) {
                      var o = {};
                      i.getLayers().then(function (i) {
                        var r;
                        for (r in n) {
                          var a = n[r];
                          (a.icon =
                            e.icons[
                            t.hasLayer(i.baselayers[r]) ? "radio" : "unradio"
                            ]),
                            (o[r] = a);
                        }
                        e.baselayersArray = o;
                      });
                    }),
                      s.$watch(
                        "layers.overlays",
                        function (t) {
                          var n = [],
                            o = {};
                          i.getLayers().then(function (i) {
                            var r;
                            for (r in t) {
                              var s = t[r];
                              (s.icon =
                                e.icons[s.visible ? "check" : "uncheck"]),
                                n.push(s),
                                a(e.layerProperties[s.name]) ||
                                (e.layerProperties[s.name] = {
                                  opacity: a(s.layerOptions.opacity)
                                    ? 100 * s.layerOptions.opacity
                                    : 100,
                                  opacityControl: !1,
                                  showLegend: !0,
                                }),
                                a(s.group) &&
                                (a(e.groupProperties[s.group]) ||
                                  (e.groupProperties[s.group] = {
                                    visible: !1,
                                  }),
                                  (o[s.group] = a(o[s.group])
                                    ? o[s.group]
                                    : { count: 0, visibles: 0 }),
                                  o[s.group].count++,
                                  s.visible && o[s.group].visibles++),
                                a(s.index) &&
                                i.overlays[r].setZIndex &&
                                i.overlays[r].setZIndex(t[r].index);
                            }
                            for (r in o)
                              e.groupProperties[r].visible =
                                o[r].visibles === o[r].count;
                            e.overlaysArray = n;
                          });
                        },
                        !0
                      );
                  });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("layers", [
          "leafletLogger",
          "$q",
          "leafletData",
          "leafletHelpers",
          "leafletLayerHelpers",
          "leafletControlHelpers",
          function (e, t, i, n, o, r) {
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "leaflet",
              controller: [
                "$scope",
                function (e) {
                  (e._leafletLayers = t.defer()),
                    (this.getLayers = function () {
                      return e._leafletLayers.promise;
                    });
                },
              ],
              link: function (e, t, a, s) {
                var l = n.isDefined,
                  c = {},
                  u = s.getLeafletScope(),
                  d = u.layers,
                  p = o.createLayer,
                  h = o.safeAddLayer,
                  f = o.safeRemoveLayer,
                  g = r.updateLayersControl,
                  m = !1;
                s.getMap().then(function (t) {
                  e._leafletLayers.resolve(c),
                    i.setLayers(c, a.id),
                    (c.baselayers = {}),
                    (c.overlays = {});
                  var n = a.id,
                    o = !1;
                  for (var r in d.baselayers) {
                    var s = p(d.baselayers[r]);
                    l(s)
                      ? ((c.baselayers[r] = s),
                        !0 === d.baselayers[r].top &&
                        (h(t, c.baselayers[r]), (o = !0)))
                      : delete d.baselayers[r];
                  }
                  for (r in (!o &&
                    Object.keys(c.baselayers).length > 0 &&
                    h(t, c.baselayers[Object.keys(d.baselayers)[0]]),
                    d.overlays)) {
                    d.overlays[r].type;
                    var v = p(d.overlays[r]);
                    l(v)
                      ? ((c.overlays[r] = v),
                        !0 === d.overlays[r].visible && h(t, c.overlays[r]))
                      : delete d.overlays[r];
                  }
                  u.$watch(
                    "layers.baselayers",
                    function (e, i) {
                      if (angular.equals(e, i))
                        return (m = g(t, n, m, e, d.overlays, c)), !0;
                      for (var o in c.baselayers)
                        (l(e[o]) && !e[o].doRefresh) ||
                          (t.hasLayer(c.baselayers[o]) &&
                            t.removeLayer(c.baselayers[o]),
                            delete c.baselayers[o],
                            e[o] && e[o].doRefresh && (e[o].doRefresh = !1));
                      for (var r in e)
                        if (l(c.baselayers[r]))
                          !0 !== e[r].top || t.hasLayer(c.baselayers[r])
                            ? !1 === e[r].top &&
                            t.hasLayer(c.baselayers[r]) &&
                            t.removeLayer(c.baselayers[r])
                            : h(t, c.baselayers[r]);
                        else {
                          var a = p(e[r]);
                          l(a) &&
                            ((c.baselayers[r] = a),
                              !0 === e[r].top && h(t, c.baselayers[r]));
                        }
                      var s = !1;
                      for (var u in c.baselayers)
                        if (t.hasLayer(c.baselayers[u])) {
                          s = !0;
                          break;
                        }
                      !s &&
                        Object.keys(c.baselayers).length > 0 &&
                        h(t, c.baselayers[Object.keys(c.baselayers)[0]]),
                        (m = g(t, n, m, e, d.overlays, c));
                    },
                    !0
                  ),
                    u.$watch(
                      "layers.overlays",
                      function (e, i) {
                        if (angular.equals(e, i))
                          return (m = g(t, n, m, d.baselayers, e, c)), !0;
                        for (var o in c.overlays)
                          if (!l(e[o]) || e[o].doRefresh) {
                            if (t.hasLayer(c.overlays[o])) {
                              var r = l(e[o]) ? e[o].layerOptions : null;
                              f(t, c.overlays[o], r);
                            }
                            delete c.overlays[o],
                              e[o] && e[o].doRefresh && (e[o].doRefresh = !1);
                          }
                        for (var a in e) {
                          if (l(c.overlays[a]))
                            e[a].visible && !t.hasLayer(c.overlays[a])
                              ? h(t, c.overlays[a])
                              : !1 === e[a].visible &&
                              t.hasLayer(c.overlays[a]) &&
                              f(t, c.overlays[a], e[a].layerOptions);
                          else {
                            var s = p(e[a]);
                            if (!l(s)) continue;
                            (c.overlays[a] = s),
                              !0 === e[a].visible && h(t, c.overlays[a]);
                          }
                          e[a].visible &&
                            t._loaded &&
                            e[a].data &&
                            "heatmap" === e[a].type &&
                            (c.overlays[a].setData(e[a].data),
                              c.overlays[a].update());
                        }
                        m = g(t, n, m, d.baselayers, e, c);
                      },
                      !0
                    );
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("legend", [
          "leafletLogger",
          "$http",
          "$timeout",
          "leafletHelpers",
          "leafletLegendHelpers",
          function (e, t, i, n, o) {
            var r = e,
              a = n.errorHeader + " [Legend] ";
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "leaflet",
              transclude: !1,
              link: function (e, t, i, s) {
                var l,
                  c,
                  u,
                  d,
                  p = n.isArray,
                  h = n.isString,
                  f = n.isDefined,
                  g = n.isFunction,
                  m = s.getLeafletScope(),
                  v = m.legend;
                m.$watch(
                  "legend",
                  function (e) {
                    f(e) &&
                      ((l = e.legendClass ? e.legendClass : "legend"),
                        (c = e.position || "bottomright"),
                        (d = e.type || "arcgis"));
                  },
                  !0
                );
                var b = function (e, t, i) {
                  t &&
                    t.layers &&
                    t.layers.length > 0 &&
                    (f(u)
                      ? o.updateLegend(u.getContainer(), t, d, i)
                      : (((u = L.control({ position: c })).onAdd =
                        o.getOnAddLegend(t, l, d, i)),
                        u.addTo(e)),
                      f(v.loadedData) && g(v.loadedData) && v.loadedData());
                };
                s.getMap().then(function (e) {
                  m.$watch("legend", function (t) {
                    f(t)
                      ? f(t.url) ||
                        "arcgis" !== d ||
                        (p(t.colors) &&
                          p(t.labels) &&
                          t.colors.length === t.labels.length)
                        ? f(t.url)
                          ? r.info(a + " loading legend service.")
                          : (f(u) && (u.removeFrom(e), (u = null)),
                            (u = L.control({ position: c })),
                            "arcgis" === d &&
                            (u.onAdd = o.getOnAddArrayLegend(t, l)),
                            u.addTo(e))
                        : r.warn(
                          a + " legend.colors and legend.labels must be set."
                        )
                      : f(u) && (u.removeFrom(e), (u = null));
                  }),
                    m.$watch("legend.url", function (t) {
                      if (f(t))
                        if (p(t) || h(t))
                          for (
                            var n,
                            s = h(t) ? [t] : t,
                            l = function (i, o) {
                              return function (l) {
                                f(l.data.error)
                                  ? r.warn(
                                    a + "Error loadin legend from: " + o,
                                    l.data.error.message
                                  )
                                  : n && n.layers && n.layers.length > 0
                                    ? (n.layers = n.layers.concat(
                                      l.data.layers
                                    ))
                                    : (n = l.data),
                                  i === s.length - 1 && b(e, n, t);
                              };
                            },
                            c = function (e) {
                              r.warn(a + " legend.url not loaded.", e);
                            },
                            u = 0;
                            u < s.length;
                            u++
                          )
                            o.addLegendURL(i.id, { url: s[u], method: "GET" })
                              .then(l(u))
                              .catch(c);
                        else
                          r.warn(a + " legend.url must be an array or string.");
                    }),
                    m.$watch(
                      "legend.legendData",
                      function (t) {
                        r.debug("legendData", t),
                          !f(m.legend.url) && f(t) && b(e, t);
                      },
                      !0
                    );
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("markers", [
          "leafletLogger",
          "$rootScope",
          "$q",
          "leafletData",
          "leafletHelpers",
          "leafletMapDefaults",
          "leafletMarkersHelpers",
          "leafletMarkerEvents",
          "leafletIterators",
          "leafletWatchHelpers",
          "leafletDirectiveControlsHelpers",
          function (e, t, i, n, o, r, a, s, l, c, u) {
            var d = o.isDefined,
              p = o.errorHeader,
              h = o,
              f = o.isString,
              g = a.addMarkerWatcher,
              m = a.updateMarker,
              v = a.listenMarkerEvents,
              b = a.addMarkerToGroup,
              y = a.createMarker,
              x = a.deleteMarker,
              w = a.getModelFromModels,
              _ = a.getLayerModels,
              A = l,
              E = o.watchOptions,
              S = c.maybeWatch,
              T = u.extend,
              C = e,
              k = function (e, t, i) {
                if (Object.keys(e).length) {
                  if (i && f(i)) {
                    if (!e[i] || !Object.keys(e[i]).length) return;
                    return e[i][t];
                  }
                  return e[t];
                }
              },
              D = function (e, t, i, n) {
                return (
                  n && f(n)
                    ? (d(t[n]) || (t[n] = {}), (t[n][i] = e))
                    : (t[i] = e),
                  e
                );
              },
              I = function (e, t, i, n, o, r) {
                if (!f(e))
                  return C.error(p + " A layername must be a string"), !1;
                if (!d(t))
                  return (
                    C.error(
                      p +
                      " You must add layers to the directive if the markers are going to use this functionality."
                    ),
                    !1
                  );
                if (!d(t.overlays) || !d(t.overlays[e]))
                  return (
                    C.error(
                      p +
                      ' A marker can only be added to a layer of type "group"'
                    ),
                    !1
                  );
                var a = t.overlays[e];
                return a instanceof L.LayerGroup || a instanceof L.FeatureGroup
                  ? (a.addLayer(n),
                    !o && r.hasLayer(n) && !0 === i.focus && n.openPopup(),
                    !0)
                  : (C.error(
                    p +
                    ' Adding a marker to an overlay needs a overlay of the type "group" or "featureGroup"'
                  ),
                    !1);
              },
              P = function (e, t, i, n, o, r, a, l, c, u) {
                for (var f in t)
                  if (!u[f])
                    if (-1 === f.search("-")) {
                      var x = h.copy(t[f]),
                        _ = h.getObjectDotPath(c ? [c, f] : [f]),
                        A = k(r, f, c);
                      if (d(A)) {
                        var E = w(i, f, c);
                        m(x, E, A, _, a, o, n);
                      } else {
                        var S = y(x),
                          T = (x ? x.layer : void 0) || c;
                        if (!d(S)) {
                          C.error(
                            p +
                            " Received invalid data on the marker " +
                            f +
                            "."
                          );
                          continue;
                        }
                        if (
                          (D(S, r, f, c),
                            d(x.message) &&
                            S.bindPopup(x.message, x.popupOptions),
                            d(x.group))
                        ) {
                          var L = d(x.groupOption) ? x.groupOption : null;
                          b(S, x.group, L, n);
                        }
                        if (
                          (h.LabelPlugin.isLoaded() &&
                            d(x.label) &&
                            d(x.label.message) &&
                            S.bindLabel(x.label.message, x.label.options),
                            d(x) && (d(x.layer) || d(c)))
                        ) {
                          if (!I(T, o, x, S, l.individual.doWatch, n)) continue;
                        } else
                          d(x.group) ||
                            (n.addLayer(S),
                              l.individual.doWatch ||
                              !0 !== x.focus ||
                              S.openPopup());
                        l.individual.doWatch &&
                          g(S, _, a, o, n, l.individual.isDeep),
                          v(S, x, a, l.individual.doWatch, n),
                          s.bindEvents(e, S, _, x, a, T);
                      }
                    } else
                      C.error(
                        'The marker can\'t use a "-" on his key name: "' +
                        f +
                        '".'
                      );
              },
              O = function (e, t, i, n, o) {
                var r,
                  a,
                  s = !1,
                  l = !1,
                  c = d(t);
                for (var u in i)
                  s || (C.debug(p + "[markers] destroy: "), (s = !0)),
                    c &&
                    ((a = e[u]), (r = t[u]), (l = angular.equals(a, r) && n)),
                    (d(e) &&
                      Object.keys(e).length &&
                      d(e[u]) &&
                      Object.keys(e[u]).length &&
                      !l) ||
                    (o && h.isFunction(o) && o(a, r, u));
              },
              M = function (e, t, i, n, o) {
                O(e, t, i, !1, function (e, t, r) {
                  C.debug(p + "[marker] is deleting marker: " + r),
                    x(i[r], n, o),
                    delete i[r];
                });
              },
              N = function (e, t, i) {
                var n = {};
                return (
                  O(e, t, i, !0, function (e, t, i) {
                    C.debug(p + "[marker] is already rendered, marker: " + i),
                      (n[i] = e);
                  }),
                  n
                );
              };
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: ["leaflet", "?layers"],
              link: function (e, t, o, r) {
                var a = r[0],
                  s = a.getLeafletScope();
                a.getMap().then(function (e) {
                  var t,
                    a = {};
                  t = d(r[1])
                    ? r[1].getLayers
                    : function () {
                      var e = i.defer();
                      return e.resolve(), e.promise;
                    };
                  var l = s.markersWatchOptions || E;
                  d(o.watchMarkers) &&
                    (l.doWatch = l.individual.doWatch =
                      !d(o.watchMarkers) || h.isTruthy(o.watchMarkers));
                  var c = d(o.markersNested) && h.isTruthy(o.markersNested);
                  t().then(function (t) {
                    var i = function (i, n) {
                      c
                        ? A.each(i, function (i, o) {
                          var r = _(n, o);
                          M(i, r, a[o], e, t);
                        })
                        : M(i, n, a, e, t);
                    },
                      r = function (n, r) {
                        i(n, r);
                        var u = null;
                        c
                          ? A.each(n, function (i, c) {
                            var d = _(r, c),
                              p = _(n, c);
                            (u = N(p, d, a[c])),
                              P(o.id, i, r, e, t, a, s, l, c, u);
                          })
                          : ((u = N(n, r, a)),
                            P(o.id, n, r, e, t, a, s, l, void 0, u));
                      };
                    T(o.id, "markers", r, i),
                      n.setMarkers(a, o.id),
                      S(s, "markers", l, function (e, t) {
                        r(e, t);
                      });
                  });
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("maxbounds", [
          "leafletLogger",
          "leafletMapDefaults",
          "leafletBoundsHelpers",
          "leafletHelpers",
          function (e, t, i, n) {
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "leaflet",
              link: function (e, t, o, r) {
                var a = r.getLeafletScope(),
                  s = i.isValidBounds,
                  l = n.isNumber;
                r.getMap().then(function (e) {
                  a.$watch("maxbounds", function (t) {
                    if (s(t)) {
                      var n = i.createLeafletBounds(t);
                      l(t.pad) && (n = n.pad(t.pad)),
                        e.setMaxBounds(n),
                        o.center || o.lfCenter || e.fitBounds(n);
                    } else e.setMaxBounds();
                  });
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("paths", [
          "leafletLogger",
          "$q",
          "leafletData",
          "leafletMapDefaults",
          "leafletHelpers",
          "leafletPathsHelpers",
          "leafletPathEvents",
          function (e, t, i, n, o, r, a) {
            var s = e;
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: ["leaflet", "?layers"],
              link: function (e, l, c, u) {
                var d = u[0],
                  p = o.isDefined,
                  h = o.isString,
                  f = d.getLeafletScope(),
                  g = f.paths,
                  m = r.createPath,
                  v = a.bindPathEvents,
                  b = r.setPathOptions;
                d.getMap().then(function (e) {
                  var r,
                    a = n.getDefaults(c.id);
                  (r = p(u[1])
                    ? u[1].getLayers
                    : function () {
                      var e = t.defer();
                      return e.resolve(), e.promise;
                    }),
                    p(g) &&
                    r().then(function (t) {
                      var n = {};
                      i.setPaths(n, c.id);
                      var r = !p(c.watchPaths) || "true" === c.watchPaths,
                        l = function (i, n) {
                          var o = f.$watch(
                            'paths["' + n + '"]',
                            function (n, r) {
                              if (!p(n)) {
                                if (p(r.layer))
                                  for (var a in t.overlays) {
                                    t.overlays[a].removeLayer(i);
                                  }
                                return e.removeLayer(i), void o();
                              }
                              b(i, n.type, n);
                            },
                            !0
                          );
                        };
                      f.$watchCollection("paths", function (i) {
                        for (var u in n)
                          p(i[u]) || (e.removeLayer(n[u]), delete n[u]);
                        for (var d in i)
                          if (0 !== d.search("\\$"))
                            if (-1 === d.search("-")) {
                              if (!p(n[d])) {
                                var g = i[d],
                                  y = m(d, i[d], a);
                                if (
                                  (p(y) &&
                                    p(g.message) &&
                                    y.bindPopup(g.message, g.popupOptions),
                                    o.LabelPlugin.isLoaded() &&
                                    p(g.label) &&
                                    p(g.label.message) &&
                                    y.bindLabel(
                                      g.label.message,
                                      g.label.options
                                    ),
                                    p(g) && p(g.layer))
                                ) {
                                  if (!h(g.layer)) {
                                    s.error(
                                      "[AngularJS - Leaflet] A layername must be a string"
                                    );
                                    continue;
                                  }
                                  if (!p(t)) {
                                    s.error(
                                      "[AngularJS - Leaflet] You must add layers to the directive if the markers are going to use this functionality."
                                    );
                                    continue;
                                  }
                                  if (
                                    !p(t.overlays) ||
                                    !p(t.overlays[g.layer])
                                  ) {
                                    s.error(
                                      '[AngularJS - Leaflet] A path can only be added to a layer of type "group"'
                                    );
                                    continue;
                                  }
                                  var x = t.overlays[g.layer];
                                  if (
                                    !(
                                      x instanceof L.LayerGroup ||
                                      x instanceof L.FeatureGroup
                                    )
                                  ) {
                                    s.error(
                                      '[AngularJS - Leaflet] Adding a path to an overlay needs a overlay of the type "group" or "featureGroup"'
                                    );
                                    continue;
                                  }
                                  (n[d] = y),
                                    x.addLayer(y),
                                    r ? l(y, d) : b(y, g.type, g);
                                } else
                                  p(y) &&
                                    ((n[d] = y),
                                      e.addLayer(y),
                                      r ? l(y, d) : b(y, g.type, g));
                                v(c.id, y, d, g, f);
                              }
                            } else
                              s.error(
                                '[AngularJS - Leaflet] The path name "' +
                                d +
                                '" is not valid. It must not include "-" and a number.'
                              );
                      });
                    });
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").directive("tiles", [
          "leafletLogger",
          "leafletData",
          "leafletMapDefaults",
          "leafletHelpers",
          function (e, t, i, n) {
            var o = e;
            return {
              restrict: "A",
              scope: !1,
              replace: !1,
              require: "leaflet",
              link: function (e, r, a, s) {
                var l = n.isDefined,
                  c = s.getLeafletScope(),
                  u = c.tiles;
                l(u) && l(u.url)
                  ? s.getMap().then(function (e) {
                    var n,
                      o = i.getDefaults(a.id);
                    c.$watch(
                      "tiles",
                      function (i) {
                        var r = o.tileLayerOptions,
                          s = o.tileLayer;
                        if (l(i.url) || !l(n))
                          return l(n)
                            ? l(i.url) &&
                              l(i.options) &&
                              !angular.equals(i.options, r)
                              ? (e.removeLayer(n),
                                (r = o.tileLayerOptions),
                                angular.copy(i.options, r),
                                (s = i.url),
                                (n = L.tileLayer(s, r)).addTo(e),
                                void t.setTiles(n, a.id))
                              : void (l(i.url) && n.setUrl(i.url))
                            : (l(i.options) && angular.copy(i.options, r),
                              l(i.url) && (s = i.url),
                              (n = L.tileLayer(s, r)).addTo(e),
                              void t.setTiles(n, a.id));
                        e.removeLayer(n);
                      },
                      !0
                    );
                  })
                  : o.warn(
                    "[AngularJS - Leaflet] The 'tiles' definition doesn't have the 'url' property."
                  );
              },
            };
          },
        ]),
        ["markers", "geojson"].forEach(function (e) {
          angular.module("ui-leaflet").directive(e + "WatchOptions", [
            "$log",
            "$rootScope",
            "$q",
            "leafletData",
            "leafletHelpers",
            function (t, i, n, o, r) {
              var a = r.isDefined,
                s = r.errorHeader,
                l = r.isObject,
                c = r.watchOptions,
                u = t;
              return {
                restrict: "A",
                scope: !1,
                replace: !1,
                require: ["leaflet"],
                link: function (t, i, n, o) {
                  var r = o[0],
                    d = r.getLeafletScope();
                  r.getMap().then(function () {
                    a(t[e + "WatchOptions"]) &&
                      (l(t[e + "WatchOptions"])
                        ? angular.extend(c, t[e + "WatchOptions"])
                        : u.error(
                          s + "[" + e + "WatchOptions] is not an object"
                        ),
                        (d[e + "WatchOptions"] = c));
                  });
                },
              };
            },
          ]);
        }),
        angular
          .module("ui-leaflet")
          .factory("leafletEventsHelpersFactory", [
            "$rootScope",
            "$q",
            "leafletLogger",
            "leafletHelpers",
            function (e, t, i, n) {
              var o = n.safeApply,
                r = n.isDefined,
                a = n.isObject,
                s = n.isArray,
                l = n.errorHeader,
                c = i,
                u = function (e, t) {
                  (this.rootBroadcastName = e),
                    c.debug(
                      "leafletEventsHelpersFactory: lObjectType: " +
                      t +
                      "rootBroadcastName: " +
                      e
                    ),
                    (this.lObjectType = t);
                };
              return (
                (u.prototype.getAvailableEvents = function () {
                  return [];
                }),
                (u.prototype.genDispatchEvent = function (
                  e,
                  t,
                  i,
                  n,
                  o,
                  r,
                  a,
                  s,
                  l
                ) {
                  var u = this;
                  return (
                    (e = e || "") && (e = "." + e),
                    function (d) {
                      var p = u.rootBroadcastName + e + "." + t;
                      c.debug(p), u.fire(n, p, i, d, d.target || o, a, r, s, l);
                    }
                  );
                }),
                (u.prototype.fire = function (t, i, n, a, s, l, c, u, d) {
                  o(t, function () {
                    var o = {
                      leafletEvent: a,
                      leafletObject: s,
                      modelName: c,
                      model: l,
                    };
                    r(u) && angular.extend(o, { layerName: u }),
                      "emit" === n ? t.$emit(i, o) : e.$broadcast(i, o);
                  });
                }),
                (u.prototype.bindEvents = function (e, t, i, n, o, u, d) {
                  var p = [],
                    h = this;
                  if (r(o.eventBroadcast))
                    if (a(o.eventBroadcast))
                      if (r(o.eventBroadcast[h.lObjectType]))
                        if (a(o.eventBroadcast[h.lObjectType])) {
                          r(o.eventBroadcast[this.lObjectType].logic) &&
                            "emit" !== o.eventBroadcast[h.lObjectType].logic &&
                            "broadcast" !==
                            o.eventBroadcast[h.lObjectType].logic &&
                            c.warn(
                              l +
                              "Available event propagation logic are: 'emit' or 'broadcast'."
                            );
                          var f = !1,
                            g = !1;
                          r(o.eventBroadcast[h.lObjectType].enable) &&
                            s(o.eventBroadcast[h.lObjectType].enable) &&
                            (f = !0),
                            r(o.eventBroadcast[h.lObjectType].disable) &&
                            s(o.eventBroadcast[h.lObjectType].disable) &&
                            (g = !0),
                            f && g
                              ? c.warn(
                                l +
                                "can not enable and disable events at the same time"
                              )
                              : f || g
                                ? f
                                  ? o.eventBroadcast[
                                    this.lObjectType
                                  ].enable.forEach(function (e) {
                                    -1 !== p.indexOf(e)
                                      ? c.warn(
                                        l +
                                        "This event " +
                                        e +
                                        " is already enabled"
                                      )
                                      : -1 === h.getAvailableEvents().indexOf(e)
                                        ? c.warn(
                                          l +
                                          "This event " +
                                          e +
                                          " does not exist"
                                        )
                                        : p.push(e);
                                  })
                                  : ((p = this.getAvailableEvents()),
                                    o.eventBroadcast[
                                      h.lObjectType
                                    ].disable.forEach(function (e) {
                                      var t = p.indexOf(e);
                                      -1 === t
                                        ? c.warn(
                                          l +
                                          "This event " +
                                          e +
                                          " does not exist or has been already disabled"
                                        )
                                        : p.splice(t, 1);
                                    }))
                                : c.warn(l + "must enable or disable events");
                        } else
                          c.warn(
                            l +
                            "event-broadcast." +
                            [h.lObjectType] +
                            " must be an object check your model."
                          );
                      else p = this.getAvailableEvents();
                    else
                      c.error(
                        l +
                        "event-broadcast must be an object check your model."
                      );
                  else p = this.getAvailableEvents();
                  return (
                    p.forEach(function (r) {
                      t.on(
                        r,
                        h.genDispatchEvent(e, r, "emit", o, t, i, n, u, d)
                      );
                    }),
                    "emit"
                  );
                }),
                u
              );
            },
          ])
          .service("leafletEventsHelpers", [
            "leafletEventsHelpersFactory",
            function (e) {
              return new e();
            },
          ]),
        angular.module("ui-leaflet").factory("leafletGeoJsonEvents", [
          "$rootScope",
          "$q",
          "leafletLogger",
          "leafletHelpers",
          "leafletEventsHelpersFactory",
          "leafletData",
          function (e, t, i, n, o, r) {
            var a = n.safeApply,
              s = o,
              l = function () {
                s.call(this, "leafletDirectiveGeoJson", "geojson");
              };
            return (
              ((l.prototype = new s()).genDispatchEvent = function (
                t,
                i,
                n,
                o,
                l,
                c,
                u,
                d,
                p
              ) {
                var h = s.prototype.genDispatchEvent.call(
                  this,
                  t,
                  i,
                  n,
                  o,
                  l,
                  c,
                  u,
                  d
                ),
                  f = this;
                return function (t) {
                  "mouseout" === i &&
                    (p.resetStyleOnMouseout &&
                      r.getGeoJSON(p.mapId).then(function (e) {
                        (d ? e[d] : e).resetStyle(t.target);
                      }),
                      a(o, function () {
                        e.$broadcast(f.rootBroadcastName + ".mouseout", t);
                      })),
                    h(t);
                };
              }),
              (l.prototype.getAvailableEvents = function () {
                return ["click", "dblclick", "mouseover", "mouseout"];
              }),
              new l()
            );
          },
        ]),
        angular.module("ui-leaflet").factory("leafletLabelEvents", [
          "$rootScope",
          "$q",
          "leafletLogger",
          "leafletHelpers",
          "leafletEventsHelpersFactory",
          function (e, t, i, n, o) {
            var r = n,
              a = o,
              s = function () {
                a.call(this, "leafletDirectiveLabel", "markers");
              };
            return (
              ((s.prototype = new a()).genDispatchEvent = function (
                e,
                t,
                i,
                n,
                o,
                r,
                s,
                l
              ) {
                var c = r.replace("markers.", "");
                return a.prototype.genDispatchEvent.call(
                  this,
                  e,
                  t,
                  i,
                  n,
                  o,
                  c,
                  s,
                  l
                );
              }),
              (s.prototype.getAvailableEvents = function () {
                return [
                  "click",
                  "dblclick",
                  "mousedown",
                  "mouseover",
                  "mouseout",
                  "contextmenu",
                ];
              }),
              (s.prototype.genEvents = function (e, t, i, n, o, a, s, l) {
                var c = this,
                  u = this.getAvailableEvents(),
                  d = r.getObjectArrayPath("markers." + a);
                u.forEach(function (t) {
                  o.label.on(
                    t,
                    c.genDispatchEvent(e, t, i, n, o.label, d, s, l)
                  );
                });
              }),
              (s.prototype.bindEvents = function (e, t, i, n, o, r) { }),
              new s()
            );
          },
        ]),
        angular.module("ui-leaflet").factory("leafletMapEvents", [
          "$rootScope",
          "$q",
          "leafletLogger",
          "leafletHelpers",
          "leafletEventsHelpers",
          "leafletIterators",
          function (e, t, i, n, o, r) {
            var a = n.isDefined,
              s = o.fire,
              l = function (e, t, n, o) {
                return (
                  o && (o += "."),
                  function (r) {
                    var a = "leafletDirectiveMap." + o + t;
                    i.debug(a), s(e, a, n, r, r.target, e);
                  }
                );
              };
            return {
              getAvailableMapEvents: function () {
                return [
                  "click",
                  "dblclick",
                  "mousedown",
                  "mouseup",
                  "mouseover",
                  "mouseout",
                  "mousemove",
                  "contextmenu",
                  "focus",
                  "blur",
                  "preclick",
                  "load",
                  "unload",
                  "viewreset",
                  "movestart",
                  "move",
                  "moveend",
                  "dragstart",
                  "drag",
                  "dragend",
                  "zoomstart",
                  "zoomanim",
                  "zoomend",
                  "zoomlevelschange",
                  "resize",
                  "autopanstart",
                  "layeradd",
                  "layerremove",
                  "baselayerchange",
                  "overlayadd",
                  "overlayremove",
                  "locationfound",
                  "locationerror",
                  "popupopen",
                  "popupclose",
                  "draw:created",
                  "draw:edited",
                  "draw:deleted",
                  "draw:drawstart",
                  "draw:drawstop",
                  "draw:editstart",
                  "draw:editstop",
                  "draw:deletestart",
                  "draw:deletestop",
                ];
              },
              genDispatchMapEvent: l,
              notifyCenterChangedToBounds: function (e) {
                e.$broadcast("boundsChanged");
              },
              notifyCenterUrlHashChanged: function (e, t, i, n) {
                if (a(i.urlHashCenter)) {
                  var o = t.getCenter(),
                    r =
                      o.lat.toFixed(4) +
                      ":" +
                      o.lng.toFixed(4) +
                      ":" +
                      t.getZoom();
                  (a(n.c) && n.c === r) || e.$emit("centerUrlHash", r);
                }
              },
              addEvents: function (e, t, i, n, o) {
                r.each(t, function (t) {
                  var r = {};
                  (r[i] = t), e.on(t, l(n, t, o, e._container.id || ""), r);
                });
              },
            };
          },
        ]),
        angular.module("ui-leaflet").factory("leafletMarkerEvents", [
          "$rootScope",
          "$q",
          "leafletLogger",
          "leafletHelpers",
          "leafletEventsHelpersFactory",
          "leafletLabelEvents",
          function (e, t, i, n, o, r) {
            var a = n.safeApply,
              s = n.isDefined,
              l = n,
              c = r,
              u = o,
              d = function () {
                u.call(this, "leafletDirectiveMarker", "markers");
              };
            return (
              ((d.prototype = new u()).genDispatchEvent = function (
                t,
                i,
                n,
                o,
                r,
                s,
                l,
                c
              ) {
                var d = u.prototype.genDispatchEvent.call(
                  this,
                  t,
                  i,
                  n,
                  o,
                  r,
                  s,
                  l,
                  c
                );
                return function (t) {
                  "click" === i
                    ? a(o, function () {
                      e.$broadcast("leafletDirectiveMarkersClick", s);
                    })
                    : "dragend" === i &&
                    (a(o, function () {
                      (l.lat = r.getLatLng().lat),
                        (l.lng = r.getLatLng().lng);
                    }),
                      l.message && !0 === l.focus && r.openPopup()),
                    d(t);
                };
              }),
              (d.prototype.getAvailableEvents = function () {
                return [
                  "click",
                  "dblclick",
                  "mousedown",
                  "mouseover",
                  "mouseout",
                  "contextmenu",
                  "dragstart",
                  "drag",
                  "dragend",
                  "move",
                  "remove",
                  "popupopen",
                  "popupclose",
                  "touchend",
                  "touchstart",
                  "touchmove",
                  "touchcancel",
                  "touchleave",
                ];
              }),
              (d.prototype.bindEvents = function (e, t, i, n, o, r) {
                var a = u.prototype.bindEvents.call(this, e, t, i, n, o, r);
                l.LabelPlugin.isLoaded() &&
                  s(t.label) &&
                  c.genEvents(e, i, a, o, t, n, r);
              }),
              new d()
            );
          },
        ]),
        angular.module("ui-leaflet").factory("leafletPathEvents", [
          "$rootScope",
          "$q",
          "leafletLogger",
          "leafletHelpers",
          "leafletLabelEvents",
          "leafletEventsHelpers",
          function (e, t, i, n, o, r) {
            var a = n.isDefined,
              s = n.isObject,
              l = n,
              c = n.errorHeader,
              u = o,
              d = r.fire,
              p = i,
              h = function (e, t, i, n, o, r, a, s) {
                return (
                  (e = e || "") && (e = "." + e),
                  function (l) {
                    var c = "leafletDirectivePath" + e + "." + t;
                    p.debug(c), d(n, c, i, l, l.target || o, a, r, s);
                  }
                );
              },
              f = function () {
                return [
                  "click",
                  "dblclick",
                  "mousedown",
                  "mouseover",
                  "mouseout",
                  "contextmenu",
                  "add",
                  "remove",
                  "popupopen",
                  "popupclose",
                ];
              };
            return {
              getAvailablePathEvents: f,
              bindPathEvents: function (e, t, i, n, o) {
                var r,
                  d,
                  g = [],
                  m = "broadcast";
                if (a(o.eventBroadcast))
                  if (s(o.eventBroadcast))
                    if (a(o.eventBroadcast.path))
                      if (s(o.eventBroadcast.paths))
                        p.warn(
                          c +
                          "event-broadcast.path must be an object check your model."
                        );
                      else {
                        void 0 !== o.eventBroadcast.path.logic &&
                          null !== o.eventBroadcast.path.logic &&
                          ("emit" !== o.eventBroadcast.path.logic &&
                            "broadcast" !== o.eventBroadcast.path.logic
                            ? p.warn(
                              c +
                              "Available event propagation logic are: 'emit' or 'broadcast'."
                            )
                            : "emit" === o.eventBroadcast.path.logic &&
                            (m = "emit"));
                        var v = !1,
                          b = !1;
                        if (
                          (void 0 !== o.eventBroadcast.path.enable &&
                            null !== o.eventBroadcast.path.enable &&
                            "object" == typeof o.eventBroadcast.path.enable &&
                            (v = !0),
                            void 0 !== o.eventBroadcast.path.disable &&
                            null !== o.eventBroadcast.path.disable &&
                            "object" == typeof o.eventBroadcast.path.disable &&
                            (b = !0),
                            v && b)
                        )
                          p.warn(
                            c +
                            "can not enable and disable events at the same time"
                          );
                        else if (v || b)
                          if (v)
                            for (
                              r = 0;
                              r < o.eventBroadcast.path.enable.length;
                              r++
                            )
                              (d = o.eventBroadcast.path.enable[r]),
                                -1 !== g.indexOf(d)
                                  ? p.warn(
                                    c +
                                    "This event " +
                                    d +
                                    " is already enabled"
                                  )
                                  : -1 === f().indexOf(d)
                                    ? p.warn(
                                      c + "This event " + d + " does not exist"
                                    )
                                    : g.push(d);
                          else
                            for (
                              g = f(), r = 0;
                              r < o.eventBroadcast.path.disable.length;
                              r++
                            ) {
                              d = o.eventBroadcast.path.disable[r];
                              var y = g.indexOf(d);
                              -1 === y
                                ? p.warn(
                                  c +
                                  "This event " +
                                  d +
                                  " does not exist or has been already disabled"
                                )
                                : g.splice(y, 1);
                            }
                        else p.warn(c + "must enable or disable events");
                      }
                    else g = f();
                  else
                    p.error(
                      c + "event-broadcast must be an object check your model."
                    );
                else g = f();
                for (r = 0; r < g.length; r++)
                  (d = g[r]), t.on(d, h(e, d, m, o, g, i));
                l.LabelPlugin.isLoaded() &&
                  a(t.label) &&
                  u.genEvents(e, i, m, o, t, n);
              },
            };
          },
        ]);
    })(angular);
  },
  function (e, t, i) {
    (function (i) {
      /**
       * oclazyload - Load modules on demand (lazy load) with angularJS
       * @version v1.0.10
       * @link https://github.com/ocombe/ocLazyLoad
       * @license MIT
       * @author Olivier Combe <olivier.combe@gmail.com>
       */
      !(function (i, n) {
        "use strict";
        var o = ["ng", "oc.lazyLoad"],
          r = {},
          a = [],
          s = [],
          l = [],
          c = [],
          u = i.noop,
          d = {},
          p = [];
        i.module("oc.lazyLoad", ["ng"]).provider("$ocLazyLoad", [
          "$controllerProvider",
          "$provide",
          "$compileProvider",
          "$filterProvider",
          "$injector",
          "$animateProvider",
          function (e, t, h, m, v, b) {
            var y = {},
              x = {
                $controllerProvider: e,
                $compileProvider: h,
                $filterProvider: m,
                $provide: t,
                $injector: v,
                $animateProvider: b,
              },
              w = !1,
              _ = !1,
              A = [],
              E = {};
            (A.push = function (e) {
              -1 === this.indexOf(e) &&
                Array.prototype.push.apply(this, arguments);
            }),
              (this.config = function (e) {
                i.isDefined(e.modules) &&
                  (i.isArray(e.modules)
                    ? i.forEach(e.modules, function (e) {
                      y[e.name] = e;
                    })
                    : (y[e.modules.name] = e.modules)),
                  i.isDefined(e.debug) && (w = e.debug),
                  i.isDefined(e.events) && (_ = e.events);
              }),
              (this._init = function (e) {
                if (0 === s.length) {
                  var t = [e],
                    r = ["ng:app", "ng-app", "x-ng-app", "data-ng-app"],
                    a = /\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,
                    l = function (e) {
                      return e && t.push(e);
                    };
                  i.forEach(r, function (t) {
                    (r[t] = !0),
                      l(document.getElementById(t)),
                      (t = t.replace(":", "\\:")),
                      void 0 !== e[0] &&
                      e[0].querySelectorAll &&
                      (i.forEach(e[0].querySelectorAll("." + t), l),
                        i.forEach(e[0].querySelectorAll("." + t + "\\:"), l),
                        i.forEach(e[0].querySelectorAll("[" + t + "]"), l));
                  }),
                    i.forEach(t, function (t) {
                      if (0 === s.length) {
                        var n = " " + e.className + " ",
                          o = a.exec(n);
                        o
                          ? s.push((o[2] || "").replace(/\s+/g, ","))
                          : i.forEach(t.attributes, function (e) {
                            0 === s.length && r[e.name] && s.push(e.value);
                          });
                      }
                    });
                }
                0 !== s.length ||
                  ((n.jasmine || n.mocha) && i.isDefined(i.mock)) ||
                  console.error(
                    "No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad."
                  );
                i.forEach(s, function (e) {
                  !(function e(t) {
                    if (-1 === o.indexOf(t)) {
                      o.push(t);
                      var n = i.module(t);
                      L(null, n._invokeQueue, t),
                        L(null, n._configBlocks, t),
                        i.forEach(n.requires, e);
                    }
                  })(e);
                }),
                  (s = []),
                  c.pop();
              });
            var S = function (e) {
              try {
                return JSON.stringify(e);
              } catch (n) {
                var t = [];
                return JSON.stringify(e, function (e, n) {
                  if (i.isObject(n) && null !== n) {
                    if (-1 !== t.indexOf(n)) return;
                    t.push(n);
                  }
                  return n;
                });
              }
            },
              T = function (e) {
                var t,
                  i,
                  n = 0;
                if (0 == e.length) return n;
                for (t = 0, i = e.length; t < i; t++)
                  (n = (n << 5) - n + e.charCodeAt(t)), (n |= 0);
                return n;
              };
            function C(e, t, n) {
              if (t) {
                var r,
                  a,
                  s,
                  c = [];
                for (r = t.length - 1; r >= 0; r--)
                  if (
                    ((a = t[r]),
                      i.isString(a) || (a = D(a)),
                      a && -1 === p.indexOf(a) && (!y[a] || -1 !== l.indexOf(a)))
                  ) {
                    var h = -1 === o.indexOf(a);
                    if (
                      ((s = g(a)),
                        h && (o.push(a), C(e, s.requires, n)),
                        s._runBlocks.length > 0)
                    )
                      for (d[a] = []; s._runBlocks.length > 0;)
                        d[a].push(s._runBlocks.shift());
                    i.isDefined(d[a]) && (h || n.rerun) && (c = c.concat(d[a])),
                      L(e, s._invokeQueue, a, n.reconfig),
                      L(e, s._configBlocks, a, n.reconfig),
                      u(
                        h
                          ? "ocLazyLoad.moduleLoaded"
                          : "ocLazyLoad.moduleReloaded",
                        a
                      ),
                      t.pop(),
                      p.push(a);
                  }
                var f = e.getInstanceInjector();
                i.forEach(c, function (e) {
                  f.invoke(e);
                });
              }
            }
            function k(e, t) {
              var n = e[2][0],
                o = e[1],
                a = !1;
              i.isUndefined(r[t]) && (r[t] = {}),
                i.isUndefined(r[t][o]) && (r[t][o] = {});
              var s = function (e, n) {
                r[t][o].hasOwnProperty(e) || (r[t][o][e] = []),
                  (function (e, t) {
                    var n,
                      o = !0;
                    t.length &&
                      ((n = l(e)),
                        i.forEach(t, function (e) {
                          o = o && l(e) !== n;
                        }));
                    return o;
                  })(n, r[t][o][e]) &&
                  ((a = !0),
                    r[t][o][e].push(n),
                    u("ocLazyLoad.componentLoaded", [t, o, e]));
              };
              function l(e) {
                return i.isArray(e)
                  ? T(e.toString())
                  : i.isObject(e)
                    ? T(S(e))
                    : i.isDefined(e) && null !== e
                      ? T(e.toString())
                      : e;
              }
              if (i.isString(n)) s(n, e[2][1]);
              else {
                if (!i.isObject(n)) return !1;
                i.forEach(n, function (e, t) {
                  i.isString(e) ? s(e, n[1]) : s(t, e);
                });
              }
              return a;
            }
            function L(e, t, n, o) {
              var r, s, l, c;
              if (t)
                for (r = 0, s = t.length; r < s; r++)
                  if (((l = t[r]), i.isArray(l))) {
                    if (null !== e) {
                      if (!e.hasOwnProperty(l[0]))
                        throw new Error("unsupported provider " + l[0]);
                      c = e[l[0]];
                    }
                    var u = k(l, n);
                    if ("invoke" !== l[1])
                      u && i.isDefined(c) && c[l[1]].apply(c, l[2]);
                    else {
                      var d = function (e) {
                        var t = a.indexOf(n + "-" + e);
                        (-1 === t || o) &&
                          (-1 === t && a.push(n + "-" + e),
                            i.isDefined(c) && c[l[1]].apply(c, l[2]));
                      };
                      if (i.isFunction(l[2][0])) d(l[2][0]);
                      else if (i.isArray(l[2][0]))
                        for (var p = 0, h = l[2][0].length; p < h; p++)
                          i.isFunction(l[2][0][p]) && d(l[2][0][p]);
                    }
                  }
            }
            function D(e) {
              var t = null;
              return (
                i.isString(e)
                  ? (t = e)
                  : i.isObject(e) &&
                  e.hasOwnProperty("name") &&
                  i.isString(e.name) &&
                  (t = e.name),
                t
              );
            }
            function I(e) {
              if (!i.isString(e)) return !1;
              try {
                return g(e);
              } catch (e) {
                if (
                  /No module/.test(e) ||
                  e.message.indexOf("$injector:nomod") > -1
                )
                  return !1;
              }
            }
            (this.$get = [
              "$log",
              "$rootElement",
              "$rootScope",
              "$cacheFactory",
              "$q",
              function (e, t, n, a, l) {
                var d,
                  h = a("ocLazyLoad");
                function m(t) {
                  var i = l.defer();
                  return e.error(t.message), i.reject(t), i.promise;
                }
                return (
                  w ||
                  (((e = {}).error = i.noop),
                    (e.warn = i.noop),
                    (e.info = i.noop)),
                  (x.getInstanceInjector = function () {
                    return d || (d = t.data("$injector") || i.injector());
                  }),
                  {
                    _broadcast: (u = function (t, i) {
                      _ && n.$broadcast(t, i), w && e.info(t, i);
                    }),
                    _$log: e,
                    _getFilesCache: function () {
                      return h;
                    },
                    toggleWatch: function (e) {
                      e ? c.push(!0) : c.pop();
                    },
                    getModuleConfig: function (e) {
                      if (!i.isString(e))
                        throw new Error(
                          "You need to give the name of the module to get"
                        );
                      return y[e] ? i.copy(y[e]) : null;
                    },
                    setModuleConfig: function (e) {
                      if (!i.isObject(e))
                        throw new Error(
                          "You need to give the module config object to set"
                        );
                      return (y[e.name] = e), e;
                    },
                    getModules: function () {
                      return o;
                    },
                    isLoaded: function (e) {
                      var t = function (e) {
                        var t = o.indexOf(e) > -1;
                        return t || (t = !!I(e)), t;
                      };
                      if ((i.isString(e) && (e = [e]), i.isArray(e))) {
                        var n, r;
                        for (n = 0, r = e.length; n < r; n++)
                          if (!t(e[n])) return !1;
                        return !0;
                      }
                      throw new Error(
                        "You need to define the module(s) name(s)"
                      );
                    },
                    _getModuleName: D,
                    _getModule: function (e) {
                      try {
                        return g(e);
                      } catch (t) {
                        throw (
                          ((/No module/.test(t) ||
                            t.message.indexOf("$injector:nomod") > -1) &&
                            (t.message =
                              'The module "' +
                              S(e) +
                              '" that you are trying to load does not exist. ' +
                              t.message),
                            t)
                        );
                      }
                    },
                    moduleExists: I,
                    _loadDependencies: function (e, t) {
                      var n,
                        o,
                        r,
                        a = [],
                        s = this;
                      if (null === (e = s._getModuleName(e))) return l.when();
                      try {
                        n = s._getModule(e);
                      } catch (e) {
                        return m(e);
                      }
                      return (
                        (o = s.getRequires(n)),
                        i.forEach(o, function (n) {
                          if (i.isString(n)) {
                            var o = s.getModuleConfig(n);
                            if (null === o) return void A.push(n);
                            (n = o), (o.name = void 0);
                          }
                          if (s.moduleExists(n.name))
                            return (
                              0 !==
                              (r = n.files.filter(function (e) {
                                return (
                                  s.getModuleConfig(n.name).files.indexOf(e) <
                                  0
                                );
                              })).length &&
                              s._$log.warn(
                                'Module "',
                                e,
                                '" attempted to redefine configuration for dependency. "',
                                n.name,
                                '"\n Additional Files Loaded:',
                                r
                              ),
                              i.isDefined(s.filesLoader)
                                ? void a.push(
                                  s.filesLoader(n, t).then(function () {
                                    return s._loadDependencies(n);
                                  })
                                )
                                : m(
                                  new Error(
                                    "Error: New dependencies need to be loaded from external files (" +
                                    n.files +
                                    "), but no loader has been defined."
                                  )
                                )
                            );
                          if (i.isArray(n)) {
                            var l = [];
                            i.forEach(n, function (e) {
                              var t = s.getModuleConfig(e);
                              null === t
                                ? l.push(e)
                                : t.files && (l = l.concat(t.files));
                            }),
                              l.length > 0 && (n = { files: l });
                          } else i.isObject(n) && n.hasOwnProperty("name") && n.name && (s.setModuleConfig(n), A.push(n.name));
                          if (i.isDefined(n.files) && 0 !== n.files.length) {
                            if (!i.isDefined(s.filesLoader))
                              return m(
                                new Error(
                                  'Error: the module "' +
                                  n.name +
                                  '" is defined in external files (' +
                                  n.files +
                                  "), but no loader has been defined."
                                )
                              );
                            a.push(
                              s.filesLoader(n, t).then(function () {
                                return s._loadDependencies(n);
                              })
                            );
                          }
                        }),
                        l.all(a)
                      );
                    },
                    inject: function (e) {
                      var t =
                        arguments.length <= 1 || void 0 === arguments[1]
                          ? {}
                          : arguments[1],
                        n =
                          !(arguments.length <= 2 || void 0 === arguments[2]) &&
                          arguments[2],
                        o = this,
                        r = l.defer();
                      if (i.isDefined(e) && null !== e) {
                        if (i.isArray(e)) {
                          var a = [];
                          return (
                            i.forEach(e, function (e) {
                              a.push(o.inject(e, t, n));
                            }),
                            l.all(a)
                          );
                        }
                        o._addToLoadList(o._getModuleName(e), !0, n);
                      }
                      if (s.length > 0) {
                        var c = s.slice(),
                          u = function e(i) {
                            A.push(i),
                              (E[i] = r.promise),
                              o._loadDependencies(i, t).then(
                                function () {
                                  try {
                                    (p = []), C(x, A, t);
                                  } catch (e) {
                                    return (
                                      o._$log.error(e.message), void r.reject(e)
                                    );
                                  }
                                  s.length > 0 ? e(s.shift()) : r.resolve(c);
                                },
                                function (e) {
                                  r.reject(e);
                                }
                              );
                          };
                        u(s.shift());
                      } else {
                        if (t && t.name && E[t.name]) return E[t.name];
                        r.resolve();
                      }
                      return r.promise;
                    },
                    getRequires: function (e) {
                      var t = [];
                      return (
                        i.forEach(e.requires, function (e) {
                          -1 === o.indexOf(e) && t.push(e);
                        }),
                        t
                      );
                    },
                    _invokeQueue: L,
                    _registerInvokeList: k,
                    _register: C,
                    _addToLoadList: f,
                    _unregister: function (e) {
                      i.isDefined(e) &&
                        i.isArray(e) &&
                        i.forEach(e, function (e) {
                          r[e] = void 0;
                        });
                    },
                  }
                );
              },
            ]),
              this._init(i.element(n.document));
          },
        ]);
        var h = i.bootstrap;
        i.bootstrap = function (e, t, n) {
          return (
            (o = ["ng", "oc.lazyLoad"]),
            (r = {}),
            (a = []),
            (s = []),
            (l = []),
            (c = []),
            (u = i.noop),
            (d = {}),
            (p = []),
            i.forEach(t.slice(), function (e) {
              f(e, !0, !0);
            }),
            h(e, t, n)
          );
        };
        var f = function (e, t, n) {
          (c.length > 0 || t) &&
            i.isString(e) &&
            -1 === s.indexOf(e) &&
            (s.push(e), n && l.push(e));
        },
          g = i.module;
        (i.module = function (e, t, i) {
          return f(e, !1, !0), g(e, t, i);
        }),
          e.exports === t && (e.exports = "oc.lazyLoad");
      })(angular, window),
        (function (e) {
          "use strict";
          e.module("oc.lazyLoad").directive("ocLazyLoad", [
            "$ocLazyLoad",
            "$compile",
            "$animate",
            "$parse",
            "$timeout",
            function (t, i, n, o, r) {
              return {
                restrict: "A",
                terminal: !0,
                priority: 1e3,
                compile: function (r, a) {
                  var s = r[0].innerHTML;
                  return (
                    r.html(""),
                    function (r, a, l) {
                      var c = o(l.ocLazyLoad);
                      r.$watch(
                        function () {
                          return c(r) || l.ocLazyLoad;
                        },
                        function (o) {
                          e.isDefined(o) &&
                            t.load(o).then(function () {
                              n.enter(s, a), i(a.contents())(r);
                            });
                        },
                        !0
                      );
                    }
                  );
                },
              };
            },
          ]);
        })(angular),
        (function (e) {
          "use strict";
          e.module("oc.lazyLoad").config([
            "$provide",
            function (t) {
              t.decorator("$ocLazyLoad", [
                "$delegate",
                "$q",
                "$window",
                "$interval",
                function (t, n, o, r) {
                  var a = !1,
                    s =
                      o.document.getElementsByTagName("head")[0] ||
                      o.document.getElementsByTagName("body")[0];
                  return (
                    (t.buildElement = function (l, c, u) {
                      var d,
                        p,
                        h = n.defer(),
                        f = t._getFilesCache(),
                        g = function (e) {
                          var t = new Date().getTime();
                          return e.indexOf("?") >= 0
                            ? "&" === e.substring(0, e.length - 1)
                              ? e + "_dc=" + t
                              : e + "&_dc=" + t
                            : e + "?_dc=" + t;
                        };
                      switch (
                      (e.isUndefined(f.get(c)) && f.put(c, h.promise), l)
                      ) {
                        case "css":
                          ((d = o.document.createElement("link")).type =
                            "text/css"),
                            (d.rel = "stylesheet"),
                            (d.href = !1 === u.cache ? g(c) : c);
                          break;
                        case "js":
                          (d = o.document.createElement("script")).src =
                            !1 === u.cache ? g(c) : c;
                          break;
                        default:
                          f.remove(c),
                            h.reject(
                              new Error(
                                'Requested type "' +
                                l +
                                '" is not known. Could not inject "' +
                                c +
                                '"'
                              )
                            );
                      }
                      (d.onload = d.onreadystatechange =
                        function (e) {
                          (d.readyState && !/^c|loade/.test(d.readyState)) ||
                            p ||
                            ((d.onload = d.onreadystatechange = null),
                              (p = 1),
                              t._broadcast("ocLazyLoad.fileLoaded", c),
                              h.resolve(d));
                        }),
                        (d.onerror = function () {
                          f.remove(c),
                            h.reject(new Error("Unable to load " + c));
                        }),
                        (d.async = u.serie ? 0 : 1);
                      var m = s.lastChild;
                      if (u.insertBefore) {
                        var v = e.element(
                          e.isDefined(i)
                            ? u.insertBefore
                            : document.querySelector(u.insertBefore)
                        );
                        v && v.length > 0 && (m = v[0]);
                      }
                      if ((m.parentNode.insertBefore(d, m), "css" == l)) {
                        var b = o.navigator.userAgent.toLowerCase();
                        if (b.indexOf("phantomjs/1.9") > -1) a = !0;
                        else if (/iP(hone|od|ad)/.test(o.navigator.platform)) {
                          var y = o.navigator.appVersion.match(
                            /OS (\d+)_(\d+)_?(\d+)?/
                          ),
                            x = parseFloat(
                              [
                                parseInt(y[1], 10),
                                parseInt(y[2], 10),
                                parseInt(y[3] || 0, 10),
                              ].join(".")
                            );
                          a = x < 6;
                        } else if (b.indexOf("android") > -1) {
                          var w = parseFloat(b.slice(b.indexOf("android") + 8));
                          a = w < 4.4;
                        } else if (b.indexOf("safari") > -1) {
                          var _ = b.match(/version\/([\.\d]+)/i);
                          a = _ && _[1] && parseFloat(_[1]) < 6;
                        }
                        if (a)
                          var A = 1e3,
                            E = r(function () {
                              try {
                                d.sheet.cssRules, r.cancel(E), d.onload();
                              } catch (e) {
                                --A <= 0 && d.onerror();
                              }
                            }, 20);
                      }
                      return h.promise;
                    }),
                    t
                  );
                },
              ]);
            },
          ]);
        })(angular),
        (function (e) {
          "use strict";
          e.module("oc.lazyLoad").config([
            "$provide",
            function (t) {
              t.decorator("$ocLazyLoad", [
                "$delegate",
                "$q",
                function (t, i) {
                  return (
                    (t.filesLoader = function (n) {
                      var o =
                        arguments.length <= 1 || void 0 === arguments[1]
                          ? {}
                          : arguments[1],
                        r = [],
                        a = [],
                        s = [],
                        l = [],
                        c = null,
                        u = t._getFilesCache();
                      t.toggleWatch(!0), e.extend(o, n);
                      var d = function (i) {
                        var n,
                          d = null;
                        if (
                          (e.isObject(i) && ((d = i.type), (i = i.path)),
                            (c = u.get(i)),
                            e.isUndefined(c) || !1 === o.cache)
                        ) {
                          if (
                            (null !==
                              (n = /^(css|less|html|htm|js)?(?=!)/.exec(i)) &&
                              ((d = n[1]),
                                (i = i.substr(n[1].length + 1, i.length))),
                              !d)
                          )
                            if (
                              null !==
                              (n =
                                /[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(
                                  i
                                ))
                            )
                              d = n[1];
                            else {
                              if (
                                t.jsLoader.hasOwnProperty("ocLazyLoadLoader") ||
                                !t.jsLoader.hasOwnProperty("requirejs")
                              )
                                return void t._$log.error(
                                  "File type could not be determined. " + i
                                );
                              d = "js";
                            }
                          ("css" !== d && "less" !== d) || -1 !== r.indexOf(i)
                            ? ("html" !== d && "htm" !== d) ||
                              -1 !== a.indexOf(i)
                              ? "js" === d || -1 === s.indexOf(i)
                                ? s.push(i)
                                : t._$log.error("File type is not valid. " + i)
                              : a.push(i)
                            : r.push(i);
                        } else c && l.push(c);
                      };
                      if (
                        (o.serie
                          ? d(o.files.shift())
                          : e.forEach(o.files, function (e) {
                            d(e);
                          }),
                          r.length > 0)
                      ) {
                        var p = i.defer();
                        t.cssLoader(
                          r,
                          function (i) {
                            e.isDefined(i) &&
                              t.cssLoader.hasOwnProperty("ocLazyLoadLoader")
                              ? (t._$log.error(i), p.reject(i))
                              : p.resolve();
                          },
                          o
                        ),
                          l.push(p.promise);
                      }
                      if (a.length > 0) {
                        var h = i.defer();
                        t.templatesLoader(
                          a,
                          function (i) {
                            e.isDefined(i) &&
                              t.templatesLoader.hasOwnProperty("ocLazyLoadLoader")
                              ? (t._$log.error(i), h.reject(i))
                              : h.resolve();
                          },
                          o
                        ),
                          l.push(h.promise);
                      }
                      if (s.length > 0) {
                        var f = i.defer();
                        t.jsLoader(
                          s,
                          function (i) {
                            e.isDefined(i) &&
                              (t.jsLoader.hasOwnProperty("ocLazyLoadLoader") ||
                                t.jsLoader.hasOwnProperty("requirejs"))
                              ? (t._$log.error(i), f.reject(i))
                              : f.resolve();
                          },
                          o
                        ),
                          l.push(f.promise);
                      }
                      if (0 === l.length) {
                        var g = i.defer(),
                          m =
                            "Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";
                        return t._$log.error(m), g.reject(m), g.promise;
                      }
                      return o.serie && o.files.length > 0
                        ? i.all(l).then(function () {
                          return t.filesLoader(n, o);
                        })
                        : i.all(l).finally(function (e) {
                          return t.toggleWatch(!1), e;
                        });
                    }),
                    (t.load = function (n) {
                      var o,
                        r =
                          arguments.length <= 1 || void 0 === arguments[1]
                            ? {}
                            : arguments[1],
                        a = this,
                        s = null,
                        l = [],
                        c = i.defer(),
                        u = e.copy(n),
                        d = e.copy(r);
                      if (e.isArray(u))
                        return (
                          e.forEach(u, function (e) {
                            l.push(a.load(e, d));
                          }),
                          i.all(l).then(
                            function (e) {
                              c.resolve(e);
                            },
                            function (e) {
                              c.reject(e);
                            }
                          ),
                          c.promise
                        );
                      if (
                        (e.isString(u)
                          ? (s = a.getModuleConfig(u)) || (s = { files: [u] })
                          : e.isObject(u) &&
                          (s =
                            e.isDefined(u.path) && e.isDefined(u.type)
                              ? { files: [u] }
                              : a.setModuleConfig(u)),
                          null === s)
                      ) {
                        var p = a._getModuleName(u);
                        return (
                          (o =
                            'Module "' +
                            (p || "unknown") +
                            '" is not configured, cannot load.'),
                          t._$log.error(o),
                          c.reject(new Error(o)),
                          c.promise
                        );
                      }
                      e.isDefined(s.template) &&
                        (e.isUndefined(s.files) && (s.files = []),
                          e.isString(s.template)
                            ? s.files.push(s.template)
                            : e.isArray(s.template) &&
                            s.files.concat(s.template));
                      var h = e.extend({}, d, s);
                      return e.isUndefined(s.files) &&
                        e.isDefined(s.name) &&
                        t.moduleExists(s.name)
                        ? t.inject(s.name, h, !0)
                        : (t.filesLoader(s, h).then(
                          function () {
                            t.inject(null, h).then(
                              function (e) {
                                c.resolve(e);
                              },
                              function (e) {
                                c.reject(e);
                              }
                            );
                          },
                          function (e) {
                            c.reject(e);
                          }
                        ),
                          c.promise);
                    }),
                    t
                  );
                },
              ]);
            },
          ]);
        })(angular),
        (function (e) {
          "use strict";
          e.module("oc.lazyLoad").config([
            "$provide",
            function (t) {
              t.decorator("$ocLazyLoad", [
                "$delegate",
                "$q",
                function (t, i) {
                  return (
                    (t.cssLoader = function (n, o, r) {
                      var a = [];
                      e.forEach(n, function (e) {
                        a.push(t.buildElement("css", e, r));
                      }),
                        i.all(a).then(
                          function () {
                            o();
                          },
                          function (e) {
                            o(e);
                          }
                        );
                    }),
                    (t.cssLoader.ocLazyLoadLoader = !0),
                    t
                  );
                },
              ]);
            },
          ]);
        })(angular),
        (function (e) {
          "use strict";
          e.module("oc.lazyLoad").config([
            "$provide",
            function (t) {
              t.decorator("$ocLazyLoad", [
                "$delegate",
                "$q",
                function (t, i) {
                  return (
                    (t.jsLoader = function (n, o, r) {
                      var a = [];
                      e.forEach(n, function (e) {
                        a.push(t.buildElement("js", e, r));
                      }),
                        i.all(a).then(
                          function () {
                            o();
                          },
                          function (e) {
                            o(e);
                          }
                        );
                    }),
                    (t.jsLoader.ocLazyLoadLoader = !0),
                    t
                  );
                },
              ]);
            },
          ]);
        })(angular),
        (function (e) {
          "use strict";
          e.module("oc.lazyLoad").config([
            "$provide",
            function (t) {
              t.decorator("$ocLazyLoad", [
                "$delegate",
                "$templateCache",
                "$q",
                "$http",
                function (t, i, n, o) {
                  return (
                    (t.templatesLoader = function (r, a, s) {
                      var l = [],
                        c = t._getFilesCache();
                      return (
                        e.forEach(r, function (t) {
                          var r = n.defer();
                          l.push(r.promise),
                            o
                              .get(t, s)
                              .then(function (n) {
                                var o = n.data;
                                e.isString(o) &&
                                  o.length > 0 &&
                                  e.forEach(e.element(o), function (e) {
                                    "SCRIPT" === e.nodeName &&
                                      "text/ng-template" === e.type &&
                                      i.put(e.id, e.innerHTML);
                                  }),
                                  e.isUndefined(c.get(t)) && c.put(t, !0),
                                  r.resolve();
                              })
                              .catch(function (e) {
                                r.reject(
                                  new Error(
                                    'Unable to load template file "' +
                                    t +
                                    '": ' +
                                    e.data
                                  )
                                );
                              });
                        }),
                        n.all(l).then(
                          function () {
                            a();
                          },
                          function (e) {
                            a(e);
                          }
                        )
                      );
                    }),
                    (t.templatesLoader.ocLazyLoadLoader = !0),
                    t
                  );
                },
              ]);
            },
          ]);
        })(angular),
        Array.prototype.indexOf ||
        (Array.prototype.indexOf = function (e, t) {
          var i;
          if (null == this)
            throw new TypeError('"this" is null or not defined');
          var n = Object(this),
            o = n.length >>> 0;
          if (0 === o) return -1;
          var r = +t || 0;
          if ((Math.abs(r) === 1 / 0 && (r = 0), r >= o)) return -1;
          for (i = Math.max(r >= 0 ? r : o - Math.abs(r), 0); i < o;) {
            if (i in n && n[i] === e) return i;
            i++;
          }
          return -1;
        });
    }.call(this, i(0)));
  },
  function (e, t, i) {
    i(4),
      i(9),
      i(14),
      i(25),
      i(15),
      i(16),
      i(6),
      i(17),
      i(18),
      i(26),
      i(8),
      i(19),
      i(84),
      i(30),
      i(85),
      i(86),
      i(87),
      i(88),
      i(21),
      i(32),
      i(31),
      i(89),
      i(90),
      i(20),
      i(7),
      i(91),
      i(92),
      i(93),
      i(94),
      i(95),
      i(96),
      i(5),
      i(97),
      i(98),
      i(99),
      i(100),
      i(101),
      i(102),
      i(103),
      i(104),
      i(105),
      i(106),
      i(33),
      i(107),
      i(34),
      i(108),
      i(109),
      i(110),
      i(112),
      i(114),
      i(116),
      i(118),
      i(120),
      i(122),
      i(124),
      i(126),
      i(128),
      i(130),
      i(132),
      i(134),
      i(136),
      i(138),
      i(140),
      i(142),
      i(144),
      i(146);
  },
  function (e, t, i) {
    var n, o, r;
    (o = [i(0), i(1)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (e.fn.form = function () {
              return "string" == typeof this[0].form
                ? this.closest("form")
                : e(this[0].form);
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Droppable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(19), i(7), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            e.widget("ui.droppable", {
              version: "1.12.1",
              widgetEventPrefix: "drop",
              options: {
                accept: "*",
                addClasses: !0,
                greedy: !1,
                scope: "default",
                tolerance: "intersect",
                activate: null,
                deactivate: null,
                drop: null,
                out: null,
                over: null,
              },
              _create: function () {
                var t,
                  i = this.options,
                  n = i.accept;
                (this.isover = !1),
                  (this.isout = !0),
                  (this.accept = e.isFunction(n)
                    ? n
                    : function (e) {
                      return e.is(n);
                    }),
                  (this.proportions = function () {
                    if (!arguments.length)
                      return (
                        t ||
                        (t = {
                          width: this.element[0].offsetWidth,
                          height: this.element[0].offsetHeight,
                        })
                      );
                    t = arguments[0];
                  }),
                  this._addToManager(i.scope),
                  i.addClasses && this._addClass("ui-droppable");
              },
              _addToManager: function (t) {
                (e.ui.ddmanager.droppables[t] =
                  e.ui.ddmanager.droppables[t] || []),
                  e.ui.ddmanager.droppables[t].push(this);
              },
              _splice: function (e) {
                for (var t = 0; t < e.length; t++)
                  e[t] === this && e.splice(t, 1);
              },
              _destroy: function () {
                var t = e.ui.ddmanager.droppables[this.options.scope];
                this._splice(t);
              },
              _setOption: function (t, i) {
                if ("accept" === t)
                  this.accept = e.isFunction(i)
                    ? i
                    : function (e) {
                      return e.is(i);
                    };
                else if ("scope" === t) {
                  var n = e.ui.ddmanager.droppables[this.options.scope];
                  this._splice(n), this._addToManager(i);
                }
                this._super(t, i);
              },
              _activate: function (t) {
                var i = e.ui.ddmanager.current;
                this._addActiveClass(),
                  i && this._trigger("activate", t, this.ui(i));
              },
              _deactivate: function (t) {
                var i = e.ui.ddmanager.current;
                this._removeActiveClass(),
                  i && this._trigger("deactivate", t, this.ui(i));
              },
              _over: function (t) {
                var i = e.ui.ddmanager.current;
                i &&
                  (i.currentItem || i.element)[0] !== this.element[0] &&
                  this.accept.call(
                    this.element[0],
                    i.currentItem || i.element
                  ) &&
                  (this._addHoverClass(), this._trigger("over", t, this.ui(i)));
              },
              _out: function (t) {
                var i = e.ui.ddmanager.current;
                i &&
                  (i.currentItem || i.element)[0] !== this.element[0] &&
                  this.accept.call(
                    this.element[0],
                    i.currentItem || i.element
                  ) &&
                  (this._removeHoverClass(),
                    this._trigger("out", t, this.ui(i)));
              },
              _drop: function (i, n) {
                var o = n || e.ui.ddmanager.current,
                  r = !1;
                return (
                  !(
                    !o || (o.currentItem || o.element)[0] === this.element[0]
                  ) &&
                  (this.element
                    .find(":data(ui-droppable)")
                    .not(".ui-draggable-dragging")
                    .each(function () {
                      var n = e(this).droppable("instance");
                      if (
                        n.options.greedy &&
                        !n.options.disabled &&
                        n.options.scope === o.options.scope &&
                        n.accept.call(
                          n.element[0],
                          o.currentItem || o.element
                        ) &&
                        t(
                          o,
                          e.extend(n, { offset: n.element.offset() }),
                          n.options.tolerance,
                          i
                        )
                      )
                        return (r = !0), !1;
                    }),
                    !r &&
                    !!this.accept.call(
                      this.element[0],
                      o.currentItem || o.element
                    ) &&
                    (this._removeActiveClass(),
                      this._removeHoverClass(),
                      this._trigger("drop", i, this.ui(o)),
                      this.element))
                );
              },
              ui: function (e) {
                return {
                  draggable: e.currentItem || e.element,
                  helper: e.helper,
                  position: e.position,
                  offset: e.positionAbs,
                };
              },
              _addHoverClass: function () {
                this._addClass("ui-droppable-hover");
              },
              _removeHoverClass: function () {
                this._removeClass("ui-droppable-hover");
              },
              _addActiveClass: function () {
                this._addClass("ui-droppable-active");
              },
              _removeActiveClass: function () {
                this._removeClass("ui-droppable-active");
              },
            });
            var t = (e.ui.intersect = (function () {
              function e(e, t, i) {
                return e >= t && e < t + i;
              }
              return function (t, i, n, o) {
                if (!i.offset) return !1;
                var r =
                  (t.positionAbs || t.position.absolute).left +
                  t.margins.left,
                  a =
                    (t.positionAbs || t.position.absolute).top + t.margins.top,
                  s = r + t.helperProportions.width,
                  l = a + t.helperProportions.height,
                  c = i.offset.left,
                  u = i.offset.top,
                  d = c + i.proportions().width,
                  p = u + i.proportions().height;
                switch (n) {
                  case "fit":
                    return c <= r && s <= d && u <= a && l <= p;
                  case "intersect":
                    return (
                      c < r + t.helperProportions.width / 2 &&
                      s - t.helperProportions.width / 2 < d &&
                      u < a + t.helperProportions.height / 2 &&
                      l - t.helperProportions.height / 2 < p
                    );
                  case "pointer":
                    return (
                      e(o.pageY, u, i.proportions().height) &&
                      e(o.pageX, c, i.proportions().width)
                    );
                  case "touch":
                    return (
                      ((a >= u && a <= p) ||
                        (l >= u && l <= p) ||
                        (a < u && l > p)) &&
                      ((r >= c && r <= d) ||
                        (s >= c && s <= d) ||
                        (r < c && s > d))
                    );
                  default:
                    return !1;
                }
              };
            })());
            return (
              (e.ui.ddmanager = {
                current: null,
                droppables: { default: [] },
                prepareOffsets: function (t, i) {
                  var n,
                    o,
                    r = e.ui.ddmanager.droppables[t.options.scope] || [],
                    a = i ? i.type : null,
                    s = (t.currentItem || t.element)
                      .find(":data(ui-droppable)")
                      .addBack();
                  e: for (n = 0; n < r.length; n++)
                    if (
                      !(
                        r[n].options.disabled ||
                        (t &&
                          !r[n].accept.call(
                            r[n].element[0],
                            t.currentItem || t.element
                          ))
                      )
                    ) {
                      for (o = 0; o < s.length; o++)
                        if (s[o] === r[n].element[0]) {
                          r[n].proportions().height = 0;
                          continue e;
                        }
                      (r[n].visible = "none" !== r[n].element.css("display")),
                        r[n].visible &&
                        ("mousedown" === a && r[n]._activate.call(r[n], i),
                          (r[n].offset = r[n].element.offset()),
                          r[n].proportions({
                            width: r[n].element[0].offsetWidth,
                            height: r[n].element[0].offsetHeight,
                          }));
                    }
                },
                drop: function (i, n) {
                  var o = !1;
                  return (
                    e.each(
                      (
                        e.ui.ddmanager.droppables[i.options.scope] || []
                      ).slice(),
                      function () {
                        this.options &&
                          (!this.options.disabled &&
                            this.visible &&
                            t(i, this, this.options.tolerance, n) &&
                            (o = this._drop.call(this, n) || o),
                            !this.options.disabled &&
                            this.visible &&
                            this.accept.call(
                              this.element[0],
                              i.currentItem || i.element
                            ) &&
                            ((this.isout = !0),
                              (this.isover = !1),
                              this._deactivate.call(this, n)));
                      }
                    ),
                    o
                  );
                },
                dragStart: function (t, i) {
                  t.element
                    .parentsUntil("body")
                    .on("scroll.droppable", function () {
                      t.options.refreshPositions ||
                        e.ui.ddmanager.prepareOffsets(t, i);
                    });
                },
                drag: function (i, n) {
                  i.options.refreshPositions &&
                    e.ui.ddmanager.prepareOffsets(i, n),
                    e.each(
                      e.ui.ddmanager.droppables[i.options.scope] || [],
                      function () {
                        if (
                          !this.options.disabled &&
                          !this.greedyChild &&
                          this.visible
                        ) {
                          var o,
                            r,
                            a,
                            s = t(i, this, this.options.tolerance, n),
                            l =
                              !s && this.isover
                                ? "isout"
                                : s && !this.isover
                                  ? "isover"
                                  : null;
                          l &&
                            (this.options.greedy &&
                              ((r = this.options.scope),
                                (a = this.element
                                  .parents(":data(ui-droppable)")
                                  .filter(function () {
                                    return (
                                      e(this).droppable("instance").options
                                        .scope === r
                                    );
                                  })).length &&
                                ((o = e(a[0]).droppable(
                                  "instance"
                                )).greedyChild = "isover" === l)),
                              o &&
                              "isover" === l &&
                              ((o.isover = !1),
                                (o.isout = !0),
                                o._out.call(o, n)),
                              (this[l] = !0),
                              (this["isout" === l ? "isover" : "isout"] = !1),
                              this["isover" === l ? "_over" : "_out"].call(
                                this,
                                n
                              ),
                              o &&
                              "isout" === l &&
                              ((o.isout = !1),
                                (o.isover = !0),
                                o._over.call(o, n)));
                        }
                      }
                    );
                },
                dragStop: function (t, i) {
                  t.element.parentsUntil("body").off("scroll.droppable"),
                    t.options.refreshPositions ||
                    e.ui.ddmanager.prepareOffsets(t, i);
                },
              }),
              !1 !== e.uiBackCompat &&
              e.widget("ui.droppable", e.ui.droppable, {
                options: { hoverClass: !1, activeClass: !1 },
                _addActiveClass: function () {
                  this._super(),
                    this.options.activeClass &&
                    this.element.addClass(this.options.activeClass);
                },
                _removeActiveClass: function () {
                  this._super(),
                    this.options.activeClass &&
                    this.element.removeClass(this.options.activeClass);
                },
                _addHoverClass: function () {
                  this._super(),
                    this.options.hoverClass &&
                    this.element.addClass(this.options.hoverClass);
                },
                _removeHoverClass: function () {
                  this._super(),
                    this.options.hoverClass &&
                    this.element.removeClass(this.options.hoverClass);
                },
              }),
              e.ui.droppable
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Selectable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(7), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.widget("ui.selectable", e.ui.mouse, {
              version: "1.12.1",
              options: {
                appendTo: "body",
                autoRefresh: !0,
                distance: 0,
                filter: "*",
                tolerance: "touch",
                selected: null,
                selecting: null,
                start: null,
                stop: null,
                unselected: null,
                unselecting: null,
              },
              _create: function () {
                var t = this;
                this._addClass("ui-selectable"),
                  (this.dragged = !1),
                  (this.refresh = function () {
                    (t.elementPos = e(t.element[0]).offset()),
                      (t.selectees = e(t.options.filter, t.element[0])),
                      t._addClass(t.selectees, "ui-selectee"),
                      t.selectees.each(function () {
                        var i = e(this),
                          n = i.offset(),
                          o = {
                            left: n.left - t.elementPos.left,
                            top: n.top - t.elementPos.top,
                          };
                        e.data(this, "selectable-item", {
                          element: this,
                          $element: i,
                          left: o.left,
                          top: o.top,
                          right: o.left + i.outerWidth(),
                          bottom: o.top + i.outerHeight(),
                          startselected: !1,
                          selected: i.hasClass("ui-selected"),
                          selecting: i.hasClass("ui-selecting"),
                          unselecting: i.hasClass("ui-unselecting"),
                        });
                      });
                  }),
                  this.refresh(),
                  this._mouseInit(),
                  (this.helper = e("<div>")),
                  this._addClass(this.helper, "ui-selectable-helper");
              },
              _destroy: function () {
                this.selectees.removeData("selectable-item"),
                  this._mouseDestroy();
              },
              _mouseStart: function (t) {
                var i = this,
                  n = this.options;
                (this.opos = [t.pageX, t.pageY]),
                  (this.elementPos = e(this.element[0]).offset()),
                  this.options.disabled ||
                  ((this.selectees = e(n.filter, this.element[0])),
                    this._trigger("start", t),
                    e(n.appendTo).append(this.helper),
                    this.helper.css({
                      left: t.pageX,
                      top: t.pageY,
                      width: 0,
                      height: 0,
                    }),
                    n.autoRefresh && this.refresh(),
                    this.selectees.filter(".ui-selected").each(function () {
                      var n = e.data(this, "selectable-item");
                      (n.startselected = !0),
                        t.metaKey ||
                        t.ctrlKey ||
                        (i._removeClass(n.$element, "ui-selected"),
                          (n.selected = !1),
                          i._addClass(n.$element, "ui-unselecting"),
                          (n.unselecting = !0),
                          i._trigger("unselecting", t, {
                            unselecting: n.element,
                          }));
                    }),
                    e(t.target)
                      .parents()
                      .addBack()
                      .each(function () {
                        var n,
                          o = e.data(this, "selectable-item");
                        if (o)
                          return (
                            (n =
                              (!t.metaKey && !t.ctrlKey) ||
                              !o.$element.hasClass("ui-selected")),
                            i
                              ._removeClass(
                                o.$element,
                                n ? "ui-unselecting" : "ui-selected"
                              )
                              ._addClass(
                                o.$element,
                                n ? "ui-selecting" : "ui-unselecting"
                              ),
                            (o.unselecting = !n),
                            (o.selecting = n),
                            (o.selected = n),
                            n
                              ? i._trigger("selecting", t, {
                                selecting: o.element,
                              })
                              : i._trigger("unselecting", t, {
                                unselecting: o.element,
                              }),
                            !1
                          );
                      }));
              },
              _mouseDrag: function (t) {
                if (((this.dragged = !0), !this.options.disabled)) {
                  var i,
                    n = this,
                    o = this.options,
                    r = this.opos[0],
                    a = this.opos[1],
                    s = t.pageX,
                    l = t.pageY;
                  return (
                    r > s && ((i = s), (s = r), (r = i)),
                    a > l && ((i = l), (l = a), (a = i)),
                    this.helper.css({
                      left: r,
                      top: a,
                      width: s - r,
                      height: l - a,
                    }),
                    this.selectees.each(function () {
                      var i = e.data(this, "selectable-item"),
                        c = !1,
                        u = {};
                      i &&
                        i.element !== n.element[0] &&
                        ((u.left = i.left + n.elementPos.left),
                          (u.right = i.right + n.elementPos.left),
                          (u.top = i.top + n.elementPos.top),
                          (u.bottom = i.bottom + n.elementPos.top),
                          "touch" === o.tolerance
                            ? (c = !(
                              u.left > s ||
                              u.right < r ||
                              u.top > l ||
                              u.bottom < a
                            ))
                            : "fit" === o.tolerance &&
                            (c =
                              u.left > r &&
                              u.right < s &&
                              u.top > a &&
                              u.bottom < l),
                          c
                            ? (i.selected &&
                              (n._removeClass(i.$element, "ui-selected"),
                                (i.selected = !1)),
                              i.unselecting &&
                              (n._removeClass(i.$element, "ui-unselecting"),
                                (i.unselecting = !1)),
                              i.selecting ||
                              (n._addClass(i.$element, "ui-selecting"),
                                (i.selecting = !0),
                                n._trigger("selecting", t, {
                                  selecting: i.element,
                                })))
                            : (i.selecting &&
                              ((t.metaKey || t.ctrlKey) && i.startselected
                                ? (n._removeClass(i.$element, "ui-selecting"),
                                  (i.selecting = !1),
                                  n._addClass(i.$element, "ui-selected"),
                                  (i.selected = !0))
                                : (n._removeClass(i.$element, "ui-selecting"),
                                  (i.selecting = !1),
                                  i.startselected &&
                                  (n._addClass(i.$element, "ui-unselecting"),
                                    (i.unselecting = !0)),
                                  n._trigger("unselecting", t, {
                                    unselecting: i.element,
                                  }))),
                              i.selected &&
                              (t.metaKey ||
                                t.ctrlKey ||
                                i.startselected ||
                                (n._removeClass(i.$element, "ui-selected"),
                                  (i.selected = !1),
                                  n._addClass(i.$element, "ui-unselecting"),
                                  (i.unselecting = !0),
                                  n._trigger("unselecting", t, {
                                    unselecting: i.element,
                                  })))));
                    }),
                    !1
                  );
                }
              },
              _mouseStop: function (t) {
                var i = this;
                return (
                  (this.dragged = !1),
                  e(".ui-unselecting", this.element[0]).each(function () {
                    var n = e.data(this, "selectable-item");
                    i._removeClass(n.$element, "ui-unselecting"),
                      (n.unselecting = !1),
                      (n.startselected = !1),
                      i._trigger("unselected", t, { unselected: n.element });
                  }),
                  e(".ui-selecting", this.element[0]).each(function () {
                    var n = e.data(this, "selectable-item");
                    i
                      ._removeClass(n.$element, "ui-selecting")
                      ._addClass(n.$element, "ui-selected"),
                      (n.selecting = !1),
                      (n.selected = !0),
                      (n.startselected = !0),
                      i._trigger("selected", t, { selected: n.element });
                  }),
                  this._trigger("stop", t),
                  this.helper.remove(),
                  !1
                );
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Sortable 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(7), i(14), i(27), i(18), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.widget("ui.sortable", e.ui.mouse, {
              version: "1.12.1",
              widgetEventPrefix: "sort",
              ready: !1,
              options: {
                appendTo: "parent",
                axis: !1,
                connectWith: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                dropOnEmpty: !0,
                forcePlaceholderSize: !1,
                forceHelperSize: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                items: "> *",
                opacity: !1,
                placeholder: !1,
                revert: !1,
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                scope: "default",
                tolerance: "intersect",
                zIndex: 1e3,
                activate: null,
                beforeStop: null,
                change: null,
                deactivate: null,
                out: null,
                over: null,
                receive: null,
                remove: null,
                sort: null,
                start: null,
                stop: null,
                update: null,
              },
              _isOverAxis: function (e, t, i) {
                return e >= t && e < t + i;
              },
              _isFloating: function (e) {
                return (
                  /left|right/.test(e.css("float")) ||
                  /inline|table-cell/.test(e.css("display"))
                );
              },
              _create: function () {
                (this.containerCache = {}),
                  this._addClass("ui-sortable"),
                  this.refresh(),
                  (this.offset = this.element.offset()),
                  this._mouseInit(),
                  this._setHandleClassName(),
                  (this.ready = !0);
              },
              _setOption: function (e, t) {
                this._super(e, t), "handle" === e && this._setHandleClassName();
              },
              _setHandleClassName: function () {
                var t = this;
                this._removeClass(
                  this.element.find(".ui-sortable-handle"),
                  "ui-sortable-handle"
                ),
                  e.each(this.items, function () {
                    t._addClass(
                      this.instance.options.handle
                        ? this.item.find(this.instance.options.handle)
                        : this.item,
                      "ui-sortable-handle"
                    );
                  });
              },
              _destroy: function () {
                this._mouseDestroy();
                for (var e = this.items.length - 1; e >= 0; e--)
                  this.items[e].item.removeData(this.widgetName + "-item");
                return this;
              },
              _mouseCapture: function (t, i) {
                var n = null,
                  o = !1,
                  r = this;
                return !(
                  this.reverting ||
                  this.options.disabled ||
                  "static" === this.options.type ||
                  (this._refreshItems(t),
                    e(t.target)
                      .parents()
                      .each(function () {
                        if (e.data(this, r.widgetName + "-item") === r)
                          return (n = e(this)), !1;
                      }),
                    e.data(t.target, r.widgetName + "-item") === r &&
                    (n = e(t.target)),
                    !n ||
                    (this.options.handle &&
                      !i &&
                      (e(this.options.handle, n)
                        .find("*")
                        .addBack()
                        .each(function () {
                          this === t.target && (o = !0);
                        }),
                        !o)) ||
                    ((this.currentItem = n),
                      this._removeCurrentsFromItems(),
                      0))
                );
              },
              _mouseStart: function (t, i, n) {
                var o,
                  r,
                  a = this.options;
                if (
                  ((this.currentContainer = this),
                    this.refreshPositions(),
                    (this.helper = this._createHelper(t)),
                    this._cacheHelperProportions(),
                    this._cacheMargins(),
                    (this.scrollParent = this.helper.scrollParent()),
                    (this.offset = this.currentItem.offset()),
                    (this.offset = {
                      top: this.offset.top - this.margins.top,
                      left: this.offset.left - this.margins.left,
                    }),
                    e.extend(this.offset, {
                      click: {
                        left: t.pageX - this.offset.left,
                        top: t.pageY - this.offset.top,
                      },
                      parent: this._getParentOffset(),
                      relative: this._getRelativeOffset(),
                    }),
                    this.helper.css("position", "absolute"),
                    (this.cssPosition = this.helper.css("position")),
                    (this.originalPosition = this._generatePosition(t)),
                    (this.originalPageX = t.pageX),
                    (this.originalPageY = t.pageY),
                    a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt),
                    (this.domPosition = {
                      prev: this.currentItem.prev()[0],
                      parent: this.currentItem.parent()[0],
                    }),
                    this.helper[0] !== this.currentItem[0] &&
                    this.currentItem.hide(),
                    this._createPlaceholder(),
                    a.containment && this._setContainment(),
                    a.cursor &&
                    "auto" !== a.cursor &&
                    ((r = this.document.find("body")),
                      (this.storedCursor = r.css("cursor")),
                      r.css("cursor", a.cursor),
                      (this.storedStylesheet = e(
                        "<style>*{ cursor: " + a.cursor + " !important; }</style>"
                      ).appendTo(r))),
                    a.opacity &&
                    (this.helper.css("opacity") &&
                      (this._storedOpacity = this.helper.css("opacity")),
                      this.helper.css("opacity", a.opacity)),
                    a.zIndex &&
                    (this.helper.css("zIndex") &&
                      (this._storedZIndex = this.helper.css("zIndex")),
                      this.helper.css("zIndex", a.zIndex)),
                    this.scrollParent[0] !== this.document[0] &&
                    "HTML" !== this.scrollParent[0].tagName &&
                    (this.overflowOffset = this.scrollParent.offset()),
                    this._trigger("start", t, this._uiHash()),
                    this._preserveHelperProportions ||
                    this._cacheHelperProportions(),
                    !n)
                )
                  for (o = this.containers.length - 1; o >= 0; o--)
                    this.containers[o]._trigger(
                      "activate",
                      t,
                      this._uiHash(this)
                    );
                return (
                  e.ui.ddmanager && (e.ui.ddmanager.current = this),
                  e.ui.ddmanager &&
                  !a.dropBehaviour &&
                  e.ui.ddmanager.prepareOffsets(this, t),
                  (this.dragging = !0),
                  this._addClass(this.helper, "ui-sortable-helper"),
                  this._mouseDrag(t),
                  !0
                );
              },
              _mouseDrag: function (t) {
                var i,
                  n,
                  o,
                  r,
                  a = this.options,
                  s = !1;
                for (
                  this.position = this._generatePosition(t),
                  this.positionAbs = this._convertPositionTo("absolute"),
                  this.lastPositionAbs ||
                  (this.lastPositionAbs = this.positionAbs),
                  this.options.scroll &&
                  (this.scrollParent[0] !== this.document[0] &&
                    "HTML" !== this.scrollParent[0].tagName
                    ? (this.overflowOffset.top +
                      this.scrollParent[0].offsetHeight -
                      t.pageY <
                      a.scrollSensitivity
                      ? (this.scrollParent[0].scrollTop = s =
                        this.scrollParent[0].scrollTop + a.scrollSpeed)
                      : t.pageY - this.overflowOffset.top <
                      a.scrollSensitivity &&
                      (this.scrollParent[0].scrollTop = s =
                        this.scrollParent[0].scrollTop - a.scrollSpeed),
                      this.overflowOffset.left +
                        this.scrollParent[0].offsetWidth -
                        t.pageX <
                        a.scrollSensitivity
                        ? (this.scrollParent[0].scrollLeft = s =
                          this.scrollParent[0].scrollLeft + a.scrollSpeed)
                        : t.pageX - this.overflowOffset.left <
                        a.scrollSensitivity &&
                        (this.scrollParent[0].scrollLeft = s =
                          this.scrollParent[0].scrollLeft -
                          a.scrollSpeed))
                    : (t.pageY - this.document.scrollTop() <
                      a.scrollSensitivity
                      ? (s = this.document.scrollTop(
                        this.document.scrollTop() - a.scrollSpeed
                      ))
                      : this.window.height() -
                      (t.pageY - this.document.scrollTop()) <
                      a.scrollSensitivity &&
                      (s = this.document.scrollTop(
                        this.document.scrollTop() + a.scrollSpeed
                      )),
                      t.pageX - this.document.scrollLeft() <
                        a.scrollSensitivity
                        ? (s = this.document.scrollLeft(
                          this.document.scrollLeft() - a.scrollSpeed
                        ))
                        : this.window.width() -
                        (t.pageX - this.document.scrollLeft()) <
                        a.scrollSensitivity &&
                        (s = this.document.scrollLeft(
                          this.document.scrollLeft() + a.scrollSpeed
                        ))),
                    !1 !== s &&
                    e.ui.ddmanager &&
                    !a.dropBehaviour &&
                    e.ui.ddmanager.prepareOffsets(this, t)),
                  this.positionAbs = this._convertPositionTo("absolute"),
                  (this.options.axis && "y" === this.options.axis) ||
                  (this.helper[0].style.left = this.position.left + "px"),
                  (this.options.axis && "x" === this.options.axis) ||
                  (this.helper[0].style.top = this.position.top + "px"),
                  i = this.items.length - 1;
                  i >= 0;
                  i--
                )
                  if (
                    ((o = (n = this.items[i]).item[0]),
                      (r = this._intersectsWithPointer(n)) &&
                      n.instance === this.currentContainer &&
                      !(
                        o === this.currentItem[0] ||
                        this.placeholder[1 === r ? "next" : "prev"]()[0] ===
                        o ||
                        e.contains(this.placeholder[0], o) ||
                        ("semi-dynamic" === this.options.type &&
                          e.contains(this.element[0], o))
                      ))
                  ) {
                    if (
                      ((this.direction = 1 === r ? "down" : "up"),
                        "pointer" !== this.options.tolerance &&
                        !this._intersectsWithSides(n))
                    )
                      break;
                    this._rearrange(t, n),
                      this._trigger("change", t, this._uiHash());
                    break;
                  }
                return (
                  this._contactContainers(t),
                  e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
                  this._trigger("sort", t, this._uiHash()),
                  (this.lastPositionAbs = this.positionAbs),
                  !1
                );
              },
              _mouseStop: function (t, i) {
                if (t) {
                  if (
                    (e.ui.ddmanager &&
                      !this.options.dropBehaviour &&
                      e.ui.ddmanager.drop(this, t),
                      this.options.revert)
                  ) {
                    var n = this,
                      o = this.placeholder.offset(),
                      r = this.options.axis,
                      a = {};
                    (r && "x" !== r) ||
                      (a.left =
                        o.left -
                        this.offset.parent.left -
                        this.margins.left +
                        (this.offsetParent[0] === this.document[0].body
                          ? 0
                          : this.offsetParent[0].scrollLeft)),
                      (r && "y" !== r) ||
                      (a.top =
                        o.top -
                        this.offset.parent.top -
                        this.margins.top +
                        (this.offsetParent[0] === this.document[0].body
                          ? 0
                          : this.offsetParent[0].scrollTop)),
                      (this.reverting = !0),
                      e(this.helper).animate(
                        a,
                        parseInt(this.options.revert, 10) || 500,
                        function () {
                          n._clear(t);
                        }
                      );
                  } else this._clear(t, i);
                  return !1;
                }
              },
              cancel: function () {
                if (this.dragging) {
                  this._mouseUp(new e.Event("mouseup", { target: null })),
                    "original" === this.options.helper
                      ? (this.currentItem.css(this._storedCSS),
                        this._removeClass(
                          this.currentItem,
                          "ui-sortable-helper"
                        ))
                      : this.currentItem.show();
                  for (var t = this.containers.length - 1; t >= 0; t--)
                    this.containers[t]._trigger(
                      "deactivate",
                      null,
                      this._uiHash(this)
                    ),
                      this.containers[t].containerCache.over &&
                      (this.containers[t]._trigger(
                        "out",
                        null,
                        this._uiHash(this)
                      ),
                        (this.containers[t].containerCache.over = 0));
                }
                return (
                  this.placeholder &&
                  (this.placeholder[0].parentNode &&
                    this.placeholder[0].parentNode.removeChild(
                      this.placeholder[0]
                    ),
                    "original" !== this.options.helper &&
                    this.helper &&
                    this.helper[0].parentNode &&
                    this.helper.remove(),
                    e.extend(this, {
                      helper: null,
                      dragging: !1,
                      reverting: !1,
                      _noFinalSort: null,
                    }),
                    this.domPosition.prev
                      ? e(this.domPosition.prev).after(this.currentItem)
                      : e(this.domPosition.parent).prepend(this.currentItem)),
                  this
                );
              },
              serialize: function (t) {
                var i = this._getItemsAsjQuery(t && t.connected),
                  n = [];
                return (
                  (t = t || {}),
                  e(i).each(function () {
                    var i = (
                      e(t.item || this).attr(t.attribute || "id") || ""
                    ).match(t.expression || /(.+)[\-=_](.+)/);
                    i &&
                      n.push(
                        (t.key || i[1] + "[]") +
                        "=" +
                        (t.key && t.expression ? i[1] : i[2])
                      );
                  }),
                  !n.length && t.key && n.push(t.key + "="),
                  n.join("&")
                );
              },
              toArray: function (t) {
                var i = this._getItemsAsjQuery(t && t.connected),
                  n = [];
                return (
                  (t = t || {}),
                  i.each(function () {
                    n.push(e(t.item || this).attr(t.attribute || "id") || "");
                  }),
                  n
                );
              },
              _intersectsWith: function (e) {
                var t = this.positionAbs.left,
                  i = t + this.helperProportions.width,
                  n = this.positionAbs.top,
                  o = n + this.helperProportions.height,
                  r = e.left,
                  a = r + e.width,
                  s = e.top,
                  l = s + e.height,
                  c = this.offset.click.top,
                  u = this.offset.click.left,
                  d = "x" === this.options.axis || (n + c > s && n + c < l),
                  p = "y" === this.options.axis || (t + u > r && t + u < a),
                  h = d && p;
                return "pointer" === this.options.tolerance ||
                  this.options.forcePointerForContainers ||
                  ("pointer" !== this.options.tolerance &&
                    this.helperProportions[this.floating ? "width" : "height"] >
                    e[this.floating ? "width" : "height"])
                  ? h
                  : r < t + this.helperProportions.width / 2 &&
                  i - this.helperProportions.width / 2 < a &&
                  s < n + this.helperProportions.height / 2 &&
                  o - this.helperProportions.height / 2 < l;
              },
              _intersectsWithPointer: function (e) {
                var t,
                  i,
                  n =
                    "x" === this.options.axis ||
                    this._isOverAxis(
                      this.positionAbs.top + this.offset.click.top,
                      e.top,
                      e.height
                    ),
                  o =
                    "y" === this.options.axis ||
                    this._isOverAxis(
                      this.positionAbs.left + this.offset.click.left,
                      e.left,
                      e.width
                    );
                return (
                  !(!n || !o) &&
                  ((t = this._getDragVerticalDirection()),
                    (i = this._getDragHorizontalDirection()),
                    this.floating
                      ? "right" === i || "down" === t
                        ? 2
                        : 1
                      : t && ("down" === t ? 2 : 1))
                );
              },
              _intersectsWithSides: function (e) {
                var t = this._isOverAxis(
                  this.positionAbs.top + this.offset.click.top,
                  e.top + e.height / 2,
                  e.height
                ),
                  i = this._isOverAxis(
                    this.positionAbs.left + this.offset.click.left,
                    e.left + e.width / 2,
                    e.width
                  ),
                  n = this._getDragVerticalDirection(),
                  o = this._getDragHorizontalDirection();
                return this.floating && o
                  ? ("right" === o && i) || ("left" === o && !i)
                  : n && (("down" === n && t) || ("up" === n && !t));
              },
              _getDragVerticalDirection: function () {
                var e = this.positionAbs.top - this.lastPositionAbs.top;
                return 0 !== e && (e > 0 ? "down" : "up");
              },
              _getDragHorizontalDirection: function () {
                var e = this.positionAbs.left - this.lastPositionAbs.left;
                return 0 !== e && (e > 0 ? "right" : "left");
              },
              refresh: function (e) {
                return (
                  this._refreshItems(e),
                  this._setHandleClassName(),
                  this.refreshPositions(),
                  this
                );
              },
              _connectWith: function () {
                var e = this.options;
                return e.connectWith.constructor === String
                  ? [e.connectWith]
                  : e.connectWith;
              },
              _getItemsAsjQuery: function (t) {
                var i,
                  n,
                  o,
                  r,
                  a = [],
                  s = [],
                  l = this._connectWith();
                if (l && t)
                  for (i = l.length - 1; i >= 0; i--)
                    for (
                      n = (o = e(l[i], this.document[0])).length - 1;
                      n >= 0;
                      n--
                    )
                      (r = e.data(o[n], this.widgetFullName)) &&
                        r !== this &&
                        !r.options.disabled &&
                        s.push([
                          e.isFunction(r.options.items)
                            ? r.options.items.call(r.element)
                            : e(r.options.items, r.element)
                              .not(".ui-sortable-helper")
                              .not(".ui-sortable-placeholder"),
                          r,
                        ]);
                function c() {
                  a.push(this);
                }
                for (
                  s.push([
                    e.isFunction(this.options.items)
                      ? this.options.items.call(this.element, null, {
                        options: this.options,
                        item: this.currentItem,
                      })
                      : e(this.options.items, this.element)
                        .not(".ui-sortable-helper")
                        .not(".ui-sortable-placeholder"),
                    this,
                  ]),
                  i = s.length - 1;
                  i >= 0;
                  i--
                )
                  s[i][0].each(c);
                return e(a);
              },
              _removeCurrentsFromItems: function () {
                var t = this.currentItem.find(
                  ":data(" + this.widgetName + "-item)"
                );
                this.items = e.grep(this.items, function (e) {
                  for (var i = 0; i < t.length; i++)
                    if (t[i] === e.item[0]) return !1;
                  return !0;
                });
              },
              _refreshItems: function (t) {
                (this.items = []), (this.containers = [this]);
                var i,
                  n,
                  o,
                  r,
                  a,
                  s,
                  l,
                  c,
                  u = this.items,
                  d = [
                    [
                      e.isFunction(this.options.items)
                        ? this.options.items.call(this.element[0], t, {
                          item: this.currentItem,
                        })
                        : e(this.options.items, this.element),
                      this,
                    ],
                  ],
                  p = this._connectWith();
                if (p && this.ready)
                  for (i = p.length - 1; i >= 0; i--)
                    for (
                      n = (o = e(p[i], this.document[0])).length - 1;
                      n >= 0;
                      n--
                    )
                      (r = e.data(o[n], this.widgetFullName)) &&
                        r !== this &&
                        !r.options.disabled &&
                        (d.push([
                          e.isFunction(r.options.items)
                            ? r.options.items.call(r.element[0], t, {
                              item: this.currentItem,
                            })
                            : e(r.options.items, r.element),
                          r,
                        ]),
                          this.containers.push(r));
                for (i = d.length - 1; i >= 0; i--)
                  for (a = d[i][1], n = 0, c = (s = d[i][0]).length; n < c; n++)
                    (l = e(s[n])).data(this.widgetName + "-item", a),
                      u.push({
                        item: l,
                        instance: a,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0,
                      });
              },
              refreshPositions: function (t) {
                var i, n, o, r;
                for (
                  this.floating =
                  !!this.items.length &&
                  ("x" === this.options.axis ||
                    this._isFloating(this.items[0].item)),
                  this.offsetParent &&
                  this.helper &&
                  (this.offset.parent = this._getParentOffset()),
                  i = this.items.length - 1;
                  i >= 0;
                  i--
                )
                  ((n = this.items[i]).instance !== this.currentContainer &&
                    this.currentContainer &&
                    n.item[0] !== this.currentItem[0]) ||
                    ((o = this.options.toleranceElement
                      ? e(this.options.toleranceElement, n.item)
                      : n.item),
                      t ||
                      ((n.width = o.outerWidth()),
                        (n.height = o.outerHeight())),
                      (r = o.offset()),
                      (n.left = r.left),
                      (n.top = r.top));
                if (
                  this.options.custom &&
                  this.options.custom.refreshContainers
                )
                  this.options.custom.refreshContainers.call(this);
                else
                  for (i = this.containers.length - 1; i >= 0; i--)
                    (r = this.containers[i].element.offset()),
                      (this.containers[i].containerCache.left = r.left),
                      (this.containers[i].containerCache.top = r.top),
                      (this.containers[i].containerCache.width =
                        this.containers[i].element.outerWidth()),
                      (this.containers[i].containerCache.height =
                        this.containers[i].element.outerHeight());
                return this;
              },
              _createPlaceholder: function (t) {
                var i,
                  n = (t = t || this).options;
                (n.placeholder && n.placeholder.constructor !== String) ||
                  ((i = n.placeholder),
                    (n.placeholder = {
                      element: function () {
                        var n = t.currentItem[0].nodeName.toLowerCase(),
                          o = e("<" + n + ">", t.document[0]);
                        return (
                          t
                            ._addClass(
                              o,
                              "ui-sortable-placeholder",
                              i || t.currentItem[0].className
                            )
                            ._removeClass(o, "ui-sortable-helper"),
                          "tbody" === n
                            ? t._createTrPlaceholder(
                              t.currentItem.find("tr").eq(0),
                              e("<tr>", t.document[0]).appendTo(o)
                            )
                            : "tr" === n
                              ? t._createTrPlaceholder(t.currentItem, o)
                              : "img" === n &&
                              o.attr("src", t.currentItem.attr("src")),
                          i || o.css("visibility", "hidden"),
                          o
                        );
                      },
                      update: function (e, o) {
                        (i && !n.forcePlaceholderSize) ||
                          (o.height() ||
                            o.height(
                              t.currentItem.innerHeight() -
                              parseInt(
                                t.currentItem.css("paddingTop") || 0,
                                10
                              ) -
                              parseInt(
                                t.currentItem.css("paddingBottom") || 0,
                                10
                              )
                            ),
                            o.width() ||
                            o.width(
                              t.currentItem.innerWidth() -
                              parseInt(
                                t.currentItem.css("paddingLeft") || 0,
                                10
                              ) -
                              parseInt(
                                t.currentItem.css("paddingRight") || 0,
                                10
                              )
                            ));
                      },
                    })),
                  (t.placeholder = e(
                    n.placeholder.element.call(t.element, t.currentItem)
                  )),
                  t.currentItem.after(t.placeholder),
                  n.placeholder.update(t, t.placeholder);
              },
              _createTrPlaceholder: function (t, i) {
                var n = this;
                t.children().each(function () {
                  e("<td>&#160;</td>", n.document[0])
                    .attr("colspan", e(this).attr("colspan") || 1)
                    .appendTo(i);
                });
              },
              _contactContainers: function (t) {
                var i,
                  n,
                  o,
                  r,
                  a,
                  s,
                  l,
                  c,
                  u,
                  d,
                  p = null,
                  h = null;
                for (i = this.containers.length - 1; i >= 0; i--)
                  if (
                    !e.contains(
                      this.currentItem[0],
                      this.containers[i].element[0]
                    )
                  )
                    if (
                      this._intersectsWith(this.containers[i].containerCache)
                    ) {
                      if (
                        p &&
                        e.contains(this.containers[i].element[0], p.element[0])
                      )
                        continue;
                      (p = this.containers[i]), (h = i);
                    } else
                      this.containers[i].containerCache.over &&
                        (this.containers[i]._trigger(
                          "out",
                          t,
                          this._uiHash(this)
                        ),
                          (this.containers[i].containerCache.over = 0));
                if (p)
                  if (1 === this.containers.length)
                    this.containers[h].containerCache.over ||
                      (this.containers[h]._trigger(
                        "over",
                        t,
                        this._uiHash(this)
                      ),
                        (this.containers[h].containerCache.over = 1));
                  else {
                    for (
                      o = 1e4,
                      r = null,
                      a = (u =
                        p.floating || this._isFloating(this.currentItem))
                        ? "left"
                        : "top",
                      s = u ? "width" : "height",
                      d = u ? "pageX" : "pageY",
                      n = this.items.length - 1;
                      n >= 0;
                      n--
                    )
                      e.contains(
                        this.containers[h].element[0],
                        this.items[n].item[0]
                      ) &&
                        this.items[n].item[0] !== this.currentItem[0] &&
                        ((l = this.items[n].item.offset()[a]),
                          (c = !1),
                          t[d] - l > this.items[n][s] / 2 && (c = !0),
                          Math.abs(t[d] - l) < o &&
                          ((o = Math.abs(t[d] - l)),
                            (r = this.items[n]),
                            (this.direction = c ? "up" : "down")));
                    if (!r && !this.options.dropOnEmpty) return;
                    if (this.currentContainer === this.containers[h])
                      return void (
                        this.currentContainer.containerCache.over ||
                        (this.containers[h]._trigger("over", t, this._uiHash()),
                          (this.currentContainer.containerCache.over = 1))
                      );
                    r
                      ? this._rearrange(t, r, null, !0)
                      : this._rearrange(
                        t,
                        null,
                        this.containers[h].element,
                        !0
                      ),
                      this._trigger("change", t, this._uiHash()),
                      this.containers[h]._trigger(
                        "change",
                        t,
                        this._uiHash(this)
                      ),
                      (this.currentContainer = this.containers[h]),
                      this.options.placeholder.update(
                        this.currentContainer,
                        this.placeholder
                      ),
                      this.containers[h]._trigger(
                        "over",
                        t,
                        this._uiHash(this)
                      ),
                      (this.containers[h].containerCache.over = 1);
                  }
              },
              _createHelper: function (t) {
                var i = this.options,
                  n = e.isFunction(i.helper)
                    ? e(i.helper.apply(this.element[0], [t, this.currentItem]))
                    : "clone" === i.helper
                      ? this.currentItem.clone()
                      : this.currentItem;
                return (
                  n.parents("body").length ||
                  e(
                    "parent" !== i.appendTo
                      ? i.appendTo
                      : this.currentItem[0].parentNode
                  )[0].appendChild(n[0]),
                  n[0] === this.currentItem[0] &&
                  (this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left"),
                  }),
                  (n[0].style.width && !i.forceHelperSize) ||
                  n.width(this.currentItem.width()),
                  (n[0].style.height && !i.forceHelperSize) ||
                  n.height(this.currentItem.height()),
                  n
                );
              },
              _adjustOffsetFromHelper: function (t) {
                "string" == typeof t && (t = t.split(" ")),
                  e.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }),
                  "left" in t &&
                  (this.offset.click.left = t.left + this.margins.left),
                  "right" in t &&
                  (this.offset.click.left =
                    this.helperProportions.width -
                    t.right +
                    this.margins.left),
                  "top" in t &&
                  (this.offset.click.top = t.top + this.margins.top),
                  "bottom" in t &&
                  (this.offset.click.top =
                    this.helperProportions.height -
                    t.bottom +
                    this.margins.top);
              },
              _getParentOffset: function () {
                this.offsetParent = this.helper.offsetParent();
                var t = this.offsetParent.offset();
                return (
                  "absolute" === this.cssPosition &&
                  this.scrollParent[0] !== this.document[0] &&
                  e.contains(this.scrollParent[0], this.offsetParent[0]) &&
                  ((t.left += this.scrollParent.scrollLeft()),
                    (t.top += this.scrollParent.scrollTop())),
                  (this.offsetParent[0] === this.document[0].body ||
                    (this.offsetParent[0].tagName &&
                      "html" === this.offsetParent[0].tagName.toLowerCase() &&
                      e.ui.ie)) &&
                  (t = { top: 0, left: 0 }),
                  {
                    top:
                      t.top +
                      (parseInt(this.offsetParent.css("borderTopWidth"), 10) ||
                        0),
                    left:
                      t.left +
                      (parseInt(this.offsetParent.css("borderLeftWidth"), 10) ||
                        0),
                  }
                );
              },
              _getRelativeOffset: function () {
                if ("relative" === this.cssPosition) {
                  var e = this.currentItem.position();
                  return {
                    top:
                      e.top -
                      (parseInt(this.helper.css("top"), 10) || 0) +
                      this.scrollParent.scrollTop(),
                    left:
                      e.left -
                      (parseInt(this.helper.css("left"), 10) || 0) +
                      this.scrollParent.scrollLeft(),
                  };
                }
                return { top: 0, left: 0 };
              },
              _cacheMargins: function () {
                this.margins = {
                  left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                  top: parseInt(this.currentItem.css("marginTop"), 10) || 0,
                };
              },
              _cacheHelperProportions: function () {
                this.helperProportions = {
                  width: this.helper.outerWidth(),
                  height: this.helper.outerHeight(),
                };
              },
              _setContainment: function () {
                var t,
                  i,
                  n,
                  o = this.options;
                "parent" === o.containment &&
                  (o.containment = this.helper[0].parentNode),
                  ("document" !== o.containment &&
                    "window" !== o.containment) ||
                  (this.containment = [
                    0 - this.offset.relative.left - this.offset.parent.left,
                    0 - this.offset.relative.top - this.offset.parent.top,
                    "document" === o.containment
                      ? this.document.width()
                      : this.window.width() -
                      this.helperProportions.width -
                      this.margins.left,
                    ("document" === o.containment
                      ? this.document.height() ||
                      document.body.parentNode.scrollHeight
                      : this.window.height() ||
                      this.document[0].body.parentNode.scrollHeight) -
                    this.helperProportions.height -
                    this.margins.top,
                  ]),
                  /^(document|window|parent)$/.test(o.containment) ||
                  ((t = e(o.containment)[0]),
                    (i = e(o.containment).offset()),
                    (n = "hidden" !== e(t).css("overflow")),
                    (this.containment = [
                      i.left +
                      (parseInt(e(t).css("borderLeftWidth"), 10) || 0) +
                      (parseInt(e(t).css("paddingLeft"), 10) || 0) -
                      this.margins.left,
                      i.top +
                      (parseInt(e(t).css("borderTopWidth"), 10) || 0) +
                      (parseInt(e(t).css("paddingTop"), 10) || 0) -
                      this.margins.top,
                      i.left +
                      (n
                        ? Math.max(t.scrollWidth, t.offsetWidth)
                        : t.offsetWidth) -
                      (parseInt(e(t).css("borderLeftWidth"), 10) || 0) -
                      (parseInt(e(t).css("paddingRight"), 10) || 0) -
                      this.helperProportions.width -
                      this.margins.left,
                      i.top +
                      (n
                        ? Math.max(t.scrollHeight, t.offsetHeight)
                        : t.offsetHeight) -
                      (parseInt(e(t).css("borderTopWidth"), 10) || 0) -
                      (parseInt(e(t).css("paddingBottom"), 10) || 0) -
                      this.helperProportions.height -
                      this.margins.top,
                    ]));
              },
              _convertPositionTo: function (t, i) {
                i || (i = this.position);
                var n = "absolute" === t ? 1 : -1,
                  o =
                    "absolute" !== this.cssPosition ||
                      (this.scrollParent[0] !== this.document[0] &&
                        e.contains(this.scrollParent[0], this.offsetParent[0]))
                      ? this.scrollParent
                      : this.offsetParent,
                  r = /(html|body)/i.test(o[0].tagName);
                return {
                  top:
                    i.top +
                    this.offset.relative.top * n +
                    this.offset.parent.top * n -
                    ("fixed" === this.cssPosition
                      ? -this.scrollParent.scrollTop()
                      : r
                        ? 0
                        : o.scrollTop()) *
                    n,
                  left:
                    i.left +
                    this.offset.relative.left * n +
                    this.offset.parent.left * n -
                    ("fixed" === this.cssPosition
                      ? -this.scrollParent.scrollLeft()
                      : r
                        ? 0
                        : o.scrollLeft()) *
                    n,
                };
              },
              _generatePosition: function (t) {
                var i,
                  n,
                  o = this.options,
                  r = t.pageX,
                  a = t.pageY,
                  s =
                    "absolute" !== this.cssPosition ||
                      (this.scrollParent[0] !== this.document[0] &&
                        e.contains(this.scrollParent[0], this.offsetParent[0]))
                      ? this.scrollParent
                      : this.offsetParent,
                  l = /(html|body)/i.test(s[0].tagName);
                return (
                  "relative" !== this.cssPosition ||
                  (this.scrollParent[0] !== this.document[0] &&
                    this.scrollParent[0] !== this.offsetParent[0]) ||
                  (this.offset.relative = this._getRelativeOffset()),
                  this.originalPosition &&
                  (this.containment &&
                    (t.pageX - this.offset.click.left < this.containment[0] &&
                      (r = this.containment[0] + this.offset.click.left),
                      t.pageY - this.offset.click.top < this.containment[1] &&
                      (a = this.containment[1] + this.offset.click.top),
                      t.pageX - this.offset.click.left > this.containment[2] &&
                      (r = this.containment[2] + this.offset.click.left),
                      t.pageY - this.offset.click.top > this.containment[3] &&
                      (a = this.containment[3] + this.offset.click.top)),
                    o.grid &&
                    ((i =
                      this.originalPageY +
                      Math.round((a - this.originalPageY) / o.grid[1]) *
                      o.grid[1]),
                      (a = this.containment
                        ? i - this.offset.click.top >= this.containment[1] &&
                          i - this.offset.click.top <= this.containment[3]
                          ? i
                          : i - this.offset.click.top >= this.containment[1]
                            ? i - o.grid[1]
                            : i + o.grid[1]
                        : i),
                      (n =
                        this.originalPageX +
                        Math.round((r - this.originalPageX) / o.grid[0]) *
                        o.grid[0]),
                      (r = this.containment
                        ? n - this.offset.click.left >= this.containment[0] &&
                          n - this.offset.click.left <= this.containment[2]
                          ? n
                          : n - this.offset.click.left >= this.containment[0]
                            ? n - o.grid[0]
                            : n + o.grid[0]
                        : n))),
                  {
                    top:
                      a -
                      this.offset.click.top -
                      this.offset.relative.top -
                      this.offset.parent.top +
                      ("fixed" === this.cssPosition
                        ? -this.scrollParent.scrollTop()
                        : l
                          ? 0
                          : s.scrollTop()),
                    left:
                      r -
                      this.offset.click.left -
                      this.offset.relative.left -
                      this.offset.parent.left +
                      ("fixed" === this.cssPosition
                        ? -this.scrollParent.scrollLeft()
                        : l
                          ? 0
                          : s.scrollLeft()),
                  }
                );
              },
              _rearrange: function (e, t, i, n) {
                i
                  ? i[0].appendChild(this.placeholder[0])
                  : t.item[0].parentNode.insertBefore(
                    this.placeholder[0],
                    "down" === this.direction
                      ? t.item[0]
                      : t.item[0].nextSibling
                  ),
                  (this.counter = this.counter ? ++this.counter : 1);
                var o = this.counter;
                this._delay(function () {
                  o === this.counter && this.refreshPositions(!n);
                });
              },
              _clear: function (e, t) {
                this.reverting = !1;
                var i,
                  n = [];
                if (
                  (!this._noFinalSort &&
                    this.currentItem.parent().length &&
                    this.placeholder.before(this.currentItem),
                    (this._noFinalSort = null),
                    this.helper[0] === this.currentItem[0])
                ) {
                  for (i in this._storedCSS)
                    ("auto" !== this._storedCSS[i] &&
                      "static" !== this._storedCSS[i]) ||
                      (this._storedCSS[i] = "");
                  this.currentItem.css(this._storedCSS),
                    this._removeClass(this.currentItem, "ui-sortable-helper");
                } else this.currentItem.show();
                function o(e, t, i) {
                  return function (n) {
                    i._trigger(e, n, t._uiHash(t));
                  };
                }
                for (
                  this.fromOutside &&
                  !t &&
                  n.push(function (e) {
                    this._trigger(
                      "receive",
                      e,
                      this._uiHash(this.fromOutside)
                    );
                  }),
                  (!this.fromOutside &&
                    this.domPosition.prev ===
                    this.currentItem.prev().not(".ui-sortable-helper")[0] &&
                    this.domPosition.parent ===
                    this.currentItem.parent()[0]) ||
                  t ||
                  n.push(function (e) {
                    this._trigger("update", e, this._uiHash());
                  }),
                  this !== this.currentContainer &&
                  (t ||
                    (n.push(function (e) {
                      this._trigger("remove", e, this._uiHash());
                    }),
                      n.push(
                        function (e) {
                          return function (t) {
                            e._trigger("receive", t, this._uiHash(this));
                          };
                        }.call(this, this.currentContainer)
                      ),
                      n.push(
                        function (e) {
                          return function (t) {
                            e._trigger("update", t, this._uiHash(this));
                          };
                        }.call(this, this.currentContainer)
                      ))),
                  i = this.containers.length - 1;
                  i >= 0;
                  i--
                )
                  t || n.push(o("deactivate", this, this.containers[i])),
                    this.containers[i].containerCache.over &&
                    (n.push(o("out", this, this.containers[i])),
                      (this.containers[i].containerCache.over = 0));
                if (
                  (this.storedCursor &&
                    (this.document
                      .find("body")
                      .css("cursor", this.storedCursor),
                      this.storedStylesheet.remove()),
                    this._storedOpacity &&
                    this.helper.css("opacity", this._storedOpacity),
                    this._storedZIndex &&
                    this.helper.css(
                      "zIndex",
                      "auto" === this._storedZIndex ? "" : this._storedZIndex
                    ),
                    (this.dragging = !1),
                    t || this._trigger("beforeStop", e, this._uiHash()),
                    this.placeholder[0].parentNode.removeChild(
                      this.placeholder[0]
                    ),
                    this.cancelHelperRemoval ||
                    (this.helper[0] !== this.currentItem[0] &&
                      this.helper.remove(),
                      (this.helper = null)),
                    !t)
                ) {
                  for (i = 0; i < n.length; i++) n[i].call(this, e);
                  this._trigger("stop", e, this._uiHash());
                }
                return (this.fromOutside = !1), !this.cancelHelperRemoval;
              },
              _trigger: function () {
                !1 === e.Widget.prototype._trigger.apply(this, arguments) &&
                  this.cancel();
              },
              _uiHash: function (t) {
                var i = t || this;
                return {
                  helper: i.helper,
                  placeholder: i.placeholder || e([]),
                  position: i.position,
                  originalPosition: i.originalPosition,
                  offset: i.positionAbs,
                  item: i.currentItem,
                  sender: t ? t.element : null,
                };
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Accordion 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(6), i(8), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.widget("ui.accordion", {
              version: "1.12.1",
              options: {
                active: 0,
                animate: {},
                classes: {
                  "ui-accordion-header": "ui-corner-top",
                  "ui-accordion-header-collapsed": "ui-corner-all",
                  "ui-accordion-content": "ui-corner-bottom",
                },
                collapsible: !1,
                event: "click",
                header: "> li > :first-child, > :not(li):even",
                heightStyle: "auto",
                icons: {
                  activeHeader: "ui-icon-triangle-1-s",
                  header: "ui-icon-triangle-1-e",
                },
                activate: null,
                beforeActivate: null,
              },
              hideProps: {
                borderTopWidth: "hide",
                borderBottomWidth: "hide",
                paddingTop: "hide",
                paddingBottom: "hide",
                height: "hide",
              },
              showProps: {
                borderTopWidth: "show",
                borderBottomWidth: "show",
                paddingTop: "show",
                paddingBottom: "show",
                height: "show",
              },
              _create: function () {
                var t = this.options;
                (this.prevShow = this.prevHide = e()),
                  this._addClass("ui-accordion", "ui-widget ui-helper-reset"),
                  this.element.attr("role", "tablist"),
                  t.collapsible ||
                  (!1 !== t.active && null != t.active) ||
                  (t.active = 0),
                  this._processPanels(),
                  t.active < 0 && (t.active += this.headers.length),
                  this._refresh();
              },
              _getCreateEventData: function () {
                return {
                  header: this.active,
                  panel: this.active.length ? this.active.next() : e(),
                };
              },
              _createIcons: function () {
                var t,
                  i,
                  n = this.options.icons;
                n &&
                  ((t = e("<span>")),
                    this._addClass(
                      t,
                      "ui-accordion-header-icon",
                      "ui-icon " + n.header
                    ),
                    t.prependTo(this.headers),
                    (i = this.active.children(".ui-accordion-header-icon")),
                    this._removeClass(i, n.header)
                      ._addClass(i, null, n.activeHeader)
                      ._addClass(this.headers, "ui-accordion-icons"));
              },
              _destroyIcons: function () {
                this._removeClass(this.headers, "ui-accordion-icons"),
                  this.headers.children(".ui-accordion-header-icon").remove();
              },
              _destroy: function () {
                var e;
                this.element.removeAttr("role"),
                  this.headers
                    .removeAttr(
                      "role aria-expanded aria-selected aria-controls tabIndex"
                    )
                    .removeUniqueId(),
                  this._destroyIcons(),
                  (e = this.headers
                    .next()
                    .css("display", "")
                    .removeAttr("role aria-hidden aria-labelledby")
                    .removeUniqueId()),
                  "content" !== this.options.heightStyle && e.css("height", "");
              },
              _setOption: function (e, t) {
                "active" !== e
                  ? ("event" === e &&
                    (this.options.event &&
                      this._off(this.headers, this.options.event),
                      this._setupEvents(t)),
                    this._super(e, t),
                    "collapsible" !== e ||
                    t ||
                    !1 !== this.options.active ||
                    this._activate(0),
                    "icons" === e &&
                    (this._destroyIcons(), t && this._createIcons()))
                  : this._activate(t);
              },
              _setOptionDisabled: function (e) {
                this._super(e),
                  this.element.attr("aria-disabled", e),
                  this._toggleClass(null, "ui-state-disabled", !!e),
                  this._toggleClass(
                    this.headers.add(this.headers.next()),
                    null,
                    "ui-state-disabled",
                    !!e
                  );
              },
              _keydown: function (t) {
                if (!t.altKey && !t.ctrlKey) {
                  var i = e.ui.keyCode,
                    n = this.headers.length,
                    o = this.headers.index(t.target),
                    r = !1;
                  switch (t.keyCode) {
                    case i.RIGHT:
                    case i.DOWN:
                      r = this.headers[(o + 1) % n];
                      break;
                    case i.LEFT:
                    case i.UP:
                      r = this.headers[(o - 1 + n) % n];
                      break;
                    case i.SPACE:
                    case i.ENTER:
                      this._eventHandler(t);
                      break;
                    case i.HOME:
                      r = this.headers[0];
                      break;
                    case i.END:
                      r = this.headers[n - 1];
                  }
                  r &&
                    (e(t.target).attr("tabIndex", -1),
                      e(r).attr("tabIndex", 0),
                      e(r).trigger("focus"),
                      t.preventDefault());
                }
              },
              _panelKeyDown: function (t) {
                t.keyCode === e.ui.keyCode.UP &&
                  t.ctrlKey &&
                  e(t.currentTarget).prev().trigger("focus");
              },
              refresh: function () {
                var t = this.options;
                this._processPanels(),
                  (!1 === t.active && !0 === t.collapsible) ||
                    !this.headers.length
                    ? ((t.active = !1), (this.active = e()))
                    : !1 === t.active
                      ? this._activate(0)
                      : this.active.length &&
                        !e.contains(this.element[0], this.active[0])
                        ? this.headers.length ===
                          this.headers.find(".ui-state-disabled").length
                          ? ((t.active = !1), (this.active = e()))
                          : this._activate(Math.max(0, t.active - 1))
                        : (t.active = this.headers.index(this.active)),
                  this._destroyIcons(),
                  this._refresh();
              },
              _processPanels: function () {
                var e = this.headers,
                  t = this.panels;
                (this.headers = this.element.find(this.options.header)),
                  this._addClass(
                    this.headers,
                    "ui-accordion-header ui-accordion-header-collapsed",
                    "ui-state-default"
                  ),
                  (this.panels = this.headers
                    .next()
                    .filter(":not(.ui-accordion-content-active)")
                    .hide()),
                  this._addClass(
                    this.panels,
                    "ui-accordion-content",
                    "ui-helper-reset ui-widget-content"
                  ),
                  t &&
                  (this._off(e.not(this.headers)),
                    this._off(t.not(this.panels)));
              },
              _refresh: function () {
                var t,
                  i = this.options,
                  n = i.heightStyle,
                  o = this.element.parent();
                (this.active = this._findActive(i.active)),
                  this._addClass(
                    this.active,
                    "ui-accordion-header-active",
                    "ui-state-active"
                  )._removeClass(this.active, "ui-accordion-header-collapsed"),
                  this._addClass(
                    this.active.next(),
                    "ui-accordion-content-active"
                  ),
                  this.active.next().show(),
                  this.headers
                    .attr("role", "tab")
                    .each(function () {
                      var t = e(this),
                        i = t.uniqueId().attr("id"),
                        n = t.next(),
                        o = n.uniqueId().attr("id");
                      t.attr("aria-controls", o), n.attr("aria-labelledby", i);
                    })
                    .next()
                    .attr("role", "tabpanel"),
                  this.headers
                    .not(this.active)
                    .attr({
                      "aria-selected": "false",
                      "aria-expanded": "false",
                      tabIndex: -1,
                    })
                    .next()
                    .attr({ "aria-hidden": "true" })
                    .hide(),
                  this.active.length
                    ? this.active
                      .attr({
                        "aria-selected": "true",
                        "aria-expanded": "true",
                        tabIndex: 0,
                      })
                      .next()
                      .attr({ "aria-hidden": "false" })
                    : this.headers.eq(0).attr("tabIndex", 0),
                  this._createIcons(),
                  this._setupEvents(i.event),
                  "fill" === n
                    ? ((t = o.height()),
                      this.element.siblings(":visible").each(function () {
                        var i = e(this),
                          n = i.css("position");
                        "absolute" !== n &&
                          "fixed" !== n &&
                          (t -= i.outerHeight(!0));
                      }),
                      this.headers.each(function () {
                        t -= e(this).outerHeight(!0);
                      }),
                      this.headers
                        .next()
                        .each(function () {
                          e(this).height(
                            Math.max(
                              0,
                              t - e(this).innerHeight() + e(this).height()
                            )
                          );
                        })
                        .css("overflow", "auto"))
                    : "auto" === n &&
                    ((t = 0),
                      this.headers
                        .next()
                        .each(function () {
                          var i = e(this).is(":visible");
                          i || e(this).show(),
                            (t = Math.max(
                              t,
                              e(this).css("height", "").height()
                            )),
                            i || e(this).hide();
                        })
                        .height(t));
              },
              _activate: function (t) {
                var i = this._findActive(t)[0];
                i !== this.active[0] &&
                  ((i = i || this.active[0]),
                    this._eventHandler({
                      target: i,
                      currentTarget: i,
                      preventDefault: e.noop,
                    }));
              },
              _findActive: function (t) {
                return "number" == typeof t ? this.headers.eq(t) : e();
              },
              _setupEvents: function (t) {
                var i = { keydown: "_keydown" };
                t &&
                  e.each(t.split(" "), function (e, t) {
                    i[t] = "_eventHandler";
                  }),
                  this._off(this.headers.add(this.headers.next())),
                  this._on(this.headers, i),
                  this._on(this.headers.next(), { keydown: "_panelKeyDown" }),
                  this._hoverable(this.headers),
                  this._focusable(this.headers);
              },
              _eventHandler: function (t) {
                var i,
                  n,
                  o = this.options,
                  r = this.active,
                  a = e(t.currentTarget),
                  s = a[0] === r[0],
                  l = s && o.collapsible,
                  c = l ? e() : a.next(),
                  u = r.next(),
                  d = {
                    oldHeader: r,
                    oldPanel: u,
                    newHeader: l ? e() : a,
                    newPanel: c,
                  };
                t.preventDefault(),
                  (s && !o.collapsible) ||
                  !1 === this._trigger("beforeActivate", t, d) ||
                  ((o.active = !l && this.headers.index(a)),
                    (this.active = s ? e() : a),
                    this._toggle(d),
                    this._removeClass(
                      r,
                      "ui-accordion-header-active",
                      "ui-state-active"
                    ),
                    o.icons &&
                    ((i = r.children(".ui-accordion-header-icon")),
                      this._removeClass(
                        i,
                        null,
                        o.icons.activeHeader
                      )._addClass(i, null, o.icons.header)),
                    s ||
                    (this._removeClass(
                      a,
                      "ui-accordion-header-collapsed"
                    )._addClass(
                      a,
                      "ui-accordion-header-active",
                      "ui-state-active"
                    ),
                      o.icons &&
                      ((n = a.children(".ui-accordion-header-icon")),
                        this._removeClass(n, null, o.icons.header)._addClass(
                          n,
                          null,
                          o.icons.activeHeader
                        )),
                      this._addClass(a.next(), "ui-accordion-content-active")));
              },
              _toggle: function (t) {
                var i = t.newPanel,
                  n = this.prevShow.length ? this.prevShow : t.oldPanel;
                this.prevShow.add(this.prevHide).stop(!0, !0),
                  (this.prevShow = i),
                  (this.prevHide = n),
                  this.options.animate
                    ? this._animate(i, n, t)
                    : (n.hide(), i.show(), this._toggleComplete(t)),
                  n.attr({ "aria-hidden": "true" }),
                  n
                    .prev()
                    .attr({
                      "aria-selected": "false",
                      "aria-expanded": "false",
                    }),
                  i.length && n.length
                    ? n.prev().attr({ tabIndex: -1, "aria-expanded": "false" })
                    : i.length &&
                    this.headers
                      .filter(function () {
                        return 0 === parseInt(e(this).attr("tabIndex"), 10);
                      })
                      .attr("tabIndex", -1),
                  i
                    .attr("aria-hidden", "false")
                    .prev()
                    .attr({
                      "aria-selected": "true",
                      "aria-expanded": "true",
                      tabIndex: 0,
                    });
              },
              _animate: function (e, t, i) {
                var n,
                  o,
                  r,
                  a = this,
                  s = 0,
                  l = e.css("box-sizing"),
                  c = e.length && (!t.length || e.index() < t.index()),
                  u = this.options.animate || {},
                  d = (c && u.down) || u,
                  p = function () {
                    a._toggleComplete(i);
                  };
                return (
                  "number" == typeof d && (r = d),
                  "string" == typeof d && (o = d),
                  (o = o || d.easing || u.easing),
                  (r = r || d.duration || u.duration),
                  t.length
                    ? e.length
                      ? ((n = e.show().outerHeight()),
                        t.animate(this.hideProps, {
                          duration: r,
                          easing: o,
                          step: function (e, t) {
                            t.now = Math.round(e);
                          },
                        }),
                        void e.hide().animate(this.showProps, {
                          duration: r,
                          easing: o,
                          complete: p,
                          step: function (e, i) {
                            (i.now = Math.round(e)),
                              "height" !== i.prop
                                ? "content-box" === l && (s += i.now)
                                : "content" !== a.options.heightStyle &&
                                ((i.now = Math.round(
                                  n - t.outerHeight() - s
                                )),
                                  (s = 0));
                          },
                        }))
                      : t.animate(this.hideProps, r, o, p)
                    : e.animate(this.showProps, r, o, p)
                );
              },
              _toggleComplete: function (e) {
                var t = e.oldPanel,
                  i = t.prev();
                this._removeClass(t, "ui-accordion-content-active"),
                  this._removeClass(i, "ui-accordion-header-active")._addClass(
                    i,
                    "ui-accordion-header-collapsed"
                  ),
                  t.length &&
                  (t.parent()[0].className = t.parent()[0].className),
                  this._trigger("activate", null, e);
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Autocomplete 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(20), i(6), i(9), i(10), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (
              e.widget("ui.autocomplete", {
                version: "1.12.1",
                defaultElement: "<input>",
                options: {
                  appendTo: null,
                  autoFocus: !1,
                  delay: 300,
                  minLength: 1,
                  position: {
                    my: "left top",
                    at: "left bottom",
                    collision: "none",
                  },
                  source: null,
                  change: null,
                  close: null,
                  focus: null,
                  open: null,
                  response: null,
                  search: null,
                  select: null,
                },
                requestIndex: 0,
                pending: 0,
                _create: function () {
                  var t,
                    i,
                    n,
                    o = this.element[0].nodeName.toLowerCase(),
                    r = "textarea" === o,
                    a = "input" === o;
                  (this.isMultiLine =
                    r || (!a && this._isContentEditable(this.element))),
                    (this.valueMethod = this.element[r || a ? "val" : "text"]),
                    (this.isNewMenu = !0),
                    this._addClass("ui-autocomplete-input"),
                    this.element.attr("autocomplete", "off"),
                    this._on(this.element, {
                      keydown: function (o) {
                        if (this.element.prop("readOnly"))
                          return (t = !0), (n = !0), void (i = !0);
                        (t = !1), (n = !1), (i = !1);
                        var r = e.ui.keyCode;
                        switch (o.keyCode) {
                          case r.PAGE_UP:
                            (t = !0), this._move("previousPage", o);
                            break;
                          case r.PAGE_DOWN:
                            (t = !0), this._move("nextPage", o);
                            break;
                          case r.UP:
                            (t = !0), this._keyEvent("previous", o);
                            break;
                          case r.DOWN:
                            (t = !0), this._keyEvent("next", o);
                            break;
                          case r.ENTER:
                            this.menu.active &&
                              ((t = !0),
                                o.preventDefault(),
                                this.menu.select(o));
                            break;
                          case r.TAB:
                            this.menu.active && this.menu.select(o);
                            break;
                          case r.ESCAPE:
                            this.menu.element.is(":visible") &&
                              (this.isMultiLine || this._value(this.term),
                                this.close(o),
                                o.preventDefault());
                            break;
                          default:
                            (i = !0), this._searchTimeout(o);
                        }
                      },
                      keypress: function (n) {
                        if (t)
                          return (
                            (t = !1),
                            void (
                              (this.isMultiLine &&
                                !this.menu.element.is(":visible")) ||
                              n.preventDefault()
                            )
                          );
                        if (!i) {
                          var o = e.ui.keyCode;
                          switch (n.keyCode) {
                            case o.PAGE_UP:
                              this._move("previousPage", n);
                              break;
                            case o.PAGE_DOWN:
                              this._move("nextPage", n);
                              break;
                            case o.UP:
                              this._keyEvent("previous", n);
                              break;
                            case o.DOWN:
                              this._keyEvent("next", n);
                          }
                        }
                      },
                      input: function (e) {
                        if (n) return (n = !1), void e.preventDefault();
                        this._searchTimeout(e);
                      },
                      focus: function () {
                        (this.selectedItem = null),
                          (this.previous = this._value());
                      },
                      blur: function (e) {
                        this.cancelBlur
                          ? delete this.cancelBlur
                          : (clearTimeout(this.searching),
                            this.close(e),
                            this._change(e));
                      },
                    }),
                    this._initSource(),
                    (this.menu = e("<ul>")
                      .appendTo(this._appendTo())
                      .menu({ role: null })
                      .hide()
                      .menu("instance")),
                    this._addClass(
                      this.menu.element,
                      "ui-autocomplete",
                      "ui-front"
                    ),
                    this._on(this.menu.element, {
                      mousedown: function (t) {
                        t.preventDefault(),
                          (this.cancelBlur = !0),
                          this._delay(function () {
                            delete this.cancelBlur,
                              this.element[0] !==
                              e.ui.safeActiveElement(this.document[0]) &&
                              this.element.trigger("focus");
                          });
                      },
                      menufocus: function (t, i) {
                        var n, o;
                        if (
                          this.isNewMenu &&
                          ((this.isNewMenu = !1),
                            t.originalEvent &&
                            /^mouse/.test(t.originalEvent.type))
                        )
                          return (
                            this.menu.blur(),
                            void this.document.one("mousemove", function () {
                              e(t.target).trigger(t.originalEvent);
                            })
                          );
                        (o = i.item.data("ui-autocomplete-item")),
                          !1 !== this._trigger("focus", t, { item: o }) &&
                          t.originalEvent &&
                          /^key/.test(t.originalEvent.type) &&
                          this._value(o.value),
                          (n = i.item.attr("aria-label") || o.value) &&
                          e.trim(n).length &&
                          (this.liveRegion.children().hide(),
                            e("<div>").text(n).appendTo(this.liveRegion));
                      },
                      menuselect: function (t, i) {
                        var n = i.item.data("ui-autocomplete-item"),
                          o = this.previous;
                        this.element[0] !==
                          e.ui.safeActiveElement(this.document[0]) &&
                          (this.element.trigger("focus"),
                            (this.previous = o),
                            this._delay(function () {
                              (this.previous = o), (this.selectedItem = n);
                            })),
                          !1 !== this._trigger("select", t, { item: n }) &&
                          this._value(n.value),
                          (this.term = this._value()),
                          this.close(t),
                          (this.selectedItem = n);
                      },
                    }),
                    (this.liveRegion = e("<div>", {
                      role: "status",
                      "aria-live": "assertive",
                      "aria-relevant": "additions",
                    }).appendTo(this.document[0].body)),
                    this._addClass(
                      this.liveRegion,
                      null,
                      "ui-helper-hidden-accessible"
                    ),
                    this._on(this.window, {
                      beforeunload: function () {
                        this.element.removeAttr("autocomplete");
                      },
                    });
                },
                _destroy: function () {
                  clearTimeout(this.searching),
                    this.element.removeAttr("autocomplete"),
                    this.menu.element.remove(),
                    this.liveRegion.remove();
                },
                _setOption: function (e, t) {
                  this._super(e, t),
                    "source" === e && this._initSource(),
                    "appendTo" === e &&
                    this.menu.element.appendTo(this._appendTo()),
                    "disabled" === e && t && this.xhr && this.xhr.abort();
                },
                _isEventTargetInWidget: function (t) {
                  var i = this.menu.element[0];
                  return (
                    t.target === this.element[0] ||
                    t.target === i ||
                    e.contains(i, t.target)
                  );
                },
                _closeOnClickOutside: function (e) {
                  this._isEventTargetInWidget(e) || this.close();
                },
                _appendTo: function () {
                  var t = this.options.appendTo;
                  return (
                    t &&
                    (t =
                      t.jquery || t.nodeType
                        ? e(t)
                        : this.document.find(t).eq(0)),
                    (t && t[0]) ||
                    (t = this.element.closest(".ui-front, dialog")),
                    t.length || (t = this.document[0].body),
                    t
                  );
                },
                _initSource: function () {
                  var t,
                    i,
                    n = this;
                  e.isArray(this.options.source)
                    ? ((t = this.options.source),
                      (this.source = function (i, n) {
                        n(e.ui.autocomplete.filter(t, i.term));
                      }))
                    : "string" == typeof this.options.source
                      ? ((i = this.options.source),
                        (this.source = function (t, o) {
                          n.xhr && n.xhr.abort(),
                            (n.xhr = e.ajax({
                              url: i,
                              data: t,
                              dataType: "json",
                              success: function (e) {
                                o(e);
                              },
                              error: function () {
                                o([]);
                              },
                            }));
                        }))
                      : (this.source = this.options.source);
                },
                _searchTimeout: function (e) {
                  clearTimeout(this.searching),
                    (this.searching = this._delay(function () {
                      var t = this.term === this._value(),
                        i = this.menu.element.is(":visible"),
                        n = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
                      (t && (!t || i || n)) ||
                        ((this.selectedItem = null), this.search(null, e));
                    }, this.options.delay));
                },
                search: function (e, t) {
                  return (
                    (e = null != e ? e : this._value()),
                    (this.term = this._value()),
                    e.length < this.options.minLength
                      ? this.close(t)
                      : !1 !== this._trigger("search", t)
                        ? this._search(e)
                        : void 0
                  );
                },
                _search: function (e) {
                  this.pending++,
                    this._addClass("ui-autocomplete-loading"),
                    (this.cancelSearch = !1),
                    this.source({ term: e }, this._response());
                },
                _response: function () {
                  var t = ++this.requestIndex;
                  return e.proxy(function (e) {
                    t === this.requestIndex && this.__response(e),
                      this.pending--,
                      this.pending ||
                      this._removeClass("ui-autocomplete-loading");
                  }, this);
                },
                __response: function (e) {
                  e && (e = this._normalize(e)),
                    this._trigger("response", null, { content: e }),
                    !this.options.disabled &&
                      e &&
                      e.length &&
                      !this.cancelSearch
                      ? (this._suggest(e), this._trigger("open"))
                      : this._close();
                },
                close: function (e) {
                  (this.cancelSearch = !0), this._close(e);
                },
                _close: function (e) {
                  this._off(this.document, "mousedown"),
                    this.menu.element.is(":visible") &&
                    (this.menu.element.hide(),
                      this.menu.blur(),
                      (this.isNewMenu = !0),
                      this._trigger("close", e));
                },
                _change: function (e) {
                  this.previous !== this._value() &&
                    this._trigger("change", e, { item: this.selectedItem });
                },
                _normalize: function (t) {
                  return t.length && t[0].label && t[0].value
                    ? t
                    : e.map(t, function (t) {
                      return "string" == typeof t
                        ? { label: t, value: t }
                        : e.extend({}, t, {
                          label: t.label || t.value,
                          value: t.value || t.label,
                        });
                    });
                },
                _suggest: function (t) {
                  var i = this.menu.element.empty();
                  this._renderMenu(i, t),
                    (this.isNewMenu = !0),
                    this.menu.refresh(),
                    i.show(),
                    this._resizeMenu(),
                    i.position(
                      e.extend({ of: this.element }, this.options.position)
                    ),
                    this.options.autoFocus && this.menu.next(),
                    this._on(this.document, {
                      mousedown: "_closeOnClickOutside",
                    });
                },
                _resizeMenu: function () {
                  var e = this.menu.element;
                  e.outerWidth(
                    Math.max(
                      e.width("").outerWidth() + 1,
                      this.element.outerWidth()
                    )
                  );
                },
                _renderMenu: function (t, i) {
                  var n = this;
                  e.each(i, function (e, i) {
                    n._renderItemData(t, i);
                  });
                },
                _renderItemData: function (e, t) {
                  return this._renderItem(e, t).data("ui-autocomplete-item", t);
                },
                _renderItem: function (t, i) {
                  return e("<li>").append(e("<div>").text(i.label)).appendTo(t);
                },
                _move: function (e, t) {
                  if (this.menu.element.is(":visible"))
                    return (this.menu.isFirstItem() && /^previous/.test(e)) ||
                      (this.menu.isLastItem() && /^next/.test(e))
                      ? (this.isMultiLine || this._value(this.term),
                        void this.menu.blur())
                      : void this.menu[e](t);
                  this.search(null, t);
                },
                widget: function () {
                  return this.menu.element;
                },
                _value: function () {
                  return this.valueMethod.apply(this.element, arguments);
                },
                _keyEvent: function (e, t) {
                  (this.isMultiLine && !this.menu.element.is(":visible")) ||
                    (this._move(e, t), t.preventDefault());
                },
                _isContentEditable: function (e) {
                  if (!e.length) return !1;
                  var t = e.prop("contentEditable");
                  return "inherit" === t
                    ? this._isContentEditable(e.parent())
                    : "true" === t;
                },
              }),
              e.extend(e.ui.autocomplete, {
                escapeRegex: function (e) {
                  return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
                },
                filter: function (t, i) {
                  var n = new RegExp(e.ui.autocomplete.escapeRegex(i), "i");
                  return e.grep(t, function (e) {
                    return n.test(e.label || e.value || e);
                  });
                },
              }),
              e.widget("ui.autocomplete", e.ui.autocomplete, {
                options: {
                  messages: {
                    noResults: "No search results.",
                    results: function (e) {
                      return (
                        e +
                        (e > 1 ? " results are" : " result is") +
                        " available, use up and down arrow keys to navigate."
                      );
                    },
                  },
                },
                __response: function (t) {
                  var i;
                  this._superApply(arguments),
                    this.options.disabled ||
                    this.cancelSearch ||
                    ((i =
                      t && t.length
                        ? this.options.messages.results(t.length)
                        : this.options.messages.noResults),
                      this.liveRegion.children().hide(),
                      e("<div>").text(i).appendTo(this.liveRegion));
                },
              }),
              e.ui.autocomplete
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Datepicker 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(6)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            var t;
            function i() {
              (this._curInst = null),
                (this._keyEvent = !1),
                (this._disabledInputs = []),
                (this._datepickerShowing = !1),
                (this._inDialog = !1),
                (this._mainDivId = "ui-datepicker-div"),
                (this._inlineClass = "ui-datepicker-inline"),
                (this._appendClass = "ui-datepicker-append"),
                (this._triggerClass = "ui-datepicker-trigger"),
                (this._dialogClass = "ui-datepicker-dialog"),
                (this._disableClass = "ui-datepicker-disabled"),
                (this._unselectableClass = "ui-datepicker-unselectable"),
                (this._currentClass = "ui-datepicker-current-day"),
                (this._dayOverClass = "ui-datepicker-days-cell-over"),
                (this.regional = []),
                (this.regional[""] = {
                  closeText: "Done",
                  prevText: "Prev",
                  nextText: "Next",
                  currentText: "Today",
                  monthNames: [
                    "January",
                    "February",
                    "March",
                    "April",
                    "May",
                    "June",
                    "July",
                    "August",
                    "September",
                    "October",
                    "November",
                    "December",
                  ],
                  monthNamesShort: [
                    "Jan",
                    "Feb",
                    "Mar",
                    "Apr",
                    "May",
                    "Jun",
                    "Jul",
                    "Aug",
                    "Sep",
                    "Oct",
                    "Nov",
                    "Dec",
                  ],
                  dayNames: [
                    "Sunday",
                    "Monday",
                    "Tuesday",
                    "Wednesday",
                    "Thursday",
                    "Friday",
                    "Saturday",
                  ],
                  dayNamesShort: [
                    "Sun",
                    "Mon",
                    "Tue",
                    "Wed",
                    "Thu",
                    "Fri",
                    "Sat",
                  ],
                  dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                  weekHeader: "Wk",
                  dateFormat: "mm/dd/yy",
                  firstDay: 0,
                  isRTL: !1,
                  showMonthAfterYear: !1,
                  yearSuffix: "",
                }),
                (this._defaults = {
                  showOn: "focus",
                  showAnim: "fadeIn",
                  showOptions: {},
                  defaultDate: null,
                  appendText: "",
                  buttonText: "...",
                  buttonImage: "",
                  buttonImageOnly: !1,
                  hideIfNoPrevNext: !1,
                  navigationAsDateFormat: !1,
                  gotoCurrent: !1,
                  changeMonth: !1,
                  changeYear: !1,
                  yearRange: "c-10:c+10",
                  showOtherMonths: !1,
                  selectOtherMonths: !1,
                  showWeek: !1,
                  calculateWeek: this.iso8601Week,
                  shortYearCutoff: "+10",
                  minDate: null,
                  maxDate: null,
                  duration: "fast",
                  beforeShowDay: null,
                  beforeShow: null,
                  onSelect: null,
                  onChangeMonthYear: null,
                  onClose: null,
                  numberOfMonths: 1,
                  showCurrentAtPos: 0,
                  stepMonths: 1,
                  stepBigMonths: 12,
                  altField: "",
                  altFormat: "",
                  constrainInput: !0,
                  showButtonPanel: !1,
                  autoSize: !1,
                  disabled: !1,
                }),
                e.extend(this._defaults, this.regional[""]),
                (this.regional.en = e.extend(!0, {}, this.regional[""])),
                (this.regional["en-US"] = e.extend(!0, {}, this.regional.en)),
                (this.dpDiv = n(
                  e(
                    "<div id='" +
                    this._mainDivId +
                    "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"
                  )
                ));
            }
            function n(t) {
              var i =
                "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
              return t
                .on("mouseout", i, function () {
                  e(this).removeClass("ui-state-hover"),
                    -1 !== this.className.indexOf("ui-datepicker-prev") &&
                    e(this).removeClass("ui-datepicker-prev-hover"),
                    -1 !== this.className.indexOf("ui-datepicker-next") &&
                    e(this).removeClass("ui-datepicker-next-hover");
                })
                .on("mouseover", i, o);
            }
            function o() {
              e.datepicker._isDisabledDatepicker(
                t.inline ? t.dpDiv.parent()[0] : t.input[0]
              ) ||
                (e(this)
                  .parents(".ui-datepicker-calendar")
                  .find("a")
                  .removeClass("ui-state-hover"),
                  e(this).addClass("ui-state-hover"),
                  -1 !== this.className.indexOf("ui-datepicker-prev") &&
                  e(this).addClass("ui-datepicker-prev-hover"),
                  -1 !== this.className.indexOf("ui-datepicker-next") &&
                  e(this).addClass("ui-datepicker-next-hover"));
            }
            function r(t, i) {
              for (var n in (e.extend(t, i), i)) null == i[n] && (t[n] = i[n]);
              return t;
            }
            return (
              e.extend(e.ui, { datepicker: { version: "1.12.1" } }),
              e.extend(i.prototype, {
                markerClassName: "hasDatepicker",
                maxRows: 4,
                _widgetDatepicker: function () {
                  return this.dpDiv;
                },
                setDefaults: function (e) {
                  return r(this._defaults, e || {}), this;
                },
                _attachDatepicker: function (t, i) {
                  var n, o, r;
                  (o =
                    "div" === (n = t.nodeName.toLowerCase()) || "span" === n),
                    t.id || ((this.uuid += 1), (t.id = "dp" + this.uuid)),
                    ((r = this._newInst(e(t), o)).settings = e.extend(
                      {},
                      i || {}
                    )),
                    "input" === n
                      ? this._connectDatepicker(t, r)
                      : o && this._inlineDatepicker(t, r);
                },
                _newInst: function (t, i) {
                  return {
                    id: t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"),
                    input: t,
                    selectedDay: 0,
                    selectedMonth: 0,
                    selectedYear: 0,
                    drawMonth: 0,
                    drawYear: 0,
                    inline: i,
                    dpDiv: i
                      ? n(
                        e(
                          "<div class='" +
                          this._inlineClass +
                          " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"
                        )
                      )
                      : this.dpDiv,
                  };
                },
                _connectDatepicker: function (t, i) {
                  var n = e(t);
                  (i.append = e([])),
                    (i.trigger = e([])),
                    n.hasClass(this.markerClassName) ||
                    (this._attachments(n, i),
                      n
                        .addClass(this.markerClassName)
                        .on("keydown", this._doKeyDown)
                        .on("keypress", this._doKeyPress)
                        .on("keyup", this._doKeyUp),
                      this._autoSize(i),
                      e.data(t, "datepicker", i),
                      i.settings.disabled && this._disableDatepicker(t));
                },
                _attachments: function (t, i) {
                  var n,
                    o,
                    r,
                    a = this._get(i, "appendText"),
                    s = this._get(i, "isRTL");
                  i.append && i.append.remove(),
                    a &&
                    ((i.append = e(
                      "<span class='" +
                      this._appendClass +
                      "'>" +
                      a +
                      "</span>"
                    )),
                      t[s ? "before" : "after"](i.append)),
                    t.off("focus", this._showDatepicker),
                    i.trigger && i.trigger.remove(),
                    ("focus" !== (n = this._get(i, "showOn")) &&
                      "both" !== n) ||
                    t.on("focus", this._showDatepicker),
                    ("button" !== n && "both" !== n) ||
                    ((o = this._get(i, "buttonText")),
                      (r = this._get(i, "buttonImage")),
                      (i.trigger = e(
                        this._get(i, "buttonImageOnly")
                          ? e("<img/>")
                            .addClass(this._triggerClass)
                            .attr({ src: r, alt: o, title: o })
                          : e("<button type='button'></button>")
                            .addClass(this._triggerClass)
                            .html(
                              r
                                ? e("<img/>").attr({
                                  src: r,
                                  alt: o,
                                  title: o,
                                })
                                : o
                            )
                      )),
                      t[s ? "before" : "after"](i.trigger),
                      i.trigger.on("click", function () {
                        return (
                          e.datepicker._datepickerShowing &&
                            e.datepicker._lastInput === t[0]
                            ? e.datepicker._hideDatepicker()
                            : e.datepicker._datepickerShowing &&
                              e.datepicker._lastInput !== t[0]
                              ? (e.datepicker._hideDatepicker(),
                                e.datepicker._showDatepicker(t[0]))
                              : e.datepicker._showDatepicker(t[0]),
                          !1
                        );
                      }));
                },
                _autoSize: function (e) {
                  if (this._get(e, "autoSize") && !e.inline) {
                    var t,
                      i,
                      n,
                      o,
                      r = new Date(2009, 11, 20),
                      a = this._get(e, "dateFormat");
                    a.match(/[DM]/) &&
                      ((t = function (e) {
                        for (i = 0, n = 0, o = 0; o < e.length; o++)
                          e[o].length > i && ((i = e[o].length), (n = o));
                        return n;
                      }),
                        r.setMonth(
                          t(
                            this._get(
                              e,
                              a.match(/MM/) ? "monthNames" : "monthNamesShort"
                            )
                          )
                        ),
                        r.setDate(
                          t(
                            this._get(
                              e,
                              a.match(/DD/) ? "dayNames" : "dayNamesShort"
                            )
                          ) +
                          20 -
                          r.getDay()
                        )),
                      e.input.attr("size", this._formatDate(e, r).length);
                  }
                },
                _inlineDatepicker: function (t, i) {
                  var n = e(t);
                  n.hasClass(this.markerClassName) ||
                    (n.addClass(this.markerClassName).append(i.dpDiv),
                      e.data(t, "datepicker", i),
                      this._setDate(i, this._getDefaultDate(i), !0),
                      this._updateDatepicker(i),
                      this._updateAlternate(i),
                      i.settings.disabled && this._disableDatepicker(t),
                      i.dpDiv.css("display", "block"));
                },
                _dialogDatepicker: function (t, i, n, o, a) {
                  var s,
                    l,
                    c,
                    u,
                    d,
                    p = this._dialogInst;
                  return (
                    p ||
                    ((this.uuid += 1),
                      (s = "dp" + this.uuid),
                      (this._dialogInput = e(
                        "<input type='text' id='" +
                        s +
                        "' style='position: absolute; top: -100px; width: 0px;'/>"
                      )),
                      this._dialogInput.on("keydown", this._doKeyDown),
                      e("body").append(this._dialogInput),
                      ((p = this._dialogInst =
                        this._newInst(this._dialogInput, !1)).settings = {}),
                      e.data(this._dialogInput[0], "datepicker", p)),
                    r(p.settings, o || {}),
                    (i =
                      i && i.constructor === Date ? this._formatDate(p, i) : i),
                    this._dialogInput.val(i),
                    (this._pos = a
                      ? a.length
                        ? a
                        : [a.pageX, a.pageY]
                      : null),
                    this._pos ||
                    ((l = document.documentElement.clientWidth),
                      (c = document.documentElement.clientHeight),
                      (u =
                        document.documentElement.scrollLeft ||
                        document.body.scrollLeft),
                      (d =
                        document.documentElement.scrollTop ||
                        document.body.scrollTop),
                      (this._pos = [l / 2 - 100 + u, c / 2 - 150 + d])),
                    this._dialogInput
                      .css("left", this._pos[0] + 20 + "px")
                      .css("top", this._pos[1] + "px"),
                    (p.settings.onSelect = n),
                    (this._inDialog = !0),
                    this.dpDiv.addClass(this._dialogClass),
                    this._showDatepicker(this._dialogInput[0]),
                    e.blockUI && e.blockUI(this.dpDiv),
                    e.data(this._dialogInput[0], "datepicker", p),
                    this
                  );
                },
                _destroyDatepicker: function (i) {
                  var n,
                    o = e(i),
                    r = e.data(i, "datepicker");
                  o.hasClass(this.markerClassName) &&
                    ((n = i.nodeName.toLowerCase()),
                      e.removeData(i, "datepicker"),
                      "input" === n
                        ? (r.append.remove(),
                          r.trigger.remove(),
                          o
                            .removeClass(this.markerClassName)
                            .off("focus", this._showDatepicker)
                            .off("keydown", this._doKeyDown)
                            .off("keypress", this._doKeyPress)
                            .off("keyup", this._doKeyUp))
                        : ("div" !== n && "span" !== n) ||
                        o.removeClass(this.markerClassName).empty(),
                      t === r && (t = null));
                },
                _enableDatepicker: function (t) {
                  var i,
                    n,
                    o = e(t),
                    r = e.data(t, "datepicker");
                  o.hasClass(this.markerClassName) &&
                    ("input" === (i = t.nodeName.toLowerCase())
                      ? ((t.disabled = !1),
                        r.trigger
                          .filter("button")
                          .each(function () {
                            this.disabled = !1;
                          })
                          .end()
                          .filter("img")
                          .css({ opacity: "1.0", cursor: "" }))
                      : ("div" !== i && "span" !== i) ||
                      ((n = o.children("." + this._inlineClass))
                        .children()
                        .removeClass("ui-state-disabled"),
                        n
                          .find(
                            "select.ui-datepicker-month, select.ui-datepicker-year"
                          )
                          .prop("disabled", !1)),
                      (this._disabledInputs = e.map(
                        this._disabledInputs,
                        function (e) {
                          return e === t ? null : e;
                        }
                      )));
                },
                _disableDatepicker: function (t) {
                  var i,
                    n,
                    o = e(t),
                    r = e.data(t, "datepicker");
                  o.hasClass(this.markerClassName) &&
                    ("input" === (i = t.nodeName.toLowerCase())
                      ? ((t.disabled = !0),
                        r.trigger
                          .filter("button")
                          .each(function () {
                            this.disabled = !0;
                          })
                          .end()
                          .filter("img")
                          .css({ opacity: "0.5", cursor: "default" }))
                      : ("div" !== i && "span" !== i) ||
                      ((n = o.children("." + this._inlineClass))
                        .children()
                        .addClass("ui-state-disabled"),
                        n
                          .find(
                            "select.ui-datepicker-month, select.ui-datepicker-year"
                          )
                          .prop("disabled", !0)),
                      (this._disabledInputs = e.map(
                        this._disabledInputs,
                        function (e) {
                          return e === t ? null : e;
                        }
                      )),
                      (this._disabledInputs[this._disabledInputs.length] = t));
                },
                _isDisabledDatepicker: function (e) {
                  if (!e) return !1;
                  for (var t = 0; t < this._disabledInputs.length; t++)
                    if (this._disabledInputs[t] === e) return !0;
                  return !1;
                },
                _getInst: function (t) {
                  try {
                    return e.data(t, "datepicker");
                  } catch (e) {
                    throw "Missing instance data for this datepicker";
                  }
                },
                _optionDatepicker: function (t, i, n) {
                  var o,
                    a,
                    s,
                    l,
                    c = this._getInst(t);
                  if (2 === arguments.length && "string" == typeof i)
                    return "defaults" === i
                      ? e.extend({}, e.datepicker._defaults)
                      : c
                        ? "all" === i
                          ? e.extend({}, c.settings)
                          : this._get(c, i)
                        : null;
                  (o = i || {}),
                    "string" == typeof i && ((o = {})[i] = n),
                    c &&
                    (this._curInst === c && this._hideDatepicker(),
                      (a = this._getDateDatepicker(t, !0)),
                      (s = this._getMinMaxDate(c, "min")),
                      (l = this._getMinMaxDate(c, "max")),
                      r(c.settings, o),
                      null !== s &&
                      void 0 !== o.dateFormat &&
                      void 0 === o.minDate &&
                      (c.settings.minDate = this._formatDate(c, s)),
                      null !== l &&
                      void 0 !== o.dateFormat &&
                      void 0 === o.maxDate &&
                      (c.settings.maxDate = this._formatDate(c, l)),
                      "disabled" in o &&
                      (o.disabled
                        ? this._disableDatepicker(t)
                        : this._enableDatepicker(t)),
                      this._attachments(e(t), c),
                      this._autoSize(c),
                      this._setDate(c, a),
                      this._updateAlternate(c),
                      this._updateDatepicker(c));
                },
                _changeDatepicker: function (e, t, i) {
                  this._optionDatepicker(e, t, i);
                },
                _refreshDatepicker: function (e) {
                  var t = this._getInst(e);
                  t && this._updateDatepicker(t);
                },
                _setDateDatepicker: function (e, t) {
                  var i = this._getInst(e);
                  i &&
                    (this._setDate(i, t),
                      this._updateDatepicker(i),
                      this._updateAlternate(i));
                },
                _getDateDatepicker: function (e, t) {
                  var i = this._getInst(e);
                  return (
                    i && !i.inline && this._setDateFromField(i, t),
                    i ? this._getDate(i) : null
                  );
                },
                _doKeyDown: function (t) {
                  var i,
                    n,
                    o,
                    r = e.datepicker._getInst(t.target),
                    a = !0,
                    s = r.dpDiv.is(".ui-datepicker-rtl");
                  if (((r._keyEvent = !0), e.datepicker._datepickerShowing))
                    switch (t.keyCode) {
                      case 9:
                        e.datepicker._hideDatepicker(), (a = !1);
                        break;
                      case 13:
                        return (
                          (o = e(
                            "td." +
                            e.datepicker._dayOverClass +
                            ":not(." +
                            e.datepicker._currentClass +
                            ")",
                            r.dpDiv
                          ))[0] &&
                          e.datepicker._selectDay(
                            t.target,
                            r.selectedMonth,
                            r.selectedYear,
                            o[0]
                          ),
                          (i = e.datepicker._get(r, "onSelect"))
                            ? ((n = e.datepicker._formatDate(r)),
                              i.apply(r.input ? r.input[0] : null, [n, r]))
                            : e.datepicker._hideDatepicker(),
                          !1
                        );
                      case 27:
                        e.datepicker._hideDatepicker();
                        break;
                      case 33:
                        e.datepicker._adjustDate(
                          t.target,
                          t.ctrlKey
                            ? -e.datepicker._get(r, "stepBigMonths")
                            : -e.datepicker._get(r, "stepMonths"),
                          "M"
                        );
                        break;
                      case 34:
                        e.datepicker._adjustDate(
                          t.target,
                          t.ctrlKey
                            ? +e.datepicker._get(r, "stepBigMonths")
                            : +e.datepicker._get(r, "stepMonths"),
                          "M"
                        );
                        break;
                      case 35:
                        (t.ctrlKey || t.metaKey) &&
                          e.datepicker._clearDate(t.target),
                          (a = t.ctrlKey || t.metaKey);
                        break;
                      case 36:
                        (t.ctrlKey || t.metaKey) &&
                          e.datepicker._gotoToday(t.target),
                          (a = t.ctrlKey || t.metaKey);
                        break;
                      case 37:
                        (t.ctrlKey || t.metaKey) &&
                          e.datepicker._adjustDate(t.target, s ? 1 : -1, "D"),
                          (a = t.ctrlKey || t.metaKey),
                          t.originalEvent.altKey &&
                          e.datepicker._adjustDate(
                            t.target,
                            t.ctrlKey
                              ? -e.datepicker._get(r, "stepBigMonths")
                              : -e.datepicker._get(r, "stepMonths"),
                            "M"
                          );
                        break;
                      case 38:
                        (t.ctrlKey || t.metaKey) &&
                          e.datepicker._adjustDate(t.target, -7, "D"),
                          (a = t.ctrlKey || t.metaKey);
                        break;
                      case 39:
                        (t.ctrlKey || t.metaKey) &&
                          e.datepicker._adjustDate(t.target, s ? -1 : 1, "D"),
                          (a = t.ctrlKey || t.metaKey),
                          t.originalEvent.altKey &&
                          e.datepicker._adjustDate(
                            t.target,
                            t.ctrlKey
                              ? +e.datepicker._get(r, "stepBigMonths")
                              : +e.datepicker._get(r, "stepMonths"),
                            "M"
                          );
                        break;
                      case 40:
                        (t.ctrlKey || t.metaKey) &&
                          e.datepicker._adjustDate(t.target, 7, "D"),
                          (a = t.ctrlKey || t.metaKey);
                        break;
                      default:
                        a = !1;
                    }
                  else
                    36 === t.keyCode && t.ctrlKey
                      ? e.datepicker._showDatepicker(this)
                      : (a = !1);
                  a && (t.preventDefault(), t.stopPropagation());
                },
                _doKeyPress: function (t) {
                  var i,
                    n,
                    o = e.datepicker._getInst(t.target);
                  if (e.datepicker._get(o, "constrainInput"))
                    return (
                      (i = e.datepicker._possibleChars(
                        e.datepicker._get(o, "dateFormat")
                      )),
                      (n = String.fromCharCode(
                        null == t.charCode ? t.keyCode : t.charCode
                      )),
                      t.ctrlKey ||
                      t.metaKey ||
                      n < " " ||
                      !i ||
                      i.indexOf(n) > -1
                    );
                },
                _doKeyUp: function (t) {
                  var i = e.datepicker._getInst(t.target);
                  if (i.input.val() !== i.lastVal)
                    try {
                      e.datepicker.parseDate(
                        e.datepicker._get(i, "dateFormat"),
                        i.input ? i.input.val() : null,
                        e.datepicker._getFormatConfig(i)
                      ) &&
                        (e.datepicker._setDateFromField(i),
                          e.datepicker._updateAlternate(i),
                          e.datepicker._updateDatepicker(i));
                    } catch (e) { }
                  return !0;
                },
                _showDatepicker: function (t) {
                  var i, n, o, a, s, l, c;
                  "input" !== (t = t.target || t).nodeName.toLowerCase() &&
                    (t = e("input", t.parentNode)[0]),
                    e.datepicker._isDisabledDatepicker(t) ||
                    e.datepicker._lastInput === t ||
                    ((i = e.datepicker._getInst(t)),
                      e.datepicker._curInst &&
                      e.datepicker._curInst !== i &&
                      (e.datepicker._curInst.dpDiv.stop(!0, !0),
                        i &&
                        e.datepicker._datepickerShowing &&
                        e.datepicker._hideDatepicker(
                          e.datepicker._curInst.input[0]
                        )),
                      !1 !==
                      (o = (n = e.datepicker._get(i, "beforeShow"))
                        ? n.apply(t, [t, i])
                        : {}) &&
                      (r(i.settings, o),
                        (i.lastVal = null),
                        (e.datepicker._lastInput = t),
                        e.datepicker._setDateFromField(i),
                        e.datepicker._inDialog && (t.value = ""),
                        e.datepicker._pos ||
                        ((e.datepicker._pos = e.datepicker._findPos(t)),
                          (e.datepicker._pos[1] += t.offsetHeight)),
                        (a = !1),
                        e(t)
                          .parents()
                          .each(function () {
                            return !(a |= "fixed" === e(this).css("position"));
                          }),
                        (s = {
                          left: e.datepicker._pos[0],
                          top: e.datepicker._pos[1],
                        }),
                        (e.datepicker._pos = null),
                        i.dpDiv.empty(),
                        i.dpDiv.css({
                          position: "absolute",
                          display: "block",
                          top: "-1000px",
                        }),
                        e.datepicker._updateDatepicker(i),
                        (s = e.datepicker._checkOffset(i, s, a)),
                        i.dpDiv.css({
                          position:
                            e.datepicker._inDialog && e.blockUI
                              ? "static"
                              : a
                                ? "fixed"
                                : "absolute",
                          display: "none",
                          left: s.left + "px",
                          top: s.top + "px",
                        }),
                        i.inline ||
                        ((l = e.datepicker._get(i, "showAnim")),
                          (c = e.datepicker._get(i, "duration")),
                          i.dpDiv.css(
                            "z-index",
                            (function (e) {
                              for (var t, i; e.length && e[0] !== document;) {
                                if (
                                  ("absolute" === (t = e.css("position")) ||
                                    "relative" === t ||
                                    "fixed" === t) &&
                                  ((i = parseInt(e.css("zIndex"), 10)),
                                    !isNaN(i) && 0 !== i)
                                )
                                  return i;
                                e = e.parent();
                              }
                              return 0;
                            })(e(t)) + 1
                          ),
                          (e.datepicker._datepickerShowing = !0),
                          e.effects && e.effects.effect[l]
                            ? i.dpDiv.show(
                              l,
                              e.datepicker._get(i, "showOptions"),
                              c
                            )
                            : i.dpDiv[l || "show"](l ? c : null),
                          e.datepicker._shouldFocusInput(i) &&
                          i.input.trigger("focus"),
                          (e.datepicker._curInst = i))));
                },
                _updateDatepicker: function (i) {
                  (this.maxRows = 4),
                    (t = i),
                    i.dpDiv.empty().append(this._generateHTML(i)),
                    this._attachHandlers(i);
                  var n,
                    r = this._getNumberOfMonths(i),
                    a = r[1],
                    s = i.dpDiv.find("." + this._dayOverClass + " a");
                  s.length > 0 && o.apply(s.get(0)),
                    i.dpDiv
                      .removeClass(
                        "ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4"
                      )
                      .width(""),
                    a > 1 &&
                    i.dpDiv
                      .addClass("ui-datepicker-multi-" + a)
                      .css("width", 17 * a + "em"),
                    i.dpDiv[
                      (1 !== r[0] || 1 !== r[1] ? "add" : "remove") + "Class"
                    ]("ui-datepicker-multi"),
                    i.dpDiv[
                      (this._get(i, "isRTL") ? "add" : "remove") + "Class"
                    ]("ui-datepicker-rtl"),
                    i === e.datepicker._curInst &&
                    e.datepicker._datepickerShowing &&
                    e.datepicker._shouldFocusInput(i) &&
                    i.input.trigger("focus"),
                    i.yearshtml &&
                    ((n = i.yearshtml),
                      setTimeout(function () {
                        n === i.yearshtml &&
                          i.yearshtml &&
                          i.dpDiv
                            .find("select.ui-datepicker-year:first")
                            .replaceWith(i.yearshtml),
                          (n = i.yearshtml = null);
                      }, 0));
                },
                _shouldFocusInput: function (e) {
                  return (
                    e.input &&
                    e.input.is(":visible") &&
                    !e.input.is(":disabled") &&
                    !e.input.is(":focus")
                  );
                },
                _checkOffset: function (t, i, n) {
                  var o = t.dpDiv.outerWidth(),
                    r = t.dpDiv.outerHeight(),
                    a = t.input ? t.input.outerWidth() : 0,
                    s = t.input ? t.input.outerHeight() : 0,
                    l =
                      document.documentElement.clientWidth +
                      (n ? 0 : e(document).scrollLeft()),
                    c =
                      document.documentElement.clientHeight +
                      (n ? 0 : e(document).scrollTop());
                  return (
                    (i.left -= this._get(t, "isRTL") ? o - a : 0),
                    (i.left -=
                      n && i.left === t.input.offset().left
                        ? e(document).scrollLeft()
                        : 0),
                    (i.top -=
                      n && i.top === t.input.offset().top + s
                        ? e(document).scrollTop()
                        : 0),
                    (i.left -= Math.min(
                      i.left,
                      i.left + o > l && l > o ? Math.abs(i.left + o - l) : 0
                    )),
                    (i.top -= Math.min(
                      i.top,
                      i.top + r > c && c > r ? Math.abs(r + s) : 0
                    )),
                    i
                  );
                },
                _findPos: function (t) {
                  for (
                    var i, n = this._getInst(t), o = this._get(n, "isRTL");
                    t &&
                    ("hidden" === t.type ||
                      1 !== t.nodeType ||
                      e.expr.filters.hidden(t));

                  )
                    t = t[o ? "previousSibling" : "nextSibling"];
                  return [(i = e(t).offset()).left, i.top];
                },
                _hideDatepicker: function (t) {
                  var i,
                    n,
                    o,
                    r,
                    a = this._curInst;
                  !a ||
                    (t && a !== e.data(t, "datepicker")) ||
                    (this._datepickerShowing &&
                      ((i = this._get(a, "showAnim")),
                        (n = this._get(a, "duration")),
                        (o = function () {
                          e.datepicker._tidyDialog(a);
                        }),
                        e.effects && (e.effects.effect[i] || e.effects[i])
                          ? a.dpDiv.hide(
                            i,
                            e.datepicker._get(a, "showOptions"),
                            n,
                            o
                          )
                          : a.dpDiv[
                            "slideDown" === i
                              ? "slideUp"
                              : "fadeIn" === i
                                ? "fadeOut"
                                : "hide"
                          ](i ? n : null, o),
                        i || o(),
                        (this._datepickerShowing = !1),
                        (r = this._get(a, "onClose")) &&
                        r.apply(a.input ? a.input[0] : null, [
                          a.input ? a.input.val() : "",
                          a,
                        ]),
                        (this._lastInput = null),
                        this._inDialog &&
                        (this._dialogInput.css({
                          position: "absolute",
                          left: "0",
                          top: "-100px",
                        }),
                          e.blockUI &&
                          (e.unblockUI(), e("body").append(this.dpDiv))),
                        (this._inDialog = !1)));
                },
                _tidyDialog: function (e) {
                  e.dpDiv
                    .removeClass(this._dialogClass)
                    .off(".ui-datepicker-calendar");
                },
                _checkExternalClick: function (t) {
                  if (e.datepicker._curInst) {
                    var i = e(t.target),
                      n = e.datepicker._getInst(i[0]);
                    ((i[0].id === e.datepicker._mainDivId ||
                      0 !== i.parents("#" + e.datepicker._mainDivId).length ||
                      i.hasClass(e.datepicker.markerClassName) ||
                      i.closest("." + e.datepicker._triggerClass).length ||
                      !e.datepicker._datepickerShowing ||
                      (e.datepicker._inDialog && e.blockUI)) &&
                      (!i.hasClass(e.datepicker.markerClassName) ||
                        e.datepicker._curInst === n)) ||
                      e.datepicker._hideDatepicker();
                  }
                },
                _adjustDate: function (t, i, n) {
                  var o = e(t),
                    r = this._getInst(o[0]);
                  this._isDisabledDatepicker(o[0]) ||
                    (this._adjustInstDate(
                      r,
                      i + ("M" === n ? this._get(r, "showCurrentAtPos") : 0),
                      n
                    ),
                      this._updateDatepicker(r));
                },
                _gotoToday: function (t) {
                  var i,
                    n = e(t),
                    o = this._getInst(n[0]);
                  this._get(o, "gotoCurrent") && o.currentDay
                    ? ((o.selectedDay = o.currentDay),
                      (o.drawMonth = o.selectedMonth = o.currentMonth),
                      (o.drawYear = o.selectedYear = o.currentYear))
                    : ((i = new Date()),
                      (o.selectedDay = i.getDate()),
                      (o.drawMonth = o.selectedMonth = i.getMonth()),
                      (o.drawYear = o.selectedYear = i.getFullYear())),
                    this._notifyChange(o),
                    this._adjustDate(n);
                },
                _selectMonthYear: function (t, i, n) {
                  var o = e(t),
                    r = this._getInst(o[0]);
                  (r["selected" + ("M" === n ? "Month" : "Year")] = r[
                    "draw" + ("M" === n ? "Month" : "Year")
                  ] =
                    parseInt(i.options[i.selectedIndex].value, 10)),
                    this._notifyChange(r),
                    this._adjustDate(o);
                },
                _selectDay: function (t, i, n, o) {
                  var r,
                    a = e(t);
                  e(o).hasClass(this._unselectableClass) ||
                    this._isDisabledDatepicker(a[0]) ||
                    (((r = this._getInst(a[0])).selectedDay = r.currentDay =
                      e("a", o).html()),
                      (r.selectedMonth = r.currentMonth = i),
                      (r.selectedYear = r.currentYear = n),
                      this._selectDate(
                        t,
                        this._formatDate(
                          r,
                          r.currentDay,
                          r.currentMonth,
                          r.currentYear
                        )
                      ));
                },
                _clearDate: function (t) {
                  var i = e(t);
                  this._selectDate(i, "");
                },
                _selectDate: function (t, i) {
                  var n,
                    o = e(t),
                    r = this._getInst(o[0]);
                  (i = null != i ? i : this._formatDate(r)),
                    r.input && r.input.val(i),
                    this._updateAlternate(r),
                    (n = this._get(r, "onSelect"))
                      ? n.apply(r.input ? r.input[0] : null, [i, r])
                      : r.input && r.input.trigger("change"),
                    r.inline
                      ? this._updateDatepicker(r)
                      : (this._hideDatepicker(),
                        (this._lastInput = r.input[0]),
                        "object" != typeof r.input[0] &&
                        r.input.trigger("focus"),
                        (this._lastInput = null));
                },
                _updateAlternate: function (t) {
                  var i,
                    n,
                    o,
                    r = this._get(t, "altField");
                  r &&
                    ((i =
                      this._get(t, "altFormat") || this._get(t, "dateFormat")),
                      (n = this._getDate(t)),
                      (o = this.formatDate(i, n, this._getFormatConfig(t))),
                      e(r).val(o));
                },
                noWeekends: function (e) {
                  var t = e.getDay();
                  return [t > 0 && t < 6, ""];
                },
                iso8601Week: function (e) {
                  var t,
                    i = new Date(e.getTime());
                  return (
                    i.setDate(i.getDate() + 4 - (i.getDay() || 7)),
                    (t = i.getTime()),
                    i.setMonth(0),
                    i.setDate(1),
                    Math.floor(Math.round((t - i) / 864e5) / 7) + 1
                  );
                },
                parseDate: function (t, i, n) {
                  if (null == t || null == i) throw "Invalid arguments";
                  if ("" === (i = "object" == typeof i ? i.toString() : i + ""))
                    return null;
                  var o,
                    r,
                    a,
                    s,
                    l = 0,
                    c =
                      (n ? n.shortYearCutoff : null) ||
                      this._defaults.shortYearCutoff,
                    u =
                      "string" != typeof c
                        ? c
                        : (new Date().getFullYear() % 100) + parseInt(c, 10),
                    d =
                      (n ? n.dayNamesShort : null) ||
                      this._defaults.dayNamesShort,
                    p = (n ? n.dayNames : null) || this._defaults.dayNames,
                    h =
                      (n ? n.monthNamesShort : null) ||
                      this._defaults.monthNamesShort,
                    f = (n ? n.monthNames : null) || this._defaults.monthNames,
                    g = -1,
                    m = -1,
                    v = -1,
                    b = -1,
                    y = !1,
                    x = function (e) {
                      var i = o + 1 < t.length && t.charAt(o + 1) === e;
                      return i && o++, i;
                    },
                    w = function (e) {
                      var t = x(e),
                        n =
                          "@" === e
                            ? 14
                            : "!" === e
                              ? 20
                              : "y" === e && t
                                ? 4
                                : "o" === e
                                  ? 3
                                  : 2,
                        o = new RegExp(
                          "^\\d{" + ("y" === e ? n : 1) + "," + n + "}"
                        ),
                        r = i.substring(l).match(o);
                      if (!r) throw "Missing number at position " + l;
                      return (l += r[0].length), parseInt(r[0], 10);
                    },
                    _ = function (t, n, o) {
                      var r = -1,
                        a = e
                          .map(x(t) ? o : n, function (e, t) {
                            return [[t, e]];
                          })
                          .sort(function (e, t) {
                            return -(e[1].length - t[1].length);
                          });
                      if (
                        (e.each(a, function (e, t) {
                          var n = t[1];
                          if (
                            i.substr(l, n.length).toLowerCase() ===
                            n.toLowerCase()
                          )
                            return (r = t[0]), (l += n.length), !1;
                        }),
                          -1 !== r)
                      )
                        return r + 1;
                      throw "Unknown name at position " + l;
                    },
                    A = function () {
                      if (i.charAt(l) !== t.charAt(o))
                        throw "Unexpected literal at position " + l;
                      l++;
                    };
                  for (o = 0; o < t.length; o++)
                    if (y) "'" !== t.charAt(o) || x("'") ? A() : (y = !1);
                    else
                      switch (t.charAt(o)) {
                        case "d":
                          v = w("d");
                          break;
                        case "D":
                          _("D", d, p);
                          break;
                        case "o":
                          b = w("o");
                          break;
                        case "m":
                          m = w("m");
                          break;
                        case "M":
                          m = _("M", h, f);
                          break;
                        case "y":
                          g = w("y");
                          break;
                        case "@":
                          (g = (s = new Date(w("@"))).getFullYear()),
                            (m = s.getMonth() + 1),
                            (v = s.getDate());
                          break;
                        case "!":
                          (g = (s = new Date(
                            (w("!") - this._ticksTo1970) / 1e4
                          )).getFullYear()),
                            (m = s.getMonth() + 1),
                            (v = s.getDate());
                          break;
                        case "'":
                          x("'") ? A() : (y = !0);
                          break;
                        default:
                          A();
                      }
                  if (l < i.length && ((a = i.substr(l)), !/^\s+/.test(a)))
                    throw "Extra/unparsed characters found in date: " + a;
                  if (
                    (-1 === g
                      ? (g = new Date().getFullYear())
                      : g < 100 &&
                      (g +=
                        new Date().getFullYear() -
                        (new Date().getFullYear() % 100) +
                        (g <= u ? 0 : -100)),
                      b > -1)
                  )
                    for (
                      m = 1, v = b;
                      !(v <= (r = this._getDaysInMonth(g, m - 1)));

                    )
                      m++, (v -= r);
                  if (
                    (s = this._daylightSavingAdjust(
                      new Date(g, m - 1, v)
                    )).getFullYear() !== g ||
                    s.getMonth() + 1 !== m ||
                    s.getDate() !== v
                  )
                    throw "Invalid date";
                  return s;
                },
                ATOM: "yy-mm-dd",
                COOKIE: "D, dd M yy",
                ISO_8601: "yy-mm-dd",
                RFC_822: "D, d M y",
                RFC_850: "DD, dd-M-y",
                RFC_1036: "D, d M y",
                RFC_1123: "D, d M yy",
                RFC_2822: "D, d M yy",
                RSS: "D, d M y",
                TICKS: "!",
                TIMESTAMP: "@",
                W3C: "yy-mm-dd",
                _ticksTo1970:
                  24 *
                  (718685 +
                    Math.floor(492.5) -
                    Math.floor(19.7) +
                    Math.floor(4.925)) *
                  60 *
                  60 *
                  1e7,
                formatDate: function (e, t, i) {
                  if (!t) return "";
                  var n,
                    o =
                      (i ? i.dayNamesShort : null) ||
                      this._defaults.dayNamesShort,
                    r = (i ? i.dayNames : null) || this._defaults.dayNames,
                    a =
                      (i ? i.monthNamesShort : null) ||
                      this._defaults.monthNamesShort,
                    s = (i ? i.monthNames : null) || this._defaults.monthNames,
                    l = function (t) {
                      var i = n + 1 < e.length && e.charAt(n + 1) === t;
                      return i && n++, i;
                    },
                    c = function (e, t, i) {
                      var n = "" + t;
                      if (l(e)) for (; n.length < i;) n = "0" + n;
                      return n;
                    },
                    u = function (e, t, i, n) {
                      return l(e) ? n[t] : i[t];
                    },
                    d = "",
                    p = !1;
                  if (t)
                    for (n = 0; n < e.length; n++)
                      if (p)
                        "'" !== e.charAt(n) || l("'")
                          ? (d += e.charAt(n))
                          : (p = !1);
                      else
                        switch (e.charAt(n)) {
                          case "d":
                            d += c("d", t.getDate(), 2);
                            break;
                          case "D":
                            d += u("D", t.getDay(), o, r);
                            break;
                          case "o":
                            d += c(
                              "o",
                              Math.round(
                                (new Date(
                                  t.getFullYear(),
                                  t.getMonth(),
                                  t.getDate()
                                ).getTime() -
                                  new Date(t.getFullYear(), 0, 0).getTime()) /
                                864e5
                              ),
                              3
                            );
                            break;
                          case "m":
                            d += c("m", t.getMonth() + 1, 2);
                            break;
                          case "M":
                            d += u("M", t.getMonth(), a, s);
                            break;
                          case "y":
                            d += l("y")
                              ? t.getFullYear()
                              : (t.getFullYear() % 100 < 10 ? "0" : "") +
                              (t.getFullYear() % 100);
                            break;
                          case "@":
                            d += t.getTime();
                            break;
                          case "!":
                            d += 1e4 * t.getTime() + this._ticksTo1970;
                            break;
                          case "'":
                            l("'") ? (d += "'") : (p = !0);
                            break;
                          default:
                            d += e.charAt(n);
                        }
                  return d;
                },
                _possibleChars: function (e) {
                  var t,
                    i = "",
                    n = !1,
                    o = function (i) {
                      var n = t + 1 < e.length && e.charAt(t + 1) === i;
                      return n && t++, n;
                    };
                  for (t = 0; t < e.length; t++)
                    if (n)
                      "'" !== e.charAt(t) || o("'")
                        ? (i += e.charAt(t))
                        : (n = !1);
                    else
                      switch (e.charAt(t)) {
                        case "d":
                        case "m":
                        case "y":
                        case "@":
                          i += "0123456789";
                          break;
                        case "D":
                        case "M":
                          return null;
                        case "'":
                          o("'") ? (i += "'") : (n = !0);
                          break;
                        default:
                          i += e.charAt(t);
                      }
                  return i;
                },
                _get: function (e, t) {
                  return void 0 !== e.settings[t]
                    ? e.settings[t]
                    : this._defaults[t];
                },
                _setDateFromField: function (e, t) {
                  if (e.input.val() !== e.lastVal) {
                    var i = this._get(e, "dateFormat"),
                      n = (e.lastVal = e.input ? e.input.val() : null),
                      o = this._getDefaultDate(e),
                      r = o,
                      a = this._getFormatConfig(e);
                    try {
                      r = this.parseDate(i, n, a) || o;
                    } catch (e) {
                      n = t ? "" : n;
                    }
                    (e.selectedDay = r.getDate()),
                      (e.drawMonth = e.selectedMonth = r.getMonth()),
                      (e.drawYear = e.selectedYear = r.getFullYear()),
                      (e.currentDay = n ? r.getDate() : 0),
                      (e.currentMonth = n ? r.getMonth() : 0),
                      (e.currentYear = n ? r.getFullYear() : 0),
                      this._adjustInstDate(e);
                  }
                },
                _getDefaultDate: function (e) {
                  return this._restrictMinMax(
                    e,
                    this._determineDate(
                      e,
                      this._get(e, "defaultDate"),
                      new Date()
                    )
                  );
                },
                _determineDate: function (t, i, n) {
                  var o =
                    null == i || "" === i
                      ? n
                      : "string" == typeof i
                        ? (function (i) {
                          try {
                            return e.datepicker.parseDate(
                              e.datepicker._get(t, "dateFormat"),
                              i,
                              e.datepicker._getFormatConfig(t)
                            );
                          } catch (e) { }
                          for (
                            var n =
                              (i.toLowerCase().match(/^c/)
                                ? e.datepicker._getDate(t)
                                : null) || new Date(),
                            o = n.getFullYear(),
                            r = n.getMonth(),
                            a = n.getDate(),
                            s = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
                            l = s.exec(i);
                            l;

                          ) {
                            switch (l[2] || "d") {
                              case "d":
                              case "D":
                                a += parseInt(l[1], 10);
                                break;
                              case "w":
                              case "W":
                                a += 7 * parseInt(l[1], 10);
                                break;
                              case "m":
                              case "M":
                                (r += parseInt(l[1], 10)),
                                  (a = Math.min(
                                    a,
                                    e.datepicker._getDaysInMonth(o, r)
                                  ));
                                break;
                              case "y":
                              case "Y":
                                (o += parseInt(l[1], 10)),
                                  (a = Math.min(
                                    a,
                                    e.datepicker._getDaysInMonth(o, r)
                                  ));
                            }
                            l = s.exec(i);
                          }
                          return new Date(o, r, a);
                        })(i)
                        : "number" == typeof i
                          ? isNaN(i)
                            ? n
                            : (function (e) {
                              var t = new Date();
                              return t.setDate(t.getDate() + e), t;
                            })(i)
                          : new Date(i.getTime());
                  return (
                    (o = o && "Invalid Date" === o.toString() ? n : o) &&
                    (o.setHours(0),
                      o.setMinutes(0),
                      o.setSeconds(0),
                      o.setMilliseconds(0)),
                    this._daylightSavingAdjust(o)
                  );
                },
                _daylightSavingAdjust: function (e) {
                  return e
                    ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e)
                    : null;
                },
                _setDate: function (e, t, i) {
                  var n = !t,
                    o = e.selectedMonth,
                    r = e.selectedYear,
                    a = this._restrictMinMax(
                      e,
                      this._determineDate(e, t, new Date())
                    );
                  (e.selectedDay = e.currentDay = a.getDate()),
                    (e.drawMonth =
                      e.selectedMonth =
                      e.currentMonth =
                      a.getMonth()),
                    (e.drawYear =
                      e.selectedYear =
                      e.currentYear =
                      a.getFullYear()),
                    (o === e.selectedMonth && r === e.selectedYear) ||
                    i ||
                    this._notifyChange(e),
                    this._adjustInstDate(e),
                    e.input && e.input.val(n ? "" : this._formatDate(e));
                },
                _getDate: function (e) {
                  return !e.currentYear || (e.input && "" === e.input.val())
                    ? null
                    : this._daylightSavingAdjust(
                      new Date(e.currentYear, e.currentMonth, e.currentDay)
                    );
                },
                _attachHandlers: function (t) {
                  var i = this._get(t, "stepMonths"),
                    n = "#" + t.id.replace(/\\\\/g, "\\");
                  t.dpDiv.find("[data-handler]").map(function () {
                    var t = {
                      prev: function () {
                        e.datepicker._adjustDate(n, -i, "M");
                      },
                      next: function () {
                        e.datepicker._adjustDate(n, +i, "M");
                      },
                      hide: function () {
                        e.datepicker._hideDatepicker();
                      },
                      today: function () {
                        e.datepicker._gotoToday(n);
                      },
                      selectDay: function () {
                        return (
                          e.datepicker._selectDay(
                            n,
                            +this.getAttribute("data-month"),
                            +this.getAttribute("data-year"),
                            this
                          ),
                          !1
                        );
                      },
                      selectMonth: function () {
                        return e.datepicker._selectMonthYear(n, this, "M"), !1;
                      },
                      selectYear: function () {
                        return e.datepicker._selectMonthYear(n, this, "Y"), !1;
                      },
                    };
                    e(this).on(
                      this.getAttribute("data-event"),
                      t[this.getAttribute("data-handler")]
                    );
                  });
                },
                _generateHTML: function (e) {
                  var t,
                    i,
                    n,
                    o,
                    r,
                    a,
                    s,
                    l,
                    c,
                    u,
                    d,
                    p,
                    h,
                    f,
                    g,
                    m,
                    v,
                    b,
                    y,
                    x,
                    w,
                    _,
                    A,
                    E,
                    S,
                    T,
                    C,
                    k,
                    L,
                    D,
                    I,
                    P,
                    O,
                    M,
                    N,
                    R,
                    B,
                    z,
                    $,
                    H = new Date(),
                    V = this._daylightSavingAdjust(
                      new Date(H.getFullYear(), H.getMonth(), H.getDate())
                    ),
                    j = this._get(e, "isRTL"),
                    F = this._get(e, "showButtonPanel"),
                    U = this._get(e, "hideIfNoPrevNext"),
                    W = this._get(e, "navigationAsDateFormat"),
                    q = this._getNumberOfMonths(e),
                    Q = this._get(e, "showCurrentAtPos"),
                    G = this._get(e, "stepMonths"),
                    Y = 1 !== q[0] || 1 !== q[1],
                    Z = this._daylightSavingAdjust(
                      e.currentDay
                        ? new Date(e.currentYear, e.currentMonth, e.currentDay)
                        : new Date(9999, 9, 9)
                    ),
                    X = this._getMinMaxDate(e, "min"),
                    K = this._getMinMaxDate(e, "max"),
                    J = e.drawMonth - Q,
                    ee = e.drawYear;
                  if ((J < 0 && ((J += 12), ee--), K))
                    for (
                      t = this._daylightSavingAdjust(
                        new Date(
                          K.getFullYear(),
                          K.getMonth() - q[0] * q[1] + 1,
                          K.getDate()
                        )
                      ),
                      t = X && t < X ? X : t;
                      this._daylightSavingAdjust(new Date(ee, J, 1)) > t;

                    )
                      --J < 0 && ((J = 11), ee--);
                  for (
                    e.drawMonth = J,
                    e.drawYear = ee,
                    i = this._get(e, "prevText"),
                    i = W
                      ? this.formatDate(
                        i,
                        this._daylightSavingAdjust(new Date(ee, J - G, 1)),
                        this._getFormatConfig(e)
                      )
                      : i,
                    n = this._canAdjustMonth(e, -1, ee, J)
                      ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" +
                      i +
                      "'><span class='ui-icon ui-icon-circle-triangle-" +
                      (j ? "e" : "w") +
                      "'>" +
                      i +
                      "</span></a>"
                      : U
                        ? ""
                        : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" +
                        i +
                        "'><span class='ui-icon ui-icon-circle-triangle-" +
                        (j ? "e" : "w") +
                        "'>" +
                        i +
                        "</span></a>",
                    o = this._get(e, "nextText"),
                    o = W
                      ? this.formatDate(
                        o,
                        this._daylightSavingAdjust(new Date(ee, J + G, 1)),
                        this._getFormatConfig(e)
                      )
                      : o,
                    r = this._canAdjustMonth(e, 1, ee, J)
                      ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" +
                      o +
                      "'><span class='ui-icon ui-icon-circle-triangle-" +
                      (j ? "w" : "e") +
                      "'>" +
                      o +
                      "</span></a>"
                      : U
                        ? ""
                        : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" +
                        o +
                        "'><span class='ui-icon ui-icon-circle-triangle-" +
                        (j ? "w" : "e") +
                        "'>" +
                        o +
                        "</span></a>",
                    a = this._get(e, "currentText"),
                    s = this._get(e, "gotoCurrent") && e.currentDay ? Z : V,
                    a = W
                      ? this.formatDate(a, s, this._getFormatConfig(e))
                      : a,
                    l = e.inline
                      ? ""
                      : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" +
                      this._get(e, "closeText") +
                      "</button>",
                    c = F
                      ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" +
                      (j ? l : "") +
                      (this._isInRange(e, s)
                        ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" +
                        a +
                        "</button>"
                        : "") +
                      (j ? "" : l) +
                      "</div>"
                      : "",
                    u = parseInt(this._get(e, "firstDay"), 10),
                    u = isNaN(u) ? 0 : u,
                    d = this._get(e, "showWeek"),
                    p = this._get(e, "dayNames"),
                    h = this._get(e, "dayNamesMin"),
                    f = this._get(e, "monthNames"),
                    g = this._get(e, "monthNamesShort"),
                    m = this._get(e, "beforeShowDay"),
                    v = this._get(e, "showOtherMonths"),
                    b = this._get(e, "selectOtherMonths"),
                    y = this._getDefaultDate(e),
                    x = "",
                    _ = 0;
                    _ < q[0];
                    _++
                  ) {
                    for (A = "", this.maxRows = 4, E = 0; E < q[1]; E++) {
                      if (
                        ((S = this._daylightSavingAdjust(
                          new Date(ee, J, e.selectedDay)
                        )),
                          (T = " ui-corner-all"),
                          (C = ""),
                          Y)
                      ) {
                        if (
                          ((C += "<div class='ui-datepicker-group"), q[1] > 1)
                        )
                          switch (E) {
                            case 0:
                              (C += " ui-datepicker-group-first"),
                                (T = " ui-corner-" + (j ? "right" : "left"));
                              break;
                            case q[1] - 1:
                              (C += " ui-datepicker-group-last"),
                                (T = " ui-corner-" + (j ? "left" : "right"));
                              break;
                            default:
                              (C += " ui-datepicker-group-middle"), (T = "");
                          }
                        C += "'>";
                      }
                      for (
                        C +=
                        "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" +
                        T +
                        "'>" +
                        (/all|left/.test(T) && 0 === _ ? (j ? r : n) : "") +
                        (/all|right/.test(T) && 0 === _ ? (j ? n : r) : "") +
                        this._generateMonthYearHeader(
                          e,
                          J,
                          ee,
                          X,
                          K,
                          _ > 0 || E > 0,
                          f,
                          g
                        ) +
                        "</div><table class='ui-datepicker-calendar'><thead><tr>",
                        k = d
                          ? "<th class='ui-datepicker-week-col'>" +
                          this._get(e, "weekHeader") +
                          "</th>"
                          : "",
                        w = 0;
                        w < 7;
                        w++
                      )
                        k +=
                          "<th scope='col'" +
                          ((w + u + 6) % 7 >= 5
                            ? " class='ui-datepicker-week-end'"
                            : "") +
                          "><span title='" +
                          p[(L = (w + u) % 7)] +
                          "'>" +
                          h[L] +
                          "</span></th>";
                      for (
                        C += k + "</tr></thead><tbody>",
                        D = this._getDaysInMonth(ee, J),
                        ee === e.selectedYear &&
                        J === e.selectedMonth &&
                        (e.selectedDay = Math.min(e.selectedDay, D)),
                        I = (this._getFirstDayOfMonth(ee, J) - u + 7) % 7,
                        P = Math.ceil((I + D) / 7),
                        O = Y && this.maxRows > P ? this.maxRows : P,
                        this.maxRows = O,
                        M = this._daylightSavingAdjust(
                          new Date(ee, J, 1 - I)
                        ),
                        N = 0;
                        N < O;
                        N++
                      ) {
                        for (
                          C += "<tr>",
                          R = d
                            ? "<td class='ui-datepicker-week-col'>" +
                            this._get(e, "calculateWeek")(M) +
                            "</td>"
                            : "",
                          w = 0;
                          w < 7;
                          w++
                        )
                          (B = m
                            ? m.apply(e.input ? e.input[0] : null, [M])
                            : [!0, ""]),
                            ($ =
                              ((z = M.getMonth() !== J) && !b) ||
                              !B[0] ||
                              (X && M < X) ||
                              (K && M > K)),
                            (R +=
                              "<td class='" +
                              ((w + u + 6) % 7 >= 5
                                ? " ui-datepicker-week-end"
                                : "") +
                              (z ? " ui-datepicker-other-month" : "") +
                              ((M.getTime() === S.getTime() &&
                                J === e.selectedMonth &&
                                e._keyEvent) ||
                                (y.getTime() === M.getTime() &&
                                  y.getTime() === S.getTime())
                                ? " " + this._dayOverClass
                                : "") +
                              ($
                                ? " " +
                                this._unselectableClass +
                                " ui-state-disabled"
                                : "") +
                              (z && !v
                                ? ""
                                : " " +
                                B[1] +
                                (M.getTime() === Z.getTime()
                                  ? " " + this._currentClass
                                  : "") +
                                (M.getTime() === V.getTime()
                                  ? " ui-datepicker-today"
                                  : "")) +
                              "'" +
                              ((z && !v) || !B[2]
                                ? ""
                                : " title='" +
                                B[2].replace(/'/g, "&#39;") +
                                "'") +
                              ($
                                ? ""
                                : " data-handler='selectDay' data-event='click' data-month='" +
                                M.getMonth() +
                                "' data-year='" +
                                M.getFullYear() +
                                "'") +
                              ">" +
                              (z && !v
                                ? "&#xa0;"
                                : $
                                  ? "<span class='ui-state-default'>" +
                                  M.getDate() +
                                  "</span>"
                                  : "<a class='ui-state-default" +
                                  (M.getTime() === V.getTime()
                                    ? " ui-state-highlight"
                                    : "") +
                                  (M.getTime() === Z.getTime()
                                    ? " ui-state-active"
                                    : "") +
                                  (z ? " ui-priority-secondary" : "") +
                                  "' href='#'>" +
                                  M.getDate() +
                                  "</a>") +
                              "</td>"),
                            M.setDate(M.getDate() + 1),
                            (M = this._daylightSavingAdjust(M));
                        C += R + "</tr>";
                      }
                      ++J > 11 && ((J = 0), ee++),
                        (A += C +=
                          "</tbody></table>" +
                          (Y
                            ? "</div>" +
                            (q[0] > 0 && E === q[1] - 1
                              ? "<div class='ui-datepicker-row-break'></div>"
                              : "")
                            : ""));
                    }
                    x += A;
                  }
                  return (x += c), (e._keyEvent = !1), x;
                },
                _generateMonthYearHeader: function (e, t, i, n, o, r, a, s) {
                  var l,
                    c,
                    u,
                    d,
                    p,
                    h,
                    f,
                    g,
                    m = this._get(e, "changeMonth"),
                    v = this._get(e, "changeYear"),
                    b = this._get(e, "showMonthAfterYear"),
                    y = "<div class='ui-datepicker-title'>",
                    x = "";
                  if (r || !m)
                    x +=
                      "<span class='ui-datepicker-month'>" + a[t] + "</span>";
                  else {
                    for (
                      l = n && n.getFullYear() === i,
                      c = o && o.getFullYear() === i,
                      x +=
                      "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",
                      u = 0;
                      u < 12;
                      u++
                    )
                      (!l || u >= n.getMonth()) &&
                        (!c || u <= o.getMonth()) &&
                        (x +=
                          "<option value='" +
                          u +
                          "'" +
                          (u === t ? " selected='selected'" : "") +
                          ">" +
                          s[u] +
                          "</option>");
                    x += "</select>";
                  }
                  if (
                    (b || (y += x + (!r && m && v ? "" : "&#xa0;")),
                      !e.yearshtml)
                  )
                    if (((e.yearshtml = ""), r || !v))
                      y += "<span class='ui-datepicker-year'>" + i + "</span>";
                    else {
                      for (
                        d = this._get(e, "yearRange").split(":"),
                        p = new Date().getFullYear(),
                        f = (h = function (e) {
                          var t = e.match(/c[+\-].*/)
                            ? i + parseInt(e.substring(1), 10)
                            : e.match(/[+\-].*/)
                              ? p + parseInt(e, 10)
                              : parseInt(e, 10);
                          return isNaN(t) ? p : t;
                        })(d[0]),
                        g = Math.max(f, h(d[1] || "")),
                        f = n ? Math.max(f, n.getFullYear()) : f,
                        g = o ? Math.min(g, o.getFullYear()) : g,
                        e.yearshtml +=
                        "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
                        f <= g;
                        f++
                      )
                        e.yearshtml +=
                          "<option value='" +
                          f +
                          "'" +
                          (f === i ? " selected='selected'" : "") +
                          ">" +
                          f +
                          "</option>";
                      (e.yearshtml += "</select>"),
                        (y += e.yearshtml),
                        (e.yearshtml = null);
                    }
                  return (
                    (y += this._get(e, "yearSuffix")),
                    b && (y += (!r && m && v ? "" : "&#xa0;") + x),
                    (y += "</div>")
                  );
                },
                _adjustInstDate: function (e, t, i) {
                  var n = e.selectedYear + ("Y" === i ? t : 0),
                    o = e.selectedMonth + ("M" === i ? t : 0),
                    r =
                      Math.min(e.selectedDay, this._getDaysInMonth(n, o)) +
                      ("D" === i ? t : 0),
                    a = this._restrictMinMax(
                      e,
                      this._daylightSavingAdjust(new Date(n, o, r))
                    );
                  (e.selectedDay = a.getDate()),
                    (e.drawMonth = e.selectedMonth = a.getMonth()),
                    (e.drawYear = e.selectedYear = a.getFullYear()),
                    ("M" !== i && "Y" !== i) || this._notifyChange(e);
                },
                _restrictMinMax: function (e, t) {
                  var i = this._getMinMaxDate(e, "min"),
                    n = this._getMinMaxDate(e, "max"),
                    o = i && t < i ? i : t;
                  return n && o > n ? n : o;
                },
                _notifyChange: function (e) {
                  var t = this._get(e, "onChangeMonthYear");
                  t &&
                    t.apply(e.input ? e.input[0] : null, [
                      e.selectedYear,
                      e.selectedMonth + 1,
                      e,
                    ]);
                },
                _getNumberOfMonths: function (e) {
                  var t = this._get(e, "numberOfMonths");
                  return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t;
                },
                _getMinMaxDate: function (e, t) {
                  return this._determineDate(e, this._get(e, t + "Date"), null);
                },
                _getDaysInMonth: function (e, t) {
                  return (
                    32 -
                    this._daylightSavingAdjust(new Date(e, t, 32)).getDate()
                  );
                },
                _getFirstDayOfMonth: function (e, t) {
                  return new Date(e, t, 1).getDay();
                },
                _canAdjustMonth: function (e, t, i, n) {
                  var o = this._getNumberOfMonths(e),
                    r = this._daylightSavingAdjust(
                      new Date(i, n + (t < 0 ? t : o[0] * o[1]), 1)
                    );
                  return (
                    t < 0 &&
                    r.setDate(
                      this._getDaysInMonth(r.getFullYear(), r.getMonth())
                    ),
                    this._isInRange(e, r)
                  );
                },
                _isInRange: function (e, t) {
                  var i,
                    n,
                    o = this._getMinMaxDate(e, "min"),
                    r = this._getMinMaxDate(e, "max"),
                    a = null,
                    s = null,
                    l = this._get(e, "yearRange");
                  return (
                    l &&
                    ((i = l.split(":")),
                      (n = new Date().getFullYear()),
                      (a = parseInt(i[0], 10)),
                      (s = parseInt(i[1], 10)),
                      i[0].match(/[+\-].*/) && (a += n),
                      i[1].match(/[+\-].*/) && (s += n)),
                    (!o || t.getTime() >= o.getTime()) &&
                    (!r || t.getTime() <= r.getTime()) &&
                    (!a || t.getFullYear() >= a) &&
                    (!s || t.getFullYear() <= s)
                  );
                },
                _getFormatConfig: function (e) {
                  var t = this._get(e, "shortYearCutoff");
                  return {
                    shortYearCutoff: (t =
                      "string" != typeof t
                        ? t
                        : (new Date().getFullYear() % 100) + parseInt(t, 10)),
                    dayNamesShort: this._get(e, "dayNamesShort"),
                    dayNames: this._get(e, "dayNames"),
                    monthNamesShort: this._get(e, "monthNamesShort"),
                    monthNames: this._get(e, "monthNames"),
                  };
                },
                _formatDate: function (e, t, i, n) {
                  t ||
                    ((e.currentDay = e.selectedDay),
                      (e.currentMonth = e.selectedMonth),
                      (e.currentYear = e.selectedYear));
                  var o = t
                    ? "object" == typeof t
                      ? t
                      : this._daylightSavingAdjust(new Date(n, i, t))
                    : this._daylightSavingAdjust(
                      new Date(e.currentYear, e.currentMonth, e.currentDay)
                    );
                  return this.formatDate(
                    this._get(e, "dateFormat"),
                    o,
                    this._getFormatConfig(e)
                  );
                },
              }),
              (e.fn.datepicker = function (t) {
                if (!this.length) return this;
                e.datepicker.initialized ||
                  (e(document).on(
                    "mousedown",
                    e.datepicker._checkExternalClick
                  ),
                    (e.datepicker.initialized = !0)),
                  0 === e("#" + e.datepicker._mainDivId).length &&
                  e("body").append(e.datepicker.dpDiv);
                var i = Array.prototype.slice.call(arguments, 1);
                return "string" != typeof t ||
                  ("isDisabled" !== t && "getDate" !== t && "widget" !== t)
                  ? "option" === t &&
                    2 === arguments.length &&
                    "string" == typeof arguments[1]
                    ? e.datepicker["_" + t + "Datepicker"].apply(
                      e.datepicker,
                      [this[0]].concat(i)
                    )
                    : this.each(function () {
                      "string" == typeof t
                        ? e.datepicker["_" + t + "Datepicker"].apply(
                          e.datepicker,
                          [this].concat(i)
                        )
                        : e.datepicker._attachDatepicker(this, t);
                    })
                  : e.datepicker["_" + t + "Datepicker"].apply(
                    e.datepicker,
                    [this[0]].concat(i)
                  );
              }),
              (e.datepicker = new i()),
              (e.datepicker.initialized = !1),
              (e.datepicker.uuid = new Date().getTime()),
              (e.datepicker.version = "1.12.1"),
              e.datepicker
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Dialog 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [
      i(0),
      i(21),
      i(19),
      i(7),
      i(30),
      i(15),
      i(6),
      i(9),
      i(10),
      i(29),
      i(26),
      i(8),
      i(1),
      i(4),
    ]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (
              e.widget("ui.dialog", {
                version: "1.12.1",
                options: {
                  appendTo: "body",
                  autoOpen: !0,
                  buttons: [],
                  classes: {
                    "ui-dialog": "ui-corner-all",
                    "ui-dialog-titlebar": "ui-corner-all",
                  },
                  closeOnEscape: !0,
                  closeText: "Close",
                  draggable: !0,
                  hide: null,
                  height: "auto",
                  maxHeight: null,
                  maxWidth: null,
                  minHeight: 150,
                  minWidth: 150,
                  modal: !1,
                  position: {
                    my: "center",
                    at: "center",
                    of: window,
                    collision: "fit",
                    using: function (t) {
                      var i = e(this).css(t).offset().top;
                      i < 0 && e(this).css("top", t.top - i);
                    },
                  },
                  resizable: !0,
                  show: null,
                  title: null,
                  width: 300,
                  beforeClose: null,
                  close: null,
                  drag: null,
                  dragStart: null,
                  dragStop: null,
                  focus: null,
                  open: null,
                  resize: null,
                  resizeStart: null,
                  resizeStop: null,
                },
                sizeRelatedOptions: {
                  buttons: !0,
                  height: !0,
                  maxHeight: !0,
                  maxWidth: !0,
                  minHeight: !0,
                  minWidth: !0,
                  width: !0,
                },
                resizableRelatedOptions: {
                  maxHeight: !0,
                  maxWidth: !0,
                  minHeight: !0,
                  minWidth: !0,
                },
                _create: function () {
                  (this.originalCss = {
                    display: this.element[0].style.display,
                    width: this.element[0].style.width,
                    minHeight: this.element[0].style.minHeight,
                    maxHeight: this.element[0].style.maxHeight,
                    height: this.element[0].style.height,
                  }),
                    (this.originalPosition = {
                      parent: this.element.parent(),
                      index: this.element
                        .parent()
                        .children()
                        .index(this.element),
                    }),
                    (this.originalTitle = this.element.attr("title")),
                    null == this.options.title &&
                    null != this.originalTitle &&
                    (this.options.title = this.originalTitle),
                    this.options.disabled && (this.options.disabled = !1),
                    this._createWrapper(),
                    this.element
                      .show()
                      .removeAttr("title")
                      .appendTo(this.uiDialog),
                    this._addClass("ui-dialog-content", "ui-widget-content"),
                    this._createTitlebar(),
                    this._createButtonPane(),
                    this.options.draggable &&
                    e.fn.draggable &&
                    this._makeDraggable(),
                    this.options.resizable &&
                    e.fn.resizable &&
                    this._makeResizable(),
                    (this._isOpen = !1),
                    this._trackFocus();
                },
                _init: function () {
                  this.options.autoOpen && this.open();
                },
                _appendTo: function () {
                  var t = this.options.appendTo;
                  return t && (t.jquery || t.nodeType)
                    ? e(t)
                    : this.document.find(t || "body").eq(0);
                },
                _destroy: function () {
                  var e,
                    t = this.originalPosition;
                  this._untrackInstance(),
                    this._destroyOverlay(),
                    this.element
                      .removeUniqueId()
                      .css(this.originalCss)
                      .detach(),
                    this.uiDialog.remove(),
                    this.originalTitle &&
                    this.element.attr("title", this.originalTitle),
                    (e = t.parent.children().eq(t.index)).length &&
                      e[0] !== this.element[0]
                      ? e.before(this.element)
                      : t.parent.append(this.element);
                },
                widget: function () {
                  return this.uiDialog;
                },
                disable: e.noop,
                enable: e.noop,
                close: function (t) {
                  var i = this;
                  this._isOpen &&
                    !1 !== this._trigger("beforeClose", t) &&
                    ((this._isOpen = !1),
                      (this._focusedElement = null),
                      this._destroyOverlay(),
                      this._untrackInstance(),
                      this.opener.filter(":focusable").trigger("focus").length ||
                      e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),
                      this._hide(this.uiDialog, this.options.hide, function () {
                        i._trigger("close", t);
                      }));
                },
                isOpen: function () {
                  return this._isOpen;
                },
                moveToTop: function () {
                  this._moveToTop();
                },
                _moveToTop: function (t, i) {
                  var n = !1,
                    o = this.uiDialog
                      .siblings(".ui-front:visible")
                      .map(function () {
                        return +e(this).css("z-index");
                      })
                      .get(),
                    r = Math.max.apply(null, o);
                  return (
                    r >= +this.uiDialog.css("z-index") &&
                    (this.uiDialog.css("z-index", r + 1), (n = !0)),
                    n && !i && this._trigger("focus", t),
                    n
                  );
                },
                open: function () {
                  var t = this;
                  this._isOpen
                    ? this._moveToTop() && this._focusTabbable()
                    : ((this._isOpen = !0),
                      (this.opener = e(
                        e.ui.safeActiveElement(this.document[0])
                      )),
                      this._size(),
                      this._position(),
                      this._createOverlay(),
                      this._moveToTop(null, !0),
                      this.overlay &&
                      this.overlay.css(
                        "z-index",
                        this.uiDialog.css("z-index") - 1
                      ),
                      this._show(this.uiDialog, this.options.show, function () {
                        t._focusTabbable(), t._trigger("focus");
                      }),
                      this._makeFocusTarget(),
                      this._trigger("open"));
                },
                _focusTabbable: function () {
                  var e = this._focusedElement;
                  e || (e = this.element.find("[autofocus]")),
                    e.length || (e = this.element.find(":tabbable")),
                    e.length || (e = this.uiDialogButtonPane.find(":tabbable")),
                    e.length ||
                    (e = this.uiDialogTitlebarClose.filter(":tabbable")),
                    e.length || (e = this.uiDialog),
                    e.eq(0).trigger("focus");
                },
                _keepFocus: function (t) {
                  function i() {
                    var t = e.ui.safeActiveElement(this.document[0]);
                    this.uiDialog[0] === t ||
                      e.contains(this.uiDialog[0], t) ||
                      this._focusTabbable();
                  }
                  t.preventDefault(), i.call(this), this._delay(i);
                },
                _createWrapper: function () {
                  (this.uiDialog = e("<div>")
                    .hide()
                    .attr({ tabIndex: -1, role: "dialog" })
                    .appendTo(this._appendTo())),
                    this._addClass(
                      this.uiDialog,
                      "ui-dialog",
                      "ui-widget ui-widget-content ui-front"
                    ),
                    this._on(this.uiDialog, {
                      keydown: function (t) {
                        if (
                          this.options.closeOnEscape &&
                          !t.isDefaultPrevented() &&
                          t.keyCode &&
                          t.keyCode === e.ui.keyCode.ESCAPE
                        )
                          return t.preventDefault(), void this.close(t);
                        if (
                          t.keyCode === e.ui.keyCode.TAB &&
                          !t.isDefaultPrevented()
                        ) {
                          var i = this.uiDialog.find(":tabbable"),
                            n = i.filter(":first"),
                            o = i.filter(":last");
                          (t.target !== o[0] &&
                            t.target !== this.uiDialog[0]) ||
                            t.shiftKey
                            ? (t.target !== n[0] &&
                              t.target !== this.uiDialog[0]) ||
                            !t.shiftKey ||
                            (this._delay(function () {
                              o.trigger("focus");
                            }),
                              t.preventDefault())
                            : (this._delay(function () {
                              n.trigger("focus");
                            }),
                              t.preventDefault());
                        }
                      },
                      mousedown: function (e) {
                        this._moveToTop(e) && this._focusTabbable();
                      },
                    }),
                    this.element.find("[aria-describedby]").length ||
                    this.uiDialog.attr({
                      "aria-describedby": this.element.uniqueId().attr("id"),
                    });
                },
                _createTitlebar: function () {
                  var t;
                  (this.uiDialogTitlebar = e("<div>")),
                    this._addClass(
                      this.uiDialogTitlebar,
                      "ui-dialog-titlebar",
                      "ui-widget-header ui-helper-clearfix"
                    ),
                    this._on(this.uiDialogTitlebar, {
                      mousedown: function (t) {
                        e(t.target).closest(".ui-dialog-titlebar-close") ||
                          this.uiDialog.trigger("focus");
                      },
                    }),
                    (this.uiDialogTitlebarClose = e(
                      "<button type='button'></button>"
                    )
                      .button({
                        label: e("<a>").text(this.options.closeText).html(),
                        icon: "ui-icon-closethick",
                        showLabel: !1,
                      })
                      .appendTo(this.uiDialogTitlebar)),
                    this._addClass(
                      this.uiDialogTitlebarClose,
                      "ui-dialog-titlebar-close"
                    ),
                    this._on(this.uiDialogTitlebarClose, {
                      click: function (e) {
                        e.preventDefault(), this.close(e);
                      },
                    }),
                    (t = e("<span>")
                      .uniqueId()
                      .prependTo(this.uiDialogTitlebar)),
                    this._addClass(t, "ui-dialog-title"),
                    this._title(t),
                    this.uiDialogTitlebar.prependTo(this.uiDialog),
                    this.uiDialog.attr({ "aria-labelledby": t.attr("id") });
                },
                _title: function (e) {
                  this.options.title
                    ? e.text(this.options.title)
                    : e.html("&#160;");
                },
                _createButtonPane: function () {
                  (this.uiDialogButtonPane = e("<div>")),
                    this._addClass(
                      this.uiDialogButtonPane,
                      "ui-dialog-buttonpane",
                      "ui-widget-content ui-helper-clearfix"
                    ),
                    (this.uiButtonSet = e("<div>").appendTo(
                      this.uiDialogButtonPane
                    )),
                    this._addClass(this.uiButtonSet, "ui-dialog-buttonset"),
                    this._createButtons();
                },
                _createButtons: function () {
                  var t = this,
                    i = this.options.buttons;
                  this.uiDialogButtonPane.remove(),
                    this.uiButtonSet.empty(),
                    e.isEmptyObject(i) || (e.isArray(i) && !i.length)
                      ? this._removeClass(this.uiDialog, "ui-dialog-buttons")
                      : (e.each(i, function (i, n) {
                        var o, r;
                        (n = e.isFunction(n) ? { click: n, text: i } : n),
                          (n = e.extend({ type: "button" }, n)),
                          (o = n.click),
                          (r = {
                            icon: n.icon,
                            iconPosition: n.iconPosition,
                            showLabel: n.showLabel,
                            icons: n.icons,
                            text: n.text,
                          }),
                          delete n.click,
                          delete n.icon,
                          delete n.iconPosition,
                          delete n.showLabel,
                          delete n.icons,
                          "boolean" == typeof n.text && delete n.text,
                          e("<button></button>", n)
                            .button(r)
                            .appendTo(t.uiButtonSet)
                            .on("click", function () {
                              o.apply(t.element[0], arguments);
                            });
                      }),
                        this._addClass(this.uiDialog, "ui-dialog-buttons"),
                        this.uiDialogButtonPane.appendTo(this.uiDialog));
                },
                _makeDraggable: function () {
                  var t = this,
                    i = this.options;
                  function n(e) {
                    return { position: e.position, offset: e.offset };
                  }
                  this.uiDialog.draggable({
                    cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                    handle: ".ui-dialog-titlebar",
                    containment: "document",
                    start: function (i, o) {
                      t._addClass(e(this), "ui-dialog-dragging"),
                        t._blockFrames(),
                        t._trigger("dragStart", i, n(o));
                    },
                    drag: function (e, i) {
                      t._trigger("drag", e, n(i));
                    },
                    stop: function (o, r) {
                      var a = r.offset.left - t.document.scrollLeft(),
                        s = r.offset.top - t.document.scrollTop();
                      (i.position = {
                        my: "left top",
                        at:
                          "left" +
                          (a >= 0 ? "+" : "") +
                          a +
                          " top" +
                          (s >= 0 ? "+" : "") +
                          s,
                        of: t.window,
                      }),
                        t._removeClass(e(this), "ui-dialog-dragging"),
                        t._unblockFrames(),
                        t._trigger("dragStop", o, n(r));
                    },
                  });
                },
                _makeResizable: function () {
                  var t = this,
                    i = this.options,
                    n = i.resizable,
                    o = this.uiDialog.css("position"),
                    r = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
                  function a(e) {
                    return {
                      originalPosition: e.originalPosition,
                      originalSize: e.originalSize,
                      position: e.position,
                      size: e.size,
                    };
                  }
                  this.uiDialog
                    .resizable({
                      cancel: ".ui-dialog-content",
                      containment: "document",
                      alsoResize: this.element,
                      maxWidth: i.maxWidth,
                      maxHeight: i.maxHeight,
                      minWidth: i.minWidth,
                      minHeight: this._minHeight(),
                      handles: r,
                      start: function (i, n) {
                        t._addClass(e(this), "ui-dialog-resizing"),
                          t._blockFrames(),
                          t._trigger("resizeStart", i, a(n));
                      },
                      resize: function (e, i) {
                        t._trigger("resize", e, a(i));
                      },
                      stop: function (n, o) {
                        var r = t.uiDialog.offset(),
                          s = r.left - t.document.scrollLeft(),
                          l = r.top - t.document.scrollTop();
                        (i.height = t.uiDialog.height()),
                          (i.width = t.uiDialog.width()),
                          (i.position = {
                            my: "left top",
                            at:
                              "left" +
                              (s >= 0 ? "+" : "") +
                              s +
                              " top" +
                              (l >= 0 ? "+" : "") +
                              l,
                            of: t.window,
                          }),
                          t._removeClass(e(this), "ui-dialog-resizing"),
                          t._unblockFrames(),
                          t._trigger("resizeStop", n, a(o));
                      },
                    })
                    .css("position", o);
                },
                _trackFocus: function () {
                  this._on(this.widget(), {
                    focusin: function (t) {
                      this._makeFocusTarget(),
                        (this._focusedElement = e(t.target));
                    },
                  });
                },
                _makeFocusTarget: function () {
                  this._untrackInstance(),
                    this._trackingInstances().unshift(this);
                },
                _untrackInstance: function () {
                  var t = this._trackingInstances(),
                    i = e.inArray(this, t);
                  -1 !== i && t.splice(i, 1);
                },
                _trackingInstances: function () {
                  var e = this.document.data("ui-dialog-instances");
                  return (
                    e ||
                    ((e = []), this.document.data("ui-dialog-instances", e)),
                    e
                  );
                },
                _minHeight: function () {
                  var e = this.options;
                  return "auto" === e.height
                    ? e.minHeight
                    : Math.min(e.minHeight, e.height);
                },
                _position: function () {
                  var e = this.uiDialog.is(":visible");
                  e || this.uiDialog.show(),
                    this.uiDialog.position(this.options.position),
                    e || this.uiDialog.hide();
                },
                _setOptions: function (t) {
                  var i = this,
                    n = !1,
                    o = {};
                  e.each(t, function (e, t) {
                    i._setOption(e, t),
                      e in i.sizeRelatedOptions && (n = !0),
                      e in i.resizableRelatedOptions && (o[e] = t);
                  }),
                    n && (this._size(), this._position()),
                    this.uiDialog.is(":data(ui-resizable)") &&
                    this.uiDialog.resizable("option", o);
                },
                _setOption: function (t, i) {
                  var n,
                    o,
                    r = this.uiDialog;
                  "disabled" !== t &&
                    (this._super(t, i),
                      "appendTo" === t &&
                      this.uiDialog.appendTo(this._appendTo()),
                      "buttons" === t && this._createButtons(),
                      "closeText" === t &&
                      this.uiDialogTitlebarClose.button({
                        label: e("<a>")
                          .text("" + this.options.closeText)
                          .html(),
                      }),
                      "draggable" === t &&
                      ((n = r.is(":data(ui-draggable)")) &&
                        !i &&
                        r.draggable("destroy"),
                        !n && i && this._makeDraggable()),
                      "position" === t && this._position(),
                      "resizable" === t &&
                      ((o = r.is(":data(ui-resizable)")) &&
                        !i &&
                        r.resizable("destroy"),
                        o &&
                        "string" == typeof i &&
                        r.resizable("option", "handles", i),
                        o || !1 === i || this._makeResizable()),
                      "title" === t &&
                      this._title(
                        this.uiDialogTitlebar.find(".ui-dialog-title")
                      ));
                },
                _size: function () {
                  var e,
                    t,
                    i,
                    n = this.options;
                  this.element
                    .show()
                    .css({
                      width: "auto",
                      minHeight: 0,
                      maxHeight: "none",
                      height: 0,
                    }),
                    n.minWidth > n.width && (n.width = n.minWidth),
                    (e = this.uiDialog
                      .css({ height: "auto", width: n.width })
                      .outerHeight()),
                    (t = Math.max(0, n.minHeight - e)),
                    (i =
                      "number" == typeof n.maxHeight
                        ? Math.max(0, n.maxHeight - e)
                        : "none"),
                    "auto" === n.height
                      ? this.element.css({
                        minHeight: t,
                        maxHeight: i,
                        height: "auto",
                      })
                      : this.element.height(Math.max(0, n.height - e)),
                    this.uiDialog.is(":data(ui-resizable)") &&
                    this.uiDialog.resizable(
                      "option",
                      "minHeight",
                      this._minHeight()
                    );
                },
                _blockFrames: function () {
                  this.iframeBlocks = this.document
                    .find("iframe")
                    .map(function () {
                      var t = e(this);
                      return e("<div>")
                        .css({
                          position: "absolute",
                          width: t.outerWidth(),
                          height: t.outerHeight(),
                        })
                        .appendTo(t.parent())
                        .offset(t.offset())[0];
                    });
                },
                _unblockFrames: function () {
                  this.iframeBlocks &&
                    (this.iframeBlocks.remove(), delete this.iframeBlocks);
                },
                _allowInteraction: function (t) {
                  return (
                    !!e(t.target).closest(".ui-dialog").length ||
                    !!e(t.target).closest(".ui-datepicker").length
                  );
                },
                _createOverlay: function () {
                  if (this.options.modal) {
                    var t = !0;
                    this._delay(function () {
                      t = !1;
                    }),
                      this.document.data("ui-dialog-overlays") ||
                      this._on(this.document, {
                        focusin: function (e) {
                          t ||
                            this._allowInteraction(e) ||
                            (e.preventDefault(),
                              this._trackingInstances()[0]._focusTabbable());
                        },
                      }),
                      (this.overlay = e("<div>").appendTo(this._appendTo())),
                      this._addClass(
                        this.overlay,
                        null,
                        "ui-widget-overlay ui-front"
                      ),
                      this._on(this.overlay, { mousedown: "_keepFocus" }),
                      this.document.data(
                        "ui-dialog-overlays",
                        (this.document.data("ui-dialog-overlays") || 0) + 1
                      );
                  }
                },
                _destroyOverlay: function () {
                  if (this.options.modal && this.overlay) {
                    var e = this.document.data("ui-dialog-overlays") - 1;
                    e
                      ? this.document.data("ui-dialog-overlays", e)
                      : (this._off(this.document, "focusin"),
                        this.document.removeData("ui-dialog-overlays")),
                      this.overlay.remove(),
                      (this.overlay = null);
                  }
                },
              }),
              !1 !== e.uiBackCompat &&
              e.widget("ui.dialog", e.ui.dialog, {
                options: { dialogClass: "" },
                _createWrapper: function () {
                  this._super(),
                    this.uiDialog.addClass(this.options.dialogClass);
                },
                _setOption: function (e, t) {
                  "dialogClass" === e &&
                    this.uiDialog
                      .removeClass(this.options.dialogClass)
                      .addClass(t),
                    this._superApply(arguments);
                },
              }),
              e.ui.dialog
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Progressbar 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.widget("ui.progressbar", {
              version: "1.12.1",
              options: {
                classes: {
                  "ui-progressbar": "ui-corner-all",
                  "ui-progressbar-value": "ui-corner-left",
                  "ui-progressbar-complete": "ui-corner-right",
                },
                max: 100,
                value: 0,
                change: null,
                complete: null,
              },
              min: 0,
              _create: function () {
                (this.oldValue = this.options.value = this._constrainedValue()),
                  this.element.attr({
                    role: "progressbar",
                    "aria-valuemin": this.min,
                  }),
                  this._addClass(
                    "ui-progressbar",
                    "ui-widget ui-widget-content"
                  ),
                  (this.valueDiv = e("<div>").appendTo(this.element)),
                  this._addClass(
                    this.valueDiv,
                    "ui-progressbar-value",
                    "ui-widget-header"
                  ),
                  this._refreshValue();
              },
              _destroy: function () {
                this.element.removeAttr(
                  "role aria-valuemin aria-valuemax aria-valuenow"
                ),
                  this.valueDiv.remove();
              },
              value: function (e) {
                if (void 0 === e) return this.options.value;
                (this.options.value = this._constrainedValue(e)),
                  this._refreshValue();
              },
              _constrainedValue: function (e) {
                return (
                  void 0 === e && (e = this.options.value),
                  (this.indeterminate = !1 === e),
                  "number" != typeof e && (e = 0),
                  !this.indeterminate &&
                  Math.min(this.options.max, Math.max(this.min, e))
                );
              },
              _setOptions: function (e) {
                var t = e.value;
                delete e.value,
                  this._super(e),
                  (this.options.value = this._constrainedValue(t)),
                  this._refreshValue();
              },
              _setOption: function (e, t) {
                "max" === e && (t = Math.max(this.min, t)), this._super(e, t);
              },
              _setOptionDisabled: function (e) {
                this._super(e),
                  this.element.attr("aria-disabled", e),
                  this._toggleClass(null, "ui-state-disabled", !!e);
              },
              _percentage: function () {
                return this.indeterminate
                  ? 100
                  : (100 * (this.options.value - this.min)) /
                  (this.options.max - this.min);
              },
              _refreshValue: function () {
                var t = this.options.value,
                  i = this._percentage();
                this.valueDiv
                  .toggle(this.indeterminate || t > this.min)
                  .width(i.toFixed(0) + "%"),
                  this._toggleClass(
                    this.valueDiv,
                    "ui-progressbar-complete",
                    null,
                    t === this.options.max
                  )._toggleClass(
                    "ui-progressbar-indeterminate",
                    null,
                    this.indeterminate
                  ),
                  this.indeterminate
                    ? (this.element.removeAttr("aria-valuenow"),
                      this.overlayDiv ||
                      ((this.overlayDiv = e("<div>").appendTo(this.valueDiv)),
                        this._addClass(
                          this.overlayDiv,
                          "ui-progressbar-overlay"
                        )))
                    : (this.element.attr({
                      "aria-valuemax": this.options.max,
                      "aria-valuenow": t,
                    }),
                      this.overlayDiv &&
                      (this.overlayDiv.remove(), (this.overlayDiv = null))),
                  this.oldValue !== t &&
                  ((this.oldValue = t), this._trigger("change")),
                  t === this.options.max && this._trigger("complete");
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Selectmenu 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(20), i(12), i(16), i(6), i(17), i(9), i(8), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.widget("ui.selectmenu", [
              e.ui.formResetMixin,
              {
                version: "1.12.1",
                defaultElement: "<select>",
                options: {
                  appendTo: null,
                  classes: {
                    "ui-selectmenu-button-open": "ui-corner-top",
                    "ui-selectmenu-button-closed": "ui-corner-all",
                  },
                  disabled: null,
                  icons: { button: "ui-icon-triangle-1-s" },
                  position: {
                    my: "left top",
                    at: "left bottom",
                    collision: "none",
                  },
                  width: !1,
                  change: null,
                  close: null,
                  focus: null,
                  open: null,
                  select: null,
                },
                _create: function () {
                  var t = this.element.uniqueId().attr("id");
                  (this.ids = {
                    element: t,
                    button: t + "-button",
                    menu: t + "-menu",
                  }),
                    this._drawButton(),
                    this._drawMenu(),
                    this._bindFormResetHandler(),
                    (this._rendered = !1),
                    (this.menuItems = e());
                },
                _drawButton: function () {
                  var t,
                    i = this,
                    n = this._parseOption(
                      this.element.find("option:selected"),
                      this.element[0].selectedIndex
                    );
                  (this.labels = this.element
                    .labels()
                    .attr("for", this.ids.button)),
                    this._on(this.labels, {
                      click: function (e) {
                        this.button.focus(), e.preventDefault();
                      },
                    }),
                    this.element.hide(),
                    (this.button = e("<span>", {
                      tabindex: this.options.disabled ? -1 : 0,
                      id: this.ids.button,
                      role: "combobox",
                      "aria-expanded": "false",
                      "aria-autocomplete": "list",
                      "aria-owns": this.ids.menu,
                      "aria-haspopup": "true",
                      title: this.element.attr("title"),
                    }).insertAfter(this.element)),
                    this._addClass(
                      this.button,
                      "ui-selectmenu-button ui-selectmenu-button-closed",
                      "ui-button ui-widget"
                    ),
                    (t = e("<span>").appendTo(this.button)),
                    this._addClass(
                      t,
                      "ui-selectmenu-icon",
                      "ui-icon " + this.options.icons.button
                    ),
                    (this.buttonItem = this._renderButtonItem(n).appendTo(
                      this.button
                    )),
                    !1 !== this.options.width && this._resizeButton(),
                    this._on(this.button, this._buttonEvents),
                    this.button.one("focusin", function () {
                      i._rendered || i._refreshMenu();
                    });
                },
                _drawMenu: function () {
                  var t = this;
                  (this.menu = e("<ul>", {
                    "aria-hidden": "true",
                    "aria-labelledby": this.ids.button,
                    id: this.ids.menu,
                  })),
                    (this.menuWrap = e("<div>").append(this.menu)),
                    this._addClass(
                      this.menuWrap,
                      "ui-selectmenu-menu",
                      "ui-front"
                    ),
                    this.menuWrap.appendTo(this._appendTo()),
                    (this.menuInstance = this.menu
                      .menu({
                        classes: { "ui-menu": "ui-corner-bottom" },
                        role: "listbox",
                        select: function (e, i) {
                          e.preventDefault(),
                            t._setSelection(),
                            t._select(i.item.data("ui-selectmenu-item"), e);
                        },
                        focus: function (e, i) {
                          var n = i.item.data("ui-selectmenu-item");
                          null != t.focusIndex &&
                            n.index !== t.focusIndex &&
                            (t._trigger("focus", e, { item: n }),
                              t.isOpen || t._select(n, e)),
                            (t.focusIndex = n.index),
                            t.button.attr(
                              "aria-activedescendant",
                              t.menuItems.eq(n.index).attr("id")
                            );
                        },
                      })
                      .menu("instance")),
                    this.menuInstance._off(this.menu, "mouseleave"),
                    (this.menuInstance._closeOnDocumentClick = function () {
                      return !1;
                    }),
                    (this.menuInstance._isDivider = function () {
                      return !1;
                    });
                },
                refresh: function () {
                  this._refreshMenu(),
                    this.buttonItem.replaceWith(
                      (this.buttonItem = this._renderButtonItem(
                        this._getSelectedItem().data("ui-selectmenu-item") || {}
                      ))
                    ),
                    null === this.options.width && this._resizeButton();
                },
                _refreshMenu: function () {
                  var e,
                    t = this.element.find("option");
                  this.menu.empty(),
                    this._parseOptions(t),
                    this._renderMenu(this.menu, this.items),
                    this.menuInstance.refresh(),
                    (this.menuItems = this.menu
                      .find("li")
                      .not(".ui-selectmenu-optgroup")
                      .find(".ui-menu-item-wrapper")),
                    (this._rendered = !0),
                    t.length &&
                    ((e = this._getSelectedItem()),
                      this.menuInstance.focus(null, e),
                      this._setAria(e.data("ui-selectmenu-item")),
                      this._setOption(
                        "disabled",
                        this.element.prop("disabled")
                      ));
                },
                open: function (e) {
                  this.options.disabled ||
                    (this._rendered
                      ? (this._removeClass(
                        this.menu.find(".ui-state-active"),
                        null,
                        "ui-state-active"
                      ),
                        this.menuInstance.focus(null, this._getSelectedItem()))
                      : this._refreshMenu(),
                      this.menuItems.length &&
                      ((this.isOpen = !0),
                        this._toggleAttr(),
                        this._resizeMenu(),
                        this._position(),
                        this._on(this.document, this._documentClick),
                        this._trigger("open", e)));
                },
                _position: function () {
                  this.menuWrap.position(
                    e.extend({ of: this.button }, this.options.position)
                  );
                },
                close: function (e) {
                  this.isOpen &&
                    ((this.isOpen = !1),
                      this._toggleAttr(),
                      (this.range = null),
                      this._off(this.document),
                      this._trigger("close", e));
                },
                widget: function () {
                  return this.button;
                },
                menuWidget: function () {
                  return this.menu;
                },
                _renderButtonItem: function (t) {
                  var i = e("<span>");
                  return (
                    this._setText(i, t.label),
                    this._addClass(i, "ui-selectmenu-text"),
                    i
                  );
                },
                _renderMenu: function (t, i) {
                  var n = this,
                    o = "";
                  e.each(i, function (i, r) {
                    var a;
                    r.optgroup !== o &&
                      ((a = e("<li>", { text: r.optgroup })),
                        n._addClass(
                          a,
                          "ui-selectmenu-optgroup",
                          "ui-menu-divider" +
                          (r.element.parent("optgroup").prop("disabled")
                            ? " ui-state-disabled"
                            : "")
                        ),
                        a.appendTo(t),
                        (o = r.optgroup)),
                      n._renderItemData(t, r);
                  });
                },
                _renderItemData: function (e, t) {
                  return this._renderItem(e, t).data("ui-selectmenu-item", t);
                },
                _renderItem: function (t, i) {
                  var n = e("<li>"),
                    o = e("<div>", { title: i.element.attr("title") });
                  return (
                    i.disabled && this._addClass(n, null, "ui-state-disabled"),
                    this._setText(o, i.label),
                    n.append(o).appendTo(t)
                  );
                },
                _setText: function (e, t) {
                  t ? e.text(t) : e.html("&#160;");
                },
                _move: function (e, t) {
                  var i,
                    n,
                    o = ".ui-menu-item";
                  this.isOpen
                    ? (i = this.menuItems.eq(this.focusIndex).parent("li"))
                    : ((i = this.menuItems
                      .eq(this.element[0].selectedIndex)
                      .parent("li")),
                      (o += ":not(.ui-state-disabled)")),
                    (n =
                      "first" === e || "last" === e
                        ? i["first" === e ? "prevAll" : "nextAll"](o).eq(-1)
                        : i[e + "All"](o).eq(0)).length &&
                    this.menuInstance.focus(t, n);
                },
                _getSelectedItem: function () {
                  return this.menuItems
                    .eq(this.element[0].selectedIndex)
                    .parent("li");
                },
                _toggle: function (e) {
                  this[this.isOpen ? "close" : "open"](e);
                },
                _setSelection: function () {
                  var e;
                  this.range &&
                    (window.getSelection
                      ? ((e = window.getSelection()).removeAllRanges(),
                        e.addRange(this.range))
                      : this.range.select(),
                      this.button.focus());
                },
                _documentClick: {
                  mousedown: function (t) {
                    this.isOpen &&
                      (e(t.target).closest(
                        ".ui-selectmenu-menu, #" +
                        e.ui.escapeSelector(this.ids.button)
                      ).length ||
                        this.close(t));
                  },
                },
                _buttonEvents: {
                  mousedown: function () {
                    var e;
                    window.getSelection
                      ? (e = window.getSelection()).rangeCount &&
                      (this.range = e.getRangeAt(0))
                      : (this.range = document.selection.createRange());
                  },
                  click: function (e) {
                    this._setSelection(), this._toggle(e);
                  },
                  keydown: function (t) {
                    var i = !0;
                    switch (t.keyCode) {
                      case e.ui.keyCode.TAB:
                      case e.ui.keyCode.ESCAPE:
                        this.close(t), (i = !1);
                        break;
                      case e.ui.keyCode.ENTER:
                        this.isOpen && this._selectFocusedItem(t);
                        break;
                      case e.ui.keyCode.UP:
                        t.altKey ? this._toggle(t) : this._move("prev", t);
                        break;
                      case e.ui.keyCode.DOWN:
                        t.altKey ? this._toggle(t) : this._move("next", t);
                        break;
                      case e.ui.keyCode.SPACE:
                        this.isOpen
                          ? this._selectFocusedItem(t)
                          : this._toggle(t);
                        break;
                      case e.ui.keyCode.LEFT:
                        this._move("prev", t);
                        break;
                      case e.ui.keyCode.RIGHT:
                        this._move("next", t);
                        break;
                      case e.ui.keyCode.HOME:
                      case e.ui.keyCode.PAGE_UP:
                        this._move("first", t);
                        break;
                      case e.ui.keyCode.END:
                      case e.ui.keyCode.PAGE_DOWN:
                        this._move("last", t);
                        break;
                      default:
                        this.menu.trigger(t), (i = !1);
                    }
                    i && t.preventDefault();
                  },
                },
                _selectFocusedItem: function (e) {
                  var t = this.menuItems.eq(this.focusIndex).parent("li");
                  t.hasClass("ui-state-disabled") ||
                    this._select(t.data("ui-selectmenu-item"), e);
                },
                _select: function (e, t) {
                  var i = this.element[0].selectedIndex;
                  (this.element[0].selectedIndex = e.index),
                    this.buttonItem.replaceWith(
                      (this.buttonItem = this._renderButtonItem(e))
                    ),
                    this._setAria(e),
                    this._trigger("select", t, { item: e }),
                    e.index !== i && this._trigger("change", t, { item: e }),
                    this.close(t);
                },
                _setAria: function (e) {
                  var t = this.menuItems.eq(e.index).attr("id");
                  this.button.attr({
                    "aria-labelledby": t,
                    "aria-activedescendant": t,
                  }),
                    this.menu.attr("aria-activedescendant", t);
                },
                _setOption: function (e, t) {
                  if ("icons" === e) {
                    var i = this.button.find("span.ui-icon");
                    this._removeClass(
                      i,
                      null,
                      this.options.icons.button
                    )._addClass(i, null, t.button);
                  }
                  this._super(e, t),
                    "appendTo" === e &&
                    this.menuWrap.appendTo(this._appendTo()),
                    "width" === e && this._resizeButton();
                },
                _setOptionDisabled: function (e) {
                  this._super(e),
                    this.menuInstance.option("disabled", e),
                    this.button.attr("aria-disabled", e),
                    this._toggleClass(
                      this.button,
                      null,
                      "ui-state-disabled",
                      e
                    ),
                    this.element.prop("disabled", e),
                    e
                      ? (this.button.attr("tabindex", -1), this.close())
                      : this.button.attr("tabindex", 0);
                },
                _appendTo: function () {
                  var t = this.options.appendTo;
                  return (
                    t &&
                    (t =
                      t.jquery || t.nodeType
                        ? e(t)
                        : this.document.find(t).eq(0)),
                    (t && t[0]) ||
                    (t = this.element.closest(".ui-front, dialog")),
                    t.length || (t = this.document[0].body),
                    t
                  );
                },
                _toggleAttr: function () {
                  this.button.attr("aria-expanded", this.isOpen),
                    this._removeClass(
                      this.button,
                      "ui-selectmenu-button-" +
                      (this.isOpen ? "closed" : "open")
                    )
                      ._addClass(
                        this.button,
                        "ui-selectmenu-button-" +
                        (this.isOpen ? "open" : "closed")
                      )
                      ._toggleClass(
                        this.menuWrap,
                        "ui-selectmenu-open",
                        null,
                        this.isOpen
                      ),
                    this.menu.attr("aria-hidden", !this.isOpen);
                },
                _resizeButton: function () {
                  var e = this.options.width;
                  !1 !== e
                    ? (null === e &&
                      ((e = this.element.show().outerWidth()),
                        this.element.hide()),
                      this.button.outerWidth(e))
                    : this.button.css("width", "");
                },
                _resizeMenu: function () {
                  this.menu.outerWidth(
                    Math.max(
                      this.button.outerWidth(),
                      this.menu.width("").outerWidth() + 1
                    )
                  );
                },
                _getCreateOptions: function () {
                  var e = this._super();
                  return (e.disabled = this.element.prop("disabled")), e;
                },
                _parseOptions: function (t) {
                  var i = this,
                    n = [];
                  t.each(function (t, o) {
                    n.push(i._parseOption(e(o), t));
                  }),
                    (this.items = n);
                },
                _parseOption: function (e, t) {
                  var i = e.parent("optgroup");
                  return {
                    element: e,
                    index: t,
                    value: e.val(),
                    label: e.text(),
                    optgroup: i.attr("label") || "",
                    disabled: i.prop("disabled") || e.prop("disabled"),
                  };
                },
                _destroy: function () {
                  this._unbindFormResetHandler(),
                    this.menuWrap.remove(),
                    this.button.remove(),
                    this.element.show(),
                    this.element.removeUniqueId(),
                    this.labels.attr("for", this.ids.element);
                },
              },
            ]);
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Slider 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(7), i(6), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.widget("ui.slider", e.ui.mouse, {
              version: "1.12.1",
              widgetEventPrefix: "slide",
              options: {
                animate: !1,
                classes: {
                  "ui-slider": "ui-corner-all",
                  "ui-slider-handle": "ui-corner-all",
                  "ui-slider-range": "ui-corner-all ui-widget-header",
                },
                distance: 0,
                max: 100,
                min: 0,
                orientation: "horizontal",
                range: !1,
                step: 1,
                value: 0,
                values: null,
                change: null,
                slide: null,
                start: null,
                stop: null,
              },
              numPages: 5,
              _create: function () {
                (this._keySliding = !1),
                  (this._mouseSliding = !1),
                  (this._animateOff = !0),
                  (this._handleIndex = null),
                  this._detectOrientation(),
                  this._mouseInit(),
                  this._calculateNewMax(),
                  this._addClass(
                    "ui-slider ui-slider-" + this.orientation,
                    "ui-widget ui-widget-content"
                  ),
                  this._refresh(),
                  (this._animateOff = !1);
              },
              _refresh: function () {
                this._createRange(),
                  this._createHandles(),
                  this._setupEvents(),
                  this._refreshValue();
              },
              _createHandles: function () {
                var t,
                  i,
                  n = this.options,
                  o = this.element.find(".ui-slider-handle"),
                  r = [];
                for (
                  i = (n.values && n.values.length) || 1,
                  o.length > i && (o.slice(i).remove(), (o = o.slice(0, i))),
                  t = o.length;
                  t < i;
                  t++
                )
                  r.push("<span tabindex='0'></span>");
                (this.handles = o.add(e(r.join("")).appendTo(this.element))),
                  this._addClass(
                    this.handles,
                    "ui-slider-handle",
                    "ui-state-default"
                  ),
                  (this.handle = this.handles.eq(0)),
                  this.handles.each(function (t) {
                    e(this)
                      .data("ui-slider-handle-index", t)
                      .attr("tabIndex", 0);
                  });
              },
              _createRange: function () {
                var t = this.options;
                t.range
                  ? (!0 === t.range &&
                    (t.values
                      ? t.values.length && 2 !== t.values.length
                        ? (t.values = [t.values[0], t.values[0]])
                        : e.isArray(t.values) &&
                        (t.values = t.values.slice(0))
                      : (t.values = [this._valueMin(), this._valueMin()])),
                    this.range && this.range.length
                      ? (this._removeClass(
                        this.range,
                        "ui-slider-range-min ui-slider-range-max"
                      ),
                        this.range.css({ left: "", bottom: "" }))
                      : ((this.range = e("<div>").appendTo(this.element)),
                        this._addClass(this.range, "ui-slider-range")),
                    ("min" !== t.range && "max" !== t.range) ||
                    this._addClass(this.range, "ui-slider-range-" + t.range))
                  : (this.range && this.range.remove(), (this.range = null));
              },
              _setupEvents: function () {
                this._off(this.handles),
                  this._on(this.handles, this._handleEvents),
                  this._hoverable(this.handles),
                  this._focusable(this.handles);
              },
              _destroy: function () {
                this.handles.remove(),
                  this.range && this.range.remove(),
                  this._mouseDestroy();
              },
              _mouseCapture: function (t) {
                var i,
                  n,
                  o,
                  r,
                  a,
                  s,
                  l,
                  c = this,
                  u = this.options;
                return (
                  !u.disabled &&
                  ((this.elementSize = {
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                  }),
                    (this.elementOffset = this.element.offset()),
                    (i = { x: t.pageX, y: t.pageY }),
                    (n = this._normValueFromMouse(i)),
                    (o = this._valueMax() - this._valueMin() + 1),
                    this.handles.each(function (t) {
                      var i = Math.abs(n - c.values(t));
                      (o > i ||
                        (o === i &&
                          (t === c._lastChangedValue ||
                            c.values(t) === u.min))) &&
                        ((o = i), (r = e(this)), (a = t));
                    }),
                    !1 !== this._start(t, a) &&
                    ((this._mouseSliding = !0),
                      (this._handleIndex = a),
                      this._addClass(r, null, "ui-state-active"),
                      r.trigger("focus"),
                      (s = r.offset()),
                      (l = !e(t.target)
                        .parents()
                        .addBack()
                        .is(".ui-slider-handle")),
                      (this._clickOffset = l
                        ? { left: 0, top: 0 }
                        : {
                          left: t.pageX - s.left - r.width() / 2,
                          top:
                            t.pageY -
                            s.top -
                            r.height() / 2 -
                            (parseInt(r.css("borderTopWidth"), 10) || 0) -
                            (parseInt(r.css("borderBottomWidth"), 10) || 0) +
                            (parseInt(r.css("marginTop"), 10) || 0),
                        }),
                      this.handles.hasClass("ui-state-hover") ||
                      this._slide(t, a, n),
                      (this._animateOff = !0),
                      !0))
                );
              },
              _mouseStart: function () {
                return !0;
              },
              _mouseDrag: function (e) {
                var t = { x: e.pageX, y: e.pageY },
                  i = this._normValueFromMouse(t);
                return this._slide(e, this._handleIndex, i), !1;
              },
              _mouseStop: function (e) {
                return (
                  this._removeClass(this.handles, null, "ui-state-active"),
                  (this._mouseSliding = !1),
                  this._stop(e, this._handleIndex),
                  this._change(e, this._handleIndex),
                  (this._handleIndex = null),
                  (this._clickOffset = null),
                  (this._animateOff = !1),
                  !1
                );
              },
              _detectOrientation: function () {
                this.orientation =
                  "vertical" === this.options.orientation
                    ? "vertical"
                    : "horizontal";
              },
              _normValueFromMouse: function (e) {
                var t, i, n, o, r;
                return (
                  "horizontal" === this.orientation
                    ? ((t = this.elementSize.width),
                      (i =
                        e.x -
                        this.elementOffset.left -
                        (this._clickOffset ? this._clickOffset.left : 0)))
                    : ((t = this.elementSize.height),
                      (i =
                        e.y -
                        this.elementOffset.top -
                        (this._clickOffset ? this._clickOffset.top : 0))),
                  (n = i / t) > 1 && (n = 1),
                  n < 0 && (n = 0),
                  "vertical" === this.orientation && (n = 1 - n),
                  (o = this._valueMax() - this._valueMin()),
                  (r = this._valueMin() + n * o),
                  this._trimAlignValue(r)
                );
              },
              _uiHash: function (e, t, i) {
                var n = {
                  handle: this.handles[e],
                  handleIndex: e,
                  value: void 0 !== t ? t : this.value(),
                };
                return (
                  this._hasMultipleValues() &&
                  ((n.value = void 0 !== t ? t : this.values(e)),
                    (n.values = i || this.values())),
                  n
                );
              },
              _hasMultipleValues: function () {
                return this.options.values && this.options.values.length;
              },
              _start: function (e, t) {
                return this._trigger("start", e, this._uiHash(t));
              },
              _slide: function (e, t, i) {
                var n,
                  o = this.value(),
                  r = this.values();
                this._hasMultipleValues() &&
                  ((n = this.values(t ? 0 : 1)),
                    (o = this.values(t)),
                    2 === this.options.values.length &&
                    !0 === this.options.range &&
                    (i = 0 === t ? Math.min(n, i) : Math.max(n, i)),
                    (r[t] = i)),
                  i !== o &&
                  !1 !== this._trigger("slide", e, this._uiHash(t, i, r)) &&
                  (this._hasMultipleValues()
                    ? this.values(t, i)
                    : this.value(i));
              },
              _stop: function (e, t) {
                this._trigger("stop", e, this._uiHash(t));
              },
              _change: function (e, t) {
                this._keySliding ||
                  this._mouseSliding ||
                  ((this._lastChangedValue = t),
                    this._trigger("change", e, this._uiHash(t)));
              },
              value: function (e) {
                return arguments.length
                  ? ((this.options.value = this._trimAlignValue(e)),
                    this._refreshValue(),
                    void this._change(null, 0))
                  : this._value();
              },
              values: function (t, i) {
                var n, o, r;
                if (arguments.length > 1)
                  return (
                    (this.options.values[t] = this._trimAlignValue(i)),
                    this._refreshValue(),
                    void this._change(null, t)
                  );
                if (!arguments.length) return this._values();
                if (!e.isArray(arguments[0]))
                  return this._hasMultipleValues()
                    ? this._values(t)
                    : this.value();
                for (
                  n = this.options.values, o = arguments[0], r = 0;
                  r < n.length;
                  r += 1
                )
                  (n[r] = this._trimAlignValue(o[r])), this._change(null, r);
                this._refreshValue();
              },
              _setOption: function (t, i) {
                var n,
                  o = 0;
                switch (
                ("range" === t &&
                  !0 === this.options.range &&
                  ("min" === i
                    ? ((this.options.value = this._values(0)),
                      (this.options.values = null))
                    : "max" === i &&
                    ((this.options.value = this._values(
                      this.options.values.length - 1
                    )),
                      (this.options.values = null))),
                  e.isArray(this.options.values) &&
                  (o = this.options.values.length),
                  this._super(t, i),
                  t)
                ) {
                  case "orientation":
                    this._detectOrientation(),
                      this._removeClass(
                        "ui-slider-horizontal ui-slider-vertical"
                      )._addClass("ui-slider-" + this.orientation),
                      this._refreshValue(),
                      this.options.range && this._refreshRange(i),
                      this.handles.css(
                        "horizontal" === i ? "bottom" : "left",
                        ""
                      );
                    break;
                  case "value":
                    (this._animateOff = !0),
                      this._refreshValue(),
                      this._change(null, 0),
                      (this._animateOff = !1);
                    break;
                  case "values":
                    for (
                      this._animateOff = !0, this._refreshValue(), n = o - 1;
                      n >= 0;
                      n--
                    )
                      this._change(null, n);
                    this._animateOff = !1;
                    break;
                  case "step":
                  case "min":
                  case "max":
                    (this._animateOff = !0),
                      this._calculateNewMax(),
                      this._refreshValue(),
                      (this._animateOff = !1);
                    break;
                  case "range":
                    (this._animateOff = !0),
                      this._refresh(),
                      (this._animateOff = !1);
                }
              },
              _setOptionDisabled: function (e) {
                this._super(e),
                  this._toggleClass(null, "ui-state-disabled", !!e);
              },
              _value: function () {
                var e = this.options.value;
                return (e = this._trimAlignValue(e));
              },
              _values: function (e) {
                var t, i, n;
                if (arguments.length)
                  return (
                    (t = this.options.values[e]), (t = this._trimAlignValue(t))
                  );
                if (this._hasMultipleValues()) {
                  for (
                    i = this.options.values.slice(), n = 0;
                    n < i.length;
                    n += 1
                  )
                    i[n] = this._trimAlignValue(i[n]);
                  return i;
                }
                return [];
              },
              _trimAlignValue: function (e) {
                if (e <= this._valueMin()) return this._valueMin();
                if (e >= this._valueMax()) return this._valueMax();
                var t = this.options.step > 0 ? this.options.step : 1,
                  i = (e - this._valueMin()) % t,
                  n = e - i;
                return (
                  2 * Math.abs(i) >= t && (n += i > 0 ? t : -t),
                  parseFloat(n.toFixed(5))
                );
              },
              _calculateNewMax: function () {
                var e = this.options.max,
                  t = this._valueMin(),
                  i = this.options.step;
                (e = Math.round((e - t) / i) * i + t) > this.options.max &&
                  (e -= i),
                  (this.max = parseFloat(e.toFixed(this._precision())));
              },
              _precision: function () {
                var e = this._precisionOf(this.options.step);
                return (
                  null !== this.options.min &&
                  (e = Math.max(e, this._precisionOf(this.options.min))),
                  e
                );
              },
              _precisionOf: function (e) {
                var t = e.toString(),
                  i = t.indexOf(".");
                return -1 === i ? 0 : t.length - i - 1;
              },
              _valueMin: function () {
                return this.options.min;
              },
              _valueMax: function () {
                return this.max;
              },
              _refreshRange: function (e) {
                "vertical" === e && this.range.css({ width: "", left: "" }),
                  "horizontal" === e &&
                  this.range.css({ height: "", bottom: "" });
              },
              _refreshValue: function () {
                var t,
                  i,
                  n,
                  o,
                  r,
                  a = this.options.range,
                  s = this.options,
                  l = this,
                  c = !this._animateOff && s.animate,
                  u = {};
                this._hasMultipleValues()
                  ? this.handles.each(function (n) {
                    (i =
                      ((l.values(n) - l._valueMin()) /
                        (l._valueMax() - l._valueMin())) *
                      100),
                      (u["horizontal" === l.orientation ? "left" : "bottom"] =
                        i + "%"),
                      e(this).stop(1, 1)[c ? "animate" : "css"](u, s.animate),
                      !0 === l.options.range &&
                      ("horizontal" === l.orientation
                        ? (0 === n &&
                          l.range
                            .stop(1, 1)
                          [c ? "animate" : "css"](
                            { left: i + "%" },
                            s.animate
                          ),
                          1 === n &&
                          l.range[c ? "animate" : "css"](
                            { width: i - t + "%" },
                            { queue: !1, duration: s.animate }
                          ))
                        : (0 === n &&
                          l.range
                            .stop(1, 1)
                          [c ? "animate" : "css"](
                            { bottom: i + "%" },
                            s.animate
                          ),
                          1 === n &&
                          l.range[c ? "animate" : "css"](
                            { height: i - t + "%" },
                            { queue: !1, duration: s.animate }
                          ))),
                      (t = i);
                  })
                  : ((n = this.value()),
                    (o = this._valueMin()),
                    (r = this._valueMax()),
                    (i = r !== o ? ((n - o) / (r - o)) * 100 : 0),
                    (u["horizontal" === this.orientation ? "left" : "bottom"] =
                      i + "%"),
                    this.handle.stop(1, 1)[c ? "animate" : "css"](u, s.animate),
                    "min" === a &&
                    "horizontal" === this.orientation &&
                    this.range
                      .stop(1, 1)
                    [c ? "animate" : "css"]({ width: i + "%" }, s.animate),
                    "max" === a &&
                    "horizontal" === this.orientation &&
                    this.range
                      .stop(1, 1)
                    [c ? "animate" : "css"](
                      { width: 100 - i + "%" },
                      s.animate
                    ),
                    "min" === a &&
                    "vertical" === this.orientation &&
                    this.range
                      .stop(1, 1)
                    [c ? "animate" : "css"]({ height: i + "%" }, s.animate),
                    "max" === a &&
                    "vertical" === this.orientation &&
                    this.range
                      .stop(1, 1)
                    [c ? "animate" : "css"](
                      { height: 100 - i + "%" },
                      s.animate
                    ));
              },
              _handleEvents: {
                keydown: function (t) {
                  var i,
                    n,
                    o,
                    r = e(t.target).data("ui-slider-handle-index");
                  switch (t.keyCode) {
                    case e.ui.keyCode.HOME:
                    case e.ui.keyCode.END:
                    case e.ui.keyCode.PAGE_UP:
                    case e.ui.keyCode.PAGE_DOWN:
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.RIGHT:
                    case e.ui.keyCode.DOWN:
                    case e.ui.keyCode.LEFT:
                      if (
                        (t.preventDefault(),
                          !this._keySliding &&
                          ((this._keySliding = !0),
                            this._addClass(e(t.target), null, "ui-state-active"),
                            !1 === this._start(t, r)))
                      )
                        return;
                  }
                  switch (
                  ((o = this.options.step),
                    (i = n =
                      this._hasMultipleValues()
                        ? this.values(r)
                        : this.value()),
                    t.keyCode)
                  ) {
                    case e.ui.keyCode.HOME:
                      n = this._valueMin();
                      break;
                    case e.ui.keyCode.END:
                      n = this._valueMax();
                      break;
                    case e.ui.keyCode.PAGE_UP:
                      n = this._trimAlignValue(
                        i +
                        (this._valueMax() - this._valueMin()) / this.numPages
                      );
                      break;
                    case e.ui.keyCode.PAGE_DOWN:
                      n = this._trimAlignValue(
                        i -
                        (this._valueMax() - this._valueMin()) / this.numPages
                      );
                      break;
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.RIGHT:
                      if (i === this._valueMax()) return;
                      n = this._trimAlignValue(i + o);
                      break;
                    case e.ui.keyCode.DOWN:
                    case e.ui.keyCode.LEFT:
                      if (i === this._valueMin()) return;
                      n = this._trimAlignValue(i - o);
                  }
                  this._slide(t, r, n);
                },
                keyup: function (t) {
                  var i = e(t.target).data("ui-slider-handle-index");
                  this._keySliding &&
                    ((this._keySliding = !1),
                      this._stop(t, i),
                      this._change(t, i),
                      this._removeClass(e(t.target), null, "ui-state-active"));
                },
              },
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Spinner 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(21), i(1), i(6), i(10), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            function t(e) {
              return function () {
                var t = this.element.val();
                e.apply(this, arguments),
                  this._refresh(),
                  t !== this.element.val() && this._trigger("change");
              };
            }
            return (
              e.widget("ui.spinner", {
                version: "1.12.1",
                defaultElement: "<input>",
                widgetEventPrefix: "spin",
                options: {
                  classes: {
                    "ui-spinner": "ui-corner-all",
                    "ui-spinner-down": "ui-corner-br",
                    "ui-spinner-up": "ui-corner-tr",
                  },
                  culture: null,
                  icons: {
                    down: "ui-icon-triangle-1-s",
                    up: "ui-icon-triangle-1-n",
                  },
                  incremental: !0,
                  max: null,
                  min: null,
                  numberFormat: null,
                  page: 10,
                  step: 1,
                  change: null,
                  spin: null,
                  start: null,
                  stop: null,
                },
                _create: function () {
                  this._setOption("max", this.options.max),
                    this._setOption("min", this.options.min),
                    this._setOption("step", this.options.step),
                    "" !== this.value() && this._value(this.element.val(), !0),
                    this._draw(),
                    this._on(this._events),
                    this._refresh(),
                    this._on(this.window, {
                      beforeunload: function () {
                        this.element.removeAttr("autocomplete");
                      },
                    });
                },
                _getCreateOptions: function () {
                  var t = this._super(),
                    i = this.element;
                  return (
                    e.each(["min", "max", "step"], function (e, n) {
                      var o = i.attr(n);
                      null != o && o.length && (t[n] = o);
                    }),
                    t
                  );
                },
                _events: {
                  keydown: function (e) {
                    this._start(e) && this._keydown(e) && e.preventDefault();
                  },
                  keyup: "_stop",
                  focus: function () {
                    this.previous = this.element.val();
                  },
                  blur: function (e) {
                    this.cancelBlur
                      ? delete this.cancelBlur
                      : (this._stop(),
                        this._refresh(),
                        this.previous !== this.element.val() &&
                        this._trigger("change", e));
                  },
                  mousewheel: function (e, t) {
                    if (t) {
                      if (!this.spinning && !this._start(e)) return !1;
                      this._spin((t > 0 ? 1 : -1) * this.options.step, e),
                        clearTimeout(this.mousewheelTimer),
                        (this.mousewheelTimer = this._delay(function () {
                          this.spinning && this._stop(e);
                        }, 100)),
                        e.preventDefault();
                    }
                  },
                  "mousedown .ui-spinner-button": function (t) {
                    var i;
                    function n() {
                      this.element[0] ===
                        e.ui.safeActiveElement(this.document[0]) ||
                        (this.element.trigger("focus"),
                          (this.previous = i),
                          this._delay(function () {
                            this.previous = i;
                          }));
                    }
                    (i =
                      this.element[0] ===
                        e.ui.safeActiveElement(this.document[0])
                        ? this.previous
                        : this.element.val()),
                      t.preventDefault(),
                      n.call(this),
                      (this.cancelBlur = !0),
                      this._delay(function () {
                        delete this.cancelBlur, n.call(this);
                      }),
                      !1 !== this._start(t) &&
                      this._repeat(
                        null,
                        e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                        t
                      );
                  },
                  "mouseup .ui-spinner-button": "_stop",
                  "mouseenter .ui-spinner-button": function (t) {
                    if (e(t.currentTarget).hasClass("ui-state-active"))
                      return (
                        !1 !== this._start(t) &&
                        void this._repeat(
                          null,
                          e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                          t
                        )
                      );
                  },
                  "mouseleave .ui-spinner-button": "_stop",
                },
                _enhance: function () {
                  this.uiSpinner = this.element
                    .attr("autocomplete", "off")
                    .wrap("<span>")
                    .parent()
                    .append("<a></a><a></a>");
                },
                _draw: function () {
                  this._enhance(),
                    this._addClass(
                      this.uiSpinner,
                      "ui-spinner",
                      "ui-widget ui-widget-content"
                    ),
                    this._addClass("ui-spinner-input"),
                    this.element.attr("role", "spinbutton"),
                    (this.buttons = this.uiSpinner
                      .children("a")
                      .attr("tabIndex", -1)
                      .attr("aria-hidden", !0)
                      .button({ classes: { "ui-button": "" } })),
                    this._removeClass(this.buttons, "ui-corner-all"),
                    this._addClass(
                      this.buttons.first(),
                      "ui-spinner-button ui-spinner-up"
                    ),
                    this._addClass(
                      this.buttons.last(),
                      "ui-spinner-button ui-spinner-down"
                    ),
                    this.buttons
                      .first()
                      .button({ icon: this.options.icons.up, showLabel: !1 }),
                    this.buttons
                      .last()
                      .button({ icon: this.options.icons.down, showLabel: !1 }),
                    this.buttons.height() >
                    Math.ceil(0.5 * this.uiSpinner.height()) &&
                    this.uiSpinner.height() > 0 &&
                    this.uiSpinner.height(this.uiSpinner.height());
                },
                _keydown: function (t) {
                  var i = this.options,
                    n = e.ui.keyCode;
                  switch (t.keyCode) {
                    case n.UP:
                      return this._repeat(null, 1, t), !0;
                    case n.DOWN:
                      return this._repeat(null, -1, t), !0;
                    case n.PAGE_UP:
                      return this._repeat(null, i.page, t), !0;
                    case n.PAGE_DOWN:
                      return this._repeat(null, -i.page, t), !0;
                  }
                  return !1;
                },
                _start: function (e) {
                  return !(
                    (!this.spinning && !1 === this._trigger("start", e)) ||
                    (this.counter || (this.counter = 1),
                      (this.spinning = !0),
                      0)
                  );
                },
                _repeat: function (e, t, i) {
                  (e = e || 500),
                    clearTimeout(this.timer),
                    (this.timer = this._delay(function () {
                      this._repeat(40, t, i);
                    }, e)),
                    this._spin(t * this.options.step, i);
                },
                _spin: function (e, t) {
                  var i = this.value() || 0;
                  this.counter || (this.counter = 1),
                    (i = this._adjustValue(
                      i + e * this._increment(this.counter)
                    )),
                    (this.spinning &&
                      !1 === this._trigger("spin", t, { value: i })) ||
                    (this._value(i), this.counter++);
                },
                _increment: function (t) {
                  var i = this.options.incremental;
                  return i
                    ? e.isFunction(i)
                      ? i(t)
                      : Math.floor(
                        (t * t * t) / 5e4 - (t * t) / 500 + (17 * t) / 200 + 1
                      )
                    : 1;
                },
                _precision: function () {
                  var e = this._precisionOf(this.options.step);
                  return (
                    null !== this.options.min &&
                    (e = Math.max(e, this._precisionOf(this.options.min))),
                    e
                  );
                },
                _precisionOf: function (e) {
                  var t = e.toString(),
                    i = t.indexOf(".");
                  return -1 === i ? 0 : t.length - i - 1;
                },
                _adjustValue: function (e) {
                  var t,
                    i,
                    n = this.options;
                  return (
                    (i = e - (t = null !== n.min ? n.min : 0)),
                    (e = t + (i = Math.round(i / n.step) * n.step)),
                    (e = parseFloat(e.toFixed(this._precision()))),
                    null !== n.max && e > n.max
                      ? n.max
                      : null !== n.min && e < n.min
                        ? n.min
                        : e
                  );
                },
                _stop: function (e) {
                  this.spinning &&
                    (clearTimeout(this.timer),
                      clearTimeout(this.mousewheelTimer),
                      (this.counter = 0),
                      (this.spinning = !1),
                      this._trigger("stop", e));
                },
                _setOption: function (e, t) {
                  var i, n, o;
                  if ("culture" === e || "numberFormat" === e)
                    return (
                      (i = this._parse(this.element.val())),
                      (this.options[e] = t),
                      void this.element.val(this._format(i))
                    );
                  ("max" !== e && "min" !== e && "step" !== e) ||
                    ("string" == typeof t && (t = this._parse(t))),
                    "icons" === e &&
                    ((n = this.buttons.first().find(".ui-icon")),
                      this._removeClass(n, null, this.options.icons.up),
                      this._addClass(n, null, t.up),
                      (o = this.buttons.last().find(".ui-icon")),
                      this._removeClass(o, null, this.options.icons.down),
                      this._addClass(o, null, t.down)),
                    this._super(e, t);
                },
                _setOptionDisabled: function (e) {
                  this._super(e),
                    this._toggleClass(
                      this.uiSpinner,
                      null,
                      "ui-state-disabled",
                      !!e
                    ),
                    this.element.prop("disabled", !!e),
                    this.buttons.button(e ? "disable" : "enable");
                },
                _setOptions: t(function (e) {
                  this._super(e);
                }),
                _parse: function (e) {
                  return (
                    "string" == typeof e &&
                    "" !== e &&
                    (e =
                      window.Globalize && this.options.numberFormat
                        ? Globalize.parseFloat(e, 10, this.options.culture)
                        : +e),
                    "" === e || isNaN(e) ? null : e
                  );
                },
                _format: function (e) {
                  return "" === e
                    ? ""
                    : window.Globalize && this.options.numberFormat
                      ? Globalize.format(
                        e,
                        this.options.numberFormat,
                        this.options.culture
                      )
                      : e;
                },
                _refresh: function () {
                  this.element.attr({
                    "aria-valuemin": this.options.min,
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": this._parse(this.element.val()),
                  });
                },
                isValid: function () {
                  var e = this.value();
                  return null !== e && e === this._adjustValue(e);
                },
                _value: function (e, t) {
                  var i;
                  "" !== e &&
                    null !== (i = this._parse(e)) &&
                    (t || (i = this._adjustValue(i)), (e = this._format(i))),
                    this.element.val(e),
                    this._refresh();
                },
                _destroy: function () {
                  this.element
                    .prop("disabled", !1)
                    .removeAttr(
                      "autocomplete role aria-valuemin aria-valuemax aria-valuenow"
                    ),
                    this.uiSpinner.replaceWith(this.element);
                },
                stepUp: t(function (e) {
                  this._stepUp(e);
                }),
                _stepUp: function (e) {
                  this._start() &&
                    (this._spin((e || 1) * this.options.step), this._stop());
                },
                stepDown: t(function (e) {
                  this._stepDown(e);
                }),
                _stepDown: function (e) {
                  this._start() &&
                    (this._spin((e || 1) * -this.options.step), this._stop());
                },
                pageUp: t(function (e) {
                  this._stepUp((e || 1) * this.options.page);
                }),
                pageDown: t(function (e) {
                  this._stepDown((e || 1) * this.options.page);
                }),
                value: function (e) {
                  if (!arguments.length) return this._parse(this.element.val());
                  t(this._value).call(this, e);
                },
                widget: function () {
                  return this.uiSpinner;
                },
              }),
              !1 !== e.uiBackCompat &&
              e.widget("ui.spinner", e.ui.spinner, {
                _enhance: function () {
                  this.uiSpinner = this.element
                    .attr("autocomplete", "off")
                    .wrap(this._uiSpinnerHtml())
                    .parent()
                    .append(this._buttonHtml());
                },
                _uiSpinnerHtml: function () {
                  return "<span>";
                },
                _buttonHtml: function () {
                  return "<a></a><a></a>";
                },
              }),
              e.ui.spinner
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Tabs 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(12), i(6), i(10), i(8), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            var t;
            return (
              e.widget("ui.tabs", {
                version: "1.12.1",
                delay: 300,
                options: {
                  active: null,
                  classes: {
                    "ui-tabs": "ui-corner-all",
                    "ui-tabs-nav": "ui-corner-all",
                    "ui-tabs-panel": "ui-corner-bottom",
                    "ui-tabs-tab": "ui-corner-top",
                  },
                  collapsible: !1,
                  event: "click",
                  heightStyle: "content",
                  hide: null,
                  show: null,
                  activate: null,
                  beforeActivate: null,
                  beforeLoad: null,
                  load: null,
                },
                _isLocal:
                  ((t = /#.*$/),
                    function (e) {
                      var i, n;
                      (i = e.href.replace(t, "")),
                        (n = location.href.replace(t, ""));
                      try {
                        i = decodeURIComponent(i);
                      } catch (e) { }
                      try {
                        n = decodeURIComponent(n);
                      } catch (e) { }
                      return e.hash.length > 1 && i === n;
                    }),
                _create: function () {
                  var t = this,
                    i = this.options;
                  (this.running = !1),
                    this._addClass("ui-tabs", "ui-widget ui-widget-content"),
                    this._toggleClass(
                      "ui-tabs-collapsible",
                      null,
                      i.collapsible
                    ),
                    this._processTabs(),
                    (i.active = this._initialActive()),
                    e.isArray(i.disabled) &&
                    (i.disabled = e
                      .unique(
                        i.disabled.concat(
                          e.map(
                            this.tabs.filter(".ui-state-disabled"),
                            function (e) {
                              return t.tabs.index(e);
                            }
                          )
                        )
                      )
                      .sort()),
                    !1 !== this.options.active && this.anchors.length
                      ? (this.active = this._findActive(i.active))
                      : (this.active = e()),
                    this._refresh(),
                    this.active.length && this.load(i.active);
                },
                _initialActive: function () {
                  var t = this.options.active,
                    i = this.options.collapsible,
                    n = location.hash.substring(1);
                  return (
                    null === t &&
                    (n &&
                      this.tabs.each(function (i, o) {
                        if (e(o).attr("aria-controls") === n)
                          return (t = i), !1;
                      }),
                      null === t &&
                      (t = this.tabs.index(
                        this.tabs.filter(".ui-tabs-active")
                      )),
                      (null !== t && -1 !== t) ||
                      (t = !!this.tabs.length && 0)),
                    !1 !== t &&
                    -1 === (t = this.tabs.index(this.tabs.eq(t))) &&
                    (t = !i && 0),
                    !i && !1 === t && this.anchors.length && (t = 0),
                    t
                  );
                },
                _getCreateEventData: function () {
                  return {
                    tab: this.active,
                    panel: this.active.length
                      ? this._getPanelForTab(this.active)
                      : e(),
                  };
                },
                _tabKeydown: function (t) {
                  var i = e(e.ui.safeActiveElement(this.document[0])).closest(
                    "li"
                  ),
                    n = this.tabs.index(i),
                    o = !0;
                  if (!this._handlePageNav(t)) {
                    switch (t.keyCode) {
                      case e.ui.keyCode.RIGHT:
                      case e.ui.keyCode.DOWN:
                        n++;
                        break;
                      case e.ui.keyCode.UP:
                      case e.ui.keyCode.LEFT:
                        (o = !1), n--;
                        break;
                      case e.ui.keyCode.END:
                        n = this.anchors.length - 1;
                        break;
                      case e.ui.keyCode.HOME:
                        n = 0;
                        break;
                      case e.ui.keyCode.SPACE:
                        return (
                          t.preventDefault(),
                          clearTimeout(this.activating),
                          void this._activate(n)
                        );
                      case e.ui.keyCode.ENTER:
                        return (
                          t.preventDefault(),
                          clearTimeout(this.activating),
                          void this._activate(n !== this.options.active && n)
                        );
                      default:
                        return;
                    }
                    t.preventDefault(),
                      clearTimeout(this.activating),
                      (n = this._focusNextTab(n, o)),
                      t.ctrlKey ||
                      t.metaKey ||
                      (i.attr("aria-selected", "false"),
                        this.tabs.eq(n).attr("aria-selected", "true"),
                        (this.activating = this._delay(function () {
                          this.option("active", n);
                        }, this.delay)));
                  }
                },
                _panelKeydown: function (t) {
                  this._handlePageNav(t) ||
                    (t.ctrlKey &&
                      t.keyCode === e.ui.keyCode.UP &&
                      (t.preventDefault(), this.active.trigger("focus")));
                },
                _handlePageNav: function (t) {
                  return t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP
                    ? (this._activate(
                      this._focusNextTab(this.options.active - 1, !1)
                    ),
                      !0)
                    : t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN
                      ? (this._activate(
                        this._focusNextTab(this.options.active + 1, !0)
                      ),
                        !0)
                      : void 0;
                },
                _findNextTab: function (t, i) {
                  for (
                    var n = this.tabs.length - 1;
                    -1 !==
                    e.inArray(
                      (t > n && (t = 0), t < 0 && (t = n), t),
                      this.options.disabled
                    );

                  )
                    t = i ? t + 1 : t - 1;
                  return t;
                },
                _focusNextTab: function (e, t) {
                  return (
                    (e = this._findNextTab(e, t)),
                    this.tabs.eq(e).trigger("focus"),
                    e
                  );
                },
                _setOption: function (e, t) {
                  "active" !== e
                    ? (this._super(e, t),
                      "collapsible" === e &&
                      (this._toggleClass("ui-tabs-collapsible", null, t),
                        t || !1 !== this.options.active || this._activate(0)),
                      "event" === e && this._setupEvents(t),
                      "heightStyle" === e && this._setupHeightStyle(t))
                    : this._activate(t);
                },
                _sanitizeSelector: function (e) {
                  return e
                    ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&")
                    : "";
                },
                refresh: function () {
                  var t = this.options,
                    i = this.tablist.children(":has(a[href])");
                  (t.disabled = e.map(
                    i.filter(".ui-state-disabled"),
                    function (e) {
                      return i.index(e);
                    }
                  )),
                    this._processTabs(),
                    !1 !== t.active && this.anchors.length
                      ? this.active.length &&
                        !e.contains(this.tablist[0], this.active[0])
                        ? this.tabs.length === t.disabled.length
                          ? ((t.active = !1), (this.active = e()))
                          : this._activate(
                            this._findNextTab(Math.max(0, t.active - 1), !1)
                          )
                        : (t.active = this.tabs.index(this.active))
                      : ((t.active = !1), (this.active = e())),
                    this._refresh();
                },
                _refresh: function () {
                  this._setOptionDisabled(this.options.disabled),
                    this._setupEvents(this.options.event),
                    this._setupHeightStyle(this.options.heightStyle),
                    this.tabs
                      .not(this.active)
                      .attr({
                        "aria-selected": "false",
                        "aria-expanded": "false",
                        tabIndex: -1,
                      }),
                    this.panels
                      .not(this._getPanelForTab(this.active))
                      .hide()
                      .attr({ "aria-hidden": "true" }),
                    this.active.length
                      ? (this.active.attr({
                        "aria-selected": "true",
                        "aria-expanded": "true",
                        tabIndex: 0,
                      }),
                        this._addClass(
                          this.active,
                          "ui-tabs-active",
                          "ui-state-active"
                        ),
                        this._getPanelForTab(this.active)
                          .show()
                          .attr({ "aria-hidden": "false" }))
                      : this.tabs.eq(0).attr("tabIndex", 0);
                },
                _processTabs: function () {
                  var t = this,
                    i = this.tabs,
                    n = this.anchors,
                    o = this.panels;
                  (this.tablist = this._getList().attr("role", "tablist")),
                    this._addClass(
                      this.tablist,
                      "ui-tabs-nav",
                      "ui-helper-reset ui-helper-clearfix ui-widget-header"
                    ),
                    this.tablist
                      .on(
                        "mousedown" + this.eventNamespace,
                        "> li",
                        function (t) {
                          e(this).is(".ui-state-disabled") &&
                            t.preventDefault();
                        }
                      )
                      .on(
                        "focus" + this.eventNamespace,
                        ".ui-tabs-anchor",
                        function () {
                          e(this).closest("li").is(".ui-state-disabled") &&
                            this.blur();
                        }
                      ),
                    (this.tabs = this.tablist
                      .find("> li:has(a[href])")
                      .attr({ role: "tab", tabIndex: -1 })),
                    this._addClass(
                      this.tabs,
                      "ui-tabs-tab",
                      "ui-state-default"
                    ),
                    (this.anchors = this.tabs
                      .map(function () {
                        return e("a", this)[0];
                      })
                      .attr({ role: "presentation", tabIndex: -1 })),
                    this._addClass(this.anchors, "ui-tabs-anchor"),
                    (this.panels = e()),
                    this.anchors.each(function (i, n) {
                      var o,
                        r,
                        a,
                        s = e(n).uniqueId().attr("id"),
                        l = e(n).closest("li"),
                        c = l.attr("aria-controls");
                      t._isLocal(n)
                        ? ((a = (o = n.hash).substring(1)),
                          (r = t.element.find(t._sanitizeSelector(o))))
                        : ((o =
                          "#" +
                          (a =
                            l.attr("aria-controls") ||
                            e({}).uniqueId()[0].id)),
                          (r = t.element.find(o)).length ||
                          (r = t._createPanel(a)).insertAfter(
                            t.panels[i - 1] || t.tablist
                          ),
                          r.attr("aria-live", "polite")),
                        r.length && (t.panels = t.panels.add(r)),
                        c && l.data("ui-tabs-aria-controls", c),
                        l.attr({ "aria-controls": a, "aria-labelledby": s }),
                        r.attr("aria-labelledby", s);
                    }),
                    this.panels.attr("role", "tabpanel"),
                    this._addClass(
                      this.panels,
                      "ui-tabs-panel",
                      "ui-widget-content"
                    ),
                    i &&
                    (this._off(i.not(this.tabs)),
                      this._off(n.not(this.anchors)),
                      this._off(o.not(this.panels)));
                },
                _getList: function () {
                  return this.tablist || this.element.find("ol, ul").eq(0);
                },
                _createPanel: function (t) {
                  return e("<div>").attr("id", t).data("ui-tabs-destroy", !0);
                },
                _setOptionDisabled: function (t) {
                  var i, n, o;
                  for (
                    e.isArray(t) &&
                    (t.length
                      ? t.length === this.anchors.length && (t = !0)
                      : (t = !1)),
                    o = 0;
                    (n = this.tabs[o]);
                    o++
                  )
                    (i = e(n)),
                      !0 === t || -1 !== e.inArray(o, t)
                        ? (i.attr("aria-disabled", "true"),
                          this._addClass(i, null, "ui-state-disabled"))
                        : (i.removeAttr("aria-disabled"),
                          this._removeClass(i, null, "ui-state-disabled"));
                  (this.options.disabled = t),
                    this._toggleClass(
                      this.widget(),
                      this.widgetFullName + "-disabled",
                      null,
                      !0 === t
                    );
                },
                _setupEvents: function (t) {
                  var i = {};
                  t &&
                    e.each(t.split(" "), function (e, t) {
                      i[t] = "_eventHandler";
                    }),
                    this._off(this.anchors.add(this.tabs).add(this.panels)),
                    this._on(!0, this.anchors, {
                      click: function (e) {
                        e.preventDefault();
                      },
                    }),
                    this._on(this.anchors, i),
                    this._on(this.tabs, { keydown: "_tabKeydown" }),
                    this._on(this.panels, { keydown: "_panelKeydown" }),
                    this._focusable(this.tabs),
                    this._hoverable(this.tabs);
                },
                _setupHeightStyle: function (t) {
                  var i,
                    n = this.element.parent();
                  "fill" === t
                    ? ((i = n.height()),
                      (i -= this.element.outerHeight() - this.element.height()),
                      this.element.siblings(":visible").each(function () {
                        var t = e(this),
                          n = t.css("position");
                        "absolute" !== n &&
                          "fixed" !== n &&
                          (i -= t.outerHeight(!0));
                      }),
                      this.element
                        .children()
                        .not(this.panels)
                        .each(function () {
                          i -= e(this).outerHeight(!0);
                        }),
                      this.panels
                        .each(function () {
                          e(this).height(
                            Math.max(
                              0,
                              i - e(this).innerHeight() + e(this).height()
                            )
                          );
                        })
                        .css("overflow", "auto"))
                    : "auto" === t &&
                    ((i = 0),
                      this.panels
                        .each(function () {
                          i = Math.max(i, e(this).height("").height());
                        })
                        .height(i));
                },
                _eventHandler: function (t) {
                  var i = this.options,
                    n = this.active,
                    o = e(t.currentTarget).closest("li"),
                    r = o[0] === n[0],
                    a = r && i.collapsible,
                    s = a ? e() : this._getPanelForTab(o),
                    l = n.length ? this._getPanelForTab(n) : e(),
                    c = {
                      oldTab: n,
                      oldPanel: l,
                      newTab: a ? e() : o,
                      newPanel: s,
                    };
                  t.preventDefault(),
                    o.hasClass("ui-state-disabled") ||
                    o.hasClass("ui-tabs-loading") ||
                    this.running ||
                    (r && !i.collapsible) ||
                    !1 === this._trigger("beforeActivate", t, c) ||
                    ((i.active = !a && this.tabs.index(o)),
                      (this.active = r ? e() : o),
                      this.xhr && this.xhr.abort(),
                      l.length ||
                      s.length ||
                      e.error(
                        "jQuery UI Tabs: Mismatching fragment identifier."
                      ),
                      s.length && this.load(this.tabs.index(o), t),
                      this._toggle(t, c));
                },
                _toggle: function (t, i) {
                  var n = this,
                    o = i.newPanel,
                    r = i.oldPanel;
                  function a() {
                    (n.running = !1), n._trigger("activate", t, i);
                  }
                  function s() {
                    n._addClass(
                      i.newTab.closest("li"),
                      "ui-tabs-active",
                      "ui-state-active"
                    ),
                      o.length && n.options.show
                        ? n._show(o, n.options.show, a)
                        : (o.show(), a());
                  }
                  (this.running = !0),
                    r.length && this.options.hide
                      ? this._hide(r, this.options.hide, function () {
                        n._removeClass(
                          i.oldTab.closest("li"),
                          "ui-tabs-active",
                          "ui-state-active"
                        ),
                          s();
                      })
                      : (this._removeClass(
                        i.oldTab.closest("li"),
                        "ui-tabs-active",
                        "ui-state-active"
                      ),
                        r.hide(),
                        s()),
                    r.attr("aria-hidden", "true"),
                    i.oldTab.attr({
                      "aria-selected": "false",
                      "aria-expanded": "false",
                    }),
                    o.length && r.length
                      ? i.oldTab.attr("tabIndex", -1)
                      : o.length &&
                      this.tabs
                        .filter(function () {
                          return 0 === e(this).attr("tabIndex");
                        })
                        .attr("tabIndex", -1),
                    o.attr("aria-hidden", "false"),
                    i.newTab.attr({
                      "aria-selected": "true",
                      "aria-expanded": "true",
                      tabIndex: 0,
                    });
                },
                _activate: function (t) {
                  var i,
                    n = this._findActive(t);
                  n[0] !== this.active[0] &&
                    (n.length || (n = this.active),
                      (i = n.find(".ui-tabs-anchor")[0]),
                      this._eventHandler({
                        target: i,
                        currentTarget: i,
                        preventDefault: e.noop,
                      }));
                },
                _findActive: function (t) {
                  return !1 === t ? e() : this.tabs.eq(t);
                },
                _getIndex: function (t) {
                  return (
                    "string" == typeof t &&
                    (t = this.anchors.index(
                      this.anchors.filter(
                        "[href$='" + e.ui.escapeSelector(t) + "']"
                      )
                    )),
                    t
                  );
                },
                _destroy: function () {
                  this.xhr && this.xhr.abort(),
                    this.tablist.removeAttr("role").off(this.eventNamespace),
                    this.anchors.removeAttr("role tabIndex").removeUniqueId(),
                    this.tabs.add(this.panels).each(function () {
                      e.data(this, "ui-tabs-destroy")
                        ? e(this).remove()
                        : e(this).removeAttr(
                          "role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded"
                        );
                    }),
                    this.tabs.each(function () {
                      var t = e(this),
                        i = t.data("ui-tabs-aria-controls");
                      i
                        ? t
                          .attr("aria-controls", i)
                          .removeData("ui-tabs-aria-controls")
                        : t.removeAttr("aria-controls");
                    }),
                    this.panels.show(),
                    "content" !== this.options.heightStyle &&
                    this.panels.css("height", "");
                },
                enable: function (t) {
                  var i = this.options.disabled;
                  !1 !== i &&
                    (void 0 === t
                      ? (i = !1)
                      : ((t = this._getIndex(t)),
                        (i = e.isArray(i)
                          ? e.map(i, function (e) {
                            return e !== t ? e : null;
                          })
                          : e.map(this.tabs, function (e, i) {
                            return i !== t ? i : null;
                          }))),
                      this._setOptionDisabled(i));
                },
                disable: function (t) {
                  var i = this.options.disabled;
                  if (!0 !== i) {
                    if (void 0 === t) i = !0;
                    else {
                      if (((t = this._getIndex(t)), -1 !== e.inArray(t, i)))
                        return;
                      i = e.isArray(i) ? e.merge([t], i).sort() : [t];
                    }
                    this._setOptionDisabled(i);
                  }
                },
                load: function (t, i) {
                  t = this._getIndex(t);
                  var n = this,
                    o = this.tabs.eq(t),
                    r = o.find(".ui-tabs-anchor"),
                    a = this._getPanelForTab(o),
                    s = { tab: o, panel: a },
                    l = function (e, t) {
                      "abort" === t && n.panels.stop(!1, !0),
                        n._removeClass(o, "ui-tabs-loading"),
                        a.removeAttr("aria-busy"),
                        e === n.xhr && delete n.xhr;
                    };
                  this._isLocal(r[0]) ||
                    ((this.xhr = e.ajax(this._ajaxSettings(r, i, s))),
                      this.xhr &&
                      "canceled" !== this.xhr.statusText &&
                      (this._addClass(o, "ui-tabs-loading"),
                        a.attr("aria-busy", "true"),
                        this.xhr
                          .done(function (e, t, o) {
                            setTimeout(function () {
                              a.html(e), n._trigger("load", i, s), l(o, t);
                            }, 1);
                          })
                          .fail(function (e, t) {
                            setTimeout(function () {
                              l(e, t);
                            }, 1);
                          })));
                },
                _ajaxSettings: function (t, i, n) {
                  var o = this;
                  return {
                    url: t.attr("href").replace(/#.*$/, ""),
                    beforeSend: function (t, r) {
                      return o._trigger(
                        "beforeLoad",
                        i,
                        e.extend({ jqXHR: t, ajaxSettings: r }, n)
                      );
                    },
                  };
                },
                _getPanelForTab: function (t) {
                  var i = e(t).attr("aria-controls");
                  return this.element.find(this._sanitizeSelector("#" + i));
                },
              }),
              !1 !== e.uiBackCompat &&
              e.widget("ui.tabs", e.ui.tabs, {
                _processTabs: function () {
                  this._superApply(arguments),
                    this._addClass(this.tabs, "ui-tab");
                },
              }),
              e.ui.tabs
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Tooltip 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(6), i(9), i(8), i(1), i(4)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return (
              e.widget("ui.tooltip", {
                version: "1.12.1",
                options: {
                  classes: { "ui-tooltip": "ui-corner-all ui-widget-shadow" },
                  content: function () {
                    var t = e(this).attr("title") || "";
                    return e("<a>").text(t).html();
                  },
                  hide: !0,
                  items: "[title]:not([disabled])",
                  position: {
                    my: "left top+15",
                    at: "left bottom",
                    collision: "flipfit flip",
                  },
                  show: !0,
                  track: !1,
                  close: null,
                  open: null,
                },
                _addDescribedBy: function (t, i) {
                  var n = (t.attr("aria-describedby") || "").split(/\s+/);
                  n.push(i),
                    t
                      .data("ui-tooltip-id", i)
                      .attr("aria-describedby", e.trim(n.join(" ")));
                },
                _removeDescribedBy: function (t) {
                  var i = t.data("ui-tooltip-id"),
                    n = (t.attr("aria-describedby") || "").split(/\s+/),
                    o = e.inArray(i, n);
                  -1 !== o && n.splice(o, 1),
                    t.removeData("ui-tooltip-id"),
                    (n = e.trim(n.join(" ")))
                      ? t.attr("aria-describedby", n)
                      : t.removeAttr("aria-describedby");
                },
                _create: function () {
                  this._on({ mouseover: "open", focusin: "open" }),
                    (this.tooltips = {}),
                    (this.parents = {}),
                    (this.liveRegion = e("<div>")
                      .attr({
                        role: "log",
                        "aria-live": "assertive",
                        "aria-relevant": "additions",
                      })
                      .appendTo(this.document[0].body)),
                    this._addClass(
                      this.liveRegion,
                      null,
                      "ui-helper-hidden-accessible"
                    ),
                    (this.disabledTitles = e([]));
                },
                _setOption: function (t, i) {
                  var n = this;
                  this._super(t, i),
                    "content" === t &&
                    e.each(this.tooltips, function (e, t) {
                      n._updateContent(t.element);
                    });
                },
                _setOptionDisabled: function (e) {
                  this[e ? "_disable" : "_enable"]();
                },
                _disable: function () {
                  var t = this;
                  e.each(this.tooltips, function (i, n) {
                    var o = e.Event("blur");
                    (o.target = o.currentTarget = n.element[0]), t.close(o, !0);
                  }),
                    (this.disabledTitles = this.disabledTitles.add(
                      this.element
                        .find(this.options.items)
                        .addBack()
                        .filter(function () {
                          var t = e(this);
                          if (t.is("[title]"))
                            return t
                              .data("ui-tooltip-title", t.attr("title"))
                              .removeAttr("title");
                        })
                    ));
                },
                _enable: function () {
                  this.disabledTitles.each(function () {
                    var t = e(this);
                    t.data("ui-tooltip-title") &&
                      t.attr("title", t.data("ui-tooltip-title"));
                  }),
                    (this.disabledTitles = e([]));
                },
                open: function (t) {
                  var i = this,
                    n = e(t ? t.target : this.element).closest(
                      this.options.items
                    );
                  n.length &&
                    !n.data("ui-tooltip-id") &&
                    (n.attr("title") &&
                      n.data("ui-tooltip-title", n.attr("title")),
                      n.data("ui-tooltip-open", !0),
                      t &&
                      "mouseover" === t.type &&
                      n.parents().each(function () {
                        var t,
                          n = e(this);
                        n.data("ui-tooltip-open") &&
                          (((t = e.Event("blur")).target = t.currentTarget =
                            this),
                            i.close(t, !0)),
                          n.attr("title") &&
                          (n.uniqueId(),
                            (i.parents[this.id] = {
                              element: this,
                              title: n.attr("title"),
                            }),
                            n.attr("title", ""));
                      }),
                      this._registerCloseHandlers(t, n),
                      this._updateContent(n, t));
                },
                _updateContent: function (e, t) {
                  var i,
                    n = this.options.content,
                    o = this,
                    r = t ? t.type : null;
                  if ("string" == typeof n || n.nodeType || n.jquery)
                    return this._open(t, e, n);
                  (i = n.call(e[0], function (i) {
                    o._delay(function () {
                      e.data("ui-tooltip-open") &&
                        (t && (t.type = r), this._open(t, e, i));
                    });
                  })) && this._open(t, e, i);
                },
                _open: function (t, i, n) {
                  var o,
                    r,
                    a,
                    s,
                    l = e.extend({}, this.options.position);
                  function c(e) {
                    (l.of = e), r.is(":hidden") || r.position(l);
                  }
                  n &&
                    ((o = this._find(i))
                      ? o.tooltip.find(".ui-tooltip-content").html(n)
                      : (i.is("[title]") &&
                        (t && "mouseover" === t.type
                          ? i.attr("title", "")
                          : i.removeAttr("title")),
                        (o = this._tooltip(i)),
                        (r = o.tooltip),
                        this._addDescribedBy(i, r.attr("id")),
                        r.find(".ui-tooltip-content").html(n),
                        this.liveRegion.children().hide(),
                        (s = e("<div>").html(
                          r.find(".ui-tooltip-content").html()
                        ))
                          .removeAttr("name")
                          .find("[name]")
                          .removeAttr("name"),
                        s.removeAttr("id").find("[id]").removeAttr("id"),
                        s.appendTo(this.liveRegion),
                        this.options.track && t && /^mouse/.test(t.type)
                          ? (this._on(this.document, { mousemove: c }), c(t))
                          : r.position(
                            e.extend({ of: i }, this.options.position)
                          ),
                        r.hide(),
                        this._show(r, this.options.show),
                        this.options.track &&
                        this.options.show &&
                        this.options.show.delay &&
                        (a = this.delayedShow =
                          setInterval(function () {
                            r.is(":visible") && (c(l.of), clearInterval(a));
                          }, e.fx.interval)),
                        this._trigger("open", t, { tooltip: r })));
                },
                _registerCloseHandlers: function (t, i) {
                  var n = {
                    keyup: function (t) {
                      if (t.keyCode === e.ui.keyCode.ESCAPE) {
                        var n = e.Event(t);
                        (n.currentTarget = i[0]), this.close(n, !0);
                      }
                    },
                  };
                  i[0] !== this.element[0] &&
                    (n.remove = function () {
                      this._removeTooltip(this._find(i).tooltip);
                    }),
                    (t && "mouseover" !== t.type) || (n.mouseleave = "close"),
                    (t && "focusin" !== t.type) || (n.focusout = "close"),
                    this._on(!0, i, n);
                },
                close: function (t) {
                  var i,
                    n = this,
                    o = e(t ? t.currentTarget : this.element),
                    r = this._find(o);
                  r
                    ? ((i = r.tooltip),
                      r.closing ||
                      (clearInterval(this.delayedShow),
                        o.data("ui-tooltip-title") &&
                        !o.attr("title") &&
                        o.attr("title", o.data("ui-tooltip-title")),
                        this._removeDescribedBy(o),
                        (r.hiding = !0),
                        i.stop(!0),
                        this._hide(i, this.options.hide, function () {
                          n._removeTooltip(e(this));
                        }),
                        o.removeData("ui-tooltip-open"),
                        this._off(o, "mouseleave focusout keyup"),
                        o[0] !== this.element[0] && this._off(o, "remove"),
                        this._off(this.document, "mousemove"),
                        t &&
                        "mouseleave" === t.type &&
                        e.each(this.parents, function (t, i) {
                          e(i.element).attr("title", i.title),
                            delete n.parents[t];
                        }),
                        (r.closing = !0),
                        this._trigger("close", t, { tooltip: i }),
                        r.hiding || (r.closing = !1)))
                    : o.removeData("ui-tooltip-open");
                },
                _tooltip: function (t) {
                  var i = e("<div>").attr("role", "tooltip"),
                    n = e("<div>").appendTo(i),
                    o = i.uniqueId().attr("id");
                  return (
                    this._addClass(n, "ui-tooltip-content"),
                    this._addClass(
                      i,
                      "ui-tooltip",
                      "ui-widget ui-widget-content"
                    ),
                    i.appendTo(this._appendTo(t)),
                    (this.tooltips[o] = { element: t, tooltip: i })
                  );
                },
                _find: function (e) {
                  var t = e.data("ui-tooltip-id");
                  return t ? this.tooltips[t] : null;
                },
                _removeTooltip: function (e) {
                  e.remove(), delete this.tooltips[e.attr("id")];
                },
                _appendTo: function (e) {
                  var t = e.closest(".ui-front, dialog");
                  return t.length || (t = this.document[0].body), t;
                },
                _destroy: function () {
                  var t = this;
                  e.each(this.tooltips, function (i, n) {
                    var o = e.Event("blur"),
                      r = n.element;
                    (o.target = o.currentTarget = r[0]),
                      t.close(o, !0),
                      e("#" + i).remove(),
                      r.data("ui-tooltip-title") &&
                      (r.attr("title") ||
                        r.attr("title", r.data("ui-tooltip-title")),
                        r.removeData("ui-tooltip-title"));
                  }),
                    this.liveRegion.remove();
                },
              }),
              !1 !== e.uiBackCompat &&
              e.widget("ui.tooltip", e.ui.tooltip, {
                options: { tooltipClass: null },
                _tooltip: function () {
                  var e = this._superApply(arguments);
                  return (
                    this.options.tooltipClass &&
                    e.tooltip.addClass(this.options.tooltipClass),
                    e
                  );
                },
              }),
              e.ui.tooltip
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Blind 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("blind", "hide", function (t, i) {
              var n = {
                up: ["bottom", "top"],
                vertical: ["bottom", "top"],
                down: ["top", "bottom"],
                left: ["right", "left"],
                horizontal: ["right", "left"],
                right: ["left", "right"],
              },
                o = e(this),
                r = t.direction || "up",
                a = o.cssClip(),
                s = { clip: e.extend({}, a) },
                l = e.effects.createPlaceholder(o);
              (s.clip[n[r][0]] = s.clip[n[r][1]]),
                "show" === t.mode &&
                (o.cssClip(s.clip),
                  l && l.css(e.effects.clipToBox(s)),
                  (s.clip = a)),
                l && l.animate(e.effects.clipToBox(s), t.duration, t.easing),
                o.animate(s, {
                  queue: !1,
                  duration: t.duration,
                  easing: t.easing,
                  complete: i,
                });
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Bounce 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("bounce", function (t, i) {
              var n,
                o,
                r,
                a = e(this),
                s = t.mode,
                l = "hide" === s,
                c = "show" === s,
                u = t.direction || "up",
                d = t.distance,
                p = t.times || 5,
                h = 2 * p + (c || l ? 1 : 0),
                f = t.duration / h,
                g = t.easing,
                m = "up" === u || "down" === u ? "top" : "left",
                v = "up" === u || "left" === u,
                b = 0,
                y = a.queue().length;
              for (
                e.effects.createPlaceholder(a),
                r = a.css(m),
                d ||
                (d = a["top" === m ? "outerHeight" : "outerWidth"]() / 3),
                c &&
                (((o = { opacity: 1 })[m] = r),
                  a
                    .css("opacity", 0)
                    .css(m, v ? 2 * -d : 2 * d)
                    .animate(o, f, g)),
                l && (d /= Math.pow(2, p - 1)),
                (o = {})[m] = r;
                b < p;
                b++
              )
                ((n = {})[m] = (v ? "-=" : "+=") + d),
                  a.animate(n, f, g).animate(o, f, g),
                  (d = l ? 2 * d : d / 2);
              l &&
                (((n = { opacity: 0 })[m] = (v ? "-=" : "+=") + d),
                  a.animate(n, f, g)),
                a.queue(i),
                e.effects.unshift(a, y, h + 1);
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Clip 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("clip", "hide", function (t, i) {
              var n,
                o = {},
                r = e(this),
                a = t.direction || "vertical",
                s = "both" === a,
                l = s || "horizontal" === a,
                c = s || "vertical" === a;
              (n = r.cssClip()),
                (o.clip = {
                  top: c ? (n.bottom - n.top) / 2 : n.top,
                  right: l ? (n.right - n.left) / 2 : n.right,
                  bottom: c ? (n.bottom - n.top) / 2 : n.bottom,
                  left: l ? (n.right - n.left) / 2 : n.left,
                }),
                e.effects.createPlaceholder(r),
                "show" === t.mode && (r.cssClip(o.clip), (o.clip = n)),
                r.animate(o, {
                  queue: !1,
                  duration: t.duration,
                  easing: t.easing,
                  complete: i,
                });
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Drop 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("drop", "hide", function (t, i) {
              var n,
                o = e(this),
                r = "show" === t.mode,
                a = t.direction || "left",
                s = "up" === a || "down" === a ? "top" : "left",
                l = "up" === a || "left" === a ? "-=" : "+=",
                c = "+=" === l ? "-=" : "+=",
                u = { opacity: 0 };
              e.effects.createPlaceholder(o),
                (n =
                  t.distance ||
                  o["top" === s ? "outerHeight" : "outerWidth"](!0) / 2),
                (u[s] = l + n),
                r && (o.css(u), (u[s] = c + n), (u.opacity = 1)),
                o.animate(u, {
                  queue: !1,
                  duration: t.duration,
                  easing: t.easing,
                  complete: i,
                });
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Explode 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("explode", "hide", function (t, i) {
              var n,
                o,
                r,
                a,
                s,
                l,
                c = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3,
                u = c,
                d = e(this),
                p = "show" === t.mode,
                h = d.show().css("visibility", "hidden").offset(),
                f = Math.ceil(d.outerWidth() / u),
                g = Math.ceil(d.outerHeight() / c),
                m = [];
              function v() {
                m.push(this),
                  m.length === c * u &&
                  (d.css({ visibility: "visible" }), e(m).remove(), i());
              }
              for (n = 0; n < c; n++)
                for (a = h.top + n * g, l = n - (c - 1) / 2, o = 0; o < u; o++)
                  (r = h.left + o * f),
                    (s = o - (u - 1) / 2),
                    d
                      .clone()
                      .appendTo("body")
                      .wrap("<div></div>")
                      .css({
                        position: "absolute",
                        visibility: "visible",
                        left: -o * f,
                        top: -n * g,
                      })
                      .parent()
                      .addClass("ui-effects-explode")
                      .css({
                        position: "absolute",
                        overflow: "hidden",
                        width: f,
                        height: g,
                        left: r + (p ? s * f : 0),
                        top: a + (p ? l * g : 0),
                        opacity: p ? 0 : 1,
                      })
                      .animate(
                        {
                          left: r + (p ? 0 : s * f),
                          top: a + (p ? 0 : l * g),
                          opacity: p ? 1 : 0,
                        },
                        t.duration || 500,
                        t.easing,
                        v
                      );
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Fade 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("fade", "toggle", function (t, i) {
              var n = "show" === t.mode;
              e(this)
                .css("opacity", n ? 0 : 1)
                .animate(
                  { opacity: n ? 1 : 0 },
                  {
                    queue: !1,
                    duration: t.duration,
                    easing: t.easing,
                    complete: i,
                  }
                );
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Fold 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("fold", "hide", function (t, i) {
              var n = e(this),
                o = t.mode,
                r = "show" === o,
                a = "hide" === o,
                s = t.size || 15,
                l = /([0-9]+)%/.exec(s),
                c = t.horizFirst ? ["right", "bottom"] : ["bottom", "right"],
                u = t.duration / 2,
                d = e.effects.createPlaceholder(n),
                p = n.cssClip(),
                h = { clip: e.extend({}, p) },
                f = { clip: e.extend({}, p) },
                g = [p[c[0]], p[c[1]]],
                m = n.queue().length;
              l && (s = (parseInt(l[1], 10) / 100) * g[a ? 0 : 1]),
                (h.clip[c[0]] = s),
                (f.clip[c[0]] = s),
                (f.clip[c[1]] = 0),
                r &&
                (n.cssClip(f.clip),
                  d && d.css(e.effects.clipToBox(f)),
                  (f.clip = p)),
                n
                  .queue(function (i) {
                    d &&
                      d
                        .animate(e.effects.clipToBox(h), u, t.easing)
                        .animate(e.effects.clipToBox(f), u, t.easing),
                      i();
                  })
                  .animate(h, u, t.easing)
                  .animate(f, u, t.easing)
                  .queue(i),
                e.effects.unshift(n, m, 4);
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Highlight 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("highlight", "show", function (t, i) {
              var n = e(this),
                o = { backgroundColor: n.css("backgroundColor") };
              "hide" === t.mode && (o.opacity = 0),
                e.effects.saveStyle(n),
                n
                  .css({
                    backgroundImage: "none",
                    backgroundColor: t.color || "#ffff99",
                  })
                  .animate(o, {
                    queue: !1,
                    duration: t.duration,
                    easing: t.easing,
                    complete: i,
                  });
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Puff 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5), i(33)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("puff", "hide", function (t, i) {
              var n = e.extend(!0, {}, t, {
                fade: !0,
                percent: parseInt(t.percent, 10) || 150,
              });
              e.effects.effect.scale.call(this, n, i);
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Pulsate 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("pulsate", "show", function (t, i) {
              var n = e(this),
                o = t.mode,
                r = "show" === o,
                a = r || "hide" === o,
                s = 2 * (t.times || 5) + (a ? 1 : 0),
                l = t.duration / s,
                c = 0,
                u = 1,
                d = n.queue().length;
              for (
                (!r && n.is(":visible")) ||
                (n.css("opacity", 0).show(), (c = 1));
                u < s;
                u++
              )
                n.animate({ opacity: c }, l, t.easing), (c = 1 - c);
              n.animate({ opacity: c }, l, t.easing),
                n.queue(i),
                e.effects.unshift(n, d, s + 1);
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Shake 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("shake", function (t, i) {
              var n = 1,
                o = e(this),
                r = t.direction || "left",
                a = t.distance || 20,
                s = t.times || 3,
                l = 2 * s + 1,
                c = Math.round(t.duration / l),
                u = "up" === r || "down" === r ? "top" : "left",
                d = "up" === r || "left" === r,
                p = {},
                h = {},
                f = {},
                g = o.queue().length;
              for (
                e.effects.createPlaceholder(o),
                p[u] = (d ? "-=" : "+=") + a,
                h[u] = (d ? "+=" : "-=") + 2 * a,
                f[u] = (d ? "-=" : "+=") + 2 * a,
                o.animate(p, c, t.easing);
                n < s;
                n++
              )
                o.animate(h, c, t.easing).animate(f, c, t.easing);
              o
                .animate(h, c, t.easing)
                .animate(p, c / 2, t.easing)
                .queue(i),
                e.effects.unshift(o, g, l + 1);
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Slide 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            return e.effects.define("slide", "show", function (t, i) {
              var n,
                o,
                r = e(this),
                a = {
                  up: ["bottom", "top"],
                  down: ["top", "bottom"],
                  left: ["right", "left"],
                  right: ["left", "right"],
                },
                s = t.mode,
                l = t.direction || "left",
                c = "up" === l || "down" === l ? "top" : "left",
                u = "up" === l || "left" === l,
                d =
                  t.distance ||
                  r["top" === c ? "outerHeight" : "outerWidth"](!0),
                p = {};
              e.effects.createPlaceholder(r),
                (n = r.cssClip()),
                (o = r.position()[c]),
                (p[c] = (u ? -1 : 1) * d + o),
                (p.clip = r.cssClip()),
                (p.clip[a[l][1]] = p.clip[a[l][0]]),
                "show" === s &&
                (r.cssClip(p.clip), r.css(c, p[c]), (p.clip = n), (p[c] = o)),
                r.animate(p, {
                  queue: !1,
                  duration: t.duration,
                  easing: t.easing,
                  complete: i,
                });
            });
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n, o, r;
    /*!
     * jQuery UI Effects Transfer 1.12.1
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */ (o = [i(0), i(1), i(5)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            var t;
            return (
              !1 !== e.uiBackCompat &&
              (t = e.effects.define("transfer", function (t, i) {
                e(this).transfer(t, i);
              })),
              t
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    var n = i(111);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      '/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */.ui-helper-hidden{display:none}.ui-helper-hidden-accessible{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:before,.ui-helper-clearfix:after{content:"";display:table;border-collapse:collapse}.ui-helper-clearfix:after{clear:both}.ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)}.ui-front{z-index:100}.ui-state-disabled{cursor:default !important;pointer-events:none}.ui-icon{display:inline-block;vertical-align:middle;margin-top:-.25em;position:relative;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.ui-widget-icon-block{left:50%;margin-left:-8px;display:block}.ui-widget-overlay{position:fixed;top:0;left:0;width:100%;height:100%}\n',
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(113);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */.ui-draggable-handle{-ms-touch-action:none;touch-action:none}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(115);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Resizable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:0.1px;display:block;-ms-touch-action:none;touch-action:none}.ui-resizable-disabled .ui-resizable-handle,.ui-resizable-autohide .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(117);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Selectable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */.ui-selectable{-ms-touch-action:none;touch-action:none}.ui-selectable-helper{position:absolute;z-index:100;border:1px dotted black}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(119);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Sortable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */.ui-sortable-handle{-ms-touch-action:none;touch-action:none}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(121);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Accordion 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/accordion/#theming\n */.ui-accordion .ui-accordion-header{display:block;cursor:pointer;position:relative;margin:2px 0 0 0;padding:.5em .5em .5em .7em;font-size:100%}.ui-accordion .ui-accordion-content{padding:1em 2.2em;border-top:0;overflow:auto}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(123);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Autocomplete 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/autocomplete/#theming\n */.ui-autocomplete{position:absolute;top:0;left:0;cursor:default}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(125);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Button 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/button/#theming\n */.ui-button{padding:.4em 1em;display:inline-block;position:relative;line-height:normal;margin-right:.1em;cursor:pointer;vertical-align:middle;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:visible}.ui-button,.ui-button:link,.ui-button:visited,.ui-button:hover,.ui-button:active{text-decoration:none}.ui-button-icon-only{width:2em;box-sizing:border-box;text-indent:-9999px;white-space:nowrap}input.ui-button.ui-button-icon-only{text-indent:0}.ui-button-icon-only .ui-icon{position:absolute;top:50%;left:50%;margin-top:-8px;margin-left:-8px}.ui-button.ui-icon-notext .ui-icon{padding:0;width:2.1em;height:2.1em;text-indent:-9999px;white-space:nowrap}input.ui-button.ui-icon-notext .ui-icon{width:auto;height:auto;text-indent:0;white-space:normal;padding:.4em 1em}input.ui-button::-moz-focus-inner,button.ui-button::-moz-focus-inner{border:0;padding:0}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(127);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Checkboxradio 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/checkboxradio/#theming\n */.ui-checkboxradio-label .ui-icon-background{box-shadow:inset 1px 1px 1px #ccc;border-radius:.12em;border:none}.ui-checkboxradio-radio-label .ui-icon-background{width:16px;height:16px;border-radius:1em;overflow:visible;border:none}.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon{background-image:none;width:8px;height:8px;border-width:4px;border-style:solid}.ui-checkboxradio-disabled{pointer-events:none}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(129);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Controlgroup 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/controlgroup/#theming\n */.ui-controlgroup{vertical-align:middle;display:inline-block}.ui-controlgroup>.ui-controlgroup-item{float:left;margin-left:0;margin-right:0}.ui-controlgroup>.ui-controlgroup-item:focus,.ui-controlgroup>.ui-controlgroup-item.ui-visual-focus{z-index:9999}.ui-controlgroup-vertical>.ui-controlgroup-item{display:block;float:none;width:100%;margin-top:0;margin-bottom:0;text-align:left}.ui-controlgroup-vertical .ui-controlgroup-item{box-sizing:border-box}.ui-controlgroup .ui-controlgroup-label{padding:.4em 1em}.ui-controlgroup .ui-controlgroup-label span{font-size:80%}.ui-controlgroup-horizontal .ui-controlgroup-label+.ui-controlgroup-item{border-left:none}.ui-controlgroup-vertical .ui-controlgroup-label+.ui-controlgroup-item{border-top:none}.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content{border-right:none}.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content{border-bottom:none}.ui-controlgroup-vertical .ui-spinner-input{width:75%;width:calc( 100% - 2.4em)}.ui-controlgroup-vertical .ui-spinner .ui-spinner-up{border-top-style:solid}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(131);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Datepicker 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/datepicker/#theming\n */.ui-datepicker{width:17em;padding:.2em .2em 0;display:none}.ui-datepicker .ui-datepicker-header{position:relative;padding:.2em 0}.ui-datepicker .ui-datepicker-prev,.ui-datepicker .ui-datepicker-next{position:absolute;top:2px;width:1.8em;height:1.8em}.ui-datepicker .ui-datepicker-prev-hover,.ui-datepicker .ui-datepicker-next-hover{top:1px}.ui-datepicker .ui-datepicker-prev{left:2px}.ui-datepicker .ui-datepicker-next{right:2px}.ui-datepicker .ui-datepicker-prev-hover{left:1px}.ui-datepicker .ui-datepicker-next-hover{right:1px}.ui-datepicker .ui-datepicker-prev span,.ui-datepicker .ui-datepicker-next span{display:block;position:absolute;left:50%;margin-left:-8px;top:50%;margin-top:-8px}.ui-datepicker .ui-datepicker-title{margin:0 2.3em;line-height:1.8em;text-align:center}.ui-datepicker .ui-datepicker-title select{font-size:1em;margin:1px 0}.ui-datepicker select.ui-datepicker-month,.ui-datepicker select.ui-datepicker-year{width:45%}.ui-datepicker table{width:100%;font-size:.9em;border-collapse:collapse;margin:0 0 .4em}.ui-datepicker th{padding:.7em .3em;text-align:center;font-weight:bold;border:0}.ui-datepicker td{border:0;padding:1px}.ui-datepicker td span,.ui-datepicker td a{display:block;padding:.2em;text-align:right;text-decoration:none}.ui-datepicker .ui-datepicker-buttonpane{background-image:none;margin:.7em 0 0 0;padding:0 .2em;border-left:0;border-right:0;border-bottom:0}.ui-datepicker .ui-datepicker-buttonpane button{float:right;margin:.5em .2em .4em;cursor:pointer;padding:.2em .6em .3em .6em;width:auto;overflow:visible}.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current{float:left}.ui-datepicker.ui-datepicker-multi{width:auto}.ui-datepicker-multi .ui-datepicker-group{float:left}.ui-datepicker-multi .ui-datepicker-group table{width:95%;margin:0 auto .4em}.ui-datepicker-multi-2 .ui-datepicker-group{width:50%}.ui-datepicker-multi-3 .ui-datepicker-group{width:33.3%}.ui-datepicker-multi-4 .ui-datepicker-group{width:25%}.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header{border-left-width:0}.ui-datepicker-multi .ui-datepicker-buttonpane{clear:left}.ui-datepicker-row-break{clear:both;width:100%;font-size:0}.ui-datepicker-rtl{direction:rtl}.ui-datepicker-rtl .ui-datepicker-prev{right:2px;left:auto}.ui-datepicker-rtl .ui-datepicker-next{left:2px;right:auto}.ui-datepicker-rtl .ui-datepicker-prev:hover{right:1px;left:auto}.ui-datepicker-rtl .ui-datepicker-next:hover{left:1px;right:auto}.ui-datepicker-rtl .ui-datepicker-buttonpane{clear:right}.ui-datepicker-rtl .ui-datepicker-buttonpane button{float:left}.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,.ui-datepicker-rtl .ui-datepicker-group{float:right}.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header{border-right-width:0;border-left-width:1px}.ui-datepicker .ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat;left:.5em;top:.3em}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(133);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Dialog 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/dialog/#theming\n */.ui-dialog{position:absolute;top:0;left:0;padding:.2em;outline:0}.ui-dialog .ui-dialog-titlebar{padding:.4em 1em;position:relative}.ui-dialog .ui-dialog-title{float:left;margin:.1em 0;white-space:nowrap;width:90%;overflow:hidden;text-overflow:ellipsis}.ui-dialog .ui-dialog-titlebar-close{position:absolute;right:.3em;top:50%;width:20px;margin:-10px 0 0 0;padding:1px;height:20px}.ui-dialog .ui-dialog-content{position:relative;border:0;padding:.5em 1em;background:none;overflow:auto}.ui-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0 0;background-image:none;margin-top:.5em;padding:.3em 1em .5em .4em}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{float:right}.ui-dialog .ui-dialog-buttonpane button{margin:.5em .4em .5em 0;cursor:pointer}.ui-dialog .ui-resizable-n{height:2px;top:0}.ui-dialog .ui-resizable-e{width:2px;right:0}.ui-dialog .ui-resizable-s{height:2px;bottom:0}.ui-dialog .ui-resizable-w{width:2px;left:0}.ui-dialog .ui-resizable-se,.ui-dialog .ui-resizable-sw,.ui-dialog .ui-resizable-ne,.ui-dialog .ui-resizable-nw{width:7px;height:7px}.ui-dialog .ui-resizable-se{right:0;bottom:0}.ui-dialog .ui-resizable-sw{left:0;bottom:0}.ui-dialog .ui-resizable-ne{right:0;top:0}.ui-dialog .ui-resizable-nw{left:0;top:0}.ui-draggable .ui-dialog-titlebar{cursor:move}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(135);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      '/*!\n * jQuery UI Menu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/menu/#theming\n */.ui-menu{list-style:none;padding:0;margin:0;display:block;outline:0}.ui-menu .ui-menu{position:absolute}.ui-menu .ui-menu-item{margin:0;cursor:pointer;list-style-image:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7")}.ui-menu .ui-menu-item-wrapper{position:relative;padding:3px 1em 3px .4em}.ui-menu .ui-menu-divider{margin:5px 0;height:0;font-size:0;line-height:0;border-width:1px 0 0 0}.ui-menu .ui-state-focus,.ui-menu .ui-state-active{margin:-1px}.ui-menu-icons{position:relative}.ui-menu-icons .ui-menu-item-wrapper{padding-left:2em}.ui-menu .ui-icon{position:absolute;top:0;bottom:0;left:.2em;margin:auto 0}.ui-menu .ui-menu-icon{left:auto;right:0}\n',
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(137);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      '/*!\n * jQuery UI Progressbar 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/progressbar/#theming\n */.ui-progressbar{height:2em;text-align:left;overflow:hidden}.ui-progressbar .ui-progressbar-value{margin:-1px;height:100%}.ui-progressbar .ui-progressbar-overlay{background:url("data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==");height:100%;filter:alpha(opacity=25);opacity:0.25}.ui-progressbar-indeterminate .ui-progressbar-value{background-image:none}\n',
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(139);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Selectmenu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/selectmenu/#theming\n */.ui-selectmenu-menu{padding:0;margin:0;position:absolute;top:0;left:0;display:none}.ui-selectmenu-menu .ui-menu{overflow:auto;overflow-x:hidden;padding-bottom:1px}.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup{font-size:1em;font-weight:bold;line-height:1.5;padding:2px 0.4em;margin:0.5em 0 0 0;height:auto;border:0}.ui-selectmenu-open{display:block}.ui-selectmenu-text{display:block;margin-right:20px;overflow:hidden;text-overflow:ellipsis}.ui-selectmenu-button.ui-button{text-align:left;white-space:nowrap;width:14em}.ui-selectmenu-icon.ui-icon{float:right;margin-top:0}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(141);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Slider 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/slider/#theming\n */.ui-slider{position:relative;text-align:left}.ui-slider .ui-slider-handle{position:absolute;z-index:2;width:1.2em;height:1.2em;cursor:default;-ms-touch-action:none;touch-action:none}.ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0}.ui-slider.ui-state-disabled .ui-slider-handle,.ui-slider.ui-state-disabled .ui-slider-range{filter:inherit}.ui-slider-horizontal{height:.8em}.ui-slider-horizontal .ui-slider-handle{top:-.3em;margin-left:-.6em}.ui-slider-horizontal .ui-slider-range{top:0;height:100%}.ui-slider-horizontal .ui-slider-range-min{left:0}.ui-slider-horizontal .ui-slider-range-max{right:0}.ui-slider-vertical{width:.8em;height:100px}.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}.ui-slider-vertical .ui-slider-range{left:0;width:100%}.ui-slider-vertical .ui-slider-range-min{bottom:0}.ui-slider-vertical .ui-slider-range-max{top:0}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(143);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Spinner 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/spinner/#theming\n */.ui-spinner{position:relative;display:inline-block;overflow:hidden;padding:0;vertical-align:middle}.ui-spinner-input{border:none;background:none;color:inherit;padding:.222em 0;margin:.2em 0;vertical-align:middle;margin-left:.4em;margin-right:2em}.ui-spinner-button{width:1.6em;height:50%;font-size:.5em;padding:0;margin:0;text-align:center;position:absolute;cursor:default;display:block;overflow:hidden;right:0}.ui-spinner a.ui-spinner-button{border-top-style:none;border-bottom-style:none;border-right-style:none}.ui-spinner-up{top:0}.ui-spinner-down{bottom:0}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(145);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Tabs 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/tabs/#theming\n */.ui-tabs{position:relative;padding:.2em}.ui-tabs .ui-tabs-nav{margin:0;padding:.2em .2em 0}.ui-tabs .ui-tabs-nav li{list-style:none;float:left;position:relative;top:0;margin:1px .2em 0 0;border-bottom-width:0;padding:0;white-space:nowrap}.ui-tabs .ui-tabs-nav .ui-tabs-anchor{float:left;padding:.5em 1em;text-decoration:none}.ui-tabs .ui-tabs-nav li.ui-tabs-active{margin-bottom:-1px;padding-bottom:1px}.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor{cursor:text}.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor{cursor:pointer}.ui-tabs .ui-tabs-panel{display:block;border-width:0;padding:1em 1.4em;background:none}\n",
      "",
    ]);
  },
  function (e, t, i) {
    var n = i(147);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    (e.exports = i(2)(!1)).push([
      e.i,
      "/*!\n * jQuery UI Tooltip 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/tooltip/#theming\n */.ui-tooltip{padding:8px;position:absolute;z-index:9999;max-width:300px}body .ui-tooltip{border-width:2px}\n",
      "",
    ]);
  },
  function (e, t, i) {
    i(149);
  },
  function (e, t, i) {
    var n = i(150);
    "string" == typeof n && (n = [[e.i, n, ""]]);
    var o = { hmr: !0, transform: void 0, insertInto: void 0 };
    i(3)(n, o);
    n.locals && (e.exports = n.locals);
  },
  function (e, t, i) {
    t = e.exports = i(2)(!1);
    var n = i(13),
      o = n(i(151)),
      r = n(i(152)),
      a = n(i(153)),
      s = n(i(154)),
      l = n(i(155)),
      c = n(i(156));
    t.push([
      e.i,
      "/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n *\n * To view and modify this theme, visit http://jqueryui.com/themeroller/\n */.ui-widget{font-family:Arial,Helvetica,sans-serif;font-size:1em}.ui-widget .ui-widget{font-size:1em}.ui-widget input,.ui-widget select,.ui-widget textarea,.ui-widget button{font-family:Arial,Helvetica,sans-serif;font-size:1em}.ui-widget.ui-widget-content{border:1px solid #c5c5c5}.ui-widget-content{border:1px solid #ddd;background:#fff;color:#333}.ui-widget-content a{color:#333}.ui-widget-header{border:1px solid #ddd;background:#e9e9e9;color:#333;font-weight:bold}.ui-widget-header a{color:#333}.ui-state-default,.ui-widget-content .ui-state-default,.ui-widget-header .ui-state-default,.ui-button,html .ui-button.ui-state-disabled:hover,html .ui-button.ui-state-disabled:active{border:1px solid #c5c5c5;background:#f6f6f6;font-weight:normal;color:#454545}.ui-state-default a,.ui-state-default a:link,.ui-state-default a:visited,a.ui-button,a:link.ui-button,a:visited.ui-button,.ui-button{color:#454545;text-decoration:none}.ui-state-hover,.ui-widget-content .ui-state-hover,.ui-widget-header .ui-state-hover,.ui-state-focus,.ui-widget-content .ui-state-focus,.ui-widget-header .ui-state-focus,.ui-button:hover,.ui-button:focus{border:1px solid #ccc;background:#ededed;font-weight:normal;color:#2b2b2b}.ui-state-hover a,.ui-state-hover a:hover,.ui-state-hover a:link,.ui-state-hover a:visited,.ui-state-focus a,.ui-state-focus a:hover,.ui-state-focus a:link,.ui-state-focus a:visited,a.ui-button:hover,a.ui-button:focus{color:#2b2b2b;text-decoration:none}.ui-visual-focus{box-shadow:0 0 3px 1px #5e9ed6}.ui-state-active,.ui-widget-content .ui-state-active,.ui-widget-header .ui-state-active,a.ui-button:active,.ui-button:active,.ui-button.ui-state-active:hover{border:1px solid #003eff;background:#007fff;font-weight:normal;color:#fff}.ui-icon-background,.ui-state-active .ui-icon-background{border:#003eff;background-color:#fff}.ui-state-active a,.ui-state-active a:link,.ui-state-active a:visited{color:#fff;text-decoration:none}.ui-state-highlight,.ui-widget-content .ui-state-highlight,.ui-widget-header .ui-state-highlight{border:1px solid #dad55e;background:#fffa90;color:#777620}.ui-state-checked{border:1px solid #dad55e;background:#fffa90}.ui-state-highlight a,.ui-widget-content .ui-state-highlight a,.ui-widget-header .ui-state-highlight a{color:#777620}.ui-state-error,.ui-widget-content .ui-state-error,.ui-widget-header .ui-state-error{border:1px solid #f1a899;background:#fddfdf;color:#5f3f3f}.ui-state-error a,.ui-widget-content .ui-state-error a,.ui-widget-header .ui-state-error a{color:#5f3f3f}.ui-state-error-text,.ui-widget-content .ui-state-error-text,.ui-widget-header .ui-state-error-text{color:#5f3f3f}.ui-priority-primary,.ui-widget-content .ui-priority-primary,.ui-widget-header .ui-priority-primary{font-weight:bold}.ui-priority-secondary,.ui-widget-content .ui-priority-secondary,.ui-widget-header .ui-priority-secondary{opacity:.7;filter:Alpha(Opacity=70);font-weight:normal}.ui-state-disabled,.ui-widget-content .ui-state-disabled,.ui-widget-header .ui-state-disabled{opacity:.35;filter:Alpha(Opacity=35);background-image:none}.ui-state-disabled .ui-icon{filter:Alpha(Opacity=35)}.ui-icon{width:16px;height:16px}.ui-icon,.ui-widget-content .ui-icon{background-image:url(" +
      o +
      ")}.ui-widget-header .ui-icon{background-image:url(" +
      o +
      ")}.ui-state-hover .ui-icon,.ui-state-focus .ui-icon,.ui-button:hover .ui-icon,.ui-button:focus .ui-icon{background-image:url(" +
      r +
      ")}.ui-state-active .ui-icon,.ui-button:active .ui-icon{background-image:url(" +
      a +
      ")}.ui-state-highlight .ui-icon,.ui-button .ui-state-highlight.ui-icon{background-image:url(" +
      s +
      ")}.ui-state-error .ui-icon,.ui-state-error-text .ui-icon{background-image:url(" +
      l +
      ")}.ui-button .ui-icon{background-image:url(" +
      c +
      ")}.ui-icon-blank{background-position:16px 16px}.ui-icon-caret-1-n{background-position:0 0}.ui-icon-caret-1-ne{background-position:-16px 0}.ui-icon-caret-1-e{background-position:-32px 0}.ui-icon-caret-1-se{background-position:-48px 0}.ui-icon-caret-1-s{background-position:-65px 0}.ui-icon-caret-1-sw{background-position:-80px 0}.ui-icon-caret-1-w{background-position:-96px 0}.ui-icon-caret-1-nw{background-position:-112px 0}.ui-icon-caret-2-n-s{background-position:-128px 0}.ui-icon-caret-2-e-w{background-position:-144px 0}.ui-icon-triangle-1-n{background-position:0 -16px}.ui-icon-triangle-1-ne{background-position:-16px -16px}.ui-icon-triangle-1-e{background-position:-32px -16px}.ui-icon-triangle-1-se{background-position:-48px -16px}.ui-icon-triangle-1-s{background-position:-65px -16px}.ui-icon-triangle-1-sw{background-position:-80px -16px}.ui-icon-triangle-1-w{background-position:-96px -16px}.ui-icon-triangle-1-nw{background-position:-112px -16px}.ui-icon-triangle-2-n-s{background-position:-128px -16px}.ui-icon-triangle-2-e-w{background-position:-144px -16px}.ui-icon-arrow-1-n{background-position:0 -32px}.ui-icon-arrow-1-ne{background-position:-16px -32px}.ui-icon-arrow-1-e{background-position:-32px -32px}.ui-icon-arrow-1-se{background-position:-48px -32px}.ui-icon-arrow-1-s{background-position:-65px -32px}.ui-icon-arrow-1-sw{background-position:-80px -32px}.ui-icon-arrow-1-w{background-position:-96px -32px}.ui-icon-arrow-1-nw{background-position:-112px -32px}.ui-icon-arrow-2-n-s{background-position:-128px -32px}.ui-icon-arrow-2-ne-sw{background-position:-144px -32px}.ui-icon-arrow-2-e-w{background-position:-160px -32px}.ui-icon-arrow-2-se-nw{background-position:-176px -32px}.ui-icon-arrowstop-1-n{background-position:-192px -32px}.ui-icon-arrowstop-1-e{background-position:-208px -32px}.ui-icon-arrowstop-1-s{background-position:-224px -32px}.ui-icon-arrowstop-1-w{background-position:-240px -32px}.ui-icon-arrowthick-1-n{background-position:1px -48px}.ui-icon-arrowthick-1-ne{background-position:-16px -48px}.ui-icon-arrowthick-1-e{background-position:-32px -48px}.ui-icon-arrowthick-1-se{background-position:-48px -48px}.ui-icon-arrowthick-1-s{background-position:-64px -48px}.ui-icon-arrowthick-1-sw{background-position:-80px -48px}.ui-icon-arrowthick-1-w{background-position:-96px -48px}.ui-icon-arrowthick-1-nw{background-position:-112px -48px}.ui-icon-arrowthick-2-n-s{background-position:-128px -48px}.ui-icon-arrowthick-2-ne-sw{background-position:-144px -48px}.ui-icon-arrowthick-2-e-w{background-position:-160px -48px}.ui-icon-arrowthick-2-se-nw{background-position:-176px -48px}.ui-icon-arrowthickstop-1-n{background-position:-192px -48px}.ui-icon-arrowthickstop-1-e{background-position:-208px -48px}.ui-icon-arrowthickstop-1-s{background-position:-224px -48px}.ui-icon-arrowthickstop-1-w{background-position:-240px -48px}.ui-icon-arrowreturnthick-1-w{background-position:0 -64px}.ui-icon-arrowreturnthick-1-n{background-position:-16px -64px}.ui-icon-arrowreturnthick-1-e{background-position:-32px -64px}.ui-icon-arrowreturnthick-1-s{background-position:-48px -64px}.ui-icon-arrowreturn-1-w{background-position:-64px -64px}.ui-icon-arrowreturn-1-n{background-position:-80px -64px}.ui-icon-arrowreturn-1-e{background-position:-96px -64px}.ui-icon-arrowreturn-1-s{background-position:-112px -64px}.ui-icon-arrowrefresh-1-w{background-position:-128px -64px}.ui-icon-arrowrefresh-1-n{background-position:-144px -64px}.ui-icon-arrowrefresh-1-e{background-position:-160px -64px}.ui-icon-arrowrefresh-1-s{background-position:-176px -64px}.ui-icon-arrow-4{background-position:0 -80px}.ui-icon-arrow-4-diag{background-position:-16px -80px}.ui-icon-extlink{background-position:-32px -80px}.ui-icon-newwin{background-position:-48px -80px}.ui-icon-refresh{background-position:-64px -80px}.ui-icon-shuffle{background-position:-80px -80px}.ui-icon-transfer-e-w{background-position:-96px -80px}.ui-icon-transferthick-e-w{background-position:-112px -80px}.ui-icon-folder-collapsed{background-position:0 -96px}.ui-icon-folder-open{background-position:-16px -96px}.ui-icon-document{background-position:-32px -96px}.ui-icon-document-b{background-position:-48px -96px}.ui-icon-note{background-position:-64px -96px}.ui-icon-mail-closed{background-position:-80px -96px}.ui-icon-mail-open{background-position:-96px -96px}.ui-icon-suitcase{background-position:-112px -96px}.ui-icon-comment{background-position:-128px -96px}.ui-icon-person{background-position:-144px -96px}.ui-icon-print{background-position:-160px -96px}.ui-icon-trash{background-position:-176px -96px}.ui-icon-locked{background-position:-192px -96px}.ui-icon-unlocked{background-position:-208px -96px}.ui-icon-bookmark{background-position:-224px -96px}.ui-icon-tag{background-position:-240px -96px}.ui-icon-home{background-position:0 -112px}.ui-icon-flag{background-position:-16px -112px}.ui-icon-calendar{background-position:-32px -112px}.ui-icon-cart{background-position:-48px -112px}.ui-icon-pencil{background-position:-64px -112px}.ui-icon-clock{background-position:-80px -112px}.ui-icon-disk{background-position:-96px -112px}.ui-icon-calculator{background-position:-112px -112px}.ui-icon-zoomin{background-position:-128px -112px}.ui-icon-zoomout{background-position:-144px -112px}.ui-icon-search{background-position:-160px -112px}.ui-icon-wrench{background-position:-176px -112px}.ui-icon-gear{background-position:-192px -112px}.ui-icon-heart{background-position:-208px -112px}.ui-icon-star{background-position:-224px -112px}.ui-icon-link{background-position:-240px -112px}.ui-icon-cancel{background-position:0 -128px}.ui-icon-plus{background-position:-16px -128px}.ui-icon-plusthick{background-position:-32px -128px}.ui-icon-minus{background-position:-48px -128px}.ui-icon-minusthick{background-position:-64px -128px}.ui-icon-close{background-position:-80px -128px}.ui-icon-closethick{background-position:-96px -128px}.ui-icon-key{background-position:-112px -128px}.ui-icon-lightbulb{background-position:-128px -128px}.ui-icon-scissors{background-position:-144px -128px}.ui-icon-clipboard{background-position:-160px -128px}.ui-icon-copy{background-position:-176px -128px}.ui-icon-contact{background-position:-192px -128px}.ui-icon-image{background-position:-208px -128px}.ui-icon-video{background-position:-224px -128px}.ui-icon-script{background-position:-240px -128px}.ui-icon-alert{background-position:0 -144px}.ui-icon-info{background-position:-16px -144px}.ui-icon-notice{background-position:-32px -144px}.ui-icon-help{background-position:-48px -144px}.ui-icon-check{background-position:-64px -144px}.ui-icon-bullet{background-position:-80px -144px}.ui-icon-radio-on{background-position:-96px -144px}.ui-icon-radio-off{background-position:-112px -144px}.ui-icon-pin-w{background-position:-128px -144px}.ui-icon-pin-s{background-position:-144px -144px}.ui-icon-play{background-position:0 -160px}.ui-icon-pause{background-position:-16px -160px}.ui-icon-seek-next{background-position:-32px -160px}.ui-icon-seek-prev{background-position:-48px -160px}.ui-icon-seek-end{background-position:-64px -160px}.ui-icon-seek-start{background-position:-80px -160px}.ui-icon-seek-first{background-position:-80px -160px}.ui-icon-stop{background-position:-96px -160px}.ui-icon-eject{background-position:-112px -160px}.ui-icon-volume-off{background-position:-128px -160px}.ui-icon-volume-on{background-position:-144px -160px}.ui-icon-power{background-position:0 -176px}.ui-icon-signal-diag{background-position:-16px -176px}.ui-icon-signal{background-position:-32px -176px}.ui-icon-battery-0{background-position:-48px -176px}.ui-icon-battery-1{background-position:-64px -176px}.ui-icon-battery-2{background-position:-80px -176px}.ui-icon-battery-3{background-position:-96px -176px}.ui-icon-circle-plus{background-position:0 -192px}.ui-icon-circle-minus{background-position:-16px -192px}.ui-icon-circle-close{background-position:-32px -192px}.ui-icon-circle-triangle-e{background-position:-48px -192px}.ui-icon-circle-triangle-s{background-position:-64px -192px}.ui-icon-circle-triangle-w{background-position:-80px -192px}.ui-icon-circle-triangle-n{background-position:-96px -192px}.ui-icon-circle-arrow-e{background-position:-112px -192px}.ui-icon-circle-arrow-s{background-position:-128px -192px}.ui-icon-circle-arrow-w{background-position:-144px -192px}.ui-icon-circle-arrow-n{background-position:-160px -192px}.ui-icon-circle-zoomin{background-position:-176px -192px}.ui-icon-circle-zoomout{background-position:-192px -192px}.ui-icon-circle-check{background-position:-208px -192px}.ui-icon-circlesmall-plus{background-position:0 -208px}.ui-icon-circlesmall-minus{background-position:-16px -208px}.ui-icon-circlesmall-close{background-position:-32px -208px}.ui-icon-squaresmall-plus{background-position:-48px -208px}.ui-icon-squaresmall-minus{background-position:-64px -208px}.ui-icon-squaresmall-close{background-position:-80px -208px}.ui-icon-grip-dotted-vertical{background-position:0 -224px}.ui-icon-grip-dotted-horizontal{background-position:-16px -224px}.ui-icon-grip-solid-vertical{background-position:-32px -224px}.ui-icon-grip-solid-horizontal{background-position:-48px -224px}.ui-icon-gripsmall-diagonal-se{background-position:-64px -224px}.ui-icon-grip-diagonal-se{background-position:-80px -224px}.ui-corner-all,.ui-corner-top,.ui-corner-left,.ui-corner-tl{border-top-left-radius:3px}.ui-corner-all,.ui-corner-top,.ui-corner-right,.ui-corner-tr{border-top-right-radius:3px}.ui-corner-all,.ui-corner-bottom,.ui-corner-left,.ui-corner-bl{border-bottom-left-radius:3px}.ui-corner-all,.ui-corner-bottom,.ui-corner-right,.ui-corner-br{border-bottom-right-radius:3px}.ui-widget-overlay{background:#aaa;opacity:0.3;filter:Alpha(Opacity=30)}.ui-widget-shadow{-webkit-box-shadow:0 0 5px #666;box-shadow:0 0 5px #666}\n",
      "",
    ]);
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABDlBMVEVEREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREQf23IJAAAAWnRSTlMAGf8QMwQIUL+CmS8iVXFAZmAaEzLMDSE8FkJISyAeWiMnMVMshTSHgMNqyM/GOEUcvLi+fKu1pYyqqK0fsin9AZ5RJO8KBgIDj6JilEqgr23fnEdjP29/kWiyI5UtAAAM80lEQVR4Aezb3XLzOgiFYXh8//e8T8MwQeNJ8yXd5T2zF8RiCfm3jWVZvoGUf7x+X+6AfLnEUZRkCZYf7EBQAsgoEFVNilpJ2gFafgkmP9eBoM1R2cEwg0GM6WDqh5ryXur4hxIGPZFD9vTrDbIe8e2QY4FtCsF5DU0dMAygdsCn6EM8d/AQkBzsJUsw+XeuApHIGiz3RmhZlmVZluVP3Anmd92Igbojh4IAg1/z+4CkZqSQn3wjld2AFlC3kM/9St2AHB8eg/yn9ZOnEQ9yIge/Zj8bCMS/AjD3rCzi+X1ATn4W9YMdMJDe+T4gT0sw5F4FlmVZlmVZ/gTiFcBLv++zBQTmHWdxxr3jw/AD5gOcM6DKekhN17SCvmkcjfPx53oMcjg4xslAoYp127GDWoIq3jo+0PWyY5CBuYJz+hCibAM1gBoOxg4yWzS3MCd/e8Xm9HkA5yPcKu+4xmFqQdz7RRwbuoA754CjKl7EV+eDWJZlWZZl6SQZL8EPDwCiMGhADMxqcm8A0WCOqsB5AOpnJVmlETk9QItIs4H9KPPxiRgLKDjPINQPi2TVpg4iRwOS4/hbyOQAY/2aaM5HKP485Ii5g4Dw1GB9jzgPQFefOoyInt/1nt9l9AEPBaLqCXnHAIwvJLSAs8ywCoie3pfAcIiYlkCSd5YAotKPbziJ6QU0mGYwCql/oTcbkIf3AWlegtGQ8xzNcnSMazgOmA2oAL/0RmRZlmVZFvFO0nxh1jMQPwhixhD+KknfQ471F9fcnjLT92q9YAb9VYBse0otqn4qFlOAsk8NYjKkhb+O6kArkYwoOodbbSEMMyY6ouaq6W80IOlFKTqYO0AUjLro0VqFY7AftCD1ESo6eD7jJgN6hhBTfjeg63jbpUAGGRVyeofZChJDAN2fgyFdf+OVFtnkvPP0aqh/WC+DQ3uf87Usy7Isy+V/dB2m32vqm7xWv4xPM39nokzxaAC44ubdXn5rB4Ty99iIy+XBII9Jl7g8bHP8lwPA91Sve1D0yxVqfISHyi4Rarpnn6PTdxkAYDCotHczoE+xkl/3JX0JfHsHtHhQDXrWAUCohgsZv+Uc0Ka3J7vC1c8BPb6v/++/CqAEUOMvMJhateTX3Qeccb3wGaLwXzvnwaa20YXRlzMTiVjrFWIDqTgxaZveeyW99/r//8gHLPfR6D4eHtnhw2V1th5U75urkRSLvRvJ1z8wMDAwMBABonpzX7HmPh2JEhiX2sP9ACgLV2BfidFPjmaZ+lVBpTaB6Fd/ApzIuxfj6g63gJXEaV2XbLFAoPRXSUzIXsw2kS1Np16I3jsrdHuT7HVRURRURfbfCg0ZZl0xYHKjLdoL1HUdLnCBjDsBJAlQbMB1gAUAmq4R7Nw6gEwAFBdgAVCcnT1AGsBsNhPKAgIv+QBOOgES1rDFAhlZIO0OdgOfb8h1ACXJDwkbA8wR3T2eAzBvAzh78OShTgAPP/ywyHSgc/eCC8DqfyQNAOgEMAr4iDYgg4c3ZDtgWiJRTtm5FCFK5gQgQLq6DbSHwKOPpofATEVRaCaDuPm4lQCs/quPPZIPYOReEKPRaDoaIYPFYpEfA5hOSyinaQBSGkAEYhLANYBr1+yFs4tB8MyVA/kAkA9ALoDH1SqT5ipQ5wLwG+SJLcjg+vXrUGQ7IE7LchrbAC48H8D1C9CWUcWDVbWkGnUCiEI7eHL7IQMofACFC4BOB0ys/kwALvCntriWK4pcB8TplkjGKYGSzjFZVdhZoGJHle0AC6D/IQDd7UEtHwCxuz13HcD9ysCV/qdB2x8moBailS9h0HfQa9LN+xdcAJZArcMRY7Ml6pbB6u8HALp1Tqg1MDAwMHBpePpp7SVAUB6QQPuJRO14BoBnTEsgvceecMHE3Z6d9HDjWVBKXWsPc5irS9M0af0xEszGBXBelcnNzgQmV9j71GYEkvqVJACTDZC/n6eqql5ugNSY1AQIWAYBJppAkPEcPOfqB5pFWz+0CeCfDse7eH79cUpav0piMr8gWzB6QS/qJSGDSqjquLo+L+aJq4Gmye0gwKT1CfiOU0kTaMyIAJFcAP52GL187ZVXH7tWJvVTKqpvAK/x+vrjjbRAoHL+VOqFispf+2Ia2BJuvL2nTZNxYMxpQxO05UpkS7ySC0ACKXFOeZOnSesnqncAektv653CXNeTDjBX6q4DGjrX+jUgAfWNt/cuW96VsVi4eweIEaQeAVgHPP7E+sPVb4C/Hw+EEFp/j/fXHx+Yj0iOcfMHnNt0O37XPJEJINDtCN3o3mnPKE9RagHUuQAiO1z9bnsugMQ/fPvh8cMffbzzKTtOerjVL8MdAuZOn3uu9U3vM94XgBxIIUgoA1j96VkQnkkDkHKHBPCUjD4uV7/Y0UkkyHjlk4k0+eQVC4DThrBneeSY4AdROrO5+v11gP/f3t5hJKOPN77+5DRohLTC+qrWXK3lOihHpbuQulYv7BrodjIwMDAwUEItowa4Ls+nMgT6f1IBVNoDoFsmsJK0IsjQObQJPMJnn33+OR8nu3O6qX+LpOVjvPwyjy0zz1uU7Cid+xfK3L8rVIzL8otOAvBfAmioVNGYAiut/NX4AnO+3PCVqViVVGrczY27O0UG7heCgb1OjBEhmwF1brYYSyu+4GABAA1gugK2X90GaAP4+ptPP/3ma1NRirqBRrkAOo+MoEgUtAHolPRtLECcTCAJ4NXpmnSDK1ZlNgCMXLlG55CiUppAWn+gG8CnG05M9S0whsY9QIE53eUpgGQGQoBSizYAbQNIWqVaLquqSgJYsVKJrygXQEZBylxur1z9kXQMeJ+TNXwro647yzPfH8AZcAZn5uEcKFkEbrz/kVdfnb665Fw7+IKVND5cAL4DvgPguW79jYxqtWUhc9cwhDCfzzsBdI75xZoP159081llx4DlcnMAIKPii7IcUx16DEjrX7UJEKEOSlgCLGSwOuU8SQBJZ8mwF+kG8NRTu0/XINkxoIzL5ZIl2dPg4c8Cz+k5wJRaXVaTybutUYs6tAnQ+WG/nogbnwZZGJkxgHIDS5QHDnod8Jyk5wi2rigHQBIHfBEU4FOb+v3LI9EJ4GSNvVBEYiQWutnrgDuHsx9+OEu0OQ2SwqfBjzn+ycnDMDAwMFCWifz4E8BPP+ry8DP8LOMXdvyiy8KjAI/af38ACeBHGTNmSvgVqOWodShmAMyO2QAhYC3wWxvAb33+9pVRU2fuheyFvDOLm7r9+o/YABLWAiTkrwQD+Pqh3v/gZuK/F7+bZx8FPeoIEALWAgD4fZgw8fWPZdRWf6YcQRMakMHvkn7vzDC7jQHU7KjzAVh/G/BiSKZZ/dkAQqdlKCQV5oALIDKbzYg6Em3B+QA8kNQPVv+BOuC4g2ANEAJWww9tAD/4DsivwKYfZAwwPQ5+0HsFg1eyg6CpG/8OdRaQ0NGYscOa7g/TP5QfA5D81HvnDwz++S3At38Of2FxYGBgYGDgKNR4PSaM6x7vkDgkV674+vF6TACLwAdg8YR0hnocNt/o5jcxZ3IxU/72toZaXUdeqXUswCLwASTxYDtUw7Y8P0MSgE3PBdBVMO8qxw0AJtkAYCwBO5XGgJ8hCcCmG2Qrzivinu0AUs8r9+4Y4MmPAffmWYAtd8ZZYLgOGBgYGBgYoNElJvwl/v4wSAZwHi5R/YzF3zVBRlV/C5UcZP7+QX+/Q1nxj/hbrJQQxvgE8D/jTfsdSeBF6e9aL7YtAKuFxhdu0BZSzItivv5g5/P2eXZzul5QYH7HETnXhnOidlQNLAKnmQCmG0bTkRU4YjTavIBNZ8ra0+lMsel3ZgdI1gHtuLCiW74pH19AvGm/MxnTSGoYywCVLEoXwD07CFbw4vmLUKUBiLqmWz66V6l+Bn6udBkZGBgYGLD3B/R1/xBVf/frO47n8e8P6Of+Mbr+7td3BO/Bjxj82MPdg5Q35359x/D9+PcHmEPqfwj0x85/ABAAP5iDd2Wm2/rd9uSdvdNnklLHO6CN98E/HE2LufTHHxLQc36bnnek/HTT1P1PpNT//fff1AFpCX0DsF/IOH9If7gdFvn5kS8oM78PoO/+CNjny239BwygkZpcAJmfuYL6uw+ofwcsdVE/hzsEmiazQz0dnOcDbKfu75C8w1JLegZgg5ryg5oNghvPDVJ4V2Z6ZpCUd/LTzfIOS/MeHPM05td3BO/B8S5k/PqO43mOfSnr13csHxgYGBgYGNgDFxzc7xooNtDf78EA2B8ABamD9gcgdHcFABTk3QeEJPY5GjpgGAMYzgKXloGBgYGBgYERultAaC9E4s3XP9Ldwkij/xzAiEz9l6IDXL3md2cHMLKPTAAY3XpR1+/dMSAa3fpHvn5Gl6MDrH4y9V+CDsjWf1nOApn6L+F1gNV/F48BB4BR+zUwcIfzP/8S/ZOlvFfuAAAAAElFTkSuQmCC";
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABDlBMVEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUEec/kAAAAWnRSTlMAGf8QMwQIUL+CmS8iVXFAZmAaEzLMDSE8FkJISyAeWiMnMVMshTSHgMNqyM/GOEUcvLi+fKu1pYyqqK0fsin9AZ5RJO8KBgIDj6JilEqgr23fnEdjP29/kWiyI5UtAAAM80lEQVR4Aezb3XLzOgiFYXh8//e8T8MwQeNJ8yXd5T2zF8RiCfm3jWVZvoGUf7x+X+6AfLnEUZRkCZYf7EBQAsgoEFVNilpJ2gFafgkmP9eBoM1R2cEwg0GM6WDqh5ryXur4hxIGPZFD9vTrDbIe8e2QY4FtCsF5DU0dMAygdsCn6EM8d/AQkBzsJUsw+XeuApHIGiz3RmhZlmVZluVP3Anmd92Igbojh4IAg1/z+4CkZqSQn3wjld2AFlC3kM/9St2AHB8eg/yn9ZOnEQ9yIge/Zj8bCMS/AjD3rCzi+X1ATn4W9YMdMJDe+T4gT0sw5F4FlmVZlmVZ/gTiFcBLv++zBQTmHWdxxr3jw/AD5gOcM6DKekhN17SCvmkcjfPx53oMcjg4xslAoYp127GDWoIq3jo+0PWyY5CBuYJz+hCibAM1gBoOxg4yWzS3MCd/e8Xm9HkA5yPcKu+4xmFqQdz7RRwbuoA754CjKl7EV+eDWJZlWZZl6SQZL8EPDwCiMGhADMxqcm8A0WCOqsB5AOpnJVmlETk9QItIs4H9KPPxiRgLKDjPINQPi2TVpg4iRwOS4/hbyOQAY/2aaM5HKP485Ii5g4Dw1GB9jzgPQFefOoyInt/1nt9l9AEPBaLqCXnHAIwvJLSAs8ywCoie3pfAcIiYlkCSd5YAotKPbziJ6QU0mGYwCql/oTcbkIf3AWlegtGQ8xzNcnSMazgOmA2oAL/0RmRZlmVZFvFO0nxh1jMQPwhixhD+KknfQ471F9fcnjLT92q9YAb9VYBse0otqn4qFlOAsk8NYjKkhb+O6kArkYwoOodbbSEMMyY6ouaq6W80IOlFKTqYO0AUjLro0VqFY7AftCD1ESo6eD7jJgN6hhBTfjeg63jbpUAGGRVyeofZChJDAN2fgyFdf+OVFtnkvPP0aqh/WC+DQ3uf87Usy7Isy+V/dB2m32vqm7xWv4xPM39nokzxaAC44ubdXn5rB4Ty99iIy+XBII9Jl7g8bHP8lwPA91Sve1D0yxVqfISHyi4Rarpnn6PTdxkAYDCotHczoE+xkl/3JX0JfHsHtHhQDXrWAUCohgsZv+Uc0Ka3J7vC1c8BPb6v/++/CqAEUOMvMJhateTX3Qeccb3wGaLwXzvnwaa20YXRlzMTiVjrFWIDqTgxaZveeyW99/r//8gHLPfR6D4eHtnhw2V1th5U75urkRSLvRvJ1z8wMDAwMBABonpzX7HmPh2JEhiX2sP9ACgLV2BfidFPjmaZ+lVBpTaB6Fd/ApzIuxfj6g63gJXEaV2XbLFAoPRXSUzIXsw2kS1Np16I3jsrdHuT7HVRURRURfbfCg0ZZl0xYHKjLdoL1HUdLnCBjDsBJAlQbMB1gAUAmq4R7Nw6gEwAFBdgAVCcnT1AGsBsNhPKAgIv+QBOOgES1rDFAhlZIO0OdgOfb8h1ACXJDwkbA8wR3T2eAzBvAzh78OShTgAPP/ywyHSgc/eCC8DqfyQNAOgEMAr4iDYgg4c3ZDtgWiJRTtm5FCFK5gQgQLq6DbSHwKOPpofATEVRaCaDuPm4lQCs/quPPZIPYOReEKPRaDoaIYPFYpEfA5hOSyinaQBSGkAEYhLANYBr1+yFs4tB8MyVA/kAkA9ALoDH1SqT5ipQ5wLwG+SJLcjg+vXrUGQ7IE7LchrbAC48H8D1C9CWUcWDVbWkGnUCiEI7eHL7IQMofACFC4BOB0ys/kwALvCntriWK4pcB8TplkjGKYGSzjFZVdhZoGJHle0AC6D/IQDd7UEtHwCxuz13HcD9ysCV/qdB2x8moBailS9h0HfQa9LN+xdcAJZArcMRY7Ml6pbB6u8HALp1Tqg1MDAwMHBpePpp7SVAUB6QQPuJRO14BoBnTEsgvceecMHE3Z6d9HDjWVBKXWsPc5irS9M0af0xEszGBXBelcnNzgQmV9j71GYEkvqVJACTDZC/n6eqql5ugNSY1AQIWAYBJppAkPEcPOfqB5pFWz+0CeCfDse7eH79cUpav0piMr8gWzB6QS/qJSGDSqjquLo+L+aJq4Gmye0gwKT1CfiOU0kTaMyIAJFcAP52GL187ZVXH7tWJvVTKqpvAK/x+vrjjbRAoHL+VOqFispf+2Ia2BJuvL2nTZNxYMxpQxO05UpkS7ySC0ACKXFOeZOnSesnqncAektv653CXNeTDjBX6q4DGjrX+jUgAfWNt/cuW96VsVi4eweIEaQeAVgHPP7E+sPVb4C/Hw+EEFp/j/fXHx+Yj0iOcfMHnNt0O37XPJEJINDtCN3o3mnPKE9RagHUuQAiO1z9bnsugMQ/fPvh8cMffbzzKTtOerjVL8MdAuZOn3uu9U3vM94XgBxIIUgoA1j96VkQnkkDkHKHBPCUjD4uV7/Y0UkkyHjlk4k0+eQVC4DThrBneeSY4AdROrO5+v11gP/f3t5hJKOPN77+5DRohLTC+qrWXK3lOihHpbuQulYv7BrodjIwMDAwUEItowa4Ls+nMgT6f1IBVNoDoFsmsJK0IsjQObQJPMJnn33+OR8nu3O6qX+LpOVjvPwyjy0zz1uU7Cid+xfK3L8rVIzL8otOAvBfAmioVNGYAiut/NX4AnO+3PCVqViVVGrczY27O0UG7heCgb1OjBEhmwF1brYYSyu+4GABAA1gugK2X90GaAP4+ptPP/3ma1NRirqBRrkAOo+MoEgUtAHolPRtLECcTCAJ4NXpmnSDK1ZlNgCMXLlG55CiUppAWn+gG8CnG05M9S0whsY9QIE53eUpgGQGQoBSizYAbQNIWqVaLquqSgJYsVKJrygXQEZBylxur1z9kXQMeJ+TNXwro647yzPfH8AZcAZn5uEcKFkEbrz/kVdfnb665Fw7+IKVND5cAL4DvgPguW79jYxqtWUhc9cwhDCfzzsBdI75xZoP159081llx4DlcnMAIKPii7IcUx16DEjrX7UJEKEOSlgCLGSwOuU8SQBJZ8mwF+kG8NRTu0/XINkxoIzL5ZIl2dPg4c8Cz+k5wJRaXVaTybutUYs6tAnQ+WG/nogbnwZZGJkxgHIDS5QHDnod8Jyk5wi2rigHQBIHfBEU4FOb+v3LI9EJ4GSNvVBEYiQWutnrgDuHsx9+OEu0OQ2SwqfBjzn+ycnDMDAwMFCWifz4E8BPP+ry8DP8LOMXdvyiy8KjAI/af38ACeBHGTNmSvgVqOWodShmAMyO2QAhYC3wWxvAb33+9pVRU2fuheyFvDOLm7r9+o/YABLWAiTkrwQD+Pqh3v/gZuK/F7+bZx8FPeoIEALWAgD4fZgw8fWPZdRWf6YcQRMakMHvkn7vzDC7jQHU7KjzAVh/G/BiSKZZ/dkAQqdlKCQV5oALIDKbzYg6Em3B+QA8kNQPVv+BOuC4g2ANEAJWww9tAD/4DsivwKYfZAwwPQ5+0HsFg1eyg6CpG/8OdRaQ0NGYscOa7g/TP5QfA5D81HvnDwz++S3At38Of2FxYGBgYGDgKNR4PSaM6x7vkDgkV674+vF6TACLwAdg8YR0hnocNt/o5jcxZ3IxU/72toZaXUdeqXUswCLwASTxYDtUw7Y8P0MSgE3PBdBVMO8qxw0AJtkAYCwBO5XGgJ8hCcCmG2Qrzivinu0AUs8r9+4Y4MmPAffmWYAtd8ZZYLgOGBgYGBgYoNElJvwl/v4wSAZwHi5R/YzF3zVBRlV/C5UcZP7+QX+/Q1nxj/hbrJQQxvgE8D/jTfsdSeBF6e9aL7YtAKuFxhdu0BZSzItivv5g5/P2eXZzul5QYH7HETnXhnOidlQNLAKnmQCmG0bTkRU4YjTavIBNZ8ra0+lMsel3ZgdI1gHtuLCiW74pH19AvGm/MxnTSGoYywCVLEoXwD07CFbw4vmLUKUBiLqmWz66V6l+Bn6udBkZGBgYGLD3B/R1/xBVf/frO47n8e8P6Of+Mbr+7td3BO/Bjxj82MPdg5Q35359x/D9+PcHmEPqfwj0x85/ABAAP5iDd2Wm2/rd9uSdvdNnklLHO6CN98E/HE2LufTHHxLQc36bnnek/HTT1P1PpNT//fff1AFpCX0DsF/IOH9If7gdFvn5kS8oM78PoO/+CNjny239BwygkZpcAJmfuYL6uw+ofwcsdVE/hzsEmiazQz0dnOcDbKfu75C8w1JLegZgg5ryg5oNghvPDVJ4V2Z6ZpCUd/LTzfIOS/MeHPM05td3BO/B8S5k/PqO43mOfSnr13csHxgYGBgYGNgDFxzc7xooNtDf78EA2B8ABamD9gcgdHcFABTk3QeEJPY5GjpgGAMYzgKXloGBgYGBgYERultAaC9E4s3XP9Ldwkij/xzAiEz9l6IDXL3md2cHMLKPTAAY3XpR1+/dMSAa3fpHvn5Gl6MDrH4y9V+CDsjWf1nOApn6L+F1gNV/F48BB4BR+zUwcIfzP/8S/ZOlvFfuAAAAAElFTkSuQmCC";
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABDlBMVEX////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uKVtWAAAAWnRSTlMAGf8QMwQIUL+CmS8iVXFAZmAaEzLMDSE8FkJISyAeWiMnMVMshTSHgMNqyM/GOEUcvLi+fKu1pYyqqK0fsin9AZ5RJO8KBgIDj6JilEqgr23fnEdjP29/kWiyI5UtAAAM80lEQVR4Aezb3XLzOgiFYXh8//e8T8MwQeNJ8yXd5T2zF8RiCfm3jWVZvoGUf7x+X+6AfLnEUZRkCZYf7EBQAsgoEFVNilpJ2gFafgkmP9eBoM1R2cEwg0GM6WDqh5ryXur4hxIGPZFD9vTrDbIe8e2QY4FtCsF5DU0dMAygdsCn6EM8d/AQkBzsJUsw+XeuApHIGiz3RmhZlmVZluVP3Anmd92Igbojh4IAg1/z+4CkZqSQn3wjld2AFlC3kM/9St2AHB8eg/yn9ZOnEQ9yIge/Zj8bCMS/AjD3rCzi+X1ATn4W9YMdMJDe+T4gT0sw5F4FlmVZlmVZ/gTiFcBLv++zBQTmHWdxxr3jw/AD5gOcM6DKekhN17SCvmkcjfPx53oMcjg4xslAoYp127GDWoIq3jo+0PWyY5CBuYJz+hCibAM1gBoOxg4yWzS3MCd/e8Xm9HkA5yPcKu+4xmFqQdz7RRwbuoA754CjKl7EV+eDWJZlWZZl6SQZL8EPDwCiMGhADMxqcm8A0WCOqsB5AOpnJVmlETk9QItIs4H9KPPxiRgLKDjPINQPi2TVpg4iRwOS4/hbyOQAY/2aaM5HKP485Ii5g4Dw1GB9jzgPQFefOoyInt/1nt9l9AEPBaLqCXnHAIwvJLSAs8ywCoie3pfAcIiYlkCSd5YAotKPbziJ6QU0mGYwCql/oTcbkIf3AWlegtGQ8xzNcnSMazgOmA2oAL/0RmRZlmVZFvFO0nxh1jMQPwhixhD+KknfQ471F9fcnjLT92q9YAb9VYBse0otqn4qFlOAsk8NYjKkhb+O6kArkYwoOodbbSEMMyY6ouaq6W80IOlFKTqYO0AUjLro0VqFY7AftCD1ESo6eD7jJgN6hhBTfjeg63jbpUAGGRVyeofZChJDAN2fgyFdf+OVFtnkvPP0aqh/WC+DQ3uf87Usy7Isy+V/dB2m32vqm7xWv4xPM39nokzxaAC44ubdXn5rB4Ty99iIy+XBII9Jl7g8bHP8lwPA91Sve1D0yxVqfISHyi4Rarpnn6PTdxkAYDCotHczoE+xkl/3JX0JfHsHtHhQDXrWAUCohgsZv+Uc0Ka3J7vC1c8BPb6v/++/CqAEUOMvMJhateTX3Qeccb3wGaLwXzvnwaa20YXRlzMTiVjrFWIDqTgxaZveeyW99/r//8gHLPfR6D4eHtnhw2V1th5U75urkRSLvRvJ1z8wMDAwMBABonpzX7HmPh2JEhiX2sP9ACgLV2BfidFPjmaZ+lVBpTaB6Fd/ApzIuxfj6g63gJXEaV2XbLFAoPRXSUzIXsw2kS1Np16I3jsrdHuT7HVRURRURfbfCg0ZZl0xYHKjLdoL1HUdLnCBjDsBJAlQbMB1gAUAmq4R7Nw6gEwAFBdgAVCcnT1AGsBsNhPKAgIv+QBOOgES1rDFAhlZIO0OdgOfb8h1ACXJDwkbA8wR3T2eAzBvAzh78OShTgAPP/ywyHSgc/eCC8DqfyQNAOgEMAr4iDYgg4c3ZDtgWiJRTtm5FCFK5gQgQLq6DbSHwKOPpofATEVRaCaDuPm4lQCs/quPPZIPYOReEKPRaDoaIYPFYpEfA5hOSyinaQBSGkAEYhLANYBr1+yFs4tB8MyVA/kAkA9ALoDH1SqT5ipQ5wLwG+SJLcjg+vXrUGQ7IE7LchrbAC48H8D1C9CWUcWDVbWkGnUCiEI7eHL7IQMofACFC4BOB0ys/kwALvCntriWK4pcB8TplkjGKYGSzjFZVdhZoGJHle0AC6D/IQDd7UEtHwCxuz13HcD9ysCV/qdB2x8moBailS9h0HfQa9LN+xdcAJZArcMRY7Ml6pbB6u8HALp1Tqg1MDAwMHBpePpp7SVAUB6QQPuJRO14BoBnTEsgvceecMHE3Z6d9HDjWVBKXWsPc5irS9M0af0xEszGBXBelcnNzgQmV9j71GYEkvqVJACTDZC/n6eqql5ugNSY1AQIWAYBJppAkPEcPOfqB5pFWz+0CeCfDse7eH79cUpav0piMr8gWzB6QS/qJSGDSqjquLo+L+aJq4Gmye0gwKT1CfiOU0kTaMyIAJFcAP52GL187ZVXH7tWJvVTKqpvAK/x+vrjjbRAoHL+VOqFispf+2Ia2BJuvL2nTZNxYMxpQxO05UpkS7ySC0ACKXFOeZOnSesnqncAektv653CXNeTDjBX6q4DGjrX+jUgAfWNt/cuW96VsVi4eweIEaQeAVgHPP7E+sPVb4C/Hw+EEFp/j/fXHx+Yj0iOcfMHnNt0O37XPJEJINDtCN3o3mnPKE9RagHUuQAiO1z9bnsugMQ/fPvh8cMffbzzKTtOerjVL8MdAuZOn3uu9U3vM94XgBxIIUgoA1j96VkQnkkDkHKHBPCUjD4uV7/Y0UkkyHjlk4k0+eQVC4DThrBneeSY4AdROrO5+v11gP/f3t5hJKOPN77+5DRohLTC+qrWXK3lOihHpbuQulYv7BrodjIwMDAwUEItowa4Ls+nMgT6f1IBVNoDoFsmsJK0IsjQObQJPMJnn33+OR8nu3O6qX+LpOVjvPwyjy0zz1uU7Cid+xfK3L8rVIzL8otOAvBfAmioVNGYAiut/NX4AnO+3PCVqViVVGrczY27O0UG7heCgb1OjBEhmwF1brYYSyu+4GABAA1gugK2X90GaAP4+ptPP/3ma1NRirqBRrkAOo+MoEgUtAHolPRtLECcTCAJ4NXpmnSDK1ZlNgCMXLlG55CiUppAWn+gG8CnG05M9S0whsY9QIE53eUpgGQGQoBSizYAbQNIWqVaLquqSgJYsVKJrygXQEZBylxur1z9kXQMeJ+TNXwro647yzPfH8AZcAZn5uEcKFkEbrz/kVdfnb665Fw7+IKVND5cAL4DvgPguW79jYxqtWUhc9cwhDCfzzsBdI75xZoP159081llx4DlcnMAIKPii7IcUx16DEjrX7UJEKEOSlgCLGSwOuU8SQBJZ8mwF+kG8NRTu0/XINkxoIzL5ZIl2dPg4c8Cz+k5wJRaXVaTybutUYs6tAnQ+WG/nogbnwZZGJkxgHIDS5QHDnod8Jyk5wi2rigHQBIHfBEU4FOb+v3LI9EJ4GSNvVBEYiQWutnrgDuHsx9+OEu0OQ2SwqfBjzn+ycnDMDAwMFCWifz4E8BPP+ry8DP8LOMXdvyiy8KjAI/af38ACeBHGTNmSvgVqOWodShmAMyO2QAhYC3wWxvAb33+9pVRU2fuheyFvDOLm7r9+o/YABLWAiTkrwQD+Pqh3v/gZuK/F7+bZx8FPeoIEALWAgD4fZgw8fWPZdRWf6YcQRMakMHvkn7vzDC7jQHU7KjzAVh/G/BiSKZZ/dkAQqdlKCQV5oALIDKbzYg6Em3B+QA8kNQPVv+BOuC4g2ANEAJWww9tAD/4DsivwKYfZAwwPQ5+0HsFg1eyg6CpG/8OdRaQ0NGYscOa7g/TP5QfA5D81HvnDwz++S3At38Of2FxYGBgYGDgKNR4PSaM6x7vkDgkV674+vF6TACLwAdg8YR0hnocNt/o5jcxZ3IxU/72toZaXUdeqXUswCLwASTxYDtUw7Y8P0MSgE3PBdBVMO8qxw0AJtkAYCwBO5XGgJ8hCcCmG2Qrzivinu0AUs8r9+4Y4MmPAffmWYAtd8ZZYLgOGBgYGBgYoNElJvwl/v4wSAZwHi5R/YzF3zVBRlV/C5UcZP7+QX+/Q1nxj/hbrJQQxvgE8D/jTfsdSeBF6e9aL7YtAKuFxhdu0BZSzItivv5g5/P2eXZzul5QYH7HETnXhnOidlQNLAKnmQCmG0bTkRU4YjTavIBNZ8ra0+lMsel3ZgdI1gHtuLCiW74pH19AvGm/MxnTSGoYywCVLEoXwD07CFbw4vmLUKUBiLqmWz66V6l+Bn6udBkZGBgYGLD3B/R1/xBVf/frO47n8e8P6Of+Mbr+7td3BO/Bjxj82MPdg5Q35359x/D9+PcHmEPqfwj0x85/ABAAP5iDd2Wm2/rd9uSdvdNnklLHO6CN98E/HE2LufTHHxLQc36bnnek/HTT1P1PpNT//fff1AFpCX0DsF/IOH9If7gdFvn5kS8oM78PoO/+CNjny239BwygkZpcAJmfuYL6uw+ofwcsdVE/hzsEmiazQz0dnOcDbKfu75C8w1JLegZgg5ryg5oNghvPDVJ4V2Z6ZpCUd/LTzfIOS/MeHPM05td3BO/B8S5k/PqO43mOfSnr13csHxgYGBgYGNgDFxzc7xooNtDf78EA2B8ABamD9gcgdHcFABTk3QeEJPY5GjpgGAMYzgKXloGBgYGBgYERultAaC9E4s3XP9Ldwkij/xzAiEz9l6IDXL3md2cHMLKPTAAY3XpR1+/dMSAa3fpHvn5Gl6MDrH4y9V+CDsjWf1nOApn6L+F1gNV/F48BB4BR+zUwcIfzP/8S/ZOlvFfuAAAAAElFTkSuQmCC";
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABDlBMVEV3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diB3diBVLkeJAAAAWnRSTlMAGf8QMwQIUL+CmS8iVXFAZmAaEzLMDSE8FkJISyAeWiMnMVMshTSHgMNqyM/GOEUcvLi+fKu1pYyqqK0fsin9AZ5RJO8KBgIDj6JilEqgr23fnEdjP29/kWiyI5UtAAAM80lEQVR4Aezb3XLzOgiFYXh8//e8T8MwQeNJ8yXd5T2zF8RiCfm3jWVZvoGUf7x+X+6AfLnEUZRkCZYf7EBQAsgoEFVNilpJ2gFafgkmP9eBoM1R2cEwg0GM6WDqh5ryXur4hxIGPZFD9vTrDbIe8e2QY4FtCsF5DU0dMAygdsCn6EM8d/AQkBzsJUsw+XeuApHIGiz3RmhZlmVZluVP3Anmd92Igbojh4IAg1/z+4CkZqSQn3wjld2AFlC3kM/9St2AHB8eg/yn9ZOnEQ9yIge/Zj8bCMS/AjD3rCzi+X1ATn4W9YMdMJDe+T4gT0sw5F4FlmVZlmVZ/gTiFcBLv++zBQTmHWdxxr3jw/AD5gOcM6DKekhN17SCvmkcjfPx53oMcjg4xslAoYp127GDWoIq3jo+0PWyY5CBuYJz+hCibAM1gBoOxg4yWzS3MCd/e8Xm9HkA5yPcKu+4xmFqQdz7RRwbuoA754CjKl7EV+eDWJZlWZZl6SQZL8EPDwCiMGhADMxqcm8A0WCOqsB5AOpnJVmlETk9QItIs4H9KPPxiRgLKDjPINQPi2TVpg4iRwOS4/hbyOQAY/2aaM5HKP485Ii5g4Dw1GB9jzgPQFefOoyInt/1nt9l9AEPBaLqCXnHAIwvJLSAs8ywCoie3pfAcIiYlkCSd5YAotKPbziJ6QU0mGYwCql/oTcbkIf3AWlegtGQ8xzNcnSMazgOmA2oAL/0RmRZlmVZFvFO0nxh1jMQPwhixhD+KknfQ471F9fcnjLT92q9YAb9VYBse0otqn4qFlOAsk8NYjKkhb+O6kArkYwoOodbbSEMMyY6ouaq6W80IOlFKTqYO0AUjLro0VqFY7AftCD1ESo6eD7jJgN6hhBTfjeg63jbpUAGGRVyeofZChJDAN2fgyFdf+OVFtnkvPP0aqh/WC+DQ3uf87Usy7Isy+V/dB2m32vqm7xWv4xPM39nokzxaAC44ubdXn5rB4Ty99iIy+XBII9Jl7g8bHP8lwPA91Sve1D0yxVqfISHyi4Rarpnn6PTdxkAYDCotHczoE+xkl/3JX0JfHsHtHhQDXrWAUCohgsZv+Uc0Ka3J7vC1c8BPb6v/++/CqAEUOMvMJhateTX3Qeccb3wGaLwXzvnwaa20YXRlzMTiVjrFWIDqTgxaZveeyW99/r//8gHLPfR6D4eHtnhw2V1th5U75urkRSLvRvJ1z8wMDAwMBABonpzX7HmPh2JEhiX2sP9ACgLV2BfidFPjmaZ+lVBpTaB6Fd/ApzIuxfj6g63gJXEaV2XbLFAoPRXSUzIXsw2kS1Np16I3jsrdHuT7HVRURRURfbfCg0ZZl0xYHKjLdoL1HUdLnCBjDsBJAlQbMB1gAUAmq4R7Nw6gEwAFBdgAVCcnT1AGsBsNhPKAgIv+QBOOgES1rDFAhlZIO0OdgOfb8h1ACXJDwkbA8wR3T2eAzBvAzh78OShTgAPP/ywyHSgc/eCC8DqfyQNAOgEMAr4iDYgg4c3ZDtgWiJRTtm5FCFK5gQgQLq6DbSHwKOPpofATEVRaCaDuPm4lQCs/quPPZIPYOReEKPRaDoaIYPFYpEfA5hOSyinaQBSGkAEYhLANYBr1+yFs4tB8MyVA/kAkA9ALoDH1SqT5ipQ5wLwG+SJLcjg+vXrUGQ7IE7LchrbAC48H8D1C9CWUcWDVbWkGnUCiEI7eHL7IQMofACFC4BOB0ys/kwALvCntriWK4pcB8TplkjGKYGSzjFZVdhZoGJHle0AC6D/IQDd7UEtHwCxuz13HcD9ysCV/qdB2x8moBailS9h0HfQa9LN+xdcAJZArcMRY7Ml6pbB6u8HALp1Tqg1MDAwMHBpePpp7SVAUB6QQPuJRO14BoBnTEsgvceecMHE3Z6d9HDjWVBKXWsPc5irS9M0af0xEszGBXBelcnNzgQmV9j71GYEkvqVJACTDZC/n6eqql5ugNSY1AQIWAYBJppAkPEcPOfqB5pFWz+0CeCfDse7eH79cUpav0piMr8gWzB6QS/qJSGDSqjquLo+L+aJq4Gmye0gwKT1CfiOU0kTaMyIAJFcAP52GL187ZVXH7tWJvVTKqpvAK/x+vrjjbRAoHL+VOqFispf+2Ia2BJuvL2nTZNxYMxpQxO05UpkS7ySC0ACKXFOeZOnSesnqncAektv653CXNeTDjBX6q4DGjrX+jUgAfWNt/cuW96VsVi4eweIEaQeAVgHPP7E+sPVb4C/Hw+EEFp/j/fXHx+Yj0iOcfMHnNt0O37XPJEJINDtCN3o3mnPKE9RagHUuQAiO1z9bnsugMQ/fPvh8cMffbzzKTtOerjVL8MdAuZOn3uu9U3vM94XgBxIIUgoA1j96VkQnkkDkHKHBPCUjD4uV7/Y0UkkyHjlk4k0+eQVC4DThrBneeSY4AdROrO5+v11gP/f3t5hJKOPN77+5DRohLTC+qrWXK3lOihHpbuQulYv7BrodjIwMDAwUEItowa4Ls+nMgT6f1IBVNoDoFsmsJK0IsjQObQJPMJnn33+OR8nu3O6qX+LpOVjvPwyjy0zz1uU7Cid+xfK3L8rVIzL8otOAvBfAmioVNGYAiut/NX4AnO+3PCVqViVVGrczY27O0UG7heCgb1OjBEhmwF1brYYSyu+4GABAA1gugK2X90GaAP4+ptPP/3ma1NRirqBRrkAOo+MoEgUtAHolPRtLECcTCAJ4NXpmnSDK1ZlNgCMXLlG55CiUppAWn+gG8CnG05M9S0whsY9QIE53eUpgGQGQoBSizYAbQNIWqVaLquqSgJYsVKJrygXQEZBylxur1z9kXQMeJ+TNXwro647yzPfH8AZcAZn5uEcKFkEbrz/kVdfnb665Fw7+IKVND5cAL4DvgPguW79jYxqtWUhc9cwhDCfzzsBdI75xZoP159081llx4DlcnMAIKPii7IcUx16DEjrX7UJEKEOSlgCLGSwOuU8SQBJZ8mwF+kG8NRTu0/XINkxoIzL5ZIl2dPg4c8Cz+k5wJRaXVaTybutUYs6tAnQ+WG/nogbnwZZGJkxgHIDS5QHDnod8Jyk5wi2rigHQBIHfBEU4FOb+v3LI9EJ4GSNvVBEYiQWutnrgDuHsx9+OEu0OQ2SwqfBjzn+ycnDMDAwMFCWifz4E8BPP+ry8DP8LOMXdvyiy8KjAI/af38ACeBHGTNmSvgVqOWodShmAMyO2QAhYC3wWxvAb33+9pVRU2fuheyFvDOLm7r9+o/YABLWAiTkrwQD+Pqh3v/gZuK/F7+bZx8FPeoIEALWAgD4fZgw8fWPZdRWf6YcQRMakMHvkn7vzDC7jQHU7KjzAVh/G/BiSKZZ/dkAQqdlKCQV5oALIDKbzYg6Em3B+QA8kNQPVv+BOuC4g2ANEAJWww9tAD/4DsivwKYfZAwwPQ5+0HsFg1eyg6CpG/8OdRaQ0NGYscOa7g/TP5QfA5D81HvnDwz++S3At38Of2FxYGBgYGDgKNR4PSaM6x7vkDgkV674+vF6TACLwAdg8YR0hnocNt/o5jcxZ3IxU/72toZaXUdeqXUswCLwASTxYDtUw7Y8P0MSgE3PBdBVMO8qxw0AJtkAYCwBO5XGgJ8hCcCmG2Qrzivinu0AUs8r9+4Y4MmPAffmWYAtd8ZZYLgOGBgYGBgYoNElJvwl/v4wSAZwHi5R/YzF3zVBRlV/C5UcZP7+QX+/Q1nxj/hbrJQQxvgE8D/jTfsdSeBF6e9aL7YtAKuFxhdu0BZSzItivv5g5/P2eXZzul5QYH7HETnXhnOidlQNLAKnmQCmG0bTkRU4YjTavIBNZ8ra0+lMsel3ZgdI1gHtuLCiW74pH19AvGm/MxnTSGoYywCVLEoXwD07CFbw4vmLUKUBiLqmWz66V6l+Bn6udBkZGBgYGLD3B/R1/xBVf/frO47n8e8P6Of+Mbr+7td3BO/Bjxj82MPdg5Q35359x/D9+PcHmEPqfwj0x85/ABAAP5iDd2Wm2/rd9uSdvdNnklLHO6CN98E/HE2LufTHHxLQc36bnnek/HTT1P1PpNT//fff1AFpCX0DsF/IOH9If7gdFvn5kS8oM78PoO/+CNjny239BwygkZpcAJmfuYL6uw+ofwcsdVE/hzsEmiazQz0dnOcDbKfu75C8w1JLegZgg5ryg5oNghvPDVJ4V2Z6ZpCUd/LTzfIOS/MeHPM05td3BO/B8S5k/PqO43mOfSnr13csHxgYGBgYGNgDFxzc7xooNtDf78EA2B8ABamD9gcgdHcFABTk3QeEJPY5GjpgGAMYzgKXloGBgYGBgYERultAaC9E4s3XP9Ldwkij/xzAiEz9l6IDXL3md2cHMLKPTAAY3XpR1+/dMSAa3fpHvn5Gl6MDrH4y9V+CDsjWf1nOApn6L+F1gNV/F48BB4BR+zUwcIfzP/8S/ZOlvFfuAAAAAElFTkSuQmCC";
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABDlBMVEXMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADMAADP1XLPAAAAWnRSTlMAGf8QMwQIUL+CmS8iVXFAZmAaEzLMDSE8FkJISyAeWiMnMVMshTSHgMNqyM/GOEUcvLi+fKu1pYyqqK0fsin9AZ5RJO8KBgIDj6JilEqgr23fnEdjP29/kWiyI5UtAAAM80lEQVR4Aezb3XLzOgiFYXh8//e8T8MwQeNJ8yXd5T2zF8RiCfm3jWVZvoGUf7x+X+6AfLnEUZRkCZYf7EBQAsgoEFVNilpJ2gFafgkmP9eBoM1R2cEwg0GM6WDqh5ryXur4hxIGPZFD9vTrDbIe8e2QY4FtCsF5DU0dMAygdsCn6EM8d/AQkBzsJUsw+XeuApHIGiz3RmhZlmVZluVP3Anmd92Igbojh4IAg1/z+4CkZqSQn3wjld2AFlC3kM/9St2AHB8eg/yn9ZOnEQ9yIge/Zj8bCMS/AjD3rCzi+X1ATn4W9YMdMJDe+T4gT0sw5F4FlmVZlmVZ/gTiFcBLv++zBQTmHWdxxr3jw/AD5gOcM6DKekhN17SCvmkcjfPx53oMcjg4xslAoYp127GDWoIq3jo+0PWyY5CBuYJz+hCibAM1gBoOxg4yWzS3MCd/e8Xm9HkA5yPcKu+4xmFqQdz7RRwbuoA754CjKl7EV+eDWJZlWZZl6SQZL8EPDwCiMGhADMxqcm8A0WCOqsB5AOpnJVmlETk9QItIs4H9KPPxiRgLKDjPINQPi2TVpg4iRwOS4/hbyOQAY/2aaM5HKP485Ii5g4Dw1GB9jzgPQFefOoyInt/1nt9l9AEPBaLqCXnHAIwvJLSAs8ywCoie3pfAcIiYlkCSd5YAotKPbziJ6QU0mGYwCql/oTcbkIf3AWlegtGQ8xzNcnSMazgOmA2oAL/0RmRZlmVZFvFO0nxh1jMQPwhixhD+KknfQ471F9fcnjLT92q9YAb9VYBse0otqn4qFlOAsk8NYjKkhb+O6kArkYwoOodbbSEMMyY6ouaq6W80IOlFKTqYO0AUjLro0VqFY7AftCD1ESo6eD7jJgN6hhBTfjeg63jbpUAGGRVyeofZChJDAN2fgyFdf+OVFtnkvPP0aqh/WC+DQ3uf87Usy7Isy+V/dB2m32vqm7xWv4xPM39nokzxaAC44ubdXn5rB4Ty99iIy+XBII9Jl7g8bHP8lwPA91Sve1D0yxVqfISHyi4Rarpnn6PTdxkAYDCotHczoE+xkl/3JX0JfHsHtHhQDXrWAUCohgsZv+Uc0Ka3J7vC1c8BPb6v/++/CqAEUOMvMJhateTX3Qeccb3wGaLwXzvnwaa20YXRlzMTiVjrFWIDqTgxaZveeyW99/r//8gHLPfR6D4eHtnhw2V1th5U75urkRSLvRvJ1z8wMDAwMBABonpzX7HmPh2JEhiX2sP9ACgLV2BfidFPjmaZ+lVBpTaB6Fd/ApzIuxfj6g63gJXEaV2XbLFAoPRXSUzIXsw2kS1Np16I3jsrdHuT7HVRURRURfbfCg0ZZl0xYHKjLdoL1HUdLnCBjDsBJAlQbMB1gAUAmq4R7Nw6gEwAFBdgAVCcnT1AGsBsNhPKAgIv+QBOOgES1rDFAhlZIO0OdgOfb8h1ACXJDwkbA8wR3T2eAzBvAzh78OShTgAPP/ywyHSgc/eCC8DqfyQNAOgEMAr4iDYgg4c3ZDtgWiJRTtm5FCFK5gQgQLq6DbSHwKOPpofATEVRaCaDuPm4lQCs/quPPZIPYOReEKPRaDoaIYPFYpEfA5hOSyinaQBSGkAEYhLANYBr1+yFs4tB8MyVA/kAkA9ALoDH1SqT5ipQ5wLwG+SJLcjg+vXrUGQ7IE7LchrbAC48H8D1C9CWUcWDVbWkGnUCiEI7eHL7IQMofACFC4BOB0ys/kwALvCntriWK4pcB8TplkjGKYGSzjFZVdhZoGJHle0AC6D/IQDd7UEtHwCxuz13HcD9ysCV/qdB2x8moBailS9h0HfQa9LN+xdcAJZArcMRY7Ml6pbB6u8HALp1Tqg1MDAwMHBpePpp7SVAUB6QQPuJRO14BoBnTEsgvceecMHE3Z6d9HDjWVBKXWsPc5irS9M0af0xEszGBXBelcnNzgQmV9j71GYEkvqVJACTDZC/n6eqql5ugNSY1AQIWAYBJppAkPEcPOfqB5pFWz+0CeCfDse7eH79cUpav0piMr8gWzB6QS/qJSGDSqjquLo+L+aJq4Gmye0gwKT1CfiOU0kTaMyIAJFcAP52GL187ZVXH7tWJvVTKqpvAK/x+vrjjbRAoHL+VOqFispf+2Ia2BJuvL2nTZNxYMxpQxO05UpkS7ySC0ACKXFOeZOnSesnqncAektv653CXNeTDjBX6q4DGjrX+jUgAfWNt/cuW96VsVi4eweIEaQeAVgHPP7E+sPVb4C/Hw+EEFp/j/fXHx+Yj0iOcfMHnNt0O37XPJEJINDtCN3o3mnPKE9RagHUuQAiO1z9bnsugMQ/fPvh8cMffbzzKTtOerjVL8MdAuZOn3uu9U3vM94XgBxIIUgoA1j96VkQnkkDkHKHBPCUjD4uV7/Y0UkkyHjlk4k0+eQVC4DThrBneeSY4AdROrO5+v11gP/f3t5hJKOPN77+5DRohLTC+qrWXK3lOihHpbuQulYv7BrodjIwMDAwUEItowa4Ls+nMgT6f1IBVNoDoFsmsJK0IsjQObQJPMJnn33+OR8nu3O6qX+LpOVjvPwyjy0zz1uU7Cid+xfK3L8rVIzL8otOAvBfAmioVNGYAiut/NX4AnO+3PCVqViVVGrczY27O0UG7heCgb1OjBEhmwF1brYYSyu+4GABAA1gugK2X90GaAP4+ptPP/3ma1NRirqBRrkAOo+MoEgUtAHolPRtLECcTCAJ4NXpmnSDK1ZlNgCMXLlG55CiUppAWn+gG8CnG05M9S0whsY9QIE53eUpgGQGQoBSizYAbQNIWqVaLquqSgJYsVKJrygXQEZBylxur1z9kXQMeJ+TNXwro647yzPfH8AZcAZn5uEcKFkEbrz/kVdfnb665Fw7+IKVND5cAL4DvgPguW79jYxqtWUhc9cwhDCfzzsBdI75xZoP159081llx4DlcnMAIKPii7IcUx16DEjrX7UJEKEOSlgCLGSwOuU8SQBJZ8mwF+kG8NRTu0/XINkxoIzL5ZIl2dPg4c8Cz+k5wJRaXVaTybutUYs6tAnQ+WG/nogbnwZZGJkxgHIDS5QHDnod8Jyk5wi2rigHQBIHfBEU4FOb+v3LI9EJ4GSNvVBEYiQWutnrgDuHsx9+OEu0OQ2SwqfBjzn+ycnDMDAwMFCWifz4E8BPP+ry8DP8LOMXdvyiy8KjAI/af38ACeBHGTNmSvgVqOWodShmAMyO2QAhYC3wWxvAb33+9pVRU2fuheyFvDOLm7r9+o/YABLWAiTkrwQD+Pqh3v/gZuK/F7+bZx8FPeoIEALWAgD4fZgw8fWPZdRWf6YcQRMakMHvkn7vzDC7jQHU7KjzAVh/G/BiSKZZ/dkAQqdlKCQV5oALIDKbzYg6Em3B+QA8kNQPVv+BOuC4g2ANEAJWww9tAD/4DsivwKYfZAwwPQ5+0HsFg1eyg6CpG/8OdRaQ0NGYscOa7g/TP5QfA5D81HvnDwz++S3At38Of2FxYGBgYGDgKNR4PSaM6x7vkDgkV674+vF6TACLwAdg8YR0hnocNt/o5jcxZ3IxU/72toZaXUdeqXUswCLwASTxYDtUw7Y8P0MSgE3PBdBVMO8qxw0AJtkAYCwBO5XGgJ8hCcCmG2Qrzivinu0AUs8r9+4Y4MmPAffmWYAtd8ZZYLgOGBgYGBgYoNElJvwl/v4wSAZwHi5R/YzF3zVBRlV/C5UcZP7+QX+/Q1nxj/hbrJQQxvgE8D/jTfsdSeBF6e9aL7YtAKuFxhdu0BZSzItivv5g5/P2eXZzul5QYH7HETnXhnOidlQNLAKnmQCmG0bTkRU4YjTavIBNZ8ra0+lMsel3ZgdI1gHtuLCiW74pH19AvGm/MxnTSGoYywCVLEoXwD07CFbw4vmLUKUBiLqmWz66V6l+Bn6udBkZGBgYGLD3B/R1/xBVf/frO47n8e8P6Of+Mbr+7td3BO/Bjxj82MPdg5Q35359x/D9+PcHmEPqfwj0x85/ABAAP5iDd2Wm2/rd9uSdvdNnklLHO6CN98E/HE2LufTHHxLQc36bnnek/HTT1P1PpNT//fff1AFpCX0DsF/IOH9If7gdFvn5kS8oM78PoO/+CNjny239BwygkZpcAJmfuYL6uw+ofwcsdVE/hzsEmiazQz0dnOcDbKfu75C8w1JLegZgg5ryg5oNghvPDVJ4V2Z6ZpCUd/LTzfIOS/MeHPM05td3BO/B8S5k/PqO43mOfSnr13csHxgYGBgYGNgDFxzc7xooNtDf78EA2B8ABamD9gcgdHcFABTk3QeEJPY5GjpgGAMYzgKXloGBgYGBgYERultAaC9E4s3XP9Ldwkij/xzAiEz9l6IDXL3md2cHMLKPTAAY3XpR1+/dMSAa3fpHvn5Gl6MDrH4y9V+CDsjWf1nOApn6L+F1gNV/F48BB4BR+zUwcIfzP/8S/ZOlvFfuAAAAAElFTkSuQmCC";
  },
  function (e, t) {
    e.exports =
      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABDlBMVEV3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3czPLQ+AAAAWnRSTlMAGf8QMwQIUL+CmS8iVXFAZmAaEzLMDSE8FkJISyAeWiMnMVMshTSHgMNqyM/GOEUcvLi+fKu1pYyqqK0fsin9AZ5RJO8KBgIDj6JilEqgr23fnEdjP29/kWiyI5UtAAAM80lEQVR4Aezb3XLzOgiFYXh8//e8T8MwQeNJ8yXd5T2zF8RiCfm3jWVZvoGUf7x+X+6AfLnEUZRkCZYf7EBQAsgoEFVNilpJ2gFafgkmP9eBoM1R2cEwg0GM6WDqh5ryXur4hxIGPZFD9vTrDbIe8e2QY4FtCsF5DU0dMAygdsCn6EM8d/AQkBzsJUsw+XeuApHIGiz3RmhZlmVZluVP3Anmd92Igbojh4IAg1/z+4CkZqSQn3wjld2AFlC3kM/9St2AHB8eg/yn9ZOnEQ9yIge/Zj8bCMS/AjD3rCzi+X1ATn4W9YMdMJDe+T4gT0sw5F4FlmVZlmVZ/gTiFcBLv++zBQTmHWdxxr3jw/AD5gOcM6DKekhN17SCvmkcjfPx53oMcjg4xslAoYp127GDWoIq3jo+0PWyY5CBuYJz+hCibAM1gBoOxg4yWzS3MCd/e8Xm9HkA5yPcKu+4xmFqQdz7RRwbuoA754CjKl7EV+eDWJZlWZZl6SQZL8EPDwCiMGhADMxqcm8A0WCOqsB5AOpnJVmlETk9QItIs4H9KPPxiRgLKDjPINQPi2TVpg4iRwOS4/hbyOQAY/2aaM5HKP485Ii5g4Dw1GB9jzgPQFefOoyInt/1nt9l9AEPBaLqCXnHAIwvJLSAs8ywCoie3pfAcIiYlkCSd5YAotKPbziJ6QU0mGYwCql/oTcbkIf3AWlegtGQ8xzNcnSMazgOmA2oAL/0RmRZlmVZFvFO0nxh1jMQPwhixhD+KknfQ471F9fcnjLT92q9YAb9VYBse0otqn4qFlOAsk8NYjKkhb+O6kArkYwoOodbbSEMMyY6ouaq6W80IOlFKTqYO0AUjLro0VqFY7AftCD1ESo6eD7jJgN6hhBTfjeg63jbpUAGGRVyeofZChJDAN2fgyFdf+OVFtnkvPP0aqh/WC+DQ3uf87Usy7Isy+V/dB2m32vqm7xWv4xPM39nokzxaAC44ubdXn5rB4Ty99iIy+XBII9Jl7g8bHP8lwPA91Sve1D0yxVqfISHyi4Rarpnn6PTdxkAYDCotHczoE+xkl/3JX0JfHsHtHhQDXrWAUCohgsZv+Uc0Ka3J7vC1c8BPb6v/++/CqAEUOMvMJhateTX3Qeccb3wGaLwXzvnwaa20YXRlzMTiVjrFWIDqTgxaZveeyW99/r//8gHLPfR6D4eHtnhw2V1th5U75urkRSLvRvJ1z8wMDAwMBABonpzX7HmPh2JEhiX2sP9ACgLV2BfidFPjmaZ+lVBpTaB6Fd/ApzIuxfj6g63gJXEaV2XbLFAoPRXSUzIXsw2kS1Np16I3jsrdHuT7HVRURRURfbfCg0ZZl0xYHKjLdoL1HUdLnCBjDsBJAlQbMB1gAUAmq4R7Nw6gEwAFBdgAVCcnT1AGsBsNhPKAgIv+QBOOgES1rDFAhlZIO0OdgOfb8h1ACXJDwkbA8wR3T2eAzBvAzh78OShTgAPP/ywyHSgc/eCC8DqfyQNAOgEMAr4iDYgg4c3ZDtgWiJRTtm5FCFK5gQgQLq6DbSHwKOPpofATEVRaCaDuPm4lQCs/quPPZIPYOReEKPRaDoaIYPFYpEfA5hOSyinaQBSGkAEYhLANYBr1+yFs4tB8MyVA/kAkA9ALoDH1SqT5ipQ5wLwG+SJLcjg+vXrUGQ7IE7LchrbAC48H8D1C9CWUcWDVbWkGnUCiEI7eHL7IQMofACFC4BOB0ys/kwALvCntriWK4pcB8TplkjGKYGSzjFZVdhZoGJHle0AC6D/IQDd7UEtHwCxuz13HcD9ysCV/qdB2x8moBailS9h0HfQa9LN+xdcAJZArcMRY7Ml6pbB6u8HALp1Tqg1MDAwMHBpePpp7SVAUB6QQPuJRO14BoBnTEsgvceecMHE3Z6d9HDjWVBKXWsPc5irS9M0af0xEszGBXBelcnNzgQmV9j71GYEkvqVJACTDZC/n6eqql5ugNSY1AQIWAYBJppAkPEcPOfqB5pFWz+0CeCfDse7eH79cUpav0piMr8gWzB6QS/qJSGDSqjquLo+L+aJq4Gmye0gwKT1CfiOU0kTaMyIAJFcAP52GL187ZVXH7tWJvVTKqpvAK/x+vrjjbRAoHL+VOqFispf+2Ia2BJuvL2nTZNxYMxpQxO05UpkS7ySC0ACKXFOeZOnSesnqncAektv653CXNeTDjBX6q4DGjrX+jUgAfWNt/cuW96VsVi4eweIEaQeAVgHPP7E+sPVb4C/Hw+EEFp/j/fXHx+Yj0iOcfMHnNt0O37XPJEJINDtCN3o3mnPKE9RagHUuQAiO1z9bnsugMQ/fPvh8cMffbzzKTtOerjVL8MdAuZOn3uu9U3vM94XgBxIIUgoA1j96VkQnkkDkHKHBPCUjD4uV7/Y0UkkyHjlk4k0+eQVC4DThrBneeSY4AdROrO5+v11gP/f3t5hJKOPN77+5DRohLTC+qrWXK3lOihHpbuQulYv7BrodjIwMDAwUEItowa4Ls+nMgT6f1IBVNoDoFsmsJK0IsjQObQJPMJnn33+OR8nu3O6qX+LpOVjvPwyjy0zz1uU7Cid+xfK3L8rVIzL8otOAvBfAmioVNGYAiut/NX4AnO+3PCVqViVVGrczY27O0UG7heCgb1OjBEhmwF1brYYSyu+4GABAA1gugK2X90GaAP4+ptPP/3ma1NRirqBRrkAOo+MoEgUtAHolPRtLECcTCAJ4NXpmnSDK1ZlNgCMXLlG55CiUppAWn+gG8CnG05M9S0whsY9QIE53eUpgGQGQoBSizYAbQNIWqVaLquqSgJYsVKJrygXQEZBylxur1z9kXQMeJ+TNXwro647yzPfH8AZcAZn5uEcKFkEbrz/kVdfnb665Fw7+IKVND5cAL4DvgPguW79jYxqtWUhc9cwhDCfzzsBdI75xZoP159081llx4DlcnMAIKPii7IcUx16DEjrX7UJEKEOSlgCLGSwOuU8SQBJZ8mwF+kG8NRTu0/XINkxoIzL5ZIl2dPg4c8Cz+k5wJRaXVaTybutUYs6tAnQ+WG/nogbnwZZGJkxgHIDS5QHDnod8Jyk5wi2rigHQBIHfBEU4FOb+v3LI9EJ4GSNvVBEYiQWutnrgDuHsx9+OEu0OQ2SwqfBjzn+ycnDMDAwMFCWifz4E8BPP+ry8DP8LOMXdvyiy8KjAI/af38ACeBHGTNmSvgVqOWodShmAMyO2QAhYC3wWxvAb33+9pVRU2fuheyFvDOLm7r9+o/YABLWAiTkrwQD+Pqh3v/gZuK/F7+bZx8FPeoIEALWAgD4fZgw8fWPZdRWf6YcQRMakMHvkn7vzDC7jQHU7KjzAVh/G/BiSKZZ/dkAQqdlKCQV5oALIDKbzYg6Em3B+QA8kNQPVv+BOuC4g2ANEAJWww9tAD/4DsivwKYfZAwwPQ5+0HsFg1eyg6CpG/8OdRaQ0NGYscOa7g/TP5QfA5D81HvnDwz++S3At38Of2FxYGBgYGDgKNR4PSaM6x7vkDgkV674+vF6TACLwAdg8YR0hnocNt/o5jcxZ3IxU/72toZaXUdeqXUswCLwASTxYDtUw7Y8P0MSgE3PBdBVMO8qxw0AJtkAYCwBO5XGgJ8hCcCmG2Qrzivinu0AUs8r9+4Y4MmPAffmWYAtd8ZZYLgOGBgYGBgYoNElJvwl/v4wSAZwHi5R/YzF3zVBRlV/C5UcZP7+QX+/Q1nxj/hbrJQQxvgE8D/jTfsdSeBF6e9aL7YtAKuFxhdu0BZSzItivv5g5/P2eXZzul5QYH7HETnXhnOidlQNLAKnmQCmG0bTkRU4YjTavIBNZ8ra0+lMsel3ZgdI1gHtuLCiW74pH19AvGm/MxnTSGoYywCVLEoXwD07CFbw4vmLUKUBiLqmWz66V6l+Bn6udBkZGBgYGLD3B/R1/xBVf/frO47n8e8P6Of+Mbr+7td3BO/Bjxj82MPdg5Q35359x/D9+PcHmEPqfwj0x85/ABAAP5iDd2Wm2/rd9uSdvdNnklLHO6CN98E/HE2LufTHHxLQc36bnnek/HTT1P1PpNT//fff1AFpCX0DsF/IOH9If7gdFvn5kS8oM78PoO/+CNjny239BwygkZpcAJmfuYL6uw+ofwcsdVE/hzsEmiazQz0dnOcDbKfu75C8w1JLegZgg5ryg5oNghvPDVJ4V2Z6ZpCUd/LTzfIOS/MeHPM05td3BO/B8S5k/PqO43mOfSnr13csHxgYGBgYGNgDFxzc7xooNtDf78EA2B8ABamD9gcgdHcFABTk3QeEJPY5GjpgGAMYzgKXloGBgYGBgYERultAaC9E4s3XP9Ldwkij/xzAiEz9l6IDXL3md2cHMLKPTAAY3XpR1+/dMSAa3fpHvn5Gl6MDrH4y9V+CDsjWf1nOApn6L+F1gNV/F48BB4BR+zUwcIfzP/8S/ZOlvFfuAAAAAElFTkSuQmCC";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.core", []);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.core").constant("GLOBALDEFAULTCONF", {
      test: { active: !1 },
      debugAllModules: !0,
      debugConf: { log: !0, info: !0, warn: !0, debug: !0 },
      modules: { interface: { active: !0 } },
      configUrl: "./config/config.json",
      dataUrl: "",
      logoUrl: "",
      enableXMLdownload: !0,
      sourcesUrl: "",
      sourcesTextsUrl: "",
      visCollSvg: "",
      analoguesUrl: "",
      visCollTextUrl: "",
      visCollImageList: "",
      visCollStyleUrl: "",
      visCollDataModel: "",
      preferredWitness: "A",
      skipWitnesses: "",
      indexTitle: "EVT Critical Viewer",
      webSite: "",
      editionType: "critical",
      defaultEdition: "critical",
      showEditionLevelSelector: !0,
      availableEditionLevel: [
        {
          value: "critical",
          label: "Critical",
          title: "Critical edition",
          visible: !0,
        },
        {
          value: "diplomatic",
          label: "Diplomatic",
          title: "Diplomatic edition",
          visible: !0,
        },
        {
          value: "interpretative",
          label: "Interpretative",
          title: "Interpretative edition",
          visible: !0,
        },
      ],
      showDocumentSelector: !0,
      defaultViewMode: "readingTxt",
      availableViewModes: [
        {
          label: "READING_TEXT",
          icon: "reading-txt",
          viewMode: "readingTxt",
          visible: !0,
        },
        {
          label: "MULTIPLE_RECENSIONS",
          icon: "mode-versions",
          viewMode: "versions",
          visible: !0,
        },
        {
          label: "IMAGE_TEXT",
          icon: "mode-imgTxt",
          viewMode: "imgTxt",
          visible: !0,
        },
        {
          label: "TEXT_TEXT",
          icon: "mode-txtTxt",
          viewMode: "txtTxt",
          visible: !1,
        },
        {
          label: "COLLATION",
          icon: "mode-collation",
          viewMode: "collation",
          visible: !0,
        },
        {
          label: "SOURCE_TEXT",
          icon: "mode-srcTxt",
          viewMode: "srcTxt",
          visible: !0,
        },
        { label: "3DHOP", icon: "mode-tdhop", viewMode: "tdhop", visible: !0 },
      ],
      toolHeatMap: !0,
      toolPinAppEntries: !1,
      toolImageTextLinking: !0,
      viscollButton: !1,
      thumbnailsButton: !0,
      listDef: "<listWit>, <listChange>",
      versionDef: "<witness>, <change>",
      fragmentMilestone: "<witStart>, <witEnd>",
      lacunaMilestone: "<lacunaStart>, <lacunaEnd>",
      possibleVariantFilters: "type, cause, hand",
      possibleLemmaFilters: "resp, cert",
      notSignificantVariant: "<orig>, <sic>, [type=orthographic]",
      loadCriticalEntriesImmediately: !0,
      maxWitsLoadTogether: 5,
      versions: [],
      witnessesGroups: [
        { groupName: "Grp_1", witnesses: ["V", "P", "N", "M", "G", "C", "R"] },
        {
          groupName: "Grp_2",
          witnesses: ["F", "D", "O", "W", "M5mg", "B", "U"],
        },
      ],
      quoteDef: "<quote>",
      analogueDef: "<seg>,<ref[type=parallelPassage]>",
      showReadingExponent: !0,
      showInlineCriticalApparatus: !0,
      showInlineSources: !1,
      showInlineAnalogues: !1,
      variantColors: {},
      filterColors: {},
      genericColors: [
        "rgb(52, 197, 173)",
        "rgb(238, 194, 66)",
        "rgb(253, 153, 54)",
        "rgb(253, 95, 58)",
        "rgb(235, 77, 153)",
        "rgb(252, 144, 172)",
        "rgb(171, 99, 219)",
        "rgb(67, 135, 217)",
        "rgb(163, 207, 81)",
        "rgb(238, 194, 66)",
        "rgb(228, 99, 220)",
        "rgb(124, 113, 232)",
      ],
      variantColorLight: "rgb(208, 220, 255)",
      variantColorDark: "rgb(101, 138, 255)",
      heatmapColor: "rgb(255, 108, 63)",
      xsltUrl: "",
      defaultBibliographicStyle: "Chicago",
      allowedBibliographicStyles: {
        Chicago: { label: "Chicago", enabled: !0 },
        APA: { label: "APA", enabled: !1 },
        MLA: { label: "MLA", enabled: !0 },
      },
      bibliographicEntriesSortBy: {
        Author: "BIBLIOGRAPHY.AUTHOR",
        Year: "BIBLIOGRAPHY.YEAR",
        Title: "BIBLIOGRAPHY.TITLE",
        Publisher: "BIBLIOGRAPHY.PUBLISHER",
      },
      bibliographySortOrder: {
        ASC: "BIBLIOGRAPHY.ASC",
        DESC: "BIBLIOGRAPHY.DESC",
      },
      namedEntitiesSelector: !0,
      namedEntitiesToHandle: [],
      otherEntitiesToHandle: [],
      languages: ["en", "it"],
      showObjectSelector: !0,
      tdhopViewerOptions: {
        name: "Bewcastle",
        url: "data/3Dmodels/multires/bewcastle.nxz",
        mesh: "Bewcastle",
        toolHome: !0,
        toolZoomin: !0,
        toolZoomout: !0,
        toolLighting: !0,
        toolLightControl: !0,
        toolMeasure: !0,
        toolPickPoint: !0,
        toolPlaneSections: !0,
        toolSolidColor: !0,
        toolCamera: !0,
        toolFullScreen: !0,
      },
    });
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      angular.module("evtviewer.core").provider("Utils", function () {
        (this.deepExtend = function e(t, i) {
          for (var n in i)
            i[n] && i[n].constructor && i[n].constructor === Object
              ? ((t[n] = t[n] || {}), e(t[n], i[n]))
              : (t[n] = angular.copy(i[n]));
          return t;
        }),
          (this.deepExtendSkipDefault = function e(t, i) {
            for (var n in i)
              i[n] && i[n].constructor && i[n].constructor === Object
                ? ((t[n] = t[n] || {}), e(t[n], i[n]))
                : "dataUrl" === n
                  ? "" !== i[n] && (t[n] = angular.copy(i[n]))
                  : "NONE" === i[n] || "NULL" === i[n]
                    ? (t[n] = "")
                    : "" !== i[n] && (t[n] = angular.copy(i[n]));
            return t;
          }),
          (this.getElementsBetweenTree = function (e, t) {
            for (
              var i, n = this.getCommonAncestor(e, t), o = [];
              e.parentNode !== n;

            ) {
              for (i = e; i.nextSibling;) o.push((i = i.nextSibling));
              e = e.parentNode;
            }
            for (var r = []; t.parentNode !== n;) {
              for (i = t; i.previousSibling;) r.push((i = i.previousSibling));
              t = t.parentNode;
            }
            for (r.reverse(); (e = e.nextSibling) !== t;) o.push(e);
            return o.concat(r);
          }),
          (this.getCommonAncestor = function (t, i) {
            for (var n = e(t).parents().addBack(); i;) {
              if (-1 !== n.index(i)) return i;
              i = i.parentNode;
            }
            return null;
          }),
          (this.isNestedInElem = function (e, t) {
            return (
              !(
                null === e.parentNode ||
                void 0 === e.parentNode ||
                !e.parentNode.tagName
              ) &&
              "text" !== e.parentNode.tagName &&
              (e.parentNode.tagName.toLowerCase() === t.toLowerCase() ||
                this.isNestedInElem(e.parentNode, t))
            );
          }),
          (this.isNestedInClassElem = function (e, t) {
            return (
              !(
                null === e.parentNode ||
                void 0 === e.parentNode ||
                !e.parentNode.className
              ) &&
              "" !== e.parentNode.className &&
              (e.parentNode.className.indexOf(t) >= 0 ||
                this.isNestedInElem(e.parentNode, t))
            );
          });
        var t = function () {
          var e = Math.floor(256 * Math.random()).toString(16);
          return ("0" + String(e)).substr(-2);
        };
        (this.getRandomColor = function (e) {
          if ("hex" === e) return "#" + t() + t() + t();
          if ("rgb" === e) {
            var i = [
              256 * Math.random(),
              256 * Math.random(),
              256 * Math.random(),
            ],
              n = [255, 255, 255];
            return (
              "rgb(" +
              [i[0] + n[0], i[1] + n[1], i[2] + n[2]]
                .map(function (e) {
                  return Math.round(e / 2);
                })
                .join(",") +
              ")"
            );
          }
        }),
          (this.decodeHTMLEntities = function (e) {
            var t = document.createElement("div");
            return (
              e &&
              "string" == typeof e &&
              ((e = (e = e.replace(
                /<script[^>]*>([\S\s]*?)<\/script>/gim,
                ""
              )).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim, "")),
                (t.innerHTML = e),
                (e = t.textContent),
                (t.textContent = "")),
              (t = void 0),
              e
            );
          }),
          (this.cleanText = function (e) {
            return (e = this.cleanPunctuation(e)), (e = this.cleanSpace(e));
          }),
          (this.cleanSpace = function (e) {
            for (var t, i = /\s\s/; e.match(i);)
              (t = e.replace(i, " ")), (e = t);
            return " " === e.charAt(0) && (e = e.substring(1)), e;
          }),
          (this.cleanPunctuation = function (e) {
            for (var t, i = /[.,#!$%\^&\*;:{}\[\]\'\"=\-_`~()]/; e.match(i);)
              (t = e.replace(i, "")), (e = t);
            return e;
          }),
          (this.replaceStringAt = function (e, t, i, n, o) {
            return e.slice(0, n) + e.slice(n, o).replace(t, i) + e.slice(o);
          }),
          (this.$get = function () {
            return {
              deepExtend: this.deepExtend,
              deepExtendSkipDefault: this.deepExtendSkipDefault,
              getRandomColor: this.getRandomColor,
              cleanText: this.cleanText,
              cleanSpace: this.cleanSpace,
              cleanPunctuation: this.cleanPunctuation,
              replaceStringAt: this.replaceStringAt,
              DOMutils: {
                getElementsBetweenTree: this.getElementsBetweenTree,
                getCommonAncestor: this.getCommonAncestor,
                isNestedInElem: this.isNestedInElem,
                isNestedInClassElem: this.isNestedInClassElem,
                decodeHTMLEntities: this.decodeHTMLEntities,
              },
            };
          });
      });
    }.call(this, i(0)));
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.core")
      .constant("BASECONFIG", { debug: !1 })
      .provider("config", [
        "UtilsProvider",
        "GLOBALDEFAULTCONF",
        "BASECONFIG",
        function (e, t, i) {
          var n = {};
          e.deepExtend(n, t),
            void 0 !== window.globalConfig &&
            angular.isObject(window.globalConfig) &&
            e.deepExtend(n, window.globalConfig),
            void 0 === window.GLOBALCONFIG && (window.GLOBALCONFIG = n),
            (this.makeDefaults = function (t, o) {
              var r = angular.copy(i);
              return (
                void 0 !== o && e.deepExtend(r, o),
                void 0 !== n.modules[t] && e.deepExtend(r, n.modules[t]),
                (n.modules[t] = r),
                r
              );
            }),
            (this.isValid = function () {
              return !0;
            }),
            (this.isModuleActive = function (e) {
              return (
                angular.isObject(n.modules[e]) && !0 === n.modules[e].active
              );
            }),
            (this.extendDefault = function (t) {
              e.deepExtendSkipDefault(n, t);
            }),
            (this.$get = function () {
              return (
                (n.isValid = this.isValid),
                (n.isModuleActive = this.isModuleActive),
                (n.extendDefault = this.extendDefault),
                n
              );
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.core").run([
      "$log",
      "config",
      function (e, t) {
        function i(i, n, o) {
          return function () {
            var r,
              a = e.enabledContexts[o],
              s = t.modules[o];
            if (
              !1 !== t.debugConf[n] &&
              ((r =
                void 0 !== a
                  ? a
                  : void 0 !== s && void 0 !== s.debug && s.debug),
                !0 === t.debugAllModules || !0 === r)
            ) {
              var l = Array.prototype.slice.call(arguments);
              l.unshift("#" + o + "#"), i.apply(null, l);
            }
          };
        }
        function n(e, t) {
          return function () {
            var i = function () {
              try {
                throw Error("");
              } catch (e) {
                return e;
              }
            },
              n = i(),
              o = n.stack.split("\n")[4],
              r = Array.prototype.slice.call(arguments);
            r.unshift("#EVTViewer " + t + "#"), r.push(o), e.apply(null, r);
          };
        }
        (e.enabledContexts = []),
          (e.getInstance = function (t) {
            return {
              log: i(e.log, "log", t),
              info: i(e.info, "info", t),
              warn: i(e.warn, "warn", t),
              debug: i(e.debug, "debug", t),
              error: n(e.error, t),
              enableLogging: function (i) {
                e.enabledContexts[t] = i;
              },
            };
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.core").service("eventDispatcher", [
      "$q",
      function (e) {
        var t = {},
          i = {};
        return (
          (t.sendEvent = function (t, n) {
            var o,
              r,
              a = [],
              s = 0;
            return (
              i[t] &&
              angular.forEach(i[t], function (t) {
                void 0 !== t &&
                  ((r = {
                    args: n,
                    resolve: function (e) {
                      s < a.length && (a[s].resolve(e), s++);
                    },
                    reject: function (e) {
                      s < a.length && (a[s].reject(e), s++);
                    },
                  }),
                    a.push(e.defer()),
                    t.apply(null, [r]));
              }),
              (o = a.map(function (e) {
                return e.promise;
              })),
              e.all(o)
            );
          }),
          (t.addListener = function (e, t) {
            return i[e] || (i[e] = []), i[e].push(t), [e, t];
          }),
          (t.addListeners = function (e, i) {
            var n = [];
            for (var o in e) n.push(t.addListener(e[o], i));
            return n;
          }),
          (t.removeListener = function (e) {
            var t = e[0],
              n = e[1];
            i[t] &&
              angular.forEach(i[t], function (e, o) {
                e === n &&
                  (i[t].splice(o, 1), 0 === i[t].length && delete i[t]);
              });
          }),
          (t.getListeners = function () {
            var e = [];
            for (var t in i) e.push(t);
            return e;
          }),
          t
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.core").config([
      "$compileProvider",
      function (e) {
        e.directive("compile", [
          "$compile",
          function (e) {
            return function (t, i, n) {
              t.$watch(
                function (e) {
                  return e.$eval(n.compile);
                },
                function (n) {
                  i.html(n), e(i.contents())(t);
                }
              );
            };
          },
        ]);
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.core")
      .filter("capitalize", function () {
        return function (e, t) {
          var i = t ? /([^\W_]+[^\s-]*) */g : /([^\W_]+[^\s-]*)/;
          return e && e.replace
            ? e.replace(i, function (e) {
              return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase();
            })
            : "";
        };
      })
      .filter("camelToSpaces", function () {
        return function (e, t) {
          return e && e.replace
            ? e.replace(/\s+/g, " ").replace(/([a-z\d])([A-Z])/g, "$1 $2")
            : "";
        };
      })
      .filter("underscoresToSpaces", function () {
        return function (e, t) {
          return e && e.replace ? e.replace(/\_+/g, " ") : "";
        };
      })
      .filter("uppercase", function () {
        return function (e, t) {
          return e && e.toUpperCase ? e.toUpperCase() : "";
        };
      })
      .filter("stringtohtml", function () {
        return function (e, t) {
          return e && e.replace
            ? e.replace(/="[^"]+"/g, function (e) {
              return e.replace(/&lt;/g, "<").replace(/&gt;/g, ">");
            })
            : "";
        };
      })
      .filter("newLinesToSpaces", function () {
        return function (e) {
          return e.replace(/\n/g, " ");
        };
      })
      .filter("normalizeMultispaces", function () {
        return function (e) {
          return e.replace(/\s{2,}/g, " ");
        };
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.core")
      .constant("XPATH", {
        getLineNodes:
          ".//node()[self::lb or self::p or self::pb or self::head]",
        getParLineNodes:
          ".//node()[self::p or self:l or self::pb or self::head]",
        getPrevLb: "count(.//preceding::lb[ancestor::body])",
        getPrevBody: "count(.//preceding::body)",
        getPrevPb: "count(.//preceding::pb)",
        getDiplomaticNodes:
          ".//node()[self::lb or self::pb or self::g or self::text()][not((ancestor::corr or ancestor::reg or ancestor::expan or ancestor::ex))]",
        getDiplomaticChildNodes:
          ".//node()[self::g or self::pb or self::text()][not((ancestor::corr or ancestor::reg or ancestor::expan or ancestor::ex))]",
        getInterpretativeNodes:
          "//body//node()[self::lb or self::pb or self::g or self::text()][not(ancestor::sic or ancestor::orig or ancestor::abbr or ancestor::am)]",
        getInterpretativeChildNodes:
          ".//node()[self::g or self::pb or self::text()][not(ancestor::sic or ancestor::orig or ancestor::abbr or ancestor::am)]",
        getChildNodes: ".//node()[self::g or self::pb or self::text()]",
        getTextGlyphNodes:
          ".//node()[self::g or self::lb or self::pb or self::text()]",
        getGlyphNodes: ".//node()[self::g]",
        getCurrentTextNode: ".//ancestor::text[1]",
        ns: {
          getLineNodes:
            ".//node()[self::ns:lb or self::ns:p or self::ns:pb or self::ns:head]",
          getParLineNodes:
            ".//node()[self::ns:p or self::ns:l or self::ns:pb or self::ns:head]",
          getPrevLb: "count(.//preceding::ns:lb[ancestor::ns:body])",
          getPrevBody: "count(.//preceding::ns:body)",
          getPrevP: "count(.//preceding::ns:p)",
          getDiplomaticNodes:
            ".//node()[self::ns:lb or self::ns:pb or self::ns:g or self::text()][not((ancestor::ns:corr or ancestor::ns:reg or ancestor::ns:expan or ancestor::ns:ex))]",
          getDiplomaticChildNodes:
            ".//node()[self::ns:g or self::ns:pb or self::text()][not((ancestor::ns:corr or ancestor::ns:reg or ancestor::ns:expan or ancestor::ns:ex))]",
          getInterpretativeNodes:
            ".//node()[self::ns:lb or self::ns:pb or self::ns:g or self::text()][not(ancestor::ns:sic or ancestor::ns:orig or ancestor::ns:abbr or ancestor::ns:am)]",
          getInterpretativeChildNodes:
            ".//node()[self::ns:g or self::ns:pb or self::text()][not(ancestor::ns:sic or ancestor::ns:orig or ancestor::ns:abbr or ancestor::ns:am)]",
          getChildNodes: ".//node()[self::ns:g or self::ns:pb or self::text()]",
          getTextGlyphNodes:
            ".//node()[self::ns:g or self::ns:lb or self::ns:pb or self::text()]",
          getGlyphNodes: ".//node()[self::ns:g]",
          getCurrentTextNode: ".//ancestor::ns:text[1]",
        },
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler", []);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("baseData", [
      "$log",
      "$q",
      "$http",
      "config",
      "xmlParser",
      "evtParser",
      "evtCriticalApparatusParser",
      "evtSourcesParser",
      "evtProjectInfoParser",
      "evtPrimarySourcesParser",
      "evtAnaloguesParser",
      "evtDialog",
      "evtBibliographyParser",
      "evtNamedEntitiesParser",
      "evtHotSpotParser",
      "parsedData",
      function (e, t, i, n, o, r, a, s, l, c, u, d, p, h, f, g) {
        var m,
          v = {},
          b = {
            XMLDocuments: [],
            XMLExtDocuments: [],
            XMLSrcDocuments: [],
            XMLStrings: [],
          },
          y = e.getInstance("baseData"),
          x = {};
        (v.addXMLString = function (e) {
          var i = [];
          return i.push(w(e).promise), t.all(i);
        }),
          (v.getXML = function () {
            return m;
          }),
          (v.getXMLDocuments = function () {
            return b.XMLDocuments;
          }),
          (v.getXMLStrings = function () {
            return b.XMLStrings;
          });
        var w = function (e) {
          var i = t.defer();
          return (
            (e = e.replace(/<!--.*-->/gm, "")),
            "TEI" === (m = o.parse(e)).documentElement.nodeName
              ? (b.XMLStrings.push(e),
                A(m).promise.then(function () {
                  b.XMLDocuments.push(m),
                    _(m),
                    y.log("XML TEI parsed and stored ", b.XMLDocuments),
                    i.resolve("success");
                }))
              : (y.error("Something wrong with the XML"), i.resolve("success")),
            i
          );
        };
        (v.addXMLExtDocument = function (e, t) {
          var i = o.parse(e);
          try {
            b.XMLStrings.push(e),
              (b.XMLExtDocuments[t] = i),
              b.XMLExtDocuments.length++;
            r.parseExternalDocuments(i, t);
            y.log("External Files parsed and stored", b.XMLExtDocuments);
          } catch (e) {
            y.log("Something wrong with the supplementary XML files " + e);
          }
        }),
          (v.addXMLSrcDocument = function (e, t) {
            var i = o.parse(e);
            try {
              b.XMLStrings.push(e),
                (b.XMLSrcDocuments[t] = i),
                b.XMLSrcDocuments.length++;
              r.parseExternalDocuments(i, t);
              y.log("Source file parsed and stored", b.XMLSrcDocuments);
            } catch (e) {
              y.log("Something wrong with the supplementary XML files " + e);
            }
          }),
          (v.handleViscollSvg = function (e, t) {
            var i = o.parse(e);
            r.parseSvgsForViscoll(i, t);
          }),
          (v.addViscollDataModel = function (e) {
            var t = o.parse(e);
            r.parseViscollDatamodel(t);
          }),
          (v.addViscollImageList = function (e) {
            var t = o.parse(e);
            r.parseViscollImageList(t);
          });
        var _ = function (e) {
          if (
            (r.analyzeEncoding(e),
              c.parseZones(e),
              f.parseHotSpots(e),
              r.parseDocuments(e),
              a.parseWitnesses(e),
              "" !== n.quoteDef)
          ) {
            var i = [];
            i.push(s.parseQuotes(e)),
              t.all(i).then(function () {
                "" === n.sourcesUrl
                  ? s.parseSources(e)
                  : s.parseSources(e, b.XMLExtDocuments.sources);
              });
          }
          "" !== n.analogueDef &&
            ("" === n.analoguesUrl
              ? u.parseAnalogues(e, "")
              : u.parseAnalogues(e, b.XMLExtDocuments.analogues)),
            h.parseEntities(e),
            l.parseProjectInfo(e),
            p.parseBiblInfo(e),
            r.parseGlyphs(e),
            "internal" !== g.getEncodingDetail("variantEncodingLocation") &&
            (n.loadCriticalEntriesImmediately && a.parseCriticalEntries(e),
              n.versions.length > 1 && a.parseVersionEntries(e));
        },
          A = function (e) {
            var r = t.defer(),
              a = n.dataUrl,
              s = 0,
              l = e.getElementsByTagName("xi:include");
            if (
              ((a = a.substring(0, a.lastIndexOf("/") + 1)), l && l.length > 0)
            ) {
              var c = l.length;
              angular.forEach(l, function (e) {
                var t = a + e.getAttribute("href"),
                  n = e.getAttribute("xpointer");
                i.get(t).then(
                  function (t) {
                    s++;
                    var i,
                      a = o.parse(t.data);
                    if (n) {
                      var l = angular.element(a)[0];
                      E(n, l), (i = x[n]);
                    } else i = a.getElementsByTagName("text")[0];
                    e.parentNode.replaceChild(i, e),
                      s === c && r.resolve("success");
                  },
                  function (t) {
                    var i = e.getElementsByTagName("fallback")[0],
                      o = d.getById("errorMsg"),
                      a = i ? i.innerHTML : "";
                    (a +=
                      '<div style="text-align:center;">Warning! <br/> EVT could not work properly.</div>'),
                      o.updateContent(a),
                      o.setTitle(n + " - XI:INCLUDE ERROR"),
                      o.open(),
                      r.resolve("success");
                  }
                );
              });
            } else r.resolve("success");
            return r;
          },
          E = function e(t, i) {
            i.childNodes.forEach(function (i) {
              return i.attributes &&
                i.hasAttribute("xml:id") &&
                i.getAttribute("xml:id") === t
                ? ((x[t] = i), i)
                : i.childNodes && i.childNodes.length > 0
                  ? e(t, i)
                  : void 0;
            });
          };
        return v;
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("parsedData", [
      "$log",
      "config",
      "Utils",
      function (e, t, i) {
        var n = {};
        e.getInstance("dataHandler").log("parsedData running");
        var o = {},
          r = {
            fileDescription: "",
            encodingDescription: "",
            textProfile: "",
            outsideMetadata: "",
            revisionHistory: "",
            msDesc: "",
          },
          a = { _indexes: [] },
          s = { length: 0, _indexes: [] },
          l = [],
          c = {
            svgs: { _indexes: [] },
            quires: { _indexes: [] },
            imglist: { _indexes: [] },
            svgToLoad: [],
            loaded: !1,
          },
          u = { _indexes: [], length: 0 },
          d = { length: 0 },
          p = { length: 0 },
          h = { length: 0, _indexes: { corresp: {}, subDivs: {}, main: {} } },
          f = {
            _indexes: { witnesses: [], groups: [], encodingStructure: [] },
          },
          g = t.genericColors,
          m = {
            filtersCollection: {
              filters: {},
              length: 0,
              forLemmas: 0,
              forVariants: 0,
              colors: [],
            },
            __allLoaded: !1,
            _maxVariance: 0,
            _indexes: {
              encodingStructure: [],
              appEntries: [],
              exponents: [],
              depa: { start: {}, end: {} },
            },
          },
          v = {},
          b = [],
          y = {
            _indexes: {
              encodingStructure: [],
              versionWitMap: {},
              versionId: { _name: {} },
            },
          },
          x = {},
          w = !1,
          _ = { _indexes: [] },
          A = { _indexes: [] },
          E = { _indexes: [] },
          S = { _collections: { _indexes: [] }, _indexes: [] };
        (n.getEncodingDetail = function (e) {
          return o[e];
        }),
          (n.setEncodingDetail = function (e, t) {
            o[e] = t;
          }),
          (n.getNamedEntityTypeIcon = function (e) {
            var t;
            switch (e) {
              case "place":
              case "placeName":
                t = "fa-map-marker";
                break;
              case "person":
              case "pers":
              case "persName":
                t = "fa-user";
                break;
              case "org":
              case "orgName":
                t = "fa-users";
                break;
              case "relation":
                t = "fa-share-alt";
                break;
              default:
                t = "fa-list-ul";
            }
            return t;
          }),
          (n.addNamedEntitiesCollection = function (e) {
            var t = e.id;
            if (void 0 === S._collections[t]) {
              var i = e && e.type ? e.type : "generic",
                o = n.getNamedEntityTypeIcon(i);
              (S._collections[t] = {
                _indexes: [],
                _listKeys: [],
                _title: e && e.title ? e.title : "",
                _type: i,
                _icon: o,
              }),
                S._collections._indexes.push(t);
            }
          }),
          (n.addNamedEntityInCollection = function (e, t, i) {
            var n = e.id;
            void 0 === S._collections[n] && this.addNamedEntitiesCollection(e),
              void 0 === S._collections[n][i] &&
              ((S._collections[n][i] = { _indexes: [] }),
                S._collections[n]._listKeys.push(i));
            var o = t.id;
            (S._collections[n][i][o] = t),
              (S[o] = { collectionId: n, listKey: i }),
              S._indexes.push(o),
              S._collections[n]._indexes.push(o),
              S._collections[n][i]._indexes.push(o);
          }),
          (n.getNamedEntities = function () {
            return S;
          }),
          (n.getNamedEntitiesCollection = function () {
            return S._collections;
          }),
          (n.getNamedEntitiesCollectionByName = function (e) {
            return S._collections[e];
          }),
          (n.getNamedEntitiesCollectionByNameAndPos = function (e, t) {
            return S._collections[e][t];
          }),
          (n.getNamedEntity = function (e) {
            var t;
            if (e) {
              var i = S[e];
              void 0 !== i &&
                void 0 !== i.collectionId &&
                void 0 !== i.listKey &&
                void 0 !== S._collections[i.collectionId] &&
                void 0 !== S._collections[i.collectionId][i.listKey] &&
                (t = S._collections[i.collectionId][i.listKey][e]);
            }
            return t;
          }),
          (n.getNamedEntityType = function (e) {
            var t = e && S[e] ? S[e].collectionId : void 0,
              i = n.getNamedEntitiesCollectionByName(t);
            return i ? i._type : "generic";
          });
        var T = {
          _indexes: { encodingStructure: [], sourcesRef: { _id: [] } },
        },
          C = {
            _indexes: {
              encodingStructure: [],
              quotesRef: { _id: [] },
              availableTexts: [],
              correspId: {},
            },
          },
          k = { _indexes: { encodingStructure: [] }, _refId: { _indexes: [] } };
        (n.addPage = function (e, t) {
          var i = e.value;
          if (
            (void 0 === s.length && (s.length = 0),
              "" === e.value && (i = e.value = "page_" + (s.length + 1)),
              void 0 === s[i])
          )
            (e.docs = [t]),
              (s[s.length] = i),
              (e.indexInCollection = s.length),
              (s[i] = e),
              s.length++,
              s._indexes.push(i);
          else {
            var n = s[i];
            n.docs && n.docs.indexOf(t) < 0 && n.docs.push(t);
          }
          t && "" !== t && void 0 !== u[t] && u[t].pages.push(i),
            (l[s.length - 1] = {
              value: e.value,
              image: e.image,
              label: e.label,
              docs: e.docs,
            });
        }),
          (n.getPages = function () {
            return s;
          }),
          (n.getThumbnails = function () {
            return l;
          }),
          (n.getPage = function (e) {
            return s[e];
          }),
          (n.setPageText = function (e, t, i, n) {
            var o = s[e];
            if (o) {
              o.text || (o.text = {});
              var r = o.text[t];
              void 0 !== r && void 0 !== r[i]
                ? (r[i] += n)
                : void 0 !== r
                  ? (r[i] = n)
                  : ((o.text[t] = {}), (o.text[t][i] = n)),
                o.docs && o.docs.indexOf(t) < 0 && o.docs.push(t);
            }
          }),
          (n.getPageText = function (e, t, i) {
            var n = s[e];
            if (n && n.text && n.text[t]) return n.text[t][i];
          }),
          (n.getPageImage = function (e) {
            for (var t = [], i = 0; i < t.length && t[i].page !== e;) i++;
            return {};
          }),
          (n.addViscollSvg = function (e) {
            var t = e.id || "svg_" + c.svgs._indexes.length;
            (c.svgs[t] = e),
              c.quires[t] && (c.quires[t].svg = e),
              c.svgs._indexes.push(t);
          }),
          (n.addViscollImageList = function (e) {
            var t = e.id;
            (c.imglist[t] = e), c.imglist._indexes.push(t);
          }),
          (n.addViscollQuire = function (e) {
            var t = e.value;
            (c.quires[t] = e), c.quires._indexes.push(t);
          }),
          (n.addViscollLeaf = function (e) {
            var t = e.value,
              i = e.quire;
            (c.quires[i].leaves[t] = e), c.quires[i].leaves._indexes.push(t);
          }),
          (n.setViscollSVGToLoad = function (e) {
            c.svgToLoad = e;
          }),
          (n.getViscollSVGToLoad = function () {
            return c.svgToLoad;
          }),
          (n.updateLeafDataInQuire = function (e, t) {
            if (c.quires[e].leaves[t.id])
              for (var i in t) c.quires[e].leaves[t.id][i] = t[i];
          }),
          (n.getViscollSvgs = function () {
            return c;
          }),
          (n.setViscollSvgsLoaded = function (e) {
            c.loaded = e;
          }),
          (n.areViscollSvgsLoaded = function () {
            return c.loaded;
          }),
          (n.getViscollSvg = function (e) {
            return c[e];
          }),
          (n.addDocument = function (e) {
            var t = e.value;
            "" === e.value && (t = e.value = "doc_" + (u._indexes.length + 1)),
              void 0 === u[t] && (u._indexes.push(t), (u[t] = e));
          }),
          (n.getDocuments = function () {
            return u;
          }),
          (n.getDocument = function (e) {
            return u[e];
          }),
          (n.getPreviousDocument = function (e) {
            var t = u._indexes.indexOf(e),
              i = u._indexes[t - 1];
            return u[i];
          }),
          (n.addExternalDocument = function (e) {
            var t = e.value;
            void 0 === d.length && (d.length = 0),
              "" === e.value && (t = e.value = "extDoc_" + (d.length + 1)),
              void 0 === d[t] && ((d[d.length] = t), (d[t] = e), d.length++);
          }),
          (n.getExternalDocuments = function () {
            return d;
          }),
          (n.getExternalDocument = function (e) {
            return d[e];
          }),
          (n.addSourceDocument = function (e, t) {
            var i = e.value;
            void 0 === p.length && (p.length = 0),
              "" === e.value && (i = e.value = t),
              void 0 === p[i] && ((p[p.length] = i), (p[i] = e), p.length++);
          }),
          (n.getSourceDocuments = function () {
            return p;
          }),
          (n.getSourceDocument = function (e) {
            return p[e];
          }),
          (n.addDiv = function (e, t) {
            var i = e.value;
            (h[h.length] = i),
              (h[i] = e),
              h.length++,
              u[t].divs.push(i),
              e.corresp &&
              angular.forEach(e.corresp, function (t) {
                h._indexes.corresp[t] || (h._indexes.corresp[t] = []),
                  h._indexes.corresp[t].push(e.value);
              }),
              e._isSubDiv ||
              ((h._indexes.subDivs[e.value] = e.subDivs || []),
                h._indexes.main[e.doc] || (h._indexes.main[e.doc] = []),
                h._indexes.main[e.doc].push(e.value));
          }),
          (n.getDivs = function () {
            return h;
          }),
          (n.getDiv = function (e) {
            return h[e];
          }),
          (n.setCriticalEditionAvailability = function (e) {
            w = e;
          }),
          (n.isCriticalEditionAvailable = function () {
            return w;
          }),
          (n.setEditions = function (e) {
            b = e;
          }),
          (n.addEdition = function (e) {
            b.push(e);
          }),
          (n.getEditions = function () {
            return b;
          }),
          (n.getEdition = function (e) {
            for (var t, i = 0; i < b.length && void 0 === t;)
              b[i].value === e && (t = b[i]), i++;
            return t;
          }),
          (n.addElementInWitnessCollection = function (e) {
            var i = t.skipWitnesses.split(",").filter(function (e) {
              return 0 !== e.length;
            });
            e &&
              e.id &&
              i.indexOf(e.id) < 0 &&
              void 0 === f[e.id] &&
              ((f[e.id] = e),
                "group" === e._type
                  ? f._indexes.groups.push(e.id)
                  : f._indexes.witnesses.push(e.id),
                void 0 === e._group && f._indexes.encodingStructure.push(e.id));
          }),
          (n.addWitnessText = function (e, t, i) {
            void 0 !== f[e] &&
              (void 0 === f[e].text && (f[e].text = {}), (f[e].text[t] = i));
          }),
          (n.getWitnessText = function (e, t) {
            if (
              void 0 !== f[e] &&
              void 0 !== f[e].text &&
              void 0 !== f[e].text[t]
            )
              return f[e].text[t];
          }),
          (n.getWitnessesList = function () {
            return f._indexes.witnesses;
          }),
          (n.getWitnesses = function () {
            return f;
          }),
          (n.getWitness = function (e) {
            return f[e];
          }),
          (n.getWitnessPages = function (e) {
            if (void 0 !== f[e]) {
              if (void 0 === f[e].pages) {
                for (var t = { length: 0 }, i = 0; i < s.length; i++) {
                  var n = s[s[i]];
                  n.ed === "#" + e &&
                    ((t[t.length] = s[i]), (t[s[i]] = n), t.length++);
                }
                f[e].pages = t;
              }
              return f[e].pages;
            }
          }),
          (n.isWitnessesGroup = function (e) {
            return void 0 !== f[e] && "group" === f[e]._type;
          }),
          (n.getWitnessesInGroup = function (e) {
            var t = [];
            if (void 0 !== f[e] && "group" === f[e]._type) {
              var i = f[e].content;
              for (var o in i) {
                var r = i[o];
                n.isWitnessesGroup(r)
                  ? t.push.apply(t, n.getWitnessesInGroup(r))
                  : t.push(r);
              }
            }
            return t;
          }),
          (n.getWitnessesListFormatted = function () {
            var e,
              t = f._indexes.encodingStructure;
            e = "<ul>";
            for (var i = 0; i < t.length; i++) {
              var n = f[t[i]];
              e += L(n);
            }
            return (e += "</ul>");
          });
        var L = function e(t) {
          var i = "",
            n = "";
          if ("witness" === t._type)
            (i += "<li><div>"),
              t.attributes && t.attributes.n
                ? (n = t.attributes.n)
                : t.sigla && "" !== t.sigla && (n = t.sigla),
              (i += "<strong>" + n + "</strong>"),
              t.description &&
              (3 === t.description.nodeType
                ? ("" !== t.description.textContent &&
                  "" !== n &&
                  (i += ": "),
                  (i += t.description.textContent))
                : ("" !== t.description.innerHTML && "" !== n && (i += ": "),
                  (i += t.description.innerHTML))),
              (i += "</div></li>");
          else {
            (i += "<li><div>"),
              t.attributes && t.attributes.n
                ? (n = t.attributes.n)
                : t.sigla && "" !== t.sigla && (n = t.sigla),
              (i += "<strong>" + n + "</strong>"),
              "" !== n && "" !== t.name && (i += ": "),
              (i += t.name),
              (i += "</div><ul>");
            for (var o = t.content ? t.content.length : 0, r = 0; r < o; r++) {
              i += e(f[t.content[r]]);
            }
            (i += "</ul>"), (i += "</li>");
          }
          return i;
        };
        (n.getCriticalTextsCollection = function () {
          return v;
        }),
          (n.addCriticalText = function (e, t) {
            v[t] = e;
          }),
          (n.getCriticalText = function (e) {
            return v[e];
          }),
          (n.resetCriticalEntries = function () {
            m = {
              filtersCollection: {
                filters: {},
                length: 0,
                forLemmas: 0,
                forVariants: 0,
                colors: [],
              },
              __allLoaded: !1,
              _maxVariance: 0,
              _indexes: {
                encodingStructure: [],
                appEntries: [],
                exponents: [],
              },
            };
          });
        return (
          (n.addCriticalEntry = function (e) {
            if (void 0 === m[e.id]) {
              (m[e.id] = e),
                m._indexes.appEntries.push(e.id),
                e._subApp || m._indexes.encodingStructure.push(e.id);
              var t = (function () {
                var e,
                  t,
                  i = m._indexes.appEntries.length;
                return (
                  i > 26
                    ? ((t = Math.floor(i / 26) + 96),
                      (e =
                        i % 26 == 0
                          ? "&#" + (t - 1) + ";z"
                          : "&#" + t + ";&#" + ((i % 26) + 96) + ";"))
                    : (e = "&#" + (i + 96) + ";"),
                  e
                );
              })();
              m._indexes.exponents.push({ appId: e.id, exponent: t }),
                (m[e.id].exponent = t);
            }
            e._variance > m._maxVariance && (m._maxVariance = e._variance),
              "double-end-point" === o.variantEncodingMethod &&
              n.addCriticalEntryDepaInfo(e);
          }),
          (n.addCriticalEntryDepaInfo = function (e) {
            if (
              (m._indexes.depa || (m._indexes.depa = { start: {}, end: {} }),
                e.attributes.from)
            ) {
              var t =
                "#" === e.attributes.from.charAt(0)
                  ? e.attributes.from.substr(1)
                  : e.attributes.from;
              m._indexes.depa.start[e.id] = t;
            }
            if (e.attributes.to) {
              var i =
                "#" === e.attributes.to.charAt(0)
                  ? e.attributes.to.substr(1)
                  : e.attributes.to;
              m._indexes.depa.end[e.id] = i;
            } else
              "internal" === o.variantEncodingLocation
                ? (m._indexes.depa.end[e.id] = e.id)
                : "external" === o.variantEncodingLocation &&
                e.attributes.from &&
                (m._indexes.depa.end[e.id] = e.attributes.from.substr(1));
          }),
          (n.setCriticalEntriesLoaded = function (e) {
            m.__allLoaded = e;
          }),
          (n.getCriticalEntries = function () {
            return m;
          }),
          (n.getCriticalEntryById = function (e) {
            return m[e];
          }),
          (n.getCriticalEntryExponent = function (e) {
            var t = n.getCriticalEntryById(e);
            return t ? t.exponent : "";
          }),
          (n.getCriticalEntriesMaxVariance = function () {
            return m._maxVariance;
          }),
          (n.getReadingAttributes = function (e, t) {
            var i = [];
            if (void 0 !== m[t].content[e]) {
              i = m[t].attributes;
              var n = m[t].content[e].attributes;
              for (var o in n) i[o] = n[o];
            }
            return i;
          }),
          (n.isSubApp = function (e) {
            return m[e]._subApp;
          }),
          (n.getGenericColorForAppEntry = function (e) {
            var t = m.filtersCollection,
              o = g[e];
            if (void 0 === t.colors || t.colors.indexOf(o) < 0)
              (o = g[e]), g.splice(e, 1);
            else {
              if (e >= t.colors.length - 1) {
                for (
                  var r = i.getRandomColor("rgb");
                  t.colors.indexOf(r) >= 0;

                )
                  r = i.getRandomColor("rgb");
                t.colors.push(r);
              }
              o = n.getGenericColorForAppEntry(e + 1);
            }
            return o;
          }),
          (n.addCriticalEntryFilter = function (e, i) {
            var o = t.possibleVariantFilters,
              r = t.possibleLemmaFilters,
              a = m.filtersCollection;
            if (
              (o.indexOf(e) >= 0 || r.indexOf(e) >= 0) &&
              (void 0 === a.filters[e] &&
                (a.filters[e] = {
                  name: e,
                  possibleFor: {
                    lemma: r.indexOf(e) >= 0,
                    variant: o.indexOf(e) >= 0,
                  },
                  values: {},
                }),
                void 0 === a.filters[e].values[i])
            ) {
              var s;
              void 0 !== t.variantColors[e] &&
                void 0 !== t.variantColors[e][i] &&
                "" !== t.variantColors[e][i]
                ? ((s = t.variantColors[e][i]),
                  g.indexOf(s) >= 0 && g.splice(g.indexOf(s), 1))
                : (s = n.getGenericColorForAppEntry(0)),
                s && a.colors.push(s);
              var l = { name: i, color: s };
              (a.filters[e].values[i] = l),
                a.length++,
                o.indexOf(e) >= 0 && a.forVariants++,
                r.indexOf(e) >= 0 && a.forLemmas++;
            }
          }),
          (n.getCriticalEntriesFiltersCollection = function () {
            return m.filtersCollection;
          }),
          (n.getCriticalEntriesFilters = function () {
            return m.filtersCollection.filters;
          }),
          (n.getCriticalEntriesFilterValues = function (e) {
            return m.filtersCollection.filters[e];
          }),
          (n.getCriticalEntriesFilterColor = function (e, t) {
            return m.filtersCollection.filters[e].values[t].color;
          }),
          (n.addBibliographicRef = function (e) {
            void 0 === a[e.id] && ((a[e.id] = e), a._indexes.push(e.id));
          }),
          (n.getBibliographicRefsCollection = function () {
            return a;
          }),
          (n.getBibliographicRefById = function (e) {
            return a[e];
          }),
          (n.addVersionEntry = function (e) {
            void 0 === y[e.id] &&
              (y._indexes.encodingStructure.push(e.id), (y[e.id] = e));
          }),
          (n.getVersionEntries = function () {
            return y;
          }),
          (n.getVersionEntry = function (e) {
            return y[e];
          }),
          (n.addVersionWitness = function (e, i) {
            var n = y._indexes.versionWitMap;
            void 0 === n[e]
              ? ((n[e] = []), n[e].push(i))
              : n[e].indexOf(i) < 0 && n[e].push(i);
            var o = y._indexes.versionId,
              r = y._indexes.versionId._name;
            if (void 0 === o[e]) {
              var a = "Version &#" + (65 + t.versions.indexOf(e)) + ";";
              (o[e] = a), (r[a] = e);
            }
          }),
          (n.addVersionText = function (e, t, i) {
            void 0 === x[t]
              ? ((x[t] = {}), (x[t][i] = e))
              : void 0 === x[t][i] && (x[t][i] = e);
          }),
          (n.getVersionText = function (e, t) {
            return x[t][e];
          }),
          (n.updateProjectInfoContent = function (e, t) {
            r[t] = e;
          }),
          (n.getProjectInfo = function () {
            return r;
          }),
          (n.addGlyph = function (e) {
            var t,
              i = _._indexes;
            (t = e && "" !== e.id ? e.id : (e.id = "glyph_" + (i + 1))),
              void 0 === _[t] && ((i[i.length] = t), (_[t] = e), i.length++);
          }),
          (n.getGlyphs = function () {
            return _;
          }),
          (n.getGlyph = function (e) {
            return _[e];
          }),
          (n.getGlyphMappingForEdition = function (e, t) {
            return _[e] ? _[e].mapping[t] : void 0;
          }),
          (n.addZone = function (e) {
            var t,
              i = A._indexes;
            (t = e && "" !== e.id ? e.id : (e.id = "zone_" + (i + 1))),
              void 0 === A[t] && ((i[i.length] = t), (A[t] = e), i.length++);
          }),
          (n.getZones = function () {
            return A;
          }),
          (n.getZone = function (e) {
            return A[e];
          }),
          (n.addHotSpot = function (e) {
            var t,
              i = E._indexes;
            (t = e && "" !== e.id ? e.id : (e.id = "hotspot_" + (i + 1))),
              void 0 === E[t] && ((i[i.length] = t), (E[t] = e), i.length++);
          }),
          (n.getHotSpots = function () {
            return E;
          }),
          (n.getHotSpot = function (e) {
            return E[e];
          }),
          (n.isITLAvailable = function () {
            return t.toolImageTextLinking && A._indexes.length > 0;
          }),
          (n.addQuote = function (e) {
            void 0 === T[e.id] &&
              ((T[e.id] = e), T._indexes.encodingStructure.push(e.id));
            var t = e._indexes.sourceRefId,
              i = (e._indexes.sourceId, n.getQuotes()._indexes.sourcesRef);
            if (t.length > 0)
              for (var o = 0; o < t.length; o++)
                void 0 === i[t[o]] && i._id.indexOf(t[o]) < 0
                  ? ((i[t[o]] = []), i[t[o]].push(e.id), i._id.push(t[o]))
                  : i[t[o]].indexOf(e.id) < 0 && i[t[o]].push(e.id);
            var r = e._indexes.correspId,
              a = C._indexes.correspId;
            if (Object.keys(r).length > 0)
              for (var s = 0; s < Object.keys(r).length; s++)
                for (var l = Object.keys(r)[s], c = 0; c < r[l].length; c++)
                  void 0 === a[l]
                    ? ((a[l] = {}), (a[l][r[l][c]] = [e.id]))
                    : void 0 === a[l][r[l][c]]
                      ? (a[l][r[l][c]] = [e.id])
                      : a[l][r[l][c]].indexOf(e.id) < 0 &&
                      a[l][r[l][c]].push(e.id);
          }),
          (n.getQuotes = function () {
            return T;
          }),
          (n.getQuote = function (e) {
            return T[e];
          }),
          (n.addSource = function (e) {
            void 0 === C[e.id] &&
              ((C[e.id] = e), C._indexes.encodingStructure.push(e.id));
            var t = e.quotesEntriesId,
              i = n.getSources()._indexes.quotesRef;
            if (t.length > 0)
              for (var o = 0; o < t.length; o++)
                void 0 === i[t[o]] && i._id.indexOf(t[o]) < 0
                  ? ((i[t[o]] = []), i[t[o]].push(e.id), i._id.push(t[o]))
                  : i[t[o]].indexOf(e.id) < 0 && i[t[o]].push(e.id);
            e._textAvailable &&
              C._indexes.availableTexts.push({ id: e.id, abbr: e.abbr });
          }),
          (n.getSources = function () {
            return C;
          }),
          (n.getSource = function (e) {
            return C[e];
          }),
          (n.getAnalogue = function (e) {
            return k[e];
          }),
          (n.getAnalogues = function () {
            return k;
          }),
          (n.addAnalogue = function (e) {
            if (void 0 === k[e.id]) {
              (k[e.id] = e), k._indexes.encodingStructure.push(e.id);
              for (
                var t = e._indexes.sourceRefId, i = k._refId, n = 0;
                n < t.length;
                n++
              )
                i._indexes.indexOf(t[n]) < 0
                  ? (i._indexes.push(t[n]), (i[t[n]] = []), i[t[n]].push(e.id))
                  : i[t[n]].indexOf(e.id) < 0 && i[t[n]].push(e.id);
            }
          }),
          n
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtParser", [
      "$q",
      "xmlParser",
      "parsedData",
      "config",
      function (e, t, i, n) {
        var o = {},
          r = 0,
          a = (n.visCollSvg, "leaf"),
          s = "mode",
          l = "quire",
          c = "q",
          u = "g",
          d = {
            sectionHeaders: "<sourceDesc>, ",
            sectionSubHeaders: "",
            blockLabels: "",
            inlineLabels:
              "<authority>, <settlement>, <publisher>, <pubPlace>, <availability>, <author>, <editor>, <idno>, <date>, <repository>, <msName>, <textLang>",
            changeDef: "<change>",
            changeWhenDef: "[when]",
            changeByDef: "[who]",
          };
        return (
          (d.sectionSubHeaders +=
            "<projectDesc>, <refsDecl>, <notesStmt>, <seriesStmt>, <publicationStmt>, <respStmt>, <funder>, <sponsor>, <msContents>, <revisionDesc>, "),
          (d.sectionSubHeaders +=
            "<principal>, <langUsage>, <particDesc>, <textClass>, <variantEncoding>, <editorialDecl>, <msIdentifier>, <physDesc>, <history>, <extent>, <editionStmt>"),
          (d.blockLabels +=
            "<edition>, <correction>, <hyphenation>, <interpretation>, <normalization>, <punctuation>, <interpGrp>"),
          (d.blockLabels +=
            "<quotation>, <segmentation>, <stdVals>, <colophon>, <handDesc>, <decoDesc>, <supportDesc>, <origin>"),
          (o.parserProperties = {}),
          (o.isNestedInElem = function (e, t) {
            return (
              null !== e.parentNode &&
              "text" !== e.parentNode.tagName &&
              (e.parentNode.tagName === t || o.isNestedInElem(e.parentNode, t))
            );
          }),
          (o.capitalize = function (e, t) {
            var i = t ? /([^\W_]+[^\s-]*) */g : /([^\W_]+[^\s-]*)/;
            return e
              ? e.replace(i, function (e) {
                return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase();
              })
              : "";
          }),
          (o.camelToSpace = function (e) {
            return e
              ? e.replace(/\W+/g, " ").replace(/([a-z\d])([A-Z])/g, "$1 $2")
              : "";
          }),
          (o.camelToUnderscore = function (e) {
            return e
              ? e.replace(/\W+/g, " ").replace(/([a-z\d])([A-Z])/g, "$1_$2")
              : "";
          }),
          (o.isInMainVersion = function (e) {
            if (null !== e.parentNode)
              return (
                "text" === e.parentNode.tagName ||
                ("rdgGrp" === e.parentNode.tagName
                  ? !(n.versions && n.versions.length > 0) ||
                  (!!e.parentNode.hasAttribute("ana") &&
                    e.parentNode.getAttribute("ana").replace(/#/, "") ===
                    n.versions[0])
                  : o.isInMainVersion(e.parentNode))
              );
          }),
          (o.parseXMLElement = function (e, t, r) {
            var a,
              s = r.skip || "",
              l = r.exclude || void 0,
              c = !1;
            if (3 === t.nodeType)
              (a = t).textContent &&
                (a.textContent = a.textContent.replace("__SPACE__", " "));
            else if (
              void 0 !== t.tagName &&
              (s.toLowerCase().indexOf("<" + t.tagName.toLowerCase() + ">") >=
                0 ||
                t.className.indexOf("depaAnchor") >= 0 ||
                t.className.indexOf("depaContent") >= 0)
            )
              (a = t), (c = !0);
            else if (
              void 0 !== t.tagName &&
              void 0 !== l &&
              l.toLowerCase().indexOf("<" + t.tagName.toLowerCase() + ">") >= 0
            )
              a = document.createTextNode("");
            else {
              var u = void 0 !== t.tagName ? t.tagName.toLowerCase() : "";
              if (
                void 0 !== t.attributes &&
                void 0 !== t.attributes.copyOf &&
                "" !== t.attributes.copyOf.value
              ) {
                (a = document.createElement("span")).className =
                  t.tagName + " copy";
                var p = t.attributes.copyOf.value.replace("#", ""),
                  h =
                    "<" +
                    t.tagName +
                    ' xml:id="' +
                    p +
                    ".*</" +
                    t.tagName +
                    ">",
                  f = new RegExp(h, "ig"),
                  g = e.outerHTML.match(f);
                if (g) {
                  var m = angular.element(g[0])[0];
                  a.appendChild(o.parseXMLElement(e, m, r));
                }
              } else if (i.getEncodingDetail("usesLineBreaks") || "l" !== u)
                if ("note" === u && s.indexOf("<evtNote>") < 0)
                  a = o.parseNote(t);
                else if (
                  "date" === u &&
                  (!t.childNodes || t.childNodes.length <= 0)
                ) {
                  (a = document.createElement("span")).className = t.tagName
                    ? t.tagName.toLowerCase()
                    : "";
                  for (var v = "", b = 0; b < t.attributes.length; b++) {
                    var y = t.attributes[b];
                    if (y.specified && "xml:id" !== y.name) {
                      var x = new Date(y.value),
                        w = x && !isNaN(x) ? x.toLocaleDateString() : y.value;
                      v +=
                        o.camelToSpace(y.name.replace(":", "-")).toLowerCase() +
                        ": " +
                        w +
                        ", ";
                    }
                  }
                  a.textContent = v.slice(0, -1);
                } else if (
                  n.namedEntitiesSelector &&
                  "<placeName>, <geogName>, <persName>, <orgName>"
                    .toLowerCase()
                    .indexOf("<" + u + ">") >= 0 &&
                  void 0 !== t.getAttribute("ref")
                )
                  a = o.parseNamedEntity(e, t, s);
                else {
                  if (
                    (((a =
                      "div" === t.tagName
                        ? document.createElement("div")
                        : document.createElement("span")).className =
                      void 0 !== t.tagName ? t.tagName.toLowerCase() : ""),
                      t.attributes)
                  )
                    for (var _ = 0; _ < t.attributes.length; _++) {
                      var A = t.attributes[_];
                      A.specified &&
                        "xml:id" !== A.name &&
                        a.setAttribute(
                          "data-" + A.name.replace(":", "-"),
                          A.value
                        );
                    }
                  var E;
                  if ("div" === t.tagName)
                    (E =
                      t.attributes && t.getAttribute("xml:id")
                        ? t.getAttribute("xml:id")
                        : o.xpath(t).substr(1)),
                      a.setAttribute("id", E);
                  if (t.childNodes)
                    for (var S = 0; S < t.childNodes.length; S++) {
                      var T = t.childNodes[S].cloneNode(!0);
                      a.appendChild(o.parseXMLElement(e, T, r));
                    }
                  else a.innerHTML = t.innerHTML + " ";
                  if (
                    r.context &&
                    "projectInfo" === r.context &&
                    "" !== a.innerHTML.replace(/\s/g, "")
                  ) {
                    var C = document.createElement("span"),
                      k = !1;
                    if (
                      ((C.className = "label-" + t.tagName),
                        (C.innerHTML =
                          "{{ 'PROJECT_INFO." +
                          o.camelToUnderscore(t.tagName).toUpperCase() +
                          "' | translate }}"),
                        d.sectionHeaders.toLowerCase().indexOf("<" + u + ">") >= 0
                          ? ((C.className += " projectInfo-sectionHeader"),
                            (k = !0))
                          : d.sectionSubHeaders
                            .toLowerCase()
                            .indexOf("<" + u + ">") >= 0
                            ? ((C.className += " projectInfo-sectionSubHeader"),
                              (k = !0))
                            : d.blockLabels.toLowerCase().indexOf("<" + u + ">") >=
                              0
                              ? ((C.className += " projectInfo-blockLabel"), (k = !0))
                              : d.inlineLabels.toLowerCase().indexOf("<" + u + ">") >=
                              0 &&
                              ((C.className += " projectInfo-inlineLabel"),
                                (C.innerHTML += ": "),
                                (k = !0)),
                        d.changeDef.toLowerCase().indexOf("<" + u + ">") >= 0)
                    ) {
                      var L = "",
                        D = t.getAttribute(
                          d.changeWhenDef.replace(/[\[\]]/g, "")
                        );
                      D && (L += D + " ");
                      var I = t.getAttribute(
                        d.changeByDef.replace(/[\[\]]/g, "")
                      );
                      I && (L += "[" + I + "]"),
                        "" !== L && (a.innerHTML = L + " - " + a.innerHTML);
                    }
                    k && a.insertBefore(C, a.childNodes[0]);
                  }
                  if ("lb" === u) {
                    (a.id = t.getAttribute("xml:id")),
                      a.appendChild(document.createElement("br"));
                    var P = document.createElement("span");
                    P.className = "lineN";
                    var O = t.getAttribute("n");
                    (P.textContent = O), O && a.appendChild(P);
                  }
                }
              else a = o.parseLine(e, t, r);
            }
            return c ||
              3 === t.nodeType ||
              (a.innerHTML && "" !== a.innerHTML.replace(/\s/g, "")) ||
              (a.className &&
                (a.className.indexOf("depaAnchor") >= 0 ||
                  a.className.indexOf("depaContent") >= 0))
              ? a
              : document.createTextNode("");
          }),
          (o.parseElementAttributes = function (e) {
            var t = { _indexes: [] };
            if (e && e.attributes)
              for (var i = 0; i < e.attributes.length; i++) {
                var n = e.attributes[i];
                if (n.specified) {
                  var o = n.name.replace(":", "-");
                  (t[o] = n.value), t._indexes.push(o);
                }
              }
            return t;
          }),
          (o.parseExternalDocuments = function (e, t) {
            var n = { value: t, content: e };
            "analogues" !== t && "sources" !== t
              ? i.addSourceDocument(n, t)
              : i.addExternalDocument(n, t),
              console.log("## Source Documents ##", i.getSourceDocuments()),
              console.log("## External Documents ##", i.getExternalDocuments());
          }),
          (o.createRegExpr = function (e) {
            for (var t = "(", i = e.split(","), n = 0; n < i.length; n++) {
              if (i[n].indexOf("[") < 0) t += i[n].replace(/[>]/g, "");
              else {
                var o = i[n].indexOf("[");
                "[" !== i[n].substring(1, o) && (t += i[n].substring(0, o)),
                  (t += "[^<>]*?");
                var r = i[n].indexOf("]"),
                  a = i[n].indexOf("=");
                (t += i[n].substring(o + 1, a)),
                  (t += "\\s*?=\\s*?['\"]\\s*?"),
                  (t += i[n].substring(a + 1, r));
              }
              n < i.length - 1 ? (t += "|") : n === i.length - 1 && (t += ")");
            }
            return new RegExp(t, "i");
          }),
          (o.createAbbreviation = function (e, t) {
            var i = t / 2,
              n = e.substring(0, i),
              o = e.substring(e.length - i - 1, e.length - 1),
              r = n.lastIndexOf("", n.length - 1),
              a = o.indexOf("", 1),
              s = n.substring(0, r),
              l = n.substring(r, n.length),
              c = o.substring(a, o.length);
            return (
              '<span class="textNode">' +
              s +
              '<span class="blurredText">' +
              l +
              '</span> [...] <span class="blurredText">' +
              o.substring(0, a) +
              "</span>" +
              c +
              "</span>"
            );
          }),
          (o.balanceXHTML = function (e) {
            if (e) {
              e.lastIndexOf("<") > e.lastIndexOf(">") &&
                (e = e.substring(0, e.lastIndexOf("<")));
              var t = e.match(/<(?!\!)[^>]+>/g),
                i = [],
                n = [];
              for (var o in t)
                if (1 === t[o].search("/")) {
                  var r = t[o].replace(/[<\/>]/gi, ""),
                    a = i[i.length - 1];
                  a &&
                    (a.search("<" + r + " ") >= 0 || a.search("<" + r + ">") >= 0)
                    ? i.pop()
                    : n.push(r);
                } else t[o].search("/>") <= 0 && i.push(t[o]);
              for (; i.length > 0;) {
                var s = i.pop();
                e += "</" + (s = s.substring(1, s.search(/[ >]/))) + ">";
              }
              for (; n.length > 0;) {
                e = "<" + n.shift() + ">" + e;
              }
            }
            return e || "";
          }),
          (o.analyzeEncoding = function (e) {
            var t = angular.element(e),
              n = t.find("body " + "<lb>".replace(/[<>]/g, ""));
            i.setEncodingDetail("usesLineBreaks", n.length > 0);
            var o = t.find("<l>".replace(/[<>]/g, "") + "[n]");
            i.setEncodingDetail("lineNums", o.length > 0);
          }),
          (o.parseNote = function (e) {
            var t = document.createElement("evt-popover"),
              i = e.getAttribute("n") ? e.getAttribute("n") : "",
              n = e.getAttribute("type") || "generic";
            return (
              t.setAttribute("data-trigger", "click"),
              t.setAttribute("data-tooltip", e.innerHTML),
              t.setAttribute("data-n", i),
              t.setAttribute("data-type", n),
              (t.innerHTML =
                '<i class="evt_note"><span class="' +
                n +
                '">' +
                i +
                "</span></i>"),
              t
            );
          }),
          (o.parseNamedEntity = function (e, t, i) {
            var n = document.createElement("evt-named-entity-ref"),
              r = t.getAttribute("ref"),
              a = r ? r.replace("#", "") : void 0;
            a && "" !== a && n.setAttribute("data-entity-id", a);
            var s = t.tagName ? t.tagName : "generic";
            n.setAttribute("data-entity-type", s);
            for (var l = 0; l < t.childNodes.length; l++) {
              var c,
                u = t.childNodes[l].cloneNode(!0);
              (c = o.parseXMLElement(e, u, { skip: i })), n.appendChild(c);
            }
            return n;
          }),
          (o.parseLines = function (e) {
            for (var t = e.getElementsByTagName("l"); 0 < t.length;) {
              var i = t[0],
                n = o.parseLine(e, i, {});
              i.parentNode.replaceChild(n, i);
            }
          }),
          (o.parseLine = function (e, t, n) {
            var r = document.createElement("div");
            r.className = t.tagName + " l-block";
            for (var a = 0; a < t.attributes.length; a++) {
              var s = t.attributes[a];
              s.specified &&
                r.setAttribute("data-" + s.name.replace(":", "-"), s.value);
            }
            r.innerHTML = t.innerHTML;
            var l = t.getAttribute("n");
            if (l && "" !== l) {
              var c = document.createElement("span");
              (c.className = "lineN"),
                (c.textContent = l),
                (r.className += " l-hasLineN");
              var u = o.parseXMLElement(e, r, n);
              r.innerHTML =
                c.outerHTML +
                '<span class="lineContent">' +
                u.outerHTML +
                "</span>";
            } else if (i.getEncodingDetail("lineNums")) {
              r.className += " l-indent";
              u = o.parseXMLElement(e, r, n);
              r.innerHTML =
                '<span class="lineContent">' + u.outerHTML + "</span>";
            }
            return r;
          }),
          (o.parseGlyphs = function (e) {
            var t = angular.element(e);
            angular.forEach(t.find("glyph, char"), function (t) {
              var n = {};
              (n.id = t.getAttribute("xml:id") || ""),
                (n.xmlCode = t.outerHTML),
                (n.mapping = {}),
                angular.forEach(
                  angular.element(t).find("mapping"),
                  function (e) {
                    var t = e.getAttribute("type");
                    n.mapping[t] = {
                      element: e.outerHTML,
                      content: e.innerHTML,
                      attributes: [],
                    };
                    for (var i = 0; i < e.attributes.length; i++) {
                      var o = e.attributes[i];
                      o.specified &&
                        n.mapping[t].attributes.push({
                          name: o.name.replace(":", "-"),
                          value: o.value,
                        });
                    }
                  }
                );
              var r = o.parseXMLElement(e, t, { skip: "" });
              (n.parsedXml = r ? r.outerHTML : ""), i.addGlyph(n);
            }),
              console.log("# GLYPHS #", i.getGlyphs());
          }),
          (o.xpath = function (e) {
            try {
              if ("string" == typeof e)
                return document.evaluate(e, document, null, 0, null);
              if (!e || 1 !== e.nodeType) return "";
              var t = [];
              e.parentNode &&
                (t = [].filter.call(e.parentNode.children, function (t) {
                  return t.tagName === e.tagName;
                }));
              var i = t.length > 1 ? [].indexOf.call(t, e) + 1 : "";
              i = i > 1 ? i - 1 : "";
              var n =
                "tei" !== e.tagName.toLowerCase()
                  ? "-" + e.tagName.toLowerCase()
                  : "";
              return o.xpath(e.parentNode) + n + i;
            } catch (e) {
              return "-id" + ++r;
            }
          }),
          (o.parsePages = function (e, t) {
            var o = angular.element(e);
            angular.forEach(o.find("pb"), function (e) {
              var o = {};
              e.getAttribute("ed")
                ? (o.value =
                  e.getAttribute("xml:id") ||
                  e.getAttribute("ed").replace("#", "") +
                  "-" +
                  e.getAttribute("n") ||
                  "page_" + (i.getPages().length + 1))
                : (o.value =
                  e.getAttribute("xml:id") ||
                  "page_" + (i.getPages().length + 1)),
                (o.image =
                  e.getAttribute("src") ||
                  n.singleImagesUrl + o.value + ".jpg"),
                (o.svgId = e.getAttribute("svg:id") || i.getPages().length + 1),
                (o.label =
                  e.getAttribute("n") || "Page " + (i.getPages().length + 1)),
                (o.title =
                  e.getAttribute("n") || "Page " + (i.getPages().length + 1));
              for (var r = 0; r < e.attributes.length; r++) {
                var a = e.attributes[r];
                a.specified && (o[a.name.replace(":", "-")] = a.value);
              }
              e.getAttribute("facs")
                ? (o.source = e.getAttribute("facs"))
                : (o.source = n.singleImagesUrl + o.value + ".jpg"),
                i.addPage(o, t);
            });
          }),
          (o.parseSvgsForViscoll = function (e, t) {
            var n = angular.element(e),
              o = e.lastChild,
              r = "";
            try {
              r = o.firstElementChild.innerHTML
                .match(/quire\s\d*\sfor/)[0]
                .match(/\d+/)[0];
            } catch (e) { }
            var a = { id: t, quireN: r, svgLeaves: [], textSvg: o },
              s = i.getViscollSvgs();
            angular.forEach(n.find(u), function (e) {
              if (e.hasAttribute("id")) {
                var n = {
                  id: e.id.replace("#", ""),
                  value: e.id.replace("#", ""),
                  label: e.id.replace("#", ""),
                };
                angular.forEach(s.imglist._indexes, function (e) {
                  if (n.id === e.slice(0, -2))
                    if (null == n.img) {
                      if (
                        ((n.img = s.imglist[e].url),
                          (n.imgConjoin = s.imglist[e].conjoinUrl),
                          (n.imageId = s.imglist[e].value),
                          void 0 !== s.imglist[e].conjoinUrl)
                      )
                        for (var t in s.imglist)
                          s.imglist[e].id === s.imglist[t].conjoin &&
                            (n.conjoinId = s.imglist[t].value);
                    } else if (
                      ((n.img2 = s.imglist[e].url),
                        (n.imgConjoin2 = s.imglist[e].conjoinUrl),
                        (n.imageId2 = s.imglist[e].value),
                        void 0 !== s.imglist[e].conjoinUrl)
                    )
                      for (var i in s.imglist)
                        s.imglist[e].id == s.imglist[i].conjoin &&
                          (n.conjoinId2 = s.imglist[i].value);
                }),
                  a.svgLeaves.push(n),
                  i.updateLeafDataInQuire(t, n);
              }
            }),
              i.addViscollSvg(a);
          }),
          (o.parseViscollDatamodel = function (e) {
            var t = angular.element(e),
              n = angular.element(t.find("shelfmark")),
              o = [];
            angular.forEach(t.find(l), function (e) {
              var t = {
                value: e.getAttribute("xml:id") || "",
                n:
                  e.getAttribute("n") ||
                  "quire" + (i.getViscollQuires().length + 1),
                leaves: { length: 0, _indexes: [] },
              };
              i.addViscollQuire(t),
                n &&
                o.push({
                  fileName: "id-" + n.text() + "-" + t.n + ".svg",
                  id: t.value,
                });
            }),
              angular.forEach(t.find(a), function (e) {
                var t = angular.element(e).find(c);
                if ((t = t ? t[0] : void 0)) {
                  var n = angular.element(e).find(s),
                    o = t.childNodes,
                    r = null == o[1] ? o[0] : o[1],
                    a = {
                      value: e.getAttribute("xml:id") || "",
                      leafno: t.getAttribute("leafno") || "",
                      quire:
                        t.getAttribute("target").replace("#", "") || "target",
                      conjoin:
                        r.getAttribute("target").replace("#", "") || "target",
                      mode: n && n[0] ? n[0].getAttribute("val") : "",
                    };
                  i.addViscollLeaf(a);
                }
              }),
              i.setViscollSVGToLoad(o),
              console.log("## parseViscollDatamodel ##", i.getViscollSvgs());
          }),
          (o.parseViscollImageList = function (e) {
            var t = angular.element(e),
              n = i.getViscollSvgs();
            angular.forEach(t.find("image"), function (e) {
              var t = {
                value: e.getAttribute("val") || "val",
                url: e.getAttribute("url") || "url",
                id: e.getAttribute("id") || "id",
              },
                o = t.id.slice(0, -2);
              angular.forEach(n.quires._indexes, function (e) {
                var i = n.quires[e].leaves;
                angular.forEach(i._indexes, function (e) {
                  var n = i[e];
                  o === n.value &&
                    ((t.conjoin = n.conjoin),
                      "v" === t.id.substr(t.id.length - 1)
                        ? (t.conjoin += "-r")
                        : (t.conjoin += "-v"));
                });
              }),
                i.addViscollImageList(t);
            }),
              angular.forEach(n.imglist._indexes, function (e) {
                angular.forEach(n.imglist._indexes, function (t) {
                  t === n.imglist[e].conjoin &&
                    (n.imglist[e].conjoinUrl = n.imglist[t].url);
                });
              });
          }),
          (o.parseDocuments = function (e) {
            var t,
              r = angular.element(e),
              a = "body";
            return (
              r.find("text group text").length > 0
                ? (t = "text group text")
                : r.find("text").length > 0
                  ? (t = "text")
                  : r.find('div[subtype="edition_text"]').length > 0 &&
                  ((t = 'div[subtype="edition_text"]'), (a = "div")),
              (o.parserProperties.defDocElement = t),
              (o.parserProperties.defContentEdition = a),
              i.setCriticalEditionAvailability(
                r.find(n.listDef.replace(/[<>]/g, "")).length > 0
              ),
              angular.forEach(r.find(t), function (t) {
                o.parseDocument(t, e);
              }),
              console.log("## PAGES ##", i.getPages()),
              console.log("## Documents ##", i.getDocuments()),
              console.log("## DIVS ##", i.getDivs()),
              i.getDocuments()
            );
          }),
          (o.parseDocument = function (e, t) {
            for (
              var r = {
                value:
                  e.getAttribute("xml:id") ||
                  o.xpath(t).substr(1) ||
                  "doc_" + (i.getDocuments()._indexes.length + 1),
                label: "",
                title: "",
                content: e,
                front: void 0,
                pages: [],
                divs: [],
              },
              a = 0;
              a < e.attributes.length;
              a++
            ) {
              var s = e.attributes[a];
              s.specified && (r[s.name.replace(":", "-")] = s.value);
            }
            if (
              (void 0 === r["xml-id"]
                ? o.createTitle(r, "Doc")
                : o.createTitle(r, ""),
                o.parseFront(r, e),
                i.addDocument(r),
                o.parsePages(e, r.value),
                "body" === o.parserProperties.defContentEdition)
            ) {
              var l = e.querySelector("front"),
                c = e.querySelector("body");
              l && o.parseDivs(l, r.value, "front"),
                o.parseDivs(c, r.value, "body");
            } else o.parseDivs(e, r.value, "body");
            if (
              "critical" !== n.defaultEdition ||
              !i.isCriticalEditionAvailable()
            ) {
              n.defaultEdition = "diplomatic";
              var u = i.getPages(),
                d = r.pages;
              angular.forEach(
                angular.element(e).find(o.parserProperties.defContentEdition),
                function (e) {
                  o.splitPages(
                    u,
                    e,
                    r.value,
                    o.parserProperties.defContentEdition,
                    d
                  );
                }
              );
            }
          }),
          (o.parseDivs = function (e, t, i) {
            var n = e.getAttribute("xml:lang")
              ? e.getAttribute("xml:lang")
              : "",
              r = angular.element(e);
            angular.forEach(r.children("div"), function (e) {
              o.parseDiv(e, t, i, n);
            });
          }),
          (o.parseDiv = function (e, t, n) {
            var r = {
              doc: t,
              section: n,
              subDivs: [],
              title: "",
              _isSubDiv: o.isNestedInElem(e, "div"),
            };
            angular.forEach(Object.values(e.attributes), function (e) {
              e.specified && (r[e.name.replace(":", "-")] = e.value);
            }),
              r.corresp && (r.corresp = r.corresp.replace("#", "").split(" ")),
              (r.value =
                r["xml-id"] ||
                o.xpath(e).substr(1) ||
                "div_" + (i.getDivs().length + 1)),
              o.createTitle(r, "Div");
            var a = angular.element(e);
            return (
              angular.forEach(a.children("div"), function (e) {
                r.subDivs.push(o.parseDiv(e, t, n).value);
              }),
              i.addDiv(r, t),
              r
            );
          }),
          (o.createTitle = function (e, t) {
            switch (
            (e.type
              ? (e.title +=
                e.type.substr(0, 1).toUpperCase() + e.type.substr(1))
              : (e.title += t),
              e.subtype &&
              (e.title +=
                " - " +
                e.subtype.substr(0, 1).toUpperCase() +
                e.subtype.substr(1)),
              (e.title += " "),
              t)
            ) {
              case "Div":
                e.title += e.n || i.getDivs().length + 1;
                break;
              case "Doc":
                var n,
                  o = i.getWitnessesList().find(function (t) {
                    return (n = t), i.getWitness(t).corresp === e.value;
                  });
                e.title += o ? n : e.n || i.getDocuments()._indexes.length + 1;
                break;
              default:
                e.title = e.n || e["xml-id"];
            }
            e.label = e.title;
          }),
          (o.parseFront = function (e, t) {
            var i = t.querySelectorAll("<front>".replace(/[<\/>]/gi, ""));
            if (i && i[0]) {
              var n = i[0].cloneNode(!0),
                r = n.querySelectorAll("<biblStruct>".replace(/[<\/>]/gi, ""));
              if (r)
                for (var a = r.length - 1; a >= 0; a--) {
                  var s = document.createElement("evt-bibl-elem"),
                    l = r[a],
                    c = l.getAttribute("xml:id") || o.xpath(l).substr(1);
                  s.setAttribute("data-bibl-id", c),
                    l.parentNode.replaceChild(s, l);
                }
              var u = o.parseXMLElement(t, n, {
                skip: "<biblStruct><evt-bibl-elem>",
              }),
                d = o.parseElementAttributes(n);
              e.front = {
                attributes: d,
                parsedContent: u && u.outerHTML ? u.outerHTML.trim() : "",
                originalContent: n.outerHTML,
              };
            }
          }),
          (o.splitLineBreaks = function (e, t) {
            var i = "",
              n = "<" + t + "(.|[\r\n])*?>",
              r = new RegExp(n + "(.|[\r\n])*?<lb(.|[\r\n])*?/>", "ig"),
              a = e.outerHTML.match(r);
            if (a && a.length > 0) {
              var s = new RegExp(n, "ig"),
                l = a[0].replace(s, "");
              i += "<evtLB>" + (l = o.balanceXHTML(l)) + "</evtLB>";
            }
            for (
              var c = new RegExp("<lb(.|[\r\n])*?(?=(<lb|</" + t + ">))", "ig"),
              u = e.outerHTML.match(c),
              d = u ? u.length : 0,
              p = 0;
              p < d;
              p++
            ) {
              i += "<evtLB>" + o.balanceXHTML(u[p]) + "</evtLB>";
            }
            return i;
          }),
          (o.splitPages = function (e, t, n, o, r) {
            var a,
              s = new RegExp("<body(.|[\r\n])*?(?=<pb)", "ig"),
              l = t.outerHTML.match(s),
              c = new RegExp("<pb(.|[\r\n])*?(?=(<pb|</" + o + ">))", "ig"),
              u = t.outerHTML.match(c);
            if (l && l.length > 0) {
              var d = i.getPreviousDocument(n);
              if (d && d.pages && d.pages.length > 0) {
                var p = d.pages[d.pages.length - 1],
                  h = e.length - r.length;
                if (p && "" !== p)
                  for (var f = 0, g = h; g < e.length; g++)
                    (a = e[g]) &&
                      "" !== a &&
                      (i.setPageText(a, n, "original", u[f]), f++);
              } else
                for (var m = 0; m < e.length; m++)
                  (a = e[m]) &&
                    "" !== a &&
                    i.setPageText(a, n, "original", u[m]);
            }
          }),
          (o.parseTextForEditionLevel = function (n, r, a, s) {
            var l = o.balanceXHTML(s);
            l = l.replace(/>\s+</g, ">__SPACE__<");
            var c = e.defer(),
              u = l,
              d = t.parse(
                '<div id="mainContentToTranform" class="' +
                a +
                '">' +
                l +
                "</div>"
              );
            if (void 0 !== d) {
              for (
                var p,
                h,
                f = d.getElementById("mainContentToTranform"),
                g = f.getElementsByTagName("pb"),
                m = 0;
                m < g.length;

              )
                (p = g[m]).parentNode.removeChild(p);
              if (
                ("diplomatic" === a
                  ? (h = "_reg")
                  : "interpretative" === a && (h = "_orig"),
                  h)
              ) {
                var v = f.getElementsByTagName("lb");
                for (m = 0; m < v.length;) {
                  var b = v[m],
                    y = b.getAttribute("xml:id");
                  y && null !== y && y.indexOf(h) >= 0
                    ? b.parentNode.removeChild(b)
                    : m++;
                }
              }
              var x = f.getElementsByTagName("g");
              for (m = 0; m < x.length;) {
                var w = x[m],
                  _ = w.getAttribute("ref"),
                  A = document.createElement("span");
                if (((A.className = "glyph"), _ && "" !== _)) {
                  _ = _.replace("#", "");
                  var E = a;
                  (E = "interpretative" === E ? "normalized" : E),
                    (o.isNestedInElem(w, "abbr") ||
                      o.isNestedInElem(w, "orig")) &&
                    (E = "diplomatic");
                  var S = i.getGlyphMappingForEdition(_, E);
                  S && A.appendChild(angular.element(S.element)[0]);
                }
                A && w.parentNode.insertBefore(A, w.nextSibling),
                  w.parentNode.removeChild(w);
              }
              (f.innerHTML = f.innerHTML.replace(/>[\s\r\n]*?</g, "><")),
                angular.forEach(f.children, function (e) {
                  e.parentNode.replaceChild(
                    o.parseXMLElement(d, e, { skip: "<pb>,<g>" }),
                    e
                  );
                }),
                (u = f.outerHTML);
            } else u = "<span> {{ 'TEXT_NOT_AVAILABLE' | translate }}</span>";
            if (void 0 === u) {
              u =
                "<span class=\"alert-msg alert-msg-error\">{{'MESSAGES.ERROR_IN_PARSING_TEXT' | translate}} <br />{{'MESSAGES.TRY_DIFFERENT_BROWSER_OR_CONTACT_DEVS' | translate}}</span>";
            }
            return (
              (u = u.replace(/__SPACE__/g, " ")),
              i.setPageText(n, r, a, u),
              c.resolve("success"),
              c
            );
          }),
          o
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      angular
        .module("evtviewer.dataHandler")
        .service("evtCriticalApparatusParser", [
          "$q",
          "parsedData",
          "evtParser",
          "config",
          "evtCriticalElementsParser",
          "evtDepaParser",
          function (t, i, n, o, r, a) {
            var s = {};
            o.quoteDef,
              o.skipWitnesses.split(",").filter(function (e) {
                return 0 !== e.length;
              });
            s.findCriticalEntryById = function (t, i) {
              if (void 0 !== t) {
                var n = i
                  .replace(/\w-/g, "$&0>")
                  .replace(/[0-9]+/g, ":eq($&)")
                  .replace(/-:eq/g, ":eq"),
                  o = e(t).find(n);
                r.handleAppEntry(o.get(0));
              } else console.log("ERROR");
            };
            return (
              (s.parseWitnesses = function (e) {
                var t = o.skipWitnesses.split(",").filter(function (e) {
                  return 0 !== e.length;
                }),
                  r = angular.element(e).find(o.listDef.replace(/[<>]/g, ""));
                r.length > 0
                  ? angular.forEach(r, function (r) {
                    n.isNestedInElem(r, r.tagName) ||
                      angular.forEach(r.childNodes, function (r) {
                        if (1 === r.nodeType) {
                          var a = {};
                          if (
                            ((a.id = r.getAttribute("xml:id")),
                              t.indexOf(a.id) < 0)
                          ) {
                            if (o.listDef.indexOf("<" + r.tagName + ">") >= 0)
                              a = (function e(t, r) {
                                var a,
                                  s = o.skipWitnesses
                                    .split(",")
                                    .filter(function (e) {
                                      return 0 !== e.length;
                                    }),
                                  l = {
                                    id:
                                      r.getAttribute("xml:id") ||
                                      n.xpath(r).substr(1),
                                    sigla: r.getAttribute("xml:id"),
                                    name: "",
                                    content: [],
                                    _type: "group",
                                    _group: void 0,
                                    text: {},
                                  };
                                if (
                                  void 0 !== o.versions &&
                                  o.versions.length > 1 &&
                                  r.hasAttribute("ana")
                                ) {
                                  var c = r
                                    .getAttribute("ana")
                                    .replace("#", "");
                                  o.versions.indexOf(c) >= 0 && (a = c);
                                }
                                return (
                                  angular.forEach(r.childNodes, function (r) {
                                    if (1 === r.nodeType)
                                      if ("head" === r.tagName)
                                        l.name = r.innerHTML;
                                      else if (
                                        o.listDef.indexOf(
                                          "<" + r.tagName + ">"
                                        ) >= 0
                                      ) {
                                        if (s.indexOf(l.id) < 0) {
                                          var c = e(t, r);
                                          (c._group = l.id),
                                            i.addElementInWitnessCollection(
                                              c
                                            ),
                                            l.content.push(c.id);
                                        }
                                      } else if (
                                        o.versionDef.indexOf(
                                          "<" + r.tagName + ">"
                                        ) >= 0
                                      ) {
                                        var u = {
                                          id:
                                            r.getAttribute("xml:id") ||
                                            n.xpath(r).substr(0),
                                          sigla: r.getAttribute("xml:id"),
                                          attributes:
                                            n.parseElementAttributes(r),
                                          description: n.parseXMLElement(
                                            t,
                                            r,
                                            { skip: "" }
                                          ),
                                          _group: l.id,
                                          _type: "witness",
                                        };
                                        s.indexOf(u.id) < 0 &&
                                          (i.addElementInWitnessCollection(u),
                                            l.content.push(u.id),
                                            void 0 !== a &&
                                            i.addVersionWitness(a, u.id));
                                      }
                                  }),
                                  l
                                );
                              })(e, r);
                            else if (
                              o.versionDef.indexOf("<" + r.tagName + ">") >= 0
                            ) {
                              var s;
                              if (
                                ((a = {
                                  id:
                                    r.getAttribute("xml:id") ||
                                    n.xpath(r).substr(0),
                                  sigla: r.getAttribute("xml:id"),
                                  description: n.parseXMLElement(e, r, {
                                    skip: "",
                                  }),
                                  _group: void 0,
                                  _type: "witness",
                                  text: {},
                                }),
                                  void 0 !== o.versions &&
                                  o.versions.length > 1 &&
                                  r.hasAttribute("ana"))
                              ) {
                                var l = r
                                  .getAttribute("ana")
                                  .replace("#", "");
                                o.versions.indexOf(l) >= 0 && (s = l);
                              }
                              void 0 !== s && i.addVersionWitness(s, a.id);
                            }
                            i.addElementInWitnessCollection(a);
                          }
                        }
                      });
                  })
                  : console.log(
                    "WARNING: " +
                    o.listDef +
                    " missing. Please add this element to make EVT work properly with different witnesses."
                  ),
                  console.log("## Witnesses ##", i.getWitnesses());
              }),
              (s.parseCriticalEntries = function (e) {
                i.resetCriticalEntries();
                var n = t.defer(),
                  s = angular.element(e);
                return (
                  angular.forEach(
                    s.find("<app>".replace(/[<>]/g, "")),
                    function (t) {
                      if (
                        !t.hasAttribute("type") ||
                        "recensio" !== t.getAttribute("type")
                      ) {
                        var n = r.handleAppEntry(t);
                        n.lemma ||
                          "double-end-point" !==
                          i.getEncodingDetail("variantEncodingMethod") ||
                          a.getLemma(n, e);
                      }
                    }
                  ),
                  i.setCriticalEntriesLoaded(o.loadCriticalEntriesImmediately),
                  console.log("## Critical entries ##", i.getCriticalEntries()),
                  n.resolve("success"),
                  n
                );
              }),
              (s.parseVersionEntries = function (e) {
                var n = t.defer(),
                  o = angular.element(e);
                return (
                  angular.forEach(
                    o.find("<app>".replace(/[<>]/g, "") + "[type=recensio]"),
                    function (e) {
                      r.handleVersionEntry(e);
                    }
                  ),
                  console.log("## Version Entries ##", i.getVersionEntries()),
                  n.resolve("success"),
                  n
                );
              }),
              (s.containsWitnessElement = function (e, t) {
                return (
                  null !== e &&
                  ((void 0 !== t.group && e.indexOf("#" + t.group) >= 0) ||
                    (e.indexOf("#") >= 0 && e.indexOf("#" + t.id) >= 0) ||
                    e.indexOf(t.id) >= 0)
                );
              }),
              (s.parseWitnessPageBreaks = function (e, t) {
                for (var i = e.getElementsByTagName("pb"); 0 < i.length;) {
                  var n = i[0];
                  if (s.containsWitnessElement(n.getAttribute("ed"), t)) {
                    var o,
                      r = document.createElement("span");
                    (o = n.getAttribute("ed")
                      ? n.getAttribute("xml:id") ||
                      n.getAttribute("ed").replace("#", "") +
                      "-" +
                      n.getAttribute("n") ||
                      "page_0"
                      : n.getAttribute("xml:id") || "page_0"),
                      (r.className = "pb"),
                      r.setAttribute("data-wit", n.getAttribute("ed")),
                      r.setAttribute("data-id", o),
                      r.setAttribute("id", "pb_" + o),
                      (r.textContent = n.getAttribute("n")),
                      n.parentNode.replaceChild(r, n);
                  } else n.parentNode.removeChild(n);
                }
              }),
              (s.parseWitnessLacunas = function (e, t) {
                for (
                  var o,
                  r,
                  a,
                  s = e.getElementsByTagName("lacunaStart"),
                  l = e.getElementsByTagName("lacunaEnd"),
                  c = [],
                  u = [],
                  d = 0;
                  d < s.length;
                  d++
                )
                  (o = s[d].parentNode.getAttribute("data-app-id")),
                    (r = s[d].parentNode.getAttribute("data-reading-id")),
                    void 0 !==
                    (a = i.getCriticalEntryById(o).content[r].wits) &&
                    a.indexOf(t) >= 0 &&
                    c.push(s[d]);
                for (var p = 0; p < l.length; p++)
                  (o = l[p].parentNode.getAttribute("data-app-id")),
                    (r = l[p].parentNode.getAttribute("data-reading-id")),
                    void 0 !==
                    (a = i.getCriticalEntryById(o).content[r].wits) &&
                    a.indexOf(t) >= 0 &&
                    u.push(l[p]);
                if (c.length === u.length)
                  for (var h = c.length - 1; h >= 0; h--) {
                    var f = c[h].parentNode,
                      g = u[h].parentNode,
                      m = f.getAttribute("data-app-id"),
                      v = g.getAttribute("data-app-id"),
                      b = new RegExp(
                        "<evt-reading.*data-app-id.*" +
                        m +
                        ".*</evt-reading>(.|[\r\n])*?<evt-reading.*data-app-id.*" +
                        v +
                        ".*</evt-reading>",
                        "ig"
                      ),
                      y =
                        '<span data-app-id-start="' +
                        m +
                        '" data-app-id-end="' +
                        v +
                        '" class="lacuna">[LACUNA]</span>';
                    (e.innerHTML = e.innerHTML.replace(b, y)),
                      (e.innerHTML = n.balanceXHTML(e.innerHTML));
                  }
                else
                  e.innerHTML =
                    "<span class=\"error\">{{ 'MESSAGES.ERROR_IN_PARSING_LACUNA' | translate }}</span>";
              }),
              (s.isFragmentaryWitness = function (e, t) {
                try {
                  return (
                    e.querySelectorAll("witStart[wit*='#" + t + "']").length >
                    0 ||
                    e.querySelectorAll(
                      "rdg[wit*='#" + t + "'] witStart:not([wit]"
                    ).length > 0 ||
                    e.querySelectorAll(
                      "lem[wit*='#" + t + "'] witStart:not([wit]"
                    ).length > 0
                  );
                } catch (e) {
                  return !1;
                }
              }),
              (s.parseFragmentaryWitnessText = function (e, t) {
                for (
                  var n,
                  o,
                  r,
                  a = e.getElementsByTagName("witStart"),
                  s = e.getElementsByTagName("witEnd"),
                  l = [],
                  c = [],
                  u = 0;
                  u < a.length;
                  u++
                )
                  (n = a[u].parentNode.getAttribute("data-app-id")),
                    (o = a[u].parentNode.getAttribute("data-reading-id")),
                    void 0 !==
                    (r = i.getCriticalEntryById(n).content[o].wits) &&
                    r.indexOf(t) >= 0 &&
                    l.push(a[u]);
                for (var d = 0; d < s.length; d++)
                  (n = s[d].parentNode.getAttribute("data-app-id")),
                    (o = s[d].parentNode.getAttribute("data-reading-id")),
                    void 0 !==
                    (r = i.getCriticalEntryById(n).content[o].wits) &&
                    r.indexOf(t) >= 0 &&
                    c.push(s[d]);
                var p = "";
                if (a.length === s.length) {
                  for (var h = l.length - 1; h >= 0; h--) {
                    var f = l[h].parentNode,
                      g = c[h].parentNode,
                      m = f.getAttribute("data-app-id"),
                      v = g.getAttribute("data-app-id"),
                      b = new RegExp(
                        '<evt-reading data-app-id="' +
                        m +
                        ".*</evt-reading>(.|[\r\n])*?<evt-reading data-app-id.*" +
                        v +
                        ".*</evt-reading>",
                        "ig"
                      );
                    p =
                      '<span class="fragment fragment-start"></span>' +
                      e.innerHTML.match(b) +
                      '<span class="fragment fragment-end"></span>' +
                      p;
                  }
                  return p;
                }
                return "<span class=\"error\">{{ 'MESSAGES.ERROR_IN_PARSING_FRAGMENTARY_TEXT' | translate }}</span>";
              }),
              s
            );
          },
        ]);
    }.call(this, i(0)));
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtCriticalApparatus", [
      "parsedData",
      "config",
      function (e, t) {
        var i = {},
          n = t.skipWitnesses.split(",").filter(function (e) {
            return 0 !== e.length;
          });
        (i.getContent = function (e, n, o) {
          var r = {
            attributes: {
              values: e.attributes || {},
              _keys: Object.keys(e.attributes) || [],
            },
            lemma: { content: "", attributes: { values: {}, _keys: [] } },
            significantReadings: [],
            notSignificantReadings: [],
            readingGroups: [],
            criticalNote: "",
            witnessesGroups: JSON.parse(JSON.stringify(t.witnessesGroups)),
          };
          i.getWitnessesGroups(e, o, r.witnessesGroups);
          var a = e.content[e.lemma];
          void 0 !== a &&
            ((r.lemma.content +=
              '<span class="app_lemma_content">' +
              i.getLemma(a, o) +
              "</span>"),
              (r.lemma.attributes.values = a.attributes || {}),
              (r.lemma.attributes._keys = Object.keys(a.attributes) || []));
          for (
            var s = e._indexes.readings, l = s._indexes, c = 0;
            c < l.length;
            c++
          ) {
            var u = e.content[l[c]];
            if (void 0 !== u) {
              var d = i.getSignificantReading(u, o);
              s._significant.indexOf(u.id) >= 0
                ? r.significantReadings.push(d)
                : r.notSignificantReadings.push(d);
            }
          }
          if (!n && e._indexes.groups.length > 0)
            for (var p = 0; p < e._indexes.groups.length; p++) {
              var h = e.content[e._indexes.groups[p]];
              if (void 0 !== h) {
                var f = [];
                for (var g in h.attributes)
                  f.push({ label: g, values: h.attributes[g] });
                for (var m = [], v = 0; v < h.content.length; v++) {
                  var b = e.content[h.content[v]];
                  void 0 !== b && m.push(i.getSignificantReading(b, o));
                }
                m.length > 0 &&
                  r.readingGroups.push({ header: f, readings: m });
              }
            }
          return (r.criticalNote += e.note), r;
        }),
          (i.getWitnessesGroups = function (e, t, n) {
            for (var o in n) {
              for (var r in ((n[o].wits = []),
                (n[o].significant = {}),
                (n[o].significantContent = {}),
                (n[o].notSignificant = {}),
                (n[o].notSignificantContent = {}),
                e._indexes.witMap))
                n[o].witnesses.indexOf(r) >= 0 && n[o].wits.push(r);
              for (var a in (delete n[o].witnesses, n[o].wits)) {
                var s = e._indexes.witMap[n[o].wits[a]],
                  l = e.content[s];
                l._significant
                  ? ((n[o].significantContent[s] = l),
                    void 0 === n[o].significant[s]
                      ? ((n[o].significant[s] = []),
                        n[o].significant[s].push(n[o].wits[a]))
                      : n[o].significant[s].push(n[o].wits[a]))
                  : ((n[o].notSignificantContent[s] = l),
                    void 0 === n[o].notSignificant[s]
                      ? ((n[o].notSignificant[s] = []),
                        n[o].notSignificant[s].push(n[o].wits[a]))
                      : n[o].notSignificant[s].push(n[o].wits[a]));
              }
              var c, u, d;
              if (0 === Object.keys(n[o].significant).length)
                delete n[o].significant, delete n[o].significantContent;
              else {
                for (c in ((n[o].significantText = ""), n[o].significant)) {
                  for (d in ((u = '<span class="'),
                    c === e.lemma
                      ? (u += 'lem inWitGrp">')
                      : (u += 'rdg inWitGrp">'),
                    (u +=
                      i.getReadingForGroup(n[o].significantContent[c], t) +
                      '</span><span class="witnesses">'),
                    n[o].significant[c]))
                    u +=
                      '<evt-witness-ref witness="' +
                      n[o].significant[c][d] +
                      '" data-scope-wit="' +
                      t +
                      '"></evt-witness-ref>';
                  (u += "</span>"), (n[o].significantText += u);
                }
                delete n[o].significant, delete n[o].significantContent;
              }
              if (0 === Object.keys(n[o].notSignificant).length)
                delete n[o].notSignificant, delete n[o].notSignificantContent;
              else {
                for (c in ((n[o].notSignificantText = ""),
                  n[o].notSignificant)) {
                  for (d in ((u = '<span class="'),
                    c === e.lemma
                      ? (u += 'lem inWitGrp">')
                      : (u += 'rdg inWitGrp">'),
                    (u +=
                      i.getReadingForGroup(n[o].notSignificantContent[c], t) +
                      '</span><span class="witnesses">'),
                    n[o].notSignificant[c]))
                    u +=
                      '<evt-witness-ref witness="' +
                      n[o].notSignificant[c][d] +
                      '" data-scope-wit="' +
                      t +
                      '"></evt-witness-ref>';
                  (u += "</span>"), (n[o].notSignificantText += u);
                }
                delete n[o].notSignificant, delete n[o].notSignificantContent;
              }
            }
          }),
          (i.getReadingForGroup = function (e, t) {
            for (var n = "", o = 0; o < e.content.length; o++)
              "string" == typeof e.content[o]
                ? (n += e.content[o])
                : "subApp" === e.content[o].type
                  ? (n += i.getSubApparatus(e.content[o].id, t))
                  : "genericElement" === e.content[o].type
                    ? (n += i.getGenericContent(e.content[o], t))
                    : "quote" === e.content[o].type ||
                      "analogue" === e.content[o].type
                      ? (n += i.getCriticalElementContent(e.content[o], t))
                      : (n += e.content[o].outerHTML);
            return (
              "" === n && (n = " <i>om.</i> "),
              (n = (n = i.transformCriticalEntryLacunaMilestones(n)).replace(
                / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                ""
              )),
              (n = i.transformCriticalEntryFragmentMilestones(n))
            );
          }),
          (i.getGenericContent = function (e, t) {
            var n;
            n = ' <span class="' + e.tagName + ' inApparatus">';
            for (var o = 0; o < e.content.length; o++)
              "string" == typeof e.content[o]
                ? (n += e.content[o])
                : "subApp" === e.content[o].type
                  ? (n += i.getSubApparatus(e.content[o].id, t))
                  : "genericElement" === e.content[o].type
                    ? (n += i.getGenericContent(e.content[o], t))
                    : (n += e.content[o].outerHTML);
            return (n += "</span>");
          }),
          (i.getLemma = function (e, t) {
            for (var n = "", o = 0; o < e.content.length; o++)
              "subApp" === e.content[o].type
                ? (n += i.getSubApparatus(e.content[o].id, t))
                : "quote" === e.content[o].type ||
                  "analogue" === e.content[o].type
                  ? (n += i.getCriticalElementContent(e.content[o], t))
                  : "genericElement" === e.content[o].type
                    ? (n += i.getGenericContent(e.content[o], t))
                    : (n += e.content[o]);
            return (
              "" !== (n = i.transformCriticalEntryLacunaMilestones(n)) &&
              (n += i.getCriticalEntryWitnesses(e, "lem", t)),
              (n = n.replace(
                / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                ""
              )),
              (n = i.transformCriticalEntryFragmentMilestones(n))
            );
          }),
          (i.getSubApparatus = function (t, n) {
            var o = "",
              r = e.getCriticalEntryById(t),
              a = i.getContent(r, !0, n);
            o += '<span class="sub_app"> ((' + a.lemma.content + " ";
            for (var s = 0; s < a.significantReadings.length; s++)
              (o += a.significantReadings[s].content),
                s < a.significantReadings.length - 1 && (o += "; ");
            return (o += ")) </span>");
          }),
          (i.getSignificantReading = function (e, t) {
            for (var n = "", o = {}, r = 0; r < e.content.length; r++)
              "string" == typeof e.content[r]
                ? (n += e.content[r])
                : "subApp" === e.content[r].type
                  ? (n += i.getSubApparatus(e.content[r].id, t))
                  : "genericElement" === e.content[r].type
                    ? (n += i.getGenericContent(e.content[r], t))
                    : "quote" === e.content[r].type ||
                      "analogue" === e.content[r].type
                      ? (n += i.getCriticalElementContent(e.content[r], t))
                      : (n += e.content[r].outerHTML);
            "" === n && (n = " <i>om.</i> "),
              (n = i.transformCriticalEntryLacunaMilestones(n));
            var a = i.getCriticalEntryWitnesses(e, "rdg", t);
            return (
              (void 0 !== e.wits && "" === a) ||
              ((n = (n += a).replace(
                / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                ""
              )),
                (o = {
                  content: (n = i.transformCriticalEntryFragmentMilestones(n)),
                  attributes: {
                    values: e.attributes || {},
                    _keys: Object.keys(e.attributes) || [],
                  },
                })),
              o
            );
          }),
          (i.getCriticalElementContent = function (e, t) {
            var n = e.content || [],
              r = '<span class="' + e.type + ' inApparatus">';
            for (var a in n)
              if ("string" == typeof n[a])
                r += '<span class="textNode">' + n[a] + "</span>";
              else {
                if (
                  ["EVT-POPOVER", "lb", "ptr", "link", "linkGrp", "pb"].indexOf(
                    n[a].tagName
                  ) >= 0
                )
                  r += "";
                else if ("app" === n[a].type) {
                  r += o(n[a], t);
                } else
                  "analogue" === n[a].type || "quote" === n[a].type
                    ? (r += i.getCriticalElementContent(n[a], t))
                    : void 0 !== n[a].content && (r += i.getText(n[a]));
              }
            return (r += "</span>");
          }),
          (i.getText = function (e) {
            var t = "",
              n = e.content;
            if (void 0 !== n)
              for (var o = 0; o < n.length; o++)
                "string" == typeof n[o]
                  ? (t += '<span class="textNode">' + n[o] + "</span>")
                  : void 0 !== n[o].content && (t += i.getText(n[o]));
            return t;
          });
        var o = function (e, t) {
          var n = "";
          if ("" === t || void 0 === t || void 0 === e._indexes.witMap[t]) {
            var o = e.lemma;
            n += i.getText(e.content[o]);
          } else {
            var r = e._indexes.witMap[t];
            n += i.getText(e.content[r]);
          }
          return n;
        };
        return (
          (i.getCriticalEntryWitnesses = function (e, t, i) {
            var o = "";
            if (void 0 !== e.wits && e.wits.length > 0)
              for (var r in e.wits)
                r &&
                  e.wits[r] &&
                  n.indexOf(r) < 0 &&
                  (o +=
                    '<evt-witness-ref witness="' +
                    e.wits[r] +
                    '" data-scope-wit="' +
                    i +
                    '"></evt-witness-ref>');
            else if (
              "lem" === t &&
              void 0 !== e.autoWits &&
              e.autoWits.length > 0
            )
              for (var a in e.autoWits)
                a &&
                  e.autoWits[a] &&
                  n.indexOf(a) < 0 &&
                  (o +=
                    '<evt-witness-ref witness="' +
                    e.autoWits[a] +
                    '" data-scope-wit="' +
                    i +
                    '"></evt-witness-ref>');
            return (
              "" !== o &&
              (o =
                '<span class="witnesses witnesses-' +
                t +
                '">' +
                o +
                "</span>"),
              o
            );
          }),
          (i.getCriticalEntryAttributes = function (e, t) {
            var i = "";
            if (void 0 !== e.attributes)
              for (var n in e.attributes)
                "wit" !== n &&
                  "xml:id" !== n &&
                  (i +=
                    '<span class="' +
                    n +
                    '">' +
                    n +
                    ": " +
                    e.attributes[n] +
                    "</span>");
            return (
              "" !== i &&
              (i =
                '<span class="attributes" style="display:none">' +
                i +
                "</span>"),
              i
            );
          }),
          (i.transformCriticalEntryLacunaMilestones = function (e) {
            return (e = (e = e.replace(
              /<lacunaStart(.|[\r\n])*?\/>/gi,
              "<i> {{ 'CRITICAL_APPARATUS.LACUNA_START' | translate }} </i>"
            )).replace(
              /<lacunaEnd(.|[\r\n])*?\/>/gi,
              "<i> {{ 'CRITICAL_APPARATUS.LACUNA_END' | translate }} </i>"
            ));
          }),
          (i.transformCriticalEntryFragmentMilestones = function (e) {
            var t = e.match(/<witStart(.|[\r\n])*?\/>/gi);
            if (null !== t)
              for (var i = 0; i < t.length; i++) {
                var n = t[i],
                  o = n.match(/"#.*"/g);
                o = null !== o ? " of " + o[0].replace(/["#]/g, "") : "";
                var r = new RegExp(n, "ig");
                e = e.replace(r, "<i> [beginning of fragment" + o + "] </i>");
              }
            var a = e.match(/<witEnd(.|[\r\n])*?\/>/gi);
            if (null !== a)
              for (var s = 0; s < a.length; s++) {
                var l = a[s],
                  c = l.match(/"#.*"/g);
                c = null !== c ? " of " + c[0].replace(/["#]/g, "") : "";
                var u = new RegExp(l, "ig");
                e = e.replace(u, "<i> [end of fragment" + c + "] </i>");
              }
            return e;
          }),
          i
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtNamedEntitiesParser", [
      "parsedData",
      "evtParser",
      function (e, t) {
        var i = {},
          n = [
            {
              listDef: "<listPlace>",
              contentDef: "<place>",
              contentForLabelDef: "<placeName>",
              type: "place",
            },
            {
              listDef: "<listPerson>",
              contentDef: "<person>",
              contentForLabelDef: "<persName>",
              type: "person",
            },
            {
              listDef: "<listOrg>",
              contentDef: "<org>",
              contentForLabelDef: "<orgName>",
              type: "org",
            },
            {
              listDef: "<list>",
              contentDef: "<item>",
              contentForLabelDef: "",
              type: "generic",
            },
          ];
        (i.parseEntities = function (r) {
          for (var a = angular.element(r), l = "", c = 0; c < n.length; c++) {
            var u =
              "<sourceDesc>".replace(/[<>]/g, "") +
              " > " +
              n[c].listDef.replace(/[<>]/g, ""),
              d = n[c].contentDef.replace(/[<>]/g, ""),
              p = n[c].type || "generic",
              h = "LISTS." + p.toUpperCase();
            (l += u + " " + "<relation>".replace(/[<>]/g, "") + ", "),
              angular.forEach(a.find(u), function (r) {
                if (!t.isNestedInElem(r, r.tagName)) {
                  var a = r.getAttribute("xml:id") || void 0;
                  if ("generic" !== p || ("generic" === p && void 0 !== a)) {
                    var l = { id: a || t.xpath(r), type: p, title: h };
                    angular.forEach(r.childNodes, function (t) {
                      if (1 === t.nodeType) {
                        var r = s(t, l),
                          a = {};
                        n[c].listDef.indexOf("<" + t.tagName + ">") >= 0
                          ? i.parseDirectSubList(t, n[c], l)
                          : d.indexOf(t.tagName) >= 0 &&
                          ((a = o(t, n[c])),
                            e.addNamedEntityInCollection(
                              r,
                              a,
                              a.id.substr(0, 1).toLowerCase()
                            ));
                      }
                    }),
                      r.parentNode.removeChild(r);
                  }
                }
              });
          }
          var f = a.find(l.slice(0, -2));
          if (f && f.length > 0) {
            var g = {
              id: "parsedRelations",
              type: "relation",
              title: "LISTS.RELATION",
            };
            angular.forEach(f, function (e) {
              i.parseRelationsInList(e, g);
            });
          }
          console.log("## parseEntities ##", e.getNamedEntitiesCollection());
        }),
          (i.parseDirectSubList = function (t, i, r) {
            var a = i.contentDef;
            n.listDef;
            angular.forEach(t.childNodes, function (t) {
              if (1 === t.nodeType) {
                var n = s(t, r),
                  l = {};
                a.indexOf(t.tagName) >= 0 &&
                  ((l = o(t, i)),
                    e.addNamedEntityInCollection(n, l, l._listPos));
              }
            });
          }),
          (i.parseRelationsInList = function (i, n) {
            var o = t.parseXMLElement(i, i, { skip: "<evtNote>" }),
              r = i.getAttribute("active"),
              a = i.getAttribute("mutual"),
              s = i.getAttribute("passive"),
              l = i.getAttribute("name"),
              c = i.getAttribute("type");
            !c &&
              i.parentNode &&
              "<listRelation>".indexOf("<" + i.parentNode.tagName + ">") >= 0 &&
              (c = i.parentNode.getAttribute("type")),
              (l = l ? t.camelToSpace(l) : l);
            var u = {
              id: i.getAttribute("xml:id") || t.xpath(i),
              label: "",
              content: { _indexes: [] },
              _listPos: "",
              _xmlSource: i.outerHTML.replace(
                / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                ""
              ),
            };
            (u.content.name = [{ attributes: { _indexes: [] }, text: l }]),
              u.content._indexes.push("name"),
              (u.label = l ? l.toLowerCase() : ""),
              l && (u.label += " ("),
              (u.label += c || "generic"),
              (u.label += " relation"),
              l && (u.label += ")");
            var d = '<span class="relation">',
              p = "",
              h = "",
              f = "",
              g = r
                ? r.split("#").filter(function (e) {
                  return 0 !== e.length;
                })
                : [],
              m = a
                ? a.split("#").filter(function (e) {
                  return 0 !== e.length;
                })
                : [],
              v = s
                ? s.split("#").filter(function (e) {
                  return 0 !== e.length;
                })
                : [];
            if (r || a || s || l) {
              for (var b, y, x = 0; x < g.length; x++)
                (b = document.createElement("evt-named-entity-ref")),
                  (y = g[x].trim()) &&
                  "" !== y &&
                  b.setAttribute("data-entity-id", y),
                  (b.textContent = "#" + y),
                  (d += b.outerHTML + " "),
                  (p += b.outerHTML.trim() + ", ");
              for (var w = 0; w < m.length; w++)
                0 === w && r && "" !== r && (d += "{{ 'AND' | translate}} "),
                  (b = document.createElement("evt-named-entity-ref")),
                  (y = m[w].trim()) &&
                  "" !== y &&
                  b.setAttribute("data-entity-id", y),
                  (b.textContent = "#" + y),
                  (d += b.outerHTML + " "),
                  (h += b.outerHTML.trim() + ", ");
              d += l ? '<span class="relation-name">' + l + " </span>" : "";
              for (var _ = 0; _ < v.length; _++)
                (b = document.createElement("evt-named-entity-ref")),
                  (y = v[_].trim()) &&
                  "" !== y &&
                  b.setAttribute("data-entity-id", y),
                  (b.textContent = "#" + y),
                  (d += b.outerHTML + " "),
                  (f += b.outerHTML.trim() + ", ");
            }
            (d += "</span>"), (d += o ? o.innerHTML : i.innerHTML);
            for (var A = 0; A < g.length; A++) {
              var E = e.getNamedEntity(g[A].trim());
              E &&
                "" !== d &&
                (E.content.relations ||
                  ((E.content.relations = []),
                    E.content._indexes.push("relations")),
                  E.content.relations.push({
                    text:
                      "{{ 'LISTS.RELATION_ACTIVE_ROLE ' | translate:'{relationType:\"" +
                      c +
                      "\"}'}}: " +
                      d,
                    attributes: [],
                  }),
                  (E._xmlSource += i.outerHTML.replace(
                    / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                    ""
                  )));
            }
            for (var S = 0; S < m.length; S++) {
              var T = e.getNamedEntity(m[S].trim());
              T &&
                "" !== d &&
                (T.content.relations ||
                  ((T.content.relations = []),
                    T.content._indexes.push("relations")),
                  T.content.relations.push({
                    text:
                      "{{ 'LISTS.RELATION_MUTUAL_ROLE ' | translate:'{relationType:\"" +
                      c +
                      "\"}'}}: " +
                      d,
                    attributes: [],
                  }),
                  (T._xmlSource += i.outerHTML.replace(
                    / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                    ""
                  )));
            }
            for (var C = 0; C < v.length; C++) {
              var k = e.getNamedEntity(v[C].trim());
              k &&
                "" !== d &&
                (k.content.relations ||
                  ((k.content.relations = []),
                    k.content._indexes.push("relations")),
                  k.content.relations.push({
                    text:
                      "{{ 'LISTS.RELATION_PASSIVE_ROLE ' | translate:'{relationType:\"" +
                      c +
                      "\"}'}}: " +
                      d,
                    attributes: [],
                  }),
                  (k._xmlSource += i.outerHTML.replace(
                    / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                    ""
                  )));
            }
            if (
              ((u.label = t.capitalize(u.label + ": " + d)),
                (u._listPos = u.label.substr(0, 1).toLowerCase()),
                "" !== p || "" !== h || "" !== f)
            ) {
              var L = [];
              "" !== p &&
                L.push({
                  attributes: {
                    type: "LISTS.RELATION_ACTIVE",
                    _indexes: ["type"],
                  },
                  text: p.slice(0, -2),
                }),
                "" !== h &&
                L.push({
                  attributes: {
                    type: "LISTS.RELATION_MUTUAL",
                    _indexes: ["type"],
                  },
                  text: h.slice(0, -2),
                }),
                "" !== f &&
                L.push({
                  attributes: {
                    type: "LISTS.RELATION_PASSIVE",
                    _indexes: ["type"],
                  },
                  text: f.slice(0, -2),
                }),
                (u.content.actors = L),
                u.content._indexes.push("actors");
            }
            e.addNamedEntityInCollection(n, u, u._listPos);
          });
        var o = function (e, i) {
          var n = i.contentDef,
            o = i.listDef,
            s = i.contentForLabelDef,
            l = e.getAttribute("xml:id") || t.xpath(e),
            c = {
              id: l,
              label: "",
              content: { _indexes: [] },
              _listPos: l.substr(0, 1).toLowerCase(),
              _xmlSource: e.outerHTML.replace(
                / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                ""
              ),
            },
            u = e.getElementsByTagName(s.replace(/[<>]/g, ""));
          if (u && u.length > 0) {
            var d = t.parseXMLElement(u[0], u[0], { skip: "<evtNote>" });
            c.label = d ? d.innerHTML : l;
          } else c.label = l;
          return (
            angular.forEach(e.childNodes, function (e) {
              1 === e.nodeType &&
                (s.indexOf("<" + e.tagName + ">") >= 0 &&
                  e.children &&
                  e.children.length > 0
                  ? angular.forEach(e.children, function (e) {
                    1 === e.nodeType && r(c, e, n, o);
                  })
                  : r(c, e, n, o));
            }),
            "<placeName>" === s && a(c, e),
            c
          );
        },
          r = function (e, n, o, r) {
            var a;
            void 0 === e.content[n.tagName] &&
              ((e.content[n.tagName] = []), e.content._indexes.push(n.tagName)),
              (a =
                o.indexOf("<" + n.tagName + ">") >= 0
                  ? i.parseSubEntity(n, o, r)
                  : t.parseXMLElement(n, n, { skip: "<evtNote>" })),
              e.content[n.tagName].push({
                text: a ? a.innerHTML : n.innerHTML,
                attributes: t.parseElementAttributes(n),
              });
          },
          a = function (e, t) {
            var i = t.outerHTML.search("<geo");
            if (i >= 0) {
              var n = t.outerHTML.search("</geo>"),
                o = t.outerHTML.substring(i, n),
                r = (o = o.substring(o.indexOf(">") + 1)).split(", ");
              2 === r.length && (e.map = { lat: r[0], lng: r[1] });
            }
          };
        (i.parseSubEntity = function (e, n, o) {
          var r = document.createElement("evt-named-entity-ref"),
            a = e.getAttribute("ref"),
            s = a ? a.replace("#", "") : void 0;
          s && "" !== s && r.setAttribute("data-entity-id", s);
          var l = e.tagName ? e.tagName : "generic";
          r.setAttribute("data-entity-type", l);
          for (var c = 0; c < e.childNodes.length; c++) {
            var u,
              d = e.childNodes[c].cloneNode(!0);
            (u =
              1 === d.nodeType &&
                o.toLowerCase().indexOf("<" + d.tagName.toLowerCase() + ">") >= 0
                ? i.parseNamedEntitySubList(d, d, "<evtNote>")
                : t.parseXMLElement(d, d, { skip: "<evtNote>" })),
              r.appendChild(u);
          }
          return r;
        }),
          (i.parseNamedEntitySubList = function (e, i, n) {
            var o = document.createElement("span"),
              r = document.createElement("span"),
              a = "";
            (o.className = i.tagName.toLowerCase()),
              (r.className = i.tagName.toLowerCase() + "-attributes");
            for (var s = 0; s < i.attributes.length; s++) {
              var l = i.attributes[s];
              l.specified &&
                (o.setAttribute("data-" + l.name.replace(":", "-"), l.value),
                  (a += t.camelToSpace(l.value) + ", "));
            }
            "" !== a && ((r.textContent = a.slice(0, -2)), o.appendChild(r));
            for (var c = 0; c < i.childNodes.length; c++) {
              var u = i.childNodes[c].cloneNode(!0),
                d = t.parseXMLElement(e, u, { skip: n });
              o.appendChild(d);
            }
            return o;
          });
        var s = function (e, i) {
          var n = i;
          if (
            e.previousElementSibling &&
            "<head>".indexOf("<" + e.previousElementSibling.tagName + ">") >=
            0
          )
            (n.id = e.previousElementSibling.textContent
              .trim()
              .replace(/\s/g, "")),
              (n.title = e.previousElementSibling.textContent.trim());
          else {
            var o,
              r = e.parentNode;
            if (
              (r &&
                r.getAttribute("xml:id") &&
                ((o = r.getAttribute("xml:id").trim().replace(/\s/g, "")),
                  (n.id = o),
                  (n.title = o)),
                r && r.getAttribute("type"))
            ) {
              var a = r.getAttribute("type").trim();
              (o && void 0 !== o) || (n.id = a),
                (a = t.camelToSpace(a)),
                (n.title = a.substr(0, 1).toUpperCase() + a.substr(1));
            }
          }
          return n;
        },
          l = function (e) {
            var t = new RegExp('xml:id=".*"', "ig"),
              i = e.match(t);
            t = new RegExp('xml:id=(?:"[^"]*"|^[^"]*$)', "ig");
            var n = i ? i[0].match(t) : void 0;
            return n
              ? n[0].replace(/xml:id/, "").replace(/(=|\"|\')/gi, "")
              : "";
          };
        return (
          (i.parseEntitiesOccurrences = function (t, i) {
            var n = t && t.content ? t.content : void 0,
              o = n ? n.outerHTML : void 0,
              r = [];
            if (o && i && "" !== i)
              for (
                var a = new RegExp(
                  "<pb(.|[\r\n])*?/>(.|[\r\n])*?(?=#" + i + ")",
                  "ig"
                ),
                s = o.match(a),
                c = s ? s.length : 0,
                u = 0;
                u < c;
                u++
              ) {
                var d = new RegExp("<pb(.|[\r\n])*?/>", "ig"),
                  p = s[u].match(d),
                  h = p && p.length > 0 ? p[p.length - 1] : "",
                  f = l(h);
                if (f) {
                  var g = e.getPage(f);
                  r.push({
                    pageId: f,
                    pageLabel: g ? g.label : f,
                    docId: t ? t.value : "",
                    docLabel: t ? t.label : "",
                  });
                }
              }
            return r;
          }),
          i
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtPrimarySourcesParser", [
      "parsedData",
      function (e) {
        var t = {};
        return (
          (t.parseZones = function (t) {
            var i = angular.element(t);
            angular.forEach(i.find("surface"), function (t) {
              t.getAttribute("xml:id");
              var i = t.getAttribute("corresp");
              (i = i ? i.replace("#", "") : i),
                angular.forEach(t.childNodes, function (t) {
                  if ("zone" === t.tagName) {
                    var n = {};
                    if (t.attributes)
                      for (var o = 0; o < t.attributes.length; o++) {
                        var r = t.attributes[o];
                        if (r.specified)
                          n[
                            "xml:id" === r.name
                              ? "id"
                              : r.name.replace(":", "-")
                          ] = r.value;
                      }
                    (n.page = i), e.addZone(n);
                  }
                });
            }),
              console.log("## ZONES ##", e.getZones());
          }),
          t
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtProjectInfoParser", [
      "parsedData",
      "evtParser",
      function (e, t) {
        var i = {};
        i.parseProjectInfo = function (t) {
          var n = angular.element(t);
          angular.forEach(
            n.find("<teiHeader>".replace(/[<>]/g, "")),
            function (e) {
              i.parseEditionReference(e),
                i.parseFileDescription(e),
                i.parseEncodingDescription(e),
                i.parseTextProfile(e),
                i.parseOutsideMetadata(e),
                i.parseRevisionHistory(e),
                i.parseMsDescription(e),
                i.parselistObjectDescription(e);
            }
          ),
            console.log("## parseProjectInfo ##", e.getProjectInfo());
        };
        return (
          (i.parseEditionReference = function (t) {
            var i = angular.element(t),
              n = i.find("<titleStmt>".replace(/[<>]/g, "") + " title")[0],
              o = i.find("<titleStmt>".replace(/[<>]/g, "") + " author")[0],
              r = i.find(
                "<publicationStmt>".replace(/[<>]/g, "") + " publisher"
              )[0],
              a = {
                title: n ? n.textContent : "",
                author: o ? o.textContent : "",
                publisher: r ? r.textContent : "",
              };
            e.updateProjectInfoContent(a, "editionReference");
          }),
          (i.parseFileDescription = function (i) {
            var n = angular.element(i);
            angular.forEach(
              n.find("<fileDesc>".replace(/[<>]/g, "")),
              function (n) {
                if (n.children.length > 0) {
                  var o = t.parseXMLElement(i, n, {
                    skip: "<evtNote>",
                    exclude: "<listBibl>, <listWit>",
                    context: "projectInfo",
                  }).outerHTML;
                  e.updateProjectInfoContent(o, "fileDescription");
                }
              }
            );
          }),
          (i.parseEncodingDescription = function (n) {
            var o = angular.element(n);
            angular.forEach(
              o.find("<encodingDesc>".replace(/[<>]/g, "")),
              function (o) {
                if (o.children.length > 0) {
                  var r = "",
                    a = angular.element(o).find("variantEncoding")[0];
                  if (a) {
                    var s = t.parseXMLElement(n, o, {
                      skip: "<evtNote>",
                      exclude: "<listBibl>, <listWit>",
                      context: "projectInfo",
                    }).outerHTML;
                    (r = s || ""),
                      (r +=
                        "<span class=\"variantEncoding\">{{ 'PROJECT_INFO.ENCODING_METHOD_USED' | translate:'{ method:  \"" +
                        a.getAttribute("method") +
                        "\" }' }}</span>"),
                      i.parseVariantEncodingInfo(a);
                  }
                  e.updateProjectInfoContent(r, "encodingDescription");
                }
              }
            );
          }),
          (i.parseVariantEncodingInfo = function (t) {
            t.hasAttribute("method") &&
              e.setEncodingDetail(
                "variantEncodingMethod",
                t.getAttribute("method")
              ),
              t.hasAttribute("location") &&
              e.setEncodingDetail(
                "variantEncodingLocation",
                t.getAttribute("location")
              );
          }),
          (i.parseTextProfile = function (i) {
            var n = angular.element(i);
            angular.forEach(
              n.find("<profileDesc>".replace(/[<>]/g, "")),
              function (n) {
                if (n.children.length > 0) {
                  var o = t.parseXMLElement(i, n, {
                    skip: "<evtNote>",
                    exclude: "<listBibl>, <listWit>",
                    context: "projectInfo",
                  }).outerHTML;
                  e.updateProjectInfoContent(o, "textProfile");
                }
              }
            );
          }),
          (i.parseOutsideMetadata = function (i) {
            var n = angular.element(i);
            angular.forEach(
              n.find("<xenoData>".replace(/[<>]/g, "")),
              function (n) {
                if (n.children.length > 0) {
                  var o = t.parseXMLElement(i, n, {
                    skip: "<evtNote>",
                    exclude: "<listBibl>, <listWit>",
                    context: "projectInfo",
                  }).outerHTML;
                  e.updateProjectInfoContent(o, "outsideMetadata");
                }
              }
            );
          }),
          (i.parseRevisionHistory = function (i) {
            var n = angular.element(i);
            angular.forEach(
              n.find("<revisionDesc>".replace(/[<>]/g, "")),
              function (n) {
                var o = t.parseXMLElement(i, n, {
                  skip: "<evtNote>",
                  exclude: "<listBibl>, <listWit>",
                  context: "projectInfo",
                }).outerHTML;
                e.updateProjectInfoContent(o, "revisionHistory");
              }
            );
          }),
          (i.parseMsDescription = function (i) {
            var n = angular.element(i);
            angular.forEach(
              n.find("<msDesc>".replace(/[<>]/g, "")),
              function (n) {
                var o = t.parseXMLElement(i, n, {
                  skip: "<evtNote>",
                  exclude: "<listBibl>, <listWit>",
                  context: "projectInfo",
                }).outerHTML;
                e.updateProjectInfoContent(o, "msDesc");
              }
            );
          }),
          (i.parselistObjectDescription = function (i) {
            var n = angular.element(i);
            angular.forEach(
              n.find("<listObject>".replace(/[<>]/g, "")),
              function (n) {
                var o = t.parseXMLElement(i, n, {
                  skip: "<evtNote>",
                  exclude: "<listBibl>, <listWit>",
                  context: "projectInfo",
                }).outerHTML;
                e.updateProjectInfoContent(o, "listObject");
              }
            ),
              console.log(
                "## parselistObjectDescription ##",
                e.getProjectInfo().listObject
              );
          }),
          i
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtCriticalParser", [
      "$q",
      "parsedData",
      "evtParser",
      "evtCriticalApparatusParser",
      "evtCriticalElementsParser",
      "config",
      "evtDepaParser",
      function (e, t, i, n, o, r, a) {
        var s = {},
          l = r.quoteDef,
          c = r.analogueDef,
          u =
            (i.createRegExpr(c),
              "<evt-reading>,<pb>,<app>,<lem>, <rdg>,<rdgGrp>," +
              l +
              "," +
              c +
              ",<evt-quote>,<evt-analogue>,<evt-version-reading>");
        r.skipWitnesses.split(",").filter(function (e) {
          return 0 !== e.length;
        });
        return (
          (s.parseWitnessText = function (o, a, l) {
            var c,
              d = e.defer();
            if (void 0 !== o) {
              var p = s.getDocToParse(o),
                h = p.getElementsByTagName("body")[0],
                f = t.getWitness(l);
              if (
                (s.parseCriticalElementsInText(h, p, l, null),
                  (h.innerHTML = h.innerHTML.replace(/>[\s\r\n]*?</g, "><")),
                  angular.forEach(h.querySelectorAll("[exclude]"), function (e) {
                    var t = e.getAttribute("exclude");
                    t && t.indexOf("#" + l) >= 0 && e.parentNode.removeChild(e);
                  }),
                  angular.forEach(h.children, function (e) {
                    var t =
                      u + "," + r.lacunaMilestone + "," + r.fragmentMilestone;
                    e.parentNode.replaceChild(
                      i.parseXMLElement(p, e, { skip: t }),
                      e
                    );
                  }),
                  n.parseWitnessPageBreaks(h, f),
                  n.parseWitnessLacunas(h, l),
                  n.isFragmentaryWitness(h, l))
              ) {
                h.innerHTML = h.innerHTML.replace(
                  /xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"/g,
                  ""
                );
                var g = n.parseFragmentaryWitnessText(h, l);
                c = i.balanceXHTML(g);
              } else c = h.innerHTML;
              c = i.balanceXHTML(c);
            } else
              c =
                "<span> {{ 'MESSAGES.TEXT_NOT_AVAILABLE' | translate }}</span>";
            return t.addWitnessText(l, a, c), d.resolve("success"), d;
          }),
          (s.parseCriticalText = function (n, o, a) {
            var l,
              c = e.defer();
            if (void 0 !== n) {
              var d = s.getDocToParse(n),
                p = d.getElementsByTagName("body")[0];
              s.parseCriticalElementsInText(p, d, "", a);
              for (var h = p.getElementsByTagName("pb"); 0 < h.length;) {
                var f = h[0];
                f.parentNode.removeChild(f);
              }
              angular.forEach(p.children, function (e) {
                var t = u + "," + r.lacunaMilestone + "," + r.fragmentMilestone;
                e.parentNode.replaceChild(
                  i.parseXMLElement(d, e, { skip: t }),
                  e
                );
              }),
                (l = p.outerHTML);
            } else l = "<span>Text not available.</span>";
            if (void 0 === l) {
              l =
                "<span class=\"alert-msg alert-msg-error critical-text-error\"># Critical Text Error. # <br/>{{'MESSAGES.ERROR_IN_PARSING_TEXT' | translate}} <br />{{'MESSAGES.TRY_DIFFERENT_BROWSER_OR_CONTACT_DEVS' | translate}}</span>";
            }
            return (
              ("" !== a && void 0 !== a && a !== r.versions[0]) ||
              t.addCriticalText(l, o),
              void 0 !== a && t.addVersionText(l, o, a),
              c.resolve("success"),
              c
            );
          }),
          (s.getDocRoot = function (e) {
            if (e && e.tagName && "tei" === e.tagName.toLowerCase()) return e;
            if (e && e.parentNode) return s.getDocRoot(e.parentNode);
            var t = e ? e.querySelector("tei") : e;
            return t ? s.getDocRoot(t) : e;
          }),
          (s.getDocToParse = function (e) {
            var t,
              n = s.getDocRoot(e).cloneNode(!0);
            return (
              angular.forEach(
                angular.element(n).find(i.parserProperties.defDocElement),
                function (i) {
                  0 === i.outerHTML.localeCompare(e.outerHTML) && (t = i);
                }
              ),
              t || e
            );
          }),
          (s.parseCriticalElementsInText = function (e, n, o, u) {
            for (
              var d =
                e.getElementsByTagName("<app>".replace(/[<>]/g, "")) || [],
              p = d.length - 1;
              p < d.length && p >= 0;

            )
              i.isNestedInElem(d[p], "<app>".replace(/[<>]/g, "")) ||
                s.appendAppNode(d[p], n, o, u),
                p--;
            if (
              "double-end-point" ===
              t.getEncodingDetail("variantEncodingMethod") &&
              "external" === t.getEncodingDetail("variantEncodingLocation")
            ) {
              var h = Object.values(t.getCriticalEntries()._indexes.depa.start),
                f = [];
              h.map(function (e) {
                f.indexOf(e) < 0 && f.push(e);
              });
              for (var g = f.length - 1; g >= 0;) {
                var m = e.querySelector("[*|id=" + f[g] + "]");
                m && a.setAppInText(m, o, e), g--;
              }
            }
            if (r.quoteDef) {
              var v = [],
                b = l.split(",");
              angular.forEach(b, function (t) {
                var i = e.getElementsByTagName(t.replace(/[<>]/g, "")) || [];
                v = v.concat(i);
              });
              for (var y = v.length - 1; y < v.length && y >= 0;)
                s.appendQuoteNode(v[y], n, o), y--;
            }
            if (r.analogueDef) {
              var x = [],
                w = c.split(",") || [];
              angular.forEach(w, function (t) {
                var i = e.querySelectorAll(t.replace("<", "").replace(">", ""));
                angular.forEach(i, function (e) {
                  x.push(e);
                });
              });
              for (var _ = x.length - 1; _ < x.length && _ >= 0;)
                s.appendAnalogueNode(x[_], n, o), _--;
            }
          }),
          (s.appendAnalogueNode = function (e, i, n) {
            var r,
              a = s.getParsedNodeId(e),
              l = t.getAnalogue(a);
            l && (r = o.getAnalogueText(l, n, i)),
              r && e.parentNode.replaceChild(r, e);
          }),
          (s.appendQuoteNode = function (e, i, n) {
            var r,
              a = s.getParsedNodeId(e),
              l = t.getQuote(a);
            l && (r = o.getQuoteText(l, n, i)),
              r && e.parentNode.replaceChild(r, e);
          }),
          (s.appendAppNode = function (e, i, n, l) {
            var c,
              u = s.getParsedNodeId(e),
              d =
                "recensio" === e.getAttribute("type")
                  ? t.getVersionEntry(u)
                  : t.getCriticalEntryById(u);
            if (!r.loadCriticalEntriesImmediately || void 0 === d)
              if ("recensio" === e.getAttribute("type"))
                o.handleVersionEntry(e), (d = t.getVersionEntry(u));
              else {
                o.handleAppEntry(e);
                var p = e.getElementsByTagName("<app>".replace(/[<>]/g, ""));
                angular.forEach(Object.values(p), function (e) {
                  o.handleAppEntry(e);
                }),
                  (d = t.getCriticalEntryById(u));
              }
            if (d)
              switch (n) {
                case "":
                  "double-end-point" ===
                    t.getEncodingDetail("variantEncodingMethod")
                    ? a.setInternalAppInText(e, d, n, i)
                    : (c =
                      "recensioApp" === d.type
                        ? o.getVersionEntryLemma(d, n, l)
                        : o.getEntryLemmaText(d, n));
                  break;
                default:
                  "double-end-point" ===
                    t.getEncodingDetail("variantEncodingMethod")
                    ? a.setInternalAppInText(e, d, n, i)
                    : (c =
                      "recensioApp" === d.type
                        ? o.getVersionEntryReadingText(d, n)
                        : o.getEntryWitnessReadingText(d, n));
              }
            else c = s.createErrorElement(null, "encodingError");
            c
              ? e.parentNode.replaceChild(c, e)
              : "double-end-point" ===
              t.getEncodingDetail("variantEncodingMethod") &&
              e.parentNode.removeChild(e);
          }),
          (s.createErrorElement = function (e, t) {
            var i = document.createElement("span");
            return (
              (i.className = e || "errorMsg"), (i.textContent = t || "ERROR"), i
            );
          }),
          (s.getParsedNodeId = function (e) {
            var t;
            return (
              e.attributes && e.getAttribute("xml:id")
                ? ((t = e.getAttribute("xml:id")),
                  (t = "app" === e.tagName ? "app_" + t : t))
                : (t = i.xpath(e).substr(1)),
              t
            );
          }),
          (s.parseSourceText = function (n, o) {
            var r,
              a = e.defer();
            angular.element(h);
            if (void 0 !== n) {
              for (
                var l,
                c,
                d,
                p,
                h = s.getDocToParse(n),
                f = h.getElementsByTagName("body")[0],
                g = f.getElementsByTagName("seg"),
                m = g.length - 1,
                v = t.getSources()._indexes.correspId[o];
                m >= 0;

              )
                (l = g[m]).hasAttribute("type") &&
                  "srcTxtLink" === l.getAttribute("type") &&
                  (l.hasAttribute("xml:id") && (c = l.getAttribute("xml:id")),
                    void 0 !== v[c] &&
                    ((d =
                      document.createElement("evt-source-seg")).setAttribute(
                        "data-seg-id",
                        c
                      ),
                      d.setAttribute("data-source-id", o),
                      (p = l.innerHTML),
                      (d.innerHTML = p),
                      l.parentNode.replaceChild(d, l))),
                  m--;
              angular.forEach(f.children, function (e) {
                var t = u + "<evt-source-seg>";
                e.parentNode.replaceChild(
                  i.parseXMLElement(h, e, { skip: t }),
                  e
                );
              }),
                (r = f.outerHTML);
            } else r = "<span>Text not available.</span>";
            if (void 0 === r) {
              r =
                "<span class=\"alert-msg alert-msg-error\">{{'MESSAGES.ERROR_IN_PARSING_TEXT' | translate}} <br />{{'MESSAGES.TRY_DIFFERENT_BROWSER_OR_CONTACT_DEVS' | translate}}</span>";
            }
            return (t.getSource(o).text = r), a.resolve("success"), a;
          }),
          s
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtSourcesParser", [
      "$q",
      "parsedData",
      "evtParser",
      "evtCriticalElementsParser",
      "config",
      function (e, t, i, n, o) {
        var r = {},
          a = o.quoteDef || "<quote>",
          s = function e(i) {
            var o = t.getQuotes()._indexes.sourcesRef._id;
            if (3 !== i.nodeType && 1 === i.nodeType)
              if (i.attributes.length > 0) {
                for (var r = 0; r < i.attributes.length; r++)
                  if ("xml:id" === i.attributes[r].name) {
                    var a = i.attributes[r].value;
                    o.indexOf(a) >= 0 && n.parseSource(i);
                  }
              } else if (i.childNodes.length > 0)
                for (var s = 0; s < i.childNodes.length; s++)
                  e(i.childNodes[s]);
          };
        r.parseQuotes = function (o) {
          var r = e.defer(),
            s = angular.element(o);
          return (
            angular.forEach(s.find(a.replace(/[<>]/g, "")), function (e) {
              if (i.isNestedInElem(e, "body")) {
                var o = n.parseQuote(e);
                t.addQuote(o);
              }
            }),
            console.log("## Quotes ##", t.getQuotes()),
            r.resolve("success"),
            r
          );
        };
        var l = function () {
          for (
            var e = t.getSources()._indexes.quotesRef._id,
            i = t.getQuotes()._indexes.encodingStructure,
            n = [],
            o = 0;
            o < i.length;
            o++
          )
            e.indexOf(i[o]) < 0 && (n.push(i[o]), i.splice(o, 1));
          for (var r = 0; r < n.length; r++) delete t.getQuotes()[n[r]];
        };
        return (
          (r.parseSources = function (i, n) {
            var a = e.defer();
            if (t.getQuotes()._indexes.sourcesRef._id.length > 0)
              if ("" === o.sourcesUrl) {
                var c,
                  u = angular.element(i);
                u.find("text group text").length > 0
                  ? (c = "text group text")
                  : u.find("text").length > 0
                    ? (c = "text")
                    : u.find('div[subtype="edition_text"]').length > 0 &&
                    (c = 'div[subtype="edition_text"]'),
                  angular.forEach(u.find(c), function (e) {
                    s(e);
                  }),
                  console.log("## Sources ##", t.getSources()),
                  l();
              } else n && r.parseExternalSources(n);
            return a.resolve("success"), a;
          }),
          (r.parseExternalSources = function (i) {
            for (var n = e.defer(), o = 0; o < i.childNodes.length; o++)
              s(i.childNodes[o]);
            return (
              console.log("## External Sources ##", t.getSources()),
              l(),
              n.resolve("success"),
              n
            );
          }),
          r
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtSourcesApparatus", [
      "parsedData",
      "evtCriticalApparatus",
      function (e, t) {
        var i = {
          getContent: function (t, n) {
            for (
              var o,
              r,
              a = {
                attributes: {
                  values: t.attributes || {},
                  _keys: Object.keys(t.attributes) || [],
                },
                sources: [],
                quote: "",
                abbrQuote: { begin: "", end: "" },
                quoteCorresp: t._indexes.correspId,
                _xmlSource: t._xmlSource.replace(
                  / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                  ""
                ),
              },
              s = t._indexes.sourceId || [],
              l = t._indexes.sourceRefId || [],
              c = 0;
              c < s.length;
              c++
            )
              (o = e.getSource(s[c])),
                (r = i.getSource(o)) && a.sources.push(r);
            for (var u = 0; u < l.length; u++)
              (o = e.getSource(l[u])),
                (r = i.getSource(o)) && a.sources.push(r);
            if (((a.quote = i.getQuote(t, n)), a.quote.length >= 140)) {
              var d = a.quote.indexOf(" ", 20),
                p = a.quote.lastIndexOf(" ");
              (a.abbrQuote.begin =
                '<span class="beginQuote">' +
                a.quote.substring(0, d) +
                "</span>"),
                (a.abbrQuote.end =
                  '<span class="endQuote">' + a.quote.substring(p) + "</span>");
            }
            return a;
          },
          getSource: function (e) {
            if (e) {
              var t = {
                id: e.id,
                abbr: "",
                text: "",
                bibl: "",
                url: "",
                _xmlSource: e._xmlSource.replace(
                  / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                  ""
                ),
              };
              if (e.abbr.msId.length > 0)
                for (var n = 0; n < e.abbr.msId.length; n++)
                  t.abbr +=
                    '<span class="msId inSource">' +
                    i.getText(e.abbr.msId[n]) +
                    "</span>";
              else
                e.abbr.author.length > 0 &&
                  ((t.abbr +=
                    '<span class="author inSource">' +
                    i.getText(e.abbr.author[0]) +
                    "</span>"),
                    e.abbr.author.length > 1
                      ? (t.abbr += "et al., ")
                      : (t.abbr += ", ")),
                  e.abbr.title.length > 0 &&
                  (t.abbr +=
                    '<span class="title inSource">' +
                    i.getText(e.abbr.title[0]) +
                    "</span>");
              "" === t.abbr && (t.abbr = e.id);
              for (var o = e.bibl, r = 0; r < o.length; r++)
                t.bibl += i.getText(o[r]);
              var a = "";
              if (e.quote.length > 0) {
                for (var s = 0; s < e.quote.length; s++)
                  a += i.getText(e.quote[s]);
                "" !== a && (t.text = a);
              }
              for (var l = 0; l < e.url.length; l++)
                e.url[l].indexOf("http") >= 0
                  ? (t.url +=
                    '<span class="linkLabel">{{ \'CRITICAL_APPARATUS.SEE_FULL_SOURCE_WEB\' | translate }}</span><a target="_blank" href="' +
                    e.url[l] +
                    '">' +
                    e.url[l] +
                    "</a><br/>")
                  : e.url[l].indexOf(e.id) >= 0 &&
                  (t.url +=
                    '<span class="linkLabel"><evt-source-ref data-source-id="' +
                    e.id +
                    "\">{{ 'CRITICAL_APPARATUS.SEE_FULL_SOURCE' | translate }}</evt-source-ref></span>");
              return t;
            }
          },
          getSourceAbbr: function (e) {
            var t = "";
            if (e.abbr)
              if (e.abbr.msId && e.abbr.msId.length > 0)
                for (var n = 0; n < e.abbr.msId.length; n++)
                  t += i.getText(e.abbr.msId[n]) + " ";
              else
                e.abbr.author &&
                  e.abbr.author.length > 0 &&
                  ((t += i.getText(e.abbr.author[0])),
                    e.abbr.author.length > 1 ? (t += "et al., ") : (t += ", ")),
                  e.abbr.title &&
                  e.abbr.title.length > 0 &&
                  (t += i.getText(e.abbr.title[0]));
            return "" === t && (t = e.id), t;
          },
          getQuote: function (e, n) {
            var o = e.content || [],
              r = "";
            for (var a in o)
              if ("string" == typeof o[a]) r += " " + o[a];
              else {
                ["EVT-POPOVER", "lb", "ptr", "link", "linkGrp", "pb"].indexOf(
                  o[a].tagName
                ) >= 0
                  ? (r += "")
                  : "app" === o[a].type
                    ? (r += i.getAppText(o[a], n))
                    : "analogue" === o[a].type
                      ? (r += t.getCriticalElementContent(o[a], n))
                      : "quote" === o[a].type
                        ? (r += " ((" + i.getQuote(o[a], n) + "))")
                        : void 0 !== o[a].content
                          ? (r += i.getText(o[a]))
                          : (r += i.getQuote(o[a]));
              }
            return r;
          },
          getText: function (e) {
            var t = "",
              n = e.content;
            if (void 0 !== n)
              for (var o = 0; o < n.length; o++)
                "string" == typeof n[o]
                  ? (t += " " + n[o])
                  : void 0 !== n[o].content && (t += i.getText(n[o]));
            return t;
          },
          getAppText: function (e, t) {
            var n = "";
            if ("" === t || void 0 === t || void 0 === e._indexes.witMap[t]) {
              var o = e.lemma;
              n += i.getText(e.content[o]);
            } else {
              var r = e._indexes.witMap[t];
              n += i.getText(e.content[r]);
            }
            return n;
          },
        };
        return i;
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtAnaloguesParser", [
      "$q",
      "evtParser",
      "parsedData",
      "evtCriticalElementsParser",
      "config",
      function (e, t, i, n, o) {
        var r = {},
          a = (o.quoteDef, o.analoguesUrl || ""),
          s = o.analogueDef || "<seg>,<ref[type=parallelPassage]>";
        return (
          (r.parseAnalogues = function (o, l) {
            var c,
              u = e.defer(),
              d = angular.element(o);
            (angular.forEach(d.find(s.replace(/[<>]/g, "")), function (e) {
              if (t.isNestedInElem(e, "body")) {
                var o = n.parseAnalogue(e);
                (o._indexes.sourceId.length > 0 ||
                  o._indexes.sourceRefId.length > 0) &&
                  i.addAnalogue(o);
              }
            }),
              i.getAnalogues()._refId._indexes.length > 0) &&
              ("" === a || void 0 === a
                ? (d.find("text group text").length > 0
                  ? (c = "text group text")
                  : d.find("text").length > 0
                    ? (c = "text")
                    : d.find('div[subtype="edition_text"]').length > 0 &&
                    (c = 'div[subtype="edition_text"]'),
                  angular.forEach(d.find(c), function (e) {
                    r.handleAnalogue(e);
                  }),
                  r.updateAnalogues())
                : void 0 !== l && r.parseExternalAnalogues(l));
            return (
              console.log("## Analogues ##", i.getAnalogues()),
              u.resolve("success"),
              u
            );
          }),
          (r.handleAnalogue = function (e) {
            var t = i.getAnalogues()._refId,
              o = i.getAnalogues()._refId._indexes;
            if (3 !== e.nodeType && 1 === e.nodeType) {
              var a = e.getAttribute("xml:id");
              if (a && o.indexOf(a) >= 0)
                for (
                  var s = n.parseAnalogueSource(e), l = 0;
                  l < t[a].length;
                  l++
                ) {
                  i.getAnalogue(t[a][l]).sources.push(s);
                }
              else if (e.childNodes.length > 0)
                for (var c = 0; c < e.childNodes.length; c++)
                  r.handleAnalogue(e.childNodes[c]);
            }
          }),
          (r.updateAnalogues = function () {
            for (
              var e = i.getAnalogues(),
              t = i.getAnalogues()._indexes.encodingStructure,
              n = 0;
              n < t.length;
              n++
            ) {
              var o = i.getAnalogue(t[n]);
              o.sources.length <= 0 &&
                (delete e[t[n]], t.splice(t.indexOf(o.id), 1));
            }
          }),
          (r.parseExternalAnalogues = function (t) {
            for (var n = e.defer(), o = 0; o < t.childNodes.length; o++)
              r.handleAnalogue(t.childNodes[o]);
            return (
              console.log(
                "## External Analogues Received ##",
                i.getAnalogues()
              ),
              r.updateAnalogues(),
              n.resolve("success"),
              n
            );
          }),
          r
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtAnaloguesApparatus", [
      "evtSourcesApparatus",
      function (e) {
        var t = {
          getContent: function (e, i) {
            for (
              var n = {
                attributes: {
                  values: e.attributes || {},
                  _keys: Object.keys(e.attributes) || [],
                },
                sources: [],
                header: "",
                _xmlSource: e._xmlSource.replace(
                  / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                  ""
                ),
              },
              o = 0;
              o < e.sources.length;
              o++
            ) {
              var r = t.getSource(e.sources[o]);
              r && n.sources.push(r);
            }
            return (n.header = t.getHeader(e, i)), n;
          },
          getSource: function (e) {
            var i = {
              id: e.id,
              abbr: "",
              text: "",
              bibl: "",
              url: e.url,
              _xmlSource: e._xmlSource.replace(
                / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                ""
              ),
            };
            if (e.abbr)
              if (e.abbr.msId && e.abbr.msId.length > 0)
                for (var n = 0; n < e.abbr.msId.length; n++)
                  i.abbr +=
                    '<span class="msId inSource">' +
                    t.getText(e.abbr.msId[n]) +
                    "</span>";
              else
                e.abbr.author &&
                  e.abbr.author.length > 0 &&
                  ((i.abbr +=
                    '<span class="author inSource">' +
                    t.getText(e.abbr.author[0]) +
                    "</span>"),
                    e.abbr.author.length > 1
                      ? (i.abbr += "et al., ")
                      : (i.abbr += ", ")),
                  e.abbr.title &&
                  e.abbr.title.length > 0 &&
                  (i.abbr +=
                    '<span class="title inSource">' +
                    t.getText(e.abbr.title[0]) +
                    "</span>");
            "" === i.abbr && (i.abbr = e.id);
            for (var o = e.bibl, r = 0; r < o.length; r++)
              i.bibl += t.getText(o[r]);
            var a = "";
            if (e.text.length > 0) {
              for (var s = 0; s < e.text.length; s++) a += t.getText(e.text[s]);
              "" !== a && (i.text = a);
            }
            return i;
          },
          getHeader: function (i, n) {
            var o = i.content || [],
              r = '<span class="analogue-header">';
            for (var a in o)
              if ("string" == typeof o[a])
                r +=
                  '<span class="textNode inAnalogueHeader">' + o[a] + "</span>";
              else {
                if (
                  ["EVT-POPOVER", "lb", "ptr", "link", "linkGrp", "pb"].indexOf(
                    o[a].tagName
                  ) >= 0
                )
                  r += "";
                else if ("app" === o[a].type) {
                  r +=
                    '<span class="app inAnalogueHeader">' +
                    t.getAppText(o[a], n) +
                    "</span>";
                } else
                  "analogue" === o[a].type
                    ? (r +=
                      '<span class="subAnalogue inAnalogueHeader">((' +
                      t.getHeader(o[a], n) +
                      "))</span>")
                    : "quote" === o[a].type
                      ? (r +=
                        '<span class="quote inAnalogueHeader">' +
                        e.getQuote(o[a], n) +
                        "</span>")
                      : "analogueContent" === o[a].type
                        ? (r += t.getHeader(o[a], n))
                        : void 0 !== o[a].content &&
                        (r +=
                          '<span class="textNode inAnalogueHeader">' +
                          t.getText(o[a]) +
                          "</span>");
              }
            return (r += "</span>");
          },
          getText: function (e) {
            var i = "",
              n = e.content;
            if (void 0 !== n)
              for (var o = 0; o < n.length; o++)
                "string" == typeof n[o]
                  ? (i += " " + n[o])
                  : void 0 !== n[o].content && (i += t.getText(n[o]));
            return i;
          },
          getAppText: function (e, i) {
            var n = "";
            if ("" === i || void 0 === i || void 0 === e._indexes.witMap[i]) {
              var o = e.lemma;
              n += t.getText(e.content[o]);
            } else {
              var r = e._indexes.witMap[i];
              n += t.getText(e.content[r]);
            }
            return n;
          },
        };
        return t;
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.dataHandler")
      .service("evtCriticalElementsParser", [
        "evtParser",
        "parsedData",
        "config",
        "xmlParser",
        function (e, t, i, n) {
          var o = {},
            r = "<lem>, <rdg>",
            a = i.quoteDef || "<quote>",
            s = i.analogueDef || "<seg>,<ref[type=parallelPassage]>",
            l = e.createRegExpr(s),
            c = function (n, r) {
              var s,
                c = {
                  id: "",
                  attributes: [],
                  content: [],
                  note: "",
                  _significant: !0,
                  _group: void 0,
                  _xmlTagName: r.tagName,
                  _xmlSource: r.outerHTML,
                };
              (s = r.getAttribute("xml:id")
                ? "rdg_" + r.getAttribute("xml:id")
                : e.xpath(r).substr(1)),
                (c.id = s);
              for (var u = 0; u < r.attributes.length; u++) {
                var d = r.attributes[u];
                if (d.specified) {
                  if (
                    ((c.attributes[d.name] = d.value),
                      "wit" === d.name || "source" === d.name)
                  ) {
                    var p = d.value.split("#").filter(function (e) {
                      return 0 !== e.length;
                    });
                    for (var h in ((c.wits = []), p)) {
                      var f = p[h].replace(" ", "");
                      if (void 0 !== t.getWitness(f))
                        if (t.isWitnessesGroup(f)) {
                          var g = t.getWitnessesInGroup(f);
                          for (var m in (c.wits.push.apply(c.wits, g), g))
                            void 0 === n._indexes.witMap[g[m]] &&
                              (n._indexes.witMap[g[m]] = s);
                        } else
                          c.wits.push(f),
                            void 0 === n._indexes.witMap[f] &&
                            (n._indexes.witMap[f] = s);
                    }
                  }
                  c._significant &&
                    i.notSignificantVariant.indexOf(
                      "[" + d.name + "=" + d.value + "]"
                    ) >= 0 &&
                    (c._significant = !1),
                    t.addCriticalEntryFilter(d.name, d.value);
                }
              }
              return (
                angular.forEach(r.childNodes, function (e) {
                  if (3 === e.nodeType)
                    "" !== e.textContent.trim() &&
                      c.content.push(e.textContent.trim());
                  else if (1 === e.nodeType)
                    if ("note" === e.tagName) c.note = e.innerHTML;
                    else if ("<app>".indexOf("<" + e.tagName + ">") >= 0) {
                      var t = o.handleAppEntry(e, n.id);
                      if (
                        "recensioApp" === n.type &&
                        "rdgGrp" === r.parentNode.tagName
                      ) {
                        var s = o.handleAppEntry(e, r);
                        c.content.push(s);
                      } else
                        c.content.push({ id: t.id, type: "subApp" }),
                          n._indexes.subApps.push(t.id);
                    } else {
                      var u = "",
                        d = "";
                      if (
                        (void 0 !== angular.element(e)[0].innerHTML &&
                          ((u = angular
                            .element(e)[0]
                            .innerHTML.replace(
                              / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                              ""
                            )),
                            (d = angular.element(e)[0].outerHTML.replace(u, ""))),
                          c._significant &&
                          i.notSignificantVariant.indexOf(
                            "<" + e.tagName + ">"
                          ) >= 0 &&
                          (c._significant = !1),
                          i.fragmentMilestone.indexOf(e.tagName) >= 0 &&
                          null === e.getAttribute("wit"))
                      ) {
                        var p = r.getAttribute("wit");
                        e.setAttribute("wit", p);
                      }
                      if (
                        i.lacunaMilestone.indexOf(e.tagName) >= 0 &&
                        null === e.getAttribute("wit")
                      ) {
                        var h = r.getAttribute("wit");
                        e.setAttribute("wit", h);
                      }
                      a.indexOf("<" + e.tagName + ">") >= 0
                        ? c.content.push(o.parseQuote(e))
                        : l.test(d)
                          ? c.content.push(o.parseAnalogue(e))
                          : angular.element(e).find("<app>".replace(/[<>]/g, ""))
                            ? c.content.push(
                              (function e(t) {
                                if (
                                  i.lacunaMilestone.indexOf(
                                    "<" + t.tagName + ">"
                                  ) < 0 &&
                                  i.fragmentMilestone.indexOf(
                                    "<" + t.tagName + ">"
                                  ) < 0
                                ) {
                                  var n = {
                                    tagName: t.tagName,
                                    type: "genericElement",
                                    attributes: [],
                                    content: [],
                                  };
                                  if (t.attributes)
                                    for (
                                      var r = 0;
                                      r < t.attributes.length;
                                      r++
                                    ) {
                                      var s = t.attributes[r];
                                      s.specified &&
                                        (n.attributes[s.name] = s.value);
                                    }
                                  return (
                                    angular.forEach(t.childNodes, function (r) {
                                      if (3 === r.nodeType)
                                        "" !== r.textContent.trim() &&
                                          n.content.push(r.textContent.trim());
                                      else if ("<" + r.tagName + ">" == "<app>") {
                                        var s = o.handleAppEntry(r);
                                        n.content.push({
                                          id: s.id,
                                          type: "subApp",
                                        });
                                      } else {
                                        var c = angular
                                          .element(r)[0]
                                          .innerHTML.replace(
                                            / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                                            ""
                                          ),
                                          u = angular
                                            .element(r)[0]
                                            .outerHTML.replace(c, "");
                                        if (
                                          i.fragmentMilestone.indexOf(
                                            r.tagName
                                          ) >= 0 &&
                                          null === r.getAttribute("wit")
                                        ) {
                                          var d = t.getAttribute("wit");
                                          r.setAttribute("wit", d);
                                        }
                                        if (
                                          i.lacunaMilestone.indexOf(r.tagName) >=
                                          0 &&
                                          null === r.getAttribute("wit")
                                        ) {
                                          var p = t.getAttribute("wit");
                                          r.setAttribute("wit", p);
                                        }
                                        a.indexOf("<" + r.tagName + ">") >= 0 &&
                                          n.content.push(o.parseQuote(r)),
                                          l.test(u) &&
                                          n.content.push(o.parseAnalogue(r)),
                                          angular
                                            .element(r)
                                            .find("<app>".replace(/[<>]/g, ""))
                                            ? n.content.push(e(r))
                                            : n.content.push(r.cloneNode(!0));
                                      }
                                    }),
                                    n
                                  );
                                }
                                return t;
                              })(e)
                            )
                            : c.content.push(e.cloneNode(!0));
                    }
                }),
                c
              );
            },
            u = function (n) {
              var a,
                s = {
                  type: "app",
                  id: "",
                  attributes: [],
                  lemma: "",
                  note: "",
                  content: {},
                  _indexes: {
                    encodingStructure: [],
                    readings: { _indexes: [], _significant: [] },
                    groups: [],
                    subApps: [],
                    witMap: {},
                  },
                  _subApp: !1,
                  _xmlSource: n.outerHTML || "",
                };
              if (
                ((a = n.getAttribute("xml:id")
                  ? "app_" + n.getAttribute("xml:id")
                  : e.xpath(n).substr(1)),
                  (s.id = a),
                  n.attributes)
              )
                for (var l = 0; l < n.attributes.length; l++) {
                  var u = n.attributes[l];
                  u.specified &&
                    ((s.attributes[u.name] = u.value),
                      t.addCriticalEntryFilter(u.name, u.value));
                }
              return (
                "app" === n.parentNode.parentNode.parentNode.tagName &&
                  "recensio" ===
                  n.parentNode.parentNode.parentNode.getAttribute("type")
                  ? (s._subApp = !1)
                  : (s._subApp = e.isNestedInElem(
                    n,
                    "<app>".replace(/[<>]/g, "")
                  )),
                i.versions.length > 0 &&
                (s._isInMainVersion = e.isInMainVersion(n)),
                angular.forEach(n.childNodes, function (n) {
                  if (1 === n.nodeType)
                    if (r.indexOf("<" + n.tagName + ">") >= 0) {
                      var l = c(s, n);
                      "<lem>".indexOf("<" + n.tagName + ">") >= 0
                        ? (s.lemma = l.id)
                        : (s._indexes.readings._indexes.push(l.id),
                          l._significant &&
                          s._indexes.readings._significant.indexOf(l.id) <
                          0 &&
                          s._indexes.readings._significant.push(l.id)),
                        (s.content[l.id] = l),
                        s._indexes.encodingStructure.push(l.id);
                    } else if ("<rdgGrp>".indexOf("<" + n.tagName + ">") >= 0)
                      !(function (n, o) {
                        var a,
                          s = { attributes: [], content: [] };
                        (a = o.getAttribute("xml:id")
                          ? "rdg_" + o.getAttribute("xml:id")
                          : e.xpath(o).substr(1)),
                          (s.id = a),
                          angular.forEach(o.childNodes, function (e) {
                            if (r.indexOf("<" + e.tagName + ">") >= 0) {
                              var a = c(n, e);
                              (a._group = s.id), s.content.push(a.id);
                              for (var l = 0; l < o.attributes.length; l++) {
                                var u = o.attributes[l];
                                u.specified &&
                                  ((s.attributes[u.name] = u.value),
                                    void 0 === a.attributes[u.name] &&
                                    ((a.attributes[u.name] = u.value),
                                      a._significant &&
                                      i.notSignificantVariant.indexOf(
                                        "[" + u.name + "=" + u.value + "]"
                                      ) >= 0 &&
                                      (a._significant = !1)),
                                    t.addCriticalEntryFilter(u.name, u.value));
                              }
                              n._indexes.readings._indexes.push(a.id),
                                (n.content[a.id] = a),
                                (a._significant || "lem" === e.tagName) &&
                                n._indexes.readings._significant.push(a.id);
                            } else "<rdgGrp>".indexOf("<" + e.tagName + ">");
                          }),
                          n._indexes.groups.push(s.id),
                          (n.content[s.id] = s),
                          n._indexes.encodingStructure.push(s.id);
                      })(s, n);
                    else if ("<app>".indexOf("<" + n.tagName + ">") >= 0) {
                      var u = o.handleAppEntry(n, a),
                        d = { id: u.id, type: "subApp" };
                      (s.content[u.id] = d),
                        s._indexes.encodingStructure.push(u.id),
                        s._indexes.subApp.push(u.id);
                    } else "note" === n.tagName && (s.note = n.innerHTML);
                }),
                s
              );
            };
          o.handleAppEntry = function (e, i) {
            var n = u(e) || void 0;
            (e.querySelectorAll("rdg lacunaStart").length > 0 ||
              e.querySelectorAll("rdg lacunaEnd").length > 0) &&
              (n._lacuna = !0),
              (e.querySelectorAll("rdg witStart").length > 0 ||
                e.querySelectorAll("rdg witEnd").length > 0) &&
              (n._fragment = !0);
            var o = n._indexes.readings._significant,
              r = o.length;
            "" !== n.lemma && o.indexOf(n.lemma) >= 0 && (r -= 1);
            var a = t.getWitnessesList(),
              s = r / a.length;
            n._variance = s;
            var l = Object.keys(n._indexes.witMap),
              c = [];
            if (l.length < a.length)
              for (var d in a) l.indexOf(a[d]) < 0 && c.push(a[d]);
            n._indexes.missingWits = c;
            var p = n.content[n.lemma];
            return (
              p && ((p.wits && 0 !== p.wits.length) || (p.autoWits = c)),
              i && (n._indexes._parentEntry = i),
              t.addCriticalEntry(n),
              n
            );
          };
          (o.handleVersionEntry = function (n) {
            var o = {
              type: "recensioApp",
              id: "",
              attributes: [],
              lemma: "",
              content: {},
              _indexes: { witMap: {} },
              _xmlSource: n.outerHTML || "",
            };
            if (
              (n.hasAttribute("xml:id")
                ? (o.id = n.getAttribute("xml:id"))
                : (o.id = e.xpath(n).substr(1)),
                n.attributes)
            )
              for (var r = 0; r < n.attributes.length; r++) {
                var a = n.attributes[r];
                a.specified &&
                  ((o.attributes[a.name] = a.value), o.attributes.length++);
              }
            return (
              angular.forEach(n.childNodes, function (e) {
                if (1 === e.nodeType)
                  if ("note" === e.tagName) o.note = e.innerHTML;
                  else if ("<rdgGrp>".indexOf("<" + e.tagName + ">") >= 0) {
                    var n = (function (e, n) {
                      var o = {
                        id: "",
                        versionId: "",
                        attributes: [],
                        content: {},
                        lemma: "",
                      },
                        r = "";
                      if (n.attributes)
                        for (var a = 0; a < n.attributes.length; a++) {
                          var s = n.attributes[a];
                          if (
                            s.specified &&
                            ((o.attributes[s.name] = s.value),
                              o.attributes.length++,
                              "ana" === s.name)
                          ) {
                            (r = s.value.replace("#", "")), (o.id = r);
                            var l = i.versions.indexOf(r);
                            l >= 0 &&
                              (o.versionId = "Version &#" + (l + 65) + ";");
                          }
                        }
                      return (
                        angular.forEach(n.childNodes, function (i) {
                          if (1 === i.nodeType) {
                            var n = c(e, i);
                            if (void 0 === n.wits) {
                              var a =
                                t.getVersionEntries()._indexes.versionWitMap[r];
                              if (void 0 !== a && a.length > 0) {
                                n.wits = [];
                                for (var s = 0; s < a.length; s++)
                                  n.wits.push(a[s]);
                              }
                            }
                            "lem" === i.tagName && (o.lemma = n.id),
                              (o.content[n.id] = n);
                          }
                        }),
                        (e.content[r] = o),
                        o
                      );
                    })(o, e);
                    n.lemma;
                    n.id === i.versions[0] &&
                      "" !== n.lemma &&
                      (o.lemma = n.lemma);
                  }
              }),
              t.addVersionEntry(o),
              o
            );
          }),
            (o.getEntryWitnessReadingText = function (e, i) {
              var n;
              if (null !== e) {
                var r = e._indexes.readings._indexes;
                if (
                  ((n = document.createElement("evt-reading")),
                    "" !== e.lemma && !e._lacuna && 1 === r.length)
                )
                  (e.content[r[0]].wits || []).length ===
                    t.getWitnessesList().length &&
                    ((n = document.createElement("span")).className =
                      e.content[r[0]]._xmlTagName);
                n.setAttribute("data-app-id", e.id),
                  n.setAttribute("data-scope-wit", i);
                var a = e._indexes.witMap[i];
                if (void 0 !== a && "" !== a) {
                  n.setAttribute("data-reading-id", a);
                  var s = e.content[a].content;
                  if (s.length > 0)
                    for (var l in s)
                      if ("string" == typeof s[l])
                        n.appendChild(document.createTextNode(s[l]));
                      else if ("subApp" === s[l].type) {
                        var c = t.getCriticalEntryById(s[l].id),
                          u = o.getEntryWitnessReadingText(c, i),
                          p = c._indexes.witMap[i] || "";
                        u.setAttribute("data-reading-id", p),
                          null !== u && n.appendChild(u);
                      } else if ("quote" === s[l].type) {
                        var h = o.getQuoteText(s[l], i);
                        n.appendChild(h);
                      } else if ("analogue" === s[l].type) {
                        var f = o.getAnalogueText(s[l], i);
                        n.appendChild(f);
                      } else if ("genericElement" === s[l].type) {
                        var g = d(s[l], i);
                        n.appendChild(g);
                      } else n.appendChild(s[l]);
                  else if (e._lacuna) {
                    var m = document.createElement("span");
                    (m.className = "lacunaApp evt_note"), n.appendChild(m);
                  } else {
                    var v = document.createElement("span");
                    (v.className = "omission"), n.appendChild(v);
                  }
                } else if (e.lemma && e.lemma.indexOf("depa-lem") < 0)
                  n = o.getEntryLemmaText(e, i);
                else if (
                  "double-end-point" !==
                  t.getEncodingDetail("variantEncodingMethod")
                ) {
                  var b = document.createElement("span");
                  (b.className = "empty"),
                    b.setAttribute("title", "noRdg"),
                    n.appendChild(b);
                }
              } else {
                var y = document.createElement("span");
                (y.className = "encodingError"),
                  y.setAttribute("title", "General error"),
                  n.appendChild(y);
              }
              return (
                n.setAttribute("data-type", "variant"),
                n.childNodes.length <= 0 &&
                (n.innerHTML = '<span class="emptyText"></span>'),
                n
              );
            });
          var d = function e(i, n) {
            var r = document.createElement("span");
            r.className = i.tagName;
            var a = Object.keys(i.attributes);
            for (var s in a) {
              var l = a[s],
                c = i.attributes[l];
              "xml:id" !== l &&
                r.setAttribute("data-" + l.replace(":", "-"), c);
            }
            var u = i.content;
            for (var d in u)
              if ("string" == typeof u[d])
                r.appendChild(document.createTextNode(u[d]));
              else if ("subApp" === u[d].type) {
                var p = t.getCriticalEntryById(u[d].id),
                  h =
                    "" === n
                      ? o.getEntryLemmaText(p, n)
                      : o.getEntryWitnessReadingText(p, n),
                  f = p._indexes.witMap[n] || "";
                h.setAttribute("data-reading-id", f),
                  null !== h && r.appendChild(h);
              } else if ("quote" === u[d].type) {
                var g = o.getQuoteText(u[d], n);
                r.appendChild(g);
              } else if ("analogue" === u[d].type) {
                var m = o.getAnalogueText(u[d], n);
                r.appendChild(m);
              } else if ("genericElement" === u[d].type) {
                var v = e(u[d], n);
                r.appendChild(v);
              }
            return r;
          };
          (o.getVersionEntryReadingText = function (e, i) {
            var n,
              r,
              a,
              s,
              l,
              c = "",
              u = [];
            if (null !== e) {
              (n = document.createElement("evt-version-reading")).setAttribute(
                "data-app-id",
                e.id
              );
              var p,
                h,
                f,
                g = document.createElement("i");
              if (
                ((g.className = "iconbis-evt_fork"),
                  g.setAttribute(
                    "title",
                    "There are alternative versions of this part of text"
                  ),
                  n.appendChild(g),
                  0 !== Object.keys(e._indexes.witMap).length)
              ) {
                if ("" !== (c = e._indexes.witMap[i])) {
                  for (r in e.content)
                    for (a in e.content[r].content)
                      a === c && (u = e.content[r].content[a].content);
                  if (void 0 !== u && u.length > 0)
                    for (s in u)
                      if ("string" == typeof u[s])
                        n.appendChild(document.createTextNode(u[s]));
                      else if ("app" === u[s].type) {
                        var m = t.getCriticalEntryById(u[s].id),
                          v = o.getEntryWitnessReadingText(m, i);
                        null !== v && n.appendChild(v);
                      } else if ("quote" === u[s].type)
                        (p = o.getQuoteText(u[s], i)), n.appendChild(p);
                      else if ("analogue" === u[s].type)
                        (h = o.getAnalogueText(u[s], i)), n.appendChild(h);
                      else if ("genericElement" === u[s].type)
                        (f = d(u[s], i)), n.appendChild(f);
                      else if ("recensioApp" === u[s].type) {
                        var b = o.getVersionEntryReadingText(u[s], i);
                        n.appendChild(b);
                      } else n.appendChild(u[s]);
                }
              } else {
                var y,
                  x = t.getVersionEntries()._indexes.versionWitMap;
                for (r in x) x[r].indexOf(i) >= 0 && (y = r);
                if (void 0 !== y) {
                  if (
                    (n.setAttribute("data-scope-version", y),
                      void 0 === e.content[y])
                  )
                    return null;
                  var w = e.content[y].lemma,
                    _ = Object.keys(e.content[y].content)[0],
                    A = e.content[y].content[_];
                  if (void 0 !== w && "" !== w) {
                    var E = e.content[y].content[w].content;
                    for (a in E)
                      if ("string" == typeof E[a])
                        n.appendChild(document.createTextNode(E[a]));
                      else if ("subApp" === E[a].type || "app" === E[a].type) {
                        var S = t.getCriticalEntryById(E[a].id),
                          T =
                            "" === i
                              ? o.getEntryLemmaText(S, i)
                              : o.getEntryWitnessReadingText(S, i),
                          C = S._indexes.witMap[i] || "";
                        T.setAttribute("data-reading-id", C),
                          null !== T && n.appendChild(T);
                      } else
                        "quote" === E[a].type
                          ? ((p = o.getQuoteText(E[a], i)), n.appendChild(p))
                          : "analogue" === E[a].type
                            ? ((h = o.getAnalogueText(E[a], i)), n.appendChild(h))
                            : "genericElement" === E[a].type &&
                            ((f = d(E[a], i)), n.appendChild(f));
                    c = w;
                  } else if (void 0 !== A && "" !== A) {
                    u = A.content;
                    for (a in u)
                      if ("string" == typeof u[a])
                        n.appendChild(document.createTextNode(u[a]));
                      else if ("subApp" === u[a].type || "app" === u[a].type) {
                        (S = t.getCriticalEntryById(u[a].id)),
                          (T = o.getEntryWitnessReadingText(S, i)),
                          (C = S._indexes.witMap[i] || "");
                        T.setAttribute("data-reading-id", C),
                          null !== T && n.appendChild(T);
                      } else
                        "quote" === u[a].type
                          ? ((p = o.getQuoteText(u[a], i)), n.appendChild(p))
                          : "analogue" === u[a].type
                            ? ((h = o.getAnalogueText(u[a], i)), n.appendChild(h))
                            : "genericElement" === u[a].type &&
                            ((f = d(u[a], i)), n.appendChild(f));
                    c = w;
                  }
                } else {
                  var k = document.createTextNode(
                    "Warning: no version has been defined for the current witness. Please check your encoded file."
                  );
                  ((l = document.createElement("span")).className =
                    "encodingError"),
                    l.appendChild(k),
                    n.appendChild(l);
                }
              }
              n.setAttribute("data-reading-id", c),
                n.setAttribute("data-scope-wit", i);
            } else
              ((l = document.createElement("span")).className =
                "encodingError"),
                l.setAttribute("title", "General error"),
                n.appendChild(l);
            return n.setAttribute("data-type", "versionVariant"), n;
          }),
            (o.getEntryLemmaText = function (e, n) {
              var r, a;
              if (null !== e) {
                if (
                  ((r = document.createElement("evt-reading")).setAttribute(
                    "data-app-id",
                    e.id
                  ),
                    r.setAttribute("data-scope-wit", n),
                    r.setAttribute("data-type", "lemma"),
                    e._lacuna)
                ) {
                  var s = document.createElement("span");
                  (s.className = "lacunaApp evt_note"), r.appendChild(s);
                } else if (e.lemma && e.lemma.indexOf("depa-lem") < 0) {
                  r.setAttribute("data-reading-id", e.lemma);
                  var l = e.content[e.lemma].content;
                  for (var c in l)
                    if ("string" == typeof l[c])
                      r.appendChild(document.createTextNode(l[c]));
                    else if ("subApp" === l[c].type) {
                      var u = t.getCriticalEntryById(l[c].id),
                        p =
                          "" === n
                            ? o.getEntryLemmaText(u, n)
                            : o.getEntryWitnessReadingText(u, n),
                        h = u._indexes.witMap[n] || "";
                      p.setAttribute("data-reading-id", h),
                        null !== p && r.appendChild(p);
                    } else if ("quote" === l[c].type) {
                      var f = o.getQuoteText(l[c], n);
                      r.appendChild(f);
                    } else if ("analogue" === l[c].type) {
                      var g = o.getAnalogueText(l[c], n);
                      r.appendChild(g);
                    } else if ("genericElement" === l[c].type) {
                      var m = d(l[c], n);
                      r.appendChild(m);
                    }
                } else
                  "" !== i.preferredWitness
                    ? null !==
                    (r = o.getEntryWitnessReadingText(
                      e,
                      i.preferredWitness
                    )) && (r.className = "autoLemma")
                    : "double-end-point" !==
                    t.getEncodingDetail("variantEncodingMethod") &&
                    (((a = document.createElement("span")).className =
                      "encodingError"),
                      a.setAttribute("title", "General error"),
                      r.appendChild(a));
                if (null !== r) {
                  var v = Object.keys(e.attributes);
                  for (var b in v) {
                    var y = v[b],
                      x = e.attributes[y];
                    "xml:id" !== y &&
                      r.setAttribute("data-" + y.replace(":", "-"), x);
                  }
                  void 0 !== e._variance &&
                    r.setAttribute("data-variance", e._variance);
                }
              } else
                ((a = document.createElement("span")).className =
                  "encodingError"),
                  a.setAttribute("title", "General error"),
                  r.appendChild(a);
              return (
                r.childNodes.length <= 0 &&
                (r.innerHTML = '<span class="emptyText"></span>'),
                r
              );
            }),
            (o.getVersionEntryLemma = function (e, i, n) {
              var r, a;
              if (null !== e) {
                (r = document.createElement(
                  "evt-version-reading"
                )).setAttribute("data-app-id", e.id),
                  r.setAttribute("data-type", "versionLemma"),
                  r.setAttribute("data-scope-version", n);
                var s = document.createElement("i");
                if (
                  ((s.className = "iconbis-evt_fork"),
                    s.setAttribute(
                      "title",
                      "There are alternative versions of this part of text"
                    ),
                    r.appendChild(s),
                    void 0 !== e.content[n])
                ) {
                  var l = e.content[n].lemma,
                    c = Object.keys(e.content[n].content)[0],
                    u = e.content[n].content[c];
                  if (void 0 !== l && "" !== l) {
                    r.setAttribute("data-reading-id", l);
                    var d = e.content[n].content[e.content[n].lemma].content;
                    for (var p in d)
                      if ("string" == typeof d[p])
                        r.appendChild(document.createTextNode(d[p]));
                      else if ("app" === d[p].type) {
                        var h = t.getCriticalEntryById(d[p].id);
                        null !== (b = o.getEntryLemmaText(h, "")) &&
                          r.appendChild(b);
                      } else if ("quote" === d[p].type) {
                        var f = o.getQuoteText(d[p], i);
                        r.appendChild(f);
                      } else if ("analogue" === d[p].type) {
                        var g = o.getAnalogueText(d[p], i);
                        r.appendChild(g);
                      } else if ("recensioApp" === d[p].type) {
                        var m = o.getVersionEntryLemma(d[p], i, n);
                        r.appendChild(m);
                      }
                  } else if (void 0 !== u && "" !== u) {
                    r.setAttribute("data-reading-id", c);
                    var v = u.content;
                    for (var p in v)
                      if ("string" == typeof v[p])
                        r.appendChild(document.createTextNode(v[p]));
                      else if ("app" === v[p].type) {
                        var b;
                        h = t.getCriticalEntryById(v[p].id);
                        null !== (b = o.getEntryWitnessReadingText(h, "")) &&
                          r.appendChild(b);
                      } else if ("quote" === v[p].type) {
                        f = o.getQuoteText(v[p], i);
                        r.appendChild(f);
                      } else if ("analogue" === v[p].type) {
                        g = o.getAnalogueText(v[p], i);
                        r.appendChild(g);
                      } else if ("recensioApp" === v[p].type) {
                        m = o.getVersionEntryLemma(v[p], i, n);
                        r.appendChild(m);
                      }
                  } else
                    ((a = document.createElement("span")).className =
                      "encodingError"),
                      a.setAttribute(
                        "title",
                        "lem missing inside of the version rdgGrp"
                      ),
                      r.appendChild(a);
                } else
                  ((a = document.createElement("span")).className =
                    "encodingError"),
                    a.setAttribute("title", "Wrong version id"),
                    r.appendChild(a);
                if (null !== r) {
                  var y = Object.keys(e.attributes);
                  for (var x in y) {
                    var w = y[x],
                      _ = e.attributes[w];
                    "xml:id" !== w &&
                      r.setAttribute("data-" + w.replace(":", "-"), _);
                  }
                }
              } else
                ((a = document.createElement("span")).className =
                  "encodingError"),
                  a.setAttribute("title", "General error"),
                  r.appendChild(a);
              return r;
            });
          var p = function t(i) {
            var n = {
              tagName: i.tagName,
              type: "quoteContent",
              attributes: [],
              content: [],
              _xmlSource: i.outerHTML,
            };
            if (i.attributes)
              for (var r = 0; r < i.attributes.length; r++) {
                var s = i.attributes[r];
                s.specified && (n.attributes[s.name] = s.value);
              }
            return (
              angular.forEach(i.childNodes, function (i) {
                if (3 === i.nodeType)
                  "" !== i.textContent.trim() &&
                    n.content.push(i.textContent.trim());
                else if (1 === i.nodeType) {
                  var r = angular
                    .element(i)[0]
                    .innerHTML.replace(
                      / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                      ""
                    ),
                    s = angular.element(i)[0].outerHTML.replace(r, "");
                  if (a.indexOf("<" + i.tagName + ">") >= 0)
                    n.content.push(o.parseQuote(i));
                  else if ("<app>".indexOf("<" + i.tagName + ">") >= 0)
                    n.content.push(o.handleAppEntry(i));
                  else if (l.test(s)) n.content.push(o.parseAnalogue(i));
                  else if ("note" === i.tagName) n.content.push(e.parseNote(i));
                  else if (i.children.length > 0)
                    for (var c = 0; c < i.children.length; c++)
                      n.content.push(i.children[c].cloneNode(!0)),
                        t(i.children[c]);
                  else n.content.push(t(i));
                }
              }),
              n
            );
          };
          o.parseQuote = function (n) {
            var r,
              s,
              c,
              u = {
                type: "quote",
                id: "",
                attributes: [],
                content: [],
                _indexes: {
                  sourceId: [],
                  sourceRefId: [],
                  correspId: {},
                  subQuotes: [],
                },
                _subQuote: !1,
                _xmlSource: n.outerHTML,
              };
            if (
              ((c = n.getAttribute("xml:id")
                ? n.getAttribute("xml:id")
                : e.xpath(n).substr(1)),
                (u.id = c),
                i.versions.length > 0 &&
                (u._isInMainVersion = e.isInMainVersion(n)),
                n.attributes)
            )
              for (r = 0; r < n.attributes.length; r++) {
                var d,
                  h = n.attributes[r];
                if (
                  (h.specified && (u.attributes[h.name] = h.value),
                    "source" === h.name &&
                    ((d = h.value.replace(/#/g, "").split(" ")),
                      (u._indexes.sourceRefId = d)),
                    "ref" === h.name &&
                    ((d = h.value.replace(/#/g, "").split(" ")),
                      (u._indexes.sourceRefId = d)),
                    "corresp" === h.name)
                )
                  for (s in (d = h.value.replace(/#/g, "").split(" "))) {
                    var f = d[s].indexOf("/"),
                      g = d[s].substring(0, f);
                    void 0 === u._indexes.correspId[g]
                      ? ((u._indexes.correspId[g] = []),
                        u._indexes.correspId[g].push(d[s].substring(f + 1)))
                      : u._indexes.correspId[g].push(d[s].substring(f + 1));
                  }
              }
            var m = a.split(",");
            for (r = 0; r < m.length && !u._subQuote;)
              (u._subQuote = e.isNestedInElem(n, m[r].replace(/[<>]/g, ""))),
                r++;
            return (
              angular.forEach(n.childNodes, function (t) {
                if (3 === t.nodeType)
                  "" !== t.textContent.trim() &&
                    u.content.push(t.textContent.trim());
                else if (1 === t.nodeType) {
                  var i = angular
                    .element(t)[0]
                    .innerHTML.replace(
                      / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                      ""
                    ),
                    s = angular.element(t)[0].outerHTML.replace(i, ""),
                    c = ["bibl", "biblStruct", "biblFull", "msDesc"],
                    d = ["ptr", "ref", "link"];
                  if ("listBibl" === t.tagName)
                    for (r = 0; r < t.children.length; r++)
                      if (c.indexOf(t.children[r].tagName) >= 0) {
                        var h = o.parseSource(t.children[r], n);
                        u._indexes.sourceId.push(h.id), u.content.push(h);
                      } else u.content.push(p(t.children[r]));
                  else if (c.indexOf(t.tagName) >= 0) {
                    var f = o.parseSource(t, n);
                    u._indexes.sourceId.push(f.id), u.content.push(f);
                  } else if (d.indexOf(t.tagName) >= 0) {
                    if ((u.content.push(p(t)), t.hasAttribute("target"))) {
                      var g = t
                        .getAttribute("target")
                        .replace(/#/g, "")
                        .split(" ");
                      for (r = 0; r < g.length; r++)
                        u._indexes.sourceRefId.push(g[r]);
                    }
                  } else if ("linkGrp" === t.tagName) {
                    for (r = 0; r < t.children.length; r++)
                      if (
                        d.indexOf(t.children[r].tagName) >= 0 &&
                        (u.content.push(p(t.children[r])),
                          t.children[r].hasAttribute("target"))
                      ) {
                        var m = t.children[r]
                          .getAttribute("target")
                          .replace(/#/g, "")
                          .split(" ");
                        for (r = 0; r < m.length; r++)
                          u._indexes.sourceRefId.push(m[r]);
                      }
                  } else if ("<app>".indexOf("<" + t.tagName + ">") >= 0)
                    u.content.push(o.handleAppEntry(t));
                  else if (a.indexOf("<" + t.tagName + ">") >= 0) {
                    var v = o.parseQuote(t);
                    u.content.push(v), u._indexes.subQuotes.push(v.id);
                  } else
                    l.test(s)
                      ? u.content.push(o.parseAnalogue(t))
                      : "note" === t.tagName
                        ? u.content.push(e.parseNote(t))
                        : u.content.push(p(t));
                }
              }),
              t.addQuote(u),
              u
            );
          };
          var h = function e(t, i) {
            var n = {
              tagName: t.tagName,
              type: "sourceContent",
              attributes: [],
              content: [],
              url: [],
            };
            if (t.attributes)
              for (var o = 0; o < t.attributes.length; o++) {
                var r = t.attributes[o];
                r.specified && (n.attributes[r.name] = r.value);
              }
            return (
              angular.forEach(t.childNodes, function (t) {
                if (3 === t.nodeType)
                  "" !== t.textContent.trim() &&
                    n.content.push(t.textContent.trim());
                else if (1 === t.nodeType)
                  if ("citedRange" === t.tagName)
                    null !== t.getAttribute("target") &&
                      "" !== t.getAttribute("target") &&
                      n.url.push(t.getAttribute("target")),
                      n.content.push(e(t));
                  else if (t.children.length > 0)
                    for (var i = 0; i < t.children.length; i++)
                      n.content.push(e(t.children[i]));
                  else n.content.push(e(t));
              }),
              n
            );
          };
          o.parseSource = function (i, n) {
            var o,
              r,
              a,
              s = {
                id: "",
                abbr: { title: [], author: [], msId: [] },
                attributes: [],
                quotesEntriesId: [],
                bibl: [],
                quote: [],
                url: [],
                text: {},
                _textAvailable: !1,
                _xmlSource: i.outerHTML,
              };
            if (i.attributes)
              for (o = 0; o < i.attributes.length; o++) {
                var l = i.attributes[o];
                if (l.specified) {
                  if (
                    ("xml:id" === l.name && (a = l.value),
                      "target" === l.name ||
                      "source" === l.name ||
                      "ref" === l.name)
                  ) {
                    var c = l.value.replace(/#/g, "").split(" ");
                    for (r = 0; r < c.length; r++) s.url.push(c[r]);
                  }
                  (s.attributes[l.name] = l.value), s.attributes.length++;
                }
              }
            void 0 === a && (a = e.xpath(i).substr(1)),
              (s.id = a),
              void 0 !== t.getQuotes()._indexes.sourcesRef[s.id]
                ? (s.quotesEntriesId = t.getQuotes()._indexes.sourcesRef[s.id])
                : n.hasAttribute("xml:id")
                  ? s.quotesEntriesId.push(n.getAttribute("xml:id"))
                  : s.quotesEntriesId.push(e.xpath(n).substr(1));
            var u = angular.element(i);
            for (o in ("msDesc" === i.tagName
              ? angular.forEach(u.find("idno"), function (e) {
                s.abbr.msId.push(h(e));
              })
              : (angular.forEach(u.find("author"), function (e) {
                s.abbr.author.push(h(e));
              }),
                angular.forEach(u.find("title"), function (e) {
                  s.abbr.title.push(h(e));
                })),
              angular.forEach(i.childNodes, function (e) {
                if (3 === e.nodeType)
                  "" !== e.textContent.trim() &&
                    s.bibl.push(e.textContent.trim());
                else if (1 === e.nodeType) {
                  var t,
                    n = ["ptr", "ref", "link"];
                  if ("cit" === i.tagName && "quote" === e.tagName) {
                    var a = h(e);
                    s.quote.push(a);
                  } else if (n.indexOf(e.tagName) >= 0) {
                    if (
                      ("ref" === e.tagName ? s.bibl.push(h(e)) : s.bibl.push(e),
                        e.hasAttribute("target"))
                    )
                      for (
                        t = e.getAttribute("target").replace(/#/g, "").split(" "),
                        o = 0;
                        o < t.length;
                        o++
                      )
                        s.url.push(t[o]);
                  } else if ("linkGrp" === e.tagName) {
                    for (o = 0; o < e.children.length; o++)
                      if (
                        n.indexOf(e.children[o].tagName) >= 0 &&
                        ("ref" === e.tagName
                          ? s.bibl.push(h(e))
                          : s.bibl.push(e.children[o]),
                          e.children[o].hasAttribute("target"))
                      )
                        for (
                          t = e.children[o]
                            .getAttribute("target")
                            .replace(/#/g, "")
                            .split(" "),
                          r = 0;
                          r < t.length;
                          r++
                        )
                          s.url.push(t[r]);
                  } else if ("citedRange" === e.tagName) {
                    if (
                      null !== e.getAttribute("target") &&
                      "" !== e.getAttribute("target")
                    )
                      for (
                        t = e.getAttribute("target").replace(/#/g, "").split(" "),
                        o = 0;
                        o < t.length;
                        o++
                      )
                        s.url.push(t[o]);
                    s.bibl.push(h(e));
                  } else {
                    var l = h(e);
                    for (s.bibl.push(l), o = 0; o < l.url.length; o++)
                      s.url.push(l.url[o]);
                  }
                }
              }),
              s.url))
              s.url[o].indexOf(".xml") >= 0 && (s._textAvailable = !0);
            return t.addSource(s), s;
          };
          var f = function t(i, r, a) {
            var s;
            if (void 0 !== i.content)
              if (0 === i.content.length) {
                var l = n.parse(
                  i._xmlSource.replace(
                    / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                    ""
                  )
                ).children[0];
                if ("pb" === i.tagName) {
                  if ("" !== r && l.getAttribute("ed").indexOf(r) >= 0) {
                    var c,
                      u = document.createElement("span");
                    (c = l.getAttribute("ed")
                      ? l.getAttribute("xml:id") ||
                      l.getAttribute("ed").replace("#", "") +
                      "-" +
                      l.getAttribute("n")
                      : l.getAttribute("xml:id")),
                      (u.className = "pb"),
                      u.setAttribute("data-wit", l.getAttribute("ed")),
                      u.setAttribute("data-id", c),
                      u.setAttribute("id", "pb_" + c),
                      (u.textContent = l.getAttribute("n")),
                      (s = u);
                  }
                } else s = e.parseXMLElement(a, l, { skip: "" });
              } else if (
                1 === i.content.length &&
                "string" == typeof i.content[0]
              ) {
                var d = n.parse(
                  i._xmlSource.replace(
                    / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                    ""
                  )
                ).children[0];
                s = e.parseXMLElement(a, d, { skip: "" });
              } else {
                (s = document.createElement("span")).className = i.tagName
                  ? i.tagName.toLowerCase()
                  : "";
                var p = Object.keys(i.attributes);
                for (var h in p) {
                  var f = p[h],
                    g = i.attributes[f];
                  "xml:id" !== f &&
                    s.setAttribute("data-" + f.replace(":", "-"), g);
                }
                var m = i.content;
                for (var v in m) {
                  var b;
                  "string" == typeof m[v]
                    ? ((b = document.createElement("span")).setAttribute(
                      "class",
                      "textNode"
                    ),
                      b.appendChild(document.createTextNode(m[v])),
                      s.appendChild(b))
                    : "quote" === m[v].type
                      ? s.appendChild(o.getQuoteText(m[v]))
                      : "EVT-POPOVER" === m[v].tagName
                        ? s.appendChild(m[v])
                        : "app" === m[v].type
                          ? "" === r
                            ? s.appendChild(o.getEntryLemmaText(m[v]))
                            : s.appendChild(o.getEntryWitnessReadingText(m[v], r))
                          : "analogue" === m[v].type
                            ? s.appendChild(o.getAnalogueText(m[v]))
                            : void 0 !== (b = t(m[v], r, a)) && s.appendChild(b);
                }
              }
            return s;
          };
          o.getQuoteText = function (e, t, i) {
            var n;
            (n = document.createElement("evt-quote")).setAttribute(
              "data-quote-id",
              e.id
            ),
              e._subQuote
                ? n.setAttribute("data-type", "subquote")
                : n.setAttribute("data-type", "quote"),
              "" !== t && void 0 !== t && n.setAttribute("data-scope-wit", t);
            var r = e.content,
              a = ["link", "ptr", "linkGrp"];
            for (var s in r) {
              var l;
              "string" == typeof r[s]
                ? ((l = document.createElement("span")).setAttribute(
                  "class",
                  "textNode"
                ),
                  l.appendChild(document.createTextNode(r[s])),
                  n.appendChild(l))
                : "EVT-POPOVER" === r[s].tagName
                  ? n.appendChild(r[s])
                  : "app" === r[s].type
                    ? "" === t
                      ? n.appendChild(o.getEntryLemmaText(r[s]))
                      : n.appendChild(o.getEntryWitnessReadingText(r[s], t))
                    : "quote" === r[s].type
                      ? n.appendChild(o.getQuoteText(r[s], t, i))
                      : "analogue" === r[s].type
                        ? n.appendChild(o.getAnalogueText(r[s], t, i))
                        : "quoteContent" === r[s].type &&
                        a.indexOf(r[s].tagName) < 0 &&
                        void 0 !== (l = f(r[s], t, i)) &&
                        n.appendChild(l);
            }
            return n;
          };
          var g = function t(i) {
            var n = {
              tagName: i.tagName,
              type: "analogueContent",
              attributes: [],
              content: [],
              _xmlSource: i.outerHTML,
            };
            if (i.attributes)
              for (var r = 0; r < i.attributes.length; r++) {
                var l = i.attributes[r];
                l.specified && (n.attributes[l.name] = l.value);
              }
            return (
              angular.forEach(i.childNodes, function (i) {
                if (3 === i.nodeType)
                  "" !== i.textContent.trim() &&
                    n.content.push(i.textContent.trim());
                else if (1 === i.nodeType) {
                  var r = angular
                    .element(i)[0]
                    .innerHTML.replace(
                      / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                      ""
                    ),
                    l = angular.element(i)[0].outerHTML.replace(r, "");
                  if (a.indexOf("<" + i.tagName + ">") >= 0)
                    n.content.push(o.parseQuote(i));
                  else if ("<app>".indexOf("<" + i.tagName + ">") >= 0)
                    n.content.push(o.handleAppEntry(i));
                  else if (e.createRegExpr(s).test(l))
                    n.content.push(o.parseAnalogue(i));
                  else if ("note" === i.tagName) n.content.push(e.parseNote(i));
                  else if (i.children.length > 0)
                    for (var c = 0; c < i.children.length; c++)
                      n.content.push(i.children[c].cloneNode(!0)),
                        t(i.children[c]);
                  else n.content.push(t(i));
                }
              }),
              n
            );
          };
          (o.parseAnalogue = function (t) {
            var n,
              r,
              l = {
                id: "",
                type: "",
                attributes: [],
                content: [],
                sources: [],
                _indexes: { sourceId: [], sourceRefId: [], subAnalogues: [] },
                _subAnalogue: !1,
                _xmlSource: t.outerHTML || "",
              },
              c = t.getAttribute("xml:id") || e.xpath(t).substr(1);
            if (
              ((l.id = c),
                i.versions.length > 0 &&
                (l._isInMainVersion = e.isInMainVersion(t)),
                t.attributes)
            )
              for (n = 0; n < t.attributes.length; n++) {
                var u,
                  d = t.attributes[n];
                d.specified && (l.attributes[d.name] = d.value),
                  "source" === d.name &&
                  ((u = d.value.replace(/#/g, "").split(" ")),
                    (l._indexes.sourceRefId = u)),
                  "corresp" === d.name &&
                  ((u = d.value.replace(/#/g, "").split(" ")),
                    (l._indexes.sourceRefId = u)),
                  "ref" === d.name &&
                  ((u = d.value.replace(/#/g, "").split(" ")),
                    (l._indexes.sourceRefId = u));
              }
            return (
              angular.forEach(t.childNodes, function (i) {
                if (3 === i.nodeType)
                  "" !== i.textContent.trim() &&
                    l.content.push(i.textContent.trim());
                else if (1 === i.nodeType) {
                  var c = angular
                    .element(i)[0]
                    .innerHTML.replace(
                      / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                      ""
                    ),
                    u = angular.element(i)[0].outerHTML.replace(c, ""),
                    d = ["bibl", "biblStruct", "biblFull", "msDesc"],
                    p = ["ptr", "ref", "link"];
                  if ("listBibl" === i.tagName)
                    for (n = 0; n < i.children.length; n++)
                      if (d.indexOf(i.children[n].tagName) >= 0) {
                        var h = o.parseAnalogueSource(i.children[n], t);
                        l._indexes.sourceId.push(h.id), l.sources.push(h);
                      } else l.content.push(g(i.children[n]));
                  else if (d.indexOf(i.tagName) >= 0) {
                    var f = o.parseAnalogueSource(i, t);
                    l._indexes.sourceId.push(f.id), l.sources.push(f);
                  } else if (p.indexOf(i.tagName) >= 0) {
                    if ((l.content.push(g(i)), i.hasAttribute("target"))) {
                      var m = i
                        .getAttribute("target")
                        .replace(/#/g, "")
                        .split(" ");
                      for (n = 0; n < m.length; n++)
                        l._indexes.sourceRefId.push(m[n]);
                    }
                  } else if ("linkGrp" === i.tagName) {
                    for (n = 0; n < i.children.length; n++)
                      if (
                        p.indexOf(i.children[n].tagName) >= 0 &&
                        (l.content.push(g(i.children[n])),
                          i.children[n].hasAttribute("target"))
                      ) {
                        var v = i.children[n]
                          .getAttribute("target")
                          .replace(/#/g, "")
                          .split(" ");
                        for (r = 0; r < v.length; r++)
                          l._indexes.sourceRefId.push(v[r]);
                      }
                  } else
                    "<app>".indexOf("<" + i.tagName + ">") >= 0
                      ? l.content.push(o.handleAppEntry(i))
                      : a.indexOf("<" + i.tagName + ">") >= 0
                        ? l.content.push(o.parseQuote(i))
                        : e.createRegExpr(s).test(u)
                          ? l.content.push(o.parseAnalogue(i))
                          : "note" === i.tagName
                            ? l.content.push(e.parseNote(i))
                            : l.content.push(g(i));
                }
              }),
              (0 === l._indexes.sourceId.length &&
                0 === l._indexes.sourceRefId.length) ||
              (l.type = "analogue"),
              l
            );
          }),
            (o.parseAnalogueSource = function (t) {
              var i,
                n,
                o,
                r = {
                  id: "",
                  abbr: { title: [], author: [], msId: [] },
                  attributes: [],
                  bibl: [],
                  text: [],
                  url: [],
                  _xmlSource: t.outerHTML || "",
                };
              if (t.attributes)
                for (i = 0; i < t.attributes.length; i++) {
                  var a = t.attributes[i];
                  if (a.specified) {
                    if (
                      ("xml:id" === a.name && (o = a.value),
                        "target" === a.name ||
                        "source" === a.name ||
                        "ref" === a.name)
                    ) {
                      var s = a.value.replace(/#/g, "").split(" ");
                      for (n = 0; n < s.length; n++) r.url.push(s[n]);
                    }
                    (r.attributes[a.name] = a.value), r.attributes.length++;
                  }
                }
              void 0 === o && (o = e.xpath(t).substr(1)), (r.id = o);
              var l = angular.element(t);
              return (
                "msDesc" === t.tagName
                  ? angular.forEach(l.find("idno"), function (e) {
                    r.abbr.msId.push(m(e));
                  })
                  : (angular.forEach(l.find("author"), function (e) {
                    r.abbr.author.push(m(e));
                  }),
                    angular.forEach(l.find("title"), function (e) {
                      r.abbr.title.push(m(e));
                    })),
                angular.forEach(t.childNodes, function (e) {
                  if (3 === e.nodeType)
                    "" !== e.textContent.trim() &&
                      r.bibl.push(e.textContent.trim());
                  else if (1 === e.nodeType) {
                    var o,
                      a = ["ptr", "ref", "link"];
                    if ("cit" === t.tagName && "quote" === e.tagName) {
                      var s = m(e);
                      r.text.push(s);
                    } else if (a.indexOf(e.tagName) >= 0) {
                      if (
                        ("ref" === e.tagName
                          ? r.bibl.push(m(e))
                          : r.bibl.push(e),
                          e.hasAttribute("target"))
                      )
                        for (
                          o = e
                            .getAttribute("target")
                            .replace(/#/g, "")
                            .split(" "),
                          i = 0;
                          i < o.length;
                          i++
                        )
                          r.url.push(o[i]);
                    } else if ("linkGrp" === e.tagName) {
                      for (i = 0; i < e.children.length; i++)
                        if (
                          a.indexOf(e.children[i].tagName) >= 0 &&
                          ("ref" === e.tagName
                            ? r.bibl.push(m(e))
                            : r.bibl.push(e.children[i]),
                            e.children[i].hasAttribute("target"))
                        )
                          for (
                            o = e.children[i]
                              .getAttribute("target")
                              .replace(/#/g, "")
                              .split(" "),
                            n = 0;
                            n < o.length;
                            n++
                          )
                            r.url.push(o[n]);
                    } else if ("citedRange" === e.tagName) {
                      if (
                        null !== e.getAttribute("target") &&
                        "" !== e.getAttribute("target")
                      )
                        for (
                          o = e
                            .getAttribute("target")
                            .replace(/#/g, "")
                            .split(" "),
                          i = 0;
                          i < o.length;
                          i++
                        )
                          r.url.push(o[i]);
                      r.bibl.push(h(e));
                    } else {
                      var l = m(e, t);
                      for (r.bibl.push(l), i = 0; i < l.url.length; i++)
                        r.url.push(l.url[i]);
                    }
                  }
                }),
                r
              );
            });
          var m = function e(t) {
            var i = {
              tagName: t.tagName,
              type: "sourceContent",
              attributes: [],
              content: [],
              url: [],
            };
            if (t.attributes)
              for (var n = 0; n < t.attributes.length; n++) {
                var o = t.attributes[n];
                o.specified && (i.attributes[o.name] = o.value);
              }
            return (
              angular.forEach(t.childNodes, function (t) {
                if (3 === t.nodeType)
                  "" !== t.textContent.trim() &&
                    i.content.push(t.textContent.trim());
                else if (1 === t.nodeType)
                  if ("citedRange" === t.tagName)
                    null !== t.getAttribute("target") &&
                      "" !== t.getAttribute("target") &&
                      i.url.push(t.getAttribute("target")),
                      i.content.push(h(t));
                  else if (t.children.length > 0)
                    for (var n = 0; n < t.children.length; n++)
                      i.content.push(e(t.children[n]));
                  else i.content.push(e(t));
              }),
              i
            );
          },
            v = function t(i, r, a) {
              var s;
              if (void 0 !== i.content)
                if (0 === i.content.length) {
                  var l = n.parse(
                    i._xmlSource.replace(
                      / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                      ""
                    )
                  ).children[0];
                  if ("pb" === i.tagName) {
                    if ("" !== r && l.getAttribute("ed").indexOf(r) >= 0) {
                      var c,
                        u = document.createElement("span");
                      (c = l.getAttribute("ed")
                        ? l.getAttribute("xml:id") ||
                        l.getAttribute("ed").replace("#", "") +
                        "-" +
                        l.getAttribute("n")
                        : l.getAttribute("xml:id")),
                        (u.className = "pb"),
                        u.setAttribute("data-wit", l.getAttribute("ed")),
                        u.setAttribute("data-id", c),
                        u.setAttribute("id", "pb_" + c),
                        (u.textContent = l.getAttribute("n")),
                        (s = u);
                    }
                  } else s = e.parseXMLElement(a, l, { skip: "" });
                } else if (
                  1 === i.content.length &&
                  "string" == typeof i.content[0]
                ) {
                  var d = n.parse(
                    i._xmlSource.replace(
                      / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                      ""
                    )
                  ).children[0];
                  s = e.parseXMLElement(a, d, { skip: "" });
                } else {
                  (s = document.createElement("span")).className = i.tagName
                    ? i.tagName.toLowerCase()
                    : "";
                  var p = Object.keys(i.attributes);
                  for (var h in p) {
                    var f = p[h],
                      g = i.attributes[f];
                    "xml:id" !== f &&
                      s.setAttribute("data-" + f.replace(":", "-"), g);
                  }
                  var m = i.content;
                  for (var v in m)
                    if ("string" == typeof m[v])
                      s.appendChild(document.createTextNode(m[v]));
                    else if ("quote" === m[v].type)
                      s.appendChild(o.getQuoteText(m[v]));
                    else if ("EVT-POPOVER" === m[v].tagName)
                      s.appendChild(m[v]);
                    else if ("app" === m[v].type)
                      "" === r
                        ? s.appendChild(o.getEntryLemmaText(m[v]))
                        : s.appendChild(o.getEntryWitnessReadingText(m[v], r));
                    else if ("analogue" === m[v].type)
                      s.appendChild(o.getAnalogueText(m[v]));
                    else {
                      var b = t(m[v], r, a);
                      void 0 !== b && s.appendChild(b);
                    }
                }
              return s;
            };
          return (
            (o.getAnalogueText = function (e, t, i) {
              var n;
              (n = document.createElement("evt-analogue")).setAttribute(
                "data-analogue-id",
                e.id
              ),
                n.setAttribute("data-type", "analogue"),
                "" !== t && void 0 !== t && n.setAttribute("data-scope-wit", t);
              var r = e.content,
                a = ["link", "ptr", "linkGrp"];
              for (var s in r) {
                var l;
                "string" == typeof r[s]
                  ? ((l = document.createElement("span")).setAttribute(
                    "class",
                    "textNode"
                  ),
                    l.appendChild(document.createTextNode(r[s])),
                    n.appendChild(l))
                  : "EVT-POPOVER" === r[s].tagName
                    ? n.appendChild(r[s])
                    : "app" === r[s].type
                      ? "" === t
                        ? n.appendChild(o.getEntryLemmaText(r[s]))
                        : n.appendChild(o.getEntryWitnessReadingText(r[s], t))
                      : "quote" === r[s].type
                        ? n.appendChild(o.getQuoteText(r[s], t, i))
                        : "analogue" === r[s].type
                          ? n.appendChild(o.getAnalogueText(r[s]))
                          : "analogueContent" === r[s].type &&
                            a.indexOf(r[s].tagName) < 0
                            ? void 0 !== (l = v(r[s], t, i)) && n.appendChild(l)
                            : void 0 !== r[s].content &&
                            0 !== r[s].content.length &&
                            void 0 !== (l = v(r[s], t, i)) &&
                            n.appendChild(l);
              }
              return n;
            }),
            o
          );
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtVersionApparatus", [
      "config",
      "evtCriticalApparatus",
      "evtParser",
      function (e, t, i) {
        var n = {
          getContent: function (t, i, o) {
            var r = {
              attributes: {
                values: t.attributes || {},
                _keys: Object.keys(t.attributes) || [],
              },
              versions: [],
              note: "",
              _readings: !1,
              _xmlSource: t._xmlSource.replace(
                'xmlns="http://www.tei-c.org/ns/1.0"',
                ""
              ),
            };
            for (var a in t.content) {
              var s = n.getVersionContent(t.content[a], i, o),
                l = e.versions.indexOf(s.value);
              r.versions.splice(l, 0, s);
            }
            return (
              void 0 !== t.note && "" !== t.note && (r.note += t.note),
              (s.significantReadings.length > 0 ||
                s.notSignificantReadings.length > 0) &&
              (r._readings = !0),
              r
            );
          },
          getVersionContent: function (e, n, o) {
            var r = {
              id: e.versionId,
              value: e.id,
              lem: "",
              significantReadings: [],
              notSignificantReadings: [],
              attributes: {
                values: e.attributes || {},
                _keys: Object.keys(e.attributes) || [],
              },
            },
              a = e.content[e.lemma];
            if (void 0 !== a) {
              var s = t.getLemma(a, n);
              if (
                t.getText(a).replace(/<span class="textNode">|<\/span>/g, "")
                  .length <= 70
              )
                r.lem +=
                  '<span class="versionApp_lemma_content">' + s + "</span>";
              else {
                var l = s.substring(0, s.indexOf('<span class="witnesses')),
                  c = s.substring(
                    s.indexOf('<span class="witnesses'),
                    s.length
                  );
                r.lem = i.createAbbreviation(l, 70) + c;
              }
            }
            for (var u in e.content)
              if (u !== e.lemma) {
                var d = t.getSignificantReading(e.content[u]);
                e.content[u]._significant
                  ? r.significantReadings.push(d)
                  : r.notSignificantReadings.push(d);
              }
            return r;
          },
        };
        return n;
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      var t =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (e) {
            return typeof e;
          }
          : function (e) {
            return e &&
              "function" == typeof Symbol &&
              e.constructor === Symbol &&
              e !== Symbol.prototype
              ? "symbol"
              : typeof e;
          };
      angular.module("evtviewer.dataHandler").service("evtBibliographyParser", [
        "parsedData",
        "evtParser",
        "config",
        function (i, n, o) {
          var r = o.allowedBibliographicStyles.Chicago.label,
            a = o.allowedBibliographicStyles.APA.label,
            s = o.allowedBibliographicStyles.MLA.label,
            l = (o.defaultBibliographicStyle, !1),
            c = !1,
            u = !1,
            d = !1,
            p = !1,
            h = { biblStruct: "<biblStruct>", bibl: "<bibl>" },
            f = {
              parseBiblInfo: function (e) {
                var t = angular.element(e);
                for (var n in h) g(n, t);
                console.log(
                  "## parseBiblInfo ##",
                  i.getBibliographicRefsCollection()
                );
              },
            },
            g = function (e, t) {
              var n = t
                .find("<listBibl>".replace(/[<>]/g, ""))
                .find(">" + h[e].replace(/[<>]/g, ""));
              angular.forEach(n, function (e) {
                var t = f.extractInfo(e);
                D(t);
                i.addBibliographicRef(t);
              });
            };
          f.extractInfo = function (t) {
            for (
              var i = {
                id: "",
                type: "",
                author: [],
                titleAnalytic: "",
                titleMonogr: "",
                editionMonogr: "",
                date: "",
                editor: [],
                publisher: "",
                pubPlace: "",
                biblScope: {},
                note: {},
                idno: {},
                outputs: {},
                plainText: "",
              },
              o = angular.element(t),
              r = !1,
              a = o[0].childNodes,
              s = 0;
              s < a.length;
              s++
            )
              3 === a[s].nodeType && "" !== a[s].textContent.trim() && (r = !0);
            if (((i.id = o.attr("xml:id") ? o.attr("xml:id") : n.xpath(t)), r))
              (a = (a = o.find("*")).sort(function (t, i) {
                return e(i).parents().length - e(t).parents().length;
              })).replaceWith(function () {
                return (
                  '<span class="unstructuredBibl ' +
                  this.tagName +
                  '">' +
                  e(this).html() +
                  "</span>"
                );
              }),
                (i.plainText = e(o).html());
            else {
              _(o, i);
              var l = o.find("<analytic>".replace(/[<>]/g, ""));
              if (
                (b(angular.element(l), i),
                  m(o.find("author"), i.author),
                  m(o.find("<editor>".replace(/[<>]/g, "")), i.editor),
                  o[0].tagName === h.bibl.replace(/[<>]/g, ""))
              ) {
                x(o[0], i),
                  w(o.find("<biblScope>".replace(/[<>]/g, "")), i.biblScope),
                  w(o.find("<citedRange>".replace(/[<>]/g, "")), i.biblScope);
                var c = o.children();
                (c = e(c).filter(function (e, t) {
                  return t.tagName === h.bibl.replace(/[<>]/g, "");
                })),
                  angular.forEach(c, function (e) {
                    x(e, i);
                  });
              } else
                w(o.find("<citedRange>".replace(/[<>]/g, "")), i.biblScope),
                  y(o, i);
              var u = o.find("<monogr>".replace(/[<>]/g, ""));
              if (u) {
                (u = angular.element(u)), b(u, i);
                u.find("<editor>".replace(/[<>]/g, ""));
                var d = u.find("edition");
                i.editionMonogr =
                  d && d.length > 0 ? d[0].textContent : i.editionMonogr;
                var f = d.find("date");
                "" === i.date &&
                  (i.date = f && f.length > 0 ? f[0].textContent : ""),
                  w(u.find("<biblScope>".replace(/[<>]/g, "")), i.biblScope),
                  _(u, i);
                var g = angular.element(
                  u.find("<imprint>".replace(/[<>]/g, ""))
                );
                if (g && g.length > 0) {
                  var v = angular.element(g[0]);
                  w(v.find("<biblScope>".replace(/[<>]/g, "")), i.biblScope);
                  var A = g.find("date");
                  i.date = A && A.length > 0 ? A[0].textContent : "";
                  var E = g.find("publisher");
                  "" === i.publisher &&
                    (i.publisher = E && E.length > 0 ? E[0].textContent : "");
                  var C = g.find("pubPlace");
                  "" === i.pubPlace &&
                    (i.pubPlace = C && C.length > 0 ? C[0].textContent : ""),
                    _(g, i);
                }
              }
              var k = angular.element(o.find("<series>".replace(/[<>]/g, "")));
              if (k && k.length > 0) {
                var L = k.find("date");
                "" === i.date &&
                  (i.date = L && L.length > 0 ? L[0].textContent : "");
                var D = k.find("publisher");
                "" === i.publisher &&
                  (i.publisher = D && D.length > 0 ? D[0].textContent : "");
                var P = k.find("pubPlace");
                "" === i.pubPlace &&
                  (i.pubPlace = P && P.length > 0 ? P[0].textContent : ""),
                  _(k, i),
                  w(k.find("<biblScope>".replace(/[<>]/g, "")), i.biblScope);
              }
              angular.forEach(
                o.find("<idno>".replace(/[<>]/g, "")),
                function (e) {
                  var t = e.getAttribute("type");
                  null !== t && (i.idno[t] = e.textContent || "");
                }
              ),
                T(i) || (i.plainText = o[0].textContent),
                I(i) && O(i) && (p = !0);
            }
            return S(i, !0, !0), i;
          };
          var m = function (e, t) {
            angular.forEach(e, function (e) {
              var i = { name: "", surname: "", forename: "" };
              if ((v(e, e, i), "" !== i.name && "" === i.surname)) {
                var n = C(i.name);
                (i.surname = "" !== n.surname ? n.surname : i.surname),
                  (i.name = "" !== n.name ? n.name : i.name);
              }
              t.push(i);
            });
          },
            v = function e(t, i, n) {
              if (3 === t.nodeType) {
                var o =
                  t.textContent.substr(0, 1).toUpperCase() +
                  t.textContent.substr(1);
                if (i)
                  switch (i.tagName) {
                    case "author":
                    case "editor":
                    case "name":
                      n.name += o + " ";
                      break;
                    case "surname":
                      n.surname += o + " ";
                      break;
                    case "forename":
                      n.forename += o + " ";
                  }
              }
              angular.forEach(t.childNodes, function (t) {
                switch (t.tagName) {
                  case "author":
                  case "editor":
                  case "name":
                  case "surname":
                  case "forename":
                    e(t, t, n);
                    break;
                  default:
                    e(t, i, n);
                }
              });
            },
            b = function (e, t) {
              var i = e.find("title");
              if (i && i.length > 0) {
                var n = i[0].getAttribute("level") || "";
                (n = null !== n ? n.substr(0, 1) : ""),
                  e[0].tagName === "<monogr>".replace(/[<>]/g, "")
                    ? ((n = "" === n ? "m" : n),
                      (t.titleMonogr = i[0].textContent),
                      (t.type += n))
                    : e[0].tagName === "<analytic>".replace(/[<>]/g, "") &&
                    ((n = "" === n ? "a" : n),
                      (t.titleAnalytic = i[0].textContent),
                      (t.type += n));
              }
            },
            y = function (e, t) {
              angular.forEach(e.children(), function (e) {
                "date" === e.tagName
                  ? (t.date = e.innerText)
                  : "pubPlace" === e.tagName
                    ? (t.pubPlace = "" === t.pubPlace ? e.innerText : t.pubPlace)
                    : "publisher" === e.tagName &&
                    (t.publisher =
                      "" === t.publisher ? e.innerText : t.publisher);
              });
            },
            x = function (e, t) {
              for (var i, n = e.children, o = 0; o < n.length; o++)
                if (
                  ("title" === n[o].tagName &&
                    (null != (i = n[o].getAttribute("level")) &&
                      (i = i.substring(0, 1)),
                      ("m" !== i && "j" !== i && "u" !== i && null != i) ||
                      ((t.titleMonogr = n[o].textContent), (t.type += i)),
                      "a" === i &&
                      null != i &&
                      ((t.titleAnalytic = n[o].textContent), (t.type += i))),
                    null == i || "m" === i)
                )
                  if ("date" === n[o].tagName) t.date = n[o].textContent;
                  else if ("pubPlace" === n[o].tagName)
                    t.pubPlace =
                      "" === t.pubPlace ? n[o].textContent : t.pubPlace;
                  else if ("publisher" === n[o].tagName)
                    t.publisher =
                      "" === t.publisher ? n[o].textContent : t.publisher;
                  else if ("edition" === n[o].tagName) {
                    t.editionMonogr =
                      "" === t.editionMonogr
                        ? n[o].textContent
                        : t.editionMonogr;
                    var r = angular.element(n[o]).find("date");
                    r &&
                      r.length > 0 &&
                      (t.date = "" === t.date ? r[0].textContent : t.date);
                  }
            },
            w = function (e, t) {
              angular.forEach(e, function (e) {
                angular.forEach(["type", "unit"], function (i) {
                  var n = e.getAttribute(i),
                    o = e.getAttribute("from"),
                    r = e.getAttribute("to");
                  null !== n &&
                    !n in t &&
                    (null !== r && null !== o && "" !== r && "" !== o
                      ? (t[n] = o + "-" + r)
                      : "" !== e.textContent && (t[n] = e.textContent));
                });
              });
            },
            _ = function (e, t) {
              angular.forEach(e.find("note"), function (e) {
                var i = e.getAttribute("type");
                if (null === i) {
                  var n = 1;
                  for (i = "note-" + n; i in t.note;) i = "note" + ++n;
                }
                t.note[i] = e.textContent;
              });
            },
            A = function (e) {
              return (
                e &&
                "object" === (void 0 === e ? "undefined" : t(e)).toLowerCase()
              );
            },
            E = function (e) {
              return A(e) && e instanceof Array;
            },
            S = function e(t, i, n) {
              if ("string" == typeof t)
                return (
                  i && (t = t.replace(/\.$/, "")),
                  n && (t = (t = t.trim()).replace(/\s+/g, " ")),
                  t
                );
              if (E(t))
                for (var o = 0, r = t.length; o < r; o++) e(t[o], !0, !0);
              else if (A(t))
                for (var a in t) {
                  var s;
                  void 0 !== (s = e(t[a], "author" !== a, !0)) && (t[a] = s);
                }
            },
            T = function e(i) {
              var n,
                o = !1;
              if (
                "string" ===
                (void 0 === (n = i) ? "undefined" : t(n)).toLowerCase()
              )
                "" !== i && (o = !0);
              else if (E(i)) i.length > 0 && (o = !0);
              else if (A(i))
                for (var r in i)
                  "id" !== r && (o = o || e(i[r])),
                    "author" === r && i[r].length > 0 && (c = !0),
                    "date" === r && "" !== i[r] && (l = !0),
                    ("titleAnalytic" !== r && "titleMonogr" !== r) ||
                    "" === i[r] ||
                    (u = !0),
                    "publisher" === r && "" !== i[r] && (d = !0);
              return o;
            };
          f.formatResult = function (e, t) {
            if (!t.outputs[e]) {
              var i,
                n,
                o,
                l = "";
              if (null == e || "" === e)
                "" !== t.plainText &&
                  (l +=
                    '<span data-style="unstructuredBibl">' +
                    t.plainText +
                    "<span>");
              else if (e === r) {
                if (
                  ("" !== t.plainText &&
                    (l +=
                      '<span data-style="chicago">' + t.plainText + "<span>"),
                    t.author && t.author.length > 0)
                ) {
                  if (
                    ((l += '<span data-style="chicago" class="authors">'),
                      (n = "" !== (i = t.author[0]).name ? i.name : i.forename),
                      (o = i.surname),
                      "" !== n && "" === o)
                  ) {
                    var c = C(n);
                    (o = "" !== c.surname ? c.surname : o),
                      (n = "" !== c.name ? c.name : n);
                  }
                  (l += '<span data-style="chicago" class="author">'),
                    "" !== o &&
                    (l +=
                      '<span data-style="chicago" class="surname">' +
                      o +
                      "</span>"),
                    "" !== n && "" !== o
                      ? (l +=
                        '<span data-style="chicago" class="name">' +
                        L(n) +
                        "</span>")
                      : "" !== n &&
                      (l +=
                        '<span data-style="chicago" class="name">' +
                        n +
                        "</span>"),
                    (l += "</span>"),
                    angular.forEach(t.author, function (e, t) {
                      if (t > 0) {
                        var i = "" !== e.name ? e.name : e.forename,
                          n = e.surname;
                        if ("" !== i && "" === n) {
                          var o = C(i);
                          (n = "" !== o.surname ? o.surname : n),
                            (i = "" !== o.name ? o.name : i);
                        }
                        (l += '<span data-style="chicago" class="author">'),
                          "" !== i && "" !== n
                            ? (l +=
                              '<span data-style="chicago" class="name">' +
                              L(i) +
                              "</span>")
                            : "" !== i &&
                            (l +=
                              '<span data-style="chicago" class="name">' +
                              i +
                              "</span>"),
                          "" !== n &&
                          (l +=
                            '<span data-style="chicago" class="surname">' +
                            n +
                            "</span>"),
                          (l += "</span>");
                      }
                    });
                }
                (l += "</span>"),
                  F(t)
                    ? (R(t) &&
                      (l +=
                        '<span data-style="chicago" class="date">' +
                        R(t) +
                        "</span>"),
                      P(t) &&
                      (l +=
                        '<span data-style="chicago" data-attr="titolo" class="titleAnalytic">' +
                        P(t) +
                        "</span>"),
                      O(t) &&
                      (l +=
                        '<span data-style="chicago" data-attr="titolo" class="titleMonogr">' +
                        O(t) +
                        "</span>"),
                      M(t) &&
                      (l +=
                        '<span data-style="chicago" data-attr="titolo" class="edition">' +
                        M(t) +
                        "</span>"),
                      N(t) &&
                      (l +=
                        '<span data-style="chicago" class="pubPlace">' +
                        N(t) +
                        "</span>"),
                      U(t) &&
                      (l +=
                        '<span data-style="chicago" class="publisher">' +
                        U(t) +
                        "</span>"),
                      z(t) &&
                      (l +=
                        '<span data-style="chicago" class="url">' +
                        z(t) +
                        "</span>"))
                    : (R(t) &&
                      (l +=
                        '<span data-style="chicago" class="date">' +
                        R(t) +
                        "</span>"),
                      P(t) &&
                      (l +=
                        '<span data-style="chicago" class="titleAnalytic">' +
                        P(t) +
                        "</span>"),
                      O(t) &&
                      (l +=
                        '<span data-style="chicago" class="titleMonogr">' +
                        O(t) +
                        "</span>"),
                      W(t) &&
                      ((l += '<span data-style="chicago" class="editors">'),
                        angular.forEach(W(t), function (e, t) {
                          l += '<span data-style="chicago" class="editor">';
                          var i = "" !== e.name ? e.name : e.forename,
                            n = e.surname;
                          if ("" !== i && "" === n) {
                            var o = C(i);
                            (n = "" !== o.surname ? o.surname : n),
                              (i = "" !== o.name ? o.name : i);
                          }
                          "" !== n &&
                            (l +=
                              '<span data-style="chicago" class="editor surname">' +
                              n +
                              "</span>"),
                            "" !== i &&
                            (l +=
                              '<span data-style="chicago" class="editor name">' +
                              i +
                              "</span>"),
                            (l += "</span>");
                        }),
                        (l += "</span>")),
                      N(t) &&
                      (l +=
                        '<span data-style="chicago" class="pubPlace">' +
                        N(t) +
                        "</span>"),
                      U(t) &&
                      (l +=
                        '<span data-style="chicago" class="publisher">' +
                        U(t) +
                        "</span>"),
                      B(t) &&
                      (l +=
                        '<span data-style="chicago" class="pp">' +
                        B(t) +
                        "</span>"));
              } else if (e === a)
                if (
                  ("" !== t.plainText &&
                    (l += '<span data-style="apa">' + t.plainText + "<span>"),
                    F(t))
                )
                  t.author &&
                    t.author.length > 0 &&
                    ((l += '<span data-style="apa" class="authors">'),
                      (n = "" !== (i = t.author[0]).name ? i.name : i.forename),
                      (o = i.surname),
                      (l += '<span data-style="apa" class="author">'),
                      "" !== o &&
                      (l +=
                        '<span data-style="apa" class="surname">' +
                        o +
                        "</span>"),
                      "" !== n &&
                      "" !== o &&
                      (l +=
                        '<span data-style="apa" class="name">' +
                        k(n) +
                        "</span>"),
                      "" !== n &&
                      "" === o &&
                      (l +=
                        '<span data-style="apa" class="name">' + n + "</span>"),
                      (l += "</span>"),
                      angular.forEach(t.author, function (e, t) {
                        if (t > 0) {
                          var n = "" !== e.name ? e.name : i.forename,
                            o = "" !== e.surname ? e.surname : "";
                          (l += '<span data-style="apa" class="author">'),
                            "" !== o &&
                            (l +=
                              '<span data-style="apa" class="surname">' +
                              o +
                              "</span>"),
                            "" !== n &&
                            "" !== o &&
                            (l +=
                              '<span data-style="apa" class="name">' +
                              k(n) +
                              "</span>"),
                            "" !== n &&
                            "" === o &&
                            (l +=
                              '<span data-style="apa" class="name">' +
                              n +
                              "</span>"),
                            (l += "</span>");
                        }
                      }),
                      (l += "</span>")),
                    R(t) &&
                    (l +=
                      '<span data-style="apa" class="date">' +
                      R(t) +
                      "</span>"),
                    O(t) &&
                    (l +=
                      '<span data-style="apa" data-attr="titolo" class="titleMonogr">' +
                      O(t) +
                      "</span>"),
                    B(t) &&
                    (l +=
                      '<span data-style="apa" class="pp">' +
                      B(t) +
                      "</span>"),
                    N(t) &&
                    (l +=
                      '<span data-style="apa" class="pubPlace">' +
                      N(t) +
                      "</span>"),
                    U(t) &&
                    (l +=
                      '<span data-style="apa" class="publisher">' +
                      U(t) +
                      "</span>");
                else {
                  if (
                    (t.author &&
                      t.author.length > 0 &&
                      ((l += '<span data-style="apa" class="authors">'),
                        (n = "" !== (i = t.author[0]).name ? i.name : i.forename),
                        (o = i.surname),
                        (l += '<span data-style="apa" class="author">'),
                        "" !== o &&
                        (l +=
                          '<span data-style="apa" class="surname">' +
                          o +
                          "</span>"),
                        "" !== n &&
                        "" !== o &&
                        (l +=
                          '<span data-style="apa" class="name">' +
                          k(n) +
                          "</span>"),
                        "" !== n &&
                        "" === o &&
                        (l +=
                          '<span data-style="apa" class="name">' +
                          n +
                          "</span>"),
                        (l += "</span>"),
                        angular.forEach(t.author, function (e, t) {
                          if (t > 0) {
                            var n = "" !== e.name ? e.name : i.forename,
                              o = "" !== e.surname ? e.surname : "";
                            if ("" !== n && "" === o) {
                              var r = C(n);
                              (o = "" !== r.surname ? r.surname : o),
                                (n = "" !== r.name ? r.name : n);
                            }
                            (l += '<span data-style="apa" class="author">'),
                              "" !== o &&
                              (l +=
                                '<span data-style="apa" class="surname">' +
                                o +
                                "</span>"),
                              "" !== n &&
                              "" !== o &&
                              (l +=
                                '<span data-style="apa" class="name">' +
                                k(n) +
                                "</span>"),
                              "" !== n &&
                              "" === o &&
                              (l +=
                                '<span data-style="apa" class="name">' +
                                n +
                                "</span>"),
                              (l += "</span>");
                          }
                        }),
                        (l += "</span>")),
                      R(t) &&
                      (l +=
                        '<span data-style="apa" class="date">' +
                        R(t) +
                        "</span>"),
                      P(t) &&
                      (l +=
                        '<span data-style="apa" data-attr="titolo" class="titleAnalytic">' +
                        P(t) +
                        "</span>"),
                      O(t) &&
                      (l +=
                        '<span data-style="apa" data-attr="titolo" class="titleMonogr">' +
                        O(t) +
                        "</span>"),
                      $(t))
                  ) {
                    var u = $(t);
                    if (H(t)) {
                      var d = H(t);
                      l +=
                        '<span data-style="apa" class="vol">' +
                        u +
                        "(" +
                        d +
                        ")</span>";
                    } else
                      l +=
                        '<span data-style="apa" class="vol">' + u + "</span>";
                  }
                  B(t) &&
                    (l +=
                      '<span data-style="apa" class="pp">' + B(t) + "</span>"),
                    N(t) &&
                    (l +=
                      '<span data-style="apa" class="pubPlace">' +
                      N(t) +
                      "</span>"),
                    U(t) &&
                    (l +=
                      '<span data-style="apa" class="publisher">' +
                      U(t) +
                      "</span>");
                }
              else
                e === s &&
                  ("" !== t.plainText &&
                    (l += '<span data-style="mla">' + t.plainText + "<span>"),
                    F(t),
                    t.author &&
                    t.author.length > 0 &&
                    ((l += '<span data-style="mla" class="authors">'),
                      (n = "" !== (i = t.author[0]).name ? i.name : i.forename),
                      (o = i.surname),
                      (l += '<span data-style="mla" class="author">'),
                      "" !== o &&
                      (l +=
                        '<span data-style="mla" class="surname">' +
                        o +
                        "</span>"),
                      "" !== n && "" !== o
                        ? (l +=
                          '<span data-style="mla" class="name">' +
                          L(n) +
                          "</span>")
                        : "" !== n &&
                        (l +=
                          '<span data-style="mla" class="name">' +
                          n +
                          "</span>"),
                      (l += "</span>"),
                      angular.forEach(t.author, function (e, t) {
                        if (t > 0) {
                          var i = "" !== e.name ? e.name : e.forename,
                            n = e.surname;
                          (l += '<span data-style="mla" class="author">'),
                            "" !== i && "" !== n
                              ? (l +=
                                '<span data-style="mla" class="name">' +
                                L(i) +
                                "</span>")
                              : "" !== i &&
                              (l +=
                                '<span data-style="mla" class="name">' +
                                i +
                                "</span>"),
                            "" !== n &&
                            (l +=
                              '<span data-style="mla" class="surname">' +
                              n +
                              "</span>"),
                            (l += "</span>");
                        }
                      }),
                      (l += "</span>")),
                    P(t) &&
                    (l +=
                      '<span data-style="mla" data-attr="titolo" class="titleAnalytic">' +
                      P(t) +
                      "</span>"),
                    O(t) &&
                    (l +=
                      '<span data-style="mla" data-attr="titolo" class="titleMonogr">' +
                      O(t) +
                      "</span>"),
                    N(t) &&
                    (l +=
                      '<span data-style="mla" class="pubPlace">' +
                      N(t) +
                      "</span>"),
                    U(t) &&
                    (l +=
                      '<span data-style="mla" class="publisher">' +
                      U(t) +
                      "</span>"),
                    R(t) &&
                    (l +=
                      '<span data-style="mla" class="date">' +
                      R(t) +
                      "</span>"),
                    B(t) &&
                    (l +=
                      '<span data-style="mla" class="pp">' + B(t) + "</span>"),
                    z(t) &&
                    (l += '<span data-style="mla" class="generic">Web</span>'));
              if ("" !== l && j(t)) {
                var p = "";
                angular.forEach(j(t), function (e) {
                  p += "<p>" + e + "</p>";
                }),
                  (l +=
                    '<evt-popover data-trigger="click"  data-tooltip="' +
                    p +
                    '"><i class="icon-evt_note"></i></evt-popover>');
              }
              t.outputs[e] = l;
            }
          };
          var C = function (e) {
            for (
              var t = { surname: "", name: "" }, i = 0, n = 0, o = 0;
              o < e.length;
              o++
            )
              "," === e[o] && (i++, (n = o));
            return (
              1 === i &&
              n > 0 &&
              ((t.surname = e.substr(0, n)),
                (t.name = e.substr(n + 1, e.length - 1))),
              t
            );
          },
            k = function (e) {
              for (var t = "", i = 0; i < e.length; i++)
                (0 !== i && " " !== e[i - 1] && "." !== e[i - 1]) ||
                  " " === e[i] ||
                  e[i] !== e[i].toUpperCase() ||
                  ((t += ""), (t += e[i]), (t += "."));
              var n = t.length;
              return "." === t[n - 1] && (t = t.substr(0, n - 1)), t;
            },
            L = function (e) {
              for (var t = -1, i = 0, n = 0; n < e.length; n++)
                if (
                  (-1 === t &&
                    " " !== e[n] &&
                    e[n] === e[n].toUpperCase() &&
                    ((t = n), (i = n)),
                    -1 !== t)
                ) {
                  if (" " === e[n] || "." === e[n]) break;
                  i++;
                }
              var o = e.substr(t, i),
                r = k(e.substr(i + 1));
              return "" !== r && (o += " "), o + r;
            };
          (f.yearInfoDetected = function () {
            return l;
          }),
            (f.authorInfoDetected = function () {
              return c;
            }),
            (f.titleInfoDetected = function () {
              return u;
            }),
            (f.publisherInfoDetected = function () {
              return d;
            }),
            (f.bibliographicStyleInfoDetected = function () {
              return p;
            }),
            (f.getType = function (e) {
              return V(e);
            });
          var D = function (e) {
            if ("" !== e.id) return e.id;
          },
            I = function (e) {
              if (e.author && e.author.length > 0) return e.author;
            },
            P = function (e) {
              if ("" !== e.titleAnalytic) return e.titleAnalytic;
            },
            O = function (e) {
              if ("" !== e.titleMonogr) return e.titleMonogr;
            },
            M = function (e) {
              if ("" !== e.editionMonogr) return e.editionMonogr;
            },
            N = function (e) {
              if ("" !== e.pubPlace) return e.pubPlace;
            },
            R = function (e) {
              if ("" !== e.date) return e.date;
            },
            B = function (e) {
              var t;
              return (
                void 0 !== e.note &&
                (void 0 !== e.note.pp
                  ? (t = e.note.pp)
                  : void 0 !== e.note.pages && (t = e.note.pages)),
                void 0 !== e.biblScope.pages
                  ? (t = e.biblScope.pages)
                  : void 0 !== e.biblScope.pp
                    ? (t = e.biblScope.pp)
                    : void 0 !== e.biblScope.page && (t = e.biblScope.page),
                t
              );
            },
            z = function (e) {
              if (void 0 !== e.note.url)
                return (
                  '<a href="' +
                  e.note.url +
                  '" target="_blank">' +
                  e.note.url +
                  "</a>"
                );
            },
            $ = function (e) {
              return void 0 !== e.biblScope.vol
                ? e.biblScope.vol
                : void 0 !== e.biblScope.volume
                  ? e.biblScope.volume
                  : void 0 !== e.biblScope.volumes
                    ? e.biblScope.volumes
                    : void 0;
            },
            H = function (e) {
              if (void 0 !== e.biblScope.issue) return e.biblScope.issue;
            },
            V = function (e) {
              if ("" !== e.type)
                return (
                  "am" === e.type ||
                  "ma" === e.type ||
                  ("aj" === e.type || "ja" === e.type
                    ? (e.type = "j")
                    : e.type.includes("a")
                      ? (e.type = "a")
                      : (e.type = e.type.substr(0, 1))),
                  e.type
                );
            },
            j = function (e) {
              if (e.note && Object.keys(e.note).length > 0) return e.note;
            },
            F = function (e) {
              return V(e) && "m" === V(e).toLowerCase().substr(0, 1);
            },
            U = function (e) {
              if ("" !== e.publisher) return e.publisher;
            },
            W = function (e) {
              if (e.editor && e.editor.length > 0) return e.editor;
            };
          return f;
        },
      ]);
    }.call(this, i(0)));
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtHotSpotParser", [
      "$q",
      "xmlParser",
      "evtParser",
      "parsedData",
      "config",
      function (e, t, i, n, o) {
        var r = {};
        return (
          (r.parseHotSpots = function (e) {
            var t = angular.element(e);
            angular.forEach(t.find("div[type='hotspot']"), function (e) {
              angular.forEach(e.childNodes, function (e) {
                if ("div" === e.tagName) {
                  var t = {};
                  if (e.attributes)
                    for (var i = 0; i < e.attributes.length; i++) {
                      var o = e.attributes[i];
                      if (o.specified)
                        t[
                          "xml:id" === o.name ? "id" : o.name.replace(":", "-")
                        ] = o.value;
                    }
                  (t.content = angular.element(e).text()),
                    (t.images = angular.element(e).find("graphic")),
                    n.addHotSpot(t);
                }
              });
            }),
              console.log("## HOTSPOTS ##", n.getHotSpots());
          }),
          r
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtGlyph", [
      "parsedData",
      function e(t) {
        e.prototype.getGlyph = function (e, i) {
          var n = (function (e) {
            var i,
              n = t.getGlyphs(),
              o = e.getAttribute("ref");
            try {
              (o = o.replace("#", "")), ((i = n[o].mapping).id = o);
            } catch (e) {
              return console.log(e), !0;
            }
            return i;
          })(e);
          return (
            n.runic
              ? {
                diplomatic: function () {
                  return void 0 !== n.runic ? n.runic.content : "";
                },
                interpretative: function () {
                  return void 0 !== n.transliterated
                    ? n.transliterated.content
                    : "";
                },
              }
              : {
                diplomatic: function () {
                  return void 0 !== n.diplomatic ? n.diplomatic.content : "";
                },
                interpretative: function () {
                  return void 0 !== n.normalized ? n.normalized.content : "";
                },
              }
          )[i]();
        };
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtDepaParser", [
      "parsedData",
      "evtCriticalElementsParser",
      "Utils",
      "evtParser",
      "config",
      "xmlParser",
      function (e, t, i, n, o, r) {
        var a = {},
          s =
            "<evt-reading>,<pb>,<app>,<lem>, <rdg>,<rdgGrp>," +
            o.quoteDef +
            "," +
            o.analogueDef +
            ",<evt-quote>,<evt-analogue>,<evt-version-reading>";
        return (
          (a.setAppInText = function (n, o, r) {
            if (e.getCriticalEntries()._indexes.depa) {
              var s = e.getCriticalEntries()._indexes.depa.start,
                l = n.getAttribute("xml:id"),
                c =
                  Object.keys(s).filter(function (e) {
                    return s[e] === l;
                  }) || [];
              angular.forEach(c, function (s) {
                var l = e.getCriticalEntryById(s);
                if (l) {
                  var c = e.getCriticalEntries()._indexes.depa.end[s],
                    u = r.querySelector('[*|id="' + c + '"]');
                  if (u) {
                    var d = o
                      ? t.getEntryWitnessReadingText(l, o)
                      : t.getEntryLemmaText(l, o),
                      p = e.getEncodingDetail("variantEncodingMethod");
                    if (
                      (d.setAttribute("data-method", p || "double-end-point"),
                        !d.firstChild ||
                        !d.firstChild.className ||
                        d.firstChild.className.indexOf("empty") < 0)
                    ) {
                      if (n === u) a.removeChildNodes(n);
                      else {
                        if (
                          (n.childNodes && n.childNodes.length > 0) ||
                          a.isDescendant(n, u)
                        ) {
                          var h = document.createTextNode("");
                          n.parentNode.insertBefore(h, n), (n = h);
                        }
                        var f = i.DOMutils.getElementsBetweenTree(n, u);
                        angular.forEach(f, function (e) {
                          e.parentNode.removeChild(e);
                        });
                      }
                      n.parentNode.insertBefore(d, n);
                    } else {
                      var g = a.createAnchorElement(l, o);
                      n.parentNode.insertBefore(g, n),
                        d.setAttribute("data-no-text", !0),
                        u.parentNode.insertBefore(d, u.nextSibling);
                    }
                  }
                }
              });
            }
          }),
          (a.setInternalAppInText = function (e, n, o, r) {
            var s = o
              ? t.getEntryWitnessReadingText(n, o)
              : t.getEntryLemmaText(n, o),
              l = n.attributes.from.replace("#", ""),
              c = n.attributes.to ? n.attributes.to.replace("#", "") : null,
              u = (l && r.querySelector('[*|id="' + l + '"]')) || null,
              d = c ? r.querySelector('[*|id="' + c + '"]') || null : e;
            if (u && d) {
              if (
                (u.childNodes && u.childNodes.length > 0) ||
                a.isDescendant(u, d)
              ) {
                var p = document.createTextNode("");
                u.parentNode.insertBefore(p, u), (u = p);
              }
              var h = i.DOMutils.getElementsBetweenTree(u, d);
              if (
                !s.firstChild ||
                !s.firstChild.className ||
                s.firstChild.className.indexOf("empty") < 0
              )
                angular.forEach(h, function (e) {
                  var t = document.createTextNode("");
                  e.parentNode.replaceChild(t, e);
                }),
                  u.parentNode.insertBefore(s, u.nextSibling);
              else {
                s.setAttribute("data-overlap", !0);
                var f = a.createAnchorElement(n, o);
                u.parentNode.insertBefore(f, u.nextSibling),
                  angular.forEach(h, function (e) {
                    var t = a.createDepaContentNode(e, r);
                    t && e.parentNode.replaceChild(t, e);
                  }),
                  s.setAttribute("data-no-text", !0),
                  d.parentNode.insertBefore(s, d.nextSibling);
              }
              return s;
            }
          }),
          (a.getLemma = function (t, i) {
            i = i.documentElement || i;
            var o = "",
              r = e.getCriticalEntries()._indexes.depa.start,
              s = e.getCriticalEntries()._indexes.depa.end,
              l = r[t.id],
              c = s[t.id];
            if (l) {
              if (l === c) {
                var u = i.querySelector("[*|id=" + l + "]");
                u && (o = u.outerHTML);
              } else {
                var d = i.outerHTML.replace(
                  / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                  ""
                );
                (o = a.findReadingString(d, c, l, t)), (o = n.balanceXHTML(o));
              }
              (o = o
                .replace(/ xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g, "")
                .trim()),
                a.parseLemma(t, o, i);
            }
          }),
          (a.findReadingString = function (t, i, n, o) {
            var r,
              a = t.indexOf('xml:id="' + n),
              s = t.substring(0, a).lastIndexOf("<"),
              l = 0,
              c = e.getEncodingDetail("variantEncodingLocation");
            if ("internal" === c) {
              var u = o._xmlSource.replace(
                / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                ""
              );
              l = t.indexOf(u, s);
            } else l = t.indexOf('xml:id="' + i + '"');
            return (
              (r = (r = t.substring(s, l)).substring(r.indexOf(">") + 1)),
              "external" === c && (r = r.substring(0, r.lastIndexOf("<"))),
              r
            );
          }),
          (a.parseLemma = function (e, t, i) {
            var o;
            (content = t),
              "string" != typeof t &&
              ((o = r.parse(t)),
                (content = n.parseXMLElement(i, o, { skip: s })),
                (content = content.textContent
                  ? content.textContent
                  : o.textContent));
            var a = {
              id: e.id + "-depa-lem",
              attributes: [],
              content: [content],
              note: "",
              _significant: !0,
              _group: void 0,
              _xmlTagName: "",
              _xmlSource: t,
            };
            (e.content[a.id] = a), (e.lemma = a.id);
          }),
          (a.removeChildNodes = function (e) {
            if (e.childNodes && !(e.childNodes.length <= 0))
              for (var t = e.childNodes.length - 1; t >= 0;)
                e.removeChild(e.childNodes[t]), t--;
          }),
          (a.isDescendant = function (e, t) {
            if (t) {
              for (var i = t.parentNode; i;)
                return i === e || a.isDescendant(e, i.parentNode);
              return !1;
            }
          }),
          (a.createAnchorElement = function (e, t) {
            var i = document.createElement("span");
            return (
              i.setAttribute("data-app-id", e.id),
              i.setAttribute("class", "depaAnchor"),
              i.setAttribute("id", "depaAnchor-" + e.id + "-" + t),
              i
            );
          }),
          (a.createDepaContentNode = function (e, t) {
            var i;
            return (
              3 === e.nodeType
                ? ((i = document.createElement("span")).setAttribute(
                  "class",
                  "depaContent"
                ),
                  (i.textContent = e.textContent))
                : (!e.className || e.className.indexOf("depaContent") < 0) &&
                ((i = n.parseXMLElement(t, e, { skip: s })).className +=
                  " depaContent"),
              i
            );
          }),
          a
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtBuilder", [
      "EvtParagraphLineParser",
      "EvtLbParser",
      "evtSearchDocument",
      "evtAbstractSearchParserInterface",
      function e(t, i, n, o) {
        function r(e, t) {
          if (arguments.length < 2)
            throw new Error(
              "Function Interface.ensureImplements called with " +
              arguments.length +
              " arguments, but expected at least 2."
            );
          for (var i = 1; i < arguments.length; i++) {
            var n = arguments[i];
            if (n.constructor !== t.constructor)
              throw new Error(
                "Function Interface.ensureImplements expects arguments two and above to be instances of Interface."
              );
            n.methods.forEach(function (t) {
              if (!e.prototype[t] || "function" != typeof e.prototype[t])
                throw new Error(
                  "Function Interface.ensureImplements: object does not implement the " +
                  n.name +
                  " interface. Method " +
                  t +
                  " was not found."
                );
            });
          }
        }
        e.prototype.createParser = function (e) {
          var a = n.hasLbElement(e);
          return a ? (r(i, o), new i(e)) : a ? void 0 : (r(t, o), new t(e));
        };
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtSearch", [
      "evtSearchDocument",
      "evtBuilder",
      "evtSearchIndex",
      function e(t, i, n) {
        var o = 0,
          r = {};
        (e.prototype.initSearch = function (e) {
          var a,
            s = {},
            l = t.getXmlDocBody(e);
          t.removeNoteElements(e), t.removeAddElements(e);
          for (var c = 0; c < l.length; c++)
            (a = (s = i.createParser(l[c])).parseElements(o)),
              (o = s.getPrevDocsLines()),
              (r = angular.extend(r, a));
          n.createIndex(r);
        }),
          (e.prototype.getParsedElementsForIndexing = function () {
            return r;
          }),
          (e.prototype.getPrevDocsLines = function () {
            return o;
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.dataHandler")
      .factory("EvtSearchInterface", function () {
        return function (e, t) {
          if (2 !== arguments.length)
            throw new Error(
              "Interface constructor called with " +
              arguments.length +
              " arguments, but expected exactly 2."
            );
          (this.name = e),
            (this.methods = t.map(function (e) {
              if ("string" != typeof e)
                throw new Error(
                  "Interface constructor expects method names to be passed in as a string."
                );
              return e;
            }));
        };
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtSearchDocument", [
      "parsedData",
      "evtGlyph",
      "XPATH",
      "Utils",
      "config",
      function e(t, i, n, o, r) {
        var a = this;
        (a.ns = !1),
          (a.nsResolver = ""),
          (e.prototype.hasNamespace = function (e) {
            return (
              null !== e.documentElement.namespaceURI &&
              ((a.ns = !0),
                (a.nsResolver = function (t) {
                  if ("ns" === t) return e.documentElement.namespaceURI;
                })),
              a.ns
            );
          }),
          (e.prototype.isAlsoInterpEdition = function () {
            var e, t;
            return (
              r.availableEditionLevel.forEach(function (i) {
                "diplomatic" === i.value && (e = i.visible),
                  "interpretative" === i.value && (t = i.visible);
              }),
              e && t
            );
          }),
          (e.prototype.isInterpEdition = function () {
            var e;
            return (
              r.availableEditionLevel.forEach(function (t) {
                "interpretative" === t.value && (e = t.visible);
              }),
              e
            );
          }),
          (e.prototype.isDiplEdition = function () {
            var e;
            return (
              r.availableEditionLevel.forEach(function (t) {
                "diplomatic" === t.value && (e = t.visible);
              }),
              e
            );
          }),
          (e.prototype.hasLbElement = function (e) {
            return 0 !== e.getElementsByTagName("lb").length;
          }),
          (e.prototype.getXmlDocBody = function (e) {
            return e.getElementsByTagName("body");
          }),
          (e.prototype.getCurrentXmlDoc = function (e, i, o, r) {
            var a = (function () {
              var e = t.getDocuments(),
                i = e._indexes,
                n = [],
                o = {};
              return (
                i.forEach(function (t) {
                  (o.id = t),
                    (o.title = e[o.id].title),
                    (o.textNode = e[o.id].content),
                    n.push(o),
                    (o = {});
                }),
                n
              );
            })(),
              s = o
                ? e.evaluate(
                  n.ns.getCurrentTextNode,
                  i,
                  r,
                  XPathResult.ANY_TYPE,
                  null
                )
                : e.evaluate(
                  n.getCurrentTextNode,
                  i,
                  null,
                  XPathResult.ANY_TYPE,
                  null
                );
            for (var l in ((s = s.iterateNext()), a))
              if (s === a[l].textNode) return a[l];
          }),
          (e.prototype.getCurrentPage = function (e) {
            return e.getAttribute("n");
          }),
          (e.prototype.getCurrentPageId = function (e) {
            return e.getAttribute("xml:id") || "page_" + e.getAttribute("n");
          }),
          (e.prototype.getCurrentPageNodes = function (e, t) {
            for (var i = []; 0 < t.length;) {
              if ("pb" === t[0].nodeName) return i;
              i.push(t[0]), t.splice(0, 1);
            }
            return i;
          }),
          (e.prototype.getLineNodes = function (e, t, i, o, r, a) {
            for (var s, l, c, u, d, p = []; 0 < t.length;) {
              if (
                ((s = r
                  ? e.evaluate(
                    n.ns.getPrevBody,
                    t[0],
                    a,
                    XPathResult.ANY_TYPE,
                    null
                  )
                  : e.evaluate(
                    n.getPrevBody,
                    t[0],
                    null,
                    XPathResult.ANY_TYPE,
                    null
                  )),
                  (l = r
                    ? e.evaluate(
                      n.ns.getPrevLb,
                      t[0],
                      a,
                      XPathResult.ANY_TYPE,
                      null
                    )
                    : e.evaluate(
                      n.getPrevLb,
                      t[0],
                      null,
                      XPathResult.ANY_TYPE,
                      null
                    )),
                  (c =
                    0 !==
                    (s.numberValue >= 1 ? l.numberValue - i : l.numberValue)),
                  (u = "lb" === t[0].nodeName),
                  (d = "pb" === t[0].nodeName),
                  c || u)
              ) {
                for (; u || d;) {
                  if ((t.splice(0, 1), 0 === t.length)) return;
                  (u = "lb" === t[0].nodeName), (d = "pb" === t[0].nodeName);
                }
                for (
                  ;
                  void 0 !== t[0] &&
                  "lb" !== t[0].nodeName &&
                  "pb" !== t[0].nodeName;

                )
                  p.push(t[0]), t.splice(0, 1);
                return p;
              }
              t.splice(0, 1);
            }
            return p;
          }),
          (e.prototype.removeEmptyTextNodes = function (e) {
            return e.filter(function (e) {
              var t = "#text" === e.nodeName && "" === e.textContent.trim(),
                i = "#text" === e.nodeName;
              return !t || !i;
            });
          }),
          (e.prototype.getChildNodes = function (e, t, i, o) {
            var r,
              a = [],
              s = i
                ? e.evaluate(
                  n.ns.getChildNodes,
                  t,
                  o,
                  XPathResult.ANY_TYPE,
                  null
                )
                : e.evaluate(
                  n.getChildNodes,
                  t,
                  null,
                  XPathResult.ANY_TYPE,
                  null
                );
            for (r = s.iterateNext(); null !== r;)
              a.push(r), (r = s.iterateNext());
            return a;
          }),
          (e.prototype.getBodyTextGlyphNodes = function (e, t, i, o) {
            var r,
              a = [],
              s = i
                ? e.evaluate(
                  n.ns.getTextGlyphNodes,
                  t,
                  o,
                  XPathResult.ANY_TYPE,
                  null
                )
                : e.evaluate(
                  n.getTextGlyphNodes,
                  t,
                  null,
                  XPathResult.ANY_TYPE,
                  null
                );
            for (r = s.iterateNext(); null !== r;)
              a.push(r), (r = s.iterateNext());
            return a;
          }),
          (e.prototype.getParagraph = function (e, t) {
            return e.getAttribute("n") || t.toString();
          }),
          (e.prototype.getLine = function (e, t) {
            return e.getAttribute("n") || t.toString();
          }),
          (e.prototype.getContent = function (e, t) {
            var n,
              r = "";
            return (
              e.forEach(function (e) {
                ({
                  g: function () {
                    (n = i.getGlyph(e, t)), (r += n);
                  },
                  "#text": function () {
                    r += e.textContent;
                  },
                }[e.nodeName]());
              }),
              o.cleanSpace(r)
            );
          }),
          (e.prototype.removeNoteElements = function (e) {
            for (var t = e.getElementsByTagName("note"); t.length > 0;)
              t[0].parentNode.removeChild(t[0]);
          }),
          (e.prototype.removeAddElements = function (e) {
            for (var t = e.getElementsByTagName("add"); t.length > 0;)
              t[0].parentNode.removeChild(t[0]);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.dataHandler")
      .factory("evtAbstractSearchParserInterface", [
        "EvtSearchInterface",
        function (e) {
          return new e("evtAbstractSearchParserInterface", [
            "parseElements",
            "getPrevDocsLines",
          ]);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").factory("EvtParagraphLineParser", [
      "evtSearchDocument",
      "evtSearchDiplomaticParLineHandler",
      "XPATH",
      function (e, t, i) {
        function n(e) {
          (this.parsedElementsForIndexing = {}), (this.xmlDocBody = e);
        }
        return (
          (n.prototype.getPrevDocsLines = function () { }),
          (n.prototype.parseElements = function () {
            var n,
              o,
              r = this.xmlDocBody.ownerDocument;
            return (
              e.hasNamespace(r),
              (n = e.ns),
              (o = e.nsResolver),
              (this.parsedElementsForIndexing = (function (e, n, o, r) {
                var a = (function (e, t, n, o) {
                  return n
                    ? e.evaluate(
                      i.ns.getParLineNodes,
                      t,
                      o,
                      XPathResult.ANY_TYPE,
                      null
                    )
                    : e.evaluate(
                      i.getParLineNodes,
                      t,
                      null,
                      XPathResult.ANY_TYPE,
                      null
                    );
                })(e, n, o, r);
                return (function (e, i, n, o, r) {
                  return t.getParLineInfo(e, i, n, o, r);
                })(e, n, a, o, r);
              })(r, this.xmlDocBody, n, o)),
              this.parsedElementsForIndexing
            );
          }),
          n
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").factory("EvtLbParser", [
      "evtSearchDocument",
      "evtDiplomaticEditionHandler",
      "evtInterpretativeEditionHandler",
      "evtSearchDiplomaticLbHandler",
      "evtGlyph",
      "Utils",
      "XPATH",
      function (e, t, i, n, o, r, a) {
        function s(e) {
          (this.parsedElementsForIndexing = {}), (this.xmlDocBody = e);
        }
        return (
          (s.prototype.getPrevDocsLines = function () {
            return this.parsedElementsForIndexing.countAllLines;
          }),
          (s.prototype.parseElements = function (t) {
            var i,
              o,
              r = this.xmlDocBody.ownerDocument;
            return (
              e.hasNamespace(r),
              (i = e.ns),
              (o = e.nsResolver),
              (this.parsedElementsForIndexing = (function (e, t, i, o, r) {
                var s = (function (e, t, i, n) {
                  return i
                    ? e.evaluate(
                      a.ns.getLineNodes,
                      t,
                      n,
                      XPathResult.ANY_TYPE,
                      null
                    )
                    : e.evaluate(
                      a.getLineNodes,
                      t,
                      null,
                      XPathResult.ANY_TYPE,
                      null
                    );
                })(e, t, o, r);
                return (function (e, t, i, o, r, a) {
                  return n.getLineInfo(e, t, i, o, r, a);
                })(e, t, s, i, o, r);
              })(this.xmlDocBody.ownerDocument, this.xmlDocBody, t, i, o)),
              this.parsedElementsForIndexing
            );
          }),
          s
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.dataHandler")
      .service("evtDiplomaticEditionHandler", [
        "XPATH",
        function e(t) {
          (e.prototype.getDiplomaticNodes = function (e, i, n, o) {
            for (
              var r = [],
              a = n
                ? e.evaluate(
                  t.ns.getDiplomaticNodes,
                  i,
                  o,
                  XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
                  null
                )
                : e.evaluate(
                  t.getDiplomaticNodes,
                  i,
                  null,
                  XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
                  null
                ),
              s = 0;
              s < a.snapshotLength;
              s++
            )
              r.push(a.snapshotItem(s));
            return r;
          }),
            (e.prototype.getDiplomaticChildNodes = function (e, i, n, o) {
              for (
                var r = [],
                a = n
                  ? e.evaluate(
                    t.ns.getDiplomaticChildNodes,
                    i,
                    o,
                    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
                    null
                  )
                  : e.evaluate(
                    t.getDiplomaticChildNodes,
                    i,
                    null,
                    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
                    null
                  ),
                s = 0;
                s < a.snapshotLength;
                s++
              )
                r.push(a.snapshotItem(s));
              return r;
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.dataHandler")
      .service("evtInterpretativeEditionHandler", [
        "XPATH",
        function e(t) {
          (e.prototype.getInterpretativeNodes = function (e, i, n, o) {
            for (
              var r = [],
              a = n
                ? e.evaluate(
                  t.ns.getInterpretativeNodes,
                  i,
                  o,
                  XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
                  null
                )
                : e.evaluate(
                  t.getInterpretativeNodes,
                  i,
                  null,
                  XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
                  null
                ),
              s = 0;
              s < a.snapshotLength;
              s++
            )
              r.push(a.snapshotItem(s));
            return r;
          }),
            (e.prototype.getInterpretativeChildNodes = function (e, i, n, o) {
              for (
                var r = [],
                a = n
                  ? e.evaluate(
                    t.ns.getInterpretativeChildNodes,
                    i,
                    o,
                    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
                    null
                  )
                  : e.evaluate(
                    t.getInterpretativeChildNodes,
                    i,
                    null,
                    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
                    null
                  ),
                s = 0;
                s < a.snapshotLength;
                s++
              )
                r.push(a.snapshotItem(s));
              return r;
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.dataHandler")
      .service("evtSearchDiplomaticParLineHandler", [
        "evtSearchDocument",
        "evtDiplomaticEditionHandler",
        "evtInterpretativeEditionHandler",
        "XPATH",
        "Utils",
        function e(t, i, n, o, r) {
          e.prototype.getParLineInfo = function (e, o, r, a, s) {
            for (
              var l,
              c,
              u = t.getCurrentXmlDoc(e, o, a, s),
              d = t.isInterpEdition(),
              p = t.isDiplEdition(),
              h = 1,
              f = 1,
              g = 1,
              m = {},
              v = {},
              b = r.iterateNext();
              null !== b;

            ) {
              var y = {
                head: function () { },
                pb: function () {
                  (l = t.getCurrentPage(b) || h),
                    (c = t.getCurrentPageId(b, h)),
                    h++;
                },
                default: function () {
                  var o = [];
                  p && (o = i.getDiplomaticChildNodes(e, b, a, s));
                  var r = [];
                  d && (r = n.getInterpretativeChildNodes(e, b, a, s)),
                    o.forEach(function (i) {
                      var n, a;
                      if (
                        ("pb" === i.nodeName &&
                          ((l = t.getCurrentPage(i)),
                            (c = t.getCurrentPageId(i, h)),
                            h++,
                            o.splice(0, 1),
                            d && r.splice(0, 1)),
                          l && ((m.page = l), (m.pageId = c)),
                          (m.xmlDocTitle = u.title),
                          (m.xmlDocId = u.id),
                          {
                            p: function () {
                              (m.paragraph = t.getParagraph(b, f)),
                                (m.docId =
                                  m.xmlDocId + "-" + m.page + "-" + m.paragraph),
                                f++;
                            },
                            l: function () {
                              (m.line = t.getLine(b, g)),
                                (m.docId =
                                  m.xmlDocId + "-" + m.page + "-" + m.line),
                                g++;
                            },
                          }[b.nodeName](),
                          (m.content = {}),
                          p)
                      ) {
                        if (
                          ((n = t.getCurrentPageNodes(e, o)),
                            0 === (a = t.removeEmptyTextNodes(n)).length)
                        )
                          return void (m = {});
                        m.content.diplomatic = t.getContent(a, "diplomatic");
                      }
                      var s = [];
                      if (d) {
                        s = t.getCurrentPageNodes(e, r);
                        var y = t.removeEmptyTextNodes(s);
                        if (0 === y.length) return void (m = {});
                        m.content.interpretative = t.getContent(
                          y,
                          "interpretative"
                        );
                      }
                      (v[m.docId] = m), (m = {}), (n = []), d && (s = []);
                    });
                },
              };
              (y[b.nodeName] || y.default)(), (b = r.iterateNext());
            }
            return v;
          };
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.dataHandler")
      .service("evtSearchDiplomaticLbHandler", [
        "evtSearchDocument",
        "evtDiplomaticEditionHandler",
        "evtInterpretativeEditionHandler",
        "evtParser",
        function e(t, i, n, o) {
          var r = 0;
          e.prototype.getLineInfo = function (e, o, a, s, l, c) {
            var u,
              d,
              p,
              h = t.getCurrentXmlDoc(e, o, l, c),
              f = i.getDiplomaticNodes(e, o, l, c),
              g = t.isInterpEdition(),
              m = t.isDiplEdition(),
              v = 1,
              b = 1,
              y = {},
              x = 1,
              w = 0,
              _ = {},
              A = {},
              E = 1,
              S = a.iterateNext(),
              T = [];
            for (
              g && (T = n.getInterpretativeNodes(e, o, l, c));
              null !== S;

            ) {
              var C = {
                pb: function () {
                  (u = t.getCurrentPage(S) || v),
                    (d = t.getCurrentPageId(S, v)),
                    v++,
                    (x = 0);
                },
                p: function () {
                  (p = t.getParagraph(S, b)), b++;
                },
                default: function () {
                  (y.line = S.getAttribute("n") || x.toString()),
                    w !== y.line
                      ? (u && ((y.page = u), (y.pageId = d)),
                        p && (y.paragraph = p),
                        (y.xmlDocTitle = h.title),
                        (y.xmlDocId = h.id),
                        (y.docId =
                          y.xmlDocId +
                          "-" +
                          y.pageId +
                          "-" +
                          y.line +
                          "-line" +
                          E),
                        (y.lbId = S.getAttribute("xml:id")),
                        m
                          ? ((_.diplomatic = t.getLineNodes(e, f, s, E, l, c)),
                            t.removeEmptyTextNodes(_.diplomatic))
                          : ((_.diplomatic = []), []),
                        g
                          ? ((_.interpretative = t.getLineNodes(
                            e,
                            T,
                            s,
                            E,
                            l,
                            c
                          )),
                            t.removeEmptyTextNodes(_.interpretative))
                          : ((_.interpretative = []), []),
                        (y.content = {}),
                        m &&
                        (y.content.diplomatic = t.getContent(
                          _.diplomatic,
                          "diplomatic"
                        )),
                        g &&
                        (y.content.interpretative = t.getContent(
                          _.interpretative,
                          "interpretative"
                        )),
                        x++,
                        E++,
                        r++,
                        (w = y.line),
                        (A[y.docId] = y),
                        (_ = []))
                      : 0;
                },
              };
              (C[S.nodeName] || C.default)(), (S = a.iterateNext()), (y = {});
            }
            return (A.countAllLines = r), A;
          };
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dataHandler").service("evtKeyboard", [
      "evtSearchDocument",
      "baseData",
      "parsedData",
      "XPATH",
      function e(t, i, n, o) {
        function r(e, t) {
          for (var i in t) if (i === e) return !0;
          return !1;
        }
        (e.prototype.getDefaultKeyboardKeys = function () {
          return (function (e) {
            var t,
              i = n.getGlyphs(),
              o = {};
            for (var r in i)
              for (var a = 0; a < e.length; a++)
                e[a] === r &&
                  ((t = i[r].mapping.runic),
                    (o[e[a]] = t
                      ? i[r].mapping.runic.content
                      : i[r].mapping.diplomatic.content));
            return o;
          })(
            (function (e) {
              var t = [],
                i = e.length,
                n = 30;
              for (; i < n;) n--;
              for (var o = 0; o < n; o++) t.push(e[o]);
              return t;
            })(
              (function (e) {
                return Object.keys(e).sort(function (t, i) {
                  return e[i] - e[t];
                });
              })(
                (function (e) {
                  for (var t, i, n, o = {}, a = 0; a < e.length - 1; a++)
                    (t = e[a]),
                      (i = e[a + 1]),
                      0 === Object.keys(o).length && (o[e[0]] = 1),
                      (n = r(i, o)),
                      t === i ? o[t]++ : n ? o[i]++ : (o[i] = 1);
                  return o;
                })(e.prototype.getGlyphInXmlDoc())
              )
            )
          );
        }),
          (e.prototype.getConfigKeyboardKeys = function (e) {
            var t = n.getGlyphs(),
              i = {};
            for (var o in t)
              for (var r = 0; r < e.length; r++)
                o === e[r] && (i[e[r]] = t[o].mapping.diplomatic.content);
            return i;
          }),
          (e.prototype.getGlyphInXmlDoc = function () {
            for (
              var e,
              r = i.getXML(),
              a = (function (e) {
                var i = {};
                return (
                  t.hasNamespace(e),
                  (i.ns = t.ns),
                  (i.nsResolver = t.nsResolver),
                  i
                );
              })(r),
              s = (function (e, t, i) {
                return t
                  ? e.evaluate(
                    o.ns.getGlyphNodes,
                    e,
                    i,
                    XPathResult.ANY_TYPE,
                    null
                  )
                  : e.evaluate(
                    o.getGlyphNodes,
                    e,
                    null,
                    XPathResult.ANY_TYPE,
                    null
                  );
              })(r, a.ns, a.nsResolver),
              l = n.getGlyphs(),
              c = s.iterateNext(),
              u = [];
              null !== c;

            ) {
              for (var d in ((e = c.getAttribute("ref").replace("#", "")), l))
                e === d && u.push(e);
              c = s.iterateNext();
            }
            return u;
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.bibliography", []);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.bibliography").directive("evtScrollIf", [
      "$timeout",
      function (e) {
        return function (t, i, n) {
          n.$observe("evtScrollIf", function (t) {
            "true" === t &&
              e(function () {
                i[0].scrollIntoView();
              }, 100);
          });
        };
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.bibliography")
      .service("evtHighlight", function () {
        var e = {},
          t = "";
        return (
          (e.setHighlighted = function (e) {
            t = e;
          }),
          (e.getHighlighted = function () {
            return t;
          }),
          e
        );
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.bibliography")
      .provider("evtBibliography", function () {
        this.defaults;
        (this.setDefaults = function (e) {
          e;
        }),
          (this.$get = [
            "$log",
            "config",
            "parsedData",
            "evtBibliographyParser",
            "evtHighlight",
            function (e, t, i, n, o) {
              var r = {},
                a = {},
                s = [],
                l = 0,
                c =
                  (e.getInstance("bibliography"),
                    function (e) {
                      var t = this,
                        i = t.getBibliographicRefById(e);
                      return t.initialSelectedStyle
                        ? (i.outputs[t.initialSelectedStyle.label] ||
                          n.formatResult(t.initialSelectedStyle.label, i),
                          i.outputs[t.initialSelectedStyle.label]
                            ? i.outputs[t.initialSelectedStyle.label]
                            : i.plainText)
                        : i.plainText;
                    }),
                u = function (e) {
                  var t = this.getBibliographicRefById(e),
                    i = n.getType(t);
                  return (i = i || "unknown");
                },
                d = function (e) {
                  return "" !== o.getHighlighted() && o.getHighlighted() === e;
                },
                p = function (e) {
                  return i.getBibliographicRefById(e);
                };
              return (
                (r.build = function (e) {
                  var o,
                    r,
                    h,
                    f,
                    g,
                    m,
                    v = e.id || l++,
                    b = t.allowedBibliographicStyles || {},
                    y = !0,
                    x = !0,
                    w = !0;
                  for (var _ in ("" !== t.defaultBibliographicStyle &&
                    void 0 !== b[t.defaultBibliographicStyle] &&
                    b[t.defaultBibliographicStyle].enabled &&
                    (r = b[t.defaultBibliographicStyle]),
                    b))
                    r || !b[_].enabled || r || (r = b[_]),
                      b[_].enabled || delete b[_];
                  if (void 0 === a[v]) {
                    if (
                      (n.bibliographicStyleInfoDetected() ||
                        ((x = !1), (r = "")),
                        (f = t.bibliographicEntriesSortBy || {}),
                        n.authorInfoDetected() || delete f.Author,
                        n.yearInfoDetected() || delete f.Year,
                        n.titleInfoDetected() || delete f.Title,
                        n.publisherInfoDetected() || delete f.Publisher,
                        f && Object.keys(f).length > 0)
                    )
                      (y = !0), (h = f[Object.keys(f)[0]]);
                    else y = !1;
                    (m = (g = t.bibliographySortOrder).ASC),
                      y || (w = !1),
                      (o = i.getBibliographicRefsCollection());
                    var A;
                    if (void 0 === a[v])
                      return (
                        (A = {
                          uid: v,
                          biblRefsCollection: o,
                          styles: b,
                          initialSelectedStyle: r,
                          selectedSorting: h,
                          biblSortStyleSelectVisibility: x,
                          biblSortSelectVisibility: y,
                          biblSortOrderSelectVisibility: w,
                          sortBy: f,
                          sortOrder: g,
                          selectedSortOrder: m,
                          getFormattedBibl: c,
                          pubblicationType: u,
                          isEntryHighlighted: d,
                          getBibliographicRefById: p,
                        }),
                        (a[v] = angular.extend(e.vm, A)),
                        s.push({ id: v }),
                        a[v]
                      );
                  }
                }),
                (r.destroy = function (e) {
                  delete a[e];
                }),
                r
              );
            },
          ]);
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.bibliography").controller("BibliographyCtrl", [
      "$log",
      "evtBibliography",
      function (e, t) {
        e.getInstance("BibliographyCtrl");
        var i = this;
        (this.myComparator = function (e, t) {
          var n = e,
            o = t;
          switch (
          ((e = i.getBibliographicRefById(e)),
            (t = i.getBibliographicRefById(t)),
            i.selectedSorting)
          ) {
            case i.sortBy.Author:
              e &&
                e.author &&
                e.author.length > 0 &&
                ((n = "" !== e.author[0].name ? e.author[0].name : ""),
                  (n = "" !== e.author[0].surname ? e.author[0].surname : n)),
                t &&
                t.author &&
                t.author.length > 0 &&
                ((o = "" !== t.author[0].name ? t.author[0].name : ""),
                  (o = "" !== t.author[0].surname ? t.author[0].surname : o));
              break;
            case i.sortBy.Year:
              e &&
                e.date &&
                (n = "" !== e.date && Number(e.date) ? Number(e.date) : ""),
                t &&
                t.date &&
                (o = "" !== t.date && Number(t.date) ? Number(t.date) : "");
              break;
            case i.sortBy.Title:
              e &&
                e.titleAnalytic &&
                (n = "" !== e.titleAnalytic && "" === n ? e.titleAnalytic : n),
                e &&
                e.titleMonogr &&
                (n = "" !== e.titleMonogr && "" === n ? e.titleMonogr : n),
                t &&
                t.titleAnalytic &&
                (o =
                  "" !== t.titleAnalytic && "" === o ? t.titleAnalytic : o),
                t &&
                t.titleMonogr &&
                (o = "" !== t.titleMonogr && "" === o ? t.titleMonogr : o);
              break;
            case i.sortBy.Publisher:
              e && e.publisher && (n = "" !== e.publisher ? e.publisher : ""),
                t && t.publisher && (o = "" !== t.publisher ? t.publisher : "");
          }
          return (
            (n = "number" == typeof n ? n.toString() : n),
            (o = "number" == typeof o ? o.toString() : o),
            n.localeCompare(o)
          );
        }),
          (this.biblId = function (e) {
            return e;
          }),
          (this.getSortedBibl = function () {
            var e = i.biblRefsCollection._indexes;
            return (
              e.sort(i.myComparator),
              i.selectedSortOrder === i.sortOrder.DESC && e.reverse(),
              e
            );
          }),
          (this.destroy = function () {
            t.destroy(this.uid);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.bibliography").directive("evtBibliography", [
      "evtBibliography",
      function (e) {
        return {
          restrict: "E",
          template: i(204),
          scope: { id: "@" },
          controllerAs: "vm",
          controller: "BibliographyCtrl",
          link: function (t, i, n) {
            var o = e.build(t);
            (o.sortedBibl = o.getSortedBibl()),
              t.$watch(
                function () {
                  return o.selectedSorting;
                },
                function (e, t) {
                  t !== e && (o.sortedBibl = o.getSortedBibl());
                },
                !0
              ),
              t.$watch(
                function () {
                  return o.selectedSortOrder;
                },
                function (e, t) {
                  t !== e && (o.sortedBibl = o.getSortedBibl());
                },
                !0
              ),
              t.$on("$destroy", function () {
                o && o.destroy();
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<div class=evt-bibliography> <div class=evt-bibliography__header ng-if="::vm.biblSortStyleSelectVisibility || vm.biblSortSelectVisibility || vm.biblSortOrderSelectVisibility"> <div ng-if=::vm.biblSortStyleSelectVisibility> <label for=biblStyleSelect> {{ \'BIBLIOGRAPHY.STYLE\' | translate }} </label> <select id=biblStyleSelect ng-model=vm.initialSelectedStyle ng-options="value as (value.label | translate) for (key, value) in vm.styles"></select> </div> <div ng-if=::vm.biblSortSelectVisibility> <label for=biblSortingSelect>{{ \'BIBLIOGRAPHY.SORT_BY\' | translate }} </label> <select id=biblSortingSelect ng-model=vm.selectedSorting ng-options="value as (value | translate) for (key , value) in vm.sortBy"></select> </div> <div ng-if=::vm.biblSortOrderSelectVisibility> <label for=biblSortOrder>{{ \'BIBLIOGRAPHY.ORDER\' | translate }} </label> <select id=biblSortOrder ng-model=vm.selectedSortOrder ng-options="value as (value | translate) for (key , value) in vm.sortOrder"></select> </div> </div> <div class=evt-bibliography__content ng-class="{\'noSorter\': !vm.biblSortStyleSelectVisibility && !vm.biblSortSelectVisibility }"> <div class=biblRef id="{{ ::bibl }}" ng-repeat="bibl in vm.sortedBibl" compile=vm.getFormattedBibl(bibl) ng-attr-highlight="{{ vm.isEntryHighlighted(bibl) }}" evt-scroll-if="{{ vm.isEntryHighlighted(bibl) }}" ng-attr-pubblicationtype="{{ ::vm.pubblicationType(bibl) }}"> </div> </div> </div>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.bibliography").controller("BiblElemCtrl", [
      "$scope",
      "$log",
      "parsedData",
      "config",
      "evtBibliographyParser",
      function (e, t, i, n, o) {
        t.getInstance("BiblElemCtrl");
        var r = this;
        (r.styles = n.allowedBibliographicStyles),
          (r.initialSelectedStyle = n.defaultBibliographicStyle),
          (r.getFormattedBibl = function () {
            var t = i.getBibliographicRefById(e.biblId);
            return t
              ? (t.outputs[r.initialSelectedStyle] ||
                o.formatResult(r.initialSelectedStyle, t),
                t.outputs[r.initialSelectedStyle])
              : "";
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.bibliography")
      .directive("evtBiblElem", function () {
        return {
          restrict: "E",
          scope: { biblId: "@" },
          transclude: !0,
          template: i(207),
          controllerAs: "vm",
          controller: "BiblElemCtrl",
        };
      });
  },
  function (e, t) {
    e.exports = "<div class=evtBiblRef compile=vm.getFormattedBibl()> </div> ";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.interface", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.interface")
      .config([
        "$routeProvider",
        "$locationProvider",
        "$translateProvider",
        function (e, t, i) {
          t.hashPrefix(""),
            e
              .when("/:viewMode", {
                template: "index.html",
                controller: "InterfaceCtrl",
                reloadOnSearch: !1,
              })
              .otherwise({ redirectTo: "/", reloadOnSearch: !1 }),
            i.useStaticFilesLoader({ prefix: "./i18n/", suffix: ".json" }),
            i.useSanitizeValueStrategy(null),
            i.fallbackLanguage("en").preferredLanguage("en");
        },
      ])
      .run([
        "$injector",
        "config",
        function (e, t) {
          t.isValid() &&
            t.isModuleActive("interface") &&
            e.get("evtInterface").boot();
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.interface")
      .controller("InterfaceCtrl", [
        "$log",
        "$timeout",
        "$scope",
        "evtInterface",
        "evtTranslation",
        "evtPinnedElements",
        "evtButtonSwitch",
        "evtBox",
        "evtApparatuses",
        "parsedData",
        "evtSelect",
        "evtPopover",
        "evtCommunication",
        "evtDialog",
        function (e, t, i, n, o, r, a, s, l, c, u, d, p, h) {
          document.body.style = "display: block";
          var f = e.getInstance("interface");
          (i.getCurrentViewMode = function () {
            return n.getState("currentViewMode");
          }),
            (i.getCurrentPage = function () {
              return n.getState("currentPage");
            }),
            (i.getCurrentDocument = function () {
              return n.getState("currentDoc");
            }),
            (i.getCurrentEdition = function () {
              return n.getState("currentEdition");
            }),
            (i.getCurrentComparingEdition = function () {
              return n.getState("currentComparingEdition");
            }),
            (i.getAvailableWitnesses = function () {
              return n.getProperty("availableWitnesses");
            }),
            (i.isWitnessSelectorActive = function () {
              return n.getProperty("witnessSelector");
            }),
            (i.addWitness = function (e) {
              void 0 !== e && (n.addWitness(e), n.updateUrl()),
                t(function () {
                  var e = window
                    .getComputedStyle(document.getElementsByClassName("box")[0])
                    .width.replace("px", "");
                  document.getElementById("compareWits_box").scrollLeft =
                    e * (n.getState("currentWits").length + 1);
                }),
                n.updateProperty("witnessSelector", !1);
            }),
            (i.getWitness = function (e) {
              var t =
                e + " - " + c.getWitness(e).description.textContent.trim() || e;
              return (t = t.length > 30 ? t.substr(0, 30) + "..." : t);
            }),
            (i.getCurrentWitnesses = function () {
              return n.getState("currentWits");
            }),
            (i.getCurrentWitnessPage = function (e) {
              return n.getCurrentWitnessPage(e);
            }),
            (i.getAvailableViewModes = function () {
              return n.getProperty("availableViewModes");
            }),
            (i.existCriticalText = function () {
              return n.existCriticalText();
            }),
            (i.getCurrentAppEntry = function () {
              return n.getState("currentAppEntry");
            }),
            (i.updateCurrentAppEntry = function (e) {
              n.updateState("currentAppEntry", e),
                "readingTxt" === n.getState("currentViewMode") &&
                (s.alignScrollToApp(e), l.alignScrollToApp(e)),
                n.updateUrl();
            }),
            (i.updateCurrentQuote = function (e) {
              n.updateState("currentQuote", e);
            }),
            (i.getCurrentApparatus = function () {
              return n.getState("currentApparatus");
            }),
            (i.evtPinnedElements = r),
            (i.isLoading = function () {
              var e = p.getError();
              return n.isLoading() && "" === e.title;
            }),
            (i.isPinnedAppBoardOpened = function () {
              return n.getState("isPinnedAppBoardOpened");
            }),
            (i.isToolAvailable = function (e) {
              return n.isToolAvailable(e);
            }),
            (i.getSecondaryContentOpened = function () {
              return n.getState("secondaryContent");
            }),
            (i.getProjectInfo = function () {
              return c.getProjectInfo();
            }),
            (i.getWitnessesListFormatted = function () {
              return c.getWitnessesListFormatted();
            }),
            (i.getAvailableLists = function () {
              return c.getNamedEntitiesCollection()._indexes;
            }),
            (i.getProperty = function (e) {
              return n.getProperty(e);
            }),
            (i.getState = function (e) {
              return n.getState(e);
            }),
            (i.getWebSite = function () {
              var e = n.getProperty("webSite");
              return e.indexOf("http://") < 0 ? "http://" + e : e;
            }),
            (i.handleGenericClick = function (e) {
              var t = e.target;
              if (
                (0 === angular.element(t).parents("evt-select").length &&
                  u.closeAll(),
                  0 === angular.element(t).parents("button-switch").length)
              ) {
                a.unselectAllSkipByBtnType("", ["standAlone", "toggler"]),
                  n.updateState("mainMenu", !1);
              }
              0 === angular.element(t).parents("evt-popover").length &&
                d.closeAll(),
                0 === angular.element(t).parents(".witnessSelector").length &&
                n.getProperty("witnessSelector") &&
                n.updateProperty("witnessSelector", !1);
            }),
            (i.handleKeydownEvent = function (e) {
              (e.target &&
                e.target.tagName &&
                "input" === e.target.tagName.toLowerCase() &&
                "text" === e.target.getAttribute("type")) ||
                (27 === e.keyCode
                  ? h.closeAll()
                  : 37 === e.keyCode
                    ? i.isVisCollOpened() ||
                    i.isThumbNailsOpened() ||
                    (e.metaKey ? n.goToFirstPage() : n.goToPrevPage())
                    : 39 === e.keyCode &&
                    (i.isVisCollOpened() ||
                      i.isThumbNailsOpened() ||
                      (e.metaKey ? n.goToLastPage() : n.goToNextPage())));
            }),
            (i.getBookmark = function () {
              var e = c.getProjectInfo().editionReference || {},
                t = '<div class="bookmark">';
              return (
                (t += e.author ? e.author + ". " : ""),
                (t += e.title ? "<em>" + e.title + "</em>. " : ""),
                (t += e.publisher
                  ? "{{ 'PUBLISHED_BY' | translate }} " + e.publisher + ". "
                  : ""),
                (t +=
                  '<<a href="' +
                  window.location +
                  '" target="blank">' +
                  window.location +
                  "</a>>"),
                (t += "</div>")
              );
            }),
            (i.getErrorMsg = function () {
              return p.getError();
            }),
            (i.getAvailableSourcesTexts = function () {
              return n.getProperty("availableSourcesTexts");
            }),
            (i.getCurrentSourceText = function () {
              return n.getState("currentSourceText");
            }),
            (i.isApparatusBoxOpen = function () {
              return n.getState("isApparatusBoxOpen");
            }),
            (i.showApparatusesBox = function () {
              return (
                n.getState("isApparatusBoxOpen") &&
                "critical" === n.getState("currentEdition")
              );
            }),
            (i.getCurrentVersions = function () {
              return n.getState("currentVersions");
            }),
            (i.getAvailableVersions = function () {
              return n.getProperty("availableVersions");
            }),
            (i.isVersionSelectorActive = function () {
              return n.getProperty("versionSelector");
            }),
            (i.getAllVersionsNumber = function () {
              return n.getAllVersionsNumber();
            }),
            (i.getVersion = function (e) {
              var t = c.getVersionEntries(),
                i = t ? t._indexes : {};
              return i && i.versionId ? i.versionId[e] : "";
            }),
            (i.addVersion = function (e) {
              void 0 !== e && n.addVersion(e),
                t(function () {
                  var e = window
                    .getComputedStyle(document.getElementsByClassName("box")[0])
                    .width.replace("px", "");
                  document.getElementById("compareVer_box").scrollLeft =
                    e * (n.getState("currentVersions").length + 1);
                }),
                n.updateProperty("versionSelector", !1);
            }),
            (i.openGlobalDialogInfo = function () {
              n.updateState("secondaryContent", "globalInfo"),
                h.openByType("globalInfo");
            }),
            (i.openGlobalDialogLists = function () {
              n.updateState("secondaryContent", "entitiesList"),
                h.openByType("entitiesList");
            }),
            (i.openToc = function () {
              n.updateState("secondaryContent", "toc"), h.openByType("toc");
            }),
            (i.generateBookmark = function () {
              n.updateState("secondaryContent", "bookmark"),
                h.openByType("bookmark");
            }),
            (i.downloadXML = function () {
              window.open(n.getProperty("dataUrl"), "_blank");
            }),
            (i.getAvailableLanguages = function () {
              return o.getLanguages();
            }),
            (i.getCurrentLanguage = function () {
              return o.getCurrentLanguage();
            }),
            (i.setLanguage = function (e) {
              o.setLanguage(e);
            }),
            (i.isNavBarOpened = function () {
              return (
                n.getProperty("enableNavBar") && n.getState("isNavBarOpened")
              );
            }),
            (i.isNavBarEnabled = function () {
              return n.getProperty("enableNavBar");
            }),
            (i.isVisCollOpened = function () {
              return n.getState("isVisCollOpened");
            }),
            (i.isThumbNailsOpened = function () {
              return n.getState("isThumbNailsOpened");
            }),
            (i.getThumbnails = function () {
              return c.getThumbnails();
            }),
            (i.goToPageFromThumb = function (e) {
              n.getState("currentPage") !== e.value &&
                (n.updateState("isThumbNailsOpened", !1), n.setCurrentPage(e));
            }),
            (i.toggleNavBar = function () {
              var e = n.getState("isNavBarOpened");
              n.updateState("isNavBarOpened", !e),
                t(function () {
                  i.$broadcast("rzSliderForceRender");
                });
            }),
            f.log("InterfaceCtrl running");
        },
      ])
      .directive("evt-g", [
        "parsedData",
        function (e) {
          return {
            restrict: "E",
            scope: { ref: "@" },
            template: '<span class="glyph" compile="::content"></span>',
            replace: !0,
            link: function (t, i, n) {
              var o = t.ref,
                r = "[" + t.ref + "]";
              if (o && "" !== o) {
                o = o.replace("#", "");
                var a = e.getGlyph(o);
                a && "" !== a.parsedXml && (r = a.parsedXml);
              }
              t.content = r;
            },
          };
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.interface").service("evtInterface", [
      "$rootScope",
      "$timeout",
      "evtTranslation",
      "evtCommunication",
      "evtCriticalApparatusParser",
      "evtCriticalParser",
      "evtPinnedElements",
      "config",
      "$routeParams",
      "parsedData",
      "evtReading",
      "$q",
      function (e, t, i, n, o, r, a, s, l, c, u, d) {
        var p = {},
          h = {
            currentViewMode: void 0,
            currentDoc: void 0,
            currentPage: void 0,
            currentDivs: {},
            currentWits: void 0,
            currentWitsPages: void 0,
            currentEdition: void 0,
            currentComparingEdition: void 0,
            currentAppEntry: void 0,
            currentHighlightedZone: void 0,
            isLoading: !0,
            isPinnedAppBoardOpened: !1,
            isNavBarOpened: !0,
            isVisCollOpened: !1,
            isThumbNailsOpened: !1,
            indexingInProgress: !1,
            secondaryContent: "",
            dialog: { home: "" },
            isApparatusBoxOpen: !0,
            currentApparatus: void 0,
            currentQuote: void 0,
            currentAnalogue: void 0,
            currentSource: void 0,
            currentSourceText: void 0,
            currentVersions: void 0,
            currentVersionEntry: void 0,
            currentVersion: void 0,
            mainMenu: !1,
          },
          f = {
            indexTitle: "",
            webSite: "",
            dataUrl: "",
            logoUrl: "",
            enableXMLdownload: !1,
            toolHome: !0,
            availableViewModes: [],
            availableWitnesses: [],
            witnessSelector: !1,
            namedEntitiesLists: !1,
            availableSourcesTexts: [],
            isSourceLoading: !1,
            parsedSourcesTexts: [],
            availableVersions: [],
            versionSelector: !1,
            tabsContainerOpenedContent: "",
            tabsContainerOpenedTab: "",
            visCollTextUrl: "",
            visCollStyleUrl: "",
            enableNavBar: !0,
          },
          g = {};
        return (
          (p.boot = function () {
            n.getExternalConfig(s.configUrl).then(function () {
              (f.indexTitle = s.indexTitle),
                (f.logoUrl = s.logoUrl),
                (f.webSite = s.webSite),
                (f.enableXMLdownload = s.enableXMLdownload),
                (f.toolHome = s.toolHome),
                (f.availableViewModes = s.availableViewModes),
                (f.visCollTextUrl = s.visCollTextUrl),
                (f.visCollStyleUrl = s.visCollStyleUrl),
                (f.enableNavBar = angular.isDefined(s.enableNavBar)
                  ? s.enableNavBar
                  : h.enableNavBar),
                (h.isNavBarOpened = angular.isDefined(s.initNavBarOpened)
                  ? s.initNavBarOpened
                  : h.isNavBarOpened),
                i.setLanguages(s.languages);
              var u = i.getUserLanguage(),
                g = i.getFallbackLanguage();
              i.setFallbackLanguage(g),
                i.setLanguage(u),
                "" !== s.sourcesUrl && n.getExternalData(s.sourcesUrl),
                "" !== s.analoguesUrl && n.getExternalData(s.analoguesUrl),
                p.updateProperty("dataUrl", s.dataUrl),
                "" === s.dataUrl
                  ? (n.err("", "", "dataUrlEmpty", !1),
                    e.$applyAsync((h.isLoading = !1)))
                  : n.getData(s.dataUrl).then(function () {
                    for (
                      var i = 0, u = f.availableViewModes.length;
                      i < u;
                      i++
                    ) {
                      var g = f.availableViewModes[i].viewMode;
                      "collation" === g &&
                        0 === c.getWitnessesList().length &&
                        (f.availableViewModes[i].visible = !1),
                        "versions" === g &&
                        p.getAllVersionsNumber() < 2 &&
                        (f.availableViewModes[i].visible = !1),
                        "srcTxt" !== g ||
                        (c.getSources()._indexes.availableTexts &&
                          0 !==
                          c.getSources()._indexes.availableTexts
                            .length) ||
                        (f.availableViewModes[i].visible = !1);
                    }
                    if (
                      ((f.namedEntitiesLists =
                        c.getNamedEntitiesCollection()._indexes.length > 0),
                        s.availableEditionLevel)
                    )
                      for (
                        var m = 0;
                        m < s.availableEditionLevel.length;
                        m++
                      ) {
                        var v = s.availableEditionLevel[m];
                        v.visible && c.addEdition(v);
                      }
                    p.updateParams(l);
                    var b = [];
                    "" !== s.sourcesUrl &&
                      b.push(n.getExternalData(s.sourcesUrl)),
                      "" !== s.analoguesUrl &&
                      b.push(n.getExternalData(s.analoguesUrl));
                    var y = c.getDocument(h.currentDoc);
                    void 0 !== y &&
                      ("internal" ===
                        c.getEncodingDetail("variantEncodingLocation") &&
                        (s.loadCriticalEntriesImmediately &&
                          b.push(o.parseCriticalEntries(y.content).promise),
                          s.versions.length > 1 &&
                          b.push(o.parseVersionEntries(y.content).promise)),
                        ("critical" !== s.editionType &&
                          "multiple" !== s.editionType) ||
                        !c.isCriticalEditionAvailable() ||
                        (s.versions.length > 0 && void 0 !== s.versions[0]
                          ? b.push(
                            r.parseCriticalText(
                              y.content,
                              h.currentDoc,
                              s.versions[0]
                            ).promise
                          )
                          : b.push(
                            r.parseCriticalText(y.content, h.currentDoc)
                              .promise
                          )),
                        d.all(b).then(function () {
                          var i = [];
                          "" !== s.visCollDataModel &&
                            (i.push(n.getViscollDataModel(s.visCollDataModel)),
                              "" !== s.visCollImageList &&
                              i.push(n.getViscollImageList(s.visCollImageList)),
                              d.all(i).then(function () {
                                var e = [],
                                  t = c.getViscollSVGToLoad();
                                "" !== s.visCollSvg &&
                                  t.length > 0 &&
                                  t.forEach(function (t) {
                                    e.push(
                                      n.getViscollSvgs(
                                        s.visCollSvg + t.fileName,
                                        t.id
                                      )
                                    );
                                  }),
                                  d.all(e).then(function () {
                                    c.setViscollSvgsLoaded(!0);
                                  });
                              })),
                            void 0 !== h.currentAppEntry &&
                            void 0 ===
                            c.getCriticalEntryById(h.currentAppEntry) &&
                            p.updateState("currentAppEntry", "");
                          var o = c.getSources()._indexes.availableTexts;
                          if (0 !== Object.keys(o).length) {
                            for (var r in o)
                              f.availableSourcesTexts.push(o[r].id);
                            p.updateCurrentSourceText(
                              f.availableSourcesTexts[0]
                            );
                          }
                          if (
                            ((h.currentVersions = []), 2 === s.versions.length)
                          )
                            h.currentVersions.push(s.versions[1]);
                          else
                            for (var l = 1; l < s.versions.length; l++)
                              f.availableVersions.push(s.versions[l]);
                          p.updateUrl();
                          var u =
                            c.getQuotes()._indexes.encodingStructure || [],
                            g = !s.showInlineSources && u.length > 0,
                            m =
                              c.getAnalogues()._indexes.encodingStructure || [],
                            v = !s.showInlineAnalogues && m.length > 0;
                          (h.isApparatusBoxOpen =
                            !s.showInlineCriticalApparatus || g || v),
                            e.$applyAsync((h.isLoading = !1)),
                            t(function () {
                              a.getElementsFromCookies();
                            }, 10);
                        }));
                  });
            });
          }),
          (p.setTabContainerPanel = function (e) {
            h.dialog.tabContainerPanel = e;
          }),
          (p.getTabContainerPanel = function () {
            return h.dialog.tabContainerPanel;
          }),
          (p.setHomePanel = function (e) {
            h.dialog.home = e;
          }),
          (p.getHomePanel = function () {
            return h.dialog.home;
          }),
          (p.isLoading = function () {
            return h.isLoading;
          }),
          (p.isToolAvailable = function (e) {
            return s[e];
          }),
          (p.getToolState = function (e) {
            return g[e] ? g[e].status : void 0;
          }),
          (p.getStates = function () {
            return h;
          }),
          (p.getProperties = function () {
            return f;
          }),
          (p.getProperty = function (e) {
            return f[e];
          }),
          (p.getStates = function () {
            return h;
          }),
          (p.getState = function (e) {
            return h[e];
          }),
          (p.getCurrentWitnessPage = function (e) {
            return h.currentWitsPages[e];
          }),
          (p.existCriticalText = function () {
            return void 0 !== c.getCriticalText(h.currentDoc);
          }),
          (p.isCriticalApparatusInline = function () {
            return (
              s.showInlineCriticalApparatus ||
              "readingTxt" !== p.getState("currentViewMode")
            );
          }),
          (p.isSourcesInline = function () {
            return (
              s.showInlineSources ||
              "readingTxt" !== p.getState("currentViewMode")
            );
          }),
          (p.isAnaloguesInline = function () {
            return (
              s.showInlineAnalogues ||
              "readingTxt" !== p.getState("currentViewMode")
            );
          }),
          (p.setToolStatus = function (e, t) {
            g[e] || (g[e] = {}), (g[e].status = t);
          }),
          (p.updateProperty = function (e, t) {
            f[e] = t;
          }),
          (p.updateState = function (e, t) {
            h[e] = t;
          }),
          (p.toggleState = function (e) {
            h[e] = !h[e];
          }),
          (p.updateCurrentHighlightedZone = function (e) {
            var t = h.currentHighlightedZone;
            (t && e && t.id === e.id && t.name === e.name) ||
              (h.currentHighlightedZone = e);
          }),
          (p.updateCurrentSourceText = function (e) {
            var t = c.getSource(e);
            void 0 !== t &&
              t._textAvailable &&
              (Object.keys(c.getSource(e).text).length > 0 ||
                ((f.isSourceLoading = !f.isSourceLoading),
                  n
                    .getSourceTextFile(s.sourcesTextsUrl + e + ".xml", e)
                    .then(function () {
                      (f.isSourceLoading = !f.isSourceLoading),
                        f.parsedSourcesTexts.push(e);
                    })));
            h.currentSourceText = e;
          }),
          (p.removeAvailableVersion = function (e) {
            var t = f.availableVersions.indexOf(e);
            void 0 !== t && f.availableVersions.splice(t, 1);
          }),
          (p.addAvailableVersion = function (e) {
            -1 === f.availableVersions.indexOf(e) &&
              f.availableVersions.push(e);
          }),
          (p.addVersion = function (e, t) {
            void 0 === t
              ? h.currentVersions.push(e)
              : h.currentVersions.splice(t, 0, e),
              p.removeAvailableVersion(e);
          }),
          (p.removeVersion = function (e) {
            var t = h.currentVersions.indexOf(e);
            t >= 0 && h.currentVersions.splice(t, 1),
              f.availableVersions.indexOf(e) < 0 && f.availableVersions.push(e);
          }),
          (p.switchVersions = function (e, t) {
            var i = h.currentVersions.indexOf(t),
              n = h.currentVersions.indexOf(e);
            i >= 0 ? (h.currentVersions[i] = e) : p.addAvailableVersion(e),
              (h.currentVersions[n] = t),
              p.removeAvailableVersion(t);
          }),
          (p.getAllVersionsNumber = function () {
            return s.versions ? s.versions.length : 0;
          }),
          (p.updateCurrentVersionEntry = function (e) {
            void 0 !== e && (h.currentVersionEntry = e);
          }),
          (p.getCurrentVersionEntry = function (e) {
            return h.currentVersionEntry;
          }),
          (p.updateCurrentVersion = function (e) {
            void 0 !== e &&
              -1 !== s.versions.indexOf(e) &&
              (h.currentVersion = e);
          }),
          (p.getCurrentVersion = function (e) {
            return h.currentVersion;
          }),
          (p.removeAvailableWitness = function (e) {
            var t = f.availableWitnesses.indexOf(e);
            void 0 !== t && f.availableWitnesses.splice(t, 1);
          }),
          (p.updateWitnessesPage = function (e, t) {
            h.currentWitsPages[e] = t;
          }),
          (p.updateDiv = function (e, t) {
            h.currentDivs[e] = t;
          }),
          (p.addWitness = function (e) {
            h.currentWits.push(e), p.removeAvailableWitness(e);
          }),
          (p.addWitnessAtIndex = function (e, t) {
            h.currentWits.splice(t, 0, e), p.removeAvailableWitness(e);
          }),
          (p.removeWitness = function (e) {
            var t = h.currentWits.indexOf(e);
            t >= 0 &&
              (h.currentWits.splice(t, 1), delete h.currentWitsPages[e]),
              f.availableWitnesses.indexOf(e) < 0 &&
              f.availableWitnesses.push(e);
          }),
          (p.switchWitnesses = function (e, t) {
            var i = h.currentWits.indexOf(t),
              n = h.currentWits.indexOf(e);
            i >= 0 && (h.currentWits[i] = e), n >= 0 && (h.currentWits[n] = t);
          }),
          (p.updateAvailableWitnessesByVersion = function (e) {
            var t = c.getVersionEntries()._indexes.versionWitMap[e],
              i = [],
              n = [];
            if (void 0 !== t && t.length > 0) {
              for (var o = 0; o < h.currentWits.length; o++)
                t.indexOf(h.currentWits[o]) >= 0 && i.push(h.currentWits[o]);
              h.currentWits = i;
              for (var r = 0; r < t.length; r++)
                i.indexOf(t[r]) < 0 && n.push(t[r]);
              f.availableWitnesses = n;
            } else if (e === s.versions[0]) {
              for (
                var a = c.getWitnessesList(), l = 0;
                l < h.currentWits.length;
                l++
              )
                a.indexOf(h.currentWits[l]) >= 0 && i.push(h.currentWits[l]);
              h.currentWits = i;
              for (var u = 0; u < a.length; u++)
                i.indexOf(a[u]) < 0 && n.push(a[u]);
              f.availableWitnesses = n;
            }
            p.updateUrl();
          }),
          (p.isViewModeAvailable = function (e) {
            for (var t = 0, i = f.availableViewModes.length; t < i; t++)
              if (f.availableViewModes[t].viewMode === e)
                return f.availableViewModes[t].visible;
          }),
          (p.setCurrentPage = function (e) {
            if (void 0 !== e) {
              var t = p.getState("currentDoc");
              p.updateState("currentPage", e.value),
                e.docs.length > 0 &&
                e.docs.indexOf(t) < 0 &&
                p.updateState("currentDoc", e.docs[0]),
                p.updateUrl();
            }
          }),
          (p.goToNextPage = function () {
            var e = c.getPages(),
              t = e[p.getState("currentPage")].indexInCollection,
              i = p.getState("currentDoc"),
              n = e[t + 1];
            if (n) {
              var o = e[n];
              p.updateState("currentPage", n),
                o.docs.length > 0 &&
                o.docs.indexOf(i) < 0 &&
                p.updateState("currentDoc", o.docs[0]),
                o.docs.length > 1 && p.updateState("currentDoc", o.docs[0]),
                p.updateUrl();
            }
            return {
              newPageId: n,
              isFirst: n === e[0],
              isLast: n === e[e.length - 1],
            };
          }),
          (p.goToPrevPage = function () {
            var e = c.getPages(),
              t = e[p.getState("currentPage")].indexInCollection,
              i = p.getState("currentDoc"),
              n = e[t - 1];
            if (n) {
              var o = e[n];
              p.updateState("currentPage", n),
                o.docs.length > 0 &&
                o.docs.indexOf(i) < 0 &&
                p.updateState("currentDoc", o.docs[0]),
                o.docs.length > 1 && p.updateState("currentDoc", o.docs[0]),
                p.updateUrl();
            }
            return {
              newPageId: n,
              isFirst: n === e[0],
              isLast: n === e[e.length - 1],
            };
          }),
          (p.goToFirstPage = function () {
            var e = c.getPages(),
              t = e[p.getState("currentPage")].indexInCollection,
              i = p.getState("currentDoc"),
              n = e[t - t];
            if (n) {
              var o = e[n];
              p.updateState("currentPage", n),
                o.docs.length > 0 &&
                o.docs.indexOf(i) < 0 &&
                p.updateState("currentDoc", o.docs[0]),
                o.docs.length > 1 && p.updateState("currentDoc", o.docs[0]),
                p.updateUrl();
            }
            return {
              newPageId: n,
              isFirst: n === e[0],
              isLast: n === e[e.length - 1],
            };
          }),
          (p.goToLastPage = function () {
            var e = c.getPages(),
              t = p.getState("currentDoc"),
              i = e[e.length - 1];
            if (i) {
              var n = e[i];
              p.updateState("currentPage", i),
                n.docs.length > 0 &&
                n.docs.indexOf(t) < 0 &&
                p.updateState("currentDoc", n.docs[0]),
                n.docs.length > 1 && p.updateState("currentDoc", n.docs[0]),
                p.updateUrl();
            }
            return {
              newPageId: i,
              isFirst: i === e[0],
              isLast: i === e[e.length - 1],
            };
          }),
          (p.isCurrentPageFirst = function () {
            return p.getState("currentPage") === c.getPages()[0];
          }),
          (p.isCurrentPageLast = function () {
            var e = p.getState("currentPage"),
              t = c.getPages();
            return e === t[t.length - 1];
          }),
          (p.updateParams = function (e) {
            var t,
              i,
              n,
              o,
              r,
              a,
              l = s.defaultViewMode,
              d = s.defaultEdition,
              h = [],
              g = {};
            void 0 !== e.viewMode &&
              p.isViewModeAvailable(e.viewMode) &&
              (l = e.viewMode);
            var m,
              v = c.getEditions();
            if (
              (void 0 !== e.e
                ? c.getEdition(e.e)
                  ? (d = e.e)
                  : v && v.length > 0 && (d = v[0].value)
                : c.getEdition(d)
                  ? "readingTxt" === l &&
                  "critical" === d &&
                  c.isCriticalEditionAvailable() &&
                  (d = c.getEdition("critical") ? "critical" : v[0].value)
                  : v && v.length > 0 && (d = v[0].value),
                void 0 !== e.ce)
            )
              t = e.ce;
            else
              for (var b = 0; !t && b < v.length;)
                v[b].value !== d && (t = v[b].value), b++;
            if (void 0 !== e.p && c.getEdition(e.ce)) i = e.p;
            else {
              var y = c.getPages();
              y.length > 0 && (i = y[y[0]].value || void 0);
            }
            if (void 0 !== e.d && void 0 !== c.getDocument(e.d)) n = e.d;
            else {
              var x = c.getDocuments();
              x._indexes.length > 0 && (n = x[x._indexes[0]].value || void 0);
            }
            if (
              (e.s && c.getDiv(e.s)
                ? (a = e.s)
                : c && c.getDocument(n) && (a = c.getDocument(n).divs[0]),
                void 0 !== e.ws)
            )
              for (var w in ((o = e.ws.split(",").filter(function (e) {
                return 0 !== e.length;
              })),
                (m = c.getWitnessesList()),
                (f.availableWitnesses = m.slice(0, m.length)),
                o)) {
                var _ = o[w].split("@")[0],
                  A = o[w].split("@")[1];
                void 0 !== c.getWitness(_) &&
                  (h.push(_),
                    p.removeAvailableWitness(_),
                    void 0 !== A &&
                    void 0 !== c.getPage(_ + "-" + A) &&
                    (g[_] = A));
              }
            else if ("collation" === l)
              s.versions.length > 1
                ? (h =
                  c.getVersionEntries()._indexes.versionWitMap[s.versions[0]])
                : void 0 !== (h = c.getWitnessesList()) &&
                  h.length > s.maxWitsLoadTogether
                  ? ((f.availableWitnesses = h.slice(s.maxWitsLoadTogether)),
                    (h = h.slice(0, s.maxWitsLoadTogether)))
                  : (f.availableWitnesses = []);
            else if (s.versions.length > 1) {
              var E =
                c.getVersionEntries()._indexes.versionWitMap[s.versions[0]];
              void 0 !== E &&
                E.length > 0 &&
                (f.availableWitnesses = E.slice(0, E.length));
            } else
              (m = c.getWitnessesList()),
                (f.availableWitnesses = m.slice(0, m.length));
            void 0 !== e.app && (r = e.app),
              void 0 !== l && p.updateState("currentViewMode", l),
              void 0 !== d
                ? p.updateState("currentEdition", d)
                : "collation" === l &&
                p.updateState("currentEdition", "critical"),
              p.updateState("currentComparingEdition", t),
              void 0 !== i && p.updateState("currentPage", i),
              a && n && p.updateDiv(n, a),
              void 0 !== n && p.updateState("currentDoc", n),
              void 0 !== h && p.updateState("currentWits", h),
              g !== {} && p.updateState("currentWitsPages", g),
              void 0 !== r &&
              (p.updateState("currentAppEntry", r), u.setCurrentAppEntry(r)),
              p.updateUrl();
          }),
          (p.updateUrl = function () {
            var e = h.currentViewMode,
              t = h.currentDoc,
              i = "";
            if (
              ((i +=
                void 0 === h.currentDoc
                  ? ""
                  : ("" === i ? "" : "&") + "d=" + h.currentDoc),
                (i +=
                  void 0 === h.currentPage
                    ? ""
                    : ("" === i ? "" : "&") + "p=" + h.currentPage),
                (i += h.currentDivs[t]
                  ? ("" === i ? "" : "&") + "s=" + h.currentDivs[t]
                  : ""),
                (i +=
                  void 0 === h.currentEdition
                    ? ""
                    : ("" === i ? "" : "&") + "e=" + h.currentEdition),
                (i +=
                  void 0 === h.currentComparingEdition
                    ? ""
                    : ("" === i ? "" : "&") + "ce=" + h.currentComparingEdition),
                "collation" === e &&
                void 0 !== h.currentWits &&
                h.currentWits.length > 0)
            )
              for (var n in ("" !== i && (i += "&"),
                (i += "ws="),
                h.currentWits)) {
                i += i.indexOf("ws=") < 0 ? "ws=" : "";
                var o = h.currentWits[n],
                  r = p.getCurrentWitnessPage(o);
                (i += o),
                  void 0 !== r && (i += "@" + r),
                  n < h.currentWits.length - 1 && (i += ",");
              }
            void 0 !== h.currentAppEntry &&
              "" !== h.currentAppEntry &&
              ("" !== i && (i += "&"), (i += "app=" + h.currentAppEntry)),
              void 0 !== e && (window.location = "#/" + e + "?" + i);
          }),
          p
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.reference", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.reference")
      .constant("REFDEFAULTS", {})
      .config([
        "evtRefProvider",
        "configProvider",
        "REFDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("ref", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.reference").provider("evtRef", function () {
      var e = this.defaults;
      (this.setDefaults = function (t) {
        e = t;
      }),
        (this.$get = [
          "$log",
          function (t) {
            var i = {},
              n = {},
              o = [],
              r = 0;
            t.getInstance("reference");
            return (
              (i.build = function (t) {
                var i,
                  a = t.id || r++,
                  s = t.type || "link",
                  l = t.target || "";
                if (void 0 === n[a])
                  return (
                    (i = {
                      uid: a,
                      defaults: angular.copy(e),
                      type: s,
                      target: l,
                    }),
                    (n[a] = angular.extend(t.vm, i)),
                    o.push({ id: a, type: s }),
                    n[a]
                  );
              }),
              (i.destroy = function (e) {
                delete n[e];
              }),
              (i.getListByType = function (e) {
                var t = [];
                for (var i in n) n[i].type === e && t.push(n[i]);
                return t;
              }),
              (i.getById = function (e) {
                angular.forEach(n, function (t) {
                  if (t.uid === e) return t;
                });
              }),
              i
            );
          },
        ]);
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.reference").controller("RefCtrl", [
      "$log",
      "evtRef",
      "parsedData",
      "evtDialog",
      "evtHighlight",
      "evtInterface",
      "$timeout",
      "evtCommunication",
      function (e, t, i, n, o, r, a, s) {
        var l = this;
        e.getInstance("reference");
        (l.handleRefClick = function (e) {
          if (
            "biblRef" === l.type ||
            "biblio" === l.type ||
            "#" === l.target.substr(0, 1)
          ) {
            var t = l.target.replace("#", "");
            i.getBibliographicRefById(t)
              ? (r.updateState("secondaryContent", "toc"),
                n.openByType("toc"),
                r.updateProperty("tabsContainerOpenedContent", "bibliography"),
                o.setHighlighted(t),
                a(function () {
                  o.setHighlighted("");
                }, 2500))
              : s.err("MESSAGES.REFERENCE_NOT_FOUND", "", "405", !0);
          } else if (l.target && "" !== l.target) {
            var c =
              l.target.indexOf("http") < 0 ? "http://" + l.target : l.target;
            window.open(c, "_blank");
          }
        }),
          (l.destroy = function () {
            var e = l.uid;
            t.destroy(e);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.reference").directive("ref", [
      "evtRef",
      function (e) {
        return {
          restrict: "C",
          scope: { target: "@", type: "@" },
          replace: !0,
          transclude: !0,
          controllerAs: "vm",
          controller: "RefCtrl",
          template:
            '<span class="evtRef" ng-click="vm.handleRefClick($event)" ng-transclude></span>',
          link: function (t) {
            var i = e.build(t);
            t.$on("$destroy", function () {
              i && i.destroy && i.destroy();
            });
          },
        };
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.communication", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.communication")
      .constant("COMMUNICATIONDEFAULTS", {
        mode: "xml",
        errorMsgs: {
          404: {
            title: "MESSAGES.FILE_NOT_FOUND",
            code: "404",
            msg: "MESSAGES.SOMETHING_WRONG_DURING_FILE_LOADING",
          },
          405: {
            title: "MESSAGES.MISSING_PARAMETERS",
            code: "405",
            msg: "MESSAGES.BIBL_REF_NOT_FOUND",
          },
          dataUrlEmpty: {
            title: "MESSAGES.MISSING_PARAMETERS",
            code: "404",
            msg: "MESSAGES.PATH_TO_EDITION_EMPTY",
          },
        },
      })
      .service("evtCommunication", [
        "$http",
        "$log",
        "baseData",
        "config",
        "evtDialog",
        "COMMUNICATIONDEFAULTS",
        function (e, t, i, n, o, r) {
          var a = {},
            s = r,
            l = t.getInstance("communication"),
            c = { code: "", title: "", msg: "" };
          return (
            (a.getExternalConfig = function (t) {
              return e.get(t).then(
                function (e) {
                  n.extendDefault(e.data);
                },
                function (e) {
                  a.err(
                    "Something wrong while loading configuration file",
                    "",
                    e,
                    !0
                  );
                }
              );
            }),
            (a.getData = function (t) {
              return e.get(t).then(
                function (e) {
                  if ("string" == typeof e.data)
                    return l.log("XML Data received"), i.addXMLString(e.data);
                },
                function (e) {
                  s.errorMsgs[e.status]
                    ? a.err(s.errorMsgs[e.status].msg, t, e.status, !0)
                    : a.err(s.errorMsgs[404].msg, t, e.status, !0);
                }
              );
            }),
            (a.getViscollSvgs = function (t, n) {
              return e.get(t).then(
                function (e) {
                  return i.handleViscollSvg(e.data, n);
                },
                function (e) { }
              );
            }),
            (a.getViscollDataModel = function (t) {
              return e.get(t).then(
                function (e) {
                  if ("string" == typeof e.data)
                    return (
                      l.log("XML Data received"), i.addViscollDataModel(e.data)
                    );
                },
                function (e) {
                  s.errorMsgs[e.status]
                    ? a.err(s.errorMsgs[e.status].msg, t, e.status, !0)
                    : a.err(s.errorMsgs[404].msg, t, e.status, !0);
                }
              );
            }),
            (a.getViscollImageList = function (t) {
              return e.get(t).then(
                function (e) {
                  if ("string" == typeof e.data)
                    return (
                      l.log("XML Data received"), i.addViscollImageList(e.data)
                    );
                },
                function (e) {
                  s.errorMsgs[e.status]
                    ? a.err(s.errorMsgs[e.status].msg, t, e.status, !0)
                    : a.err(s.errorMsgs[404].msg, t, e.status, !0);
                }
              );
            }),
            (a.getExternalData = function (t) {
              return e.get(t).then(
                function (e) {
                  if ("string" == typeof e.data) {
                    var o = "";
                    t === n.sourcesUrl
                      ? (o = "sources")
                      : t === n.analoguesUrl && (o = "analogues"),
                      i.addXMLExtDocument(e.data, o),
                      l.log("XML Data received");
                  }
                },
                function (e) {
                  s.errorMsgs[e]
                    ? a.err(s.errorMsgs[e].msg, t, e, !0)
                    : a.err(s.errorMsgs[404].msg, t, e, !0);
                }
              );
            }),
            (a.getSourceTextFile = function (t, n) {
              return e.get(t).then(
                function (e) {
                  "string" == typeof e.data &&
                    (i.addXMLSrcDocument(e.data, n),
                      l.log("XML Data received"));
                },
                function (e) {
                  s.errorMsgs[e]
                    ? a.err(s.errorMsgs[e].msg, t, e, !0)
                    : a.err(s.errorMsgs[404].msg, t, e, !0);
                }
              );
            }),
            (a.getError = function () {
              return c;
            }),
            (a.updateError = function (e) {
              c = e;
            }),
            (a.err = function (e, t, i, n) {
              i = void 0 !== i ? i : "";
              var r = s.errorMsgs[i],
                l = {
                  code: r ? r.code : i,
                  msg: (e && "" !== e) || !r ? e : r.msg,
                  info: t,
                  title: r ? r.title : "MESSAGES.COMMUNICATION_ERROR ",
                };
              if ((a.updateError(l), n)) {
                var u = o.getById("errorMsg");
                u.updateContent('{{ "' + c.msg + '" | translate }} ' + c.info),
                  u.setTitle(c.title),
                  u.open();
              }
            }),
            a
          );
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.translation", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.translation")
      .constant("TRANSLATIONDEFAULTS", {})
      .service("evtTranslation", [
        "TRANSLATIONDEFAULTS",
        "$translate",
        function (e, t) {
          var i,
            n = {},
            o = ["en", "it"];
          return (
            (n.setLanguage = function (e) {
              (i = e), t.use(e);
            }),
            (n.setLanguages = function (e) {
              o = e;
            }),
            (n.setFallbackLanguage = function (e) {
              t.fallbackLanguage(e);
            }),
            (n.getLanguages = function () {
              return o;
            }),
            (n.getCurrentLanguage = function () {
              return i;
            }),
            (n.getUserLanguage = function () {
              var e = navigator.language;
              return (
                e.indexOf("_") >= 0 && e.split("_")[0],
                e.indexOf("-") >= 0 ? e.split("-")[0] : e
              );
            }),
            (n.getFallbackLanguage = function () {
              return o && o.length > 0 ? o[0] : "en";
            }),
            n
          );
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.UItools", []);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.UItools").service("evtImageTextLinking", [
      "evtInterface",
      "Utils",
      "parsedData",
      "imageViewerHandler",
      function (e, t, i, n) {
        var o = {},
          r = /lb/;
        (o.turnOnITL = function () {
          this.activateITL(), e.setToolStatus("ITL", "active");
        }),
          (o.turnOnHTS = function () {
            this.activateHotSpots(), e.setToolStatus("HTS", "active");
          }),
          (o.turnOffITL = function () {
            this.deactivateITL(),
              e.setToolStatus("ITL", "inactive"),
              e.updateCurrentHighlightedZone(void 0),
              this.switchingOffHighlightInImage(),
              this.switchingOffHighlightInImageSelected();
          }),
          (o.turnOffHTS = function () {
            this.deactivateHotSpots(),
              e.setToolStatus("HTS", "inactive"),
              e.updateCurrentHighlightedZone(void 0),
              this.switchingOffHighlightInImage(),
              this.switchingOffHighlightInImageSelected();
          }),
          (o.activateITL = function () {
            this.prepareLines(), this.prepareZoneInImgInteractions();
          }),
          (o.activateHotSpots = function () {
            var t = o.prepareHotSpotZones().filter(function (t) {
              return t.page === e.getState("currentPage");
            });
            n.showHotSpot(t);
          }),
          (o.prepareHotSpotZones = function () {
            for (
              var e = i.getZones(), t = e._indexes, n = [], o = 0;
              o < t.length;
              o++
            ) {
              var r = t[o];
              if (r) {
                var a,
                  s = e[r],
                  l = s.corresp
                    ? s.corresp.replace("#", "")
                    : s.start
                      ? s.start.replace("#", "")
                      : r;
                (a = i.getHotSpot(l)) && (s.content = a.content), n.push(s);
              }
            }
            return n.filter(function (e) {
              return "HotSpot" === e.rendition;
            });
          }),
          (o.deactivateITL = function () {
            var t = e.getState("currentHighlightedZone");
            t && this.changeLinesHighlightStatus(t.id, "unselect"),
              this.resetTextNodes();
          }),
          (o.deactivateHotSpots = function () {
            var e = o.prepareHotSpotZones();
            n.hiddenHotSpot(e);
          }),
          (o.prepareLines = function () {
            for (
              var e = document.getElementsByClassName("lb"), i = 0;
              i < e.length;
              i++
            ) {
              var n;
              if (i === e.length - 1) {
                var o = e[i].nextSibling;
                for (
                  n = e[i].id;
                  o &&
                  (3 === o.nodeType ||
                    (o.className && o.className.indexOf("inLine") < 0));

                ) {
                  if (3 === o.nodeType) {
                    var r = document.createElement("span");
                    (r.className = "textNode"),
                      (r.textContent = o.textContent),
                      o.parentElement.replaceChild(r, o),
                      (o = r);
                  }
                  this.preapareElementInLine(o, n),
                    (o =
                      o.nextSibling || e[i].parentNode.nextSibling || void 0);
                }
              } else {
                var a = e[i],
                  s = e[i + 1];
                if ((n = a.id) && a && s) {
                  var l = t.DOMutils.getElementsBetweenTree(a, s);
                  for (var c in l) {
                    var u = l[c];
                    if (3 === u.nodeType) {
                      var d = document.createElement("span");
                      (d.className = "textNode"),
                        (d.textContent = u.textContent),
                        u.parentElement.replaceChild(d, u),
                        (u = d);
                    }
                    this.preapareElementInLine(u, n);
                  }
                }
              }
            }
          }),
          (o.preapareElementInLine = function (t, i) {
            t.className &&
              t.className.indexOf("inLine") < 0 &&
              ((t.className += " inLine"),
                t.setAttribute("data-line", i),
                (t.onmouseover = function () {
                  var e = this.getAttribute("data-line");
                  o.changeLinesHighlightStatus(e, "over");
                  var t = e.replace(r, "line");
                  o.highlightZoneInImage(t);
                }),
                (t.onmouseout = function () {
                  var e = this.getAttribute("data-line");
                  o.changeLinesHighlightStatus(e, "out"),
                    o.switchingOffHighlightInImage();
                }),
                (t.onclick = function () {
                  var t = this.getAttribute("data-line"),
                    i = e.getState("currentHighlightedZone");
                  i &&
                    "Line" === i.name &&
                    (o.changeLinesHighlightStatus(i.id, "unselect"),
                      o.switchingOffHighlightInImage(),
                      o.switchingOffHighlightInImageSelected()),
                    !i || ("Line" === i.name && i.id !== t)
                      ? (e.updateCurrentHighlightedZone({ name: "Line", id: t }),
                        o.changeLinesHighlightStatus(t, "select"),
                        o.selectHighlightedZone(t))
                      : e.updateCurrentHighlightedZone(void 0);
                }));
          }),
          (o.resetTextNodes = function () {
            var e = document.getElementsByClassName("textNode");
            for (var t in e) {
              var i = e[t];
              if (i && i.textContent) {
                var n = document.createTextNode(i.textContent);
                i.parentElement.replaceChild(n, i);
              }
            }
          }),
          (o.changeLinesHighlightStatus = function (t, i) {
            var n = "active" === e.getToolState("ITL"),
              o = e.getState("currentViewMode");
            if (n && "imgTxt" === o)
              for (
                var r = document.querySelectorAll("[data-line='" + t + "']"),
                a = 0;
                a < r.length;
                a++
              )
                switch (i) {
                  case "over":
                    r[a].className += " lineHover";
                    break;
                  case "out":
                    r[a].className =
                      r[a].className.replace(" lineHover", "") || "";
                    break;
                  case "select":
                    r[a].className += " lineSelected";
                    break;
                  case "unselect":
                    r[a].className =
                      r[a].className.replace(" lineSelected", "") || "";
                }
          }),
          (o.prepareZoneInImgInteractions = function () {
            if (0 == document.getElementsByClassName("line-overlay").length)
              for (
                var t = i.getZones()._indexes.filter(function (e) {
                  return e.includes("line");
                }),
                o = 0;
                o < t.length;
                o++
              ) {
                var r = t[o];
                if (i.getZone(r).page === e.getState("currentPage"))
                  n.lineZone(i.getZone(r));
              }
          });
        return (
          (o.highlightZoneInImage = function (t) {
            if ("active" === e.getToolState("ITL")) {
              var o = i.getZone(t);
              o && n.highlightOverlay(o);
            }
          }),
          (o.switchingOffHighlightInImage = function () {
            n.turnOffOverlay();
          }),
          (o.switchingOffHighlightInImageSelected = function () {
            n.turnOffOverlaySelected();
          }),
          (o.selectHighlightedZone = function (t) {
            if ("active" === e.getToolState("ITL")) {
              var o = i.getZone(t.replace(r, "line"));
              n.turnOffOverlaySelected(),
                n.highlightSelectedOverlay(o, t.replace(r, "line")),
                n.moveToZone(o);
            }
          }),
          o
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.UItools").service("evtPinnedElements", [
      "parsedData",
      function (e) {
        var t = {},
          i = { _indexes: [], _indexesByType: { _types: [] } },
          n = [];
        return (
          (t.getElementsFromCookies = function () {
            var i = document.cookie.split(";");
            for (var n in i) {
              var o = i[n].split("=");
              if ("pinned" === o[0].trim())
                for (
                  var r = JSON.parse(o[1]), a = 0;
                  a < r._indexes.length;
                  a++
                ) {
                  var s = r._indexes[a],
                    l = r[s],
                    c = !1;
                  l &&
                    ("criticalApparatusEntry" === l.type
                      ? (c = void 0 !== e.getCriticalEntryById(s))
                      : l.type.indexOf("namedEntity") >= 0 &&
                      (c = void 0 !== e.getNamedEntity(s)),
                      c && t.addElement(r[s]));
                }
            }
          }),
          (t.addElement = function (e) {
            (i[e.id] = e),
              i._indexes.push(e.id),
              void 0 === i._indexesByType[e.type] &&
              ((i._indexesByType[e.type] = []),
                i._indexesByType._types.push(e.type)),
              i._indexesByType[e.type].push(e.id),
              (document.cookie = "pinned=" + JSON.stringify(i) + "; 1");
          }),
          (t.removeElement = function (e) {
            var t = i._indexes.indexOf(e.id);
            if ((i._indexes.splice(t, 1), i._indexesByType[e.type])) {
              var n = i._indexesByType[e.type].indexOf(e.id);
              if (
                (i._indexesByType[e.type].splice(n, 1),
                  0 === i._indexesByType[e.type].length)
              ) {
                delete i._indexesByType[e.type];
                var o = i._indexesByType._types.indexOf(e.type);
                i._indexesByType._types.splice(o, 1);
              }
            }
            delete i[e.id],
              (document.cookie = "pinned=" + JSON.stringify(i) + "; 1");
          }),
          (t.getPinnedData = function () {
            return i;
          }),
          (t.getPinned = function () {
            return i._indexes;
          }),
          (t.getAvailablePinnedTypes = function () {
            return i._indexesByType._types;
          }),
          (t.getPinnedByType = function (e) {
            return i._indexesByType[e];
          }),
          (t.getPinnedElement = function (e) {
            return i[e];
          }),
          (t.getPinnedElementType = function (e) {
            return i[e].type;
          }),
          (t.isPinned = function (e) {
            return void 0 !== i[e];
          }),
          (t.addVisibleType = function (e) {
            n.indexOf(e) < 0 && n.push(e);
          }),
          (t.removeVisibleType = function (e) {
            var t = n.indexOf(e);
            t >= 0 && n.splice(t, 1);
          }),
          (t.setAllTypesVisible = function () {
            n = t.getAvailablePinnedTypes();
          }),
          (t.resetVisibleTypes = function () {
            n = [];
          }),
          (t.getVisibleTypes = function () {
            return n;
          }),
          t
        );
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.box", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.box")
      .constant("BOXDEFAULTS", { menuClosed: !1 })
      .config([
        "evtBoxProvider",
        "configProvider",
        "BOXDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("box", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.box").provider("evtBox", function () {
      var e = this.defaults;
      (this.setDefaults = function (t) {
        e = t;
      }),
        (this.$get = [
          "$log",
          "$q",
          "$timeout",
          "config",
          "parsedData",
          "evtParser",
          "evtCriticalParser",
          "evtInterface",
          "evtImageTextLinking",
          "evtNamedEntityRef",
          "evtGenericEntity",
          "evtSourcesApparatus",
          function (t, i, n, o, r, a, s, l, c, u, d, p) {
            var h = {},
              f = {},
              g = [],
              m = 0,
              v = t.getInstance("box"),
              b = function (e, t) {
                return (this.state[e] = t), this.state[e];
              },
              y = function (e) {
                return this.state[e];
              },
              x = function () {
                var e = this.uid;
                delete f[e];
              },
              w = function (e, t) {
                var i = this.state.filters;
                void 0 === i[e] &&
                  (i[e] = {
                    name: e,
                    any: !0,
                    totActive: 0,
                    values: { length: 0 },
                  }),
                  void 0 === i[e].totActive && (i[e].totActive = 0);
                var n = i[e].values;
                void 0 === n[t]
                  ? ((n[n.length] = t),
                    (n[t] = {
                      name: t,
                      active: !0,
                      color: r.getCriticalEntriesFilterColor(e, t),
                    }),
                    n.length++)
                  : (n[t].active = !n[t].active),
                  n[t].active
                    ? (i[e].totActive++, i._totActive++)
                    : (i[e].totActive--, i._totActive--),
                  (i[e].any = 0 === i[e].totActive);
              },
              _ = function (e) {
                (this.state.filters[e].values = { length: 0 }),
                  (this.state.filters._totActive -=
                    this.state.filters[e].totActive),
                  (this.state.filters[e].totActive = 0);
              },
              A = function () {
                void 0 !== this.state.topBoxOpened &&
                  (this.state.topBoxOpened = !this.state.topBoxOpened);
              },
              E = function () {
                void 0 !== this.state.filterBox &&
                  (this.state.filterBox = !this.state.filterBox);
              },
              S = function (e) {
                this && (this.topBoxContent = e);
              },
              T = function () {
                return "font-size:" + this.state.fontSize + "%" || !1;
              },
              C = function () {
                this.state.fontSize = parseInt(this.state.fontSize) + 4;
              },
              k = function () {
                this.state.fontSize = parseInt(this.state.fontSize) - 4;
              },
              L = function () {
                this.state.fontSize = "100";
              },
              D = function () {
                return "active" === l.getToolState("ITL");
              },
              I = function () {
                for (
                  var e = u.getActiveEntityTypes(), t = "", i = 0;
                  i < e.length;
                  i++
                )
                  t += e[i] + "-active ";
                return t;
              },
              P = function () {
                var e = "";
                return (
                  0 === this.bottomMenuList.buttons.length &&
                  0 === this.bottomMenuList.selectors.length &&
                  (e = "noBottomMenu"),
                  e
                );
              };
            return (
              (h.build = function (t, u) {
                var h,
                  O,
                  M = u.id || m++,
                  N = u.model,
                  R = u.type || "default",
                  B = u.edition,
                  z = { selectors: [], buttons: [], appLabels: [] },
                  $ = { selectors: [], buttons: [] },
                  H = {
                    topBoxOpened: !1,
                    fontSizeBtn: !1,
                    fontSize: "100",
                    topBoxContent: "",
                    searchBox: !1,
                  },
                  V = [],
                  j = !0;
                if (void 0 === f[M]) {
                  var F;
                  switch (R) {
                    case "image":
                      z.selectors.push({
                        id: "page_" + M,
                        type: "page",
                        initValue: l.getState("currentPage"),
                      }),
                        r.isITLAvailable() &&
                        (z.buttons.push({
                          title: "BUTTONS.IMAGE_TEXT_LINKING",
                          label: "",
                          icon: "itl",
                          type: "itl",
                        }),
                          z.buttons.push({
                            title: "BUTTONS.HOTSPOTS",
                            label: "",
                            icon: "hts",
                            type: "hts",
                          })),
                        z.buttons.push({
                          title: "BUTTONS.MS",
                          label: "BUTTONS.MSD",
                          type: "msDesc",
                        }),
                        o.enableNavBar ||
                        (o.thumbnailsButton &&
                          z.buttons.push({
                            title: "BUTTONS.THUMBNAILS",
                            icon: "thumb-nails",
                            type: "thumbNails",
                          }),
                          o.viscollButton &&
                          z.buttons.push({
                            title: "BUTTONS.VISCOLL",
                            icon: "viscoll",
                            type: "visColl",
                          })),
                        (h = function () {
                          t.vm.isLoading = !0;
                          var e = l.getState("currentPage"),
                            i = e ? r.getPage(e) : void 0,
                            n = i ? i.source : "";
                          (n = "" === n ? o.singleImagesUrl + e + ".jpg" : n),
                            (t.vm.content =
                              '<img src="' +
                              n +
                              '" alt="Image of page ' +
                              e +
                              " of " +
                              l.getState("currentDoc") +
                              "\" onerror=\"this.setAttribute('src', 'images/fol_214v.jpg')\"/>");
                          var a = "",
                            s = r.getZones();
                          for (var c in s._indexes) {
                            var u = s[s._indexes[c]];
                            if (u && u.page === e) {
                              if (
                                ((a +=
                                  '<div class="zoneInImg" data-zone-id="' +
                                  u.id +
                                  '" data-zone-name="' +
                                  u.rendition +
                                  '"'),
                                  u.corresp && "" !== u.corresp)
                              ) {
                                var d = u.corresp.replace("#", "");
                                (a += ' data-corresp-id="' + d + '"'),
                                  "Line" === u.rendition
                                    ? (a += ' data-line="' + d + '"')
                                    : "HotSpot" === u.rendition &&
                                    (a += ' data-hs="' + d + '"');
                              }
                              a +=
                                ">" +
                                u.id +
                                " (" +
                                u.lrx +
                                ", " +
                                u.lry +
                                ") (" +
                                u.ulx +
                                ", " +
                                u.uly +
                                ") </div>";
                            }
                          }
                          (t.vm.content += a), (t.vm.isLoading = !1);
                        });
                      break;
                    case "text":
                      if (
                        ("mainText" === M || "mainText1" === M
                          ? ($.buttons.push({
                            title: "Search",
                            label: "Search",
                            icon: "search",
                            type: "searchInternal",
                            show: function () {
                              return !0;
                            },
                            disabled: function () {
                              return !0;
                            },
                          }),
                            $.buttons.push({
                              title: "Create index for enable search",
                              label: "Create index",
                              icon: "",
                              type: "searchIndex",
                              show: function () {
                                return !0;
                              },
                            }))
                          : $.buttons.push({
                            title: "Search",
                            label: "Search",
                            icon: "search",
                            type: "searchInternal",
                            show: function () {
                              return !0;
                            },
                            disabled: function () {
                              return !0;
                            },
                          }),
                          ((o.showDocumentSelector &&
                            r.getDocuments()._indexes.length > 0) ||
                            r.getDocuments()._indexes.length > 1) &&
                          z.selectors.push({
                            id: "document_" + M,
                            type: "document",
                            initValue: l.getState("currentDoc"),
                          }),
                          r.isCriticalEditionAvailable())
                      ) {
                        if (r.getDivs().length > 0)
                          (W = (U = l.getState("currentDocument"))
                            ? l.getState("currentDivs")[U] ||
                            r.getDocument(U).divs.find(function (e) {
                              return "body" === r.getDiv(e).section;
                            })
                            : r
                              .getDocument(r.getDocuments()._indexes[0])
                              .divs.find(function (e) {
                                return "body" === r.getDiv(e).section;
                              })) &&
                            z.selectors.push({
                              id: "div_" + M,
                              type: "div",
                              initValue: W,
                            });
                        z.buttons.push({
                          title: "BUTTONS.WITNESSES_LIST",
                          label: "",
                          icon: "witnesses",
                          type: "witList",
                        }),
                          "collation" === l.getState("currentViewMode") &&
                          o.versions.length > 1 &&
                          Object.keys(
                            r.getVersionEntries()._indexes.versionWitMap > 0
                          ) &&
                          z.selectors.push({
                            id: "version_" + M,
                            type: "version",
                            initValue: l.getState("currentVersion"),
                          });
                      } else
                        z.selectors.push({
                          id: "page_" + M,
                          type: "page",
                          initValue: l.getState("currentPage"),
                        });
                      ((o.showEditionLevelSelector &&
                        o.availableEditionLevel.length > 0) ||
                        o.availableEditionLevel.length > 1) &&
                        ("comparing" === t.subtype
                          ? z.selectors.push({
                            id: "comparingEditionLevel_" + M,
                            type: "comparingEdition",
                            initValue: l.getState("currentComparingEdition"),
                          })
                          : z.selectors.push({
                            id: "editionLevel_" + M,
                            type: "edition",
                            initValue: l.getState("currentEdition"),
                          })),
                        z.buttons.push({
                          title: "BUTTONS.INFO_ABOUT_TEXT",
                          label: "BUTTONS.INFO",
                          icon: "info-alt",
                          type: "front",
                        }),
                        "tdhop" === l.getState("currentViewMode") &&
                        z.buttons.push({
                          title: "BUTTONS.3D",
                          label: "BUTTONS.OBJ",
                          type: "listObject",
                        }),
                        (V = r.getCriticalEntriesFiltersCollection())
                          .forLemmas > 0 &&
                        (z.buttons.push({
                          title: "BUTTONS.COLOR_KEY",
                          label: "",
                          icon: "color-legend",
                          type: "colorLegend",
                        }),
                          $.buttons.push({
                            title: "BUTTONS.FILTERS",
                            label: "BUTTONS.FILTERS",
                            icon: "filters",
                            type: "toggleFilterApp",
                            show: function () {
                              return "critical" === u.edition;
                            },
                          }),
                          (V = V.filters)),
                        o.namedEntitiesSelector &&
                        $.selectors.push({
                          id: "namedEntities_" + M,
                          type: "named-entities",
                          initValue: "NONE",
                          multiselect: !0,
                        }),
                        (H.filters = { _totActive: 0 }),
                        (H.filterBox = !1),
                        (H.docId = l.getState("currentDoc")),
                        o.toolHeatMap &&
                        $.buttons.push({
                          title: "BUTTONS.HEAT_MAP",
                          label: "BUTTONS.HEAT_MAP",
                          icon: "heatmap",
                          type: "heatmap",
                          show: function () {
                            return (
                              "text" === u.type && "critical" === u.edition
                            );
                          },
                        }),
                        $.buttons.push({
                          title: "BUTTONS.FONT_CHANGE",
                          label: "",
                          icon: "font-size",
                          type: "fontSizeTools",
                          show: function () {
                            return !0;
                          },
                        }),
                        (h = function () {
                          t.vm.isLoading = !0;
                          var e,
                            p = [],
                            h = "active" === l.getToolState("ITL"),
                            f =
                              "<span class=\"alert-msg alert-msg-error\">{{ 'MESSAGES.ERROR_IN_PARSING_TEXT' | translate }} <br /> {{ 'MESSAGES.TRY_DIFFERENT_BROWSER_OR_CONTACT_DEVS' | translate }}</span>",
                            g =
                              "<span class=\"alert-msg alert-msg-error\">{{ 'MESSAGES.TEXT_NOT_AVAILABLE' | translate }}</span>";
                          if (
                            t.vm.edition &&
                            "critical" === t.vm.edition &&
                            !u.version
                          ) {
                            if ((e = r.getCriticalText(t.vm.state.docId)))
                              (t.vm.content = e || g),
                                (t.vm.isLoading = !1),
                                n(function () {
                                  d.highlightActiveTypes();
                                });
                            else if (
                              void 0 !== (e = r.getDocument(t.vm.state.docId))
                            )
                              try {
                                o.versions.length > 2
                                  ? p.push(
                                    s.parseCriticalText(
                                      e.content,
                                      t.vm.state.docId,
                                      o.versions[0]
                                    ).promise
                                  )
                                  : p.push(
                                    s.parseCriticalText(
                                      e.content,
                                      t.vm.state.docId
                                    ).promise
                                  ),
                                  i.all(p).then(function () {
                                    (t.vm.content =
                                      r.getCriticalText(t.vm.state.docId) || g),
                                      (t.vm.isLoading = !1),
                                      n(function () {
                                        d.highlightActiveTypes();
                                      });
                                  });
                              } catch (e) {
                                v.log(e), (F = f), (t.vm.isLoading = !1);
                              }
                          } else if (
                            t.vm.edition &&
                            "critical" === t.vm.edition &&
                            t.vm.version
                          ) {
                            var m = l.getState("currentDoc");
                            if (
                              void 0 ===
                              (e =
                                t.vm.version === o.versions[0]
                                  ? r.getCriticalText(m) || void 0
                                  : r.getVersionText(u.version, m) || void 0)
                            ) {
                              e = r.getDocument(t.vm.state.docId);
                              try {
                                p.push(
                                  s.parseCriticalText(
                                    e.content,
                                    t.vm.state.docId,
                                    t.vm.version
                                  ).promise
                                ),
                                  i.all(p).then(function () {
                                    o.versions[0] === t.vm.version
                                      ? (t.vm.content =
                                        r.getCriticalText(t.vm.state.docId) ||
                                        g)
                                      : (t.vm.content =
                                        r.getVersionText(u.version, m) || g),
                                      (t.vm.isLoading = !1);
                                  });
                              } catch (e) {
                                v.log(e), (F = f), (t.vm.isLoading = !1);
                              }
                            } else
                              (t.vm.content = e || g), (t.vm.isLoading = !1);
                          } else {
                            var b = l.getState("currentPage"),
                              y = l.getState("currentDoc"),
                              x =
                                "comparing" === t.subtype
                                  ? l.getState("currentComparingEdition")
                                  : l.getState("currentEdition");
                            if (void 0 === (e = r.getPageText(b, y, x))) {
                              e = r.getPageText(b, y, "original");
                              try {
                                p.push(
                                  a.parseTextForEditionLevel(b, y, x, e).promise
                                ),
                                  i.all(p).then(function () {
                                    (t.vm.content =
                                      r.getPageText(b, y, x) || g),
                                      (t.vm.isLoading = !1),
                                      h &&
                                      n(function () {
                                        c.prepareLines(),
                                          c.prepareZoneInImgInteractions();
                                      }),
                                      n(function () {
                                        d.highlightActiveTypes();
                                      });
                                  });
                              } catch (e) {
                                v.log(e), (F = f), (t.vm.isLoading = !1);
                              }
                            } else
                              (t.vm.content = e || g),
                                (t.vm.isLoading = !1),
                                h &&
                                n(function () {
                                  c.prepareLines(),
                                    c.prepareZoneInImgInteractions();
                                }),
                                n(function () {
                                  d.highlightActiveTypes();
                                });
                            t.vm.isLoading = !1;
                          }
                        });
                      break;
                    case "witness":
                      var U,
                        W,
                        q =
                          void 0 !== u.witPage && "" !== u.witPage
                            ? u.witness + "-" + u.witPage
                            : "";
                      if (
                        (z.selectors.push(
                          {
                            id: "witnesses_" + M,
                            type: "witness",
                            initValue: u.witness,
                          },
                          {
                            id: "page_" + M,
                            type: "witness-page",
                            initValue: q,
                          }
                        ),
                          r.getDivs().length > 0)
                      )
                        (W = (U = l.getState("currentDocument"))
                          ? l.getState("currentDivs")[U] ||
                          r.getDocument(U).divs.find(function (e) {
                            return "body" === r.getDiv(e).section;
                          })
                          : r
                            .getDocument(r.getDocuments()._indexes[0])
                            .divs.find(function (e) {
                              return "body" === r.getDiv(e).section;
                            })) &&
                          z.selectors.push({
                            id: "div_" + M + "_" + u.witness,
                            type: "div",
                            initValue: W,
                          });
                      z.buttons.push(
                        {
                          title: "BUTTONS.INFO_ABOUT_TEXT",
                          label: "BUTTONS.INFO",
                          icon: "info-alt",
                          type: "toggleInfoWit",
                        },
                        {
                          title: "BUTTONS.WITNESS_CLOSE",
                          label: "",
                          icon: "remove",
                          type: "removeWit",
                        }
                      ),
                        (V = r.getCriticalEntriesFiltersCollection())
                          .forVariants > 0 &&
                        ($.buttons.push({
                          title: "BUTTONS.FILTERS",
                          label: "BUTTONS.FILTERS",
                          icon: "filters",
                          type: "toggleFilterApp",
                          show: function () {
                            return "true";
                          },
                        }),
                          (V = V.filters)),
                        (H.filters = { _totActive: 0 }),
                        (H.filterBox = !1),
                        $.buttons.push({
                          title: "BUTTONS.FONT_CHANGE",
                          label: "",
                          icon: "font-size",
                          type: "fontSizeTools",
                          show: function () {
                            return !0;
                          },
                        }),
                        (h = function () {
                          t.vm.isLoading = !0;
                          var e =
                            "<span class=\"alert-msg alert-msg-error\">{{ 'MESSAGES.TEXT_OF_WITNESS_NOT_AVAILABLE' | translate:'{ witness:  \"" +
                            u.witness +
                            "\" }' }}</span>";
                          if (void 0 !== u.witness) {
                            var n = l.getState("currentDoc"),
                              o = r.getWitnessText(u.witness, n) || void 0;
                            if (void 0 === o) {
                              var a = r.getDocuments(),
                                c = "";
                              if (
                                (a._indexes.length > 0 && (c = a[n]),
                                  void 0 !== c)
                              )
                                try {
                                  var d = [];
                                  d.push(
                                    s.parseWitnessText(c.content, n, u.witness)
                                      .promise
                                  ),
                                    i.all(d).then(function () {
                                      (t.vm.content =
                                        r.getWitnessText(u.witness, n) || e),
                                        (t.vm.isLoading = !1);
                                    });
                                } catch (e) {
                                  v.log(e),
                                    (t.vm.content =
                                      "<span class=\"alert-msg alert-msg-error\">{{ 'MESSAGES.ERROR_IN_PARSING_TEXT' | translate }} <br /> {{ 'MESSAGES.TRY_DIFFERENT_BROWSER_OR_CONTACT_DEVS' | translate }}</span>"),
                                    (t.vm.isLoading = !1);
                                }
                              else (t.vm.content = e), (t.vm.isLoading = !1);
                            } else (t.vm.content = o), (t.vm.isLoading = !1);
                          }
                        });
                      break;
                    case "source":
                      z.selectors.push({
                        id: "sources_" + M,
                        type: "source",
                        initValue: l.getState("currentSourceText"),
                      }),
                        z.buttons.push({
                          title: "BUTTONS.BIBLIOGRAPHIC_REF",
                          label: "",
                          icon: "info",
                          type: "toggleInfoSrc",
                        }),
                        $.buttons.push({
                          title: "BUTTONS.FONT_CHANGE",
                          label: "",
                          icon: "font-size",
                          type: "fontSizeTools",
                          show: function () {
                            return !0;
                          },
                        }),
                        (h = function () {
                          t.vm.isLoading = !0;
                          var e =
                            "<span class=\"alert-msg alert-msg-error\">{{ 'MESSAGES.ERROR_IN_PARSING_TEXT' | translate }} <br /> {{ 'MESSAGES.TRY_DIFFERENT_BROWSER_OR_CONTACT_DEVS' | translate }}</span>",
                            n =
                              "<span class=\"alert-msg alert-msg-error\">{{ 'MESSAGES.TEXT_OF_SOURCE_NOT_AVAILABLE' | translate:'{ source:  \"" +
                              t.vm.source +
                              "\" }' }}</span>",
                            o = r.getSource(t.vm.source),
                            a = o ? o.text : void 0;
                          if (
                            o &&
                            0 !== Object.keys(o.text).length &&
                            void 0 !== a
                          )
                            (t.vm.content = a), (t.vm.isLoading = !1);
                          else {
                            var c = r.getSourceDocument(t.vm.source);
                            if (void 0 !== c)
                              try {
                                var u = [];
                                u.push(
                                  s.parseSourceText(c.content, t.vm.source)
                                    .promise
                                ),
                                  i.all(u).then(function () {
                                    (t.vm.content =
                                      r.getSource(t.vm.source).text || n),
                                      (t.vm.isLoading = !1);
                                  });
                                var d = p.getSource(
                                  r.getSource(l.getState("currentSourceText"))
                                );
                                d && S(d);
                              } catch (i) {
                                v.log(i),
                                  (t.vm.content = e),
                                  (t.vm.isLoading = !1);
                              }
                            else (t.vm.content = e), (t.vm.isLoading = !1);
                          }
                        });
                      break;
                    case "version":
                      r.getVersionEntries()._indexes.versionId[u.version];
                      z.selectors.push({
                        id: "version_" + M,
                        type: "version",
                        initValue: u.version,
                      }),
                        l.getAllVersionsNumber() > 2 &&
                        z.buttons.push({
                          title: "BUTTONS.VERSION_CLOSE",
                          label: "",
                          icon: "remove",
                          type: "removeVer",
                        }),
                        $.buttons.push({
                          title: "BUTTONS.FONT_CHANGE",
                          label: "",
                          icon: "font-size",
                          type: "fontSizeTools",
                          show: function () {
                            return !0;
                          },
                        }),
                        (h = function () {
                          t.vm.isLoading = !0;
                          var e =
                            "<span class=\"alert-msg alert-msg-error\">{{ 'MESSAGES.TEXT_OF_VERSION_NOT_AVAILABLE' | translate:'{ version:  \"" +
                            u.version +
                            "\" }' }}</span>";
                          if (void 0 !== u.version) {
                            var n = l.getState("currentDoc"),
                              o = r.getVersionText(u.version, n) || void 0;
                            if (void 0 === o) {
                              var a = r.getDocuments(),
                                c = "";
                              if (
                                (a._indexes.length > 0 && (c = a[n]),
                                  void 0 !== c)
                              )
                                try {
                                  var d = [];
                                  d.push(
                                    s.parseCriticalText(c.content, n, u.version)
                                      .promise
                                  ),
                                    i.all(d).then(function () {
                                      (t.vm.content =
                                        r.getVersionText(u.version, n) || e),
                                        (t.vm.isLoading = !1);
                                    });
                                } catch (e) {
                                  v.log(e),
                                    (t.vm.content =
                                      "<span class=\"alert-msg alert-msg-error\">{{ 'MESSAGES.ERROR_IN_PARSING_TEXT' | translate }} <br /> {{ 'MESSAGES.TRY_DIFFERENT_BROWSER_OR_CONTACT_DEVS' | translate }}</span>"),
                                    (t.vm.isLoading = !1);
                                }
                              else (t.vm.content = e), (t.vm.isLoading = !1);
                            } else (t.vm.content = o), (t.vm.isLoading = !1);
                          }
                        });
                      break;
                    case "tdhop":
                      if (
                        (z.selectors.push({
                          id: "modelSelector",
                          type: "generic",
                          initValue: "Ruthwell Cross",
                        }),
                          z.buttons.push({
                            title: "BUTTONS.IMAGE_TEXT_LINKING",
                            label: "",
                            icon: "itl",
                            type: "itl",
                          }),
                          z.buttons.push({
                            title: "BUTTONS.HOTSPOTS",
                            label: "",
                            icon: "hts",
                            type: "hts",
                          }),
                          z.buttons.push({
                            title: "BUTTONS.3D",
                            label: "BUTTONS.OBJ",
                            type: "objDesc",
                          }),
                          o.showObjectSelector)
                      ) {
                        var Q = JSON.stringify(o.tdhopViewerOptions.Models);
                        z.selectors.push({
                          id: "model_" + N,
                          type: "model",
                          initValue: Q,
                        });
                      }
                      h = function () {
                        t.vm.isLoading = !0;
                        t.vm.source;
                        (t.vm.content = F), (t.vm.isLoading = !1);
                      };
                      break;
                    default:
                      (j = !1),
                        "pinnedBoard" === R
                          ? (z.buttons.push({
                            title: "BUTTONS.BOARD_CLOSE",
                            label: "",
                            icon: "remove",
                            type: "closePinned",
                          }),
                            o.toolPinAppEntries &&
                            $.selectors.push({
                              id: "pinnedFilter_" + M,
                              type: "pinned-filter",
                              initValue: "NONE",
                              multiselect: !0,
                            }))
                          : z.buttons.push({
                            title: "BUTTONS.BOX_CLOSE",
                            label: "",
                            icon: "remove",
                            type: "removeBox",
                          }),
                        (h = function (e) {
                          t.vm.content = e;
                        });
                  }
                  return (
                    (O = {
                      currentEdition: B,
                      uid: M,
                      defaults: angular.copy(e),
                      topMenuList: z,
                      bottomMenuList: $,
                      content: void 0,
                      topBoxContent:
                        '<span class="alert-msg">No info available</span>',
                      state: H,
                      appFilters: V,
                      isLoading: j,
                      genericTools: {
                        fontSizeBtn: [
                          {
                            title: "BUTTONS.FONT_RESET",
                            label: "",
                            icon: "font-size-reset",
                            type: "fontSizeReset",
                          },
                          {
                            title: "BUTTONS.FONT_DECREASE",
                            label: "",
                            icon: "font-size-minus",
                            type: "fontSizeDecrease",
                          },
                          {
                            title: "BUTTONS.FONT_INCREASE",
                            label: "",
                            icon: "font-size-plus",
                            type: "fontSizeIncrease",
                          },
                        ],
                      },
                      osdTools: {
                        osdBtn: [
                          {
                            title: "BUTTONS.ZOOM-RESET",
                            label: "",
                            icon: "zoom-reset",
                            type: "zoomReset",
                          },
                          {
                            title: "BUTTONS.ZOOM-OUT",
                            label: "",
                            icon: "zoom-out",
                            type: "zoomOut",
                          },
                          {
                            title: "BUTTONS.ZOOM-IN",
                            label: "",
                            icon: "zoom-in",
                            type: "zoomIn",
                          },
                        ],
                      },
                      updateContent: h,
                      updateTopBoxContent: S,
                      updateState: b,
                      getState: y,
                      destroy: x,
                      toggleCriticalAppFilter: w,
                      toggleFilterBox: E,
                      toggleTopBox: A,
                      clearFilter: _,
                      fontSize: T,
                      fontSizeIncrease: C,
                      fontSizeDecrease: k,
                      fontSizeReset: L,
                      getNamedEntitiesActiveTypes: I,
                      getAdditionalClass: P,
                      isITLactive: D,
                    }),
                    (f[M] = angular.extend(u, O)),
                    g.push({ id: M, type: R }),
                    f[M]
                  );
                }
              }),
              (h.getById = function (e) {
                if ("undefined" !== f[e]) return f[e];
              }),
              (h.getList = function () {
                return g;
              }),
              (h.getListByType = function (e) {
                var t = [];
                for (var i in f) f[i].type === e && t.push(f[i]);
                return t;
              }),
              (h.getElementByValueOfParameter = function (e, t) {
                var i;
                for (var n in f) f[n][e] === t && (i = f[n]);
                return i;
              }),
              (h.alignScrollToApp = function (e) {
                for (var t in f)
                  void 0 !== f[t].scrollToAppEntry && f[t].scrollToAppEntry(e);
              }),
              (h.alignScrollToQuote = function (e, t) {
                for (var i in f)
                  void 0 !== f[i].scrollToQuotesEntry &&
                    ("source" === f[i].type
                      ? f[i].scrollToQuotesEntry(t)
                      : f[i].scrollToQuotesEntry(e));
              }),
              (h.alignScrollToAnalogue = function (e) {
                for (var t in f)
                  void 0 !== f[t].scrollToAnaloguesEntry &&
                    f[t].scrollToAnaloguesEntry(e);
              }),
              (h.getEditionById = function (e) {
                return f[e].edition;
              }),
              (h.getState = function (e, t) {
                return f[e].state[t];
              }),
              (h.updateState = function (e, t, i) {
                f[e].state[t] = i;
              }),
              h
            );
          },
        ]);
    });
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      angular.module("evtviewer.box").directive("box", [
        "$timeout",
        "evtBox",
        "evtInterface",
        "xmlParser",
        "config",
        "parsedData",
        "evtSearchResults",
        "evtSearchBox",
        "evtVirtualKeyboard",
        "evtButtonSwitch",
        function (t, n, o, r, a, s, l, c, u, d) {
          return {
            restrict: "E",
            scope: {
              id: "@",
              type: "@",
              subtype: "@",
              witness: "@",
              witpage: "@",
              edition: "@",
              source: "@",
              version: "@",
            },
            transclude: !0,
            template: i(228),
            link: function (i, p, h) {
              i.vm = {
                id: i.id,
                type: i.type,
                subtype: i.subtype,
                witness: i.witness,
                witPage: i.witpage,
                edition: i.edition,
                source: i.source,
                version: i.version,
              };
              var f,
                g,
                m = n.build(i, i.vm),
                v = angular.element(p).find(".box")[0];
              t(function () {
                if (
                  ((f = angular.element(p).find(".box-body")[0]),
                    (g = angular.element(p).find(".box-top-box")[0]),
                    m.updateContent(),
                    "witness" === m.type || "text" === m.type)
                ) {
                  var t,
                    n,
                    r = v.scrollTop + 42,
                    l = r + angular.element(v).height(),
                    c = function () {
                      s.getDivs().length > 0 &&
                        (function () {
                          if ("text" === m.type) {
                            for (
                              var t = angular.element(p).find(".div"),
                              n = 0,
                              a = !1,
                              c = "";
                              n < t.length && !a;

                            ) {
                              c = t[n].getAttribute("id");
                              var u,
                                d = e("#" + c).offset();
                              d && (u = d.top),
                                u && u <= l && u >= r ? (a = !0) : n++;
                            }
                            a &&
                              c &&
                              s.getDiv(c) &&
                              i.vm.state.divId !== c &&
                              ((i.vm.state.divId = c),
                                o.updateDiv(s.getDiv(c).doc, c),
                                o.updateUrl());
                          }
                        })(),
                        s.getPages().length > 0 &&
                        (function () {
                          if ("witness" === m.type) {
                            for (
                              var t = angular.element(p).find(".pb"),
                              n = 0,
                              a = !1,
                              s = "";
                              n < t.length && !a;

                            ) {
                              s = t[n].getAttribute("data-id");
                              var c,
                                u = e(
                                  "span.pb[data-id='" + s + "']"
                                ).offset();
                              u && (c = u.top),
                                c && c <= l && c >= r ? (a = !0) : n++;
                            }
                            a &&
                              o.getCurrentWitnessPage(i.witness) !==
                              id.split("-")[1] &&
                              (o.updateWitnessPage(
                                i.witness,
                                id.split("-")[1]
                              ),
                                o.updateUrl());
                          }
                        })();
                    };
                  angular
                    .element(f)
                    .on("DOMMouseScroll mousewheel scroll", function () {
                      t && window.clearTimeout(t),
                        (t = window.setTimeout(c(), 1e3));
                    }),
                    angular
                      .element(g)
                      .on("DOMMouseScroll mousewheel scroll", function () {
                        n && window.clearTimeout(n),
                          (n = window.setTimeout(c(), 1e3));
                      });
                }
                m.type, b(i, a.xsltUrl);
              });
              var b = function (e, t) {
                if ("" !== t) {
                  var n = r.parse(i.vm.content),
                    o = (function (e) {
                      var t;
                      (t = window.ActiveXObject
                        ? new ActiveXObject("Msxml2.XMLHTTP")
                        : new XMLHttpRequest()).open("GET", e, !1);
                      try {
                        t.responseType = "msxml-document";
                      } catch (e) { }
                      return t.send(""), t.responseXML;
                    })(t);
                  if (window.ActiveXObject) {
                    var a = n.transformNode(o);
                    i.vm.content = a;
                  } else if (
                    document.implementation &&
                    document.implementation.createDocument
                  ) {
                    var s = new XSLTProcessor();
                    s.importStylesheet(o);
                    var l = s.transformToFragment(n, document);
                    i.vm.content = l;
                  }
                }
              };
              if (
                ((i.vm.getTotElementsOfType = function (e) {
                  return n.getListByType(e).length;
                }),
                  "witness" === m.type ||
                  "text" === m.type ||
                  "version" === m.type)
              ) {
                (i.vm.scrollToPage = function (i) {
                  t(function () {
                    var t = e("#" + m.uid).find("#pb_" + i),
                      n =
                        1 *
                        window
                          .getComputedStyle(f, null)
                          .getPropertyValue("padding-top")
                          .replace("px", "");
                    t.length > 0 &&
                      void 0 !== t[0] &&
                      (f.scrollTop = t[0].offsetTop - n);
                  });
                }),
                  (i.vm.scrollToAppEntry = function (i) {
                    t(function () {
                      var t = e("#" + m.uid).find("[data-app-id='" + i + "']"),
                        n =
                          1 *
                          window
                            .getComputedStyle(f, null)
                            .getPropertyValue("padding-top")
                            .replace("px", "");
                      t.length > 0 &&
                        void 0 !== t[0] &&
                        (f.scrollTop = t[0].offsetTop - n);
                    });
                  }),
                  (i.vm.scrollToDiv = function (i) {
                    t(function () {
                      var t = e("#" + i),
                        n =
                          1 *
                          window
                            .getComputedStyle(f, null)
                            .getPropertyValue("padding-top")
                            .replace("px", "");
                      t.length > 0 &&
                        void 0 !== t[0] &&
                        (f.scrollTop = t[0].offsetTop - n);
                    });
                  });
                var y,
                  x = o.getState("currentAppEntry"),
                  w = o.getState("currentDoc"),
                  _ = o.getState("currentDivs"),
                  A = _ ? _[w] : void 0;
                "witness" === m.type
                  ? (y =
                    i.vm.witness +
                    "-" +
                    o.getCurrentWitnessPage(i.vm.witness))
                  : "text" === m.type && (y = o.getState("currentPage")),
                  i.vm.scrollToPage(y),
                  A && i.vm.scrollToDiv(A),
                  i.vm.scrollToAppEntry(x),
                  i.$watch(
                    function () {
                      return o.getState("currentDivs");
                    },
                    function (e, t) {
                      if (t !== e) {
                        var n = o.getState("currentDoc"),
                          r = e ? e[n] : void 0;
                        r &&
                          i.vm.state.divId !== r &&
                          ((i.vm.state.divId = r), i.vm.scrollToDiv(r));
                      }
                    },
                    !0
                  );
              }
              ("witness" !== m.type &&
                "text" !== m.type &&
                "textdhop" !== m.type) ||
                (i.$watch(
                  function () {
                    return o.getState("currentDoc");
                  },
                  function (e, t) {
                    if (t !== e && i.vm.state.docId !== e)
                      if (
                        ((i.vm.state.docId = e),
                          (i.vm.isLoading = !0),
                          m.updateContent(),
                          "text" === i.vm.currentType)
                      ) {
                        var n = s.getDocument(e),
                          o = n ? n.front : void 0,
                          r =
                            o && o.parsedContent
                              ? o.parsedContent
                              : "<div class=\"warningMsg\">{{ 'MESSAGES.FRONT_NOT_AVAILABLE' | translate }}</div>";
                        i.vm.updateTopBoxContent(r);
                      } else if ("image" === i.vm.currentType) {
                        var a = s.getProjectInfo().msDesc
                          ? s.getProjectInfo().msDesc
                          : "<div class=\"warningMsg\">{{ 'MESSAGES.FRONT_NOT_AVAILABLE' | translate }}</div>";
                        i.vm.updateTopBoxContent(a);
                      } else if (
                        "tdhop" === i.vm.currentType ||
                        "text" === i.vm.currentType
                      ) {
                        var l = s.getProjectInfo().listObject
                          ? s.getProjectInfo().listObject
                          : "<div class=\"warningMsg\">{{ 'MESSAGES.FRONT_NOT_AVAILABLE' | translate }}</div>";
                        !s.getProjectInfo().listObject ||
                          s.getProjectInfo().listObject,
                          i.vm.updateTopBoxContent(l);
                      }
                  },
                  !0
                ),
                  i.$watch(
                    function () {
                      return i.vm.state.filters._totActive;
                    },
                    function (e, i) {
                      i !== e &&
                        t(function () {
                          var e = angular.element(p).find(".filters-in-box")[0],
                            t = angular.element(e).height(),
                            i = angular
                              .element(p)
                              .find(".box-body > *:last-child")[0];
                          angular.element(i).css("margin-bottom", t + 20 + "px");
                        });
                    },
                    !0
                  )),
                ("witness" !== m.type &&
                  "text" !== m.type &&
                  "version" !== m.type) ||
                ((i.vm.scrollToQuotesEntry = function (i) {
                  t(function () {
                    var t = e("#" + m.uid).find(
                      "[data-quote-id='" + i + "']"
                    ),
                      n =
                        1 *
                        window
                          .getComputedStyle(f, null)
                          .getPropertyValue("padding-top")
                          .replace("px", "");
                    t.length > 0 &&
                      void 0 !== t[0] &&
                      (f.scrollTop = t[0].offsetTop - n);
                  });
                }),
                  (i.vm.scrollToAnaloguesEntry = function (i) {
                    t(function () {
                      var t = e("#" + m.uid).find(
                        "[data-analogue-id='" + i + "']"
                      ),
                        n =
                          1 *
                          window
                            .getComputedStyle(f, null)
                            .getPropertyValue("padding-top")
                            .replace("px", "");
                      t.length > 0 &&
                        void 0 !== t[0] &&
                        (f.scrollTop = t[0].offsetTop - n);
                    });
                  }),
                  (i.vm.scrollToVersionApparatus = function (i) {
                    t(function () {
                      var t = e("#" + m.uid).find(
                        "evt-version-apparatus-entry[data-app-id='" + i + "']"
                      );
                      window
                        .getComputedStyle(f, null)
                        .getPropertyValue("padding-top")
                        .replace("px", "");
                      if (t.length > 0 && void 0 !== t[0]) {
                        var n = angular.element(t[0]).position().top,
                          o = t[0].offsetParent.clientHeight,
                          r = e("#" + m.uid).find(
                            "div[class='version-apparatus-entry']"
                          ),
                          a = angular.element(r).outerHeight() || 0;
                        n + a > o && (f.scrollTop += n - o + a);
                      }
                    });
                  })),
                "source" === m.type &&
                (i.vm.scrollToQuotesEntry = function (i) {
                  t(function () {
                    var t = e("#" + m.uid).find("[data-seg-id='" + i + "']"),
                      n =
                        1 *
                        window
                          .getComputedStyle(f, null)
                          .getPropertyValue("padding-top")
                          .replace("px", "");
                    t.length > 0 &&
                      void 0 !== t[0] &&
                      (f.scrollTop = t[0].offsetTop - n);
                  });
                }),
                "text" === m.type &&
                ("comparing" === m.subtype
                  ? i.$watch(
                    function () {
                      return o.getState("currentComparingEdition");
                    },
                    function (e, n) {
                      n !== e &&
                        i.vm.edition !== e &&
                        ((i.vm.edition = e),
                          m.updateContent(),
                          u.unselectCurrentKeyboard(d, m.id),
                          t(function () {
                            var e = i.id,
                              t = c.getInputValue(e);
                            "" !== t && l.highlightSearchResults(e, t);
                          }));
                    },
                    !0
                  )
                  : i.$watch(
                    function () {
                      return o.getState("currentEdition");
                    },
                    function (e, n) {
                      n !== e &&
                        i.vm.edition !== e &&
                        ((i.vm.edition = e),
                          m.updateContent(),
                          u.unselectCurrentKeyboard(d, m.id),
                          t(function () {
                            var e = i.id,
                              t = c.getInputValue(e);
                            "" !== t && l.highlightSearchResults(e, t);
                          }));
                    },
                    !0
                  ),
                  i.$watch(
                    function () {
                      var e = i.id;
                      return n.getState(e, "searchBox");
                    },
                    function (i, n) {
                      !0 === i &&
                        t(function () {
                          e("input").trigger("focus");
                        }, 100);
                    },
                    !0
                  ),
                  i.$watch(
                    function () {
                      return o.getState("currentPage");
                    },
                    function (e, n) {
                      m.updateContent(),
                        t(function () {
                          var e = i.id,
                            t = c.getInputValue(e);
                          "" !== t && l.highlightSearchResults(e, t);
                        });
                    },
                    !0
                  )),
                "image" === m.type &&
                i.$watch(
                  function () {
                    return o.getState("currentPage");
                  },
                  function (e, t) {
                    t !== e &&
                      i.vm.state.docId !== e &&
                      ((i.vm.state.pageId = e), m.updateContent());
                  },
                  !0
                ),
                "source" === m.type &&
                (i.$watch(
                  function () {
                    return o.getProperty("isSourceLoading");
                  },
                  function (e, t) {
                    t !== e &&
                      (e ||
                        ((i.vm.source = o.getState("currentSourceText")),
                          m.updateContent()));
                  }
                ),
                  i.$watch(
                    function () {
                      return o.getState("currentSourceText");
                    },
                    function (e, t) {
                      t !== e &&
                        o.getProperty("parsedSourcesTexts").indexOf(e) >= 0 &&
                        ((i.vm.source = e), m.updateContent());
                    }
                  )),
                "text" === m.type &&
                "collation" === o.getState("currentViewMode") &&
                i.$watch(
                  function () {
                    return o.getState("currentVersion");
                  },
                  function (e, t) {
                    (i.vm.version = e), m.updateContent();
                  }
                ),
                i.$on("$destroy", function () {
                  m && m.destroy();
                });
            },
          };
        },
      ]);
    }.call(this, i(0)));
  },
  function (e, t) {
    e.exports =
      "<section class=\"box box-{{::vm.type}}\" id={{::vm.uid}} data-position=left data-gettotelementsoftype=\"{{vm.getTotElementsOfType('witness')}}\" ng-class=\"{'span9of9' : (vm.type === 'witness' && vm.getTotElementsOfType('witness') === 1) || (vm.type === 'version' && vm.getTotElementsOfType('version') === 1),\n                    'span6of12': vm.type === 'witness' && vm.getTotElementsOfType('witness') === 2 || (vm.type === 'version' && vm.getTotElementsOfType('version') === 2),\n                    'span6of18': (vm.type === 'witness' && vm.getTotElementsOfType('witness') === 3) || (vm.type === 'version' && vm.getTotElementsOfType('version') === 3) || (vm.type === 'text' && vm.getTotElementsOfType('version') > 1) || (vm.type === 'text' && vm.getTotElementsOfType('witness') > 1) || (vm.type === 'critical_apparatus'),\n                    'topBoxOpened': vm.state.topBoxOpened,\n                    'filterNotActive': vm.state.filters._totActive <= 0,\n                    'ITLactive': vm.isITLactive()}\"> <div class=box-menu data-position=top ng-if=\"::vm.type !== 'critical_apparatus'  && vm.type !== 'empty' && vm.type !== 'tdhop'\"> <evt-select data-id={{::selector.id}} data-type={{::selector.type}} data-init={{::selector.initValue}} ng-repeat=\"selector in ::vm.topMenuList.selectors track by $index\"> </evt-select> <button-switch title={{::button.title}} data-label={{::button.label}} data-icon={{::button.icon}} data-icon-pos={{::button.iconPos}} data-type={{::button.type}} ng-repeat=\"button in ::vm.topMenuList.buttons track by $index\"> </button-switch> </div> <div class=box-menu data-position=top ng-if=\"::vm.type === 'tdhop'\"> </div> <div class=\"box-top-box avoidBlur\" ng-class=\"{'open': vm.state.topBoxOpened}\" compile=::vm.topBoxContent> </div> <div ng-if=\"::vm.type !== 'image' && vm.type !== 'tdhop'\" class=\"box-body {{vm.edition}}Edition {{vm.getNamedEntitiesActiveTypes()}} {{vm.getAdditionalClass()}}\" ng-class=\"{\n             'search-opened': vm.getState('searchBox')\n         }\" style=\"\" id=box_body_{{::vm.uid}} compile=::vm.content ng-transclude> </div> <div ng-if=\"::vm.type === 'image'\" class=\"box-body {{vm.edition}}Edition {{vm.getNamedEntitiesActiveTypes()}} {{vm.getAdditionalClass()}}\" style=\"\" id=box_body_{{::vm.uid}}> <div ng-app=evtviewer.imageViewer ng-controller=imageViewerCtrl style=height:100%> <osd name=osdViewer></osd> </div> </div> <div ng-if=\"::vm.type === 'tdhop'\" class=\"box-body {{vm.edition}}Edition {{vm.getNamedEntitiesActiveTypes()}} {{vm.getAdditionalClass()}}\" style=padding:0 ng-controller=TreDHOPCtrl> <evt-tredhop id=tdhop name=tredhopViewer> </evt-tredhop> </div> <div class=loading ng-if=vm.isLoading><i class=\"fa fa-spinner fa-pulse loader\"></i></div> <div class=filters-in-box ng-if=\"(vm.type=='witness' || vm.type=='text') && vm.state.filters._totActive > 0\"> <span class=filter-group ng-repeat=\"filter in vm.state.filters track by $index\" ng-if=\"filter.totActive > 0\"> <span class=filter-value ng-repeat=\"value in filter.values track by $index\" ng-if=filter.values[value].active ng-click=\"vm.toggleCriticalAppFilter(filter.name, filter.values[value].name);\" style=background:{}; title=\"Remove ''{{::filter.values[value].name}}''\"> {{::filter.values[value].name}} </span> </span> </div> <div class=filters-box ng-if=\"::vm.type=='witness' || vm.type=='text'\" ng-class=\"{'open': vm.state.filterBox}\"> <div class=filter-group ng-repeat=\"filter in vm.appFilters track by $index\" ng-if=\"::(vm.type=='witness' && filter.possibleFor.variant) || (vm.type=='text' && filter.possibleFor.lemma)\"> <div class=filters-section-title>{{::filter.name}}</div> <div class=filter-value-outer> <div class=filter-value> <span class=\"filter-value-label filter-any\" title=\"Toggle ''any''\" ng-class=\"{'active': vm.state.filters[filter.name] === undefined || vm.state.filters[filter.name].totActive === 0}\" ng-click=vm.clearFilter(filter.name);> any </span> </div> </div> <div class=filter-value-outer ng-repeat=\"value in filter.values track by $index\"> <div style=background:{}; class=filter-value> <span class=filter-value-label title=\"Toggle ''{{::value.name}}''\" ng-class=\"{'active': vm.state.filters[filter.name].values[value.name].active !== undefined && vm.state.filters[filter.name].values[value.name].active}\" ng-click=\"vm.toggleCriticalAppFilter(filter.name, value.name);\"> {{::value.name}}</span> </div> </div> </div> </div> <evt-search-box ng-if=\"vm.type=='text'\" ng-controller=\"SearchBoxCtrl as searchBox\"> </evt-search-box> <div class=tools-group-box ng-if=\"::vm.type!=='image'\" ng-class=\"{'open': vm.getState('fontSizeBtn')}\"> <div class=fontSizeBtnGroup> <button-switch class=no-background title={{::button.title}} data-label={{::button.label}} data-icon={{::button.icon}} data-icon-pos={{::button.iconPos}} data-type={{::button.type}} ng-repeat=\"button in vm.genericTools.fontSizeBtn track by $index\"> </button-switch> </div> </div> <div class=box-menu data-position=bottom ng-if=\"::vm.bottomMenuList.buttons.length > 0 || vm.bottomMenuList.selectors.length > 0\"> <evt-select data-id={{::selector.id}} data-type={{::selector.type}} data-init={{::selector.initValue}} data-open-up=true data-multiselect={{::selector.multiselect}} ng-repeat=\"selector in ::vm.bottomMenuList.selectors track by $index\"> </evt-select> <button-switch title={{::button.title}} data-label={{::button.label}} data-icon={{::button.icon}} data-icon-pos={{::button.iconPos}} data-type={{::button.type}} ng-repeat=\"button in vm.bottomMenuList.buttons track by $index\" ng-if=button.show()> </button-switch> </div> </section> ";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.select", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.select")
      .constant("SELECTORDEFAULTS", {
        expanded: !1,
        elementWidth: 150,
        containerMaxHeight: 170,
      })
      .config([
        "evtSelectProvider",
        "configProvider",
        "SELECTORDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("select", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.select").provider("evtSelect", function () {
      var e = this.defaults;
      (this.setDefaults = function (t) {
        e = t;
      }),
        (this.$get = [
          "$log",
          "config",
          "Utils",
          "parsedData",
          "evtInterface",
          "evtNamedEntityRef",
          "evtGenericEntity",
          "evtPinnedElements",
          "evtSourcesApparatus",
          function (t, i, n, o, r, a, s, l, c) {
            var u = {},
              d = {},
              p = [],
              h = 0;
            t.getInstance("select");
            return (
              (u.build = function (t, u) {
                var f,
                  g,
                  m,
                  v,
                  b,
                  y,
                  x,
                  w = t.id || h++,
                  _ = t.type || "default",
                  A = t.init || void 0,
                  E = t.openUp || !1,
                  S = t.multiselect || !1,
                  T = [];
                if (void 0 === d[w]) {
                  switch (_) {
                    case "page":
                      (m = function (e, t) {
                        if (void 0 !== t) {
                          u.selectOption(t);
                          var i = r.getState("currentDoc");
                          r.updateState("currentPage", t.value),
                            t.docs.length > 0 &&
                            t.docs.indexOf(i) < 0 &&
                            r.updateState("currentDoc", t.docs[0]),
                            r.updateUrl();
                        }
                      }),
                        (b = function (e) {
                          return e;
                        }),
                        (T = (v = function (e) {
                          for (var t = [], i = 0; i < e.length; i++)
                            t.push(e[e[i]]);
                          return t;
                        })(o.getPages()));
                      break;
                    case "document":
                      (m = function (e, t) {
                        if (void 0 !== t) {
                          u.selectOption(t);
                          var i = r.getState("currentPage");
                          r.updateState("currentDoc", t.value),
                            t.pages.length > 0 &&
                            t.pages.indexOf(i) < 0 &&
                            r.updateState("currentPage", t.pages[0]),
                            t.divs.length > 0 &&
                            r.updateDiv(t.value, t.divs[0]),
                            r.updateUrl();
                        }
                      }),
                        (b = function (e) {
                          return e;
                        }),
                        (T = (v = function (e) {
                          for (var t = [], i = 0; i < e._indexes.length; i++)
                            t.push(e[e._indexes[i]]);
                          return t;
                        })(o.getDocuments()));
                      break;
                    case "div":
                      (m = function (e, t) {
                        if (t) {
                          u.selectOption(t);
                          var i = t.doc;
                          r.updateDiv(i, t.value), r.updateUrl();
                        }
                      }),
                        (v = function (e, t, i) {
                          var n = o.getDivs();
                          angular.forEach(e, function (e) {
                            n[e].section === i &&
                              (!n[e]._isSubDiv &&
                                n[e].subDivs.length > 0 &&
                                (n[e].type = "groupTitle"),
                                t.push(n[e]),
                                o.getDivs()._indexes.subDivs[e] &&
                                o.getDivs()._indexes.subDivs[e].length > 0 &&
                                v(n[e].subDivs, t, i));
                          });
                        }),
                        (b = function (e) {
                          return e;
                        });
                      var C = r.getState("currentDoc"),
                        k = o.getDiv(r.getState("currentDivs")[C]),
                        L = k ? k.section : "body";
                      v(o.getDivs()._indexes.main[C], T, L);
                      break;
                    case "edition":
                    case "comparingEdition":
                      (m = function (e, t) {
                        var i, n;
                        void 0 !== t &&
                          void 0 !== e &&
                          void 0 !== e[0] &&
                          t.value !== e[0].value &&
                          (u.selectOption(t),
                            "edition" === _
                              ? ((i = "currentEdition"),
                                (n = "currentComparingEdition"))
                              : "comparingEdition" === _ &&
                              ((i = "currentComparingEdition"),
                                (n = "currentEdition")),
                            r.getState(n) === t.value &&
                            r.updateState(n, e[0].value),
                            r.updateState(i, t.value),
                            r.updateUrl());
                      }),
                        (b = function (e) {
                          return e;
                        }),
                        (T = (v = function (e) {
                          return e;
                        })(o.getEditions()));
                      break;
                    case "named-entities":
                      (g = A),
                        (y = {
                          value: "ALL",
                          label: "SELECTS.SELECT_ALL",
                          title: "SELECTS.SELECT_ALL_NAMED_ENTITIES",
                          additionalClass: "doubleBorderTop",
                        }),
                        (m = function (e, t) {
                          if (void 0 !== t)
                            if ((u.selectOption(t), "ALL" === t.value)) {
                              for (
                                var i = T && T.length > 3 ? T.length - 2 : 0,
                                n = 0;
                                n < i;
                                n++
                              ) {
                                var o = T[n];
                                u.isOptionSelected(o) ||
                                  (u.selectOption(o),
                                    "namedEntity" === o.type
                                      ? a.addActiveType(o.value)
                                      : "groupTitle" !== o.type &&
                                      s.addActiveType(o.value, o.color));
                              }
                              u.selectOption(t);
                            } else if ("NONE" === t.value) {
                              for (
                                var r = u.optionSelected
                                  ? u.optionSelected
                                  : [],
                                l = 0;
                                l < r.length;
                                l++
                              ) {
                                var c = T[l];
                                "ALL" !== c.value &&
                                  ("namedEntity" === c.type
                                    ? a.removeActiveType(c.value)
                                    : s.removeActiveType(c.value, c.color));
                              }
                              (u.optionSelected = []), u.selectOption(t);
                            } else
                              "namedEntity" === t.type
                                ? u.isOptionSelected(t)
                                  ? a.addActiveType(t.value)
                                  : a.removeActiveType(t.value)
                                : u.isOptionSelected(t)
                                  ? s.addActiveType(t.value, t.color)
                                  : s.removeActiveType(t.value, t.color);
                        }),
                        (b = function (e) {
                          return e;
                        });
                      var D = (v = function (e, t) {
                        var i = [];
                        if (e)
                          for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            if (r.available) {
                              var a = "fa-circle";
                              "namedEntity" === t &&
                                (a =
                                  o.getNamedEntityTypeIcon(r.tagName) || a);
                              var s = {
                                icon: a,
                                type: t,
                                value: r.tagName,
                                label: r.label,
                                title: r.label,
                                color: r.color,
                              };
                              i.push(s);
                            }
                          }
                        return i;
                      })(i.namedEntitiesToHandle, "namedEntity"),
                        I = v(i.otherEntitiesToHandle, "");
                      (T = []),
                        D.length > 0 &&
                        (T.push({
                          label: "SELECTS.NAMED_ENTITIES",
                          type: "groupTitle",
                        }),
                          (T = T.concat(D))),
                        I.length > 0 &&
                        (T.push({
                          label: "SELECTS.OTHER_ENTITIES",
                          type: "groupTitle",
                        }),
                          (T = T.concat(I))),
                        T.length > 0 &&
                        (T.push(y),
                          T.push({
                            value: "NONE",
                            label: "SELECTS.CLEAR",
                            title: "SELECTS.CLEAR_SELECTION",
                          }));
                      break;
                    case "witness":
                      (g = A),
                        (m = function (e, t) {
                          u.collapse(),
                            void 0 !== e && void 0 !== e[0]
                              ? void 0 !== t &&
                              (r.switchWitnesses(e[0].value, t.value),
                                r.updateUrl())
                              : void 0 !== t &&
                              (r.addWitness(t.value), r.updateUrl());
                        }),
                        (b = function (e) {
                          return {
                            value: e.id,
                            label: e.id,
                            title: e.description,
                          };
                        }),
                        (T = (v = function (e) {
                          for (
                            var t = [], n = e._indexes.witnesses, o = 0;
                            o < n.length;
                            o++
                          ) {
                            var a = e[n[o]],
                              s = {
                                value: a.id,
                                label: a.id,
                                title: a.description,
                              };
                            ((i.versions.length > 0 &&
                              r
                                .getProperty("availableWitnesses")
                                .indexOf(n[o]) >= 0) ||
                              i.versions.length <= 0) &&
                              t.push(s);
                          }
                          return t;
                        })(o.getWitnesses()));
                      break;
                    case "witness-page":
                      var P = t.$parent.vm.witness;
                      (g = A),
                        (m = function (e, i) {
                          void 0 !== i &&
                            (u.selectOption(i),
                              r.updateWitnessesPage(P, i.value.split("-")[1]),
                              r.updateUrl(),
                              t.$parent.vm.scrollToPage(i.value));
                        }),
                        (b = function (e) {
                          return e;
                        }),
                        (T = (v = function (e) {
                          for (var t = [], i = 0; i < e.length; i++)
                            t.push(e[e[i]]);
                          return t;
                        })(o.getWitnessPages(P)));
                      break;
                    case "pinned-filter":
                      (g = A),
                        (f = []),
                        (y = {
                          value: "ALL",
                          label: "SELECTS.SELECT_ALL",
                          title: "SELECTS.SELECT_ALL_TYPES",
                          additionalClass: "doubleBorderTop",
                        }),
                        (m = function (e, t) {
                          if (void 0 !== t)
                            if ((u.selectOption(t), "ALL" === t.value)) {
                              for (
                                var i = T && T.length > 3 ? T.length - 2 : 0,
                                n = 0;
                                n < i;
                                n++
                              ) {
                                var o = T[n];
                                u.isOptionSelected(o) || u.selectOption(o);
                              }
                              l.setAllTypesVisible(), u.selectOption(t);
                            } else
                              "NONE" === t.value
                                ? ((u.optionSelected = []),
                                  u.selectOption(t),
                                  l.resetVisibleTypes())
                                : u.isOptionSelected(t)
                                  ? l.addVisibleType(t.value)
                                  : l.removeVisibleType(t.value);
                        }),
                        (v = function (e) {
                          var t = [];
                          if (e)
                            for (var i = 0; i < e.length; i++) {
                              var n = e[i],
                                o = { value: n, label: n, title: n };
                              t.push(o);
                            }
                          return (
                            t.length > 0 &&
                            (t.push(y),
                              t.push({
                                value: "NONE",
                                label: "SELECTS.CLEAR",
                                title: "SELECTS.CLEAR_SELECTION",
                              })),
                            t
                          );
                        }),
                        (b = function (e) {
                          return e;
                        });
                      var O = l.getAvailablePinnedTypes();
                      T = v(O);
                      break;
                    case "source":
                      (m = function (e, t) {
                        void 0 !== t &&
                          (u.selectOption(t),
                            r.updateCurrentSourceText(t.value),
                            r.updateState("currentSource", t.value));
                      }),
                        (b = function (e) {
                          return {
                            value: e.id,
                            label: c.getSourceAbbr(e),
                            title: "SELECTS.SEE_FULL_TEXT",
                          };
                        }),
                        (T = (v = function (e) {
                          for (var t = [], i = 0; i < e.length; i++) {
                            var n = e[i],
                              o = {
                                value: n.id,
                                label: c.getSourceAbbr(n),
                                title: "SELECTS.SEE_FULL_TEXT",
                              };
                            t.push(o);
                          }
                          return t;
                        })(o.getSources()._indexes.availableTexts));
                      break;
                    case "version":
                      (g = A),
                        (m = function (e, t) {
                          u.collapse(),
                            "collation" !== r.getState("currentViewMode")
                              ? void 0 !== e
                                ? void 0 !== t &&
                                r.switchVersions(e[0].value, t.value)
                                : void 0 !== t && r.addVersion(t.value)
                              : void 0 !== t &&
                              (r.updateCurrentVersion(t.value),
                                r.updateAvailableWitnessesByVersion(t.value));
                        }),
                        (b = function (e) {
                          var t = o.getVersionEntries()._indexes.versionId[e];
                          return {
                            value: e,
                            label: n.DOMutils.decodeHTMLEntities(t),
                            title: "MESSAGES.SEE_VERSION_TEXT",
                          };
                        }),
                        (T = (v = function (e) {
                          var t = [],
                            a = e._indexes.versionId;
                          for (var s in a) {
                            var l, c;
                            if ("collation" !== r.getState("currentViewMode"))
                              s !== i.versions[0] &&
                                "_name" !== s &&
                                ((l = a[s]),
                                  (c = {
                                    value: s,
                                    label: n.DOMutils.decodeHTMLEntities(l),
                                    title: "MESSAGES.SEE_VERSION_TEXT",
                                  }),
                                  t.push(c));
                            else {
                              var u =
                                o.getVersionEntries()._indexes.versionWitMap[s];
                              void 0 !== u &&
                                u.length > 0 &&
                                ((l = a[s]),
                                  (c = {
                                    value: s,
                                    label: n.DOMutils.decodeHTMLEntities(l),
                                    title: "MESSAGES.SEE_WITNESS",
                                  }),
                                  t.push(c));
                            }
                          }
                          return t;
                        })(o.getVersionEntries()));
                      break;
                    case "generic":
                      (T = t.options),
                        (g = A),
                        (m = function (e, t) {
                          u.collapse(), u.selectOption(t);
                        });
                  }
                  return (
                    t.emptyOption &&
                    T &&
                    (!T[0] || T[0].value) &&
                    T.unshift({ value: "", label: "---", title: "" }),
                    (x = {
                      uid: w,
                      defaults: angular.copy(e),
                      callback: m,
                      initValue: A,
                      currentType: _,
                      multiselect: S,
                      openUp: E,
                      smaller: t.smaller,
                      selectedOption: t.selectedOption,
                      optionList: T,
                      optionSelected: f,
                      optionSelectedValue: g,
                      formatOptionList: v,
                      formatOption: b,
                    }),
                    (d[w] = angular.extend(u, x)),
                    p.push({ id: w, type: _ }),
                    d[w]
                  );
                }
              }),
              (u.getById = function (e) {
                if (void 0 !== d[e]) return d[e];
              }),
              (u.getList = function () {
                return p;
              }),
              (u.expandById = function (e, t) {
                "undefined" !== d[e] && (d[e].expand(), t && u.closeAll());
              }),
              (u.closeAll = function (e) {
                angular.forEach(d, function (t, i) {
                  i !== e && t.collapse();
                });
              }),
              (u.addOption = function (e, t) {
                "undefined" !== d[e] && d[e].optionList.push(t);
              }),
              (u.setCallback = function (e, t) {
                "undefined" !== d[e] && (d[e].callback = t);
              }),
              (u.destroy = function (e) {
                delete d[e];
              }),
              u
            );
          },
        ]);
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.select").controller("SelectCtrl", [
      "$log",
      "$element",
      "$scope",
      "evtSelect",
      "parsedData",
      function (e, t, i, n, o) {
        var r = this;
        e.getInstance("select");
        (r.expand = function () {
          r.expanded = !0;
        }),
          (r.collapse = function () {
            r.expanded = !1;
          }),
          (r.toggleExpand = function (e) {
            e || n.closeAll(r.uid),
              r.openUp && r.updateContainerPosition(r.currentType),
              (r.expanded = !r.expanded);
          }),
          (r.getOptionSelected = function () {
            return r.optionSelected && r.optionSelected.length > 0
              ? 1 === r.optionSelected.length
                ? r.optionSelected[0]
                : {
                  value: "MULTI",
                  label: "SELECTS.MULTIPLE_SELECTION",
                  title: "SELECTS.MULTIPLE_OPTIONS_SELECTED",
                }
              : {
                value: "",
                label: "SELECTS.NO_SELECTION",
                title: "SELECTS.OPEN_TO_SELECT_ELEMENT",
              };
          }),
          (r.selectOption = function (e) {
            if (e) {
              if (
                (r.expanded && r.toggleExpand(),
                  "NONE" === e.value &&
                  r.multiselect &&
                  (e = {
                    value: "",
                    label: "SELECTS.NO_SELECTION",
                    title: "SELECTS.OPEN_TO_SELECT_ELEMENT",
                  }),
                  r.multiselect)
              ) {
                var t = r.getSelectedOptionIndex(e);
                t >= 0
                  ? r.optionSelected.splice(t, 1)
                  : (void 0 === r.optionSelected
                    ? (r.optionSelected = [])
                    : r.optionSelected.length > 0 &&
                    (("" !== r.optionSelected[0].value &&
                      "ALL" !== r.optionSelected[0].value &&
                      "NONE" !== r.optionSelected[0].value) ||
                      r.optionSelected.splice(0, 1)),
                    r.optionSelected.push(e));
              } else r.optionSelected = [e];
              r.optionSelected && r.optionSelected.length > 1
                ? (r.optionSelectedValue = "SELECTS.MULTIPLE_SELECTION")
                : (r.optionSelectedValue = void 0 !== e ? e.value : void 0);
            }
          }),
          (r.getSelectedOptionIndex = function (e) {
            for (
              var t = r.optionSelected || [], i = 0, n = !1;
              i < t.length && !n;

            )
              (n = t[i].value === e.value), i++;
            return n ? i - 1 : -1;
          }),
          (r.selectOptionByValue = function (e) {
            var t;
            if (void 0 !== e && "" !== e)
              switch (r.currentType) {
                case "page":
                  t = r.formatOption(o.getPage(e));
                  break;
                case "document":
                  t = r.formatOption(o.getDocument(e));
                  break;
                case "div":
                  t = r.formatOption(o.getDiv(e));
                  break;
                case "edition":
                case "comparingEdition":
                  t = r.formatOption(o.getEdition(e));
                  break;
                case "witness":
                  t = r.formatOption(o.getWitness(e));
                  break;
                case "witness-page":
                  t = r.formatOption(o.getPage(e));
                  break;
                case "source":
                  var i,
                    n = o.getSources()._indexes.availableTexts;
                  for (var a in n) n[a].id === e && (i = n[a]);
                  t = r.formatOption(i);
                  break;
                case "version":
                  t = r.formatOption(e);
                  break;
                case "generic":
                  if (r.optionList)
                    t = (s = r.optionList.filter(function (t) {
                      return t.value === e;
                    }))
                      ? s[0]
                      : void 0;
                  break;
                default:
                  var s;
                  if ("NONE" === e && r.multiselect)
                    t = {
                      value: "",
                      label: "SELECTS.NO_SELECTION",
                      title: "SELECTS.OPEN_TO_SELECT_ELEMENT",
                    };
                  else if (r.optionList)
                    t =
                      (s = r.optionList.filter(function (t) {
                        return t && t.value === e;
                      })) && s[0]
                        ? s[0]
                        : r.optionList[0];
              }
            else
              t =
                "NONE" === e && r.multiselect
                  ? {
                    value: "",
                    label: "SELECTS.NO_SELECTION",
                    title: "SELECTS.OPEN_TO_SELECT_ELEMENT",
                  }
                  : r.optionList[0];
            void 0 !== t && r.selectOption(t);
          }),
          (r.isOptionSelected = function (e) {
            if (void 0 !== e) {
              if (void 0 === r.optionSelected) return;
              if (r.multiselect) {
                for (
                  var t = r.optionSelected || [], i = 0, n = !1;
                  i < t.length && !n;

                )
                  (n = t[i].value === e.value), i++;
                return n;
              }
              return (
                r.optionSelected &&
                1 === r.optionSelected.length &&
                r.optionSelected[0].value === e.value
              );
            }
          }),
          (r.doCallback = function (e, t) {
            r.callback(e, t), i.onOptionSelected({ option: t });
          }),
          (r.destroy = function () {
            var e = r.uid;
            n.destroy(e);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.select").directive("evtSelect", [
      "$timeout",
      "evtSelect",
      "evtInterface",
      "evtPinnedElements",
      "parsedData",
      function (e, t, n, o, r) {
        return {
          restrict: "E",
          scope: {
            id: "@",
            type: "@",
            init: "@",
            openUp: "@",
            multiselect: "@",
            options: "=",
            smaller: "@",
            emptyOption: "@",
            selectedOption: "@",
            onOptionSelected: "&",
          },
          template: i(234),
          controllerAs: "vm",
          controller: "SelectCtrl",
          link: function (i, a) {
            var s = t.build(i, i.vm);
            if (
              ((i.vm.updateContainerPosition = function (e) {
                var t,
                  i = a.find(".option_container");
                a.find(".selector"), a.find(".label_selected");
                i.css("position", "absolute"),
                  (t = i.height() + 2),
                  i.css("margin-top", -t + "px");
              }),
                e(function () {
                  if (
                    (s.openUp && s.updateContainerPosition(i.type), void 0 !== s)
                  )
                    if (void 0 !== i.init && "" !== i.init)
                      s.selectOptionByValue(i.init);
                    else if (!i.multiselect) {
                      var e = i.vm.optionList ? i.vm.optionList[0] : void 0;
                      s.callback(void 0, e);
                    }
                  if ("div" === i.type) {
                    var t = n.getState("currentDoc"),
                      o = n.getState("currentDivs"),
                      r = o ? o[t] : void 0;
                    r && s.selectOptionByValue(r);
                  }
                }),
                i.$watch(
                  function () {
                    return i.selectedOption;
                  },
                  function (e, t) {
                    t !== e && s.selectOptionByValue(i.selectedOption);
                  },
                  !0
                ),
                "witness-page" === i.type)
            ) {
              var l = i.$parent.vm.witness;
              i.$watch(
                function () {
                  return n.getCurrentWitnessPage(l);
                },
                function (e, t) {
                  t !== e && s.selectOptionByValue(l + "-" + e);
                },
                !0
              );
            }
            "page" === i.type &&
              i.$watch(
                function () {
                  return n.getState("currentPage");
                },
                function (e, t) {
                  t !== e && s.selectOptionByValue(e);
                },
                !0
              ),
              "edition" === i.type &&
              i.$watch(
                function () {
                  return n.getState("currentEdition");
                },
                function (e, t) {
                  t !== e && s.selectOptionByValue(e);
                },
                !0
              ),
              "comparingEdition" === i.type &&
              i.$watch(
                function () {
                  return n.getState("currentComparingEdition");
                },
                function (e, t) {
                  t !== e && s.selectOptionByValue(e);
                },
                !0
              ),
              "source" === i.type &&
              i.$watch(
                function () {
                  return n.getState("currentSource");
                },
                function (e, t) {
                  t !== e && s.selectOptionByValue(e);
                },
                !0
              ),
              "document" === i.type &&
              i.$watch(
                function () {
                  return n.getState("currentDoc");
                },
                function (e, t) {
                  t !== e && s.selectOptionByValue(e);
                },
                !0
              ),
              "div" === i.type &&
              i.$watch(
                function () {
                  var e = n.getState("currentDoc");
                  return n.getState("currentDivs")[e];
                },
                function (e, t) {
                  if (t !== e) {
                    var i = r.getDiv(t),
                      n = r.getDiv(e);
                    i &&
                      n &&
                      ((s.optionList = []),
                        s.formatOptionList(
                          r.getDivs()._indexes.main[n.doc],
                          s.optionList,
                          n.section
                        )),
                      s.selectOptionByValue(e);
                  }
                },
                !0
              ),
              "version" === i.type &&
              "collation" === n.getState("currentViewMode") &&
              i.$watch(
                function () {
                  return n.getState("currentVersion");
                },
                function (e, t) {
                  t !== e && s.selectOptionByValue(e);
                },
                !0
              ),
              "pinned-filter" === i.type &&
              i.$watch(
                function () {
                  return o.getAvailablePinnedTypes();
                },
                function (t, i) {
                  if (i !== t) {
                    s.optionList = s.formatOptionList(t);
                    var n = a.find(".selector");
                    s.optionList.length > 0 ? n.show() : n.hide(),
                      e(function () {
                        var e = s.getOptionSelected();
                        if ("ALL" === e.value || "MULTI" === e.value) {
                          s.callback(e, {
                            value: "ALL",
                            label: "SELECTS.SELECTS_ALL",
                            title: "SELECTS.SELECTS_ALL_TYPES",
                            additionalClass: "doubleBorderTop",
                          });
                        }
                        s.updateContainerPosition(s.type);
                      });
                  }
                },
                !0
              ),
              i.$on("$destroy", function () {
                s && s.destroy();
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<div class=selector ng-class="{\'smaller\': vm.smaller}" data-parent="{{ ::vm.parent }}" ng-show="::vm.optionList.length > 0"> <span class=label_selected title="{{ vm.getOptionSelected().title | translate }}" data-value="{{ vm.getOptionSelected().value }}"> {{ vm.getOptionSelected().label | translate | camelToSpaces | underscoresToSpaces | capitalize }} </span> <div class=open_options ng-click=vm.toggleExpand()> <i class="fa fa-sort-desc"></i> </div> <div class=option_container ng-class="{ \'expanded\':vm.expanded,\n                  \'openUp\': vm.openUp }"> <div ng-repeat="option in vm.optionList" ng-switch=::option.type> <div ng-switch-when=groupTitle class="option groupTitle"> {{ option.label | translate | camelToSpaces | underscoresToSpaces | capitalize }} </div> <div ng-switch-default class="option {{ ::option.additionalClass }}" title="{{option.title | translate | camelToSpaces | underscoresToSpaces | capitalize  }}" data-value="{{::option.value }}" data-wit={{::option.ed}} ng-click="vm.doCallback(vm.optionSelected, option);" ng-class="{\'selected\': vm.isOptionSelected(option)}"> <i class="fa {{::option.icon}} option-icon-label" style=color:{}; ng-if=::option.icon></i> {{ option.label | translate | camelToSpaces | underscoresToSpaces | capitalize }} </div> </div> </div> </div>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.buttonSwitch", []);
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      angular
        .module("evtviewer.buttonSwitch")
        .provider("evtButtonSwitch", function () {
          var t = this.defaults;
          (this.setDefaults = function (e) {
            t = e;
          }),
            (this.$get = [
              "$q",
              "$log",
              "config",
              "baseData",
              "parsedData",
              "evtInterface",
              "evtDialog",
              "evtSelect",
              "evtImageTextLinking",
              "evtSourcesApparatus",
              "evtBox",
              "evtSearch",
              "evtSearchBox",
              "evtSearchResults",
              "evtSearchResult",
              "evtVirtualKeyboard",
              function (i, n, o, r, a, s, l, c, u, d, p, h, f, g, m, v) {
                var b = {},
                  y = {},
                  x = [],
                  w = 0,
                  _ =
                    (n.getInstance("buttonSwitch"),
                      function () {
                        this.active = !this.active;
                      }),
                  A = function (e) {
                    this.active = e;
                  },
                  E = function () {
                    this.disabled = !0;
                  },
                  S = function () {
                    this.disabled = !1;
                  },
                  T = function () {
                    var e = this.uid;
                    delete y[e];
                  };
                return (
                  (b.build = function (n, C) {
                    var k,
                      L = n.id || w++,
                      D = n.type || "default",
                      I = n.title || "",
                      P = n.label || "",
                      O =
                        (function (e) {
                          var t = "";
                          if (!e) return "";
                          switch (e.toLowerCase()) {
                            case "add":
                              t = "icon-evt_add";
                              break;
                            case "bookmark":
                              t = "icon-evt_bookmark";
                              break;
                            case "case-sensitive":
                              t = "icon-evt_case-sensitive";
                              break;
                            case "color-legend":
                              t = "icon-evt_color-legend";
                              break;
                            case "close":
                              t = "icon-evt_close";
                              break;
                            case "download":
                              t = "fa fa-download";
                              break;
                            case "download-xml":
                              t = "fa fa-file-code-o";
                              break;
                            case "exact-word":
                              t = "icon-evt_exact-match";
                              break;
                            case "filter":
                            case "filters":
                              t = "icon-evt_filter";
                              break;
                            case "font-size":
                              t = "icon-evt_font-size";
                              break;
                            case "font-size-minus":
                              t = "icon-evt_font-size-minus-alt";
                              break;
                            case "font-size-plus":
                              t = "icon-evt_font-size-plus-alt";
                              break;
                            case "font-size-reset":
                              t = "icon-evt_font-size-reset-alt";
                              break;
                            case "heatmap":
                              t = "icon-evt_heatmap-alt";
                              break;
                            case "info":
                              t = "icon-evt_info";
                              break;
                            case "info-alt":
                              t = "icon-evt_info-alt";
                              break;
                            case "itl":
                              t = "icon-evt_link";
                              break;
                            case "keyboard":
                              t = "icon-evt_keyboard";
                              break;
                            case "hts":
                              t = "icon-evt_hotspot";
                              break;
                            case "language":
                              t = "fa fa-language";
                              break;
                            case "list":
                              t = "icon-evt_list";
                              break;
                            case "list-alt":
                              t = "fa fa-list-alt";
                              break;
                            case "menu":
                            case "menu-vert":
                              t = "icon-evt_more-vert";
                              break;
                            case "mode-imgtxt":
                              t = "icon-evt_imgtxt";
                              break;
                            case "mode-txttxt":
                              t = "icon-evt_txttxt";
                              break;
                            case "reading-txt":
                              t = "icon-evt_txt";
                              break;
                            case "mode-collation":
                              t = "icon-evt_collation";
                              break;
                            case "mode-srctxt":
                              t = "iconbis-evt_srctxt";
                              break;
                            case "mode-versions":
                              t = "iconbis-evt_versions";
                              break;
                            case "mode-viscoll":
                              t = "iconbis-evt_srctxt";
                              break;
                            case "mode-bookreader":
                              t = "icon-evt_bookreader";
                              break;
                            case "next":
                              t = "icon-evt_next";
                              break;
                            case "pin":
                              t = "icon-evt_pin-alt-on";
                              break;
                            case "pin-off":
                              t = "icon-evt_pin-off";
                              break;
                            case "pin-on":
                              t = "icon-evt_pin-on";
                              break;
                            case "previous":
                              t = "icon-evt_previous";
                              break;
                            case "remove":
                              t = "icon-evt_close";
                              break;
                            case "search":
                              t = "icon-evt_search";
                              break;
                            case "search-advanced":
                              t = "icon-evt_advanced-search";
                              break;
                            case "search-results-hide":
                              t = "icon-evt_search-results-close";
                              break;
                            case "search-results-show":
                              t = "icon-evt_search-results-open";
                              break;
                            case "txt":
                              t = "icon-evt_txt";
                              break;
                            case "v-align":
                              t = "icon-evt_align";
                              break;
                            case "witnesses":
                              t = "icon-evt_books";
                              break;
                            case "zoom-in":
                              t = "icon-evt_zoom-in";
                              break;
                            case "zoom-out":
                              t = "icon-evt_zoom-out";
                              break;
                            case "zoom-reset":
                              t = "icon-evt_zoom-reset";
                              break;
                            case "next-page":
                              t = "fa fa-caret-right";
                              break;
                            case "prev-page":
                              t = "fa fa-caret-left";
                              break;
                            case "first-page":
                              t = "fa fa-step-backward";
                              break;
                            case "last-page":
                              t = "fa fa-step-forward";
                              break;
                            case "hide-bar":
                              t = "fa fa-caret-down";
                              break;
                            case "show-bar":
                              t = "fa fa-caret-up";
                              break;
                            case "thumb-nails":
                              t = "fa fa-th";
                              break;
                            case "viscoll":
                              t = "icon-evt_viscoll";
                              break;
                            case "tdhop":
                            case "mode-tdhop":
                              t = "icon-evt_3dhop";
                          }
                          return t;
                        })(n.icon) || "",
                      M = n.iconPos || "right",
                      N = n.type || "",
                      R = n.value || "",
                      B = n.active || !1,
                      z = n.disabled || !1,
                      $ = n.btnType || "",
                      H = function () {
                        console.log("TODO " + N);
                      },
                      V = function () { };
                    switch (N) {
                      case "addWit":
                        ($ = "standAlone"),
                          (H = function () {
                            s.updateProperty("witnessSelector", !0),
                              (n.vm.active = !1);
                          });
                        break;
                      case "alignReadings":
                        break;
                      case "bookmark":
                        H = function () {
                          s.updateState("secondaryContent", "bookmark"),
                            l.openByType("bookmark"),
                            (this.active = !this.active);
                        };
                        break;
                      case "changeViewMode":
                        ($ = "standAlone"),
                          (H = function () {
                            if (void 0 !== this.value) {
                              if ("srcTxt" === this.value) {
                                var e = s.getState("currentSourceText");
                                s.updateCurrentSourceText(e);
                              }
                              s.updateState("currentViewMode", this.value),
                                s.updateUrl(),
                                "active" === s.getToolState("ITL") &&
                                ("imgTxt" === this.value
                                  ? u.activateITL()
                                  : u.deactivateITL());
                            }
                          });
                        break;
                      case "colorLegend":
                        ($ = "toggler"),
                          (H = function () {
                            var e = n.$parent.vm;
                            if (
                              e.getState("topBoxOpened") &&
                              "colorLegend" === e.getState("topBoxContent")
                            )
                              e.toggleTopBox();
                            else {
                              var t = a.getCriticalEntriesFiltersCollection(),
                                i = "";
                              if (t.length > 0) {
                                for (var o in ((i +=
                                  '<div class="colorLegend">'),
                                  t.filters)) {
                                  var r = t.filters[o],
                                    s = "";
                                  for (var l in r.values) {
                                    var c = r.values[l].name;
                                    s +=
                                      '<span class="colorLegend-filter-value">' +
                                      ('<i class="colorLegend-filter-color" style="background:' +
                                        r.values[l].color +
                                        '"></i>') +
                                      c +
                                      "</span>";
                                  }
                                  "" !== s &&
                                    (i +=
                                      '<span class="colorLegend-filter-name">' +
                                      o +
                                      "</span>" +
                                      s);
                                }
                                i += "</div>";
                              } else i = "<span>No filters available</span>";
                              var u =
                                i ||
                                "<span class=\"errorMsg\">{{ 'MESSAGES.GENERIC_ERROR' | translate }}</span>";
                              e.updateTopBoxContent(u),
                                e.updateState("topBoxContent", "colorLegend"),
                                e.getState("topBoxOpened") || e.toggleTopBox();
                            }
                          }),
                          (V = function () {
                            n.$parent.vm.updateState("topBoxOpened", !1);
                          });
                        break;
                      case "closeDialog":
                        H = function () {
                          l.closeAll(),
                            s.updateState("secondaryContent", ""),
                            (this.active = !this.active);
                        };
                        break;
                      case "closePinned":
                        H = function () {
                          s.toggleState("isPinnedAppBoardOpened");
                        };
                        break;
                      case "download-xml":
                        H = function () {
                          window.open(o.dataUrl, "_blank");
                        };
                        break;
                      case "fontSizeDecrease":
                        ($ = "standAlone"),
                          (H = function () {
                            n.$parent.vm.fontSizeDecrease(),
                              (this.active = !this.active);
                          });
                        break;
                      case "fontSizeIncrease":
                        ($ = "standAlone"),
                          (H = function () {
                            n.$parent.vm.fontSizeIncrease(),
                              (this.active = !this.active);
                          });
                        break;
                      case "fontSizeReset":
                        ($ = "standAlone"),
                          (H = function () {
                            n.$parent.vm.fontSizeReset(),
                              (this.active = !this.active);
                          });
                        break;
                      case "fontSizeTools":
                        (H = function () {
                          var e = n.$parent.vm.getState("fontSizeBtn") || !1;
                          n.$parent.vm.updateState("fontSizeBtn", !e);
                        }),
                          (V = function () {
                            n.$parent.vm.updateState("fontSizeBtn", !1);
                          });
                        break;
                      case "front":
                        ($ = "toggler"),
                          (H = function () {
                            var e = n.$parent.vm;
                            if (
                              e.getState("topBoxOpened") &&
                              "front" === e.getState("topBoxContent")
                            )
                              e.toggleTopBox();
                            else {
                              var t,
                                i = s.getState("currentDoc");
                              if (i) {
                                var o = a.getDocument(i),
                                  r = o ? o.front : void 0;
                                (t =
                                  r && r.parsedContent
                                    ? r.parsedContent
                                    : "<div class=\"warningMsg\">{{ 'MESSAGES.FRONT_NOT_AVAILABLE' | translate }}</div>"),
                                  n.$parent.vm.updateTopBoxContent(t),
                                  n.$parent.vm.toggleTopBox();
                              }
                              var l =
                                t ||
                                "<span class=\"errorMsg\">{{ 'MESSAGES.GENERIC_ERROR' | translate }}</span>";
                              e.updateTopBoxContent(l),
                                e.updateState("topBoxContent", "front"),
                                e.getState("topBoxOpened") || e.toggleTopBox();
                            }
                          }),
                          (V = function () {
                            n.$parent.vm.updateState("topBoxOpened", !1);
                          });
                        break;
                      case "msDesc":
                        ($ = "standAlone"),
                          (H = function () {
                            var e = n.$parent.vm;
                            if (
                              (document
                                .getElementsByClassName("box-top-box")[0]
                                .setAttribute("id", "msDesc"),
                                e.getState("topBoxOpened") &&
                                "msDesc" === e.getState("topBoxContent"))
                            )
                              e.toggleTopBox();
                            else {
                              var t;
                              s.getState("currentDoc") &&
                                ((t = a.getProjectInfo().msDesc
                                  ? a.getProjectInfo().msDesc
                                  : "<div class=\"warningMsg\">{{ 'MESSAGES.FRONT_NOT_AVAILABLE' | translate }}</div>"),
                                  n.$parent.vm.updateTopBoxContent(t),
                                  n.$parent.vm.toggleTopBox());
                              var i =
                                t ||
                                "<span class=\"errorMsg\">{{ 'MESSAGES.GENERIC_ERROR' | translate }}</span>";
                              e.updateTopBoxContent(i),
                                e.updateState("topBoxContent", "msDesc"),
                                e.getState("topBoxOpened") || e.toggleTopBox();
                            }
                          }),
                          (V = function () {
                            n.$parent.vm.updateState("topBoxOpened", !1);
                          });
                        break;
                      case "listObject":
                        ($ = "toggler"),
                          (H = function () {
                            var e = n.$parent.vm;
                            if (
                              (document
                                .getElementsByClassName("box-top-box")[0]
                                .setAttribute("id", "listObject"),
                                e.getState("topBoxOpened") &&
                                "listObject" === e.getState("topBoxContent"))
                            )
                              e.toggleTopBox();
                            else {
                              var t;
                              s.getState("currentDoc") &&
                                ((t = a.getProjectInfo().listObject
                                  ? a.getProjectInfo().listObject
                                  : "<div class=\"warningMsg\">{{ 'MESSAGES.FRONT_NOT_AVAILABLE' | translate }}</div>"),
                                  n.$parent.vm.updateTopBoxContent(t),
                                  n.$parent.vm.toggleTopBox());
                              var i =
                                t ||
                                "<span class=\"errorMsg\">{{ 'MESSAGES.GENERIC_ERROR' | translate }}</span>";
                              e.updateTopBoxContent(i),
                                e.updateState("topBoxContent", "listObject"),
                                e.getState("topBoxOpened") || e.toggleTopBox();
                            }
                          }),
                          (V = function () {
                            n.$parent.vm.updateState("topBoxOpened", !1);
                          });
                        break;
                      case "heatmap":
                        ($ = "standAlone"),
                          (H = function () {
                            var e = n.$parent.vm.getState("heatmap") || !1;
                            n.$parent.vm.updateState("heatmap", !e);
                          });
                        break;
                      case "itl":
                        (B = "active" === s.getToolState("ITL")),
                          ($ = "standAlone"),
                          (H = function () {
                            this.active ? u.turnOnITL() : u.turnOffITL();
                          });
                        break;
                      case "hts":
                        (B = "active" === s.getToolState("HTS")),
                          ($ = "standAlone"),
                          (H = function () {
                            this.active ? u.turnOnHTS() : u.turnOffHTS();
                          });
                        break;
                      case "mainMenu":
                        ($ = "standAlone"),
                          (H = function () {
                            var e = s.getState("mainMenu");
                            s.updateState("mainMenu", !e);
                          });
                        break;
                      case "openEntity":
                        H = function () {
                          this.active = !this.active;
                        };
                        break;
                      case "openGlobalDialogInfo":
                        H = function () {
                          s.updateState("secondaryContent", "globalInfo"),
                            l.openByType("globalInfo"),
                            (this.active = !this.active);
                        };
                        break;
                      case "openGlobalDialogWitnesses":
                        H = function () {
                          s.updateState("secondaryContent", "witnessesList"),
                            l.openByType("witnessesList"),
                            (this.active = !this.active);
                        };
                        break;
                      case "openGlobalDialogLists":
                        H = function () {
                          s.updateState("secondaryContent", "entitiesList"),
                            l.openByType("entitiesList"),
                            (this.active = !this.active);
                        };
                        break;
                      case "openToc":
                        ($ = "standAlone"),
                          (H = function () {
                            s.updateState("secondaryContent", "toc"),
                              l.openByType("toc"),
                              (this.active = !this.active);
                          });
                        break;
                      case "pin":
                      case "pin-on":
                      case "pin-off":
                        H = function () { };
                        break;
                      case "removeWit":
                        H = function () {
                          var e = n.$parent.vm.witness;
                          s.removeWitness(e), s.updateUrl();
                        };
                        break;
                      case "search":
                        H = function () {
                          var e,
                            t = n.$parent.id,
                            i = f.getInputValue(t),
                            o = "";
                          m.setPlaceholder(t, o),
                            f.setSearchedTerm(t, i),
                            (
                              (e = {
                                "": function () {
                                  (o =
                                    "Enter your query in the search box above"),
                                    m.setVisibleRes(t, []),
                                    m.setPlaceholder(t, o);
                                },
                                default: function () {
                                  var e = f.getStatus(t, "searchCaseSensitive"),
                                    n = f.getStatus(t, "searchExactWord"),
                                    o = g.getSearchResults(i, e, n),
                                    r = p.getEditionById(t),
                                    a = g.getCurrentEditionResults(o, r),
                                    s = g.getVisibleResults(a);
                                  m.setCurrentEditionResults(t, a),
                                    m.setVisibleRes(t, s);
                                },
                              })[i] || e.default
                            )(),
                            f.setStatus(t, "searchResultBox", !0),
                            f.hideBtn(t, "searchResultsShow"),
                            f.showBtn(t, "searchResultsHide"),
                            v.unselectCurrentKeyboard(b, t);
                        };
                        break;
                      case "searchIndex":
                        ($ = "standAlone"),
                          (z = (function () {
                            if ("true" === s.getToolState("isDocumentIndexed"))
                              return !0;
                          })()),
                          (B = (function () {
                            if ("true" === s.getToolState("isDocumentIndexed"))
                              return !1;
                          })());
                        var j = function () {
                          var e;
                          ((e = i.defer()),
                            s.updateState("indexingInProgress", !0),
                            setTimeout(function () {
                              e.resolve();
                            }, 100),
                            e.promise).then(function () {
                              var e,
                                t,
                                i = r.getXML();
                              for (var n in (((t =
                                b.getByType("searchIndex")[0]).active = !1),
                                t.disable(),
                                h.initSearch(i),
                                s.setToolStatus("isDocumentIndexed", "true"),
                                (e = b.getByType("searchInternal"))))
                                e[n].disabled = !1;
                              s.updateState("indexingInProgress", !1);
                            });
                        };
                        H = function () {
                          if ("true" !== s.getToolState("isDocumentIndexed"))
                            return j();
                          n.vm.active = !1;
                        };
                        break;
                      case "searchResultsShow":
                        H = function () {
                          var e = n.$parent.id;
                          m.setPlaceholder(
                            e,
                            "Enter your query in the search box above"
                          ),
                            f.updateStatus(e, "searchResultBox"),
                            f.hideBtn(e, "searchResultsShow"),
                            f.showBtn(e, "searchResultsHide"),
                            v.unselectCurrentKeyboard(b, e);
                        };
                        break;
                      case "searchResultsHide":
                        H = function () {
                          var e = n.$parent.id;
                          f.updateStatus(e, "searchResultBox"),
                            f.hideBtn(e, "searchResultsHide"),
                            f.showBtn(e, "searchResultsShow"),
                            v.unselectCurrentKeyboard(b, e);
                        };
                        break;
                      case "searchCaseSensitive":
                        ($ = "standAlone"),
                          (H = function () {
                            var e = n.$parent.id,
                              t = f.getInputValue(e);
                            f.updateStatus(e, "searchCaseSensitive"),
                              g.highlightSearchResults(e, t);
                          });
                        break;
                      case "searchInternal":
                        ($ = "standAlone"),
                          (z = "true" !== s.getToolState("isDocumentIndexed"));
                        H = function () {
                          if ("true" === s.getToolState("isDocumentIndexed"))
                            return (
                              (e = n.$parent.id),
                              (t = p.getState(e, "searchBox")),
                              p.updateState(e, "searchBox", !t),
                              f.closeBox(e, "searchResultBox"),
                              f.showBtn(e, "searchResultsShow"),
                              void f.hideBtn(e, "searchResultsHide")
                            );
                          var e, t;
                          n.vm.active = !1;
                        };
                        break;
                      case "searchAdvanced":
                        ($ = "standAlone"),
                          (H = function () {
                            window.alert("Advanced search coming soon!");
                          });
                        break;
                      case "searchVirtualKeyboard":
                        ($ = "standAlone"),
                          (H = function () {
                            var t = n.$parent.id,
                              i = v.getKeyboardId(t),
                              o = e("#" + i).getkeyboard(),
                              r = b.getByType("searchVirtualKeyboard");
                            if (o.isOpen || !1 === this.active) o.close();
                            else if ((o.reveal(), r.length > 1))
                              for (var a in r)
                                r[a].uid !== this.currentId &&
                                  r[a].setActive(!1);
                          });
                        break;
                      case "searchExactWord":
                        ($ = "standAlone"),
                          (H = function () {
                            var e = n.$parent.id,
                              t = f.getInputValue(e);
                            f.updateStatus(e, "searchExactWord"),
                              g.highlightSearchResults(e, t);
                          });
                        break;
                      case "searchPrevResult":
                      case "searchNextResult":
                        (z = !0), (H = function () { });
                        break;
                      case "searchClear":
                        ($ = "standAlone"),
                          (H = function () {
                            var e,
                              t = n.$parent.id;
                            f.clearInputValue(t),
                              (e = f.getInputValue(t)),
                              g.highlightSearchResults(t, e);
                          });
                        break;
                      case "share":
                        H = function () {
                          alert(window.location);
                        };
                        break;
                      case "toggleInfoWit":
                        ($ = "toggler"),
                          (H = function () {
                            var e =
                              a.getWitness(n.$parent.vm.witness).description ||
                              n.$parent.vm.topBoxContent;
                            n.$parent.vm.updateTopBoxContent(e),
                              n.$parent.vm.toggleTopBox();
                          }),
                          (V = function () {
                            n.$parent.vm.updateState("topBoxOpened", !1);
                          });
                        break;
                      case "toggleFilterApp":
                        V = H = function () {
                          n.$parent.vm.toggleFilterBox();
                        };
                        break;
                      case "togglePinned":
                        ($ = "toggler"),
                          (H = function () {
                            s.toggleState("isPinnedAppBoardOpened");
                          });
                        break;
                      case "witList":
                        ($ = "toggler"),
                          (H = function () {
                            var e = n.$parent.vm;
                            if (
                              e.getState("topBoxOpened") &&
                              "witList" === e.getState("topBoxContent")
                            )
                              e.toggleTopBox();
                            else {
                              var t =
                                a.getWitnessesListFormatted() ||
                                "<span class=\"errorMsg\">{{ 'MESSAGES.GENERIC_ERROR' | translate }}</span>";
                              e.updateTopBoxContent(t),
                                e.updateState("topBoxContent", "witList"),
                                e.getState("topBoxOpened") || e.toggleTopBox();
                            }
                          }),
                          (V = function () {
                            n.$parent.vm.updateState("topBoxOpened", !1);
                          });
                        break;
                      case "toggleInfoSrc":
                        ($ = "toggler"),
                          (H = function () {
                            var e = d.getSource(
                              a.getSource(s.getState("currentSourceText"))
                            );
                            if (e) {
                              var t = e.bibl || n.$parent.vm.topBoxContent;
                              n.$parent.vm.updateTopBoxContent(t),
                                n.$parent.vm.toggleTopBox();
                            }
                          }),
                          (V = function () {
                            n.$parent.vm.updateState("topBoxOpened", !1);
                          });
                        break;
                      case "addVer":
                        ($ = "standAlone"),
                          (H = function () {
                            s.updateProperty("versionSelector", !0),
                              (n.vm.active = !1);
                          });
                        break;
                      case "removeVer":
                        H = function () {
                          var e = n.$parent.vm.version;
                          s.removeVersion(e);
                        };
                        break;
                      case "cropText":
                        ($ = "toggler"),
                          (H = function () {
                            return n.$parent.vm;
                          });
                        break;
                      case "prevPage":
                      case "nextPage":
                      case "firstPage":
                      case "lastPage":
                        (H = function () {
                          (this.active = !1),
                            "prevPage" === N
                              ? s.goToPrevPage()
                              : "nextPage" === N
                                ? s.goToNextPage()
                                : "firstPage" === N
                                  ? s.goToFirstPage()
                                  : "lastPage" === N && s.goToLastPage();
                        }),
                          "prevPage" === N || "firstPage" === N
                            ? (z = s.isCurrentPageFirst())
                            : ("nextPage" !== N && "lastPage" !== N) ||
                            (z = s.isCurrentPageLast());
                        break;
                      case "hideBar":
                        H = function () {
                          var e = s.getState("isNavBarOpened");
                          s.updateState("isNavBarOpened", !e),
                            (this.active = !this.active);
                        };
                        break;
                      case "thumbNails":
                        ($ = "toggler"),
                          (H = function () {
                            s.updateState("isVisCollOpened", !1);
                            var e = b.getByType("visColl");
                            e &&
                              e.forEach(function (e) {
                                e.setActive(!1);
                              });
                            var t = s.getState("isThumbNailsOpened");
                            s.updateState("isThumbNailsOpened", !t);
                          });
                        break;
                      case "visColl":
                        ($ = "toggler"),
                          (H = function () {
                            s.updateState("isThumbNailsOpened", !1);
                            var e = b.getByType("thumbNails");
                            e &&
                              e.forEach(function (e) {
                                e.setActive(!1);
                              });
                            var t = s.getState("isVisCollOpened");
                            s.updateState("isVisCollOpened", !t);
                          });
                    }
                    return (
                      (k = {
                        uid: L,
                        defaults: angular.copy(t),
                        currentId: L,
                        currentType: D,
                        title: I,
                        label: P,
                        icon: O,
                        iconPos: M,
                        type: N,
                        value: R,
                        active: B,
                        disabled: z,
                        btnType: $,
                        callback: H,
                        onBtnClicked: n.onBtnClicked,
                        doCallback: function () {
                          var e = this;
                          (e.disabled && "false" !== e.disabled) ||
                            (b.unselectAllSkipByBtnType(e.uid, "standAlone"),
                              c.closeAll(),
                              e.toggleActive(),
                              e.callback && e.callback(),
                              e.onBtnClicked && e.onBtnClicked());
                        },
                        fakeCallback: V,
                        toggleActive: _,
                        setActive: A,
                        disable: E,
                        enable: S,
                        destroy: T,
                      }),
                      (y[L] = angular.extend(C, k)),
                      x.push({ id: L, type: D }),
                      y[L]
                    );
                  }),
                  (b.getById = function (e) {
                    if ("undefined" !== y[e]) return y[e];
                  }),
                  (b.getList = function () {
                    return x;
                  }),
                  (b.getByType = function (e) {
                    var t = [];
                    for (var i in y) y[i].type === e && t.push(y[i]);
                    return t;
                  }),
                  (b.unselectAll = function () {
                    angular.forEach(y, function (e) {
                      e.setActive(!1);
                    });
                  }),
                  (b.unselectAllSkipByBtnType = function (e, t) {
                    angular.forEach(y, function (i) {
                      i.uid !== e &&
                        t.indexOf(i.btnType) < 0 &&
                        (i.active && i.fakeCallback(), i.setActive(!1));
                    });
                  }),
                  (b.selectById = function (e) {
                    "undefined" !== y[e] && y[e].setActive(!0);
                  }),
                  (b.destroy = function (e) {
                    delete y[e];
                  }),
                  b
                );
              },
            ]);
        });
    }.call(this, i(0)));
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.buttonSwitch").directive("buttonSwitch", [
      "$rootScope",
      "evtButtonSwitch",
      "evtInterface",
      function (e, t, n) {
        return {
          restrict: "E",
          scope: {
            title: "@",
            label: "@",
            icon: "@",
            type: "@",
            value: "@",
            iconPos: "@",
            disabled: "@",
            onBtnClicked: "&",
          },
          template: i(238),
          link: function (i, o) {
            i.vm = {};
            var r,
              a = t.build(i, i.vm);
            i.$watch(
              function () {
                return i.disabled;
              },
              function (e, t) {
                e !== t && (i.vm.disabled = e);
              }
            ),
              "addWit" === i.type &&
              (0 === n.getProperty("availableWitnesses").length &&
                ((i.vm.disabled = !0),
                  (i.vm.title = "BUTTONS.NO_WITNESSES_AVAILABLE")),
                i.$watch(
                  function () {
                    return n.getProperty("availableWitnesses");
                  },
                  function (e, t) {
                    e !== t &&
                      (0 === e.length
                        ? ((i.vm.disabled = !0),
                          (i.vm.title = "BUTTONS.NO_WITNESSES_AVAILABLE"))
                        : ((i.vm.disabled = !1),
                          (i.vm.title = "BUTTONS.ADD_WITNESS")));
                  },
                  !0
                )),
              "addVer" === i.type &&
              (0 === n.getProperty("availableVersions").length &&
                ((i.vm.disabled = !0),
                  (i.vm.title = "BUTTONS.NO_VERSION_AVAILABLE")),
                i.$watch(
                  function () {
                    return n.getProperty("availableVersions");
                  },
                  function (e, t) {
                    e !== t &&
                      (0 === e.length
                        ? ((i.vm.disabled = !0),
                          (i.vm.title = "BUTTONS.NO_VERSION_AVAILABLE"))
                        : ((i.vm.disabled = !1),
                          (i.vm.title = "BUTTONS.ADD_VERSION")));
                  },
                  !0
                )),
              "changeViewMode" === i.type &&
              i.$watch(
                function () {
                  return n.getState("currentViewMode");
                },
                function (e, t) {
                  e === i.vm.value ? (i.vm.active = !0) : (i.vm.active = !1);
                },
                !0
              ),
              "search" === i.type &&
              ((r = i.$parent.id),
                e.$broadcast("searchBtn", { parentId: r, btn: a })),
              "searchVirtualKeyboard" === i.type &&
              ((r = i.$parent.id),
                e.$broadcast("keyboardBtn", { parentId: r, btn: a })),
              ("prevPage" !== i.type && "firstPage" !== i.type) ||
              i.$watch(
                function () {
                  return n.isCurrentPageFirst();
                },
                function (e, t) {
                  e !== t && (i.vm.disabled = e);
                },
                !0
              ),
              ("nextPage" !== i.type && "lastPage" !== i.type) ||
              i.$watch(
                function () {
                  return n.isCurrentPageLast();
                },
                function (e, t) {
                  e !== t && (i.vm.disabled = e);
                },
                !0
              ),
              i.$on("$destroy", function () {
                a && a.destroy();
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      "<span class=buttonSwitch title=\"{{vm.title | translate}}\" ng-click=vm.doCallback() ng-class=\"{'buttonSwitch-active': vm.active,\n                'buttonSwitch-disabled': vm.disabled === true,\n                'only-icon': vm.label === undefined || vm.label === '',\n                'only-text': vm.icon === undefined || vm.icon === '',\n                'iconLeft': vm.iconPos && vm.iconPos === 'left' }\"> <i ng-if=\":: vm.iconPos && vm.iconPos === 'left'\" class=\"icon {{ vm.icon }} buttonSwitch-icon\"></i> <span class=buttonSwitch-label ng-if=\"::vm.label !== undefined && vm.label !== ''\">{{ vm.label | translate}}</span> <i ng-if=\":: !vm.iconPos || vm.iconPos === 'right'\" class=\"icon {{ vm.icon }} buttonSwitch-icon\"></i> </span>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.popover", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.popover")
      .constant("POPOVERDEFAULTS", {
        expanded: !1,
        tooltipOver: !1,
        tooltipMaxHeight: 170,
        tooltipMaxWidth: 200,
        openTriggerEvent: "click",
      })
      .config([
        "evtPopoverProvider",
        "configProvider",
        "POPOVERDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("popover", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.popover").provider("evtPopover", function () {
      var e = this.defaults;
      (this.setDefaults = function (t) {
        e = t;
      }),
        (this.$get = function () {
          var t = {},
            i = {},
            n = [],
            o = 0;
          return (
            (t.build = function (t, r, a) {
              var s,
                l = o++,
                c = t || "",
                u = r || "";
              if (void 0 === i[l])
                return (
                  (s = {
                    uid: l,
                    trigger: c,
                    tooltip: u,
                    expanded: angular.copy(e.expanded),
                    tooltipOver: angular.copy(e.tooltipOver),
                    defaults: angular.copy(e),
                  }),
                  (i[l] = angular.extend(a, s)),
                  n.push({ id: l }),
                  i[l]
                );
            }),
            (t.getById = function (e) {
              if ("undefined" !== i[e]) return i[e];
            }),
            (t.getList = function () {
              return n;
            }),
            (t.expandById = function (e, n) {
              "undefined" !== i[e] && (i[e].expand(), n && t.closeAll(e));
            }),
            (t.closeAll = function (e) {
              angular.forEach(i, function (t, i) {
                (void 0 === e || i !== e.toString()) && t.collapse();
              });
            }),
            (t.mouseOutAll = function (e) {
              angular.forEach(i, function (t, i) {
                i !== e.toString() && t.mouseOut();
              });
            }),
            (t.getIdTooltipOvered = function () {
              var e = -1;
              return (
                angular.forEach(i, function (t) {
                  t.tooltipOver && (e = t.uid);
                }),
                e
              );
            }),
            (t.destroy = function (e) {
              delete i[e];
            }),
            t
          );
        });
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.popover").controller("PopoverCtrl", [
      "$log",
      "$scope",
      "evtPopover",
      function (e, t, i) {
        var n = this;
        n.parentRef = ".box-body";
        e.getInstance("popover");
        (this.expand = function () {
          n.expanded = !0;
        }),
          (this.collapse = function () {
            n.expanded = !1;
          }),
          (this.mouseOver = function () {
            n.over = !0;
          }),
          (this.mouseOut = function () {
            n.over = !1;
          }),
          (this.tooltipMouseOver = function () {
            n.tooltipOver = !0;
          }),
          (this.tooltipMouseOut = function () {
            n.tooltipOver = !1;
          }),
          (this.toggleExpand = function (e) {
            e || i.closeAll(n.uid), (n.expanded = !n.expanded);
          }),
          (this.toggleOver = function (e) {
            e || i.mouseOutAll(n.uid), (n.over = !n.over);
          }),
          (this.toggleTooltipOver = function () {
            n.tooltipOver = !n.tooltipOver;
          }),
          (this.destroy = function () {
            var e = n.uid;
            i.destroy(e);
          }),
          (this.toggleMouseHover = function () { }),
          (this.toggleTooltipHover = function () { }),
          (this.triggerClick = function () { }),
          (this.resizeTooltip = function () { });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.popover").directive("evtPopover", [
      "evtPopover",
      function (e) {
        return {
          restrict: "E",
          scope: { trigger: "@", tooltip: "@", parentRef: "@" },
          transclude: !0,
          template: i(244),
          controllerAs: "vm",
          controller: "PopoverCtrl",
          link: function (t, i) {
            (t.vm.toggleTooltipHover = function (e, t) {
              e.stopPropagation(), t.toggleTooltipOver();
            }),
              (t.vm.toggleMouseHover = function (i, n) {
                i.stopPropagation(),
                  "over" !== n.trigger ||
                  n.over ||
                  n.expanded ||
                  t.vm.resizeTooltip(i, n.defaults);
                var o = e.getIdTooltipOvered();
                (o < 0 || o === n.uid) && n.toggleOver();
              }),
              (t.vm.triggerClick = function (t, i) {
                t.stopPropagation(),
                  "over" === i.trigger ||
                  i.expanded ||
                  i.resizeTooltip(t, i.defaults);
                var n = e.getIdTooltipOvered();
                (n < 0 || n === i.uid) && i.toggleExpand();
              }),
              (t.vm.resizeTooltip = function (e, n) {
                e.stopPropagation();
                var o = t.vm.parentRef;
                void 0 !== t.parentRef && (o = t.parentRef);
                var r = i,
                  a = angular.element(i).find("span.popover_tooltip").last(),
                  s = angular.element(a).find(".popover__tooltip__before"),
                  l = e.clientX,
                  c = e.clientY;
                a.removeAttr("style");
                var u = r.height(),
                  d = 1 * r.css("font-size").substr(0, 2) + 1,
                  p = (r.width(), r.position().top),
                  h = (r.position().left, a.offset().top, a.outerWidth()),
                  f = a.outerHeight();
                h > n.tooltipMaxWidth &&
                  a.css({
                    width: n.tooltipMaxWidth + "px",
                    "max-width": n.tooltipMaxWidth + "px",
                  }),
                  a.css({ position: "absolute" }),
                  (h = a.outerWidth()),
                  (f = a.outerHeight()),
                  0 === i.parents(o).length &&
                  void 0 === t.parentRef &&
                  (o = i.parent());
                var g,
                  m,
                  v = i.parents(o).offset().left,
                  b = i.parents(o).innerWidth(),
                  y = l - v - h / 2;
                a.css({ left: y + "px" }),
                  y + h > b &&
                  ((y = y - (g = y + h - b) - 20), a.css({ left: y + "px" })),
                  y < 0 && ((y = 0), a.css({ left: y + "px" })),
                  p + u + f > i.parents(o).outerHeight()
                    ? ((m = f + u + 10),
                      u > d && (m = m - (c - r.offset().top) + 10),
                      a.css({ "margin-top": -m + "px" }).addClass("open-up"),
                      s.css({ top: a.outerHeight() + 2 + "px" }))
                    : (a.removeClass("open-up"),
                      u > d
                        ? ((g = u - d - (c - r.offset().top)),
                          a.css({ "margin-top": -g + "px" }))
                        : a.css({ "margin-top": "5px" }));
                var x = l - y - v - 20;
                (x = x < 0 ? 0 : x),
                  s.css({ left: x + "px" }),
                  (h = a.width()) > n.tooltipMaxWidth &&
                  a.css({
                    width: n.tooltipMaxWidth + "px",
                    "max-width": n.tooltipMaxWidth + "px",
                  });
              });
            var n = e.build(t.trigger, t.tooltip, t.vm);
            t.$on("$destroy", function () {
              n && n.destroy();
            });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<span class=popover> <span class=popover_trigger ng-mouseover="vm.toggleMouseHover($event, vm)" ng-mouseout="vm.toggleMouseHover($event, vm)" ng-click="vm.triggerClick($event, vm);" ng-class="{\'expanded\':vm.expanded, \n                   \'active\': vm.over,\n                   \'blurred\': $parent.vm.state.topBoxOpened}"> <span ng-transclude></span> </span> <span class=popover_tooltip ng-class="{\'expanded\':vm.expanded || (vm.trigger===\'over\' && vm.over)}" ng-mouseover="vm.toggleTooltipHover($event, vm)" ng-mouseout="vm.toggleTooltipHover($event, vm)"> <span class=popover__tooltip__before ng-mouseover="vm.toggleTooltipHover($event, vm)" ng-mouseout="vm.toggleTooltipHover($event, vm)"></span> <span compile=::vm.tooltip></span> </span> </span>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.list", []);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.list").provider("evtList", function () {
      this.defaults;
      this.setDefaults = function (e) {
        e;
      };
      this.$get = [
        "parsedData",
        "evtInterface",
        function (e, t) {
          var i = {},
            n = [],
            o = function () {
              var e = this.uid;
              delete i[e];
            },
            r = function () {
              for (
                var e = this, t = e.visibleElements.length, i = 0;
                i < 10 && i < e.elementsInListKey.length;

              ) {
                var n = e.elementsInListKey[t + i];
                n &&
                  e.visibleElements.indexOf(n) < 0 &&
                  e.visibleElements.push(n),
                  i++;
              }
            },
            a = function (t, i) {
              var n = [];
              return (
                i &&
                (n = (n = e.getNamedEntitiesCollectionByNameAndPos(t, i))
                  ? n._indexes
                  : []),
                n
              );
            },
            s = function (e) {
              var t = this;
              (t.selectedLetter = e),
                (t.elementsInListKey = a(t.uid, e)),
                (t.visibleElements = t.elementsInListKey
                  ? t.elementsInListKey.slice(0, 40)
                  : []);
            };
          return (
            (n.build = function (l, c) {
              var u,
                d = l,
                p = c.listType || "generic";
              if (void 0 === i[d]) {
                var h,
                  f = t.getState("currentNamedEntity"),
                  g = f ? e.getNamedEntity(f) : void 0,
                  m = e.getNamedEntitiesCollectionByName(d);
                h =
                  g && p === e.getNamedEntityType(f)
                    ? g._listPos || void 0
                    : m
                      ? m._listKeys[0]
                      : void 0;
                var v = a(d, h),
                  b =
                    g && p === e.getNamedEntityType(f) ? v.indexOf(f) : void 0,
                  y = b ? b + 10 : 41,
                  x = v ? v.slice(0, y) : [];
                return (
                  (u = {
                    uid: d,
                    listType: p,
                    listKeys: m ? m._listKeys : [],
                    elements: m ? m._indexes : [],
                    elementsInListKey: v,
                    visibleElements: x,
                    selectedLetter: h,
                    loadMoreElements: r,
                    selectLetter: s,
                    destroy: o,
                  }),
                  (i[d] = angular.extend(c.vm, u)),
                  n.push({ id: d }),
                  i[d]
                );
              }
            }),
            (n.destroy = function (e) {
              delete i[e];
            }),
            (n.scrollToElemById = function (e, t) {
              angular.forEach(n, function (n) {
                n.id === e && i[e].scrollToElement(t);
              });
            }),
            n
          );
        },
      ];
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.list").directive("evtList", [
      "evtList",
      "evtInterface",
      function (e, t) {
        return {
          restrict: "E",
          scope: { listId: "@", listType: "@" },
          transclude: !0,
          template: i(248),
          link: function (i, n, o) {
            i.vm = { listId: i.listId, listType: i.listType };
            var r = e.build(i.listId, i);
            (i.vm.scrollToElement = function (e) {
              var t = angular.element(n).find(".scrollableDiv")[0],
                i = angular.element(t).find('[data-entity-id="' + e + '"]');
              i.length > 0 && i[0] && (t.scrollTop = i[0].offsetTop),
                console.log(t.scrollTop);
            }),
              i.$watch(
                function () {
                  return t.getState("currentNamedEntity");
                },
                function (e, t) {
                  e !== t && r.selectLetter(e.charAt(0));
                }
              ),
              i.$on("$destroy", function () {
                r && r.destroy();
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<div class=evt-list> <div ng-if="vm.elements.length > 0"> <div class=evt-list__listLetters> <span class=evt-list__listLetters__letter ng-class="{\'active\': letter === vm.selectedLetter }" ng-repeat="letter in ::vm.listKeys | orderBy track by $index" ng-click=vm.selectLetter(letter)> {{ ::letter }} </span> </div> <div class=evt-list__content> <div class=scrollableDiv infinite-scroll=vm.loadMoreElements() infinite-scroll-distance=2 infinite-scroll-parent=true> <evt-named-entity data-entity-id={{::element}} data-entity-type={{::vm.listType}} ng-repeat="element in vm.visibleElements | orderBy "> </evt-named-entity> </div> </div> </div> <div ng-if="vm.elements.length <= 0"> {{ \'LISTS.NO_ELEMENTS\' | translate }} </div> </div>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.namedEntity", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.namedEntity")
      .constant("NAMEDENTITYDEFAULTS", {
        allowedTabs: ["moreInfo", "occurrences", "map"],
      })
      .config([
        "evtNamedEntityProvider",
        "configProvider",
        "NAMEDENTITYDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("namedEntity", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.namedEntity")
      .provider("evtNamedEntity", function () {
        var e = this.defaults;
        (this.setDefaults = function (t) {
          e = t;
        }),
          (this.$get = [
            "$timeout",
            "config",
            "parsedData",
            "evtNamedEntitiesParser",
            "evtInterface",
            "evtNamedEntityRef",
            "evtPinnedElements",
            "evtDialog",
            "evtList",
            function (t, i, n, o, r, a, s, l, c) {
              var u = {},
                d = {},
                p = [],
                h = 0,
                f = function () {
                  return n.getNamedEntity(this.entityId).output;
                },
                g = function () {
                  var e = this;
                  "mainText" !== e.location &&
                    (e.toggleSubContent(e._firstSubContentOpened),
                      (e.opened = !e.opened),
                      e.toggleState());
                },
                m = function () {
                  var e = this;
                  e.occurrences ||
                    (e.occurrences = u.getOccurrences(e.entityId)),
                    (e.occurrencesOpened = !e.occurrencesOpened),
                    e.toggleSection("occurrencesOpened");
                },
                v = function () {
                  (this.moreInfoOpened = !this.moreInfoOpened),
                    this.toggleSection("moreInfoOpened");
                },
                b = function (e) {
                  var i = this;
                  r.updateState("currentPage", e.pageId),
                    r.updateState("currentDoc", e.docId),
                    r.updateUrl(),
                    "entitiesList" === r.getState("secondaryContent") &&
                    r.updateState("secondaryContent", ""),
                    t(function () {
                      a.highlightByEntityId(i.entityId);
                    }, 500);
                },
                y = function (e) {
                  var t = this;
                  "occurrences" !== e ||
                    t.occurrences ||
                    (t.occurrences = u.getOccurrences(t.entityId)),
                    t._subContentOpened !== e
                      ? (t._subContentOpened = e)
                      : (t._subContentOpened = ""),
                    t.toggleSubContentClass();
                },
                x = function () {
                  return i.toolPinAppEntries;
                },
                w = function () {
                  return s.isPinned(this.entityId);
                },
                _ = function () {
                  return this.isPinned() ? "pin-on" : "pin-off";
                },
                A = function () {
                  var e = this;
                  if (e.isPinned())
                    s.removeElement({
                      id: e.entityId,
                      type: "namedEntity_" + e.entityType,
                    });
                  else {
                    s.addElement({
                      id: e.entityId,
                      type: "namedEntity_" + e.entityType,
                    });
                    var t = s.getPinned();
                    t &&
                      1 === t.length &&
                      r.updateState("isPinnedAppBoardOpened", !0);
                  }
                },
                E = function () {
                  var e = this;
                  r.updateState("secondaryContent", "toc"), l.openByType("toc");
                  var t = n.getNamedEntities()[e.entityId].collectionId;
                  r.updateProperty(
                    "tabsContainerOpenedContent",
                    "entitiesLists"
                  ),
                    r.updateProperty("tabsContainerOpenedTab", t),
                    r.updateState("currentNamedEntity", e.entityId),
                    setTimeout(function () {
                      c.scrollToElemById(t, e.entityId);
                    }, 1e3);
                },
                S = function (e) {
                  var t = r.getState("currentDoc"),
                    i = r.getState("currentPage");
                  return t === e.docId && i === e.pageId;
                };
              return (
                (u.build = function (t, i) {
                  var o,
                    r = h++,
                    a = t || void 0,
                    s = i.entityType || n.getNamedEntityType(a) || "generic",
                    l = i.location || "list";
                  if (void 0 === d[r]) {
                    var c,
                      u = n.getNamedEntity(a),
                      T = !0,
                      C = n.getNamedEntityTypeIcon(s);
                    switch (
                    ((T =
                      void 0 !== u &&
                      void 0 !== u.notes &&
                      u.notes.length > 0),
                      s)
                    ) {
                      case "place":
                      case "placeName":
                      case "person":
                      case "pers":
                      case "persName":
                        break;
                      case "org":
                      case "orgName":
                        T = T || (void 0 !== u && void 0 !== u.desc);
                        break;
                      default:
                        T = T || (void 0 !== u && void 0 !== u.details);
                    }
                    u && u.occurrences && (c = u.occurrences);
                    var k = { _indexes: [] };
                    e.allowedTabs.indexOf("moreInfo") >= 0 &&
                      (k._indexes.push("moreInfo"),
                        (k.moreInfo = { label: "NAMED_ENTITIES.MORE_INFO" })),
                      "relation" !== s &&
                      (k._indexes.push("occurrences"),
                        (k.occurrences = {
                          label: "NAMED_ENTITIES.OCCURRENCES",
                        }));
                    var L = { zoom: 8 },
                      D = { focus: !0, draggable: !1 };
                    if (
                      e.allowedTabs.indexOf("map") >= 0 &&
                      ("place" === s || "placeName" === s) &&
                      u.map
                    ) {
                      k._indexes.push("map"),
                        (k.map = { label: "NAMED_ENTITIES.MAP" });
                      var I = parseFloat(u.map.lat),
                        P = parseFloat(u.map.lng);
                      (L.lat = I), (L.lng = P), (D.lat = I), (D.lng = P);
                    }
                    return (
                      e.allowedTabs.indexOf("xmlSource") >= 0 &&
                      (k._indexes.push("xmlSource"),
                        (k.xmlSource = { label: "NAMED_ENTITIES.XML" })),
                      (o = {
                        uid: r,
                        entityId: a,
                        entityType: s,
                        entityTypeIcon: C,
                        location: l,
                        entity: u || {},
                        occurrences: c,
                        opened: !1,
                        moreInfoOpened: T,
                        occurrencesOpened: !1,
                        noMoreInfo: !T,
                        _firstSubContentOpened:
                          k && k._indexes && k._indexes.length > 0
                            ? k._indexes[0]
                            : "",
                        _subContentOpened: "",
                        over: !1,
                        tabs: k,
                        defaults: angular.copy(e),
                        getElementContent: f,
                        toggle: g,
                        toggleMoreInfo: v,
                        toggleOccurrences: m,
                        goToOccurrence: b,
                        toggleSubContent: y,
                        isCurrentPageDoc: S,
                        isPinAvailable: x,
                        isPinned: w,
                        getPinnedState: _,
                        togglePin: A,
                        openEntity: E,
                        lfCenter: L,
                        lfDefaults: {
                          tileLayer:
                            "http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",
                          tileLayerOptions: {
                            opacity: 0.9,
                            detectRetina: !0,
                            reuseTiles: !0,
                          },
                        },
                        lfMarkers: { mainMarker: D },
                      }),
                      (d[r] = angular.extend(i.vm, o)),
                      p.push({ id: r, entityId: a }),
                      d[r]
                    );
                  }
                }),
                (u.getOccurrences = function (e) {
                  for (
                    var t = n.getDocuments(),
                    i = t._indexes || [],
                    r = [],
                    a = 0;
                    a < i.length;
                    a++
                  ) {
                    var s = t[i[a]],
                      l = o.parseEntitiesOccurrences(s, e);
                    r = r.concat(l);
                  }
                  return r;
                }),
                (u.getById = function (e) {
                  var t;
                  return (
                    angular.forEach(d, function (i) {
                      i.entityId === e && (t = i);
                    }),
                    t
                  );
                }),
                (u.getList = function () {
                  return p;
                }),
                (u.getPinned = function () {
                  return s.getPinnedByType("namedEntity");
                }),
                (u.destroy = function (e) {
                  delete d[e];
                }),
                u
              );
            },
          ]);
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.namedEntity").directive("evtNamedEntity", [
      "evtNamedEntity",
      function (e) {
        return {
          restrict: "E",
          scope: { entityId: "@", entityType: "@", location: "@" },
          transclude: !0,
          template: i(253),
          link: function (t, i, n) {
            t.vm = {
              entityId: t.entityId,
              entityType: t.entityType,
              location: t.location,
            };
            e.build(t.entityId, t);
            var o = i.find(".namedEntity"),
              r = i.find(".namedEntity__details");
            (t.vm.toggleState = function () {
              t.vm.opened ? o.addClass("opened") : o.removeClass("opened");
            }),
              (t.vm.toggleSection = function (e) {
                t.vm[e] ? r.addClass(e) : r.removeClass(e);
              });
            var a = i.find(".namedEntity__details-headers"),
              s = i.find(".namedEntity__details-panels");
            (t.vm.toggleSubContentClass = function () {
              var e = t.vm._subContentOpened;
              (i
                .find(".namedEntity__details-header.active")
                .removeClass("active"),
                "" !== e)
                ? (i
                  .find(".namedEntity__details-header-" + e)
                  .addClass("active"),
                  a.removeClass("closed"),
                  s.removeClass("closed"))
                : (a.addClass("closed"), s.addClass("closed"));
            }),
              t.$on("$destroy", function () {
                t.vm.uid && e.destroy(t.vm.uid);
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<span class="namedEntity namedEntity-{{ ::vm.entityType }} location-{{::vm.location}}" ng-class="::{\'opened\': vm.location === \'mainText\'}"> <span class=namedEntity__header> <div class=namedEntity_tools ng-if=::vm.isPinAvailable()> <button-switch ng-if="vm.location !== \'list\'" title=BUTTONS.OPEN_LIST data-label="" data-icon=list data-type=openEntity ng-click=vm.openEntity()></button-switch> <button-switch title=BUTTONS.PIN_REMOVE ng-if="::vm.isPinAvailable() && vm.location === \'pinned\'" data-label="" data-icon=remove data-type=pin-off ng-click=vm.togglePin()></button-switch> <button-switch title=BUTTONS.PIN_TOGGLE ng-if="::vm.isPinAvailable() && vm.location !== \'pinned\'" data-label="" data-icon=pin data-type=pin ng-class="{\'active\' : vm.isPinned()}" ng-click=vm.togglePin()></button-switch> </div> <div ng-click=vm.toggle()> <i class="fa opener" ng-if="::vm.location !== \'mainText\'"></i> <i class="fa namedEntity__icon {{::vm.entityTypeIcon}}" ng-if="::vm.location === \'mainText\'"></i> <span compile=::vm.entity.label></span> </div> </span> <span class=namedEntity__details> <div class="namedEntity__details-headers closed"> <span ng-repeat="tab in ::vm.tabs._indexes track by $index" ng-click=vm.toggleSubContent(tab) class="namedEntity__details-header namedEntity__details-header-{{::tab}}"> {{ vm.tabs[tab].label | translate }} </span> </div> <div class="namedEntity__details-panels closed" ng-class="{\'largeMap\': vm.location === \'list\' && (vm._subContentOpened === \'map\' || vm._subContentOpened === \'occurrences\')}"> <div class=namedEntity__details-panel ng-switch=vm._subContentOpened> <div ng-switch-when=moreInfo> <span ng-if="::vm.entity.content && vm.entity.content._indexes.length > 0" ng-repeat="contentName in ::vm.entity.content._indexes"> <span class=namedEntity__detail ng-if="::vm.entity.content[contentName].length > 0"> <span ng-switch=contentName> <i ng-switch-when=idno class="fa fa-barcode namedEntity__detail-icon"></i> <i ng-switch-when=note class="fa fa-sticky-note namedEntity__detail-icon"></i> <i ng-switch-when=occupation class="fa fa-briefcase namedEntity__detail-icon"></i> <i ng-switch-when=persName class="fa fa-user namedEntity__detail-icon"></i> <i ng-switch-when=sex class="fa fa-venus-mars namedEntity__detail-icon"></i> <i ng-switch-when=birth class="fa fa-birthday-cake namedEntity__detail-icon"></i> <i ng-switch-when=death class="fa fa-times fa-rotate-45 namedEntity__detail-icon"></i> <i ng-switch-when=residence class="fa fa-home namedEntity__detail-icon"></i> <i ng-switch-when=orgName class="fa fa-users namedEntity__detail-icon"></i> <i ng-switch-when=geoName class="fa fa-map-marker namedEntity__detail-icon"></i> <i ng-switch-when=geogFeat class="fa fa-map-marker namedEntity__detail-icon"></i> <i ng-switch-when=district class="fa fa-map-marker namedEntity__detail-icon"></i> <i ng-switch-when=settlement class="fa fa-location-arrow namedEntity__detail-icon"></i> <i ng-switch-when=region class="fa fa-map-marker namedEntity__detail-icon"></i> <i ng-switch-when=country class="fa fa-map-marker namedEntity__detail-icon"></i> <i ng-switch-when=bloc class="fa fa-map-marker namedEntity__detail-icon"></i> <i ng-switch-when=relations class="fa fa-share-alt namedEntity__detail-icon"></i> <i ng-switch-when=actors class="fa fa-users namedEntity__detail-icon"></i> <i ng-switch-default class="fa fa-info-circle namedEntity__detail-icon"></i> </span> <span class=namedEntity__detail-text ng-repeat="contentObj in ::vm.entity.content[contentName] track by $index"> <span class=namedEntity__detail-text-attributes> <span class=namedEntity__detail-text-attribute ng-repeat="attribute in ::contentObj.attributes._indexes track by $index">{{::contentObj.attributes[attribute] | translate | camelToSpaces | underscoresToSpaces }}</span> </span> <span class=namedEntity__detail-text-content compile=::contentObj.text></span> </span> </span> </span> <span ng-if="::vm.entity.content._indexes.length <= 0"> {{ \'MESSAGES.NO_MORE_INFO_AVAILABLE\' | translate }} </span> </div> <div ng-switch-when=occurrences> <span ng-if="::vm.occurrences && vm.occurrences.length > 0" class=namedEntity__occurrences-occurrence ng-class="{\'active\': vm.isCurrentPageDoc(occurrence) } " ng-repeat="occurrence in ::vm.occurrences track by $index" ng-click=vm.goToOccurrence(occurrence)> {{ \'LISTS.OCCURRENCE\' | translate:occurrence }} </span> <span class=italic ng-if="::vm.occurrences && vm.occurrences.length <= 0"> {{ \'MESSAGES.NO_RESULT_FOUND\' | translate }} </span> <span class=italic ng-if=::!vm.occurrences> {{ \'MESSAGES.LOADING_OCCURRENCES\' | translate }} </span> </div> <div ng-switch-when=xmlSource> <pre ng-if=::vm.entity._xmlSource>{{ ::vm.entity._xmlSource | newLinesToSpaces | normalizeMultispaces | prettyXml}}</pre> <span ng-if=::!vm.entity._xmlSource>{{ \'MESSAGES.NO_XML_SOURCE\' | translate }}</span> </div> <div ng-switch-when=map> <leaflet width=100% height=300px lf-center=vm.lfCenter defaults=vm.lfDefaults markers=vm.lfMarkers></leaflet> </div> </div> </div>  </span> </span>';
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.namedEntity")
      .provider("evtNamedEntityRef", function () {
        var e = this.defaults;
        (this.setDefaults = function (t) {
          e = t;
        }),
          (this.$get = [
            "$timeout",
            "parsedData",
            "Utils",
            function (t, i, n) {
              var o,
                r,
                a = {},
                s = {},
                l = {},
                c = [],
                u = 0,
                d = [],
                p = function (e) {
                  e.stopPropagation();
                  var i = e.target;
                  if (
                    (i && !n.DOMutils.isNestedInElem(i, "evt-named-entity")) ||
                    n.DOMutils.isNestedInElem(i, "evt-list")
                  ) {
                    var o = this;
                    o.realNamedEntity &&
                      (a.getCurrentHighlighted() !== o.entityId &&
                        a.highlightByEntityId(void 0),
                        (o.active = !o.active),
                        o.active
                          ? a.setActiveEntity(o.uid)
                          : a.setActiveEntity(void 0),
                        o.toggleActive(),
                        o.detailsInPopup &&
                        t(function () {
                          o.updateDetailsPosition(e, o);
                        }, 20));
                  }
                };
              return (
                (a.build = function (t, n) {
                  var o,
                    r = u++,
                    d = t || void 0,
                    h = n.entityType ? n.entityType : i.getNamedEntityType(d),
                    f = void 0 !== t;
                  if (void 0 === s[r]) {
                    switch (h) {
                      case "persName":
                        h = "person";
                        break;
                      case "placeName":
                      case "orgName":
                        h = h.replace("Name", "");
                        break;
                      default:
                        h = h;
                    }
                    return (
                      (o = {
                        uid: r,
                        entityId: d,
                        entityType: h,
                        detailsInPopup: !1,
                        realNamedEntity: f,
                        initHighlight: f && a.getCurrentHighlighted() === d,
                        defaults: angular.copy(e),
                        goToEntityInList: p,
                      }),
                      (s[r] = angular.extend(n.vm, o)),
                      c.push({ id: r, entityId: d }),
                      l[d] || (l[d] = []),
                      l[d].push(r),
                      s[r]
                    );
                  }
                }),
                (a.getActiveEntityTypes = function () {
                  return d;
                }),
                (a.addActiveType = function (e) {
                  d.indexOf(e) < 0 && d.push(e);
                }),
                (a.removeActiveType = function (e) {
                  var t = d.indexOf(e);
                  d.splice(t, 1);
                }),
                (a.getActiveEntity = function () {
                  return o;
                }),
                (a.setActiveEntity = function (e) {
                  a.deactivateEntity(o), (o = e);
                }),
                (a.deactivateEntity = function (e) {
                  void 0 !== e &&
                    void 0 !== s[e] &&
                    ((s[e].active = !1), s[e].toggleActive());
                }),
                (a.highlightByEntityId = function (e) {
                  a.setCurrentHighlighted(e),
                    angular.forEach(s, function (t) {
                      t.toggleHighlight &&
                        (t.realNamedEntity && t.entityId === e
                          ? t.toggleHighlight(!0)
                          : t.toggleHighlight(!1));
                    });
                }),
                (a.getCurrentHighlighted = function () {
                  return r;
                }),
                (a.setCurrentHighlighted = function (e) {
                  r = e;
                }),
                (a.getById = function (e) {
                  var t;
                  return (
                    angular.forEach(s, function (i) {
                      i.entityId === e && (t = i);
                    }),
                    t
                  );
                }),
                (a.getList = function () {
                  return c;
                }),
                (a.destroy = function (e) {
                  delete s[e];
                }),
                a
              );
            },
          ]);
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.namedEntity").directive("evtNamedEntityRef", [
      "evtNamedEntityRef",
      function (e) {
        return {
          restrict: "E",
          scope: { entityId: "@", entityType: "@" },
          transclude: !0,
          template: i(256),
          link: function (t, i, n) {
            t.vm = { entityId: t.entityId, entityType: t.entityType };
            e.build(t.entityId, t);
            var o = i.find(".namedEntityRef"),
              r = i.find(".namedEntityRef__details");
            (t.vm.toggleActive = function () {
              t.vm.active
                ? (o.addClass("active"), r.addClass("active"))
                : (o.removeClass("active"), r.removeClass("active"));
            }),
              (t.vm.toggleHighlight = function (e) {
                e ? o.addClass("highlighted") : o.removeClass("highlighted");
              }),
              (t.vm.updateDetailsPosition = function (e, t) {
                if (t.active) {
                  e.stopPropagation();
                  var n = i,
                    o = angular
                      .element(i)
                      .find("span.namedEntityRef__details")
                      .last(),
                    r = angular
                      .element(o)
                      .find(".namedEntityRef__details-before"),
                    a = e.clientX,
                    s = e.clientY;
                  o.removeAttr("style");
                  var l = n.height(),
                    c = 1 * n.css("font-size").substr(0, 2) + 1,
                    u = (n.width(), n.position().top),
                    d = (n.position().left, o.offset().top, o.outerWidth()),
                    p = o.outerHeight();
                  d > 200 && o.css({ width: "200px", "max-width": "200px" }),
                    o.css({ position: "absolute" }),
                    (d = o.outerWidth()),
                    (p = o.outerHeight());
                  var h,
                    f,
                    g = i.parent(),
                    m = i.parents(g).offset().left,
                    v = i.parents(g).innerWidth(),
                    b = a - m - d / 2;
                  o.css({ left: b + "px" }),
                    b + d > v &&
                    ((b = b - (h = b + d - v) - 10),
                      o.css({ left: b + "px" })),
                    b < 0 && ((b = 0), o.css({ left: b + "px" })),
                    u + l + p > i.parents(g).outerHeight()
                      ? ((f = p + l + 10),
                        l > c && (f = f - (s - n.offset().top) + 10),
                        o.css({ "margin-top": -f + "px" }).addClass("open-up"),
                        r.css({ top: o.outerHeight() + 2 + "px" }))
                      : (o.removeClass("open-up"),
                        l > c
                          ? ((h = l - c - (s - n.offset().top)),
                            o.css({ "margin-top": -h + "px" }))
                          : o.css({ "margin-top": "5px" }));
                  var y = a - b - m;
                  r.css({ left: y + "px" }),
                    (d = o.width()) > 200 &&
                    o.css({ width: "200px", "max-width": "200px" });
                }
              }),
              t.$on("$destroy", function () {
                t.vm.uid && e.destroy(t.vm.uid);
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<span class="namedEntityRef namedEntityRef-{{ ::vm.entityType }}" ng-class="::{\'fakeEntity\': !vm.realNamedEntity,\n\t\t\t\t \'highlighted\': vm.initHighlight }" title="{{ \'LISTS.ENTITY_TYPE_\'+vm.entityType | uppercase | translate }}" ng-click=vm.goToEntityInList($event) ng-transclude></span> <evt-named-entity ng-if="!vm.detailsInPopup && vm.active" data-location=mainText data-entity-id={{::vm.entityId}} data-entity-type={{::vm.entityType}}></evt-named-entity> ';
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.namedEntity")
      .service("evtGenericEntity", function () {
        var e = {},
          t = {};
        (e.addActiveType = function (i, n) {
          void 0 === t[i] &&
            (e.highlightElementsByType(i, n), (t[i] = { type: i, color: n }));
        }),
          (e.removeActiveType = function (i, n) {
            void 0 !== t[i] &&
              (e.deEmphasizeElementsByType(i, n), (t[i] = void 0));
          }),
          (e.highlightElementsByType = function (e, t) {
            var n = document.getElementsByClassName(e);
            angular.forEach(n, function (e) {
              i(e, t, !0);
            });
          }),
          (e.deEmphasizeElementsByType = function (e, t) {
            var n = document.getElementsByClassName(e);
            angular.forEach(n, function (e) {
              i(e, t, !1);
            });
          }),
          (e.highlightActiveTypes = function () {
            for (var i in t) {
              var n = t[i];
              n && e.highlightElementsByType(n.type, n.color);
            }
          });
        var i = function (e, t, i) {
          i
            ? (t
              ? angular.element(e).css("background", t)
              : angular.element(e).addClass("highlighted"),
              angular.element(e).addClass("entityHighlighted"))
            : (t
              ? angular.element(e).css("background", "")
              : angular.element(e).removeClass("highlighted"),
              angular.element(e).removeClass("entityHighlighted"));
        };
        return e;
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.criticalApparatusEntry", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.criticalApparatusEntry")
      .constant("APPENTRYDEFAULTS", { firstSubContentOpened: "" })
      .config([
        "evtCriticalApparatusEntryProvider",
        "configProvider",
        "APPENTRYDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("criticalApparatusEntry", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.criticalApparatusEntry")
      .provider("evtCriticalApparatusEntry", function () {
        var e = this.defaults;
        this.setDefaults = function (t) {
          e = t;
        };
        var t = "";
        this.$get = [
          "config",
          "parsedData",
          "baseData",
          "evtCriticalApparatusParser",
          "evtCriticalApparatus",
          "evtPinnedElements",
          function (i, n, o, r, a, s) {
            var l = {},
              c = {},
              u = [],
              d = 0;
            return (
              (l.build = function (t, s) {
                var l,
                  p = d++,
                  h = t || void 0,
                  f = s.scopeWit || "",
                  g = s.type || "default",
                  m = i.showReadingExponent;
                if (void 0 === c[p]) {
                  var v,
                    b = "",
                    y = "",
                    x = { _indexes: [] },
                    w = n.getCriticalEntryById(t);
                  if (void 0 === w) {
                    var _ = o.getXMLDocuments()[0];
                    (_ = _.cloneNode(!0)),
                      r.findCriticalEntryById(_, t),
                      (w = n.getCriticalEntryById(t));
                  }
                  void 0 !== w &&
                    ((b = (v = a.getContent(w, w._subApp, f)).witnessesGroups),
                      "" !== v.criticalNote &&
                      (x._indexes.push("criticalNote"),
                        (x.criticalNote = {
                          label: "CRITICAL_APPARATUS.TABS.CRITICAL_NOTE",
                        })),
                      v.notSignificantReadings.length > 0 &&
                      (x._indexes.push("notSignificantReadings"),
                        (x.notSignificantReadings = {
                          label: "CRITICAL_APPARATUS.TABS.ORTHOGRAPHIC_VARIANTS",
                        })),
                      x._indexes.push("moreInfo"),
                      (x.moreInfo = {
                        label: "CRITICAL_APPARATUS.TABS.MORE_INFO",
                      }),
                      "" !== w._xmlSource &&
                      (x._indexes.push("xmlSource"),
                        (x.xmlSource = { label: "CRITICAL_APPARATUS.TABS.XML" }),
                        (v.xmlSource = w._xmlSource.replace(
                          / xmlns="http:\/\/www\.tei-c\.org\/ns\/1\.0"/g,
                          ""
                        ))),
                      x._indexes.length > 0 &&
                      "" !== e.firstSubContentOpened &&
                      (y =
                        x._indexes.indexOf(e.firstSubContentOpened) < 0
                          ? x._indexes[0]
                          : e.firstSubContentOpened));
                  var A =
                    void 0 === s.exponent
                      ? n.getCriticalEntryExponent(s.appId)
                      : s.exponent;
                  return (
                    (l = {
                      uid: p,
                      scopeWit: f,
                      appId: h,
                      readingId: s.readingId,
                      content: v,
                      type: g,
                      _subContentOpened: y,
                      over: !1,
                      selected: !1,
                      tabs: x,
                      exponent: A,
                      showExponent: m,
                      witnessesGroups: b,
                      currentViewMode: s.scopeViewMode,
                    }),
                    (c[p] = angular.extend(s.vm, l)),
                    u.push({ id: p }),
                    c[p]
                  );
                }
              }),
              (l.getById = function (e) {
                if ("undefined" !== c[e]) return c[e];
              }),
              (l.getList = function () {
                return u;
              }),
              (l.destroy = function (e) {
                delete c[e];
              }),
              (l.getPinned = function () {
                return s.getPinnedByType("criticalApparatusEntry");
              }),
              (l.setCurrentAppEntry = function (e) {
                t !== e && (t = e);
              }),
              (l.getCurrentAppEntry = function () {
                return t;
              }),
              (l.mouseOutAll = function () {
                angular.forEach(c, function (e) {
                  e.mouseOut();
                });
              }),
              (l.mouseOverByAppId = function (e) {
                angular.forEach(c, function (t) {
                  t.appId === e ? t.mouseOver() : t.mouseOut();
                });
              }),
              (l.unselectAll = function () {
                angular.forEach(c, function (e) {
                  e.unselect();
                }),
                  l.setCurrentAppEntry("");
              }),
              (l.selectById = function (e) {
                angular.forEach(c, function (t) {
                  t.appId === e ? t.setSelected() : t.unselect();
                }),
                  l.setCurrentAppEntry(e);
              }),
              l
            );
          },
        ];
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.criticalApparatusEntry")
      .controller("CriticalApparatusEntryCtrl", [
        "$scope",
        "config",
        "Utils",
        "evtCriticalApparatusEntry",
        "evtInterface",
        "evtReading",
        "evtBox",
        "evtApparatuses",
        "evtPinnedElements",
        function (e, t, i, n, o, r, a, s, l) {
          e.content = {};
          var c = this;
          (this.toggleSubContent = function (e) {
            c._subContentOpened !== e
              ? (c._subContentOpened = e)
              : (c._subContentOpened = "");
          }),
            (this.toggleOverAppEntries = function (e) {
              e.stopPropagation(),
                void 0 === c.readingId &&
                (!1 === c.over
                  ? (n.mouseOverByAppId(c.appId), r.mouseOverByAppId(c.appId))
                  : (n.mouseOutAll(), r.mouseOutAll()));
            }),
            (this.isPinAvailable = function () {
              return t.toolPinAppEntries;
            }),
            (this.isPinned = function () {
              return l.isPinned(c.appId);
            }),
            (this.getPinnedState = function () {
              return c.isPinned() ? "pin-on" : "pin-off";
            }),
            (this.togglePin = function () {
              if (c.isPinned())
                l.removeElement({
                  id: c.appId,
                  type: "criticalApparatusEntry",
                });
              else {
                l.addElement({ id: c.appId, type: "criticalApparatusEntry" });
                var e = l.getPinned();
                e &&
                  1 === e.length &&
                  o.updateState("isPinnedAppBoardOpened", !0);
              }
            }),
            (this.alignReadings = function () {
              a.alignScrollToApp(c.appId), s.alignScrollToApp(c.appId);
            }),
            (this.destroy = function () {
              var e = this.uid;
              n.destroy(e);
            }),
            (this.mouseOver = function () {
              c.over = !0;
            }),
            (this.mouseOut = function () {
              c.over = !1;
            }),
            (this.setSelected = function () {
              c.selected = !0;
            }),
            (this.unselect = function () {
              (c.selected = !1), c.closeSubContent();
            }),
            (this.isSelected = function () {
              return c.selected;
            }),
            (this.isInline = function () {
              return o.isCriticalApparatusInline();
            }),
            (this.closeSubContent = function () {
              c._subContentOpened = "";
            }),
            (this.callbackClick = function (e) {
              e.stopPropagation();
              var t = e.target;
              "readingTxt" === c.currentViewMode &&
                (c.isSelected()
                  ? t &&
                  t.className.indexOf(
                    "critical-apparatus-entry_other-content_headers"
                  ) < 0 &&
                  !i.DOMutils.isNestedInClassElem(
                    t,
                    "critical-apparatus-entry_other-content_headers"
                  ) &&
                  (n.unselectAll(),
                    r.unselectAll(),
                    o.updateState("currentAppEntry", ""))
                  : (r.selectById(c.appId),
                    o.updateState("currentAppEntry", c.appId),
                    n.selectById(c.appId),
                    c.isInline() || a.alignScrollToApp(c.appId)),
                  o.updateUrl());
            }),
            (this.showInlineCriticalApparatus = function () {
              return t.showInlineCriticalApparatus;
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.criticalApparatusEntry")
      .directive("evtCriticalApparatusEntry", [
        "evtCriticalApparatusEntry",
        "evtInterface",
        function (e, t) {
          return {
            restrict: "E",
            scope: {
              appId: "@",
              readingId: "@",
              scopeWit: "@",
              type: "@",
              exponent: "@",
            },
            transclude: !0,
            template: i(263),
            controllerAs: "vm",
            controller: "CriticalApparatusEntryCtrl",
            link: function (i, n, o) {
              i.scopeViewMode = t.getState("currentViewMode");
              var r = e.build(i.appId, i);
              t.isCriticalApparatusInline() ||
                (r.selected = t.getState("currentAppEntry") === i.appId),
                i.$on("$destroy", function () {
                  r && r.destroy();
                });
            },
          };
        },
      ]);
  },
  function (e, t) {
    e.exports =
      '<div class=critical-apparatus-entry ng-mouseover=vm.toggleOverAppEntries($event); ng-mouseout=vm.toggleOverAppEntries($event) ng-click=vm.callbackClick($event) ng-class="{\'noTools\': (scopeViewMode !== \'collation\' && scopeViewMode !== \'readingTxt\') && !vm.isPinAvailable(),\n             \'selected\': vm.isSelected() && !vm.isInline() && scopeViewMode === \'readingTxt\',\n             \'over\': vm.currentViewMode === \'readingTxt\' && vm.over}"> <div class=critical-apparatus-entry_main-content> <div class=critical-apparatus-entry_tools ng-if="::(scopeViewMode === \'collation\' || scopeVieMode === \'readingTxt\') || vm.isPinAvailable()"> <button-switch title=BUTTONS.PIN_REMOVE ng-if="::vm.isPinAvailable() && vm.type === \'pinned\'" data-label="" data-icon=remove data-type=pin-off ng-click=vm.togglePin()></button-switch> <button-switch title=BUTTONS.PIN_TOGGLE ng-if="::vm.isPinAvailable() && vm.type === \'default\'" data-label="" data-icon=pin data-type=pin ng-class="{\'active\' : vm.isPinned()}" ng-click=vm.togglePin()></button-switch> <button-switch title=BUTTONS.ALIGN_READINGS ng-if="::vm.type === \'default\' && (scopeViewMode === \'collation\' || !vm.showInlineCriticalApparatus())" data-label="" data-icon=v-align data-type=alignReadings ng-click=vm.alignReadings()></button-switch> </div> <span class=apparatus_exponent ng-if=::vm.showExponent compile=vm.exponent></span> <span class=app_lemma ng-if="::vm.content.lemma.content !== \'\'" compile=::vm.content.lemma.content></span> <div class=critical-apparatus-entry_main-content_list> <span class=app_reading ng-if="::vm.witnessesGroups.length === 0" ng-repeat="reading in ::vm.content.significantReadings track by $index" compile=reading.content> </span> <ul class=app_reading_list ng-if="::vm.witnessesGroups.length > 0"> <li ng-repeat="group in ::vm.witnessesGroups" ng-if="::group.significantText !== undefined"> <span class=witGrp_name ng_if="::group.groupName !== \'\' && group.significantText !== undefined">{{group.groupName}}:</span> <span class=witGrp_content compile=group.significantText></span> </li> </ul> </div> </div> <div class=critical-apparatus-entry_other-content ng-if="::vm.tabs._indexes.length > 0"> <div class=critical-apparatus-entry_other-content_headers ng-class="{\'closed\': vm._subContentOpened === \'\'}"> <span ng-repeat="tab in ::vm.tabs._indexes track by $index" ng-click=vm.toggleSubContent(tab) ng-class="{\'active\' : vm._subContentOpened == tab }"> {{ vm.tabs[tab].label | translate }} </span> </div> <div class=critical-apparatus-entry_other-content_panels ng-class="{\'closed\': vm._subContentOpened === \'\'}"> <div class=critical-apparatus-entry_other-content_panel ng-repeat="tab in ::vm.tabs._indexes track by $index" ng-class="{\'active\' : vm._subContentOpened == tab}" ng-switch=::tab> <div ng-switch-when=notSignificantReadings> <ul ng-if="::vm.witnessesGroups.length <= 0"> <li ng-repeat="reading in ::vm.content.notSignificantReadings track by $index" compile=::reading.content></li> </ul> <div ng-if="::vm.witnessesGroups.length > 0" ng-repeat="group in ::vm.witnessesGroups"> <span class=critical-apparatus-entry_other-content_panel_orthographic_title ng-if="::group.notSignificantText !== undefined"> {{ \'CRITICAL_APPARATUS.ORTHOGRAPHIC_VARIANTS_FOR\' | translate }} {{::group.groupName}}</span> <span class=critical-apparatus-entry_other-content_panel_orthographic_text ng-if="::group.notSignificantText !== undefined" compile=group.notSignificantText></span> </div> </div> <div ng-switch-when=moreInfo> <span class=app_lemma> {{ \'CRITICAL_APPARATUS.METADATA_FOR_LEMMA\' | translate }} "<em ng-if="::vm.content.lemma.content !== \'\'" compile=::vm.content.lemma.content></em>" </span> <ul ng-if="::(vm.content.attributes._keys.length > 1 || vm.content.attributes._keys.length === 1 && vm.content.attributes._keys.indexOf(\'xml:id\') < 0)"> <li ng-repeat="attr in ::vm.content.attributes._keys track by $index" ng-if="::attr !== \'xml:id\'"> <span class=moreInfo-label>{{ ::attr }}</span> {{ ::vm.content.attributes.values[attr] }} </li> </ul> <ul ng-if="::(vm.content.attributes._keys.length <= 0 || vm.content.attributes._keys.length === 1 && vm.content.attributes._keys.indexOf(\'xml:id\') > 0)"> <li><em>{{ \'CRITICAL_APPARATUS.NO_DATA\' | translate }}</em></li></ul> <span class=moreInfo-metadataTitle>{{ \'CRITICAL_APPARATUS.MORE_INFO\' | translate }}</span> <ul> <li class=app_lemma class=app_reading_content ng-if="::(vm.content.lemma.attributes._keys.length > 1 || vm.content.lemma.attributes._keys.length === 1 && vm.content.lemma.attributes._keys.indexOf(\'xml:id\') < 0)"> <span> {{ \'CRITICAL_APPARATUS.METADATA_FOR\' | translate }} <em ng-if="::vm.content.lemma.content !== \'\'" compile=::vm.content.lemma.content></em> </span> <ul> <li ng-repeat="attr in ::vm.content.lemma.attributes._keys track by $index" ng-if="::attr !== \'xml:id\'"> <span class=moreInfo-label>{{ ::attr }}</span> {{ ::vm.content.lemma.attributes.values[attr] }} </li> </ul> </li> <li class=app_reading_content ng-repeat="reading in ::vm.content.significantReadings track by $index" ng-if="::(reading.attributes._keys.length > 1 || reading.attributes._keys.length === 1 && reading.attributes._keys.indexOf(\'xml:id\') < 0)"> <span> {{ \'CRITICAL_APPARATUS.METADATA_FOR\' | translate }} <em class=app_reading compile=::reading.content></em> </span> <ul> <li ng-repeat="attr in ::reading.attributes._keys track by $index" ng-if="::attr !== \'xml:id\'"> <span class=moreInfo-label>{{ ::attr }}</span> {{ ::reading.attributes.values[attr] }} </li> </ul> </li> <li class=app_reading_content ng-repeat="reading in ::vm.content.notSignificantReadings track by $index" ng-if="::(reading.attributes._keys.length > 1 || reading.attributes._keys.length === 1 && reading.attributes._keys.indexOf(\'xml:id\') < 0)"> <span> {{ \'CRITICAL_APPARATUS.METADATA_FOR\' | translate }} <em class=app_reading compile=::reading.content></em> </span> <ul> <li ng-repeat="attr in reading.attributes._keys track by $index"> <span class=moreInfo-label>{{ ::attr }}</span> {{ ::reading.attributes.values[attr] }} </li> </ul> </li> </ul> </div> <div ng-switch-when=xmlSource> <pre>{{ ::vm.content[tab] | newLinesToSpaces | normalizeMultispaces | prettyXml }}</pre> </div> <div ng-switch-default compile=::vm.content[tab]> </div> </div> </div> </div> </div> ';
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.criticalApparatusEntry")
      .directive("evtWitnessRef", [
        "evtCriticalApparatusEntry",
        "evtBox",
        "parsedData",
        "evtInterface",
        "config",
        function (e, t, n, o, r) {
          return {
            restrict: "E",
            require: "^?evtCriticalApparatusEntry",
            scope: { witness: "@", scopeWit: "@" },
            transclude: !0,
            template: i(265),
            link: function (e, i, a) {
              (e.translationData = { witness: e.witness }),
                e.scopeWit === e.witness
                  ? (e.title = "CRITICAL_APPARATUS.WITNESS_REF_CURRENT")
                  : (e.title = "CRITICAL_APPARATUS.WITNESS_REF_OPEN"),
                (e.openWit = function () {
                  var i = e.witness,
                    a = e.scopeWit;
                  if (i !== a) {
                    if (r.versions.length > 0) {
                      var s,
                        l = o.getState("currentVersion"),
                        c = n.getVersionEntries()._indexes.versionWitMap;
                      for (var u in c) c[u].indexOf(i) >= 0 && (s = u);
                      l !== s &&
                        (o.updateCurrentVersion(s),
                          o.updateState("currentWits", []),
                          o.updateAvailableWitnessesByVersion(s));
                    }
                    var d = o.getState("currentWits"),
                      p = d.indexOf(a);
                    d.indexOf(i) >= 0 && o.removeWitness(i),
                      void 0 !== p && o.addWitnessAtIndex(i, p + 1),
                      "collation" !== o.getCurrentView &&
                      o.updateState("currentViewMode", "collation"),
                      o.updateUrl();
                    var h = o.getState("currentAppEntry") || "";
                    if ("" !== h) {
                      var f = t.getElementByValueOfParameter("witness", i);
                      void 0 !== f && f.scrollToAppEntry(h);
                    }
                  }
                });
            },
          };
        },
      ]);
  },
  function (e, t) {
    e.exports =
      '<span class=wit ng-class="::{\'selected\': witness === scopeWit}" ng-click=openWit() title="{{ title | translate:translationData }}">{{ ::witness }}</span>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.reading", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.reading")
      .constant("READINGDEFAULTS", {
        tooltipMaxHeight: 170,
        tooltipMaxWidth: 200,
        openTriggerEvent: "click",
      })
      .config([
        "evtReadingProvider",
        "configProvider",
        "READINGDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("reading", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.reading").provider("evtReading", function () {
      var e = this.defaults;
      this.setDefaults = function (t) {
        e = t;
      };
      var t = "";
      this.$get = [
        "config",
        "parsedData",
        function (i, n) {
          var o = {},
            r = {},
            a = [],
            s = 0;
          return (
            (o.build = function (t, l) {
              var c,
                u,
                d = s++,
                p = t || void 0,
                h = "",
                f = i.showReadingExponent;
              if (void 0 === r[d]) {
                var g = n.getCriticalEntryExponent(l.appId);
                if (void 0 !== l.readingId) {
                  var m = n.getReadingAttributes(l.readingId, t) || [];
                  for (var v in m)
                    "wit" !== v &&
                      "xml:id" !== v &&
                      (h += v.toUpperCase() + ": " + m[v] + " - ");
                  "" !== h && (h = h.slice(0, -3));
                }
                var b = n.getCriticalEntryById(p);
                b && b._subApp && (c = b._indexes._parentEntry || "");
                var y = p === o.getCurrentAppEntry();
                return (
                  (u = {
                    uid: d,
                    scopeWit: l.scopeWit || "",
                    appId: p,
                    parentAppId: c,
                    readingId: l.readingId,
                    readingType: l.readingType,
                    variance: l.variance,
                    type: l.type,
                    overlap: l.overlap,
                    noText: l.noText,
                    range: void 0,
                    attributes: h,
                    exponent: g,
                    showExponent: f,
                    over: !1,
                    apparatus: {
                      opened: !1,
                      content: {},
                      _loaded: !1,
                      _subContentOpened: "criticalNote",
                      inline: l.inlineApparatus,
                    },
                    selected: y,
                    openTriggerEvent: angular.copy(e.openTriggerEvent),
                    defaults: angular.copy(e),
                  }),
                  (r[d] = angular.extend(l.vm, u)),
                  a.push({ id: d, entryId: p }),
                  r[d]
                );
              }
            }),
            (o.getById = function (e) {
              var t;
              return (
                angular.forEach(r, function (i) {
                  i.appId === e && (t = i);
                }),
                t
              );
            }),
            (o.getList = function () {
              return a;
            }),
            (o.setCurrentAppEntry = function (e) {
              t = e;
            }),
            (o.getCurrentAppEntry = function () {
              return t;
            }),
            (o.mouseOutAll = function () {
              angular.forEach(r, function (e) {
                e.mouseOut();
              });
            }),
            (o.mouseOverByAppId = function (e) {
              angular.forEach(r, function (t) {
                t.appId === e ? t.mouseOver() : t.mouseOut();
              });
            }),
            (o.unselectAll = function () {
              angular.forEach(r, function (e) {
                e.unselect();
              });
            }),
            (o.closeAllApparatus = function (e) {
              angular.forEach(r, function (t) {
                (void 0 === e || t.uid !== e) && t.closeApparatus();
              });
            }),
            (o.selectById = function (e) {
              angular.forEach(r, function (t) {
                t.appId === e ? t.setSelected() : t.unselect();
              }),
                o.setCurrentAppEntry(e);
            }),
            (o.destroy = function (e) {
              delete r[e];
            }),
            o
          );
        },
      ];
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.reading").controller("ReadingCtrl", [
      "config",
      "$log",
      "$scope",
      "evtReading",
      "parsedData",
      "evtPopover",
      "evtInterface",
      "evtCriticalApparatusEntry",
      "evtApparatuses",
      function (e, t, i, n, o, r, a, s, l) {
        var c = this,
          u =
            (t.getInstance("reading"),
              function (e, t) {
                angular.forEach(c.range, function (i) {
                  e && i.className.indexOf(t) < 0
                    ? (i.className += " " + t)
                    : !e &&
                    i.className.indexOf(t) >= 0 &&
                    (i.className = i.className.replace(" " + t, ""));
                });
              });
        (this.mouseOver = function () {
          (c.over = !0), c.overlap && c.range && u(c.over, "over");
        }),
          (this.mouseOut = function () {
            (c.over = !1), c.overlap && c.range && u(c.over, "over");
          }),
          (this.setSelected = function () {
            (c.selected = !0),
              c.overlap && c.range && u(c.selected, "selected");
          }),
          (this.unselect = function () {
            (c.selected = !1),
              c.overlap && c.range && u(c.selected, "selected");
          }),
          (this.isSelect = function () {
            return void 0 !== c.parentAppId
              ? c.selected || a.getState("currentAppEntry") === c.parentAppId
              : c.selected;
          }),
          (this.isApparatusOpened = function () {
            return c.apparatus.opened && !i.$parent.vm.state.topBoxOpened;
          }),
          (this.closeApparatus = function () {
            c.apparatus.opened = !1;
          }),
          (this.openApparatus = function () {
            (c.apparatus.opened = !0), (c.apparatus._loaded = !0);
          }),
          (this.toggleOverAppEntries = function (e) {
            e.stopPropagation(),
              c.hidden ||
              (!1 === c.over
                ? (n.mouseOverByAppId(c.appId), s.mouseOverByAppId(c.appId))
                : (n.mouseOutAll(), s.mouseOutAll()));
          }),
          (this.toggleSelectAppEntries = function (e) {
            c.hidden ||
              (!1 === c.selected
                ? (n.selectById(c.appId),
                  s.selectById(c.appId),
                  c.apparatus.inline ||
                  (l.setCurrentApparatus("criticalApparatus"),
                    l.alignScrollToApp(c.appId)),
                  a.updateState("currentAppEntry", c.appId))
                : (a.updateState("currentAppEntry", ""),
                  n.unselectAll(),
                  s.unselectAll())),
              a.updateUrl();
          }),
          (this.toggleApparatus = function (e) {
            r.closeAll(),
              !c.hidden &&
              c.over &&
              (c.apparatus._loaded || (c.apparatus._loaded = !0),
                n.closeAllApparatus(c.uid),
                (c.apparatus.opened = !c.apparatus.opened));
          }),
          (this.callbackClick = function (e) {
            e && e.stopPropagation(),
              c.over &&
              (c.toggleSelectAppEntries(e),
                (!c.isSelect() ||
                  (c.apparatus.inline && !c.apparatus.opened)) &&
                c.toggleApparatus(e));
          }),
          (this.openApparatusSubContent = function (e) {
            c.apparatus._subContentOpened = e;
          }),
          (this.backgroundColor = function () {
            return "variant" === c.type ? p() : d();
          });
        var d = function () {
          var t;
          if (i.$parent.vm.state.heatmap) {
            var n = o.getCriticalEntriesMaxVariance();
            return (
              (t =
                c.over && !i.$parent.vm.state.topBoxOpened
                  ? "1"
                  : c.variance / n),
              "background: " +
              (e.heatmapColor.replace("rgb", "rgba").slice(0, -1) +
                "," +
                t +
                ")")
            );
          }
          return p();
        },
          p = function () {
            var t,
              r,
              a,
              s,
              l,
              u = e.possibleVariantFilters,
              d = e.possibleLemmaFilters,
              p = !1;
            if (c.parentAppId) {
              var h = n.getById(c.parentAppId);
              p = !!h && (h.over || h.isSelect());
            }
            if (
              void 0 !== c.appId &&
              ((s = o.getCriticalEntryById(c.appId)),
                void 0 !==
                (void 0 !== c.readingId
                  ? s.content[c.readingId]
                  : s.content[s.lemma]) &&
                ((l = o.getReadingAttributes(c.readingId, c.appId) || {}),
                  (r = o.getCriticalEntriesFilters()),
                  (a = "witness" === i.$parent.vm.type ? u : d),
                  Object.keys(l).length > 0))
            ) {
              var f = "",
                g =
                  (c.over || c.isSelect() || p) &&
                    !i.$parent.vm.state.topBoxOpened
                    ? "1"
                    : ".4";
              for (var m in r) {
                var v = r[m].name;
                if (a.indexOf(v) >= 0 && void 0 !== l && void 0 !== l[v])
                  for (var b in r[m].values) {
                    var y = r[m].values[b].color,
                      x = r[m].values[b].name;
                    if (l[v] === x)
                      if (y)
                        f +=
                          y.replace("rgb", "rgba").slice(0, -1) +
                          "," +
                          g +
                          "),";
                  }
              }
              "" !== f &&
                (((f = f.slice(0, -1)).match(/rgb/gi) &&
                  f.match(/rgb/gi).length > 1) ||
                  (f.match(/#/gi) && f.match(/#/gi).length > 1)
                  ? ((t = "background: -moz-linear-gradient(left," + f + ");"),
                    (t +=
                      "background: -webkit-linear-gradient(left," + f + ");"),
                    (t += "background: ms-linear-gradient(left," + f + ");"),
                    (t += "background: linear-gradient(left," + f + ");"))
                  : (t = "background: " + f));
            }
            return (
              void 0 === t &&
              (i.$parent.vm.state.topBoxOpened ||
                (t =
                  c.over || c.isSelect() || p
                    ? "background: " + e.variantColorDark
                    : "background: " + e.variantColorLight)),
              t
            );
          };
        (this.fitFilters = function () {
          var e,
            t,
            n,
            r,
            a,
            s,
            l,
            u,
            d = o.getCriticalEntryById(c.appId),
            p = !1,
            h = 0;
          if (
            ((e = o.getReadingAttributes(c.readingId, c.appId) || {}),
              void 0 !== d &&
              void 0 !==
              (void 0 !== c.readingId
                ? d.content[c.readingId]
                : d.content[d.lemma]))
          ) {
            var f = i.$parent.vm.state.filters || {},
              g = Object.keys(f);
            for (u in ((t = !1), g)) {
              if (
                (n = f[(r = g[u])]).totActive > 0 &&
                (h++, void 0 !== e && void 0 !== e[r])
              )
                for (a = 0, s = n.values; a < s.length && !t;)
                  s[s[a]].active && ((l = s[s[a]].name), (t = t || e[r] === l)),
                    a++;
              if (t) break;
            }
            p = t;
          }
          return 0 === h && (p = !0), (c.hidden = !p), p;
        }),
          (this.destroy = function () {
            var e = this.uid;
            n.destroy(e);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.reading").directive("evtReading", [
      "evtReading",
      "parsedData",
      "evtInterface",
      function (e, t, n) {
        return {
          restrict: "E",
          scope: {
            appId: "@",
            readingId: "@",
            readingType: "@",
            variance: "@",
            scopeWit: "@",
            type: "@",
            overlap: "@",
            noText: "@",
          },
          transclude: !0,
          template: i(271),
          controllerAs: "vm",
          controller: "ReadingCtrl",
          link: function (t, i, o) {
            (t.currentViewMode = n.getState("currentViewMode")),
              (t.inlineApparatus = n.isCriticalApparatusInline());
            var r = e.build(t.appId, t);
            t.inlineApparatus &&
              n.getState("currentAppEntry") === t.appId &&
              r.openApparatus(),
              t.vm.overlap &&
              t.vm.range &&
              angular.forEach(t.vm.range, function (e) {
                (e.onmouseover = function () {
                  r.toggleOverAppEntries();
                }),
                  (e.onmouseout = function () {
                    r.toggleOverAppEntries();
                  }),
                  (e.onclick = function () {
                    r.callbackClick();
                  });
              }),
              t.$on("$destroy", function () {
                r && r.destroy();
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      "<span class=reading ng-mouseover=vm.toggleOverAppEntries($event); ng-mouseout=vm.toggleOverAppEntries($event) ng-click=vm.callbackClick($event); ng-class=\"{ 'selected' : vm.isSelect() && !$parent.vm.state.topBoxOpened,\n                'expansed' : (!$parent.vm.state.topBoxOpened && vm.apparatus.opened && vm.apparatus.inline),\n                'over'     : vm.over, \n                'invisible': !vm.fitFilters(),\n                'blurred'  : $parent.vm.state.topBoxOpened}\"> <span ng-if=!vm.noText class=reading__text style=\"\" title=\"{{vm.attributes | translate}}\" ng-transclude></span> <span ng-if=\"::vm.showExponent && vm.position !== 'start'\" style=\"\" class=reading_exponent ng-click=vm.callbackClick($event); compile=::vm.exponent></span> <evt-critical-apparatus-entry ng-class=\"{'blurred': $parent.vm.state.topBoxOpened}\" ng-if=\"vm.apparatus._loaded && vm.apparatus.inline && vm.isApparatusOpened() && vm.fitFilters()\" data-app-id={{::vm.appId}} data-reading-id={{::vm.readingId}} data-scope-wit={{::vm.scopeWit}} data-exponent={{::vm.exponent}}></evt-critical-apparatus-entry> </span>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dialog", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.dialog")
      .constant("DIALOGDEFAULTS", {})
      .config([
        "evtDialogProvider",
        "configProvider",
        "DIALOGDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("dialog", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dialog").provider("evtDialog", function () {
      var e = this.defaults;
      (this.setDefaults = function (t) {
        e = t;
      }),
        (this.$get = [
          "$log",
          function (t) {
            var i = {},
              n = {},
              o = [],
              r = 0,
              a =
                (t.getInstance("dialog"),
                  function () {
                    this.opened = !0;
                  }),
              s = function () {
                this.opened = !1;
              },
              l = function (e) {
                this.title = e;
              },
              c = function (e) {
                this.content = e;
              },
              u = function () {
                var e = this.uid;
                delete n[e];
              };
            return (
              (i.build = function (t) {
                var i,
                  d = t.id || r++,
                  p = t.type || "default",
                  h = t.title || "",
                  f = t.opened || !1;
                if (void 0 === n[d])
                  return (
                    (i = {
                      uid: d,
                      defaults: angular.copy(e),
                      type: p,
                      content: void 0,
                      title: h,
                      opened: f,
                      open: a,
                      close: s,
                      setTitle: l,
                      updateContent: c,
                      destroy: u,
                    }),
                    (n[d] = angular.extend(t.vm, i)),
                    o.push({ id: d, type: p }),
                    n[d]
                  );
              }),
              (i.getById = function (e) {
                if ("undefined" !== n[e]) return n[e];
              }),
              (i.getList = function () {
                return o;
              }),
              (i.getListByType = function (e) {
                var t = [];
                for (var i in n) n[i].type === e && t.push(n[i]);
                return t;
              }),
              (i.openByType = function (e) {
                for (var t in n) n[t].type === e && n[t].open();
              }),
              (i.closeByType = function (e) {
                for (var t in n) n[t].type === e && n[t].close();
              }),
              (i.closeAll = function () {
                for (var e in n) void 0 !== n[e].close() && n[e].close();
              }),
              i
            );
          },
        ]);
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.dialog").directive("evtDialog", [
      "evtDialog",
      function (e) {
        return {
          restrict: "E",
          scope: { id: "@", type: "@", title: "@", opened: "@" },
          replace: !1,
          transclude: !0,
          template: i(276),
          link: function (t, i, n) {
            t.vm = { id: t.id, type: t.type, title: t.title, opened: t.opened };
            var o = e.build(t);
            t.$on("$destroy", function () {
              o && o.destroy();
            });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      "<div class=evt-dialog ng-show=vm.opened ng-class=\"::{'evt-dialog-error': vm.type === 'error',\n               'evt-dialog-small': vm.type === 'bookmark' }\"> <div class=evt-dialog-shadow ng-click=vm.close()></div> <div class=evt-dialog-container> <div class=evt-dialog-container-top> <span class=evt-dialog-container-top-title>{{ vm.title | translate }}</span> <button-switch class=noPadding title=\"{{ 'DIALOGS.CLOSE' | translate }}\" data-icon=remove data-type=closeDialog> </button-switch> </div> <div ng-switch=vm.type> <div ng-switch-when=error class=evt-dialog-container-content compile=::vm.content></div> <div ng-switch-default class=evt-dialog-container-content ng-transclude></div> </div> </div> </div>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.tabsContainer", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.tabsContainer")
      .provider("evtTabsContainer", function () {
        var e = this.defaults;
        (this.setDefaults = function (t) {
          e = t;
        }),
          (this.$get = [
            "$log",
            "parsedData",
            "evtInterface",
            function (t, i, n) {
              var o = {},
                r = {},
                a = [],
                s = 0,
                l =
                  (t.getInstance("tabsContainer"),
                    function () {
                      var e = this.uid;
                      delete r[e];
                    }),
                c = function (e) {
                  this.subContentOpened = this.subContentOpened !== e ? e : "";
                },
                u = function (e, t) {
                  e.tabs[t].showSubTabs = !e.tabs[t].showSubTabs;
                  var i = document.getElementById(t + "_subTabsIcon");
                  i &&
                    (i.className = e.tabs[t].showSubTabs
                      ? "fa fa-caret-down"
                      : "fa fa-caret-right");
                },
                d = function (e, t) {
                  var i = this;
                  (i.subContentOpened = e),
                    t
                      ? (i.subTabOpened = t)
                      : i.tabs[e].subTabs
                        ? (u(i, e),
                          i.tabs[e].subTabs._indexes.indexOf(i.subTabOpened) <
                          0 &&
                          (i.subTabOpened =
                            i.tabs[e].subTabs._indexes[0] || ""))
                        : (i.subTabOpened = "");
                };
              return (
                (o.build = function (t) {
                  var o,
                    p = t.id || s++,
                    h = t.type || "",
                    f = t.orientation || "vertical";
                  if (void 0 === r[p]) {
                    var g = "<span>No content</span>",
                      m = { _indexes: [] };
                    switch (h) {
                      case "projectInfo":
                        if (
                          ((A = i.getProjectInfo().fileDescription || "") &&
                            "" !== A &&
                            ((m.fileDescription = {
                              label: "PROJECT_INFO.FILE_DESCRIPTION",
                              name: "fileDescription",
                              content: A || g,
                            }),
                              m._indexes.push("fileDescription")),
                            (E = i.getProjectInfo().encodingDescription || "") &&
                            "" !== E &&
                            ((m.encodingDescription = {
                              label: "PROJECT_INFO.ENCODING_DESCRIPTION",
                              name: "encodingDescription",
                              content: E || g,
                            }),
                              m._indexes.push("encodingDescription")),
                            (S = i.getProjectInfo().textProfile || "") &&
                            "" !== S &&
                            ((m.textProfile = {
                              label: "PROJECT_INFO.TEXT_PROFILE",
                              name: "textProfile",
                              content: S || g,
                            }),
                              m._indexes.push("textProfile")),
                            (T = i.getProjectInfo().outsideMetadata || "") &&
                            "" !== T &&
                            ((m.outsideMetadata = {
                              label: "PROJECT_INFO.OUTSIDE_METADATA",
                              name: "outsideMetadata",
                              content: T || g,
                            }),
                              m._indexes.push("outsideMetadata")),
                            (C = i.getProjectInfo().revisionHistory || "") &&
                            "" !== C &&
                            ((m.revisionHistory = {
                              label: "PROJECT_INFO.REVISION_HISTORY",
                              name: "revisionHistory",
                              content: C || g,
                            }),
                              m._indexes.push("revisionHistory")),
                            i.getBibliographicRefsCollection()._indexes.length >
                            0)
                        ) {
                          var v =
                            '<evt-bibliography data-id="mainBibliography"></evt-bibliography>';
                          (m.bibliography = {
                            label: "PROJECT_INFO.BIBLIOGRAPHY",
                            name: "bibliography",
                            content: v || g,
                            scrollDisabled: !0,
                          }),
                            m._indexes.push("bibliography");
                        }
                        break;
                      case "entitiesList":
                        var b = i.getNamedEntitiesCollection();
                        m._indexes = b._indexes;
                        for (var y = 0; y < b._indexes.length; y++) {
                          var x =
                            b[(k = b._indexes[y])] && b[k]._icon
                              ? b[k]._icon
                              : "fa-list-ul",
                            w = b[k] && b[k]._type ? b[k]._type : k,
                            _ = b[k] && b[k]._title ? b[k]._title : k;
                          m[k] = {
                            label: _,
                            icon: x,
                            name: k,
                            content:
                              '<evt-list data-list-id="' +
                              k +
                              '" data-list-type="' +
                              w +
                              '"></evt-list>',
                            scrollDisabled: !0,
                            noPadding: !0,
                          };
                        }
                        break;
                      case "toc":
                        var A, E, S, T, C;
                        if (
                          ((m.toc = {
                            label: "TOC.TITLE",
                            name: "toc",
                            content: "<evt-toc></evt-toc>",
                          }),
                            m._indexes.push("toc"),
                            (b = i.getNamedEntitiesCollection()) &&
                            b._indexes &&
                            b._indexes.length > 0)
                        ) {
                          (m.entitiesLists = {
                            label: "DIALOGS.NAMED_ENTITIES",
                            name: "entitiesLists",
                            content: "",
                            subTabs: { _indexes: [] },
                            showSubTabs: !1,
                            noPadding: !0,
                          }),
                            (m.entitiesLists.subTabs._indexes = b._indexes);
                          for (y = 0; y < b._indexes.length; y++) {
                            var k;
                            (x =
                              b[(k = b._indexes[y])] && b[k]._icon
                                ? b[k]._icon
                                : "fa-list-ul"),
                              (w = b[k] && b[k]._type ? b[k]._type : k),
                              (_ = b[k] && b[k]._title ? b[k]._title : k);
                            m.entitiesLists.subTabs[k] = {
                              label: _,
                              icon: x,
                              name: k,
                              content:
                                '<evt-list data-list-id="' +
                                k +
                                '" data-list-type="' +
                                w +
                                '"></evt-list>',
                              scrollDisabled: !0,
                              noPadding: !0,
                            };
                          }
                          m._indexes.push("entitiesLists");
                        }
                        if (
                          i.getBibliographicRefsCollection()._indexes.length > 0
                        ) {
                          v =
                            '<evt-bibliography data-id="mainBibliography"></evt-bibliography>';
                          (m.bibliography = {
                            label: "PROJECT_INFO.BIBLIOGRAPHY",
                            name: "bibliography",
                            content: v || g,
                            scrollDisabled: !0,
                          }),
                            m._indexes.push("bibliography");
                        }
                        (m.projectInfo = {
                          label: "DIALOGS.PROJECT_INFO",
                          name: "projectInfo",
                          content: "",
                          subTabs: { _indexes: [] },
                          showSubTabs: !1,
                        }),
                          (A = i.getProjectInfo().fileDescription || "") &&
                          "" !== A &&
                          ((m.projectInfo.subTabs.fileDescription = {
                            label: "PROJECT_INFO.FILE_DESCRIPTION",
                            name: "fileDescription",
                            content: A || g,
                          }),
                            m.projectInfo.subTabs._indexes.push(
                              "fileDescription"
                            )),
                          (E = i.getProjectInfo().encodingDescription || "") &&
                          "" !== E &&
                          ((m.projectInfo.subTabs.encodingDescription = {
                            label: "PROJECT_INFO.ENCODING_DESCRIPTION",
                            name: "encodingDescription",
                            content: E || g,
                          }),
                            m.projectInfo.subTabs._indexes.push(
                              "encodingDescription"
                            )),
                          (S = i.getProjectInfo().textProfile || "") &&
                          "" !== S &&
                          ((m.projectInfo.subTabs.textProfile = {
                            label: "PROJECT_INFO.TEXT_PROFILE",
                            name: "textProfile",
                            content: S || g,
                          }),
                            m.projectInfo.subTabs._indexes.push("textProfile")),
                          (T = i.getProjectInfo().outsideMetadata || "") &&
                          "" !== T &&
                          ((m.projectInfo.subTabs.outsideMetadata = {
                            label: "PROJECT_INFO.OUTSIDE_METADATA",
                            name: "outsideMetadata",
                            content: T || g,
                          }),
                            m.projectInfo.subTabs._indexes.push(
                              "outsideMetadata"
                            )),
                          (C = i.getProjectInfo().revisionHistory || "") &&
                          "" !== C &&
                          ((m.projectInfo.subTabs.revisionHistory = {
                            label: "PROJECT_INFO.REVISION_HISTORY",
                            name: "revisionHistory",
                            content: C || g,
                          }),
                            m.projectInfo.subTabs._indexes.push(
                              "revisionHistory"
                            )),
                          m._indexes.push("projectInfo");
                    }
                    var L,
                      D,
                      I = n.getProperty("tabsContainerOpenedContent"),
                      P = n.getProperty("tabsContainerOpenedTab");
                    return (
                      (L = I || (m._indexes.length > 0 ? m._indexes[0] : "")),
                      (D =
                        P ||
                        (m[L].subTabs && m[L].subTabs._indexes.length > 0
                          ? m[L].subTabs._indexes[0]
                          : "")) && (m[L].showSubTabs = !0),
                      (o = {
                        uid: p,
                        type: h,
                        orientation: f,
                        defaults: angular.copy(e),
                        tabs: m,
                        subContentOpened: L,
                        subTabOpened: D,
                        toggleSubTabs: u,
                        toggleSubContent: c,
                        toggleSubTab: d,
                        destroy: l,
                      }),
                      (r[p] = angular.extend(t.vm, o)),
                      a.push({ id: p, type: h }),
                      r[p]
                    );
                  }
                }),
                (o.setSubContentOpenedByType = function (e, t) {
                  angular.forEach(r, function (i) {
                    i.type === e && (i.subContentOpened = t);
                  });
                }),
                (o.setSubTabOpened = function (e, t, i) {
                  angular.forEach(r, function (n) {
                    n.type === e &&
                      ((n.subContentOpened = t), (n.subTabOpened = i));
                  });
                }),
                o
              );
            },
          ]);
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.tabsContainer").controller("TabsContainerCtrl", [
      "$log",
      function (e) {
        e.getInstance("tabsContainer").log("TabsContainerCtrl running");
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.tabsContainer").directive("evtTabsContainer", [
      "evtTabsContainer",
      "evtInterface",
      function (e, t) {
        return {
          restrict: "E",
          scope: { type: "@", orientation: "@" },
          template: i(281),
          link: function (i, n, o) {
            i.vm = { id: i.id, type: i.type, orientation: i.orientation };
            var r = e.build(i);
            t.setTabContainerPanel(r.tabs),
              i.$watch(
                function () {
                  return t.getHomePanel();
                },
                function (t, i) {
                  "" !== i && e.setSubContentOpenedByType("projectInfo", i);
                }
              ),
              i.$on("$destroy", function () {
                r &&
                  ("projectInfo" === r.type && t.setHomePanel(""), r.destroy());
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      "<div class=\"evt-tabs-container {{ ::vm.orientation }}\"> <div class=evt-tabs-container_headers ng-class=\"{'closed': vm.subContentOpened === ''}\"> <span class=evt-tabs-container_header ng-repeat-start=\"tab in ::vm.tabs._indexes\" ng-click=vm.toggleSubTab(tab) ng-class=\"{'active' : vm.subContentOpened === tab,\n                        'hasSubTabs': vm.tabs[tab].showSubTabs }\"> <i ng-if=\"vm.tabs[tab].subTabs && vm.tabs[tab].subTabs._indexes.length > 0\" class=\"fa fa-caret-right\" id=\"{{tab + '_subTabsIcon'}}\"></i> <i ng-if=::vm.tabs[tab].icon class=\"fa {{::vm.tabs[tab].icon}} evt-tabs-container_header-icon\"></i> {{ ::vm.tabs[tab].label | translate }} {{DIALOGS._BOOKMARK | translate}} </span> <ul ng-repeat-end class=evt-tabs-container_header_subTabs ng-class=\"{ 'hide' : !vm.tabs[tab].subTabs || vm.tabs[tab].subTabs._indexes.length === 0 || !vm.tabs[tab].showSubTabs}\"> <li class=evt-tabs-container_header_subTabs_tab ng-repeat=\"subTab in vm.tabs[tab].subTabs._indexes\" ng-click=\"vm.toggleSubTab(tab, subTab)\" ng-class=\"{'active' : vm.subTabOpened === subTab }\"> <i ng-if=::vm.tabs[tab].subTabs[subTab].icon class=\"fa {{::vm.tabs[tab].subTabs[subTab].icon}} evt-tabs-container_header-icon\"></i> {{ vm.tabs[tab].subTabs[subTab].label | translate }} </li> </ul> </div> <div class=evt-tabs-container_panels ng-if=!vm.subTabOpened ng-class=\"{'closed': vm.subContentOpened === '', 'noPadding' : vm.subContentOpened === 'toc' || vm.subContentOpened === 'entitiesLists'}\"> <div class=evt-tabs-container_panel id=\"{{'subTab_' + tab}}\" ng-repeat=\"tab in vm.tabs._indexes\" ng-class=\"{'active' : vm.subContentOpened === tab,\n                        'addPadding': tab === 'intro',\n                        'noscroll': vm.tabs[tab].scrollDisabled,\n                        'noPadding': vm.tabs[tab].noPadding }\" compile=vm.tabs[tab].content> </div> </div> <div class=evt-tabs-container_panels ng-if=vm.subTabOpened> <div class=evt-tabs-container_panel id=\"{{'subTab_' + subTab}}\" ng-repeat=\"subTab in vm.tabs[vm.subContentOpened].subTabs._indexes\" ng-class=\"{'active' : vm.subTabOpened === subTab,\n                       'noscroll': vm.tabs[vm.subContentOpened].scrollDisabled,\n                       'noPadding': vm.tabs[vm.subContentOpened].noPadding }\" compile=vm.tabs[vm.subContentOpened].subTabs[subTab].content></div> </div> </div>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.toc", []);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.toc").provider("evtToc", function () {
      this.defaults;
      (this.setDefaults = function (e) {
        e;
      }),
        (this.$get = [
          "$log",
          "parsedData",
          "evtInterface",
          function (e, t, i) {
            var n = {},
              o = {},
              r = [],
              a = 0;
            e.getInstance("toc");
            return (
              (n.build = function (e) {
                var i,
                  n = a++;
                if (!o[n]) {
                  var s = t.getDocuments()._indexes,
                    l = t.getDivs(),
                    c = t.getDivs()._indexes.main,
                    u = t.getDivs()._indexes.subDivs,
                    d = t.getPages(),
                    p = {};
                  return (
                    (i = {
                      currentId: n,
                      docs: s.map(function (e) {
                        var i = t.getDocument(e),
                          n = {
                            value: i.value,
                            title: i.title,
                            pages: i.pages,
                            divs: { front: [], body: [], back: [], length: 0 },
                          };
                        return (
                          angular.forEach(c[e], function (e) {
                            var i = t.getDiv(e);
                            n.divs[i.section].push(e), n.divs.length++;
                          }),
                          (p[e] = !1),
                          n
                        );
                      }),
                      docsId: s,
                      divs: l,
                      mainDivs: c,
                      subDivs: u,
                      pages: d,
                      keys: ["front", "body", "back"],
                      open: p,
                    }),
                    (o[n] = angular.extend(e.vm, i)),
                    r.push({ id: n }),
                    o[n]
                  );
                }
              }),
              (n.destroy = function (e) {
                delete o[e];
              }),
              n
            );
          },
        ]);
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.toc").controller("TocCtrl", [
      "$log",
      "evtInterface",
      "parsedData",
      "config",
      function (e, t, i, n) {
        var o = e.getInstance("toc"),
          r = this,
          a = function () {
            for (var e = i.getEditions(), t = [], n = 0; n < e.length; n++)
              e[n].visible && t.push(e[n].value);
            return t;
          };
        (this.goToDiv = function (e, i) {
          var n = a();
          "critical" !== t.getState("currentEdition") &&
            n.indexOf("critical") > -1 &&
            t.updateState(currentEdition, "critical"),
            t.updateState("currentDoc", e),
            t.updateDiv(e, i),
            t.updateState("secondaryContent", ""),
            t.updateUrl();
        }),
          (this.goToPage = function (e, i) {
            var o = a();
            if ("critical" === t.getState("currentEdition") && o > 0) {
              var r =
                o.indexOf(n.defaultEdition) > -1 ? n.defaultEdition : o[0];
              t.updateState(currentEdition, r);
            }
            t.updateState("currentDoc", e),
              t.updateState("currentPage", i),
              t.updateState("secondaryContent", ""),
              t.updateUrl();
          }),
          (this.openDetails = function (e) {
            r.open[e] = !r.open[e];
          }),
          o.log("TocCtrl running");
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.toc").directive("evtToc", [
      "evtToc",
      "evtInterface",
      function (e, t) {
        return {
          restrict: "E",
          scope: {},
          transclude: !0,
          template: i(286),
          controllerAs: "vm",
          controller: "TocCtrl",
          link: function (t, i, n) {
            var o = e.build(t);
            t.$on("$destroy", function () {
              o && e.destroy(o.currentId);
            });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<div class=toc> <div class=toc_doc ng-repeat="doc in vm.docs" ng-class="{ \'open\' : vm.open[doc.value] }"> <span class=toc_doc_head ng-click=vm.openDetails(doc.value) ng-class="{ \'open\' : vm.open[doc.value] }">{{doc.title}}</span> <div ng-class="{ \'open\' : vm.open[doc.value] }" class=toc_doc_details> <div ng-if="doc.divs.length > 0"> <span class=list_head>{{ \'TOC.DIVS\' | translate }}</span> <ul ng-repeat="key in vm.keys"> <span class=list_head_sub ng-if="doc.divs[key].length > 0">{{ \'TOC.\' + key.toUpperCase() | translate }}</span> <li ng-repeat="div in doc.divs[key]" ng-click="vm.goToDiv(doc.value, div)"> <span class=indexLink>{{vm.divs[div].title}}</span> <ul ng-if="vm.subDivs[div].length > 0"> <li ng-repeat="subDiv in vm.subDivs[div]" ng-click="vm.goToDiv(doc.value, subDiv)"> <span class=indexLink>{{vm.divs[subDiv].title}}</span> </li> </ul> </li> </ul> </div> <div ng-if="doc.pages.length > 0"> <span class=list_head>{{ \'TOC.PAGES\' | translate }}</span> <ul> <li ng-repeat="page in doc.pages" ng-click="vm.goToPage(doc.value, page)"> <span class=indexLink>{{page}}</span> </li> </ul> </div> </div> </div> </div>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.quote", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.quote")
      .constant("QUOTEDEFAULTS", { openTriggerEvent: "click" })
      .config([
        "evtQuoteProvider",
        "configProvider",
        "QUOTEDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("quote", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.quote").provider("evtQuote", function () {
      var e = this.defaults;
      this.setDefaults = function (t) {
        e = t;
      };
      var t = "";
      this.$get = [
        "evtInterface",
        function (i) {
          var n = {},
            o = {},
            r = [],
            a = 0;
          return (
            (n.build = function (t) {
              var s = a++,
                l = t.quoteId || void 0;
              if (void 0 === o[s]) {
                var c = {
                  uid: s,
                  scopeWit: t.scopeWit || "",
                  quoteId: l,
                  scopeViewMode: i.getState("currentViewMode"),
                  type: t.type || "",
                  over: !1,
                  apparatus: {
                    opened: !1,
                    content: {},
                    _loaded: !1,
                    inline: t.inlineApparatus,
                  },
                  selected: l === n.getCurrentSourcesEntry(),
                  openTriggerEvent: angular.copy(e.openTriggerEvent),
                  defaults: angular.copy(e),
                };
                return (
                  (o[s] = angular.extend(t.vm, c)), r.push({ id: s }), o[s]
                );
              }
            }),
            (n.getById = function (e) {
              if (void 0 !== o[e]) return o[e];
            }),
            (n.getList = function () {
              return r;
            }),
            (n.setCurrentSourcesEntry = function (e) {
              i.getState("currentQuote") !== e &&
                i.updateState("currentQuote", e),
                (t = e);
            }),
            (n.getCurrentSourcesEntry = function () {
              return t;
            }),
            (n.mouseOutAll = function () {
              angular.forEach(o, function (e) {
                e.mouseOut();
              });
            }),
            (n.mouseOverByQuoteId = function (e) {
              angular.forEach(o, function (t) {
                t.quoteId === e ? t.mouseOver() : t.mouseOut();
              });
            }),
            (n.unselectAll = function () {
              angular.forEach(o, function (e) {
                e.unselect();
              }),
                i.updateState("currentQuote", "");
            }),
            (n.closeAllApparatus = function (e) {
              angular.forEach(o, function (t) {
                (void 0 === e || t.uid !== e) && t.closeApparatus();
              });
            }),
            (n.selectById = function (e) {
              angular.forEach(o, function (t) {
                t.quoteId === e ? t.setSelected() : t.unselect();
              }),
                i.updateState("currentQuote", e),
                n.setCurrentSourcesEntry(e);
            }),
            (n.destroy = function (e) {
              delete o[e];
            }),
            n
          );
        },
      ];
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.quote").controller("QuoteCtrl", [
      "$log",
      "$scope",
      "evtQuote",
      "evtPopover",
      "evtInterface",
      "evtApparatuses",
      "evtSourcesApparatusEntry",
      "parsedData",
      function (e, t, i, n, o, r, a, s) {
        var l = this;
        e.getInstance("quote");
        (this.mouseOver = function () {
          l.over = !0;
        }),
          (this.mouseOut = function () {
            l.over = !1;
          }),
          (this.setSelected = function () {
            l.selected = !0;
          }),
          (this.unselect = function () {
            l.selected = !1;
          }),
          (this.isSelected = function () {
            return l.selected;
          }),
          (this.isApparatusOpened = function () {
            return l.apparatus.opened && !t.$parent.vm.state.topBoxOpened;
          }),
          (this.closeApparatus = function () {
            l.apparatus.opened = !1;
          }),
          (this.openApparatus = function () {
            (l.apparatus.opened = !0), (l.apparatus._loaded = !0);
          }),
          (this.toggleOverQuotes = function (e) {
            e.stopPropagation(),
              !1 === l.over
                ? (i.mouseOverByQuoteId(l.quoteId),
                  a.mouseOverByQuoteId(l.quoteId))
                : (i.mouseOutAll(), a.mouseOutAll());
          }),
          (this.toggleSelectQuotes = function (e) {
            !1 === l.selected
              ? (i.selectById(l.quoteId),
                a.selectById(l.quoteId),
                l.apparatus.inline ||
                (r.setCurrentApparatus("sources"),
                  r.alignScrollToQuote(l.quoteId)),
                o.updateState("currentQuote", l.quoteId))
              : (i.unselectAll(),
                o.updateState("currentQuote", ""),
                a.unselectAll()),
              o.updateUrl();
          }),
          (this.toggleApparatus = function (e) {
            n.closeAll(),
              l.over &&
              (l.apparatus._loaded || (l.apparatus._loaded = !0),
                i.closeAllApparatus(l.uid),
                (l.apparatus.opened = !l.apparatus.opened));
          }),
          (this.callbackClick = function (e) {
            e.stopPropagation(),
              l.over &&
              (l.toggleSelectQuotes(e),
                (!l.isSelected() ||
                  (l.apparatus.inline && !l.apparatus.opened)) &&
                l.toggleApparatus(e));
          }),
          (this.openApparatusSubContent = function (e) {
            l.apparatus._subContentOpened = e;
          }),
          (this.hasScopeSource = function () {
            var e = s.getSources()._indexes.quotesRef[l.quoteId] || void 0,
              t = o.getState("currentSourceText");
            return void 0 !== e && e.indexOf(t) >= 0;
          }),
          (this.destroy = function () {
            i.destroy(this.uid);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.quote").directive("evtQuote", [
      "evtQuote",
      "evtInterface",
      function (e, t) {
        return {
          restrict: "E",
          scope: { quoteId: "@", scopeWit: "@", type: "@" },
          transclude: !0,
          template: i(292),
          controllerAs: "vm",
          controller: "QuoteCtrl",
          link: function (i, n, o) {
            i.inlineApparatus = t.isSourcesInline();
            var r = e.build(i);
            i.$on("$destroy", function () {
              r && r.destroy();
            });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      "<span class=quote ng-mouseover=vm.toggleOverQuotes($event) ng-mouseout=vm.toggleOverQuotes($event) ng-class=\"{ 'selected' : vm.isSelected() && !$parent.vm.state.topBoxOpened,\n                'expansed' : (!$parent.vm.state.topBoxOpened && vm.apparatus.opened && vm.apparatus.inline),\n                'over'     : vm.over,\n                'blurred'  : $parent.vm.state.topBoxOpened,\n                'subquote' : vm.type === 'subquote',\n                'noquotes' : $parent.vm.selected,\n                'highlight': vm.hasScopeSource() && vm.scopeViewMode === 'srcTxt'}\"> <sup class=iconbis-evt_quote-left ng-click=vm.callbackClick($event); title=\"{{ 'QUOTES.QUOTE_START' | translate}}\" ng-if=\"(vm.type !== 'subquote' && !$parent.vm.selected) || (vm.over && vm.type === 'subquote' && !$parent.vm.selected)\"> </sup> <span class=quote__text ng-click=vm.callbackClick($event); ng-transclude></span> <sup class=iconbis-evt_quote-right ng-click=vm.callbackClick($event); title=\"{{ 'QUOTES.QUOTE_END' | translate}}\" ng-if=\"(vm.type !== 'subquote' && !$parent.vm.selected) || (vm.over && vm.type === 'subquote' && !$parent.vm.selected)\"> </sup> <evt-sources-apparatus-entry ng-class=\"{'blurred': $parent.vm.state.topBoxOpened}\" ng-if=\"vm.apparatus._loaded && vm.apparatus.inline\" ng-show=vm.isApparatusOpened() data-quote-id={{::vm.quoteId}} data-scope-wit={{::vm.scopeWit}}> </evt-sources-apparatus-entry> </span>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.sourcesApparatusEntry", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.sourcesApparatusEntry")
      .constant("SOURCESAPPENTRY", { firstSubContentOpened: "" })
      .config([
        "evtSourcesApparatusEntryProvider",
        "configProvider",
        "SOURCESAPPENTRY",
        function (e, t, i) {
          var n = t.makeDefaults("sourcesApparatusEntry", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.sourcesApparatusEntry")
      .provider("evtSourcesApparatusEntry", function () {
        var e = this.defaults;
        this.setDefaults = function (t) {
          e = t;
        };
        var t = "";
        this.$get = [
          "parsedData",
          "evtSourcesApparatus",
          "evtInterface",
          function (i, n, o) {
            var r = {},
              a = {},
              s = [],
              l = 0;
            return (
              (r.build = function (t) {
                var r = l++,
                  c = (t.quoteId, t.scopeWit || "");
                if (void 0 === a[r]) {
                  var u,
                    d,
                    p,
                    h,
                    f = "",
                    g = { _indexes: [] },
                    m = { _indexes: [] },
                    v = i.getQuote(t.quoteId);
                  if (void 0 !== v) {
                    for (var b in ((d = (u = n.getContent(v, c)).quote),
                      ((p = u.sources).length = u.sources.length),
                      p))
                      g._indexes.push(p[b].id),
                        (g[p[b].id] = p[b]),
                        (g[p[b].id].tabs = { _indexes: [] }),
                        ("" === g[p[b].id].text && "" === g[p[b].id].url) ||
                        (g[p[b].id].tabs._indexes.push("text"),
                          (g[p[b].id].tabs.text = { label: "SOURCES.TEXT" })),
                        "" !== g[p[b].id].bibl &&
                        (g[p[b].id].tabs._indexes.push("biblRef"),
                          (g[p[b].id].tabs.biblRef = {
                            label: "SOURCES.BIBLIOGRAPHIC_REFERENCE",
                          })),
                        "" !== g[p[b].id]._xmlSource &&
                        (g[p[b].id].tabs._indexes.push("xmlSource"),
                          (g[p[b].id].tabs.xmlSource = {
                            label: "SOURCES.XML",
                          }));
                    for (
                      var y =
                        p && p[0] && g[p[0].id]
                          ? g[p[0].id].tabs
                          : { _indexes: [] },
                      x = 0;
                      x < y._indexes.length;
                      x++
                    ) {
                      var w = y._indexes[x];
                      m._indexes.push(y._indexes[x]), (m[w] = y[w]);
                    }
                    "" !== v._xmlSource && (h = u._xmlSource),
                      m._indexes.length > 0 &&
                      "" !== e.firstSubContentOpened &&
                      (f =
                        m._indexes.indexOf(e.firstSubContentOpened) < 0
                          ? m._indexes[0]
                          : e.firstSubContentOpened);
                  }
                  var _ = {
                    uid: r,
                    quoteId: t.quoteId,
                    head: d,
                    xml: h,
                    sources: p,
                    srcList: g,
                    _activeSource: p[0] ? p[0].id : void 0,
                    _overSource: "",
                    tabs: m,
                    _subContentOpened: f,
                    over: !1,
                    selected: !1,
                    currentViewMode: o.getState("currentViewMode"),
                  };
                  return (
                    (a[r] = angular.extend(t.vm, _)), s.push({ id: r }), a[r]
                  );
                }
              }),
              (r.getById = function (e) {
                if (void 0 !== a[e]) return a[e];
              }),
              (r.getList = function () {
                return s;
              }),
              (r.setCurrentSourcesEntry = function (e) {
                o.getCurrentQuote !== e && o.updateState("currentQuote", e),
                  (t = e);
              }),
              (r.getCurrentSourcesEntry = function () {
                return t;
              }),
              (r.mouseOutAll = function () {
                angular.forEach(a, function (e) {
                  e.mouseOut();
                });
              }),
              (r.mouseOverByQuoteId = function (e) {
                angular.forEach(a, function (t) {
                  t.quoteId === e ? t.mouseOver() : t.mouseOut();
                });
              }),
              (r.unselectAll = function () {
                angular.forEach(a, function (e) {
                  e.unselect();
                });
              }),
              (r.selectById = function (e) {
                angular.forEach(a, function (t) {
                  t.quoteId === e
                    ? t.setSelected()
                    : (t.unselect(), t.closeSubContent());
                }),
                  r.setCurrentSourcesEntry(e);
              }),
              (r.destroy = function (e) {
                delete a[e];
              }),
              r
            );
          },
        ];
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.sourcesApparatusEntry")
      .controller("sourcesApparatusEntryCtrl", [
        "$scope",
        "evtSourcesApparatusEntry",
        "evtQuote",
        "evtBox",
        "evtApparatuses",
        "evtInterface",
        "parsedData",
        function (e, t, i, n, o, r, a) {
          e.content = {};
          var s = this;
          (this.toggleSource = function (e) {
            if (s._activeSource !== e) {
              (s._activeSource = e), (s.tabs = { _indexes: [] });
              for (
                var t = s.srcList[s._activeSource].tabs, i = 0;
                i < t._indexes.length;
                i++
              ) {
                var n = t._indexes[i];
                s.tabs._indexes.push(t._indexes[i]), (s.tabs[n] = t[n]);
              }
            }
          }),
            (this.toggleOverSource = function (e, t) {
              s._overSource !== t ? (s._overSource = t) : (s._overSource = "");
            }),
            (this.getActiveSourceAbbr = function (e) {
              for (var t = 0; t < s.sources.length; t++)
                if (s.sources[t].id === e) return s.sources[t].abbr;
            }),
            (this.mouseOver = function () {
              s.over = !0;
            }),
            (this.mouseOut = function () {
              s.over = !1;
            }),
            (this.setSelected = function () {
              s.selected = !0;
            }),
            (this.unselect = function () {
              (s.selected = !1), s.closeSubContent();
            }),
            (this.isSelect = function () {
              return r.getState("currentQuote") === s.quoteId || s.selected;
            }),
            (this.closeSubContent = function () {
              s._subContentOpened = "";
            }),
            (this.toggleSubContent = function (e) {
              s._subContentOpened !== e
                ? (s._subContentOpened = e)
                : (s._subContentOpened = "");
            }),
            (this.toggleOverSourcesEntries = function (e) {
              e.stopPropagation(),
                s.over
                  ? (t.mouseOutAll(),
                    "readingTxt" === s.currentViewMode && i.mouseOutAll())
                  : (t.mouseOverByQuoteId(s.quoteId),
                    "readingTxt" === s.currentViewMode &&
                    i.mouseOverByQuoteId(s.quoteId));
            }),
            (this.callbackClick = function (e) {
              e.stopPropagation(),
                "readingTxt" === s.currentViewMode &&
                (t.selectById(s.quoteId), i.selectById(s.quoteId));
            }),
            (this.alignQuotes = function () {
              n.alignScrollToQuote(s.quoteId),
                o.alignScrollToQuote(s.quoteId),
                i.selectById(s.quoteId);
            }),
            (this.isSourceTextAvailable = function (e) {
              for (
                var t = a.getSources()._indexes.availableTexts, i = !1, n = 0;
                n < t.length;
                n++
              )
                t[n].id === e && (i = !0);
              return i;
            }),
            (this.destroy = function () {
              t.destroy(this.uid);
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.sourcesApparatusEntry")
      .directive("evtSourcesApparatusEntry", [
        "evtSourcesApparatusEntry",
        "evtInterface",
        function (e, t) {
          return {
            restrict: "E",
            scope: { quoteId: "@", scopeWit: "@" },
            transclude: !0,
            template: i(298),
            controllerAs: "vm",
            controller: "sourcesApparatusEntryCtrl",
            link: function (i, n, o) {
              i.scopeViewMode = t.getState("currentViewMode");
              var r = e.build(i);
              i.$on("$destroy", function () {
                r && r.destroy();
              });
            },
          };
        },
      ]);
  },
  function (e, t) {
    e.exports =
      "<div class=sources-apparatus-entry ng-class=\"{ 'selected' : vm.isSelect() && vm.currentViewMode == 'readingTxt',\n                'over' : vm.currentViewMode === 'readingTxt' && vm.over,\n                'srctxt' : vm.currentViewMode === 'srcTxt'}\" ng-mouseover=vm.toggleOverSourcesEntries($event) ng-mouseout=vm.toggleOverSourcesEntries($event) ng-click=vm.callbackClick($event)> <div class=sources-apparatus-entry_main-content ng-if=\"vm.currentViewMode !== 'srcTxt'\"> <div class=sources-apparatus-entry_tools> <button-switch title=\" {{ 'BUTTONS.ALIGN_QUOTES' | translate }}\" ng-if=\"vm.currentViewMode !== 'imgTxt' && vm.currentViewMode !== 'srcTxt'\" data-label=\"\" data-icon=v-align data-type=alignReadings ng-click=vm.alignQuotes()></button-switch> </div> <sup class=iconbis-evt_quote-left> </sup> <span class=sources-apparatus-entry_main-content_header compile=vm.head></span> </div> <div class=sources-apparatus-entry_main-content_list ng-class=\"{ 'srctxt' : vm.currentViewMode === 'srcTxt' }\"> <span class=sources-apparatus-entry_main-content_list-label ng-if=\"vm.sources.length > 1\"> {{ 'SOURCES.QUOTED_SOURCES' | translate }} </span> <ul ng-class=\"{ 'pointer' : (vm.over || vm.selected) && vm.sources.length > 1 && vm.currentViewMode !== 'srcTxt'}\"> <li ng-repeat-start=\"source in ::vm.sources\" class=source-id ng-class=\"{ 'selected' : vm.selected && vm.sources.length > 1 && source.id == vm._activeSource,\n                            'over'   : (vm.over || vm.selected) && vm.sources.length > 1 && source.id == vm._overSource && vm.currentViewMode !== 'srcTxt'}\" ng-mouseover=\"vm.toggleOverSource($event, source.id)\" ng-mouseout=\"vm.toggleOverSource($event, source.id)\" ng-click=vm.toggleSource(source.id) compile=source.abbr> </li> <span class=compareLabel ng-if=\"vm.currentViewMode === 'srcTxt' && vm.isSourceTextAvailable(source.id)\" ng-repeat-end> <evt-source-ref data-source-id={{::source.id}}> {{ 'SOURCES.COMPARE_TEXT' | translate }} </evt-source-ref> </span> </ul> </div> <div class=sources-apparatus-entry_other-content ng-if=\"vm.tabs._indexes.length > 0 && vm.currentViewMode !== 'srcTxt'\"> <div class=sources-apparatus-entry_other-content_headers ng-class=\"{'closed' : vm._subContentOpened === ''}\"> <span ng-repeat=\"tab in ::vm.tabs._indexes\" ng-click=vm.toggleSubContent(tab) ng-class=\"{'active' : vm._subContentOpened == tab }\"> {{ vm.tabs[tab].label | translate}} </span> </div> <div class=sources-apparatus-entry_other-content_panels ng-class=\"{'closed': vm._subContentOpened === ''}\"> <div class=sources-apparatus-entry_other-content_panel ng-repeat=\"tab in ::vm.tabs._indexes\" ng-class=\"{'active' : vm._subContentOpened == tab}\" ng-switch=::tab> <div ng-switch-when=text> <span ng-if=\"::vm.srcList[vm._activeSource].text != ''\" compile=vm.srcList[vm._activeSource].text></span> <span ng-if=\"::vm.srcList[vm._activeSource].url != ''\" compile=vm.srcList[vm._activeSource].url></span> </div> <div ng-switch-when=biblRef ng-if=\"::vm.srcList[vm._activeSource].bibl !== ''\" compile=vm.srcList[vm._activeSource].bibl> </div> <div ng-switch-when=moreInfo> </div> <div ng-switch-when=xmlSource> {{ 'SOURCES.XML_SOURCE_QUOTE' | translate }} <pre>{{ ::vm.xml | newLinesToSpaces | normalizeMultispaces | prettyXml }}</pre> {{ 'SOURCES.XML_SOURCE_FOR' | translate }} <span compile=vm.getActiveSourceAbbr(vm._activeSource)></span> <pre>{{ ::vm.srcList[vm._activeSource]._xmlSource | newLinesToSpaces | normalizeMultispaces | prettyXml }}</pre> </div> <div ng-switch-default ng-if=\"::vm.srcList[vm._activeSource].bibl !== ''\" compile=vm.srcList[vm._activeSource].bibl></div> </div> </div> </div> </div> ";
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.sourcesApparatusEntry")
      .directive("evtSourceRef", [
        "evtBox",
        "evtInterface",
        "parsedData",
        "evtSourceSeg",
        "evtApparatuses",
        function (e, t, n, o, r) {
          return {
            restrict: "E",
            scope: { sourceId: "@", sourceAbbr: "@" },
            transclude: !0,
            template: i(300),
            link: function (i, o, a) {
              i.openSource = function () {
                var o = i.sourceId;
                t.getState("currentSourceText") !== o &&
                  (t.updateCurrentSourceText(o),
                    t.updateState("currentSource", o)),
                  "srcTxt" !== t.getState("currentViewMode") &&
                  t.updateState("currentViewMode", "srcTxt");
                var a = "",
                  s = "",
                  l = t.getState("currentQuote") || "",
                  c = n.getSources()._indexes.correspId[i.sourceId] || [];
                for (var u in Object.keys(c))
                  for (var d = 0; d < c[Object.keys(c)[u]].length; d++)
                    c[Object.keys(c)[u]][d] === l &&
                      ((a = c[Object.keys(c)[u]][d]), (s = Object.keys(c)[u]));
                "" !== a &&
                  "" !== s &&
                  (e.alignScrollToQuote(a, s), r.alignScrollToQuote(a, s));
              };
            },
          };
        },
      ]);
  },
  function (e, t) {
    e.exports =
      "<span class=source-ref ng-click=openSource()> <span class=source-ref_text ng-transclude></span> </span>";
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.sourcesApparatusEntry")
      .provider("evtSourceSeg", function () {
        var e = "";
        this.$get = [
          "parsedData",
          "evtSourcesApparatus",
          "evtInterface",
          function (t, i, n) {
            var o = {},
              r = {},
              a = [],
              s = 0;
            return (
              (o.build = function (e) {
                var o,
                  l = s++,
                  c = e.segId || void 0,
                  u = e.sourceId || void 0;
                if (void 0 === r[l]) {
                  for (
                    var d,
                    p = n.getState("currentQuote") || "",
                    h = [],
                    f = t.getSources()._indexes.correspId[u][c],
                    g = 0;
                    g < f.length;
                    g++
                  )
                    (d = i.getContent(t.getQuote(f[g]), "").quote),
                      h.push({ id: f[g], text: d });
                  f.indexOf(p) >= 0 && (o = p);
                  var m = {
                    uid: l,
                    segId: c,
                    quoteId: o,
                    sourceId: u,
                    over: !1,
                    selected: !1,
                    panel: {
                      quotes: h,
                      _quoteOver: "",
                      _quoteSelected: o || "",
                    },
                  };
                  return (
                    (r[l] = angular.extend(e.vm, m)), a.push({ id: l }), r[l]
                  );
                }
              }),
              (o.getById = function (e) {
                if (void 0 !== r[e]) return r[e];
              }),
              (o.getList = function () {
                return a;
              }),
              (o.mouseOutAll = function () {
                angular.forEach(r, function (e) {
                  e.mouseOut();
                });
              }),
              (o.mouseOverBySegId = function (e) {
                angular.forEach(r, function (t) {
                  t.segId === e ? t.mouseOver() : t.mouseOut();
                });
              }),
              (o.selectBySegId = function (e) {
                angular.forEach(r, function (t) {
                  t.segId === e
                    ? t.setSelected()
                    : (t.unselect(), t.unselectQuote());
                });
              }),
              (o.unselectAll = function () {
                angular.forEach(r, function (e) {
                  e.unselect(), e.unselectQuote();
                });
              }),
              (o.updateCurrentQuote = function (t) {
                e !== t &&
                  angular.forEach(r, function (i) {
                    for (var n = i.panel.quotes, o = 0; o < n.length; o++)
                      n[o].id === t &&
                        i.getQuoteId() !== t &&
                        (i.setQuoteId(t), (e = t));
                  });
              }),
              (o.getCurrentQuote = function () {
                return e;
              }),
              (o.destroy = function (e) {
                delete r[e];
              }),
              o
            );
          },
        ];
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.sourcesApparatusEntry")
      .controller("sourceSegCtrl", [
        "evtSourceSeg",
        "evtBox",
        "evtQuote",
        "evtApparatuses",
        function (e, t, i, n) {
          var o = this;
          (this.mouseOver = function () {
            o.over = !0;
          }),
            (this.mouseOut = function () {
              o.over = !1;
            }),
            (this.setSelected = function () {
              o.selected = !0;
            }),
            (this.unselect = function () {
              o.selected = !1;
            }),
            (this.getQuoteId = function () {
              return o.quoteId;
            }),
            (this.setQuoteId = function (e) {
              o.quoteId !== e && (o.quoteId = e);
            }),
            (this.unselectQuote = function () {
              (o.panel._quoteOver = ""), (o.panel._quoteSelected = "");
            }),
            (this.toggleOverSeg = function (t, i) {
              t.stopPropagation(),
                !1 === o.over ? e.mouseOverBySegId(i) : e.mouseOutAll();
            }),
            (this.callbackClick = function (t, i) {
              t.stopPropagation(),
                o.selected ? e.unselectAll() : e.selectBySegId(i);
            }),
            (this.toggleQuoteOver = function (t, i) {
              t.stopPropagation(),
                o.panel._quoteOver !== i
                  ? (e.mouseOutAll(), (o.panel._quoteOver = i))
                  : (o.panel._quoteOver = "");
            }),
            (this.selectQuote = function (r, a) {
              r.stopPropagation(),
                (o.quoteId = a),
                (o.panel._quoteSelected = a),
                e.updateCurrentQuote(a),
                i.selectById(a),
                t.alignScrollToQuote(a, o.segId),
                n.alignScrollToQuote(a, o.segId);
            }),
            (this.destroy = function () {
              e.destroy(this.uid);
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.sourcesApparatusEntry")
      .directive("evtSourceSeg", [
        "evtSourceSeg",
        function (e) {
          return {
            restrict: "E",
            scope: { segId: "@", sourceId: "@" },
            transclude: !0,
            template: i(304),
            controllerAs: "vm",
            controller: "sourceSegCtrl",
            link: function (t, i, n) {
              var o = e.build(t);
              t.$on("$destroy", function () {
                o && o.destroy();
              });
            },
          };
        },
      ]);
  },
  function (e, t) {
    e.exports =
      '<span class=source-seg> <sup class=iconbis-evt_quote-left title="Quoted in the main text"> </sup> <span class=source-seg_text data-quote-id={{vm.quoteId}} ng-mouseover="vm.toggleOverSeg($event, vm.segId)" ng-mouseout="vm.toggleOverSeg($event, vm.segId)" ng-click="vm.callbackClick($event, vm.segId)" ng-class="{ \'over\': vm.over,\n                    \'selected\': vm.selected }" ng-transclude></span> <sup class=iconbis-evt_quote-right title="Quoted in the main text"> </sup> <div class=source-seg_panel ng-if=vm.selected> <span class=source-seg_panel_label> Related quotes: </span> <ul> <li ng-repeat="quote in ::vm.panel.quotes" class="quoteText inSourceSeg" ng-class="{ \'over\' : vm.panel._quoteOver == quote.id,\n                            \'selected\' : vm.panel._quoteSelected == quote.id}" ng-mouseover="vm.toggleQuoteOver($event, quote.id)" ng-mouseout="vm.toggleQuoteOver($event, quote.id)" ng-click="vm.selectQuote($event, quote.id)" title="Compare texts" compile=quote.text> </li> </ul> </div> </span>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.analogue", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.analogue")
      .constant("ANALOGUEDEFAULTS", {})
      .config([
        "evtAnalogueProvider",
        "configProvider",
        "ANALOGUEDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("analogue", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.analogue").provider("evtAnalogue", function () {
      var e = this.defaults;
      this.setDefaults = function (t) {
        e = t;
      };
      var t = "";
      this.$get = [
        "evtInterface",
        function (i) {
          var n = {},
            o = {},
            r = [],
            a = 0;
          return (
            (n.build = function (t) {
              var s = a++,
                l = t.analogueId || void 0;
              if (void 0 === o[s]) {
                var c = {
                  uid: s,
                  scopeWit: t.scopeWit || "",
                  analogueId: l,
                  scopeViewMode: i.getState("currentViewMode"),
                  over: !1,
                  selected: l === n.getCurrentAnaloguesEntry(),
                  apparatus: {
                    opened: !1,
                    content: {},
                    _loaded: !1,
                    inline: t.inlineApparatus,
                  },
                  openTriggerEvent: angular.copy(e.openTriggerEvent),
                  defaults: angular.copy(e),
                };
                return (
                  (o[s] = angular.extend(t.vm, c)), r.push({ id: s }), o[s]
                );
              }
            }),
            (n.getById = function (e) {
              if (void 0 !== o[e]) return o[e];
            }),
            (n.getList = function () {
              return r;
            }),
            (n.setCurrentAnaloguesEntry = function (e) {
              i.getState("currentAnalogue") !== e &&
                i.updateState("currentAnalogue", e),
                (t = e);
            }),
            (n.getCurrentAnaloguesEntry = function () {
              return t;
            }),
            (n.mouseOutAll = function () {
              angular.forEach(o, function (e) {
                e.mouseOut();
              });
            }),
            (n.mouseOverByAnalogueId = function (e) {
              angular.forEach(o, function (t) {
                t.analogueId === e ? t.mouseOver() : t.mouseOut();
              });
            }),
            (n.unselectAll = function () {
              angular.forEach(o, function (e) {
                e.unselect();
              }),
                i.updateState("currentAnalogue", "");
            }),
            (n.closeAllApparatus = function (e) {
              angular.forEach(o, function (t) {
                (void 0 === e || t.uid !== e) && t.closeApparatus();
              });
            }),
            (n.selectById = function (e) {
              angular.forEach(o, function (t) {
                t.analogueId === e ? t.setSelected() : t.unselect();
              }),
                i.updateState("currentAnalogue", e),
                n.setCurrentAnaloguesEntry(e);
            }),
            (n.destroy = function (e) {
              delete o[e];
            }),
            n
          );
        },
      ];
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.analogue").controller("AnalogueCtrl", [
      "$log",
      "$scope",
      "evtAnalogue",
      "evtPopover",
      "evtInterface",
      "evtApparatuses",
      "evtAnaloguesApparatusEntry",
      function (e, t, i, n, o, r, a) {
        var s = this;
        e.getInstance("analogue");
        (this.mouseOver = function () {
          s.over = !0;
        }),
          (this.mouseOut = function () {
            s.over = !1;
          }),
          (this.setSelected = function () {
            s.selected = !0;
          }),
          (this.unselect = function () {
            s.selected = !1;
          }),
          (this.isSelect = function () {
            return s.selected;
          }),
          (this.isApparatusOpened = function () {
            return s.apparatus.opened && !t.$parent.vm.state.topBoxOpened;
          }),
          (this.closeApparatus = function () {
            s.apparatus.opened = !1;
          }),
          (this.openApparatus = function () {
            s.apparatus.opened = !0;
          }),
          (this.toggleOverAnalogues = function (e) {
            e.stopPropagation(),
              !1 === s.over
                ? (i.mouseOverByAnalogueId(s.analogueId),
                  a.mouseOverByAnalogueId(s.analogueId))
                : (i.mouseOutAll(), a.mouseOutAll());
          }),
          (this.toggleSelectAnalogues = function (e) {
            !1 === s.selected
              ? s.apparatus.opened || i.selectById(s.analogueId)
              : s.apparatus.opened && (i.unselectAll(), i.closeAllApparatus()),
              o.updateUrl();
          }),
          (this.toggleApparatus = function (e) {
            n.closeAll(),
              s.over &&
              (s.apparatus.inline
                ? s.apparatus._loaded || (s.apparatus._loaded = !0)
                : ("analogues" !== r.getCurrentApparatus() &&
                  r.setCurrentApparatus("analogues"),
                  a.selectById(s.analogueId),
                  r.alignScrollToAnalogue(s.analogueId)),
                i.closeAllApparatus(s.uid),
                (s.apparatus.opened = !s.apparatus.opened));
          }),
          (this.callbackClick = function (e) {
            e.stopPropagation(),
              s.over &&
              (s.toggleSelectAnalogues(e),
                s.isSelect() && !s.apparatus.opened
                  ? s.toggleApparatus(e)
                  : a.unselectAll());
          }),
          (this.destroy = function () {
            i.destroy(this.uid);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.analogue").directive("evtAnalogue", [
      "evtAnalogue",
      "evtInterface",
      function (e, t) {
        return {
          restrict: "E",
          scope: { analogueId: "@", scopeWit: "@" },
          transclude: !0,
          template: i(310),
          controllerAs: "vm",
          controller: "AnalogueCtrl",
          link: function (i, n, o) {
            i.inlineApparatus = t.isAnaloguesInline();
            var r = e.build(i);
            i.$on("$destroy", function () {
              r && r.destroy();
            });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      "<span class=analogue ng-mouseover=vm.toggleOverAnalogues($event) ng-mouseout=vm.toggleOverAnalogues($event) ng-class=\"{ 'selected' : vm.isSelect() && !$parent.vm.state.topBoxOpened,\n                'expansed' : (!$parent.vm.state.topBoxOpened && vm.apparatus.opened && vm.apparatus.inline),\n                'over'     : vm.over,\n                'blurred'  : $parent.vm.state.topBoxOpened}\"> <i class=iconbis-evt_analogue title=\"{{ 'ANALOGUES.ANALOGUE' | translate}}\" ng-click=vm.callbackClick($event) ng-if=\"(vm.type !== 'subquote' && !$parent.vm.selected) || (vm.over && vm.type === 'subquote' && !$parent.vm.selected)\"> </i> <span class=analogue__text ng-click=vm.callbackClick($event) ng-transclude></span> <evt-analogues-apparatus-entry ng-class=\"{'blurred': $parent.vm.state.topBoxOpened}\" ng-if=\"vm.apparatus._loaded && vm.apparatus.inline\" ng-show=vm.isApparatusOpened() data-analogue-id={{::vm.analogueId}} data-scope-wit={{::vm.scopeWit}}> </evt-analogues-apparatus-entry> </span>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.analoguesApparatusEntry", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.analoguesApparatusEntry")
      .constant("ANALOGUESAPPENTRY", { firstSubContentOpened: "" })
      .config([
        "evtAnaloguesApparatusEntryProvider",
        "configProvider",
        "ANALOGUESAPPENTRY",
        function (e, t, i) {
          var n = t.makeDefaults("analoguesApparatusEntry", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.analoguesApparatusEntry")
      .provider("evtAnaloguesApparatusEntry", function () {
        var e = this.defaults;
        this.setDefaults = function (t) {
          e = t;
        };
        var t = "";
        this.$get = [
          "parsedData",
          "evtAnaloguesApparatus",
          "evtInterface",
          function (i, n, o) {
            var r = {},
              a = {},
              s = [],
              l = 0;
            return (
              (r.build = function (t) {
                var r = l++,
                  c = (t.analogueId, t.scopeWit || "");
                if (void 0 === a[r]) {
                  var u,
                    d,
                    p,
                    h,
                    f,
                    g = "",
                    m = { _indexes: [] },
                    v = { _indexes: [] },
                    b = i.getAnalogue(t.analogueId);
                  if (void 0 !== b) {
                    for (var y in ((d = (u = n.getContent(b, c)).header),
                      ((p = u.sources).length = u.sources.length),
                      p))
                      m._indexes.push(p[y].id),
                        (m[p[y].id] = p[y]),
                        (m[p[y].id].tabs = { _indexes: [] }),
                        "" !== m[p[y].id].text &&
                        (m[p[y].id].tabs._indexes.push("text"),
                          (m[p[y].id].tabs.text = { label: "ANALOGUES.TEXT" })),
                        "" !== m[p[y].id].bibl &&
                        (m[p[y].id].tabs._indexes.push("biblRef"),
                          (m[p[y].id].tabs.biblRef = {
                            label: "ANALOGUES.BIBLIOGRAPHIC_REFERENCE",
                          })),
                        "" !== m[p[y].id]._xmlSource &&
                        (m[p[y].id].tabs._indexes.push("xmlSource"),
                          (m[p[y].id].tabs.xmlSource = {
                            label: "ANALOGUES.XML",
                          }));
                    for (
                      var x = m[p[0].id].tabs, w = 0;
                      w < x._indexes.length;
                      w++
                    ) {
                      var _ = x._indexes[w];
                      v._indexes.push(x._indexes[w]), (v[_] = x[_]);
                    }
                    "" !== b._xmlSource && (f = u._xmlSource),
                      v._indexes.length > 0 &&
                      "" !== e.firstSubContentOpened &&
                      (g =
                        v._indexes.indexOf(e.firstSubContentOpened) < 0
                          ? v._indexes[0]
                          : e.firstSubContentOpened);
                  }
                  h = void 0 !== p && void 0 !== p[0].id ? p[0].id : void 0;
                  var A = {
                    uid: r,
                    analogueId: t.analogueId,
                    header: d,
                    xml: f,
                    sources: p,
                    srcList: m,
                    _activeSource: h,
                    _overSource: "",
                    tabs: v,
                    _subContentOpened: g,
                    over: !1,
                    selected: !1,
                    currentViewMode: o.getState("currentViewMode"),
                  };
                  return (
                    (a[r] = angular.extend(t.vm, A)), s.push({ id: r }), a[r]
                  );
                }
              }),
              (r.getById = function (e) {
                if (void 0 !== a[e]) return a[e];
              }),
              (r.getList = function () {
                return s;
              }),
              (r.setCurrentAnaloguesEntry = function (e) {
                o.getCurrentAnalogue !== e &&
                  o.updateState("currentAnalogue", e),
                  (t = e);
              }),
              (r.getCurrentAnaloguesEntry = function () {
                return t;
              }),
              (r.mouseOutAll = function () {
                angular.forEach(a, function (e) {
                  e.mouseOut();
                });
              }),
              (r.mouseOverByAnalogueId = function (e) {
                angular.forEach(a, function (t) {
                  t.analogueId === e ? t.mouseOver() : t.mouseOut();
                });
              }),
              (r.unselectAll = function () {
                angular.forEach(a, function (e) {
                  e.unselect();
                });
              }),
              (r.selectById = function (e) {
                angular.forEach(a, function (t) {
                  t.analogueId === e
                    ? t.setSelected()
                    : (t.unselect(), t.closeSubContent());
                }),
                  r.setCurrentAnaloguesEntry(e);
              }),
              (r.destroy = function (e) {
                delete a[e];
              }),
              r
            );
          },
        ];
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.analoguesApparatusEntry")
      .controller("analoguesApparatusEntryCtrl", [
        "evtAnaloguesApparatusEntry",
        "evtInterface",
        "evtAnalogue",
        "evtBox",
        "evtApparatuses",
        function (e, t, i, n, o) {
          var r = this;
          (this.toggleSource = function (e) {
            if (r._activeSource !== e) {
              (r._activeSource = e), (r.tabs = { _indexes: [] });
              for (
                var t = r.srcList[r._activeSource].tabs, i = 0;
                i < t._indexes.length;
                i++
              ) {
                var n = t._indexes[i];
                r.tabs._indexes.push(t._indexes[i]), (r.tabs[n] = t[n]);
              }
            }
          }),
            (this.toggleOverSource = function (e, t) {
              r._overSource !== t ? (r._overSource = t) : (r._overSource = "");
            }),
            (this.getActiveSourceAbbr = function (e) {
              for (var t = 0; t < r.sources.length; t++)
                if (r.sources[t].id === e) return r.sources[t].abbr;
            }),
            (this.toggleSubContent = function (e) {
              r._subContentOpened !== e
                ? (r._subContentOpened = e)
                : (r._subContentOpened = "");
            }),
            (this.mouseOver = function () {
              r.over = !0;
            }),
            (this.mouseOut = function () {
              r.over = !1;
            }),
            (this.setSelected = function () {
              r.selected = !0;
            }),
            (this.unselect = function () {
              (r.selected = !1), r.closeSubContent();
            }),
            (this.isSelect = function () {
              return (
                t.getState("currentAnalogue") === r.analogueId || r.selected
              );
            }),
            (this.closeSubContent = function () {
              r._subContentOpened = "";
            }),
            (this.toggleOverAnaloguesEntries = function (t) {
              t.stopPropagation(),
                r.over
                  ? (e.mouseOutAll(),
                    "readingTxt" === r.currentViewMode && i.mouseOutAll())
                  : (e.mouseOverByAnalogueId(r.analogueId),
                    "readingTxt" === r.currentViewMode &&
                    i.mouseOverByAnalogueId(r.analogueId));
            }),
            (this.callbackClick = function (t) {
              t.stopPropagation(),
                "readingTxt" === r.currentViewMode &&
                (e.selectById(r.analogueId), i.selectById(r.analogueId));
            }),
            (this.alignAnalogues = function () {
              n.alignScrollToAnalogue(r.analogueId),
                o.alignScrollToAnalogue(r.analogueId),
                i.selectById(r.analogueId);
            }),
            (this.destroy = function () {
              e.destroy(this.uid);
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.analoguesApparatusEntry")
      .directive("evtAnaloguesApparatusEntry", [
        "evtAnaloguesApparatusEntry",
        "evtInterface",
        function (e, t) {
          return {
            restrict: "E",
            scope: { analogueId: "@", scopeWit: "@" },
            transclude: !0,
            template: i(316),
            controllerAs: "vm",
            controller: "analoguesApparatusEntryCtrl",
            link: function (i, n, o) {
              i.scopeViewMode = t.getState("currentViewMode");
              var r = e.build(i);
              i.$on("$destroy", function () {
                r && r.destroy();
              });
            },
          };
        },
      ]);
  },
  function (e, t) {
    e.exports =
      "<div class=analogues-apparatus-entry ng-class=\"{ 'selected' : vm.isSelect() && vm.currentViewMode == 'readingTxt',\n                 'over' : vm.currentViewMode === 'readingTxt' && vm.over}\" ng-mouseover=vm.toggleOverAnaloguesEntries($event) ng-mouseout=vm.toggleOverAnaloguesEntries($event) ng-click=vm.callbackClick($event)> <div class=analogues-apparatus-entry_main-content> <div class=analogues-apparatus-entry_tools> <button-switch title=\"{{ 'BUTTONS.ALIGN_ANALOGUES' | translate }} \" ng-if=\"vm.currentViewMode !== 'imgTxt' && vm.currentViewMode !== 'srcTxt'\" data-label=\"\" data-icon=v-align data-type=alignReadings ng-click=vm.alignAnalogues()></button-switch> </div> <sup class=iconbis-evt_analogue> </sup> <span class=analogues-apparatus-entry_main-content_header compile=vm.header></span> </div> <div class=analogues-apparatus-entry_main-content_list> <span class=analogues-apparatus-entry_main-content_list-label> {{'ANALOGUES.PARALLEL_PASSAGES_IN' | translate}} </span> <ul ng-class=\"{ 'pointer' : (vm.over || vm.selected) && vm.sources.length > 1}\"> <li ng-repeat=\"source in ::vm.sources\" class=source-id ng-class=\"{ 'selected' : vm.selected && vm.sources.length > 1 && source.id == vm._activeSource,\n                            'over'   : (vm.over || vm.selected) && vm.sources.length > 1 && source.id == vm._overSource}\" ng-mouseover=\"vm.toggleOverSource($event, source.id)\" ng-mouseout=\"vm.toggleOverSource($event, source.id)\" ng-click=vm.toggleSource(source.id) compile=source.abbr> </li> </ul> </div> <div class=analogues-apparatus-entry_other-content ng-if=\"vm.tabs._indexes.length > 0\"> <div class=analogues-apparatus-entry_other-content_headers> <span class=analogues-apparatus-entry_tabLabel ng-repeat=\"tab in ::vm.tabs._indexes\" ng-click=vm.toggleSubContent(tab) ng-class=\"{'active' : vm._subContentOpened == tab }\"> {{ vm.tabs[tab].label | translate }} </span> </div> <div class=analogues-apparatus-entry_other-content_panels ng-class=\"{'closed': vm._subContentOpened === ''}\"> <div class=analogues-apparatus-entry_other-content_panel ng-repeat=\"tab in ::vm.tabs._indexes\" ng-class=\"{'active' : vm._subContentOpened == tab}\" ng-switch=::tab> <div ng-switch-when=text compile=vm.srcList[vm._activeSource].text> </div> <div ng-switch-when=biblRef ng-if=\"::vm.srcList[vm._activeSource].bibl !== ''\" compile=vm.srcList[vm._activeSource].bibl> </div> <div ng-switch-when=xmlSource> <span class=xml-title> {{ 'ANALOGUES.XML_SOURCE_FOR' | translate}} {{ 'ANALOGUES.ANALOGUE' | translate}} </span> <pre>{{ ::vm.xml | newLinesToSpaces | normalizeMultispaces | prettyXml}}</pre> <span class=xml-title> {{ 'ANALOGUES.XML_SOURCE_FOR' | translate}} <span compile=vm.getActiveSourceAbbr(vm._activeSource)> </span> <pre>{{ ::vm.srcList[vm._activeSource]._xmlSource }}</pre> </span></div> <div ng-switch-default ng-if=\"::vm.srcList[vm._activeSource].bibl !== ''\" compile=vm.srcList[vm._activeSource].bibl></div> </div> </div> </div> </div>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.apparatuses", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.apparatuses")
      .constant("APPARATUSESDEFAULTS", {
        currentApparatus: "Critical Apparatus",
        apparatusesOrder: ["Sources", "Critical Apparatus", "Analogues"],
        appStructure: "tabs",
      })
      .config([
        "evtApparatusesProvider",
        "configProvider",
        "APPARATUSESDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("apparatuses", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.apparatuses")
      .provider("evtApparatuses", function () {
        var e = this.defaults;
        this.setDefaults = function (t) {
          e = t;
        };
        this.$get = [
          "parsedData",
          "evtInterface",
          function (t, i) {
            var n = {},
              o = {},
              r = [],
              a = 0;
            return (
              (n.build = function (n) {
                var s = a++;
                if (void 0 === o[s]) {
                  n.currentApparatus;
                  var l = { _indexes: [] },
                    c = e.appStructure,
                    u = [],
                    d = [],
                    p = [],
                    h = t.getCriticalEntries(),
                    f = t.getQuotes(),
                    g = t.getAnalogues();
                  if (h._indexes.appEntries)
                    for (var m = 0; m < h._indexes.appEntries.length; m++) {
                      var v = h._indexes.appEntries[m];
                      !h[v] ||
                        (void 0 !== h[v]._isInMainVersion &&
                          !0 !== h[v]._isInMainVersion) ||
                        u.push(v);
                    }
                  if (f._indexes.encodingStructure)
                    for (
                      var b = 0;
                      b < f._indexes.encodingStructure.length;
                      b++
                    ) {
                      var y = f._indexes.encodingStructure[b];
                      !f[y] ||
                        (void 0 !== f[y]._isInMainVersion &&
                          !0 !== f[y]._isInMainVersion) ||
                        d.push(y);
                    }
                  if (g._indexes.encodingStructure)
                    for (
                      var x = 0;
                      x < g._indexes.encodingStructure.length;
                      x++
                    ) {
                      var w = g._indexes.encodingStructure[x];
                      !g[w] ||
                        (void 0 !== g[w]._isInMainVersion &&
                          !0 !== g[w]._isInMainVersion) ||
                        p.push(w);
                    }
                  !i.isCriticalApparatusInline() &&
                    u.length > 0 &&
                    ((l.criticalApparatus = {
                      label: "APPARATUSES.CRITICAL_APPARATUS",
                      visibleList: u.slice(0, 10),
                      list: u,
                    }),
                      l._indexes.push("criticalApparatus")),
                    !i.isSourcesInline() &&
                    d.length > 0 &&
                    ((l.sources = {
                      label: "APPARATUSES.SOURCES",
                      visibleList: d.slice(0, 10),
                      list: d,
                    }),
                      l._indexes.push("sources")),
                    !i.isAnaloguesInline() &&
                    p.length > 0 &&
                    ((l.analogues = {
                      label: "APPARATUSES.ANALOGUES",
                      visibleList: p.slice(0, 10),
                      list: p,
                    }),
                      l._indexes.push("analogues")),
                    l._indexes.length > 0 &&
                    i.updateState("currentApparatus", l._indexes[0]);
                  var _ = {
                    isLoading: !0,
                    uid: s,
                    currentApparatus:
                      l._indexes.length > 0 ? l._indexes[0] : "",
                    apparatuses: l,
                    appStructure: c,
                  };
                  return (
                    (o[s] = angular.extend(n.vm, _)), r.push({ id: s }), o[s]
                  );
                }
              }),
              (n.setCurrentApparatus = function (e) {
                i.updateState("currentApparatus", e),
                  angular.forEach(o, function (t) {
                    t.setCurrentApparatus(e);
                  });
              }),
              (n.getCurrentApparatus = function () {
                return "".currentApparatus;
              }),
              (n.alignScrollToApp = function (e) {
                for (var t in o)
                  void 0 !== o[t].scrollToAppEntry && o[t].scrollToAppEntry(e);
              }),
              (n.alignScrollToQuote = function (e, t) {
                for (var i in o)
                  void 0 !== o[i].scrollToQuotesEntry &&
                    ("source" === o[i].type
                      ? o[i].scrollToQuotesEntry(t)
                      : o[i].scrollToQuotesEntry(e));
              }),
              (n.alignScrollToAnalogue = function (e) {
                for (var t in o)
                  void 0 !== o[t].scrollToAnaloguesEntry &&
                    o[t].scrollToAnaloguesEntry(e);
              }),
              (n.destroy = function (e) {
                delete o[e];
              }),
              n
            );
          },
        ];
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.apparatuses").controller("apparatusesCtrl", [
      "$timeout",
      "evtApparatuses",
      function (e, t) {
        var i = this;
        (this.setCurrentApparatus = function (t) {
          t !== i.currentApparatus &&
            i.apparatuses[t] &&
            ((i.loading = !0),
              (i.currentApparatus = t),
              (i.apparatuses[t].visibleList = i.apparatuses[t].list.slice(0, 10)),
              e(function () {
                i.loading = !1;
              }));
        }),
          (this.getCurrentApparatus = function () {
            return i.currentApparatus;
          }),
          (this.toggleAppStructure = function (e) {
            i.appStructure !== e && (i.appStructure = e);
          }),
          (this.toggleOpenApparatus = function (e) {
            i.openApparatus !== e && (i.openApparatus = e);
          }),
          (this.getVisibleList = function (e) {
            return i.apparatuses[e] ? i.apparatuses[e].visibleList : [];
          }),
          (this.getAppList = function (e) {
            return i.apparatuses[e] ? i.apparatuses[e].list : [];
          }),
          (this.loadMoreElements = function () {
            for (
              var e = i.currentApparatus,
              t = i.apparatuses[e].visibleList.length,
              n = 0;
              n < 5 && n < i.apparatuses[e].list.length;

            ) {
              var o = i.apparatuses[e].list[t + n];
              o &&
                i.apparatuses[e].visibleList.indexOf(o) <= 0 &&
                i.apparatuses[e].visibleList.push(o),
                n++;
            }
          }),
          (this.destroy = function () {
            t.destroy(this.uid);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      angular.module("evtviewer.apparatuses").directive("evtApparatuses", [
        "$timeout",
        "evtApparatuses",
        "evtInterface",
        "evtCriticalApparatusEntry",
        function (t, n, o, r) {
          return {
            restrict: "E",
            scope: { currentApparatus: "@" },
            transclude: !0,
            template: i(322),
            controllerAs: "vm",
            controller: "apparatusesCtrl",
            link: function (i, a, s) {
              var l = n.build(i);
              if (
                (i.$on("$destroy", function () {
                  l && l.destroy();
                }),
                  (i.vm.scrollToAppEntry = function (i) {
                    var n = "criticalApparatus";
                    if (l.apparatuses[n]) {
                      var o = e("#apparatuses_" + l.uid).find(
                        "[data-app-id='" + i + "']"
                      );
                      o.length <= 0 && (l.isLoading = !0),
                        t(function () {
                          var e = angular
                            .element(a)
                            .find(".apparatuses_content_body")[0],
                            t =
                              1 *
                              window
                                .getComputedStyle(e, null)
                                .getPropertyValue("padding-top")
                                .replace("px", "");
                          o.length <= 0
                            ? ((l.isLoading = !0),
                              l.apparatuses[n].list.indexOf(i) >= 0 &&
                              (n === l.currentApparatus
                                ? (l.loadMoreElements("criticalApparatus"),
                                  l.scrollToAppEntry(i))
                                : (l.isLoading = !1)))
                            : void 0 !== o[0] &&
                            ((e.scrollTop = o[0].offsetTop - 3 * t),
                              (l.isLoading = !1));
                        });
                    }
                  }),
                  (i.vm.scrollToQuotesEntry = function (i) {
                    if (l.apparatuses.sources) {
                      var n = e("#apparatuses_" + l.uid).find(
                        "[data-quote-id='" + i + "']"
                      );
                      n.length <= 0 && (l.isLoading = !0),
                        t(function () {
                          var e = angular
                            .element(a)
                            .find(".apparatuses_content_body")[0],
                            t =
                              1 *
                              window
                                .getComputedStyle(e, null)
                                .getPropertyValue("padding-top")
                                .replace("px", "");
                          n.length <= 0
                            ? ((l.isLoading = !0),
                              l.apparatuses.sources.list.indexOf(i) >= 0 &&
                              ("sources" === l.currentApparatus
                                ? (l.loadMoreElements("sources"),
                                  l.scrollToQuotesEntry(i))
                                : (l.isLoading = !1)))
                            : void 0 !== n[0] &&
                            ((e.scrollTop = n[0].offsetTop - 3 * t),
                              (l.isLoading = !1));
                        });
                    }
                  }),
                  (i.vm.scrollToAnaloguesEntry = function (n) {
                    if (i.vm.apparatuses.analogues) {
                      var o = e("#apparatuses_" + l.uid).find(
                        "[data-analogue-id='" + n + "']"
                      );
                      o.length <= 0 && (l.isLoading = !0),
                        t(function () {
                          var e = angular
                            .element(a)
                            .find(".apparatuses_content_body")[0],
                            t =
                              1 *
                              window
                                .getComputedStyle(e, null)
                                .getPropertyValue("padding-top")
                                .replace("px", "");
                          o.length <= 0
                            ? ((l.isLoading = !0),
                              l.apparatuses.analogues.list.indexOf(n) >= 0 &&
                              ("analogues" === l.currentApparatus
                                ? (l.loadMoreElements("analogues"),
                                  l.scrollToAnaloguesEntry(n))
                                : (l.isLoading = !1)))
                            : void 0 !== o[0] &&
                            ((e.scrollTop = o[0].offsetTop - 3 * t),
                              (l.isLoading = !1));
                        });
                    }
                  }),
                  "criticalApparatus" === l.currentApparatus)
              ) {
                var c = o.getState("currentAppEntry");
                c
                  ? (i.vm.scrollToAppEntry(c),
                    t(function () {
                      r.selectById(c);
                    }, 200))
                  : (l.isLoading = !1);
              } else
                t(function () {
                  l.isLoading = !1;
                }, 200);
            },
          };
        },
      ]);
    }.call(this, i(0)));
  },
  function (e, t) {
    e.exports =
      ' <div class=apparatuses_main id=apparatuses_{{::vm.uid}} ng-switch=vm.appStructure> <div class=apparatuses_tabs ng-switch-when=tabs> <div class=apparatuses_tabs_header> <span class=appLabel ng-repeat="apparatusId in vm.apparatuses._indexes" ng-click=vm.setCurrentApparatus(apparatusId) ng-class="{\'selected\': apparatusId === vm.getCurrentApparatus()}">{{ vm.apparatuses[apparatusId].label | translate }}</span> </div> <div class=loading ng-if=vm.isLoading><i class="fa fa-spinner fa-pulse loader"></i></div> <div class=apparatuses_tabs_fakeTopSpace></div> <div class="apparatuses_tabs_body apparatuses_content_body"> <div infinite-scroll=vm.loadMoreElements() infinite-scroll-distance=2 infinite-scroll-parent=true infinite-scroll-immediate-check=false ng-switch=vm.currentApparatus> <div class=active-apparatus ng-switch-when=criticalApparatus> <evt-critical-apparatus-entry ng-repeat="app in vm.getVisibleList(vm.currentApparatus)" data-app-id={{::app}}> </evt-critical-apparatus-entry> </div> <div class=active-apparatus ng-switch-when=sources> <evt-sources-apparatus-entry ng-repeat="quote in vm.getVisibleList(vm.currentApparatus)" data-quote-id={{::quote}}> </evt-sources-apparatus-entry> </div> <div class=active-apparatus ng-switch-when=analogues> <evt-analogues-apparatus-entry ng-repeat="analogue in vm.getVisibleList(vm.currentApparatus)" data-analogue-id={{::analogue}}> </evt-analogues-apparatus-entry> </div> <div ng-show="!vm.currentApparatus || vm.currentApparatus === \'\'" ng-switch-default> <span> {{ \'MESSAGES.SELECT_AN_APPARATUS\' | translate }} </span> </div> </div> </div> </div> <div class=apparatuses_sub-boxes ng-switch-when=subBoxes> <div class=apparatuses_sub-boxes_body> <span>BOXES :)</span> </div> </div> </div>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.versionReading", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.versionReading")
      .provider("evtVersionReading", function () {
        var e = "";
        this.$get = function () {
          var t = {},
            i = {},
            n = [],
            o = 0;
          return (
            (t.build = function (e) {
              var r = o++,
                a = e.appId || void 0;
              if (void 0 === i[r]) {
                var s = {
                  uid: r,
                  appId: a,
                  readingId: e.readingId,
                  type: e.type,
                  scopeWit: e.scopeWit,
                  scopeVersion: e.scopeVersion,
                  over: !1,
                  selected: a === t.getCurrentVersionEntry(),
                  apparatus: { opened: !1, _subContentOpened: "" },
                  highlightedText: !1,
                };
                return (
                  (i[r] = angular.extend(e.vm, s)), n.push({ id: r }), i[r]
                );
              }
            }),
            (t.getCurrentVersionEntry = function () {
              return e;
            }),
            (t.setCurrentVersionEntry = function (t) {
              void 0 !== t && t !== e && (e = t);
            }),
            (t.mouseOutAll = function () {
              angular.forEach(i, function (e) {
                e.mouseOut();
              });
            }),
            (t.mouseOverByAppId = function (e) {
              angular.forEach(i, function (t) {
                t.appId === e ? t.mouseOver() : t.mouseOut();
              });
            }),
            (t.selectById = function (e) {
              angular.forEach(i, function (t) {
                t.appId === e ? t.setSelected() : t.unselect();
              }),
                t.setCurrentVersionEntry(e);
            }),
            (t.unselectAll = function () {
              angular.forEach(i, function (e) {
                e.unselect();
              });
            }),
            (t.closeAllApparatus = function (e) {
              angular.forEach(i, function (t) {
                (void 0 === e || t.uid !== e) && t.closeApparatus();
              });
            }),
            (t.destroy = function (e) {
              delete i[e];
            }),
            t
          );
        };
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.versionReading")
      .controller("versionReadingCtrl", [
        "$scope",
        "parsedData",
        "config",
        "evtPopover",
        "evtVersionReading",
        "evtInterface",
        function (e, t, i, n, o, r) {
          var a = this;
          (this.mouseOver = function () {
            a.over = !0;
          }),
            (this.mouseOut = function () {
              a.over = !1;
            }),
            (this.highlightOn = function () {
              a.highlightedText = !0;
            }),
            (this.highlightOff = function () {
              a.highlightedText = !1;
            }),
            (this.setSelected = function () {
              a.selected = !0;
            }),
            (this.unselect = function () {
              a.selected = !1;
            }),
            (this.closeApparatus = function () {
              a.apparatus.opened = !1;
            }),
            (this.isSelect = function () {
              return a.selected;
            }),
            (this.toggleOverAppEntries = function (e) {
              e.stopPropagation(),
                !1 === a.over ? o.mouseOverByAppId(a.appId) : o.mouseOutAll();
            }),
            (this.toggleSelectAppEntries = function (e) {
              !1 === a.selected
                ? a.apparatus.opened ||
                (o.selectById(a.appId), r.updateCurrentVersionEntry(a.appId))
                : a.apparatus.opened &&
                (o.unselectAll(), r.updateCurrentVersionEntry("")),
                r.updateUrl();
            }),
            (this.toggleApparatus = function (t) {
              n.closeAll(),
                a.over &&
                (o.closeAllApparatus(a.uid),
                  (a.apparatus.opened = !a.apparatus.opened),
                  a.apparatus.opened &&
                  e.$parent.vm.scrollToVersionApparatus(a.appId));
            }),
            (this.callbackClick = function (e) {
              e.stopPropagation(),
                a.over &&
                (a.toggleSelectAppEntries(e),
                  (a.isSelect() && a.apparatus.opened) || a.toggleApparatus(e));
            }),
            (this.isScopeRecensioAvailable = function () {
              var n = e.$parent.vm.version || "",
                o = t.getVersionEntries()[a.appId].content,
                r = i.versions[0],
                s = !0;
              if ("" !== n && n !== r) void 0 === o[n] && (s = !1);
              else if ("" === n && "witness" === e.$parent.vm.type) {
                var l = e.$parent.vm.witness,
                  c = t.getVersionEntries()._indexes.versionWitMap,
                  u = "";
                for (var d in c) c[d].indexOf(l) >= 0 && (u = d);
                ("" !== u && void 0 !== o[u]) || (s = !1);
              } else void 0 === o[r] && (s = !1);
              return s;
            }),
            (this.destroy = function () {
              var e = this.uid;
              o.destroy(e);
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.versionReading").directive("evtVersionReading", [
      "evtVersionReading",
      "evtInterface",
      function (e, t) {
        return {
          restrict: "E",
          scope: {
            type: "@",
            appId: "@",
            readingId: "@",
            scopeWit: "@",
            scopeVersion: "@",
          },
          transclude: !0,
          template: i(327),
          controllerAs: "vm",
          controller: "versionReadingCtrl",
          link: function (i, n, o) {
            i.currentViewMode = t.getState("currentViewMode");
            var r = e.build(i);
            i.$on("destroy", function () {
              r && r.destroy();
            });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      "<span class=version-reading ng-mouseover=vm.toggleOverAppEntries($event) ng-mouseout=vm.toggleOverAppEntries($event) ng-class=\"{ 'blurred'  : $parent.vm.state.topBoxOpened,\n                'over'     : vm.over,\n                'selected' : vm.isSelect() && !$parent.vm.state.topBoxOpened}\"> <span class=version-reading_text ng-click=vm.callbackClick($event); ng-mouseover=vm.highlightOn() ng-mouseout=vm.highlightOff() ng-class=\"{ 'over'     : vm.over && !vm.isSelect(),\n                    'selected' : vm.isSelect() && !$parent.vm.state.topBoxOpened}\" ng-transclude> </span> <evt-version-apparatus-entry ng-if=\"vm.isScopeRecensioAvailable() && vm.apparatus.opened\" ng-class=\"{'blurred': $parent.vm.state.topBoxOpened}\" data-app-id={{::vm.appId}} data-reading-id={{::vm.readingId}} data-scope-wit={{::vm.scopeWit}} data-scope-ver={{::vm.scopeVer}}></evt-version-apparatus-entry> </span>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.versionApparatusEntry", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.versionApparatusEntry")
      .provider("evtVersionApparatusEntry", function () {
        this.$get = [
          "parsedData",
          "evtVersionApparatus",
          "config",
          function (e, t, i) {
            var n = {},
              o = {},
              r = [],
              a = 0;
            return (
              (n.build = function (n) {
                var s = a++,
                  l = n.appId || void 0,
                  c = n.scopeWit || "",
                  u = n.scopeVer || "",
                  d = n.$parent.$parent.$parent.vm.version || "";
                if (
                  ("" === d &&
                    "text" === n.$parent.$parent.$parent.type &&
                    (d = i.versions[0]),
                    void 0 === o[s])
                ) {
                  var p,
                    h = e.getVersionEntries()[l],
                    f = { _indexes: [] };
                  void 0 !== h &&
                    ("" !== (p = t.getContent(h, c, u)).note &&
                      (f._indexes.push("criticalNote"),
                        (f.criticalNote = { label: "VERSIONS.CRITICAL_NOTE" })),
                      p._readings &&
                      (f._indexes.push("readings"),
                        (f.readings = { label: "VERSIONS.VERSION_READING" })),
                      p.attributes._keys.length > 0 &&
                      (f._indexes.push("moreInfo"),
                        (f.moreInfo = { label: "VERSIONS.MORE_INFO" })),
                      "" !== p._xmlSource &&
                      (f._indexes.push("xmlSource"),
                        (f.xmlSource = { label: "VERSIONS.XML" })));
                  var g = {
                    uid: s,
                    scopeWit: c,
                    scopeVer: u,
                    appId: l,
                    readingId: n.readingId,
                    content: p,
                    _subContentOpened: "",
                    tabs: f,
                    currentViewMode: n.scopeViewMode,
                    currentVer: d,
                  };
                  return (
                    (o[s] = angular.extend(n.vm, g)), r.push({ id: s }), o[s]
                  );
                }
              }),
              (n.destroy = function (e) {
                delete o[e];
              }),
              n
            );
          },
        ];
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.versionApparatusEntry")
      .controller("versionApparatusEntryCtrl", [
        "config",
        "evtBox",
        "evtApparatuses",
        "evtVersionApparatusEntry",
        "$scope",
        function (e, t, i, n, o) {
          var r = this;
          (this.toggleSubContent = function (e) {
            r._subContentOpened !== e
              ? (r._subContentOpened = e)
              : (r._subContentOpened = "");
          }),
            (this.isPinAvailable = function () {
              return e.toolPinAppEntries;
            }),
            (this.alignReadings = function () {
              t.alignScrollToApp(r.appId), i.alignScrollToApp(r.appId);
            }),
            (this.destroy = function () {
              var e = this.uid;
              n.destroy(e);
            });
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.versionApparatusEntry")
      .directive("evtVersionApparatusEntry", [
        "evtVersionApparatusEntry",
        "evtInterface",
        function (e, t) {
          return {
            restrict: "E",
            scope: { appId: "@", readingId: "@", scopeWit: "@", scopeVer: "@" },
            transclude: !0,
            template: i(332),
            controllerAs: "vm",
            controller: "versionApparatusEntryCtrl",
            link: function (i, n, o) {
              i.scopeViewMode = t.getState("currentViewMode");
              var r = e.build(i);
              i.$on("destroy", function () {
                r && r.destroy();
              });
            },
          };
        },
      ]);
  },
  function (e, t) {
    e.exports =
      '<div class=version-apparatus-entry ng-class="{ \'noTools\' : (scopeViewMode !== \'collation\' && scopeViewMode !== \'readingTxt\' && scopeViewMode !== \'versions\') && !vm.isPinAvailable()}"> <div class=version-apparatus-entry_main-content> <div class=version-apparatus-entry_tools ng-if="(scopeViewMode === \'collation\' || scopeViewMode === \'readingTxt\' || scopeViewMode === \'versions\')"> <button-switch title="{{ \'BUTTONS.ALIGN_VERSION_READINGS\' | translate }}" ng-if="scopeViewMode === \'collation\' || scopeViewMode === \'versions\'" data-label="" data-icon=v-align data-type=alignReadings ng-click=vm.alignReadings()></button-switch> </div> <div class=versions-lemmas> <span ng-repeat="version in ::vm.content.versions"> <evt-version-ref data-target={{::version.value}} data-type=version data-el-id={{vm.currentVer}} class=version-label></evt-version-ref> <span class=version-lem compile=version.lem></span> </span> </div> </div> <div class=version-apparatus-entry_other-content ng-if="vm.tabs._indexes.length > 0"> <div class=version-apparatus-entry_other-content_headers ng-class="{ \'closed\' : vm._subContentOpened === \'\'}"> <span ng-repeat="tab in ::vm.tabs._indexes" ng-click=vm.toggleSubContent(tab) ng-class="{ \'active\' : vm._subContentOpened == tab }"> {{ vm.tabs[tab].label | translate }} </span> </div> <div class=version-apparatus-entry_other-content_panels ng-class="{ \'closed\' : vm._subContentOpened === \'\'}"> <div class=version-apparatus-entry_other-content_panel ng-repeat="tab in ::vm.tabs._indexes" ng-class="{ \'active\' : vm._subContentOpened == tab}" ng-switch=::tab> <div ng-switch-when=criticalNote compile=vm.content.note> </div> <div ng-switch-when=readings> <div ng-repeat="version in ::vm.content.versions" ng-if=::vm.content._readings> <span compile=version.id></span> <span ng-if="::version.significantReadings.length > 0" class=significant-readings_label> {{ \'VERSIONS.SIGNIFICANT_VARIANTS\' | translate}} </span> <ul ng-if="::version.significantReadings.length > 0"> <li ng-repeat="reading in ::version.significantReadings" compile=reading.content></li> </ul> <span ng-if="::version.notSignificantReadings.length > 0" class=not-significant-readings_label> {{ \'VERSIONS.ORTHOGRAPHIC_VARIANTS\' | translate}} </span> <ul ng-if="::version.notSignificantReadings.length > 0"> <li ng-repeat="reading in ::version.notSignificantReadings" compile=reading.content></li> </ul> </div> </div> <div ng-switch-when=moreInfo> <span class=app_generic-info ng-if="(vm.content.attributes._keys.length > 1 || vm.content.attributes._keys.length === 1 && vm.content.attributes._keys.indexOf(\'xml:id\') < 0)"> {{ \'VERSIONS.METADATA_FOR_APP_ENTRY\' | translate}} </span> <ul ng-if="(vm.content.attributes._keys.length > 1 || vm.content.attributes._keys.length === 1 && vm.content.attributes._keys.indexOf(\'xml:id\') < 0)"> <li ng-repeat="attr in ::vm.content.attributes._keys" ng-if="::attr !== \'xml:id\'"> <span class=moreInfo-label>{{::attr}}</span> {{::vm.content.attributes.values[attr]}} </li> </ul> <span class=moreInfo-metadataTitle>{{ \'VERSIONS.MORE_INFO_ABOUT_READING\' | translate}}</span> <ul> <li class=app_version ng-repeat="version in ::vm.content.versions" ng-if="::version.attributes._keys.length > 0  && version.attributes._keys.indexOf(\'xml:id\') < 0"> <span> {{ \'VERSIONS.METADATA_FOR\' | translate}} <em compile=version.id></em> </span> <ul> <li ng-repeat="attr in ::version.attributes._keys" ng-if="::attr !== \'xml:id\'"> <span class=moreInfo-label>{{::attr}}</span> {{::version.attributes.values[attr]}} </li> </ul> <span ng-if="::version.significantReadings.length > 0" ng-repeat-start="reading in ::version.significantReadings">{{ \'VERSIONS.METADATA_FOR_SIGNIFICANT_READING\' | translate}}: <em compile=reading.content></em> </span> <ul ng-repeat-end ng-if="::version.significantReadings.length > 0"> <li ng-repeat="attr in ::reading.attributes._keys" ng-if="::attr !== \'xml:id\'"> <span class=moreInfo-label>{{::attr}}</span> {{::reading.attributes.values[attr]}} </li> </ul> <span ng-if="::version.notSignificantReadings.length > 0" ng-repeat-start="reading in ::version.notSignificantReadings">{{ \'VERSIONS.METADATA_FOR_ORTHOGRAPHIC_READING\' | translate}}: <em compile=reading.content></em> </span> <ul ng-repeat-end ng-if="::version.notSignificantReadings.length > 0"> <li ng-repeat="attr in ::reading.attributes._keys" ng-if="::attr !== \'xml:id\'"> <span class=moreInfo-label>{{::attr}}</span> {{::reading.attributes.values[attr]}} </li> </ul> </li> </ul> </div> <div ng-switch-when=xmlSource> <pre>{{ ::vm.content._xmlSource }}</pre> </div> <div ng-switch-default compile=vm.content[tab]> </div> </div> </div> </div> </div>';
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.versionApparatusEntry")
      .provider("evtVersionRef", function () {
        this.$get = [
          "evtInterface",
          "evtBox",
          "parsedData",
          "config",
          function (e, t, i, n) {
            var o = {},
              r = {},
              a = [],
              s = 0;
            return (
              (o.build = function (o) {
                var l = o.id || s++,
                  c = o.elId || "",
                  u = o.type || "default",
                  d = o.target || "",
                  p = o.title || "",
                  h = function () {
                    console.log("TODO " + u);
                  },
                  f = e.getState("currentViewMode"),
                  g = "";
                switch (u) {
                  case "version":
                    c !== d &&
                      d !== n.versions[0] &&
                      (p = "VERSIONS.OPEN_TEXT"),
                      (g = i.getVersionEntries()._indexes.versionId[d]),
                      (h = function () {
                        var o;
                        if (c !== d && d !== n.versions[0]) {
                          (o = e.getState("currentVersions")),
                            (scopeVersionIndex = o.indexOf(c)),
                            o.indexOf(d) >= 0 &&
                            o.length > 1 &&
                            e.removeVersion(d),
                            e.addVersion(d, scopeVersionIndex + 1),
                            "versions" !== f &&
                            e.updateState("currentViewMode", "versions"),
                            e.updateUrl();
                          var r = e.getState("currentVersionEntry") || "";
                          if ("" !== r) {
                            var a = t.getElementByValueOfParameter(
                              "version",
                              d
                            );
                            void 0 !== a && a.scrollToAppEntry(r);
                          }
                        } else if (d === n.versions[0]) {
                          "versions" !== f &&
                            e.updateState("currentViewMode", "versions"),
                            e.updateCurrentVersion(d);
                          var s =
                            i.getVersionEntries()[e.getCurrentVersionEntry()]
                              .content,
                            l = Object.keys(s);
                          o = e.getState("currentVersions");
                          for (var u = 0; u < l.length; u++)
                            o.indexOf(l[u]) < 0 &&
                              l[u] !== n.versions[0] &&
                              e.addVersion(l[u]);
                          e.updateUrl();
                        }
                      });
                }
                var m = {
                  uid: l,
                  id: g,
                  elId: c,
                  type: u,
                  target: d,
                  title: p,
                  callback: h,
                  currentViewMode: f,
                  ver: e.getCurrentVersion() || "",
                };
                return (
                  (r[l] = angular.extend(o.vm, m)),
                  a.push({ id: l, type: u }),
                  r[l]
                );
              }),
              (o.destroy = function (e) {
                delete r[e];
              }),
              o
            );
          },
        ];
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.versionApparatusEntry")
      .directive("evtVersionRef", [
        "evtVersionRef",
        function (e) {
          return {
            restrict: "E",
            scope: { type: "@", target: "@", elId: "@" },
            transclude: !0,
            template: i(335),
            link: function (t, i, n) {
              t.vm = {};
              var o = e.build(t);
              t.$on("$destroy", function () {
                o && e.destroy(o.uid);
              });
            },
          };
        },
      ]);
  },
  function (e, t) {
    e.exports =
      "<span class=evt-version-ref title=\"{{vm.title | translate}}\" ng-click=vm.callback() ng-class=\"{ 'selected' : vm.elId === vm.target, 'not-select': vm.elId === vm.ver }\"> <span class=evt-version-ref_text compile=vm.id ng-class=\"{ 'selected' : vm.elId === vm.target, 'not-select': vm.target === vm.ver }\"> </span> </span>";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.imageViewer", [
      "evtviewer.openseadragon",
      "evtviewer.imageViewerService",
    ]),
      angular
        .module("evtviewer.imageViewer", [
          "evtviewer.openseadragon",
          "evtviewer.imageViewerService",
        ])
        .controller("imageViewerCtrl", [
          "$scope",
          "imageViewerModel",
          function (e, t) {
            e.options = t.getOptions();
          },
        ]);
  },
  function (e, t, i) {
    "use strict";
    var n = i(35);
    angular
      .module("evtviewer.openseadragon", [
        "evtviewer.imageViewer",
        "evtviewer.openseadragonService",
        "evtviewer.interface",
      ])
      .directive("osd", [
        "$timeout",
        "imageViewerHandler",
        "evtInterface",
        "osd",
        function (e, t, i, o) {
          return {
            restrict: "E",
            scope: { options: "=", name: "=", tilesource: "=", prefixUrl: "=" },
            controller: "imageViewerCtrl",
            template: "<div id='osd-img' class='box-image Edition'></div>",
            transclude: !0,
            link: function (r, a, s) {
              e(function () {
                var e = o.build(s.name),
                  a = null;
                try {
                  a = new n.Viewer(e);
                } catch (e) {
                  console.error("viewer in timeout osd directive errore", e);
                }
                (r.osd = a), (r.$parent[s.name] = a);
                var l = o.imgCoeff();
                null != l && null != l && t.setImgCoeff(l),
                  t.setViewer(a),
                  t.setScope(r),
                  r.osd.addHandler("home", t.home),
                  r.osd.addOnceHandler(
                    "open",
                    t.openPage,
                    i.getState("currentPage")
                  ),
                  r.$watch(
                    function () {
                      return i.getState("currentPage");
                    },
                    function (e, i) {
                      if (i !== e) {
                        t.updateViewerPage(e);
                      }
                    },
                    !1
                  );
              }, 10),
                a.on("$destroy", function () {
                  s.name && (r.$parent[s.name] = null),
                    r.osd.removeHandler("open", t.open),
                    r.osd.removeHandler("home", t.home),
                    r.osd.removeHandler("navigator-scroll", t.navigatorScroll),
                    r.osd.removeHandler("pan", t.pan),
                    r.osd.destroy();
                });
            },
          };
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.imageViewer");
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.imageViewer")
      .controller("imageViewerCtrl", ["$scope", function (e) { }]);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.imageViewerService", ["evtviewer.dataHandler"])
      .service("imageViewerModel", [
        "parsedData",
        function (e) {
          var t = {
            id: "osd-img",
            prefixUrl: "/openseadragon/images/",
            tileSources: [],
            showRotationControl: !0,
            showNavigator: !0,
            visibilityRatio: 1,
            defaultZoomLevel: 1,
            panHorizontal: !0,
            constrainDuringPan: !0,
            minZoomLevel: 0.8,
            maxZoomLevel: 2,
            wrapVertical: !1,
            navigatorLeft: "94%",
            navigatorHeight: "100%",
            navigatorWidth: "50%",
            navigatorTop: "1%",
          };
          this.getOptions = function () {
            for (
              var i, n = e.getPages(), o = n.length, r = "", a = 0;
              a < o;
              a++
            ) {
              var s = { type: "image", url: "" };
              (i = n[a]),
                void 0 !== (r = e.getPage(i).source) &&
                "" !== r &&
                " " !== r &&
                null !== r &&
                ((s.url = r), t.tileSources.push(s));
            }
            return t;
          };
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.openseadragon").provider("osd", function () {
      this.$get = [
        "parsedData",
        "config",
        function (e, t) {
          var i = {
            test: function (e) {
              return !0;
            },
            imgCoeff: function () {
              return t.imageNormalizationCoefficient;
            },
            build: function (i) {
              var n,
                o = t.imageViewerOptions,
                r = e.getPages(),
                a = r.length,
                s = "";
              o.tileSources = [];
              for (var l = 0; l < a; l++) {
                var c = { type: "image", url: "" };
                (n = r[l]),
                  void 0 !== (s = e.getPage(n).source) &&
                  "" !== s &&
                  " " !== s &&
                  null !== s &&
                  ((c.url = s), o.tileSources.push(c));
              }
              return (o.id = "osd-img"), o;
            },
          };
          return i;
        },
      ];
    });
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      !(function () {
        var t = i(35);
        angular
          .module("evtviewer.openseadragonService", ["evtviewer.interface"])
          .service("imageViewerHandler", [
            "evtInterface",
            "imageScrollMap",
            "parsedData",
            function (i, n, o) {
              var r = void 0,
                a = !1,
                s = this;
              function l(e) {
                var i = {};
                return (
                  (i.x = e.ulx),
                  (i.y = e.uly),
                  (i.width = e.lrx - e.ulx),
                  (i.hight = e.lry - e.uly),
                  new t.Rect(i.x / r, i.y / r, i.width / r, i.hight / r)
                );
              }
              (s.viewer = void 0),
                (s.scope = void 0),
                (s.setImgCoeff = function (e) {
                  r = e;
                }),
                (s.setViewer = function (e) {
                  s.viewer = e;
                }),
                (s.setScope = function (e) {
                  s.scope = e;
                }),
                (s.open = function () {
                  viewer.viewport.getBounds();
                  var e = s.viewer.viewport.getBounds(),
                    i = e.height / e.width,
                    n = new t.Rect(0, 0, 0, i);
                  s.viewer.viewport.fitBounds(n, !1);
                }),
                (s.openPage = function (e) {
                  for (var t = e.userData, n = 0; o.getPages()[n] !== t;)
                    if ((n += 1) > o.getPages().length) {
                      console.error("error in open page");
                      break;
                    }
                  var r = n;
                  s.viewer.goToPage(r);
                  var a = i.getState("currentPage");
                  t !== a &&
                    s.scope.$apply(function () {
                      i.updateState("currentPage", "" !== t ? t : a);
                    });
                }),
                (s.home = function () {
                  var e = s.viewer.viewport.getBounds(),
                    i = e.height / e.width,
                    n = new t.Rect(0, 0.1, 1, i);
                  s.viewer.viewport.fitBounds(n, !0);
                }),
                (s.navigatorScroll = function (e) {
                  e.scroll;
                }),
                (s.pan = function (e) {
                  try {
                    if (void 0 === e.immediately) {
                      var t = e.center.y,
                        o = e.eventSource.viewport._oldCenterY;
                      if (1 === s.viewer.viewport.getZoom()) {
                        var r, a;
                        s.viewer.viewport.getBounds();
                        t > o
                          ? ((r = n.mapDown(
                            e.eventSource.viewport.getBounds()
                          )),
                            (a = i.getState("currentPage")),
                            r !== a &&
                            s.scope.$apply(function () {
                              i.updateState("currentPage", r);
                            }))
                          : t < o &&
                          ((r = n.mapUP(e.eventSource.viewport.getBounds())),
                            (a = i.getState("currentPage")),
                            r !== a &&
                            s.scope.$apply(function () {
                              i.updateState("currentPage", "" !== r ? r : a);
                            }));
                      }
                    }
                  } catch (e) {
                    console.error("error in pan", e);
                  }
                }),
                (s.updateViewerBounds = function (e) {
                  var t = s.viewer.viewport.getBounds();
                  n.isInBounds(t.y, e) || n.updateBounds(s.viewer, e);
                }),
                (s.updateViewerPage = function (e) {
                  for (
                    var t = e, n = 0;
                    o.getPages()[n] !== t && !((n += 1) > o.getPages().length);

                  );
                  var r = n;
                  s.viewer.goToPage(r);
                  var a = i.getState("currentPage");
                  t !== a &&
                    s.scope.$apply(function () {
                      i.updateState("currentPage", "" !== t ? t : a);
                    });
                }),
                (s.highlightOverlay = function (e) {
                  if (!e) throw "problem in zone data extraction";
                  try {
                    s.viewer.removeOverlay("line-overlay");
                  } catch (e) { }
                  var t = l(e),
                    i = document.createElement("div");
                  (i.id = "line-overlay"),
                    (i.className = "highlight"),
                    s.viewer.addOverlay({ element: i, location: t });
                }),
                (s.highlightSelectedOverlay = function (e, t) {
                  if (!e) throw "problem in zone data extraction";
                  try {
                    s.viewer.removeOverlay("line-overlay");
                  } catch (e) {
                    console.error("no line overlay", e);
                  }
                  var i = l(e),
                    n = document.createElement("div");
                  (n.id = "line-overlay_selected"),
                    (n.className = "selectedHighlight"),
                    s.viewer.addOverlay({ element: n, location: i });
                }),
                (s.turnOffOverlay = function () {
                  try {
                    s.viewer.removeOverlay("line-overlay");
                  } catch (e) {
                    console.error("no line overlay", e);
                  }
                }),
                (s.turnOffOverlaySelected = function () {
                  try {
                    s.viewer.removeOverlay("line-overlay_selected");
                  } catch (e) {
                    console.error("no line overlay", e);
                  }
                }),
                (s.moveToZone = function (e) {
                  var i = s.viewer.viewport.getCenter(),
                    n =
                      (s.viewer.viewport.getBounds(!0),
                        e.uly,
                        e.uly / r < i.y ? i.y : e.uly / r),
                    o = new t.Point(i.x, n);
                  s.viewer.viewport.panTo(o);
                }),
                (s.showHotSpot = function (e) {
                  for (var i = [], n = 0; n < e.length; n++) {
                    var o = new t.Rect(
                      e[n].ulx / r,
                      e[n].uly / r,
                      (e[n].lrx - e[n].ulx) / r,
                      (e[n].lry - e[n].uly) / r
                    );
                    i.push(o);
                  }
                  for (var a = [], l = 0; l < e.length; l++) {
                    var u = e[l].content,
                      d = e[l].id,
                      p = (e[l], document.createElement("div"));
                    (p.id = "hotspot-overlay_selected-" + d),
                      (p.className = "hotspot"),
                      (p.dataset.id = d),
                      (p.dataset.content = u),
                      (p.onmouseover = function () {
                        s.viewer.zoomPerClick = 1;
                      }),
                      (p.onmouseout = function () {
                        s.viewer.zoomPerClick = 1.5;
                      }),
                      (p.onclick = function () {
                        c(this);
                      }),
                      a.push(p);
                  }
                  s.viewer.zoomPerClick = 1;
                  for (var h = 0; h < e.length; h++)
                    s.viewer.addOverlay({ element: a[h], location: i[h] });
                });
              var c = function (i) {
                if (!a) {
                  var n = e(i),
                    o = n.position().left,
                    r = n.position().top,
                    l = n.width(),
                    c = n.height(),
                    d = new t.Point(o, r),
                    p = new t.Point(o + l, r + c),
                    h = s.viewer.viewport.pointFromPixel(d),
                    f = s.viewer.viewport.pointFromPixel(p),
                    g = 0;
                  g =
                    h.x <= 0.4
                      ? h.x + (f.x - h.x) + 0.05
                      : h.x - (f.x - h.x + 0.1);
                  var m = new t.Rect(g, h.y, 0.3, 0.35),
                    v = document.createElement("div");
                  (v.id = "div-hotspot-overlay_selected-" + i.dataset.id),
                    (v.className = "hotspot-dida");
                  var b = document.createElement("div");
                  (b.id =
                    "div-title-hotspot-overlay_selected-" + i.dataset.id),
                    (b.className = "hotspot-dida-title"),
                    (b.innerHTML = "");
                  var y = document.createElement("div");
                  (y.className = "PopupCloser"),
                    (y.dataset.id = i.dataset.id),
                    (y.onclick = function () {
                      (s.viewer.zoomPerClick = 1.5), u(this);
                    });
                  var x = document.createElement("i");
                  (x.className = "fa fa-times"),
                    (x.onmouseover = function () {
                      s.viewer.zoomPerClick = 1;
                    }),
                    (x.onmouseout = function () {
                      s.viewer.zoomPerClick = 1.5;
                    }),
                    y.appendChild(x),
                    b.appendChild(y);
                  var w = document.createElement("div");
                  (w.id =
                    "div-body-hotspot-overlay_selected-" + i.dataset.id),
                    (w.className = "hotspot-dida-body"),
                    (w.innerHTML = i.dataset.content),
                    v.appendChild(b),
                    v.appendChild(w);
                  var _ = {
                    element: v,
                    location: m,
                    rotationMode: t.OverlayRotationMode.NO_ROTATION,
                  };
                  (a = !a), s.viewer.addOverlay(_), e(_.element).draggable();
                }
                return a;
              },
                u = function (e) {
                  try {
                    var t = e.dataset.id;
                    s.viewer.removeOverlay("div-hotspot-overlay_selected-" + t);
                  } catch (e) {
                    console.error("no hotspot overlay", e);
                  }
                  return (a = !1);
                };
              (s.hiddenHotSpot = function (e) {
                try {
                  for (var t = 0; t < e.length; t++)
                    s.viewer.removeOverlay(
                      "hotspot-overlay_selected-" + e[t].id
                    );
                } catch (e) {
                  console.error("no hotspot overlay", e);
                }
              }),
                (s.lineZone = function (e) {
                  var t = l(e),
                    n = document.createElement("div");
                  return (
                    (n.id = "line-div-overlay_" + e.id),
                    (n.dataset.lb = e.id.replace("line", "lb")),
                    (n.className = "line-overlay"),
                    (n.onmouseover = function () {
                      var e = "active" === i.getToolState("ITL"),
                        t = i.getState("currentViewMode");
                      if (e && "imgTxt" === t) {
                        this.className += " selectedHighlight";
                        var n = document.querySelectorAll(
                          "[data-line='" + this.dataset.lb + "']"
                        );
                        if (0 == n.length) {
                          var o = this.dataset.lb.replace("reg", "orig");
                          n = document.querySelectorAll(
                            "[data-line='" + o + "']"
                          );
                        }
                        for (var r = 0; r < n.length; r++)
                          n[r].className += " lineHover";
                      }
                    }),
                    (n.onmouseout = function () {
                      var e = "active" === i.getToolState("ITL"),
                        t = i.getState("currentViewMode");
                      if (e && "imgTxt" === t) {
                        this.className =
                          this.className.replace(" selectedHighlight", "") ||
                          "";
                        var n = document.querySelectorAll(
                          "[data-line='" + this.dataset.lb + "']"
                        );
                        if (0 == n.length) {
                          var o = this.dataset.lb.replace("reg", "orig");
                          n = document.querySelectorAll(
                            "[data-line='" + o + "']"
                          );
                        }
                        for (var r = 0; r < n.length; r++)
                          n[r].className =
                            n[r].className.replace(" lineHover", "") || "";
                      }
                    }),
                    (n.onclick = function () { }),
                    s.viewer.addOverlay({ element: n, location: t }),
                    n
                  );
                }),
                (s.testFun = function () {
                  return "ok";
                });
            },
          ]);
      })();
    }.call(this, i(0)));
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.openseadragonService")
      .service("imageScrollMap", function () {
        var e = "yPage";
        (this.mapDown = function (e) {
          return t(e, "down");
        }),
          (this.mapUP = function (e) {
            return t(e, "up");
          });
        var t = function (e, t) {
          var i,
            n,
            o = e.getBoundingBox();
          switch (t) {
            case "down":
              if (o.y < i[n + "1"].to) return (n + "1").substr(1).toLowerCase();
              for (var r = 1; r <= i.size; r++)
                if (o.y < i[n + r].to && o.y > i[n + r].from)
                  return (n + r).substr(1).toLowerCase();
              break;
            case "up":
              for (r = 1; r <= i.size; r++)
                if (
                  o.y < (i[n + r].from + i[n + r].to) / 2 &&
                  o.y > i[n + r].from
                )
                  return (n + r).substr(1).toLowerCase();
              return "";
            default:
              return "";
          }
        };
        (this.isInBounds = function (t, i) {
          var n = void 0;
          return (
            t >=
            (void 0)[
              (n =
                10 == i.length
                  ? e + i.substr(i.length - 1)
                  : e + i.substr(i.length - 2))
            ].from && t < (void 0)[n].to
          );
        }),
          (this.updateBounds = function (t, i) {
            var n = t.viewport.getBounds(),
              o = void 0;
            o =
              10 == i.length
                ? e + i.substr(i.length - 1)
                : e + i.substr(i.length - 2);
            var r = n.height / n.width,
              a = new OpenSeadragon.Rect(0, (void 0)[o].from, 1, r);
            t.viewport.fitBounds(a, !1);
          });
      });
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.openseadragonService")
      .service("overlayHandler", function () {
        this.test = function (e) {
          console.log(e);
        };
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.search", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.search")
      .constant("SEARCHBOXDEFAULTS", {
        diplomaticSearchBoxBtn: {
          showResults: {
            title: "Show results",
            label: "",
            icon: "search-results-show",
            type: "searchResultsShow",
          },
          hideResults: {
            title: "Hide results",
            label: "",
            icon: "search-results-hide",
            type: "searchResultsHide",
            hide: !0,
          },
          virtualKeyboard: {
            title: "Virtual keyboard",
            label: "",
            icon: "keyboard",
            type: "searchVirtualKeyboard",
          },
          caseSensitive: {
            title: "Case sensitive",
            label: "",
            icon: "case-sensitive",
            type: "searchCaseSensitive",
          },
          exactWord: {
            title: "Exact word",
            label: "",
            icon: "exact-word",
            type: "searchExactWord",
          },
          searchClear: {
            title: "Clear search",
            label: "",
            icon: "close",
            type: "searchClear",
          },
          previous: {
            title: "Previous",
            label: "",
            icon: "previous",
            type: "searchPrevResult",
          },
          next: {
            title: "Next",
            label: "",
            icon: "next",
            type: "searchNextResult",
          },
          search: {
            title: "Search",
            label: "",
            icon: "search",
            type: "search",
          },
        },
        interpretativeSearchBoxBtn: {
          showResults: {
            title: "Show results",
            label: "",
            icon: "search-results-show",
            type: "searchResultsShow",
          },
          hideResults: {
            title: "Hide results",
            label: "",
            icon: "search-results-hide",
            type: "searchResultsHide",
            hide: !0,
          },
          virtualKeyboard: {
            title: "Virtual keyboard",
            label: "",
            icon: "keyboard",
            type: "searchVirtualKeyboard",
          },
          caseSensitive: {
            title: "Case sensitive",
            label: "",
            icon: "case-sensitive",
            type: "searchCaseSensitive",
          },
          exactWord: {
            title: "Exact word",
            label: "",
            icon: "exact-word",
            type: "searchExactWord",
          },
          searchClear: {
            title: "Clear search",
            label: "",
            icon: "close",
            type: "searchClear",
          },
          previous: {
            title: "Previous",
            label: "",
            icon: "previous",
            type: "searchPrevResult",
          },
          next: {
            title: "Next",
            label: "",
            icon: "next",
            type: "searchNextResult",
          },
          search: {
            title: "Search",
            label: "",
            icon: "search",
            type: "search",
          },
        },
      })
      .config([
        "evtSearchBoxProvider",
        "configProvider",
        "SEARCHBOXDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("search", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.search").directive("evtSearchBox", [
      "evtSearchBox",
      "evtInterface",
      function (e, t) {
        return {
          restrict: "E",
          template: i(348),
          replace: !0,
          controllerAs: "vm",
          controller: "SearchBoxCtrl",
          link: function (i) {
            e.build(i, i.vm),
              i.$watch(
                function () {
                  return t.getState("currentEdition");
                },
                function (t, n) {
                  n !== t && e.build(i, i.vm);
                },
                !0
              );
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<div class="search-box internal" ng-class="{\'open\' : $parent.vm.getState(\'searchBox\'), \'results-open\' : vm.getState(\'searchResultBox\')} "> <form ng-submit=vm.doSearchCallback()> <div class=searchBtnGroup> <div class=btn-left> <button-switch ng-repeat="button in vm.searchBoxBtn|limitTo: vm.getBtnLimit()" class=no-background title={{::button.title}} data-label={{::button.label}} data-icon={{::button.icon}} data-type={{::button.type}} ng-hide=button.hide> </button-switch> </div> <div class=btn-right> <button-switch ng-repeat="button in vm.searchBoxBtn|limitTo: -4" class=no-background title={{::button.title}} data-label={{::button.label}} data-icon={{::button.icon}} data-type={{::button.type}}> </button-switch> </div> </div> <input type=text id={{::vm.keyboardId}} ng-model=vm.searchInput ng-change="vm.highlightSearchResults(vm.parentBoxId, vm.searchInput)" autocomplete=off autofocus> </form> <evt-virtual-keyboard></evt-virtual-keyboard> <evt-search-results ng-controller="SearchResultsCtrl as searchResults"></evt-search-results> </div> ';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.search").controller("SearchBoxCtrl", [
      "$rootScope",
      "config",
      "evtInterface",
      "evtSearchBox",
      "evtSearchResults",
      "evtBox",
      function (e, t, i, n, o, r) {
        var a = this,
          s = [];
        (a.searchInput = ""),
          (a.searchedTerm = ""),
          (a.resList = []),
          (a.visibleRes = []),
          (a.getState = function (e) {
            if (a.status) return a.status[e];
          }),
          (a.updateState = function (e) {
            return (a.status[e] = !a.status[e]), a.status[e];
          }),
          (a.getBoxEdition = function (e) {
            return r.getEditionById(e);
          }),
          (a.getInputValue = function () {
            return a.searchInput;
          }),
          (a.getSearchedTerm = function () {
            return a.searchedTerm;
          }),
          (a.closeBox = function (e) {
            return (a.status[e] = !1), a.status[e];
          }),
          (a.loadMoreElements = function () {
            for (var e = 0; e < 10 && e < a.resList.length;) {
              var t = a.visibleRes.length - 1,
                i = a.resList[t + 1];
              i && (a.visibleRes.push(i), (a.searchResults += i)), e++;
            }
          }),
          (a.highlightSearchResults = function (e, t) {
            return o.highlightSearchResults(e, t);
          }),
          (a.doSearchCallback = function () {
            for (var e in s)
              s[e].parentId === a.parentBoxId && s[e].btn.doCallback();
          }),
          (a.getBtnLimit = function () {
            for (var e in this.searchBoxBtn)
              if ("searchVirtualKeyboard" === this.searchBoxBtn[e].type)
                return 5;
            return 4;
          }),
          e.$on("searchBtn", function (e, t) {
            s.push(t);
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.search").provider("evtSearchBox", function () {
      var e = this.defaults;
      (this.setDefaults = function (t) {
        e = t;
      }),
        (this.$get = [
          "SEARCHBOXDEFAULTS",
          "parsedData",
          function (t, i) {
            var n,
              o = [],
              r = {},
              a = i.getGlyphs();
            return (
              (o.build = function (e, i) {
                var o,
                  s = [],
                  l = e.$parent.edition;
                for (var c in (o =
                  "diplomatic" === l
                    ? t.diplomaticSearchBoxBtn
                    : t.interpretativeSearchBoxBtn))
                  0 === a._indexes.length
                    ? "virtualKeyboard" !== c.toString() && s.push(o[c])
                    : s.push(o[c]);
                var u = {
                  status: {
                    searchResultBox: !1,
                    searchCaseSensitive: !1,
                    searchExactWord: !1,
                    virtualKeyboard: !1,
                    progressBar: !1,
                  },
                  searchBoxBtn: s,
                  parentBoxId: (n = e.$parent.id),
                  searchBoxId: n + "SearchBox",
                };
                return (r[n] = angular.extend(i, u)), r[n];
              }),
              (o.getDefaults = function (t) {
                return e[t];
              }),
              (o.getCurrentBoxEdition = function (e) {
                return r[e].getBoxEdition(e);
              }),
              (o.getSearchResults = function (e) {
                return r[e].searchResults;
              }),
              (o.getInputValue = function (e) {
                return r[e].searchInput;
              }),
              (o.clearInputValue = function (e) {
                r[e].searchInput = "";
              }),
              (o.getStatus = function (e, t) {
                if (r[e].status) return r[e].status[t];
              }),
              (o.setStatus = function (e, t, i) {
                r[e].status[t] = i;
              }),
              (o.updateStatus = function (e, t) {
                r[e].status[t] = !r[e].status[t];
              }),
              (o.setSearchedTerm = function (e, t) {
                r[e].searchedTerm = t;
              }),
              (o.closeBox = function (e, t) {
                var i;
                for (var n in r)
                  if ((i = r[n]).parentBoxId === e)
                    return (i.status[t] = !1), i.status[t];
              }),
              (o.showBtn = function (e, t) {
                var i = r[e].searchBoxBtn;
                for (var n in i) i[n].type === t && (i[n].hide = !1);
              }),
              (o.hideBtn = function (e, t) {
                var i = r[e].searchBoxBtn;
                for (var n in i) i[n].type === t && (i[n].hide = !0);
              }),
              o
            );
          },
        ]);
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.search").directive("evtSearchResults", [
      "$timeout",
      "evtSearchResult",
      "evtSearchBox",
      "evtInterface",
      function (e, t, n, o) {
        return {
          restrict: "E",
          template: i(352),
          replace: !0,
          controllerAs: "vm",
          controller: "SearchResultsCtrl",
          link: function (i) {
            t.build(i, i.vm),
              i.$watch(
                function () {
                  return o.getState("currentEdition");
                },
                function () {
                  (i.vm.currentEdition = o.getState("currentEdition")),
                    "" !== i.$parent.vm.searchInput &&
                    void 0 !== i.$parent.vm.searchInput &&
                    (i.$parent.vm.doSearchCallback(),
                      e(function () {
                        n.setStatus(i.vm.parentBoxId, "searchResultBox", !1),
                          n.hideBtn(i.vm.parentBoxId, "searchResultsHide"),
                          n.showBtn(i.vm.parentBoxId, "searchResultsShow");
                      }));
                },
                !0
              );
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<div class=search-results ng-show="$parent.vm.getState(\'searchResultBox\')"> <div ng-show="$parent.vm.getSearchedTerm() !== \'\'" infinite-scroll=vm.loadMoreElements() infinite-scroll-parent=true> <div class=search-info> <p>Search for <strong>{{$parent.vm.getSearchedTerm()}}</strong></p> <p>We have found <span>{{vm.getResultsNumber()}}</span> results in the selected edition</p> </div> <div class=token-results> <div class=token ng-repeat="result in vm.visibleRes track by $index"> <div ng-click=vm.toggle($event) class=icon> Results for <span class=result-token>{{result.token}}</span> in <span class=result-doc>{{result.metadata.xmlDocTitle[0]}}</span> <span class=results-number>({{result.resultsNumber}})</span> </div> <ul class=search-result> <li ng-repeat="i in vm.range(result.resultsNumber) track by $index"> <span class=original-text id={{result.metadata.docId[$index]}} ng-bind-html="vm.getHighlightedOriginalText(result.metadata.docId[$index], vm.getCurrentBoxEdition($parent.vm.parentBoxId), result.token, result.metadata.position[$index])"> </span> <a class=resultInfo href=# ng-click=vm.scrollToCurrentResult($event)> Found in <span class=resultDoc id={{result.metadata.xmlDocId[$index]}}>{{result.metadata.xmlDocTitle[$index]}}</span> <span class=resultSection ng-if=result.metadata.sectionTitle>({{result.metadata.sectionTitle[$index]}})</span> <span class=resultPage id={{result.metadata.pageId[$index]}} ng-if=result.metadata.page>page {{result.metadata.page[$index]}}</span> <span class=resultPar ng-if=result.metadata.paragraph>paragraph {{result.metadata.paragraph[$index]}}</span> <span class=resultLine id={{result.metadata.lbId[$index]}} ng-if=result.metadata.line>(line {{result.metadata.line[$index]}})</span> </a> </li> </ul> </div> </div> </div> <div class=search-info ng-show="$parent.vm.getInputValue() === \'\'">{{vm.placeholder}}</div> </div> ';
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      angular.module("evtviewer.search").controller("SearchResultsCtrl", [
        "$q",
        "$scope",
        "$location",
        "$anchorScroll",
        "evtSearchResults",
        "evtSearchBox",
        "evtInterface",
        "Utils",
        function (t, i, n, o, r, a, s, l) {
          var c = this;
          (c.currentEdition = s.getState("currentEdition")),
            (c.currentEditionResults = []),
            (c.visibleRes = []),
            (c.placeholder = ""),
            (c.currentLineId = ""),
            (c.getResultsNumber = function () {
              var e = c.currentEditionResults,
                t = 0;
              return (
                e &&
                e.forEach(function (e) {
                  t += e.resultsNumber;
                }),
                t
              );
            }),
            (c.getCurrentEditionResults = function () {
              return c.currentEditionResults;
            }),
            (c.getCurrentBoxEdition = function (e) {
              return a.getCurrentBoxEdition(e);
            }),
            (c.getHighlightedOriginalText = function (e, t, i, n) {
              var o = r.getOriginalText(e, t),
                a = "<strong>" + i + "</strong>",
                s = n[0],
                c = n[0] + n[1],
                u = l.replaceStringAt(o, i, a, s, c);
              return r.getTextPreview(u, a);
            }),
            (c.loadMoreElements = function () {
              for (
                var e, t, i = 0;
                i < 5 && i < c.currentEditionResults.length;

              )
                (e = c.visibleRes.length - 1),
                  (t = c.currentEditionResults[e + 1]) && c.visibleRes.push(t),
                  i++;
            }),
            (c.range = function (e) {
              return new Array(e);
            }),
            (c.toggle = function (t) {
              var i = e(t.currentTarget);
              i.toggleClass("active"),
                i.siblings(".search-result").toggleClass("open");
            }),
            (c.scrollToCurrentResult = function (n) {
              (function (n) {
                var o = t.defer(),
                  r = i.$parent.vm.parentBoxId;
                return (
                  a.closeBox(r, "searchResultBox"),
                  a.showBtn(r, "searchResultsShow"),
                  a.hideBtn(r, "searchResultsHide"),
                  n.preventDefault(),
                  e(n.currentTarget).addClass("selected"),
                  (c.currentLineId = document
                    .getElementsByClassName("resultInfo selected")[0]
                    .getElementsByClassName("resultLine")[0]
                    .getAttribute("id")),
                  (function () {
                    var e = document
                      .getElementsByClassName("resultInfo selected")[0]
                      .getElementsByClassName("resultPage")[0]
                      .getAttribute("id"),
                      t = document
                        .getElementsByClassName("resultInfo selected")[0]
                        .getElementsByClassName("resultDoc")[0]
                        .getAttribute("id");
                    s.updateState("currentPage", e),
                      s.updateState("currentDoc", t),
                      s.updateUrl();
                  })(),
                  e(n.currentTarget).removeClass("selected"),
                  setTimeout(function () {
                    o.resolve();
                  }, 100),
                  o.promise
                );
              })(n).then(function () {
                c.scrollTo(c.currentLineId);
              });
            }),
            (c.scrollTo = function (e) {
              n.hash(e), o();
            });
        },
      ]);
    }.call(this, i(0)));
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.search").provider("evtSearchResult", function () {
      this.$get = function () {
        var e = [],
          t = {};
        return (
          (e.build = function (e, i) {
            var n = e.$parent.id,
              o = { parentBoxId: n };
            return (t[n] = angular.extend(i, o)), t[n];
          }),
          (e.setPlaceholder = function (e, i) {
            t[e].placeholder = i;
          }),
          (e.setVisibleRes = function (e, i) {
            t[e].visibleRes = i;
          }),
          (e.setCurrentEditionResults = function (e, i) {
            t[e].currentEditionResults = i;
          }),
          e
        );
      };
    });
  },
  function (e, t, i) {
    "use strict";
    var n = i(36);
    angular.module("evtviewer.dataHandler").service("evtSearchIndex", [
      "evtSearchDocument",
      function e(t) {
        function i(e) {
          return {
            xmlDocId: e.xmlDocId,
            diplomaticText: e.content.diplomatic,
            interpretativeText: e.content.interpretative,
            content: e.content,
          };
        }
        function o(e, t) {
          var i = function (i) {
            var n = e.documentCount - 1,
              o = t[Object.keys(t)[n]];
            return (i.metadata.xmlDocTitle = o ? o.xmlDocTitle : void 0), i;
          };
          n.Pipeline.registerFunction(i, "xmlDocTitle"),
            e.pipeline.add(i),
            e.metadataWhitelist.push("xmlDocTitle");
        }
        function r(e, t) {
          var i = function (i) {
            var n = e.documentCount - 1,
              o = t[Object.keys(t)[n]];
            return (i.metadata.xmlDocId = o ? o.xmlDocId : void 0), i;
          };
          n.Pipeline.registerFunction(i, "xmlDocId"),
            e.pipeline.add(i),
            e.metadataWhitelist.push("xmlDocId");
        }
        function a(e, t) {
          var i = 0,
            o = t[Object.keys(t)[i]],
            r = function (n) {
              return (
                (i = e.documentCount - 1),
                (o = t[Object.keys(t)[i]]),
                (n.metadata.sectionTitle = o ? o.sectionTitle : void 0),
                n
              );
            };
          o &&
            void 0 !== o.sectionTitle &&
            (n.Pipeline.registerFunction(r, "sectionTitle"),
              e.pipeline.add(r),
              e.metadataWhitelist.push("sectionTitle"));
        }
        function s(e, t) {
          var i = 0,
            o = t[Object.keys(t)[i]],
            r = function (n) {
              return (
                (i = e.documentCount - 1),
                (o = t[Object.keys(t)[i]]),
                (n.metadata.paragraph = o ? o.paragraph : void 0),
                n
              );
            };
          o &&
            void 0 !== o.paragraph &&
            (n.Pipeline.registerFunction(r, "paragraph"),
              e.pipeline.add(r),
              e.metadataWhitelist.push("paragraph"));
        }
        function l(e, t) {
          var i = 0,
            o = t[Object.keys(t)[i]],
            r = function (n) {
              return (
                (i = e.documentCount - 1),
                (o = t[Object.keys(t)[i]]),
                (n.metadata.page = o ? o.page : void 0),
                n
              );
            };
          o &&
            void 0 !== o.page &&
            (n.Pipeline.registerFunction(r, "page"),
              e.pipeline.add(r),
              e.metadataWhitelist.push("page"));
        }
        function c(e, t) {
          var i = 0,
            o = t[Object.keys(t)[i]],
            r = function (n) {
              return (
                (i = e.documentCount - 1),
                (o = t[Object.keys(t)[i]]),
                (n.metadata.pageId = o ? o.pageId : void 0),
                n
              );
            };
          o &&
            void 0 !== o.page &&
            (n.Pipeline.registerFunction(r, "pageId"),
              e.pipeline.add(r),
              e.metadataWhitelist.push("pageId"));
        }
        function u(e, t) {
          var i = 0,
            o = t[Object.keys(t)[i]],
            r = function (n) {
              return (
                (i = e.documentCount - 1),
                (o = t[Object.keys(t)[i]]),
                (n.metadata.line = o ? o.line : void 0),
                n
              );
            };
          o &&
            void 0 !== o.line &&
            (n.Pipeline.registerFunction(r, "line"),
              e.pipeline.add(r),
              e.metadataWhitelist.push("line"));
        }
        function d(e, t) {
          var i = 0,
            o = t[Object.keys(t)[i]],
            r = function (n) {
              return (
                (i = e.documentCount - 1),
                (o = t[Object.keys(t)[i]]),
                (n.metadata.lbId = o ? o.lbId : void 0),
                n
              );
            };
          o &&
            void 0 !== o.lbId &&
            (n.Pipeline.registerFunction(r, "lbId"),
              e.pipeline.add(r),
              e.metadataWhitelist.push("lbId"));
        }
        function p(e, t) {
          var i = function (i) {
            var n = e.documentCount - 1,
              o = t[Object.keys(t)[n]];
            return (i.metadata.docId = o ? o.docId : void 0), i;
          };
          n.Pipeline.registerFunction(i, "docId"),
            e.pipeline.add(i),
            e.metadataWhitelist.push("docId");
        }
        function h(e) {
          e.metadataWhitelist.push("position");
        }
        function f(e) {
          e.metadataWhitelist.push("originalToken");
        }
        (this.index = {}),
          (e.prototype.createIndex = function (e) {
            var m;
            return (
              console.time("INDEX TIME"),
              (this.index = n(function () {
                for (var v in (this.pipeline.remove(n.trimmer),
                  this.pipeline.remove(n.stemmer),
                  this.pipeline.remove(n.stopWordFilter),
                  (this.tokenizer = g),
                  (this.tokenizer.separator = /[\s,.;:/?!()\'\"]+/),
                  this.ref("xmlDocId"),
                  t.isDiplEdition() &&
                    void 0 !== e[Object.keys(e)[0]].content.diplomatic
                    ? (this.field("diplomaticText"),
                      t.isInterpEdition() && this.field("interpretativeText"))
                    : t.isInterpEdition()
                      ? this.field("interpretativeText")
                      : this.field("content"),
                  this.use(o, e),
                  this.use(r, e),
                  this.use(a, e),
                  this.use(s, e),
                  this.use(l, e),
                  this.use(c, e),
                  this.use(u, e),
                  this.use(d, e),
                  this.use(p, e),
                  this.use(h, e),
                  this.use(f, e),
                  e))
                  "countAllLines" !== v &&
                    ((m = i(e[v]) || void 0), this.add(m));
              })),
              console.timeEnd("INDEX TIME"),
              this.index
            );
          }),
          (e.prototype.getIndex = function () {
            return this.index;
          });
        var g = function (e) {
          for (
            var t,
            i,
            o,
            r,
            a,
            s = e.toString().trim(),
            l = s.length,
            c = [],
            u = 0,
            d = 0;
            u <= l;
            u++
          )
            if (
              ((r = u - d),
                "-" === (t = s.charAt(u)) &&
                ((i = s.slice(d, u)),
                  (a = u),
                  c.push(
                    new n.Token(i, {
                      position: [d, r],
                      index: c.length,
                      originalToken: i,
                    })
                  )),
                t.match(this.tokenizer.separator) || u === l)
            ) {
              if (
                ((o = i = s.slice(d, u)),
                  -1 !== (i = i.toLowerCase()).indexOf("-"))
              ) {
                var p = s.slice(a + 1, u);
                c.push(
                  new n.Token(p, {
                    position: [a + 1, r],
                    index: c.length,
                    originalToken: p,
                  })
                );
              }
              r > 0 &&
                c.push(
                  new n.Token(i, {
                    position: [d, r],
                    index: c.length,
                    originalToken: o,
                  })
                ),
                (d = u + 1);
            }
          return c;
        };
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    var n = i(36);
    angular
      .module("evtviewer.dataHandler")
      .service("evtSearchQuery", function e() {
        var t;
        (e.prototype.query = function (e, i) {
          return (
            (t = n.tokenizer(i)),
            e.query(function (e) {
              e.term(t, {
                usePipeline: !1,
                wildcard: n.Query.wildcard.LEADING | n.Query.wildcard.TRAILING,
              });
            })
          );
        }),
          (e.prototype.exactMatchQuery = function (e, i) {
            return (
              (t = i.match("-") ? i : n.tokenizer(i)),
              e.query(function (e) {
                e.term(t, { usePipeline: !1 });
              })
            );
          });
      });
  },
  function (e, t, i) {
    "use strict";
    var n = i(358);
    angular.module("evtviewer.dataHandler").service("evtSearchResults", [
      "evtSearchQuery",
      "evtSearchIndex",
      "evtSearch",
      "evtSearchBox",
      "Utils",
      function e(t, i, o, r, a) {
        var s = /[.,\/#!$%\^&;:{}=_`~()]/;
        function l(e, t) {
          var i = [],
            n = e.match(/[*]/);
          for (var o in t) {
            if (n) {
              e.toLowerCase();
              var r = c(e, o, t, n);
              r && i.push(r);
            }
            (e === o.toString() ||
              o.toString().includes(e) ||
              e.includes(o.toString())) &&
              i.push({
                token: o.toString(),
                metadata: t[o],
                resultsNumber: t[o].xmlDocId.length,
              });
          }
          return i;
        }
        function c(e, t, i, n) {
          var o,
            r = e.length,
            a = n.index,
            s = t.toString().slice(0, a),
            l = e.slice(0, a),
            c = {
              token: t.toString(),
              metadata: i[t],
              resultsNumber: i[t].xmlDocId.length,
            };
          return (r === a + 1 && s === l) ||
            (0 === a && t.toString().slice(1 - r) === (o = e.slice(1, r))) ||
            (s === l &&
              ((o = e.slice(a + 1, e.length)),
                t.toString().slice(-o.length) === o))
            ? c
            : void 0;
        }
        function u(e) {
          var t = [];
          for (var i in e)
            t.push({
              token: i.toString(),
              metadata: e[i],
              resultsNumber: e[i].xmlDocId.length,
            });
          return t;
        }
        function d(e) {
          var t, i;
          return e.content
            ? ((i = {
              content: (t = { content: e.content.originalToken }).content.map(
                p
              ),
            }),
              { content: h(e.content, i.content) })
            : ((i = {
              diplomatic: (t = {
                diplomatic: e.diplomatic.originalToken || [],
                interpretative: e.interpretative.originalToken || [],
              }).diplomatic.map(p),
              interpretative: t.interpretative.map(p),
            }),
            {
              diplomatic: h(e.diplomatic, i.diplomatic),
              interpretative: h(e.interpretative, i.interpretative),
            });
        }
        function p(e, t) {
          return { token: e, position: t };
        }
        function h(e, t) {
          for (var i, n, o = {}, r = {}, a = 0; a < t.length; a++) {
            for (var s in ((i = t[a].token), (n = !o[t[a].token]), e))
              r[s.toString()] = e[s].filter(f, t[a]);
            if (n) (o[i] = r), (r = {});
            else for (var l in r) o[i][l].push(r[l][0]);
          }
          return o;
        }
        function f(e, t) {
          return this.position === t;
        }
        (e.prototype.getSearchResults = function (e, n, o) {
          var r,
            a = {
              "": function () {
                r = "Enter your query into the search box above";
              },
              default: function () {
                r = (function (e, n, o) {
                  var r = {};
                  return (
                    (function (e, n) {
                      var o = i.getIndex();
                      return n ? t.exactMatchQuery(o, e) : t.query(o, e);
                    })(e.toLowerCase(), o).forEach(function (t) {
                      var i,
                        o,
                        a = t.matchData.metadata,
                        s = {};
                      for (var c in a)
                        a[c].diplomaticText || a[c].interpretativeText
                          ? ((s.diplomatic = {}),
                            (s.interpretative = {}),
                            (s.diplomatic = a[c].diplomaticText || {}),
                            (s.interpretative = a[c].interpretativeText || {}),
                            (o = d(s)),
                            (i = n
                              ? {
                                diplomatic: l(e, o.diplomatic),
                                interpretative: l(e, o.interpretative),
                              }
                              : {
                                diplomatic: u(o.diplomatic),
                                interpretative: u(o.interpretative),
                              }).diplomatic &&
                            (r.diplomatic || (r.diplomatic = []),
                              (r.diplomatic = r.diplomatic.concat(
                                i.diplomatic
                              ))),
                            i.interpretative &&
                            (r.interpretative || (r.interpretative = []),
                              (r.interpretative = r.interpretative.concat(
                                i.interpretative
                              ))))
                          : ((o = d(a[c])),
                            (i = n
                              ? { content: l(e, o.content) }
                              : { content: u(o.content) }),
                            (r.diplomatic = []),
                            (r.diplomatic = r.diplomatic.concat(i.content)));
                    }),
                    r
                  );
                })(e, n, o);
              },
            };
          return (a[e] || a.default)(), r;
        }),
          (e.prototype.getVisibleResults = function (e) {
            for (var t = [], i = 0; i < 20 && i < e.length;) t.push(e[i]), i++;
            return t;
          }),
          (e.prototype.getCurrentEditionResults = function (e, t) {
            var i = [],
              n = {
                diplomatic: function () {
                  e.diplomatic.forEach(function (e) {
                    i.push(e);
                  });
                },
                interpretative: function () {
                  e.interpretative.forEach(function (e) {
                    i.push(e);
                  });
                },
              };
            return (
              0 !== Object.keys(e).length &&
              (n[t]
                ? n[t]()
                : alert(
                  "Error: search not available for current edition level"
                )),
              i
            );
          }),
          (e.prototype.getOriginalText = function (e, t) {
            var i = o.getParsedElementsForIndexing();
            return {
              diplomatic: function () {
                return i[e].content.diplomatic || i[e].content;
              },
              interpretative: function () {
                return i[e].content.interpretative;
              },
            }[t]();
          }),
          (e.prototype.getTextPreview = function (e, t) {
            for (
              var i, n, o, r, s = e.split(/[\s]+/), l = 0;
              a.cleanPunctuation(s[l]) !== t && l < s.length - 1;

            )
              (i = l), l++;
            return (
              (o = s.slice(i, i + 10)),
              (r =
                (n = i < 10 ? s.slice(0, i) : s.slice(i - 10, i)).length < 10
                  ? n.join(" ") + " " + o.join(" ") + "..."
                  : "..." + n.join(" ") + " " + o.join(" ") + "..."),
              s.length < 15 && (r = n.join(" ") + " " + o.join(" ")),
              r
            );
          }),
          (e.prototype.highlightSearchResults = function (e, t) {
            var i = new n(
              document.querySelector("#" + e + " #mainContentToTranform")
            ),
              o = r.getStatus(e, "searchCaseSensitive"),
              a = r.getStatus(e, "searchExactWord");
            i.unmark(t),
              a
                ? (function (e, t, i) {
                  e.mark(t, {
                    wildcards: "enable",
                    acrossElements: !0,
                    caseSensitive: i,
                    accuracy: {
                      value: "exactly",
                      limiters: [
                        ".",
                        ",",
                        ";",
                        ":",
                        "\\",
                        "/",
                        "!",
                        "?",
                        "#",
                        "$",
                        "%",
                        "^",
                        "&",
                        "*",
                        "{",
                        "}",
                        "=",
                        "-",
                        "_",
                        "`",
                        "~",
                        "(",
                        ")",
                      ],
                    },
                    filter: function () {
                      return !t.match(s);
                    },
                    exclude: [".lineN"],
                  });
                })(i, t, o)
                : (function (e, t, i) {
                  e.mark(t, {
                    wildcards: "enable",
                    acrossElements: !0,
                    caseSensitive: i,
                    accuracy: {
                      value: "partially",
                      limiters: [
                        ".",
                        ",",
                        ";",
                        ":",
                        "\\",
                        "/",
                        "!",
                        "?",
                        "#",
                        "$",
                        "%",
                        "^",
                        "&",
                        "*",
                        "{",
                        "}",
                        "=",
                        "-",
                        "_",
                        "`",
                        "~",
                        "(",
                        ")",
                      ],
                    },
                    filter: function (e) {
                      return !t.match(s);
                    },
                    exclude: [".lineN"],
                  });
                })(i, t, o);
          });
      },
    ]);
  },
  function (e, t, i) {
    /*!***************************************************
     * mark.js v8.11.1
     * https://markjs.io/
     * Copyright (c) 2014–2018, Julian Kühnel
     * Released under the MIT license https://git.io/vwTVl
     *****************************************************/
    e.exports = (function () {
      "use strict";
      var e =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (e) {
            return typeof e;
          }
          : function (e) {
            return e &&
              "function" == typeof Symbol &&
              e.constructor === Symbol &&
              e !== Symbol.prototype
              ? "symbol"
              : typeof e;
          },
        t = function (e, t) {
          if (!(e instanceof t))
            throw new TypeError("Cannot call a class as a function");
        },
        i = (function () {
          function e(e, t) {
            for (var i = 0; i < t.length; i++) {
              var n = t[i];
              (n.enumerable = n.enumerable || !1),
                (n.configurable = !0),
                "value" in n && (n.writable = !0),
                Object.defineProperty(e, n.key, n);
            }
          }
          return function (t, i, n) {
            return i && e(t.prototype, i), n && e(t, n), t;
          };
        })(),
        n =
          Object.assign ||
          function (e) {
            for (var t = 1; t < arguments.length; t++) {
              var i = arguments[t];
              for (var n in i)
                Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n]);
            }
            return e;
          },
        o = (function () {
          function e(i) {
            var n =
              !(arguments.length > 1 && void 0 !== arguments[1]) ||
              arguments[1],
              o =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : [],
              r =
                arguments.length > 3 && void 0 !== arguments[3]
                  ? arguments[3]
                  : 5e3;
            t(this, e),
              (this.ctx = i),
              (this.iframes = n),
              (this.exclude = o),
              (this.iframesTimeout = r);
          }
          return (
            i(
              e,
              [
                {
                  key: "getContexts",
                  value: function () {
                    var e = [];
                    return (
                      (void 0 !== this.ctx && this.ctx
                        ? NodeList.prototype.isPrototypeOf(this.ctx)
                          ? Array.prototype.slice.call(this.ctx)
                          : Array.isArray(this.ctx)
                            ? this.ctx
                            : "string" == typeof this.ctx
                              ? Array.prototype.slice.call(
                                document.querySelectorAll(this.ctx)
                              )
                              : [this.ctx]
                        : []
                      ).forEach(function (t) {
                        var i =
                          e.filter(function (e) {
                            return e.contains(t);
                          }).length > 0;
                        -1 !== e.indexOf(t) || i || e.push(t);
                      }),
                      e
                    );
                  },
                },
                {
                  key: "getIframeContents",
                  value: function (e, t) {
                    var i =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : function () { },
                      n = void 0;
                    try {
                      var o = e.contentWindow;
                      if (((n = o.document), !o || !n))
                        throw new Error("iframe inaccessible");
                    } catch (e) {
                      i();
                    }
                    n && t(n);
                  },
                },
                {
                  key: "isIframeBlank",
                  value: function (e) {
                    var t = "about:blank",
                      i = e.getAttribute("src").trim();
                    return e.contentWindow.location.href === t && i !== t && i;
                  },
                },
                {
                  key: "observeIframeLoad",
                  value: function (e, t, i) {
                    var n = this,
                      o = !1,
                      r = null,
                      a = function a() {
                        if (!o) {
                          (o = !0), clearTimeout(r);
                          try {
                            n.isIframeBlank(e) ||
                              (e.removeEventListener("load", a),
                                n.getIframeContents(e, t, i));
                          } catch (e) {
                            i();
                          }
                        }
                      };
                    e.addEventListener("load", a),
                      (r = setTimeout(a, this.iframesTimeout));
                  },
                },
                {
                  key: "onIframeReady",
                  value: function (e, t, i) {
                    try {
                      "complete" === e.contentWindow.document.readyState
                        ? this.isIframeBlank(e)
                          ? this.observeIframeLoad(e, t, i)
                          : this.getIframeContents(e, t, i)
                        : this.observeIframeLoad(e, t, i);
                    } catch (e) {
                      i();
                    }
                  },
                },
                {
                  key: "waitForIframes",
                  value: function (e, t) {
                    var i = this,
                      n = 0;
                    this.forEachIframe(
                      e,
                      function () {
                        return !0;
                      },
                      function (e) {
                        n++,
                          i.waitForIframes(
                            e.querySelector("html"),
                            function () {
                              --n || t();
                            }
                          );
                      },
                      function (e) {
                        e || t();
                      }
                    );
                  },
                },
                {
                  key: "forEachIframe",
                  value: function (t, i, n) {
                    var o = this,
                      r =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : function () { },
                      a = t.querySelectorAll("iframe"),
                      s = a.length,
                      l = 0;
                    a = Array.prototype.slice.call(a);
                    var c = function () {
                      --s <= 0 && r(l);
                    };
                    s || c(),
                      a.forEach(function (t) {
                        e.matches(t, o.exclude)
                          ? c()
                          : o.onIframeReady(
                            t,
                            function (e) {
                              i(t) && (l++, n(e)), c();
                            },
                            c
                          );
                      });
                  },
                },
                {
                  key: "createIterator",
                  value: function (e, t, i) {
                    return document.createNodeIterator(e, t, i, !1);
                  },
                },
                {
                  key: "createInstanceOnIframe",
                  value: function (t) {
                    return new e(t.querySelector("html"), this.iframes);
                  },
                },
                {
                  key: "compareNodeIframe",
                  value: function (e, t, i) {
                    if (
                      e.compareDocumentPosition(i) &
                      Node.DOCUMENT_POSITION_PRECEDING
                    ) {
                      if (null === t) return !0;
                      if (
                        t.compareDocumentPosition(i) &
                        Node.DOCUMENT_POSITION_FOLLOWING
                      )
                        return !0;
                    }
                    return !1;
                  },
                },
                {
                  key: "getIteratorNode",
                  value: function (e) {
                    var t = e.previousNode();
                    return {
                      prevNode: t,
                      node: (null === t || e.nextNode()) && e.nextNode(),
                    };
                  },
                },
                {
                  key: "checkIframeFilter",
                  value: function (e, t, i, n) {
                    var o = !1,
                      r = !1;
                    return (
                      n.forEach(function (e, t) {
                        e.val === i && ((o = t), (r = e.handled));
                      }),
                      this.compareNodeIframe(e, t, i)
                        ? (!1 !== o || r
                          ? !1 === o || r || (n[o].handled = !0)
                          : n.push({ val: i, handled: !0 }),
                          !0)
                        : (!1 === o && n.push({ val: i, handled: !1 }), !1)
                    );
                  },
                },
                {
                  key: "handleOpenIframes",
                  value: function (e, t, i, n) {
                    var o = this;
                    e.forEach(function (e) {
                      e.handled ||
                        o.getIframeContents(e.val, function (e) {
                          o.createInstanceOnIframe(e).forEachNode(t, i, n);
                        });
                    });
                  },
                },
                {
                  key: "iterateThroughNodes",
                  value: function (e, t, i, n, o) {
                    for (
                      var r,
                      a = this,
                      s = this.createIterator(t, e, n),
                      l = [],
                      c = [],
                      u = void 0,
                      d = void 0;
                      (r = void 0),
                      (r = a.getIteratorNode(s)),
                      (d = r.prevNode),
                      (u = r.node);

                    )
                      this.iframes &&
                        this.forEachIframe(
                          t,
                          function (e) {
                            return a.checkIframeFilter(u, d, e, l);
                          },
                          function (t) {
                            a.createInstanceOnIframe(t).forEachNode(
                              e,
                              function (e) {
                                return c.push(e);
                              },
                              n
                            );
                          }
                        ),
                        c.push(u);
                    c.forEach(function (e) {
                      i(e);
                    }),
                      this.iframes && this.handleOpenIframes(l, e, i, n),
                      o();
                  },
                },
                {
                  key: "forEachNode",
                  value: function (e, t, i) {
                    var n = this,
                      o =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : function () { },
                      r = this.getContexts(),
                      a = r.length;
                    a || o(),
                      r.forEach(function (r) {
                        var s = function () {
                          n.iterateThroughNodes(e, r, t, i, function () {
                            --a <= 0 && o();
                          });
                        };
                        n.iframes ? n.waitForIframes(r, s) : s();
                      });
                  },
                },
              ],
              [
                {
                  key: "matches",
                  value: function (e, t) {
                    var i = "string" == typeof t ? [t] : t,
                      n =
                        e.matches ||
                        e.matchesSelector ||
                        e.msMatchesSelector ||
                        e.mozMatchesSelector ||
                        e.oMatchesSelector ||
                        e.webkitMatchesSelector;
                    if (n) {
                      var o = !1;
                      return (
                        i.every(function (t) {
                          return !n.call(e, t) || ((o = !0), !1);
                        }),
                        o
                      );
                    }
                    return !1;
                  },
                },
              ]
            ),
            e
          );
        })(),
        r = (function () {
          function r(e) {
            t(this, r), (this.ctx = e), (this.ie = !1);
            var i = window.navigator.userAgent;
            (i.indexOf("MSIE") > -1 || i.indexOf("Trident") > -1) &&
              (this.ie = !0);
          }
          return (
            i(r, [
              {
                key: "log",
                value: function (t) {
                  var i =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : "debug",
                    n = this.opt.log;
                  this.opt.debug &&
                    "object" === (void 0 === n ? "undefined" : e(n)) &&
                    "function" == typeof n[i] &&
                    n[i]("mark.js: " + t);
                },
              },
              {
                key: "escapeStr",
                value: function (e) {
                  return e.replace(
                    /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
                    "\\$&"
                  );
                },
              },
              {
                key: "createRegExp",
                value: function (e) {
                  return (
                    "disabled" !== this.opt.wildcards &&
                    (e = this.setupWildcardsRegExp(e)),
                    (e = this.escapeStr(e)),
                    Object.keys(this.opt.synonyms).length &&
                    (e = this.createSynonymsRegExp(e)),
                    (this.opt.ignoreJoiners ||
                      this.opt.ignorePunctuation.length) &&
                    (e = this.setupIgnoreJoinersRegExp(e)),
                    this.opt.diacritics && (e = this.createDiacriticsRegExp(e)),
                    (e = this.createMergedBlanksRegExp(e)),
                    (this.opt.ignoreJoiners ||
                      this.opt.ignorePunctuation.length) &&
                    (e = this.createJoinersRegExp(e)),
                    "disabled" !== this.opt.wildcards &&
                    (e = this.createWildcardsRegExp(e)),
                    (e = this.createAccuracyRegExp(e))
                  );
                },
              },
              {
                key: "createSynonymsRegExp",
                value: function (e) {
                  var t = this.opt.synonyms,
                    i = this.opt.caseSensitive ? "" : "i",
                    n =
                      this.opt.ignoreJoiners ||
                        this.opt.ignorePunctuation.length
                        ? "\0"
                        : "";
                  for (var o in t)
                    if (t.hasOwnProperty(o)) {
                      var r = t[o],
                        a =
                          "disabled" !== this.opt.wildcards
                            ? this.setupWildcardsRegExp(o)
                            : this.escapeStr(o),
                        s =
                          "disabled" !== this.opt.wildcards
                            ? this.setupWildcardsRegExp(r)
                            : this.escapeStr(r);
                      "" !== a &&
                        "" !== s &&
                        (e = e.replace(
                          new RegExp(
                            "(" +
                            this.escapeStr(a) +
                            "|" +
                            this.escapeStr(s) +
                            ")",
                            "gm" + i
                          ),
                          n +
                          "(" +
                          this.processSynomyms(a) +
                          "|" +
                          this.processSynomyms(s) +
                          ")" +
                          n
                        ));
                    }
                  return e;
                },
              },
              {
                key: "processSynomyms",
                value: function (e) {
                  return (
                    (this.opt.ignoreJoiners ||
                      this.opt.ignorePunctuation.length) &&
                    (e = this.setupIgnoreJoinersRegExp(e)),
                    e
                  );
                },
              },
              {
                key: "setupWildcardsRegExp",
                value: function (e) {
                  return (e = e.replace(/(?:\\)*\?/g, function (e) {
                    return "\\" === e.charAt(0) ? "?" : "";
                  })).replace(/(?:\\)*\*/g, function (e) {
                    return "\\" === e.charAt(0) ? "*" : "";
                  });
                },
              },
              {
                key: "createWildcardsRegExp",
                value: function (e) {
                  var t = "withSpaces" === this.opt.wildcards;
                  return e
                    .replace(/\u0001/g, t ? "[\\S\\s]?" : "\\S?")
                    .replace(/\u0002/g, t ? "[\\S\\s]*?" : "\\S*");
                },
              },
              {
                key: "setupIgnoreJoinersRegExp",
                value: function (e) {
                  return e.replace(/[^(|)\\]/g, function (e, t, i) {
                    var n = i.charAt(t + 1);
                    return /[(|)\\]/.test(n) || "" === n ? e : e + "\0";
                  });
                },
              },
              {
                key: "createJoinersRegExp",
                value: function (e) {
                  var t = [],
                    i = this.opt.ignorePunctuation;
                  return (
                    Array.isArray(i) &&
                    i.length &&
                    t.push(this.escapeStr(i.join(""))),
                    this.opt.ignoreJoiners &&
                    t.push("\\u00ad\\u200b\\u200c\\u200d"),
                    t.length
                      ? e.split(/\u0000+/).join("[" + t.join("") + "]*")
                      : e
                  );
                },
              },
              {
                key: "createDiacriticsRegExp",
                value: function (e) {
                  var t = this.opt.caseSensitive ? "" : "i",
                    i = this.opt.caseSensitive
                      ? [
                        "aàáảãạăằắẳẵặâầấẩẫậäåāą",
                        "AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ",
                        "cçćč",
                        "CÇĆČ",
                        "dđď",
                        "DĐĎ",
                        "eèéẻẽẹêềếểễệëěēę",
                        "EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ",
                        "iìíỉĩịîïī",
                        "IÌÍỈĨỊÎÏĪ",
                        "lł",
                        "LŁ",
                        "nñňń",
                        "NÑŇŃ",
                        "oòóỏõọôồốổỗộơởỡớờợöøō",
                        "OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ",
                        "rř",
                        "RŘ",
                        "sšśșş",
                        "SŠŚȘŞ",
                        "tťțţ",
                        "TŤȚŢ",
                        "uùúủũụưừứửữựûüůū",
                        "UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ",
                        "yýỳỷỹỵÿ",
                        "YÝỲỶỸỴŸ",
                        "zžżź",
                        "ZŽŻŹ",
                      ]
                      : [
                        "aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ",
                        "cçćčCÇĆČ",
                        "dđďDĐĎ",
                        "eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ",
                        "iìíỉĩịîïīIÌÍỈĨỊÎÏĪ",
                        "lłLŁ",
                        "nñňńNÑŇŃ",
                        "oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ",
                        "rřRŘ",
                        "sšśșşSŠŚȘŞ",
                        "tťțţTŤȚŢ",
                        "uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ",
                        "yýỳỷỹỵÿYÝỲỶỸỴŸ",
                        "zžżźZŽŻŹ",
                      ],
                    n = [];
                  return (
                    e.split("").forEach(function (o) {
                      i.every(function (i) {
                        if (-1 !== i.indexOf(o)) {
                          if (n.indexOf(i) > -1) return !1;
                          (e = e.replace(
                            new RegExp("[" + i + "]", "gm" + t),
                            "[" + i + "]"
                          )),
                            n.push(i);
                        }
                        return !0;
                      });
                    }),
                    e
                  );
                },
              },
              {
                key: "createMergedBlanksRegExp",
                value: function (e) {
                  return e.replace(/[\s]+/gim, "[\\s]+");
                },
              },
              {
                key: "createAccuracyRegExp",
                value: function (e) {
                  var t = this,
                    i = this.opt.accuracy,
                    n = "string" == typeof i ? i : i.value,
                    o = "string" == typeof i ? [] : i.limiters,
                    r = "";
                  switch (
                  (o.forEach(function (e) {
                    r += "|" + t.escapeStr(e);
                  }),
                    n)
                  ) {
                    case "partially":
                    default:
                      return "()(" + e + ")";
                    case "complementary":
                      return (
                        "()([^" +
                        (r =
                          "\\s" +
                          (r ||
                            this.escapeStr(
                              "!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿"
                            ))) +
                        "]*" +
                        e +
                        "[^" +
                        r +
                        "]*)"
                      );
                    case "exactly":
                      return "(^|\\s" + r + ")(" + e + ")(?=$|\\s" + r + ")";
                  }
                },
              },
              {
                key: "getSeparatedKeywords",
                value: function (e) {
                  var t = this,
                    i = [];
                  return (
                    e.forEach(function (e) {
                      t.opt.separateWordSearch
                        ? e.split(" ").forEach(function (e) {
                          e.trim() && -1 === i.indexOf(e) && i.push(e);
                        })
                        : e.trim() && -1 === i.indexOf(e) && i.push(e);
                    }),
                    {
                      keywords: i.sort(function (e, t) {
                        return t.length - e.length;
                      }),
                      length: i.length,
                    }
                  );
                },
              },
              {
                key: "isNumeric",
                value: function (e) {
                  return Number(parseFloat(e)) == e;
                },
              },
              {
                key: "checkRanges",
                value: function (e) {
                  var t = this;
                  if (
                    !Array.isArray(e) ||
                    "[object Object]" !== Object.prototype.toString.call(e[0])
                  )
                    return (
                      this.log(
                        "markRanges() will only accept an array of objects"
                      ),
                      this.opt.noMatch(e),
                      []
                    );
                  var i = [],
                    n = 0;
                  return (
                    e
                      .sort(function (e, t) {
                        return e.start - t.start;
                      })
                      .forEach(function (e) {
                        var o = t.callNoMatchOnInvalidRanges(e, n),
                          r = o.start,
                          a = o.end;
                        o.valid &&
                          ((e.start = r),
                            (e.length = a - r),
                            i.push(e),
                            (n = a));
                      }),
                    i
                  );
                },
              },
              {
                key: "callNoMatchOnInvalidRanges",
                value: function (e, t) {
                  var i = void 0,
                    n = void 0,
                    o = !1;
                  return (
                    e && void 0 !== e.start
                      ? ((n =
                        (i = parseInt(e.start, 10)) + parseInt(e.length, 10)),
                        this.isNumeric(e.start) &&
                          this.isNumeric(e.length) &&
                          n - t > 0 &&
                          n - i > 0
                          ? (o = !0)
                          : (this.log(
                            "Ignoring invalid or overlapping range: " +
                            JSON.stringify(e)
                          ),
                            this.opt.noMatch(e)))
                      : (this.log(
                        "Ignoring invalid range: " + JSON.stringify(e)
                      ),
                        this.opt.noMatch(e)),
                    { start: i, end: n, valid: o }
                  );
                },
              },
              {
                key: "checkWhitespaceRanges",
                value: function (e, t, i) {
                  var n = void 0,
                    o = !0,
                    r = i.length,
                    a = t - r,
                    s = parseInt(e.start, 10) - a;
                  return (
                    (n = (s = s > r ? r : s) + parseInt(e.length, 10)) > r &&
                    ((n = r),
                      this.log(
                        "End range automatically set to the max value of " + r
                      )),
                    s < 0 || n - s < 0 || s > r || n > r
                      ? ((o = !1),
                        this.log("Invalid range: " + JSON.stringify(e)),
                        this.opt.noMatch(e))
                      : "" === i.substring(s, n).replace(/\s+/g, "") &&
                      ((o = !1),
                        this.log(
                          "Skipping whitespace only range: " + JSON.stringify(e)
                        ),
                        this.opt.noMatch(e)),
                    { start: s, end: n, valid: o }
                  );
                },
              },
              {
                key: "getTextNodes",
                value: function (e) {
                  var t = this,
                    i = "",
                    n = [];
                  this.iterator.forEachNode(
                    NodeFilter.SHOW_TEXT,
                    function (e) {
                      n.push({
                        start: i.length,
                        end: (i += e.textContent).length,
                        node: e,
                      });
                    },
                    function (e) {
                      return t.matchesExclude(e.parentNode)
                        ? NodeFilter.FILTER_REJECT
                        : NodeFilter.FILTER_ACCEPT;
                    },
                    function () {
                      e({ value: i, nodes: n });
                    }
                  );
                },
              },
              {
                key: "matchesExclude",
                value: function (e) {
                  return o.matches(
                    e,
                    this.opt.exclude.concat([
                      "script",
                      "style",
                      "title",
                      "head",
                      "html",
                    ])
                  );
                },
              },
              {
                key: "wrapRangeInTextNode",
                value: function (e, t, i) {
                  var n = this.opt.element ? this.opt.element : "mark",
                    o = e.splitText(t),
                    r = o.splitText(i - t),
                    a = document.createElement(n);
                  return (
                    a.setAttribute("data-markjs", "true"),
                    this.opt.className &&
                    a.setAttribute("class", this.opt.className),
                    (a.textContent = o.textContent),
                    o.parentNode.replaceChild(a, o),
                    r
                  );
                },
              },
              {
                key: "wrapRangeInMappedTextNode",
                value: function (e, t, i, n, o) {
                  var r = this;
                  e.nodes.every(function (a, s) {
                    var l = e.nodes[s + 1];
                    if (void 0 === l || l.start > t) {
                      if (!n(a.node)) return !1;
                      var c = t - a.start,
                        u = (i > a.end ? a.end : i) - a.start,
                        d = e.value.substr(0, a.start),
                        p = e.value.substr(u + a.start);
                      if (
                        ((a.node = r.wrapRangeInTextNode(a.node, c, u)),
                          (e.value = d + p),
                          e.nodes.forEach(function (t, i) {
                            i >= s &&
                              (e.nodes[i].start > 0 &&
                                i !== s &&
                                (e.nodes[i].start -= u),
                                (e.nodes[i].end -= u));
                          }),
                          (i -= u),
                          o(a.node.previousSibling, a.start),
                          !(i > a.end))
                      )
                        return !1;
                      t = a.end;
                    }
                    return !0;
                  });
                },
              },
              {
                key: "wrapMatches",
                value: function (e, t, i, n, o) {
                  var r = this,
                    a = 0 === t ? 0 : t + 1;
                  this.getTextNodes(function (t) {
                    t.nodes.forEach(function (t) {
                      t = t.node;
                      for (
                        var o = void 0;
                        null !== (o = e.exec(t.textContent)) && "" !== o[a];

                      )
                        if (i(o[a], t)) {
                          var s = o.index;
                          if (0 !== a)
                            for (var l = 1; l < a; l++) s += o[l].length;
                          (t = r.wrapRangeInTextNode(t, s, s + o[a].length)),
                            n(t.previousSibling),
                            (e.lastIndex = 0);
                        }
                    }),
                      o();
                  });
                },
              },
              {
                key: "wrapMatchesAcrossElements",
                value: function (e, t, i, n, o) {
                  var r = this,
                    a = 0 === t ? 0 : t + 1;
                  this.getTextNodes(function (t) {
                    for (
                      var s = void 0;
                      null !== (s = e.exec(t.value)) && "" !== s[a];

                    ) {
                      var l = s.index;
                      if (0 !== a) for (var c = 1; c < a; c++) l += s[c].length;
                      var u = l + s[a].length;
                      r.wrapRangeInMappedTextNode(
                        t,
                        l,
                        u,
                        function (e) {
                          return i(s[a], e);
                        },
                        function (t, i) {
                          (e.lastIndex = i), n(t);
                        }
                      );
                    }
                    o();
                  });
                },
              },
              {
                key: "wrapRangeFromIndex",
                value: function (e, t, i, n) {
                  var o = this;
                  this.getTextNodes(function (r) {
                    var a = r.value.length;
                    e.forEach(function (e, n) {
                      var s = o.checkWhitespaceRanges(e, a, r.value),
                        l = s.start,
                        c = s.end;
                      s.valid &&
                        o.wrapRangeInMappedTextNode(
                          r,
                          l,
                          c,
                          function (i) {
                            return t(i, e, r.value.substring(l, c), n);
                          },
                          function (t) {
                            i(t, e);
                          }
                        );
                    }),
                      n();
                  });
                },
              },
              {
                key: "unwrapMatches",
                value: function (e) {
                  for (
                    var t = e.parentNode, i = document.createDocumentFragment();
                    e.firstChild;

                  )
                    i.appendChild(e.removeChild(e.firstChild));
                  t.replaceChild(i, e),
                    this.ie ? this.normalizeTextNode(t) : t.normalize();
                },
              },
              {
                key: "normalizeTextNode",
                value: function (e) {
                  if (e) {
                    if (3 === e.nodeType)
                      for (; e.nextSibling && 3 === e.nextSibling.nodeType;)
                        (e.nodeValue += e.nextSibling.nodeValue),
                          e.parentNode.removeChild(e.nextSibling);
                    else this.normalizeTextNode(e.firstChild);
                    this.normalizeTextNode(e.nextSibling);
                  }
                },
              },
              {
                key: "markRegExp",
                value: function (e, t) {
                  var i = this;
                  (this.opt = t),
                    this.log('Searching with expression "' + e + '"');
                  var n = 0,
                    o = "wrapMatches";
                  this.opt.acrossElements && (o = "wrapMatchesAcrossElements"),
                    this[o](
                      e,
                      this.opt.ignoreGroups,
                      function (e, t) {
                        return i.opt.filter(t, e, n);
                      },
                      function (e) {
                        n++, i.opt.each(e);
                      },
                      function () {
                        0 === n && i.opt.noMatch(e), i.opt.done(n);
                      }
                    );
                },
              },
              {
                key: "mark",
                value: function (e, t) {
                  var i = this;
                  this.opt = t;
                  var n = 0,
                    o = "wrapMatches",
                    r = this.getSeparatedKeywords(
                      "string" == typeof e ? [e] : e
                    ),
                    a = r.keywords,
                    s = r.length,
                    l = this.opt.caseSensitive ? "" : "i";
                  this.opt.acrossElements && (o = "wrapMatchesAcrossElements"),
                    0 === s
                      ? this.opt.done(n)
                      : (function e(t) {
                        var r = new RegExp(i.createRegExp(t), "gm" + l),
                          c = 0;
                        i.log('Searching with expression "' + r + '"'),
                          i[o](
                            r,
                            1,
                            function (e, o) {
                              return i.opt.filter(o, t, n, c);
                            },
                            function (e) {
                              c++, n++, i.opt.each(e);
                            },
                            function () {
                              0 === c && i.opt.noMatch(t),
                                a[s - 1] === t
                                  ? i.opt.done(n)
                                  : e(a[a.indexOf(t) + 1]);
                            }
                          );
                      })(a[0]);
                },
              },
              {
                key: "markRanges",
                value: function (e, t) {
                  var i = this;
                  this.opt = t;
                  var n = 0,
                    o = this.checkRanges(e);
                  o && o.length
                    ? (this.log(
                      "Starting to mark with the following ranges: " +
                      JSON.stringify(o)
                    ),
                      this.wrapRangeFromIndex(
                        o,
                        function (e, t, n, o) {
                          return i.opt.filter(e, t, n, o);
                        },
                        function (e, t) {
                          n++, i.opt.each(e, t);
                        },
                        function () {
                          i.opt.done(n);
                        }
                      ))
                    : this.opt.done(n);
                },
              },
              {
                key: "unmark",
                value: function (e) {
                  var t = this;
                  this.opt = e;
                  var i = this.opt.element ? this.opt.element : "*";
                  (i += "[data-markjs]"),
                    this.opt.className && (i += "." + this.opt.className),
                    this.log('Removal selector "' + i + '"'),
                    this.iterator.forEachNode(
                      NodeFilter.SHOW_ELEMENT,
                      function (e) {
                        t.unwrapMatches(e);
                      },
                      function (e) {
                        var n = o.matches(e, i),
                          r = t.matchesExclude(e);
                        return !n || r
                          ? NodeFilter.FILTER_REJECT
                          : NodeFilter.FILTER_ACCEPT;
                      },
                      this.opt.done
                    );
                },
              },
              {
                key: "opt",
                set: function (e) {
                  this._opt = n(
                    {},
                    {
                      element: "",
                      className: "",
                      exclude: [],
                      iframes: !1,
                      iframesTimeout: 5e3,
                      separateWordSearch: !0,
                      diacritics: !0,
                      synonyms: {},
                      accuracy: "partially",
                      acrossElements: !1,
                      caseSensitive: !1,
                      ignoreJoiners: !1,
                      ignoreGroups: 0,
                      ignorePunctuation: [],
                      wildcards: "disabled",
                      each: function () { },
                      noMatch: function () { },
                      filter: function () {
                        return !0;
                      },
                      done: function () { },
                      debug: !1,
                      log: window.console,
                    },
                    e
                  );
                },
                get: function () {
                  return this._opt;
                },
              },
              {
                key: "iterator",
                get: function () {
                  return new o(
                    this.ctx,
                    this.opt.iframes,
                    this.opt.exclude,
                    this.opt.iframesTimeout
                  );
                },
              },
            ]),
            r
          );
        })();
      return function (e) {
        var t = this,
          i = new r(e);
        return (
          (this.mark = function (e, n) {
            return i.mark(e, n), t;
          }),
          (this.markRegExp = function (e, n) {
            return i.markRegExp(e, n), t;
          }),
          (this.markRanges = function (e, n) {
            return i.markRanges(e, n), t;
          }),
          (this.unmark = function (e) {
            return i.unmark(e), t;
          }),
          this
        );
      };
    })();
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.search").directive("evtVirtualKeyboard", [
      "evtVirtualKeyboard",
      "parsedData",
      function (e, t) {
        return {
          restrict: "E",
          tempalte: i(360),
          replace: !0,
          link: function (i) {
            0 !== t.getGlyphs()._indexes.length && e.build(i, i.vm);
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports = "<div class=keyboard-container id={{::vm.keyboardId}}></div> ";
  },
  function (e, t, i) {
    "use strict";
    (function (e) {
      i(362),
        angular
          .module("evtviewer.search")
          .provider("evtVirtualKeyboard", function () {
            this.$get = [
              "evtKeyboard",
              "config",
              "$rootScope",
              function (t, i, n) {
                var o,
                  r,
                  a,
                  s,
                  l,
                  c,
                  u,
                  d = [],
                  p = {},
                  h = [];
                return (
                  (d.build = function (n, d) {
                    if (
                      ((o = n.$parent.id),
                        (r = o + "Keyboard"),
                        (l = ""),
                        (s = i.virtualKeyboardKeys),
                        (u = t.getGlyphInXmlDoc()),
                        0 !== s.length)
                    )
                      for (var f in (c = (function (e) {
                        return t.getConfigKeyboardKeys(e);
                      })(s)))
                        u.includes(f) && (l += c[f] + ":" + f + " ");
                    else
                      for (var g in (a = t.getDefaultKeyboardKeys()))
                        l += a[g] + ":" + g + " ";
                    e("#" + o + " .search-box input").keyboard({
                      layout: "custom",
                      customLayout: { normal: [l] },
                      usePreview: !1,
                      openOn: null,
                      stayOpen: !0,
                      autoAccept: !0,
                      appendTo: "#" + o + " .search-box .keyboard-container",
                      change: function (e, t) {
                        (o = n.$parent.id),
                          (t.originalContent = t.$preview.val()),
                          (n.vm.searchInput = t.originalContent),
                          n.vm.highlightSearchResults(o, n.vm.searchInput);
                      },
                    });
                    var m = { keyboardId: r, keyboardBtns: h };
                    return (p[o] = angular.extend(d, m)), p[o];
                  }),
                  (d.getKeyboardId = function (e) {
                    return p[e].keyboardId;
                  }),
                  (d.unselectCurrentKeyboard = function (t, i) {
                    var n,
                      o = e("#" + i + "Keyboard").getkeyboard();
                    if (void 0 !== o) {
                      for (var r in h) h[r].parentId === i && (n = h[r].btn);
                      o.close(), n.setActive(!1);
                    }
                  }),
                  n.$on("keyboardBtn", function (e, t) {
                    h.push(t);
                  }),
                  d
                );
              },
            ];
          });
    }.call(this, i(0)));
  },
  function (e, t, i) {
    var n, o, r;
    /*! jQuery UI Virtual Keyboard v1.30.1 */ (o = [i(0)]),
      void 0 ===
      (r =
        "function" ==
          typeof (n = function (e) {
            "use strict";
            var t = (e.keyboard = function (i, n) {
              var o,
                r = this;
              (r.version = "1.30.1"),
                (r.$el = e(i)),
                (r.el = i),
                r.$el.data("keyboard", r),
                (r.init = function () {
                  r.initialized = !1;
                  var i,
                    a,
                    s,
                    l = t.css,
                    c = t.events;
                  (r.settings = n || {}),
                    n &&
                    n.position &&
                    ((a = e.extend({}, n.position)), (n.position = null)),
                    (r.options = o = e.extend(!0, {}, t.defaultOptions, n)),
                    a && ((o.position = a), (n.position = a)),
                    (r.el.active = !0),
                    (r.namespace =
                      ".keyboard" + Math.random().toString(16).slice(2)),
                    (r.extensionNamespace = []),
                    (r.shiftActive =
                      r.altActive =
                      r.metaActive =
                      r.sets =
                      r.capsLock =
                      !1),
                    (r.rows = ["", "-shift", "-alt", "-alt-shift"]),
                    (r.inPlaceholder = r.$el.attr("placeholder") || ""),
                    (r.watermark = t.watermark && "" !== r.inPlaceholder),
                    (r.repeatTime = 1e3 / (o.repeatRate || 20)),
                    (o.preventDoubleEventTime =
                      o.preventDoubleEventTime || 100),
                    (r.isOpen = !1),
                    (r.wheel = "function" == typeof e.fn.mousewheel),
                    (r.escapeRegex = /[-\/\\^$*+?.()|[\]{}]/g),
                    (r.isTextArea = "textarea" === r.el.nodeName.toLowerCase()),
                    (r.isInput = "input" === r.el.nodeName.toLowerCase()),
                    (r.isContentEditable =
                      !r.isTextArea && !r.isInput && r.el.isContentEditable),
                    (i = t.keyCodes),
                    (r.alwaysAllowed = [
                      i.capsLock,
                      i.pageUp,
                      i.pageDown,
                      i.end,
                      i.home,
                      i.left,
                      i.up,
                      i.right,
                      i.down,
                      i.insert,
                      i.delete,
                    ]),
                    (r.$keyboard = []),
                    (r.enabled = !0),
                    (r.checkCaret = o.lockInput || t.checkCaretSupport()),
                    r.isContentEditable && (o.usePreview = !1),
                    (r.last = {
                      start: 0,
                      end: 0,
                      key: "",
                      val: "",
                      preVal: "",
                      layout: "",
                      virtual: !0,
                      keyset: [!1, !1, !1],
                      wheel_$Keys: [],
                      wheelIndex: 0,
                      wheelLayers: [],
                    }),
                    (r.temp = ["", 0, 0]),
                    e.each(
                      [
                        c.kbInit,
                        c.kbBeforeVisible,
                        c.kbVisible,
                        c.kbHidden,
                        c.inputCanceled,
                        c.inputAccepted,
                        c.kbBeforeClose,
                        c.inputRestricted,
                      ],
                      function (e, t) {
                        "function" == typeof o[t] &&
                          r.$el.bind(t + r.namespace + "callbacks", o[t]);
                      }
                    ),
                    o.alwaysOpen && (o.stayOpen = !0),
                    (s = e(document)),
                    r.el.ownerDocument !== document &&
                    (s = s.add(r.el.ownerDocument));
                  var u = "keyup checkkeyboard mousedown touchstart ";
                  o.closeByClickEvent && (u += "click "),
                    s.bind(u.split(" ").join(r.namespace + " "), function (e) {
                      clearTimeout(r.timer3),
                        (r.timer3 = setTimeout(function () {
                          r.checkClose(e);
                        }, 1));
                    }),
                    r.$el
                      .addClass(l.input + " " + o.css.input)
                      .attr({ "aria-haspopup": "true", role: "textbox" }),
                    (o.lockInput || r.el.readOnly) &&
                    ((o.lockInput = !0),
                      r.$el.addClass(l.locked).attr({ readonly: "readonly" })),
                    r.isUnavailable() && r.$el.addClass(l.noKeyboard),
                    o.openOn && r.bindFocus(),
                    r.watermark ||
                    "" !== r.getValue(r.$el) ||
                    "" === r.inPlaceholder ||
                    "" === r.$el.attr("placeholder") ||
                    (r.$el.addClass(l.placeholder),
                      r.setValue(r.inPlaceholder, r.$el)),
                    r.$el.trigger(c.kbInit, [r, r.el]),
                    o.alwaysOpen && r.reveal(),
                    (r.initialized = !0);
                }),
                (r.toggle = function () {
                  if (r.hasKeyboard()) {
                    var e = r.$keyboard.find("." + t.css.keyToggle),
                      i = !r.enabled;
                    return (
                      (r.preview.readonly = i || r.options.lockInput),
                      r.$keyboard
                        .toggleClass(t.css.keyDisabled, i)
                        .find("." + t.css.keyButton)
                        .not(e)
                        .attr("aria-disabled", i)
                        .each(function () {
                          this.disabled = i;
                        }),
                      e.toggleClass(t.css.keyDisabled, i),
                      i && r.typing_options && (r.typing_options.text = ""),
                      r
                    );
                  }
                }),
                (r.setCurrent = function () {
                  var i = t.css,
                    n = e("." + i.isCurrent),
                    o = n.data("keyboard");
                  e.isEmptyObject(o) ||
                    o.el === r.el ||
                    o.close(!!o.options.autoAccept && "true"),
                    n.removeClass(i.isCurrent),
                    e("." + i.hasFocus).removeClass(i.hasFocus),
                    r.$el.addClass(i.isCurrent),
                    r.$preview.focus(),
                    r.$keyboard.addClass(i.hasFocus),
                    r.isCurrent(!0),
                    (r.isOpen = !0);
                }),
                (r.isUnavailable = function () {
                  return (
                    r.$el.is(":disabled") ||
                    (!r.options.activeOnReadonly &&
                      r.$el.attr("readonly") &&
                      !r.$el.hasClass(t.css.locked))
                  );
                }),
                (r.isCurrent = function (e) {
                  var i = t.currentKeyboard || !1;
                  return (
                    e
                      ? (i = t.currentKeyboard = r.el)
                      : !1 === e && i === r.el && (i = t.currentKeyboard = ""),
                    i === r.el
                  );
                }),
                (r.hasKeyboard = function () {
                  return r.$keyboard && r.$keyboard.length > 0;
                }),
                (r.isVisible = function () {
                  return !!r.hasKeyboard() && r.$keyboard.is(":visible");
                }),
                (r.setFocus = function () {
                  var e = r.$preview || r.$el;
                  o.noFocus || e.focus(),
                    r.isContentEditable
                      ? t.setEditableCaret(e, r.last.start, r.last.end)
                      : t.caret(e, r.last);
                }),
                (r.focusOn = function () {
                  (!r && r.el.active) ||
                    (r.isVisible()
                      ? r.setCurrent()
                      : (clearTimeout(r.timer), r.reveal()));
                }),
                (r.redraw = function (e) {
                  return (
                    e && (r.options.layout = e),
                    r.$keyboard.length &&
                    ((r.last.preVal = "" + r.last.val),
                      r.saveLastChange(),
                      r.setValue(r.last.val, r.$el),
                      r.removeKeyboard(),
                      (r.shiftActive = r.altActive = r.metaActive = !1)),
                    (r.isOpen = o.alwaysOpen),
                    r.reveal(!0),
                    r
                  );
                }),
                (r.reveal = function (i) {
                  var n,
                    a = r.isOpen,
                    s = t.css;
                  if (
                    ((r.opening = !a),
                      e("." + s.keyboard)
                        .not("." + s.alwaysOpen)
                        .each(function () {
                          var t = e(this).data("keyboard");
                          e.isEmptyObject(t) ||
                            t.close(!!t.options.autoAccept && "true");
                        }),
                      !r.isUnavailable())
                  )
                    return (
                      r.$el.removeClass(s.noKeyboard),
                      o.openOn &&
                      r.$el.unbind(
                        e.trim(
                          (o.openOn + " ")
                            .split(/\s+/)
                            .join(r.namespace + " ")
                        )
                      ),
                      (r.$keyboard &&
                        (!r.$keyboard ||
                          (r.$keyboard.length &&
                            !e.contains(
                              r.el.ownerDocument.body,
                              r.$keyboard[0]
                            )))) ||
                      r.startup(),
                      r.watermark ||
                      r.getValue() !== r.inPlaceholder ||
                      (r.$el.removeClass(s.placeholder),
                        r.setValue("", r.$el)),
                      (r.originalContent = r.isContentEditable
                        ? r.$el.html()
                        : r.getValue(r.$el)),
                      r.el === r.preview ||
                      r.isContentEditable ||
                      r.setValue(r.originalContent),
                      o.acceptValid && o.checkValidOnInit && r.checkValid(),
                      o.resetDefault &&
                      (r.shiftActive = r.altActive = r.metaActive = !1),
                      r.showSet(),
                      r.isVisible() ||
                      r.$el.trigger(t.events.kbBeforeVisible, [r, r.el]),
                      (r.initialized ||
                        o.initialFocus ||
                        (!o.initialFocus &&
                          r.$el.hasClass(t.css.initialFocus))) &&
                      r.setCurrent(),
                      r.toggle(),
                      r.$keyboard.show(),
                      o.usePreview &&
                      t.msie &&
                      (void 0 === r.width &&
                        (r.$preview.hide(),
                          (r.width = Math.ceil(r.$keyboard.width())),
                          r.$preview.show()),
                        r.$preview.width(r.width)),
                      r.reposition(),
                      r.checkDecimal(),
                      (r.lineHeight =
                        parseInt(r.$preview.css("lineHeight"), 10) ||
                        parseInt(r.$preview.css("font-size"), 10) + 4),
                      o.caretToEnd &&
                      ((n = r.isContentEditable
                        ? t.getEditableLength(r.el)
                        : r.originalContent.length),
                        r.saveCaret(n, n)),
                      t.allie &&
                      (0 === r.last.end &&
                        r.last.start > 0 &&
                        (r.last.end = r.last.start),
                        r.last.start < 0 &&
                        (r.last.start = r.last.end =
                          r.originalContent.length)),
                      a || i
                        ? (t.caret(r.$preview, r.last), (r.opening = !1), r)
                        : ((r.timer2 = setTimeout(function () {
                          (r.opening = !1),
                            /(number|email)/i.test(r.el.type) ||
                            o.caretToEnd ||
                            r.saveCaret(void 0, void 0, r.$el),
                            (o.initialFocus ||
                              r.$el.hasClass(t.css.initialFocus)) &&
                            t.caret(r.$preview, r.last),
                            (r.last.eventTime = new Date().getTime()),
                            r.$el.trigger(t.events.kbVisible, [r, r.el]),
                            (r.timer = setTimeout(function () {
                              r && r.saveCaret();
                            }, 200));
                        }, 10)),
                          r)
                    );
                }),
                (r.updateLanguage = function () {
                  var i = t.layouts,
                    n = o.language ||
                      (i[o.layout] && i[o.layout].lang && i[o.layout].lang) || [
                        o.language || "en",
                      ],
                    a = t.language;
                  (n =
                    "[object Array]" === Object.prototype.toString.call(n)
                      ? n[0]
                      : n),
                    (r.language = n),
                    (n = n.split("-")[0]),
                    (o.display = e.extend(
                      !0,
                      {},
                      a.en.display,
                      (a[n] && a[n].display) || {},
                      r.settings.display
                    )),
                    (o.combos = e.extend(
                      !0,
                      {},
                      a.en.combos,
                      (a[n] && a[n].combos) || {},
                      r.settings.combos
                    )),
                    (o.wheelMessage =
                      (a[n] && a[n].wheelMessage) || a.en.wheelMessage),
                    (o.rtl =
                      (i[o.layout] && i[o.layout].rtl) ||
                      (a[n] && a[n].rtl) ||
                      !1),
                    a[n] && a[n].comboRegex && (r.regex = a[n].comboRegex),
                    (r.decimal = /^\./.test(o.display.dec)),
                    r.$el
                      .toggleClass("rtl", o.rtl)
                      .css("direction", o.rtl ? "rtl" : "");
                }),
                (r.startup = function () {
                  var i = t.css;
                  ((o.alwaysOpen || o.userClosed) && r.$preview) ||
                    r.makePreview(),
                    r.hasKeyboard() ||
                    ("custom" === o.layout &&
                      (o.layoutHash = "custom" + r.customHash()),
                      (r.layout =
                        "custom" === o.layout ? o.layoutHash : o.layout),
                      (r.last.layout = r.layout),
                      r.updateLanguage(),
                      void 0 === t.builtLayouts[r.layout] &&
                      ("function" == typeof o.create
                        ? (r.$keyboard = o.create(r))
                        : r.$keyboard.length ||
                        r.buildKeyboard(r.layout, !0)),
                      (r.$keyboard =
                        t.builtLayouts[r.layout].$keyboard.clone()),
                      r.$keyboard.data("keyboard", r),
                      "" !== (r.el.id || "") &&
                      r.$keyboard.attr("id", r.el.id + t.css.idSuffix),
                      r.makePreview()),
                    r.$keyboard
                      .attr("data-" + i.keyboard + "-layout", o.layout)
                      .attr("data-" + i.keyboard + "-language", r.language),
                    (r.$decBtn = r.$keyboard.find("." + i.keyPrefix + "dec")),
                    (o.enterNavigation || r.isTextArea) &&
                    r.alwaysAllowed.push(t.keyCodes.enter),
                    r.bindKeyboard(),
                    r.$keyboard.appendTo(
                      o.appendLocally ? r.$el.parent() : o.appendTo || "body"
                    ),
                    r.bindKeys(),
                    o.reposition &&
                    e.ui &&
                    e.ui.position &&
                    "body" === o.appendTo &&
                    e(window).bind("resize" + r.namespace, function () {
                      r.reposition();
                    });
                }),
                (r.reposition = function () {
                  return (
                    (r.position = !e.isEmptyObject(o.position) && o.position),
                    e.ui &&
                    e.ui.position &&
                    r.position &&
                    ((r.position.of =
                      r.position.of ||
                      r.$el.data("keyboardPosition") ||
                      r.$el),
                      (r.position.collision =
                        r.position.collision || "flipfit flipfit"),
                      (r.position.at = o.usePreview
                        ? o.position.at
                        : o.position.at2),
                      r.isVisible() && r.$keyboard.position(r.position)),
                    r
                  );
                }),
                (r.makePreview = function () {
                  if (o.usePreview) {
                    var i,
                      n,
                      a,
                      s,
                      l = t.css;
                    for (
                      r.$preview = r.$el
                        .clone(!1)
                        .data("keyboard", r)
                        .removeClass(l.placeholder + " " + l.input)
                        .addClass(l.preview + " " + o.css.input)
                        .attr("tabindex", "-1")
                        .show(),
                      r.preview = r.$preview[0],
                      "number" === r.preview.type &&
                      (r.preview.type = "text"),
                      s = /^(data-|id|aria-haspopup)/i,
                      i = (n = r.$preview.get(0).attributes).length - 1;
                      i >= 0;
                      i--
                    )
                      (a = n[i] && n[i].name),
                        s.test(a) && r.preview.removeAttribute(a);
                    e("<div />")
                      .addClass(l.wrapper)
                      .append(r.$preview)
                      .prependTo(r.$keyboard);
                  } else (r.$preview = r.$el), (r.preview = r.el);
                }),
                (r.caret = function (i, n) {
                  var o = t.caret(r.$preview, i, n);
                  return o instanceof e ? (r.saveCaret(o.start, o.end), r) : o;
                }),
                (r.saveCaret = function (e, i, n) {
                  var o;
                  r.isCurrent() &&
                    ((o =
                      void 0 === e
                        ? t.caret(n || r.$preview)
                        : t.caret(n || r.$preview, e, i)),
                      (r.last.start = void 0 === e ? o.start : e),
                      (r.last.end = void 0 === i ? o.end : i));
                }),
                (r.saveLastChange = function (e) {
                  (r.last.val = e || r.getValue(r.$preview || r.$el)),
                    r.isContentEditable && (r.last.elms = r.el.cloneNode(!0));
                }),
                (r.setScroll = function () {
                  if (!r.isContentEditable && r.last.virtual) {
                    var e,
                      i,
                      n,
                      a,
                      s = r.last.val.substring(
                        0,
                        Math.max(r.last.start, r.last.end)
                      );
                    r.$previewCopy ||
                      ((r.$previewCopy = r.$preview
                        .clone()
                        .removeAttr("id")
                        .css({
                          position: "absolute",
                          left: 0,
                          zIndex: -10,
                          visibility: "hidden",
                        })
                        .addClass(t.css.inputClone)),
                        (r.$previewCopy[0].disabled = !0),
                        r.isTextArea ||
                        r.$previewCopy.css({ "white-space": "pre", width: 0 }),
                        o.usePreview
                          ? r.$preview.after(r.$previewCopy)
                          : r.$keyboard.prepend(r.$previewCopy)),
                      r.isTextArea
                        ? (r.$previewCopy.height(r.lineHeight).val(s),
                          (r.preview.scrollTop =
                            r.lineHeight *
                            (Math.floor(
                              r.$previewCopy[0].scrollHeight / r.lineHeight
                            ) -
                              1)))
                        : (r.$previewCopy.val(s.replace(/\s/g, " ")),
                          (n = /c/i.test(o.scrollAdjustment)
                            ? r.preview.clientWidth / 2
                            : o.scrollAdjustment),
                          (e = r.$previewCopy[0].scrollWidth - 1),
                          void 0 === r.last.scrollWidth &&
                          ((r.last.scrollWidth = e), (r.last.direction = !0)),
                          (a =
                            r.last.scrollWidth === e
                              ? r.last.direction
                              : r.last.scrollWidth < e),
                          (i = r.preview.clientWidth - n),
                          a
                            ? (r.preview.scrollLeft = e < i ? 0 : e - i)
                            : e >= r.preview.scrollWidth - i
                              ? (r.preview.scrollLeft = r.preview.scrollWidth - n)
                              : (r.preview.scrollLeft = e - n > 0 ? e - n : 0),
                          (r.last.scrollWidth = e),
                          (r.last.direction = a));
                  }
                }),
                (r.bindFocus = function () {
                  o.openOn &&
                    r &&
                    r.el.active &&
                    (r.$el.bind(o.openOn + r.namespace, function () {
                      r.focusOn();
                    }),
                      e(":focus")[0] === r.el && r.$el.blur());
                }),
                (r.bindKeyboard = function () {
                  var i,
                    n = t.keyCodes,
                    a = t.builtLayouts[r.layout],
                    s = r.namespace + "keybindings";
                  r.$preview
                    .unbind(r.namespace)
                    .bind("click" + s + " touchstart" + s, function () {
                      o.alwaysOpen && !r.isCurrent() && r.reveal(),
                        (r.timer2 = setTimeout(function () {
                          r && r.saveCaret();
                        }, 150));
                    })
                    .bind("keypress" + s, function (s) {
                      if (o.lockInput) return !1;
                      if (r.isCurrent()) {
                        var l = s.charCode || s.which,
                          c = l >= n.A && l <= n.Z,
                          u = l >= n.a && l <= n.z,
                          d = (r.last.key = String.fromCharCode(l));
                        if (!(l < n.space)) {
                          if (
                            ((r.last.virtual = !1),
                              (r.last.event = s),
                              (r.last.$key = []),
                              r.checkCaret && r.saveCaret(),
                              l !== n.capsLock &&
                              (c || u) &&
                              ((r.capsLock =
                                (c && !s.shiftKey) || (u && s.shiftKey)),
                                r.capsLock &&
                                !r.shiftActive &&
                                ((r.shiftActive = !0), r.showSet())),
                              o.restrictInput)
                          ) {
                            if (
                              (s.which === n.backSpace || 0 === s.which) &&
                              e.inArray(s.keyCode, r.alwaysAllowed)
                            )
                              return;
                            -1 === e.inArray(d, a.acceptedKeys) &&
                              (s.preventDefault(),
                                ((i = e.extend({}, s)).type =
                                  t.events.inputRestricted),
                                r.$el.trigger(i, [r, r.el]));
                          } else if (
                            (s.ctrlKey || s.metaKey) &&
                            (s.which === n.A ||
                              s.which === n.C ||
                              s.which === n.V ||
                              (s.which >= n.X && s.which <= n.Z))
                          )
                            return;
                          a.hasMappedKeys &&
                            a.mappedKeys.hasOwnProperty(d) &&
                            ((r.last.key = a.mappedKeys[d]),
                              r.insertText(r.last.key),
                              s.preventDefault()),
                            "function" == typeof o.beforeInsert &&
                            (r.insertText(r.last.key), s.preventDefault()),
                            r.checkMaxLength();
                        }
                      }
                    })
                    .bind("keyup" + s, function (i) {
                      if (r.isCurrent()) {
                        switch (((r.last.virtual = !1), i.which)) {
                          case n.tab:
                            if (r.tab && !o.lockInput) {
                              r.shiftActive = i.shiftKey;
                              var a = t.keyaction.tab(r);
                              if (((r.tab = !1), !a)) return !1;
                            } else i.preventDefault();
                            break;
                          case n.escape:
                            return (
                              o.ignoreEsc ||
                              r.close(
                                !(!o.autoAccept || !o.autoAcceptOnEsc) &&
                                "true"
                              ),
                              !1
                            );
                        }
                        clearTimeout(r.throttled),
                          (r.throttled = setTimeout(function () {
                            r && r.isVisible() && r.checkCombos();
                          }, 100)),
                          r.checkMaxLength(),
                          (r.last.preVal = "" + r.last.val),
                          r.saveLastChange();
                        var s = e.Event(t.events.kbChange);
                        if (
                          ((s.action = r.last.key),
                            r.$el.trigger(s, [r, r.el]),
                            "function" == typeof o.change)
                        )
                          return (
                            (s.type = t.events.inputChange),
                            o.change(s, r, r.el),
                            !1
                          );
                        o.acceptValid &&
                          o.autoAcceptOnValid &&
                          "function" == typeof o.validate &&
                          o.validate(r, r.getValue(r.$preview)) &&
                          (r.$preview.blur(), r.accept());
                      }
                    })
                    .bind("keydown" + s, function (e) {
                      if (
                        ((r.last.keyPress = e.which),
                          o.alwaysOpen && !r.isCurrent() && r.reveal(),
                          e.which === n.tab)
                      )
                        return (r.tab = !0), !1;
                      if (o.lockInput || e.timeStamp === r.last.timeStamp)
                        return !o.lockInput;
                      switch (
                      ((r.last.timeStamp = e.timeStamp),
                        (r.last.virtual = !1),
                        e.which)
                      ) {
                        case n.backSpace:
                          t.keyaction.bksp(r, null, e), e.preventDefault();
                          break;
                        case n.enter:
                          t.keyaction.enter(r, null, e);
                          break;
                        case n.capsLock:
                          (r.shiftActive = r.capsLock = !r.capsLock),
                            r.showSet();
                          break;
                        case n.V:
                          if (e.ctrlKey || e.metaKey) {
                            if (o.preventPaste) return void e.preventDefault();
                            r.checkCombos();
                          }
                      }
                    })
                    .bind(
                      "mouseup touchend ".split(" ").join(s + " "),
                      function () {
                        (r.last.virtual = !0), r.saveCaret();
                      }
                    ),
                    r.$keyboard.bind(
                      "mousedown click touchstart "
                        .split(" ")
                        .join(r.namespace + " "),
                      function (t) {
                        t.stopPropagation(),
                          r.isCurrent() ||
                          (r.reveal(),
                            e(r.el.ownerDocument).trigger(
                              "checkkeyboard" + r.namespace
                            )),
                          r.setFocus();
                      }
                    ),
                    o.preventPaste &&
                    (r.$preview.bind(
                      "contextmenu" + r.namespace,
                      function (e) {
                        e.preventDefault();
                      }
                    ),
                      r.$el.bind("contextmenu" + r.namespace, function (e) {
                        e.preventDefault();
                      }));
                }),
                (r.bindButton = function (i, n) {
                  var o = "." + t.css.keyButton,
                    a = function (i) {
                      i.stopPropagation(),
                        (i.$target = e(this).closest(
                          "." + t.css.keyboard + ", ." + t.css.input
                        )),
                        n.call(this, i);
                    };
                  return (
                    e.fn.on
                      ? r.$keyboard.on(i, o, a)
                      : e.fn.delegate && r.$keyboard.delegate(o, i, a),
                    r
                  );
                }),
                (r.unbindButton = function (i) {
                  return (
                    e.fn.off
                      ? r.$keyboard.off(i)
                      : e.fn.undelegate &&
                      r.$keyboard.undelegate("." + t.css.keyButton, i),
                    r
                  );
                }),
                (r.bindKeys = function () {
                  var i = t.css;
                  r.unbindButton(r.namespace + " " + r.namespace + "kb")
                    .bindButton(
                      "mouseenter mouseleave touchstart "
                        .split(" ")
                        .join(r.namespace + " "),
                      function (t) {
                        if (
                          ((!o.alwaysOpen && !o.userClosed) ||
                            "mouseleave" === t.type ||
                            r.isCurrent() ||
                            (r.reveal(), r.setFocus()),
                            r.isCurrent() && !this.disabled)
                        ) {
                          var i,
                            n,
                            a = r.last,
                            s = e(this),
                            l = t.type;
                          o.useWheel &&
                            r.wheel &&
                            ((i = r.getLayers(s)),
                              (n = (i.length
                                ? i
                                  .map(function () {
                                    return e(this).attr("data-value") || "";
                                  })
                                  .get()
                                : "") || [s.text()]),
                              (a.wheel_$Keys = i),
                              (a.wheelLayers = n),
                              (a.wheelIndex = e.inArray(
                                s.attr("data-value"),
                                n
                              ))),
                            ("mouseenter" !== l && "touchstart" !== l) ||
                            "password" === r.el.type ||
                            s.hasClass(o.css.buttonDisabled) ||
                            (s.addClass(o.css.buttonHover),
                              o.useWheel &&
                              r.wheel &&
                              s.attr("title", function (e, t) {
                                return r.wheel &&
                                  "" === t &&
                                  r.sets &&
                                  n.length > 1 &&
                                  "touchstart" !== l
                                  ? o.wheelMessage
                                  : t;
                              })),
                            "mouseleave" === l &&
                            (s.removeClass(
                              "password" === r.el.type
                                ? ""
                                : o.css.buttonHover
                            ),
                              o.useWheel &&
                              r.wheel &&
                              ((a.wheelIndex = 0),
                                (a.wheelLayers = []),
                                (a.wheel_$Keys = []),
                                s
                                  .attr("title", function (e, t) {
                                    return t === o.wheelMessage ? "" : t;
                                  })
                                  .html(s.attr("data-html"))));
                        }
                      }
                    )
                    .bindButton(
                      o.keyBinding.split(" ").join(r.namespace + " ") +
                      r.namespace +
                      " " +
                      t.events.kbRepeater,
                      function (n) {
                        if (
                          (n.preventDefault(),
                            !r.$keyboard.is(":visible") || this.disabled)
                        )
                          return !1;
                        var a,
                          s = r.last,
                          l = e(this),
                          c = new Date().getTime();
                        if (
                          (o.useWheel &&
                            r.wheel &&
                            (l =
                              s.wheel_$Keys.length && s.wheelIndex > -1
                                ? s.wheel_$Keys.eq(s.wheelIndex)
                                : l),
                            (a = l.attr("data-action")),
                            !(c - (s.eventTime || 0) < o.preventDoubleEventTime))
                        ) {
                          if (
                            ((s.eventTime = c),
                              (s.event = n),
                              (s.virtual = !0),
                              (s.$key = l),
                              (s.key = l.attr("data-value")),
                              (s.keyPress = ""),
                              r.setFocus(),
                              /^meta/.test(a) && (a = "meta"),
                              a === s.key && "string" == typeof t.keyaction[a])
                          )
                            s.key = a = t.keyaction[a];
                          else if (
                            a in t.keyaction &&
                            "function" == typeof t.keyaction[a]
                          ) {
                            if (!1 === t.keyaction[a](r, this, n)) return !1;
                            a = null;
                          }
                          return (
                            !!r.hasKeyboard() &&
                            (null != a &&
                              ((s.key = e(this).hasClass(i.keyAction)
                                ? a
                                : s.key),
                                r.insertText(s.key),
                                r.capsLock ||
                                o.stickyShift ||
                                n.shiftKey ||
                                ((r.shiftActive = !1),
                                  r.showSet(l.attr("data-name")))),
                              t.caret(r.$preview, s),
                              r.checkCombos(),
                              ((n = e.extend(
                                {},
                                n,
                                e.Event(t.events.kbChange)
                              )).target = r.el),
                              (n.action = s.key),
                              r.$el.trigger(n, [r, r.el]),
                              (s.preVal = "" + s.val),
                              r.saveLastChange(),
                              "function" == typeof o.change
                                ? ((n.type = t.events.inputChange),
                                  o.change(n, r, r.el),
                                  !1)
                                : void 0)
                          );
                        }
                      }
                    )
                    .bindButton(
                      "mouseup" +
                      r.namespace +
                      " " +
                      "mouseleave touchend touchmove touchcancel "
                        .split(" ")
                        .join(r.namespace + "kb "),
                      function (i) {
                        r.last.virtual = !0;
                        var n,
                          a = e(this);
                        if ("touchmove" === i.type) {
                          if (
                            (((n = a.offset()).right = n.left + a.outerWidth()),
                              (n.bottom = n.top + a.outerHeight()),
                              i.originalEvent.touches[0].pageX >= n.left &&
                              i.originalEvent.touches[0].pageX < n.right &&
                              i.originalEvent.touches[0].pageY >= n.top &&
                              i.originalEvent.touches[0].pageY < n.bottom)
                          )
                            return !0;
                        } else
                          /(mouseleave|touchend|touchcancel)/i.test(i.type)
                            ? a.removeClass(o.css.buttonHover)
                            : (!o.noFocus &&
                              r.isCurrent() &&
                              r.isVisible() &&
                              r.$preview.focus(),
                              r.checkCaret && t.caret(r.$preview, r.last));
                        return (
                          (r.mouseRepeat = [!1, ""]),
                          clearTimeout(r.repeater),
                          o.acceptValid &&
                          o.autoAcceptOnValid &&
                          "function" == typeof o.validate &&
                          o.validate(r, r.getValue()) &&
                          (r.$preview.blur(), r.accept()),
                          !1
                        );
                      }
                    )
                    .bindButton("click" + r.namespace, function () {
                      return !1;
                    })
                    .bindButton(
                      "mousewheel" + r.namespace,
                      r.throttleEvent(function (t, n) {
                        var a = e(this);
                        if (
                          a &&
                          !a.hasClass(i.keyAction) &&
                          r.last.wheel_$Keys[0] === this &&
                          o.useWheel &&
                          r.wheel
                        ) {
                          n = n || t.deltaY;
                          var s,
                            l = r.last.wheelLayers || [];
                          return (
                            l.length > 1
                              ? ((s = r.last.wheelIndex + (n > 0 ? -1 : 1)) >
                                l.length - 1 && (s = 0),
                                s < 0 && (s = l.length - 1))
                              : (s = 0),
                            (r.last.wheelIndex = s),
                            a.html(l[s]),
                            !1
                          );
                        }
                      }, 30)
                    )
                    .bindButton(
                      "mousedown touchstart "
                        .split(" ")
                        .join(r.namespace + "kb "),
                      function () {
                        var t = e(this);
                        if (
                          t &&
                          (!t.hasClass(i.keyAction) ||
                            t.is(
                              "." +
                              i.keyPrefix +
                              "tab bksp space enter"
                                .split(" ")
                                .join(",." + i.keyPrefix)
                            ))
                        )
                          return (
                            0 !== o.repeatRate &&
                            ((r.mouseRepeat = [!0, t]),
                              setTimeout(function () {
                                r &&
                                  r.mouseRepeat[0] &&
                                  r.mouseRepeat[1] === t &&
                                  !t[0].disabled &&
                                  r.repeatKey(t);
                              }, o.repeatDelay)),
                            !1
                          );
                      }
                    );
                }),
                (r.throttleEvent = function (e, t) {
                  var i;
                  return function () {
                    i ||
                      (e.apply(this, arguments),
                        (i = !0),
                        setTimeout(function () {
                          i = !1;
                        }, t));
                  };
                }),
                (r.execCommand = function (e, t) {
                  r.el.ownerDocument.execCommand(e, !1, t),
                    r.el.normalize(),
                    o.reposition && r.reposition();
                }),
                (r.getValue = function (e) {
                  return (e = e || r.$preview)[
                    r.isContentEditable ? "text" : "val"
                  ]();
                }),
                (r.setValue = function (e, i) {
                  return (
                    (i = i || r.$preview),
                    r.isContentEditable
                      ? e !== i.text() &&
                      (t.replaceContent(i, e), r.saveCaret())
                      : i.val(e),
                    r
                  );
                }),
                (r.insertText = function (e) {
                  if (!r.$preview) return r;
                  if (
                    ("function" == typeof o.beforeInsert &&
                      (e = o.beforeInsert(r.last.event, r, r.el, e)),
                      void 0 === e || !1 === e)
                  )
                    return (r.last.key = ""), r;
                  if (r.isContentEditable) return r.insertContentEditable(e);
                  var i,
                    n = !1,
                    a = "\b" === e,
                    s = r.getValue(),
                    l = t.caret(r.$preview),
                    c = s.length;
                  return (
                    l.end < l.start && (l.end = l.start),
                    l.start > c && (l.end = l.start = c),
                    r.isTextArea &&
                    t.msie &&
                    "\n" === s.substring(l.start, l.start + 1) &&
                    ((l.start += 1), (l.end += 1)),
                    (i = l.start),
                    "{d}" === e && ((e = ""), (l.end += 1)),
                    a && ((e = ""), (n = a && i === l.end && i > 0)),
                    (s =
                      s.substring(0, i - (n ? 1 : 0)) + e + s.substring(l.end)),
                    (i += n ? -1 : e.length),
                    r.setValue(s),
                    r.saveCaret(i, i),
                    r.setScroll(),
                    r
                  );
                }),
                (r.insertContentEditable = function (e) {
                  return (
                    r.$preview.focus(),
                    r.execCommand("insertText", e),
                    r.saveCaret(),
                    r
                  );
                }),
                (r.checkMaxLength = function () {
                  if (r.$preview) {
                    var e,
                      i,
                      n = r.getValue(),
                      a = r.isContentEditable
                        ? t.getEditableLength(r.el)
                        : n.length;
                    return (
                      !1 !== o.maxLength &&
                      a > o.maxLength &&
                      ((e = t.caret(r.$preview).start),
                        (i = Math.min(e, o.maxLength)),
                        o.maxInsert || ((n = r.last.val), (i = e - 1)),
                        r.setValue(n.substring(0, o.maxLength)),
                        r.saveCaret(i, i)),
                      r.$decBtn.length && r.checkDecimal(),
                      r
                    );
                  }
                }),
                (r.repeatKey = function (e) {
                  e.trigger(t.events.kbRepeater),
                    r.mouseRepeat[0] &&
                    (r.repeater = setTimeout(function () {
                      r && r.repeatKey(e);
                    }, r.repeatTime));
                }),
                (r.getKeySet = function () {
                  var e = [];
                  return (
                    r.altActive && e.push("alt"),
                    r.shiftActive && e.push("shift"),
                    r.metaActive && e.push(r.metaActive),
                    e.length ? e.join("+") : "normal"
                  );
                }),
                (r.showKeySet = function (e) {
                  return (
                    "string" == typeof e
                      ? ((r.last.keyset = [
                        r.shiftActive,
                        r.altActive,
                        r.metaActive,
                      ]),
                        (r.shiftActive = /shift/i.test(e)),
                        (r.altActive = /alt/i.test(e)),
                        /\bmeta/.test(e)
                          ? ((r.metaActive = !0),
                            r.showSet(e.match(/\bmeta[\w-]+/i)[0]))
                          : ((r.metaActive = !1), r.showSet()))
                      : r.showSet(e),
                    r
                  );
                }),
                (r.showSet = function (e) {
                  if (r.hasKeyboard()) {
                    o = r.options;
                    var i = t.css,
                      n = "." + i.keyPrefix,
                      a = o.css.buttonActive,
                      s = "",
                      l = (r.shiftActive ? 1 : 0) + (r.altActive ? 2 : 0);
                    if (
                      (r.shiftActive || (r.capsLock = !1),
                        r.metaActive
                          ? (r.shiftActive &&
                            (e = (e || "").replace("-shift", "")),
                            r.altActive && (e = (e || "").replace("-alt", "")),
                            "" === (s = /^meta/i.test(e) ? e : "")
                              ? (s = !0 === r.metaActive ? "" : r.metaActive)
                              : (r.metaActive = s),
                            ((!o.stickyShift &&
                              r.last.keyset[2] !== r.metaActive) ||
                              ((r.shiftActive || r.altActive) &&
                                !r.$keyboard.find(
                                  "." + i.keySet + "-" + s + r.rows[l]
                                ).length)) &&
                            (r.shiftActive = r.altActive = !1))
                          : !o.stickyShift &&
                          r.last.keyset[2] !== r.metaActive &&
                          r.shiftActive &&
                          (r.shiftActive = r.altActive = !1),
                        (s =
                          0 !=
                            (l =
                              (r.shiftActive ? 1 : 0) + (r.altActive ? 2 : 0)) ||
                            r.metaActive
                            ? "" === s
                              ? ""
                              : "-" + s
                            : "-normal"),
                        !r.$keyboard.find("." + i.keySet + s + r.rows[l]).length)
                    )
                      return (
                        (r.shiftActive = r.last.keyset[0]),
                        (r.altActive = r.last.keyset[1]),
                        void (r.metaActive = r.last.keyset[2])
                      );
                    r.$keyboard
                      .find(
                        n +
                        "alt," +
                        n +
                        "shift,." +
                        i.keyAction +
                        "[class*=meta]"
                      )
                      .removeClass(a)
                      .end()
                      .find(n + "alt")
                      .toggleClass(a, r.altActive)
                      .end()
                      .find(n + "shift")
                      .toggleClass(a, r.shiftActive)
                      .end()
                      .find(n + "lock")
                      .toggleClass(a, r.capsLock)
                      .end()
                      .find("." + i.keySet)
                      .hide()
                      .end()
                      .find("." + (i.keyAction + n + s).replace("--", "-"))
                      .addClass(a),
                      (r.$keyboard.find(
                        "." + i.keySet + s + r.rows[l]
                      )[0].style.display = "inline-block"),
                      r.metaActive &&
                      r.$keyboard
                        .find(n + r.metaActive)
                        .toggleClass(a, !1 !== r.metaActive),
                      (r.last.keyset = [
                        r.shiftActive,
                        r.altActive,
                        r.metaActive,
                      ]),
                      r.$el.trigger(t.events.kbKeysetChange, [r, r.el]),
                      o.reposition && r.reposition();
                  }
                }),
                (r.checkCombos = function () {
                  if (
                    !(
                      r.isVisible() ||
                      (r.hasKeyboard() && r.$keyboard.hasClass(t.css.hasFocus))
                    )
                  )
                    return r.getValue(r.$preview || r.$el);
                  var n,
                    a,
                    s,
                    l,
                    c = r.getValue(),
                    u = t.caret(r.$preview),
                    d = t.builtLayouts[r.layout],
                    p = r.isContentEditable
                      ? t.getEditableLength(r.el)
                      : c.length,
                    h = p;
                  return "" === c
                    ? (o.acceptValid && r.checkValid(), c)
                    : (u.end < u.start && (u.end = u.start),
                      u.start > h && (u.end = u.start = h),
                      t.msie &&
                      "\n" === c.substring(u.start, u.start + 1) &&
                      ((u.start += 1), (u.end += 1)),
                      o.useCombos &&
                      (t.msie
                        ? (c = c.replace(r.regex, function (e, t, i) {
                          return (
                            (o.combos.hasOwnProperty(t) &&
                              o.combos[t][i]) ||
                            e
                          );
                        }))
                        : r.$preview.length &&
                        ((a = u.start - (u.start - 2 >= 0 ? 2 : 0)),
                          t.caret(r.$preview, a, u.end),
                          (s = (l = function (e) {
                            return (e || "").replace(
                              r.regex,
                              function (e, t, i) {
                                return (
                                  (o.combos.hasOwnProperty(t) &&
                                    o.combos[t][i]) ||
                                  e
                                );
                              }
                            );
                          })((a = t.caret(r.$preview)).text)),
                          a &&
                          a.replaceStr &&
                          s !== a.text &&
                          (r.isContentEditable
                            ? t.replaceContent(i, l)
                            : r.setValue(a.replaceStr(s))),
                          (c = r.getValue()))),
                      o.restrictInput &&
                      "" !== c &&
                      ((a = d.acceptedKeys.length),
                        (n = d.acceptedKeysRegex) ||
                        ((s = e.map(d.acceptedKeys, function (e) {
                          return e.replace(r.escapeRegex, "\\$&");
                        })),
                          r.alwaysAllowed.indexOf(t.keyCodes.enter) > -1 &&
                          s.push("\\n"),
                          (n = d.acceptedKeysRegex =
                            new RegExp("(" + s.join("|") + ")", "g"))),
                        (s = c.match(n))
                          ? (c = s.join(""))
                          : ((c = ""), (h = 0))),
                      (u.start += p - h),
                      (u.end += p - h),
                      r.setValue(c),
                      r.saveCaret(u.start, u.end),
                      r.setScroll(),
                      r.checkMaxLength(),
                      o.acceptValid && r.checkValid(),
                      c);
                }),
                (r.checkValid = function () {
                  var e = t.css,
                    i = r.$keyboard.find("." + e.keyPrefix + "accept"),
                    n = !0;
                  "function" == typeof o.validate &&
                    (n = o.validate(r, r.getValue(), !1)),
                    i
                      .toggleClass(e.inputInvalid, !n)
                      .toggleClass(e.inputValid, n)
                      .attr(
                        "title",
                        i.attr("data-title") +
                        " (" +
                        o.display[n ? "valid" : "invalid"] +
                        ")"
                      );
                }),
                (r.checkDecimal = function () {
                  (r.decimal && /\./g.test(r.preview.value)) ||
                    (!r.decimal && /\,/g.test(r.preview.value))
                    ? r.$decBtn
                      .attr({ disabled: "disabled", "aria-disabled": "true" })
                      .removeClass(o.css.buttonHover)
                      .addClass(o.css.buttonDisabled)
                    : r.$decBtn
                      .removeAttr("disabled")
                      .attr({ "aria-disabled": "false" })
                      .addClass(o.css.buttonDefault)
                      .removeClass(o.css.buttonDisabled);
                }),
                (r.getLayers = function (i) {
                  var n = t.css,
                    o = i.attr("data-pos");
                  return i
                    .closest("." + n.keyboard)
                    .find('button[data-pos="' + o + '"]')
                    .filter(function () {
                      return (
                        "" !==
                        e(this)
                          .find("." + n.keyText)
                          .text()
                      );
                    })
                    .add(i);
                }),
                (r.switchInput = function (t, i) {
                  if ("function" == typeof o.switchInput)
                    o.switchInput(r, t, i);
                  else {
                    r.$keyboard.length && r.$keyboard.hide();
                    var n,
                      a = !1,
                      s = e(
                        "button, input, select, textarea, a, [contenteditable]"
                      )
                        .filter(":visible")
                        .not(":disabled"),
                      l = s.index(r.$el) + (t ? 1 : -1);
                    if (
                      (r.$keyboard.length && r.$keyboard.show(),
                        l > s.length - 1 && ((a = o.stopAtEnd), (l = 0)),
                        l < 0 && ((a = o.stopAtEnd), (l = s.length - 1)),
                        !a)
                    ) {
                      if (!(i = r.close(i))) return;
                      (n = s.eq(l).data("keyboard")) && n.options.openOn.length
                        ? n.focusOn()
                        : s.eq(l).focus();
                    }
                  }
                  return !1;
                }),
                (r.close = function (e) {
                  if (r.isOpen && r.$keyboard.length) {
                    clearTimeout(r.throttled);
                    var i = t.css,
                      n = t.events,
                      a = e ? r.checkCombos() : r.originalContent;
                    if (
                      e &&
                      "function" == typeof o.validate &&
                      !o.validate(r, a, !0) &&
                      ((a = r.originalContent), (e = !1), o.cancelClose)
                    )
                      return;
                    r.isCurrent(!1),
                      (r.isOpen = o.alwaysOpen || o.userClosed),
                      r.isContentEditable && !e
                        ? r.$el.html(a)
                        : r.setValue(a, r.$el),
                      r.$el
                        .removeClass(i.isCurrent + " " + i.inputAutoAccepted)
                        .addClass(
                          e ? (!0 === e ? "" : i.inputAutoAccepted) : ""
                        )
                        .trigger(n.inputChange),
                      o.alwaysOpen ||
                      r.$el.trigger(n.kbBeforeClose, [r, r.el, e || !1]),
                      t.caret(r.$preview, r.last),
                      r.$el
                        .trigger(e ? n.inputAccepted : n.inputCanceled, [
                          r,
                          r.el,
                        ])
                        .trigger(o.alwaysOpen ? n.kbInactive : n.kbHidden, [
                          r,
                          r.el,
                        ])
                        .blur(),
                      r &&
                      ((r.last.eventTime = new Date().getTime()),
                        o.alwaysOpen ||
                        (o.userClosed && "true" === e) ||
                        !r.$keyboard.length ||
                        (r.removeKeyboard(),
                          (r.timer = setTimeout(function () {
                            r && r.bindFocus();
                          }, 200))),
                        r.watermark ||
                        "" !== r.el.value ||
                        "" === r.inPlaceholder ||
                        (r.$el.addClass(i.placeholder),
                          r.setValue(r.inPlaceholder, r.$el)));
                  }
                  return !!e;
                }),
                (r.accept = function () {
                  return r.close(!0);
                }),
                (r.checkClose = function (i) {
                  if (!r.opening) {
                    var n = e.keyboard.css,
                      a =
                        i.$target ||
                        e(i.target).closest(
                          "." + t.css.keyboard + ", ." + t.css.input
                        );
                    if (
                      (a.length || (a = e(i.target)),
                        a.length && a.hasClass(n.keyboard))
                    ) {
                      var s = a.data("keyboard");
                      s !== r &&
                        !s.$el.hasClass(n.isCurrent) &&
                        s.options.openOn &&
                        i.type === o.openOn &&
                        s.focusOn();
                    } else r.escClose(i, a);
                  }
                }),
                (r.escCloseCallback = {
                  keepOpen: function () {
                    return !r.isOpen;
                  },
                }),
                (r.escClose = function (i, n) {
                  if (r.isOpen) {
                    if (i && "keyup" === i.type)
                      return i.which !== t.keyCodes.escape || o.ignoreEsc
                        ? ""
                        : r.close(
                          !(!o.autoAccept || !o.autoAcceptOnEsc) && "true"
                        );
                    var a = !1,
                      s = (n.length && n) || e(i.target);
                    if (
                      (e.each(r.escCloseCallback, function (e, t) {
                        "function" == typeof t && (a = a || t(s));
                      }),
                        !a &&
                        ((!r.isCurrent() && r.isOpen) ||
                          (r.isOpen && s[0] !== r.el)))
                    ) {
                      if (
                        (o.stayOpen || o.userClosed) &&
                        !s.hasClass(t.css.input)
                      )
                        return;
                      if (
                        (t.allie && i.preventDefault(), o.closeByClickEvent)
                      ) {
                        var l = s[0] && s[0].nodeName.toLowerCase();
                        ("input" !== l &&
                          "textarea" !== l &&
                          "click" !== i.type) ||
                          r.close(!!o.autoAccept && "true");
                      } else r.close(!!o.autoAccept && "true");
                    }
                  }
                }),
                (r.keyBtn = e("<button />")
                  .attr({
                    role: "button",
                    type: "button",
                    "aria-disabled": "false",
                    tabindex: "-1",
                  })
                  .addClass(t.css.keyButton)),
                (r.processName = function (e) {
                  var t,
                    i,
                    n = (e || "").replace(/[^a-z0-9-_]/gi, ""),
                    o = n.length,
                    r = [];
                  if (o > 1 && e === n) return e;
                  if ((o = e.length)) {
                    for (t = 0; t < o; t++)
                      (i = e[t]),
                        r.push(
                          /[a-z0-9-_]/i.test(i)
                            ? /[-_]/.test(i) && 0 !== t
                              ? ""
                              : i
                            : (0 === t ? "" : "-") + i.charCodeAt(0)
                        );
                    return r.join("");
                  }
                  return e;
                }),
                (r.processKeys = function (t) {
                  var i,
                    n,
                    o = t.indexOf("</"),
                    r = { name: t, map: "", title: "" };
                  return (
                    o > -1 ||
                    ((n = t.split(/:(?!\/\/)/)),
                      /\(.+\)/.test(n[0]) ||
                        /^:\(.+\)/.test(t) ||
                        /\([(:)]\)/.test(t)
                        ? /\([(:)]\)/.test(t)
                          ? (i = n[0].match(/([^(]+)\((.+)\)/)) && i.length
                            ? ((r.name = i[1]),
                              (r.map = i[2]),
                              (r.title =
                                n.length > 1 ? n.slice(1).join(":") : ""))
                            : ((r.name = t.match(/([^(]+)/)[0]),
                              ":" === r.name && (n = n.slice(1)),
                              null === i && ((r.map = ":"), (n = n.slice(2))),
                              (r.title = n.length ? n.join(":") : ""))
                          : ((r.map = t.match(/\(([^()]+?)\)/)[1]),
                            "" ===
                              (i = (t = t.replace(/\(([^()]+)\)/, "")).split(
                                ":"
                              ))[0]
                              ? ((r.name = ":"), (n = n.slice(1)))
                              : (r.name = i[0]),
                            (r.title =
                              n.length > 1 ? n.slice(1).join(":") : ""))
                        : ("" !== t && "" === n[0]
                          ? ((r.name = ":"), (n = n.slice(1)))
                          : (r.name = n[0]),
                          (r.title = n.length > 1 ? n.slice(1).join(":") : "")),
                      (r.title = e.trim(r.title).replace(/_/g, " "))),
                    r
                  );
                }),
                (r.addKey = function (e, i, n) {
                  var a,
                    s,
                    l,
                    c = {},
                    u = r.processKeys(n ? e : i),
                    d = t.css;
                  return (
                    !n && o.display[u.name]
                      ? ((l = r.processKeys(o.display[u.name])).action =
                        r.processKeys(e).name)
                      : ((l = u).action = u.name),
                    (c.name = r.processName(u.name)),
                    "" !== l.name &&
                    ("" !== l.map
                      ? ((t.builtLayouts[r.layout].mappedKeys[l.map] =
                        l.name),
                        t.builtLayouts[r.layout].acceptedKeys.push(l.name))
                      : n &&
                      t.builtLayouts[r.layout].acceptedKeys.push(l.name)),
                    (a = n
                      ? "" === c.name
                        ? ""
                        : d.keyPrefix + c.name
                      : d.keyAction + " " + d.keyPrefix + l.action),
                    (a +=
                      (l.name.length > 2 ? " " + d.keyWide : "") +
                      " " +
                      o.css.buttonDefault),
                    (c.html =
                      '<span class="' + d.keyText + '">' + l.name + "</span>"),
                    (c.$key = r.keyBtn
                      .clone()
                      .attr({
                        "data-value": n ? l.name : l.action,
                        "data-name": l.action,
                        "data-pos": r.temp[1] + "," + r.temp[2],
                        "data-action": l.action,
                        "data-html": c.html,
                      })
                      .addClass(a)
                      .html(c.html)
                      .appendTo(r.temp[0])),
                    l.map && c.$key.attr("data-mapped", l.map),
                    (l.title || u.title) &&
                    c.$key.attr({
                      "data-title": u.title || l.title,
                      title: u.title || l.title,
                    }),
                    "function" == typeof o.buildKey &&
                    ((s = (c = o.buildKey(r, c)).$key.html()),
                      c.$key.attr("data-html", s)),
                    c.$key
                  );
                }),
                (r.customHash = function (e) {
                  var t,
                    i,
                    n,
                    r,
                    a = [],
                    s = [];
                  for (i in (e = void 0 === e ? o.customLayout : e))
                    e.hasOwnProperty(i) && a.push(e[i]);
                  if (
                    ((n = 0),
                      0 === (r = (s = s.concat.apply(s, a).join(" ")).length))
                  )
                    return n;
                  for (t = 0; t < r; t++)
                    (n = (n << 5) - n + s.charCodeAt(t)), (n &= n);
                  return n;
                }),
                (r.buildKeyboard = function (i, n) {
                  e.isEmptyObject(o.display) && r.updateLanguage();
                  var a,
                    s,
                    l,
                    c,
                    u = t.css,
                    d = 0,
                    p = (t.builtLayouts[i || r.layout || o.layout] = {
                      mappedKeys: {},
                      acceptedKeys: [],
                    }),
                    h = (p.acceptedKeys =
                      (o.restrictInclude &&
                        ("" + o.restrictInclude).split(/\s+/)) ||
                      []),
                    f =
                      u.keyboard +
                      " " +
                      o.css.popup +
                      " " +
                      o.css.container +
                      (o.alwaysOpen || o.userClosed ? " " + u.alwaysOpen : ""),
                    g = e("<div />")
                      .addClass(f)
                      .attr({ role: "textbox" })
                      .hide();
                  return (
                    (a = e.inArray("{space}", h)) > -1 && (h[a] = " "),
                    (n && "custom" === o.layout) ||
                      !t.layouts.hasOwnProperty(o.layout)
                      ? ((o.layout = "custom"),
                        (f = t.layouts.custom =
                          o.customLayout || { normal: ["{cancel}"] }))
                      : (f =
                        t.layouts[n ? o.layout : i || r.layout || o.layout]),
                    e.each(f, function (t, i) {
                      if ("" !== t && !/^(name|lang|rtl)$/i.test(t))
                        for (
                          "default" === t && (t = "normal"),
                          d++,
                          l = e("<div />")
                            .attr("name", t)
                            .addClass(u.keySet + " " + u.keySet + "-" + t)
                            .appendTo(g)
                            .toggle("normal" === t),
                          s = 0;
                          s < i.length;
                          s++
                        )
                          (c = e
                            .trim(i[s])
                            .replace(
                              /\{(\.?)[\s+]?:[\s+]?(\.?)\}/g,
                              "{$1:$2}"
                            )),
                            r.buildRow(l, s, c.split(/\s+/), h),
                            l
                              .find("." + u.keyButton + ",." + u.keySpacer)
                              .filter(":last")
                              .after('<br class="' + u.endRow + '"/>');
                    }),
                    d > 1 && (r.sets = !0),
                    (p.hasMappedKeys = !e.isEmptyObject(p.mappedKeys)),
                    (p.$keyboard = g),
                    g
                  );
                }),
                (r.buildRow = function (i, n, a, s) {
                  var l,
                    c,
                    u,
                    d,
                    p,
                    h,
                    f = t.css;
                  for (u = 0; u < a.length; u++)
                    if (((r.temp = [i, n, u]), (d = !1), 0 !== a[u].length))
                      if (/^\{\S+\}$/.test(a[u])) {
                        if (
                          ((p = a[u].match(/^\{(\S+)\}$/)[1]),
                            /\!\!/.test(p) &&
                            ((p = p.replace("!!", "")), (d = !0)),
                            /^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/i.test(p) &&
                            ((h = parseFloat(
                              p
                                .replace(/,/, ".")
                                .match(
                                  /^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/i
                                )[1] || 0
                            )),
                              e('<span class="' + f.keyText + '"></span>')
                                .width(p.match(/px/i) ? h + "px" : 2 * h + "em")
                                .addClass(f.keySpacer)
                                .appendTo(i)),
                            /^empty(:((\d+)?([\.|,]\d+)?)(em|px)?)?$/i.test(p))
                        ) {
                          (h = /:/.test(p)
                            ? parseFloat(
                              p
                                .replace(/,/, ".")
                                .match(
                                  /^empty:((\d+)?([\.|,]\d+)?)(em|px)?$/i
                                )[1] || 0
                            )
                            : ""),
                            r
                              .addKey("", " ", !0)
                              .addClass(
                                o.css.buttonDisabled + " " + o.css.buttonEmpty
                              )
                              .attr("aria-disabled", !0)
                              .width(
                                h
                                  ? p.match("px")
                                    ? h + "px"
                                    : 2 * h + "em"
                                  : ""
                              );
                          continue;
                        }
                        if (/^meta[\w-]+\:?(\w+)?/i.test(p)) {
                          r.addKey(p.split(":")[0], p).addClass(f.keyHasActive);
                          continue;
                        }
                        switch ((c = p.split(":"))[0].toLowerCase()) {
                          case "a":
                          case "accept":
                            r.addKey("accept", p).addClass(
                              o.css.buttonAction + " " + f.keyAction
                            );
                            break;
                          case "alt":
                          case "altgr":
                            r.addKey("alt", p).addClass(f.keyHasActive);
                            break;
                          case "b":
                          case "bksp":
                            r.addKey("bksp", p);
                            break;
                          case "c":
                          case "cancel":
                            r.addKey("cancel", p).addClass(
                              o.css.buttonAction + " " + f.keyAction
                            );
                            break;
                          case "combo":
                            r.addKey("combo", p)
                              .addClass(f.keyHasActive)
                              .attr("title", function (e, t) {
                                return (
                                  t +
                                  " " +
                                  o.display[o.useCombos ? "active" : "disabled"]
                                );
                              })
                              .toggleClass(o.css.buttonActive, o.useCombos);
                            break;
                          case "dec":
                            s.push(r.decimal ? "." : ","), r.addKey("dec", p);
                            break;
                          case "e":
                          case "enter":
                            r.addKey("enter", p).addClass(
                              o.css.buttonAction + " " + f.keyAction
                            );
                            break;
                          case "lock":
                            r.addKey("lock", p).addClass(f.keyHasActive);
                            break;
                          case "s":
                          case "shift":
                            r.addKey("shift", p).addClass(f.keyHasActive);
                            break;
                          case "sign":
                            s.push("-"), r.addKey("sign", p);
                            break;
                          case "space":
                            s.push(" "), r.addKey("space", p);
                            break;
                          case "t":
                          case "tab":
                            r.addKey("tab", p);
                            break;
                          default:
                            t.keyaction.hasOwnProperty(c[0]) &&
                              r
                                .addKey(c[0], p)
                                .toggleClass(
                                  o.css.buttonAction + " " + f.keyAction,
                                  d
                                );
                        }
                      } else (l = a[u]), r.addKey(l, l, !0);
                }),
                (r.removeBindings = function (t) {
                  e(document).unbind(t),
                    r.el.ownerDocument !== document &&
                    e(r.el.ownerDocument).unbind(t),
                    e(window).unbind(t),
                    r.$el.unbind(t);
                }),
                (r.removeKeyboard = function () {
                  (r.$decBtn = []),
                    o.usePreview && r.$preview.removeData("keyboard"),
                    r.$preview.unbind(r.namespace + "keybindings"),
                    (r.preview = null),
                    (r.$preview = null),
                    (r.$previewCopy = null),
                    r.$keyboard.removeData("keyboard"),
                    r.$keyboard.remove(),
                    (r.$keyboard = []),
                    (r.isOpen = !1),
                    r.isCurrent(!1);
                }),
                (r.destroy = function (e) {
                  var i,
                    n = t.css,
                    a = r.extensionNamespace.length,
                    s = [
                      n.input,
                      n.locked,
                      n.placeholder,
                      n.noKeyboard,
                      n.alwaysOpen,
                      o.css.input,
                      n.isCurrent,
                    ].join(" ");
                  for (
                    clearTimeout(r.timer),
                    clearTimeout(r.timer2),
                    clearTimeout(r.timer3),
                    r.$keyboard.length && r.removeKeyboard(),
                    r.options.openOn && r.removeBindings(r.options.openOn),
                    r.removeBindings(r.namespace),
                    r.removeBindings(r.namespace + "callbacks"),
                    i = 0;
                    i < a;
                    i++
                  )
                    r.removeBindings(r.extensionNamespace[i]);
                  (r.el.active = !1),
                    r.$el
                      .removeClass(s)
                      .removeAttr("aria-haspopup")
                      .removeAttr("role")
                      .removeData("keyboard"),
                    (r = null),
                    "function" == typeof e && e();
                }),
                r.init();
            });
            return (
              (t.keyCodes = {
                backSpace: 8,
                tab: 9,
                enter: 13,
                capsLock: 20,
                escape: 27,
                space: 32,
                pageUp: 33,
                pageDown: 34,
                end: 35,
                home: 36,
                left: 37,
                up: 38,
                right: 39,
                down: 40,
                insert: 45,
                delete: 46,
                A: 65,
                Z: 90,
                V: 86,
                C: 67,
                X: 88,
                a: 97,
                z: 122,
              }),
              (t.css = {
                idSuffix: "_keyboard",
                initialFocus: "keyboard-init-focus",
                input: "ui-keyboard-input",
                inputClone: "ui-keyboard-preview-clone",
                wrapper: "ui-keyboard-preview-wrapper",
                preview: "ui-keyboard-preview",
                keyboard: "ui-keyboard",
                keySet: "ui-keyboard-keyset",
                keyButton: "ui-keyboard-button",
                keyWide: "ui-keyboard-widekey",
                keyPrefix: "ui-keyboard-",
                keyText: "ui-keyboard-text",
                keyHasActive: "ui-keyboard-hasactivestate",
                keyAction: "ui-keyboard-actionkey",
                keySpacer: "ui-keyboard-spacer",
                keyToggle: "ui-keyboard-toggle",
                keyDisabled: "ui-keyboard-disabled",
                divWrapperCE: "ui-keyboard-div-wrapper",
                locked: "ui-keyboard-lockedinput",
                alwaysOpen: "ui-keyboard-always-open",
                noKeyboard: "ui-keyboard-nokeyboard",
                placeholder: "ui-keyboard-placeholder",
                hasFocus: "ui-keyboard-has-focus",
                isCurrent: "ui-keyboard-input-current",
                inputValid: "ui-keyboard-valid-input",
                inputInvalid: "ui-keyboard-invalid-input",
                inputAutoAccepted: "ui-keyboard-autoaccepted",
                endRow: "ui-keyboard-button-endrow",
              }),
              (t.events = {
                kbChange: "keyboardChange",
                kbBeforeClose: "beforeClose",
                kbBeforeVisible: "beforeVisible",
                kbVisible: "visible",
                kbInit: "initialized",
                kbInactive: "inactive",
                kbHidden: "hidden",
                kbRepeater: "repeater",
                kbKeysetChange: "keysetChange",
                inputAccepted: "accepted",
                inputCanceled: "canceled",
                inputChange: "change",
                inputRestricted: "restricted",
              }),
              (t.keyaction = {
                accept: function (e) {
                  return e.close(!0), !1;
                },
                alt: function (e) {
                  (e.altActive = !e.altActive), e.showSet();
                },
                bksp: function (e) {
                  e.isContentEditable
                    ? (e.execCommand("delete"), e.saveCaret())
                    : e.insertText("\b");
                },
                cancel: function (e) {
                  return e.close(), !1;
                },
                clear: function (e) {
                  e.$preview[e.isContentEditable ? "text" : "val"](""),
                    e.$decBtn.length && e.checkDecimal();
                },
                combo: function (e) {
                  var i = e.options,
                    n = !i.useCombos,
                    o = e.$keyboard.find("." + t.css.keyPrefix + "combo");
                  return (
                    (i.useCombos = n),
                    o
                      .toggleClass(i.css.buttonActive, n)
                      .attr(
                        "title",
                        o.attr("data-title") +
                        " (" +
                        i.display[n ? "active" : "disabled"] +
                        ")"
                      ),
                    n && e.checkCombos(),
                    !1
                  );
                },
                dec: function (e) {
                  e.insertText(e.decimal ? "." : ",");
                },
                del: function (e) {
                  e.isContentEditable
                    ? e.execCommand("forwardDelete")
                    : e.insertText("{d}");
                },
                default: function (e) {
                  (e.shiftActive = e.altActive = e.metaActive = !1),
                    e.showSet();
                },
                enter: function (i, n, o) {
                  var r = i.options;
                  return o.shiftKey
                    ? r.enterNavigation
                      ? i.switchInput(!o[r.enterMod], !0)
                      : i.close(!0)
                    : !r.enterNavigation || (i.isTextArea && !o[r.enterMod])
                      ? (i.isTextArea &&
                        e(o.target).closest("button").length &&
                        i.insertText((t.msie ? " " : "") + "\n"),
                        void (
                          i.isContentEditable &&
                          !r.enterNavigation &&
                          (i.execCommand(
                            "insertHTML",
                            '<div><br class="' + t.css.divWrapperCE + '"></div>'
                          ),
                            setTimeout(function () {
                              t.keyaction.right(i), i.saveCaret();
                            }, 0))
                        ))
                      : i.switchInput(!o[r.enterMod], !!r.autoAccept && "true");
                },
                lock: function (e) {
                  (e.last.keyset[0] = e.shiftActive = e.capsLock = !e.capsLock),
                    e.showSet();
                },
                left: function (e) {
                  var i = t.caret(e.$preview);
                  i.start - 1 >= 0 &&
                    ((e.last.start = e.last.end = i.start - 1),
                      t.caret(e.$preview, e.last),
                      e.setScroll());
                },
                meta: function (t, i) {
                  var n = e(i);
                  (t.metaActive = !n.hasClass(t.options.css.buttonActive)),
                    t.showSet(n.attr("data-name"));
                },
                next: function (e) {
                  return e.switchInput(!0, e.options.autoAccept), !1;
                },
                normal: function (e) {
                  (e.shiftActive = e.altActive = e.metaActive = !1),
                    e.showSet();
                },
                prev: function (e) {
                  return e.switchInput(!1, e.options.autoAccept), !1;
                },
                right: function (e) {
                  var i = t.caret(e.$preview),
                    n = e.isContentEditable
                      ? t.getEditableLength(e.el)
                      : e.getValue().length;
                  i.end + 1 <= n &&
                    ((e.last.start = e.last.end = i.end + 1),
                      t.caret(e.$preview, e.last),
                      e.setScroll());
                },
                shift: function (e) {
                  (e.last.keyset[0] = e.shiftActive = !e.shiftActive),
                    e.showSet();
                },
                sign: function (e) {
                  if (/^[+-]?\d*\.?\d*$/.test(e.getValue())) {
                    var i,
                      n = t.caret(e.$preview),
                      o = e.getValue(),
                      r = e.isContentEditable
                        ? t.getEditableLength(e.el)
                        : o.length;
                    e.setValue(-1 * o),
                      (i = r - o.length),
                      (e.last.start = n.start + i),
                      (e.last.end = n.end + i),
                      t.caret(e.$preview, e.last),
                      e.setScroll();
                  }
                },
                space: function (e) {
                  e.insertText(" ");
                },
                tab: function (e) {
                  var t = e.options;
                  if (!e.isTextArea) {
                    if (t.tabNavigation)
                      return e.switchInput(!e.shiftActive, !0);
                    if (e.isInput) return !1;
                  }
                  e.insertText("\t");
                },
                toggle: function (e) {
                  (e.enabled = !e.enabled), e.toggle();
                },
                NBSP: " ",
                ZWSP: "​",
                ZWNJ: "‌",
                ZWJ: "‍",
                LRM: "‎",
                RLM: "‏",
              }),
              (t.builtLayouts = {}),
              (t.layouts = {
                alpha: {
                  normal: [
                    "` 1 2 3 4 5 6 7 8 9 0 - = {bksp}",
                    "{tab} a b c d e f g h i j [ ] \\",
                    "k l m n o p q r s ; ' {enter}",
                    "{shift} t u v w x y z , . / {shift}",
                    "{accept} {space} {cancel}",
                  ],
                  shift: [
                    "~ ! @ # $ % ^ & * ( ) _ + {bksp}",
                    "{tab} A B C D E F G H I J { } |",
                    'K L M N O P Q R S : " {enter}',
                    "{shift} T U V W X Y Z < > ? {shift}",
                    "{accept} {space} {cancel}",
                  ],
                },
                qwerty: {
                  normal: [
                    "` 1 2 3 4 5 6 7 8 9 0 - = {bksp}",
                    "{tab} q w e r t y u i o p [ ] \\",
                    "a s d f g h j k l ; ' {enter}",
                    "{shift} z x c v b n m , . / {shift}",
                    "{accept} {space} {cancel}",
                  ],
                  shift: [
                    "~ ! @ # $ % ^ & * ( ) _ + {bksp}",
                    "{tab} Q W E R T Y U I O P { } |",
                    'A S D F G H J K L : " {enter}',
                    "{shift} Z X C V B N M < > ? {shift}",
                    "{accept} {space} {cancel}",
                  ],
                },
                international: {
                  normal: [
                    "` 1 2 3 4 5 6 7 8 9 0 - = {bksp}",
                    "{tab} q w e r t y u i o p [ ] \\",
                    "a s d f g h j k l ; ' {enter}",
                    "{shift} z x c v b n m , . / {shift}",
                    "{accept} {alt} {space} {alt} {cancel}",
                  ],
                  shift: [
                    "~ ! @ # $ % ^ & * ( ) _ + {bksp}",
                    "{tab} Q W E R T Y U I O P { } |",
                    'A S D F G H J K L : " {enter}',
                    "{shift} Z X C V B N M < > ? {shift}",
                    "{accept} {alt} {space} {alt} {cancel}",
                  ],
                  alt: [
                    "~ ¡ ² ³ ¤ € ¼ ½ ¾ ‘ ’ ¥ × {bksp}",
                    "{tab} ä å é ® þ ü ú í ó ö « » ¬",
                    "á ß ð f g h j k ø ¶ ´ {enter}",
                    "{shift} æ x © v b ñ µ ç > ¿ {shift}",
                    "{accept} {alt} {space} {alt} {cancel}",
                  ],
                  "alt-shift": [
                    "~ ¹ ² ³ £ € ¼ ½ ¾ ‘ ’ ¥ ÷ {bksp}",
                    "{tab} Ä Å É ® Þ Ü Ú Í Ó Ö « » ¦",
                    "Ä § Ð F G H J K Ø ° ¨ {enter}",
                    "{shift} Æ X ¢ V B Ñ µ Ç . ¿ {shift}",
                    "{accept} {alt} {space} {alt} {cancel}",
                  ],
                },
                colemak: {
                  normal: [
                    "` 1 2 3 4 5 6 7 8 9 0 - = {bksp}",
                    "{tab} q w f p g j l u y ; [ ] \\",
                    "{bksp} a r s t d h n e i o ' {enter}",
                    "{shift} z x c v b k m , . / {shift}",
                    "{accept} {space} {cancel}",
                  ],
                  shift: [
                    "~ ! @ # $ % ^ & * ( ) _ + {bksp}",
                    "{tab} Q W F P G J L U Y : { } |",
                    '{bksp} A R S T D H N E I O " {enter}',
                    "{shift} Z X C V B K M < > ? {shift}",
                    "{accept} {space} {cancel}",
                  ],
                },
                dvorak: {
                  normal: [
                    "` 1 2 3 4 5 6 7 8 9 0 [ ] {bksp}",
                    "{tab} ' , . p y f g c r l / = \\",
                    "a o e u i d h t n s - {enter}",
                    "{shift} ; q j k x b m w v z {shift}",
                    "{accept} {space} {cancel}",
                  ],
                  shift: [
                    "~ ! @ # $ % ^ & * ( ) { } {bksp}",
                    '{tab} " < > P Y F G C R L ? + |',
                    "A O E U I D H T N S _ {enter}",
                    "{shift} : Q J K X B M W V Z {shift}",
                    "{accept} {space} {cancel}",
                  ],
                },
                num: {
                  normal: [
                    "= ( ) {b}",
                    "{clear} / * -",
                    "7 8 9 +",
                    "4 5 6 {sign}",
                    "1 2 3 %",
                    "0 {dec} {a} {c}",
                  ],
                },
              }),
              (t.language = {
                en: {
                  display: {
                    a: "✔:Accept (Shift+Enter)",
                    accept: "Accept:Accept (Shift+Enter)",
                    alt: "Alt:⌥ AltGr",
                    b: "⌫:Backspace",
                    bksp: "Bksp:Backspace",
                    c: "✖:Cancel (Esc)",
                    cancel: "Cancel:Cancel (Esc)",
                    clear: "C:Clear",
                    combo: "ö:Toggle Combo Keys",
                    dec: ".:Decimal",
                    e: "⏎:Enter",
                    empty: " ",
                    enter: "Enter:Enter ⏎",
                    left: "←",
                    lock: "Lock:⇪ Caps Lock",
                    next: "Next ⇨",
                    prev: "⇦ Prev",
                    right: "→",
                    s: "⇧:Shift",
                    shift: "Shift:Shift",
                    sign: "±:Change Sign",
                    space: " :Space",
                    t: "⇥:Tab",
                    tab: "⇥ Tab:Tab",
                    toggle: " ",
                    valid: "valid",
                    invalid: "invalid",
                    active: "active",
                    disabled: "disabled",
                  },
                  wheelMessage: "Use mousewheel to see other keys",
                  comboRegex: /([`\'~\^\"ao])([a-z])/gim,
                  combos: {
                    "`": {
                      a: "à",
                      A: "À",
                      e: "è",
                      E: "È",
                      i: "ì",
                      I: "Ì",
                      o: "ò",
                      O: "Ò",
                      u: "ù",
                      U: "Ù",
                      y: "ỳ",
                      Y: "Ỳ",
                    },
                    "'": {
                      a: "á",
                      A: "Á",
                      e: "é",
                      E: "É",
                      i: "í",
                      I: "Í",
                      o: "ó",
                      O: "Ó",
                      u: "ú",
                      U: "Ú",
                      y: "ý",
                      Y: "Ý",
                    },
                    '"': {
                      a: "ä",
                      A: "Ä",
                      e: "ë",
                      E: "Ë",
                      i: "ï",
                      I: "Ï",
                      o: "ö",
                      O: "Ö",
                      u: "ü",
                      U: "Ü",
                      y: "ÿ",
                      Y: "Ÿ",
                    },
                    "^": {
                      a: "â",
                      A: "Â",
                      e: "ê",
                      E: "Ê",
                      i: "î",
                      I: "Î",
                      o: "ô",
                      O: "Ô",
                      u: "û",
                      U: "Û",
                      y: "ŷ",
                      Y: "Ŷ",
                    },
                    "~": {
                      a: "ã",
                      A: "Ã",
                      e: "ẽ",
                      E: "Ẽ",
                      i: "ĩ",
                      I: "Ĩ",
                      o: "õ",
                      O: "Õ",
                      u: "ũ",
                      U: "Ũ",
                      y: "ỹ",
                      Y: "Ỹ",
                      n: "ñ",
                      N: "Ñ",
                    },
                  },
                },
              }),
              (t.defaultOptions = {
                language: null,
                rtl: !1,
                layout: "qwerty",
                customLayout: null,
                position: {
                  of: null,
                  my: "center top",
                  at: "center top",
                  at2: "center bottom",
                },
                reposition: !0,
                usePreview: !0,
                alwaysOpen: !1,
                initialFocus: !0,
                noFocus: !1,
                stayOpen: !1,
                userClosed: !1,
                ignoreEsc: !1,
                closeByClickEvent: !1,
                css: {
                  input: "ui-widget-content ui-corner-all",
                  container:
                    "ui-widget-content ui-widget ui-corner-all ui-helper-clearfix",
                  popup: "",
                  buttonDefault: "ui-state-default ui-corner-all",
                  buttonHover: "ui-state-hover",
                  buttonAction: "ui-state-active",
                  buttonActive: "ui-state-active",
                  buttonDisabled: "ui-state-disabled",
                  buttonEmpty: "ui-keyboard-empty",
                },
                autoAccept: !1,
                autoAcceptOnEsc: !1,
                lockInput: !1,
                restrictInput: !1,
                restrictInclude: "",
                acceptValid: !1,
                autoAcceptOnValid: !1,
                checkValidOnInit: !0,
                cancelClose: !0,
                tabNavigation: !1,
                enterNavigation: !1,
                enterMod: "altKey",
                stopAtEnd: !0,
                appendLocally: !1,
                appendTo: "body",
                wrapBRs: !0,
                stickyShift: !0,
                preventPaste: !1,
                caretToEnd: !1,
                scrollAdjustment: 10,
                maxLength: !1,
                maxInsert: !0,
                repeatDelay: 500,
                repeatRate: 20,
                resetDefault: !0,
                openOn: "focus",
                activeOnReadonly: !1,
                keyBinding: "mousedown touchstart",
                useWheel: !0,
                useCombos: !0,
                validate: function () {
                  return !0;
                },
              }),
              (t.comboRegex = /([`\'~\^\"ao])([a-z])/gim),
              (t.currentKeyboard = ""),
              e(
                '\x3c!--[if lte IE 8]><script>jQuery("body").addClass("oldie");</script><![endif]--\x3e\x3c!--[if IE]><script>jQuery("body").addClass("ie");</script><![endif]--\x3e'
              )
                .appendTo("body")
                .remove(),
              (t.msie = e("body").hasClass("oldie")),
              (t.allie = e("body").hasClass("ie")),
              (t.watermark =
                void 0 !== document.createElement("input").placeholder),
              (t.checkCaretSupport = function () {
                if ("boolean" != typeof t.checkCaret) {
                  var i = e(
                    '<div style="height:0px;width:0px;overflow:hidden;position:fixed;top:0;left:-100px;"><input type="text" value="testing"/></div>'
                  ).prependTo("body");
                  t.caret(i.find("input"), 3, 3),
                    (t.checkCaret =
                      3 !== t.caret(i.find("input").hide().show()).start),
                    i.remove();
                }
                return t.checkCaret;
              }),
              (t.caret = function (e, i, n) {
                if (
                  !e ||
                  !e.length ||
                  e.is(":hidden") ||
                  "hidden" === e.css("visibility")
                )
                  return {};
                var o,
                  r,
                  a,
                  s,
                  l = e.data("keyboard"),
                  c = l && l.options.noFocus,
                  u = /(textarea|input)/i.test(e[0].nodeName);
                return (
                  c || e.focus(),
                  void 0 !== i
                    ? ("object" == typeof i && "start" in i && "end" in i
                      ? ((o = i.start), (r = i.end))
                      : void 0 === n && (n = i),
                      "number" == typeof i && "number" == typeof n
                        ? ((o = i), (r = n))
                        : "start" === i
                          ? (o = r = 0)
                          : "string" == typeof i && (o = r = "end"),
                      u ? e.caret(o, r, c) : t.setEditableCaret(e, o, r))
                    : ((s = u ? e.caret() : t.getEditableCaret(e[0])),
                      (o = s.start),
                      (r = s.end),
                      (a = (u && e[0].value) || e.text() || ""),
                    {
                      start: o,
                      end: r,
                      text: a.substring(o, r),
                      replaceStr: function (e) {
                        return (
                          a.substring(0, o) + e + a.substring(r, a.length)
                        );
                      },
                    })
                );
              }),
              (t.isTextNode = function (e) {
                return e && 3 === e.nodeType;
              }),
              (t.isBlock = function (e, t) {
                var i = e.ownerDocument.defaultView;
                return t &&
                  1 === t.nodeType &&
                  t !== e &&
                  "block" === i.getComputedStyle(t).display
                  ? 1
                  : 0;
              }),
              (t.wrapBRs = function (i) {
                var n = e(i).find("br:not(." + t.css.divWrapperCE + ")");
                n.length &&
                  e.each(n, function (n, o) {
                    var r = o.parentNode.childNodes.length;
                    (1 !== r || (1 === r && !t.isBlock(i, o.parentNode))) &&
                      e(o).addClass(t.css.divWrapperCE).wrap("<div>");
                  });
              }),
              (t.getEditableCaret = function (i) {
                if (!(i = e(i)[0]).isContentEditable) return {};
                var n,
                  o,
                  r = (e(i).data("keyboard") || {}).options,
                  a = i.ownerDocument.getSelection().getRangeAt(0),
                  s = c(a.startContainer, a.startOffset),
                  l = s.position;
                function c(n, o) {
                  var a,
                    s = "",
                    l = !1,
                    c = 0,
                    u = e.makeArray(i.childNodes);
                  function d(e) {
                    e && ((c += e), (s += (r && r.replaceCR) || "\n"));
                  }
                  for (; !l && u.length;) {
                    if (
                      ((a = u.shift()) === n && (l = !0),
                        d(t.isBlock(i, a.previousSibling)),
                        t.isTextNode(a))
                    ) {
                      if (((c += l ? o : a.length), (s += a.textContent), l))
                        return { position: c, text: s };
                    } else
                      !l &&
                        a.childNodes &&
                        (u = e.makeArray(a.childNodes).concat(u));
                    d(t.isTextNode(a.previousSibling) && t.isBlock(i, a));
                  }
                  return { position: c, text: s };
                }
                return (
                  !1 !== r.wrapBRs && t.wrapBRs(i),
                  a.endContainer === a.startContainer &&
                    a.endOffset === a.startOffset
                    ? ((n = l), (o = ""))
                    : ((n = (s = c(a.endContainer, a.endOffset)).position),
                      (o = s.text.substring(l, n))),
                  { start: l, end: n, text: o }
                );
              }),
              (t.getEditableLength = function (e) {
                var i = t.setEditableCaret(e, "getMax");
                return "number" == typeof i ? i : null;
              }),
              (t.setEditableCaret = function (i, n, o) {
                if (!(i = e(i)[0]).isContentEditable) return {};
                var r = i.ownerDocument,
                  a = r.createRange(),
                  s = r.getSelection(),
                  l = (e(i).data("keyboard") || {}).options,
                  c = n,
                  u = o,
                  d = "",
                  p = h("getMax" === n ? "end" : n);
                function h(n) {
                  "end" === n ? (n = i.innerHTML.length) : n < 0 && (n = 0);
                  var o,
                    r,
                    a = "",
                    s = !1,
                    c = 0,
                    u = 0,
                    d = 0,
                    p = e.makeArray(i.childNodes);
                  function h(e) {
                    return (a += e ? (l && l.replaceCR) || "\n" : ""), e > 0;
                  }
                  function f(e) {
                    var t = c + e;
                    return (
                      (u = d),
                      (d += e),
                      n - t >= 0 ? n - (c = t) <= 0 : n - t <= 0
                    );
                  }
                  for (; !s && p.length;)
                    if (
                      ((o = p.shift()),
                        h((r = t.isBlock(i, o.previousSibling))) &&
                        f(r) &&
                        (s = !0),
                        h(
                          (r = t.isTextNode(o.previousSibling) && t.isBlock(i, o))
                        ) &&
                        f(r) &&
                        (s = !0),
                        t.isTextNode(o))
                    ) {
                      if (((a += o.textContent), f(o.length)))
                        return {
                          node: o,
                          offset: (r =
                            n - c == 0 && c - u >= 1 ? o.length : n - c),
                          position: n,
                          text: a,
                        };
                    } else
                      !s &&
                        o.childNodes &&
                        (p = e.makeArray(o.childNodes).concat(p));
                  return p.length
                    ? { node: o, offset: n - c, position: n, text: a }
                    : {
                      node: o,
                      offset: (o && o.length) || 0,
                      position: d,
                      text: a,
                    };
                }
                if (p.node) {
                  if (((c = p.position), "getMax" === n)) return c;
                  a.setStart(p.node, p.offset),
                    void 0 !== o && o !== n && (p = h(o)),
                    p.node &&
                    ((u = p.position),
                      a.setEnd(p.node, p.offset),
                      (d = c === u ? "" : p.text.substring(c, u))),
                    s.removeAllRanges(),
                    s.addRange(a);
                }
                return { start: c, end: u, text: d };
              }),
              (t.replaceContent = function (i, n) {
                i = e(i)[0];
                for (
                  var o,
                  r,
                  a,
                  s = typeof n,
                  l = t.getEditableCaret(i).start,
                  c = 0,
                  u = [i];
                  (o = u.pop());

                )
                  if (t.isTextNode(o))
                    "function" === s
                      ? l >= c &&
                      l <= c + o.length &&
                      (o.textContent = n(o.textContent))
                      : "string" === s &&
                      (a = n.substring(c, c + o.length)) !== o.textContent &&
                      (o.textContent = a),
                      (c += o.length);
                  else if (o && o.childNodes)
                    for (r = o.childNodes.length; r--;)
                      u.push(o.childNodes[r]);
                (r = t.getEditableCaret(i)),
                  t.setEditableCaret(i, r.start, r.start);
              }),
              (e.fn.keyboard = function (t) {
                return this.each(function () {
                  e(this).data("keyboard") || new e.keyboard(this, t);
                });
              }),
              (e.fn.getkeyboard = function () {
                return this.data("keyboard");
              }),
              (e.fn.caret = function (e, t, i) {
                if (
                  void 0 === this[0] ||
                  this.is(":hidden") ||
                  "hidden" === this.css("visibility") ||
                  !/(INPUT|TEXTAREA)/i.test(this[0].nodeName)
                )
                  return this;
                var n,
                  o,
                  r,
                  a,
                  s,
                  l = this[0],
                  c = l.ownerDocument.selection,
                  u = l.scrollTop,
                  d = !1,
                  p = !0;
                try {
                  d = "selectionStart" in l;
                } catch (e) {
                  p = !1;
                }
                return p && void 0 !== e
                  ? (/(email|number)/i.test(l.type) ||
                    (d
                      ? ((l.selectionStart = e), (l.selectionEnd = t))
                      : ((n = l.createTextRange()).collapse(!0),
                        n.moveStart("character", e),
                        n.moveEnd("character", t - e),
                        n.select())),
                    i ||
                    (!this.is(":visible") &&
                      "hidden" === this.css("visibility")) ||
                    l.focus(),
                    (l.scrollTop = u),
                    this)
                  : (/(email|number)/i.test(l.type)
                    ? (e = t = this.val().length)
                    : d
                      ? ((e = l.selectionStart), (t = l.selectionEnd))
                      : c
                        ? "TEXTAREA" === l.nodeName.toUpperCase()
                          ? ((s = this.val()),
                            (r = (o =
                              c.createRange()).duplicate()).moveToElementText(l),
                            r.setEndPoint("EndToEnd", o),
                            (e = r.text.replace(/\r/g, "\n").length),
                            (t = e + o.text.replace(/\r/g, "\n").length))
                          : ((s = this.val().replace(/\r/g, "\n")),
                            (o = c.createRange().duplicate()).moveEnd(
                              "character",
                              s.length
                            ),
                            (e =
                              "" === o.text ? s.length : s.lastIndexOf(o.text)),
                            (o = c.createRange().duplicate()).moveStart(
                              "character",
                              -s.length
                            ),
                            (t = o.text.length))
                        : (e = t = (l.value || "").length),
                    (a = l.value || ""),
                  {
                    start: e,
                    end: t,
                    text: a.substring(e, t),
                    replace: function (i) {
                      return a.substring(0, e) + i + a.substring(t, a.length);
                    },
                  });
              }),
              t
            );
          })
          ? n.apply(t, o)
          : n) || (e.exports = r);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.tdhop", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.tdhop", [])
      .service("tdhopViewerModel", "$log", function () {
        var e = {
          id: "tdhop",
          name: "Mesh_1_mesh",
          url: "data/models/singleres/cross.ply",
          mesh: "Mesh_1_mesh",
          toolHome: !0,
          toolZoomin: !0,
          toolZoomout: !0,
          toolLighting: !0,
          toolLightControl: !0,
          toolMeasure: !0,
          toolPickPoint: !0,
          toolPlaneSections: !0,
          toolSolidColor: !0,
          toolCamera: !0,
          toolFullScreen: !0,
        };
        this.getOptions = function () {
          return e;
        };
      });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.tdhop").provider("evtTredhop", function () {
      this.$get = [
        "config",
        "$ocLazyLoad",
        "$log",
        function (e, t, i) {
          var n = {},
            o = i.getInstance("evtTredhop");
          return (
            (n.build = function (i) {
              var n = e.tdhopViewerOptions.Model_1
                ? e.tdhopViewerOptions.Model_1.path
                : "",
                r = e.tdhopViewerOptions.Model_2
                  ? e.tdhopViewerOptions.Model_2.path
                  : "",
                a = e.tdhopViewerOptions.Hotspots
                  ? e.tdhopViewerOptions.Hotspots.path
                  : "",
                s = e.tdhopViewerOptions.Hotspots
                  ? e.tdhopViewerOptions.Hotspots.type
                  : void 0,
                l = e.tdhopViewerOptions.Hotspots
                  ? JSON.stringify(e.tdhopViewerOptions.Hotspots.hotspotsdata)
                  : [];
              o.log("Check hotspotsdata " + l),
                o.log("Check model path " + n),
                (e.tdhopViewerOptions.id = "tdhop");
              var c = [
                "jquery.js",
                "spidergl.js",
                "presenter.js",
                "nexus.js",
                "ply.js",
                "helpers.js",
                "trackball_sphere.js",
                "trackball_turntable.js",
                "trackball_turntable_pan.js",
                "trackball_pantilt.js",
                "trackball_rail.js",
                "nexus.js",
                "corto.js",
                "meco.js",
                "init.js",
                "meshcoder_worker.js",
                "setup.js",
              ],
                u = function () {
                  init3dhop(), setup3dhop(n, r, a, l, s);
                };
              e.tdhopViewerOptions.toolHome;
              !(function e(i) {
                t.load("js-plugins/tdhop/" + c[i]).then(function () {
                  c[i + 1]
                    ? e(i + 1)
                    : (u(), o.log("3dhop viewer setup and initialized"));
                });
              })(0);
            }),
            n
          );
        },
      ];
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.tdhop").directive("evtTredhop", [
      "evtTredhop",
      "evtInterface",
      "$timeout",
      function (e, t, n) {
        return {
          restrict: "AE",
          scope: { canvas: "@", measurebox: "@", options: "=", name: "=" },
          controllerAs: "vm",
          controller: "TreDHOPCtrl",
          template: i(367),
          transclude: !0,
          link: function (t, i, o) {
            n(function () {
              var i = e.build(t);
              t.$on("$destroy", function () {
                i && tdhop.destroy(i.currentId);
              });
            }, 10);
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      '<div id=tdhop class=3dhop onmousedown=event.preventDefault&&event.preventDefault()> <div style=position:absolute;right:10px;top:10px;z-index:2> <div style=background-color:rgba(150,150,150,.8);border-radius:5px;font-family:verdana;font-size:15px;padding:3px> <div style="margin:0 auto"> <canvas id=compassCanvas style="margin:4px auto;display:block;background:#555;width:100;height:100;border:1px solid #000" onclick="var currpos=presenter.getTrackballPosition();currpos[0]=0,presenter.animateToTrackballPosition(currpos)" width=100 height=100></canvas> </div> <table style="border:\'1\'"> <tbody> <tr> <td></td> <td> <button style="margin:0 auto;cursor:hand" onclick=presenter.animateToTrackballPosition([180,0,0,.12,0,3])>{{ \'3DHOP.NORTH\' | translate }}</button> </td> <td></td> </tr> <tr> <td> <button style="margin:0 auto;cursor:hand" onclick=presenter.animateToTrackballPosition([-90,0,0,.12,0,3])>{{ \'3DHOP.EAST\' | translate }}</button> </td> <td> <button style="margin:0 auto;display:block;cursor:hand" onclick=presenter.animateToTrackballPosition([0,90,-.1,0,-.066,2])>{{ \'3DHOP.TOP\' | translate }}</button> </td> <td> <button style="margin:0 auto;cursor:hand" onclick=presenter.animateToTrackballPosition([90,0,0,.12,0,3])>{{ \'3DHOP.WEST\' | translate }}</button> </td> </tr> <tr> <td></td> <td> <button style="margin:0 auto;cursor:hand" onclick=presenter.animateToTrackballPosition([0,0,0,.12,0,3])>{{ \'3DHOP.SOUTH\' | translate }}</button> </td> <td></td> </tr> </tbody> </table> </div> </div> <div id=toolbar> <img ng-if=::vm.isToolHomeAvailable() id=home class=viewer3dhopBtn title="{{ \'3DHOP.HOME\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/home.png /> <img ng-if=::vm.isToolFullScreenAvailable() id=full_on class=viewer3dhopBtn ng-click="actionsToolbar(\'full_on\')" title="{{ \'3DHOP.EXIT_FULL_SCREEN\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/full_on.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolFullScreenAvailable() id=full class=viewer3dhopBtn ng-click="actionsToolbar(\'full\')" title="{{ \'3DHOP.FULL_SCREEN\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/full.png /><br/> <div ng-if=::vm.isToolArrowsAvailable() id=arrows> <div id=movement_control> <img class="move_ left" id=move_left title="{{ \'3DHOP.MOVE_LEFT\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/arrows.png /> <img class="move_ right" id=move_right title="{{ \'3DHOP.MOVE_RIGHT\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/arrows.png /><br/> <img class="move_ up" id=move_up title="{{ \'3DHOP.MOVE_UP\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/arrows.png /> <img class="move_ dawn" id=move_dawn title="{{ \'3DHOP.MOVE_DOWN\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/arrows.png /> </div> </div> <img ng-if=::vm.isToolZoominAvailable() id=zoomin class=viewer3dhopBtn title="{{ \'3DHOP.ZOOM_IN\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/zoomin.png /> <img ng-if=::vm.isToolZoomoutAvailable() id=zoomout class=viewer3dhopBtn ng-click="actionsToolbar(\'zoomout\')" title="{{ \'3DHOP.ZOOM_OUT\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/zoomout.png /><br/> <img ng-if=::vm.isToolLightingAvailable() id=lighting_off class=viewer3dhopBtn ng-click="actionsToolbar(\'lighting_off\')" title="{{ \'3DHOP.ENABLE_LIGHTING\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/lighting_off.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolLightingAvailable() id=lighting class=viewer3dhopBtn ng-click="actionsToolbar(\'lighting\')" title="{{ \'3DHOP.DISABLE_LIGHTING\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/lighting.png /> <img ng-if=::vm.isToolLightControlAvailable() id=light_off class=viewer3dhopBtn ng-click="actionsToolbar(\'light_off\')" title="{{ \'3DHOP.DISABLE_LIGHT_CONTROL\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/lightcontrol_on.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolLightControlAvailable() id=light class=viewer3dhopBtn ng-click="actionsToolbar(\'light\')" title="{{ \'3DHOP.ENABLE_LIGHT_CONTROL\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/lightcontrol.png /><br/> <img ng-if=::vm.isToolCameraAvailable() id=perspective class=viewer3dhopBtn ng-click="actionsToolbar(\'perspective\')" title="{{ \'3DHOP.PERSPECTIVE_CAMERA\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/perspective.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolCameraAvailable() id=orthographic class=viewer3dhopBtn ng-click="actionsToolbar(\'orthographic\')" title="{{ \'3DHOP.ORTHOGRAPHIC_CAMERA\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/orthographic.png /><br/> <img ng-if=::vm.isToolSolidColorAvailable() id=color_on class=viewer3dhopBtn ng-click="actionsToolbar(\'color_on\')" title="{{ \'3DHOP.MODEL_COLOR\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/color_on.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolSolidColorAvailable() id=color class=viewer3dhopBtn ng-click="actionsToolbar(\'color\')" title="{{ \'3DHOP.SOLID_COLOR\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/color.png /><br/> <img ng-if=::vm.isToolHotspotAvailable() id=hotspot_on class=viewer3dhopBtn ng-click="actionsToolbar(\'hotspot_on\')" title="{{ \'3DHOP.HIDE_HOTSPOTS\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/pin_on.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolHotspotAvailable() id=hotspot class=viewer3dhopBtn ng-click="actionsToolbar(\'hotspot\')" title="{{ \'3DHOP.SHOW_HOTSPOTS\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/pin.png /><br/> <img ng-if=::vm.isToolMeasureAvailable() id=measure_on class=viewer3dhopBtn ng-click="actionsToolbar(\'measure_on\')" title="{{ \'3DHOP.DISABLE_MEASURE_TOOL\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/measure_on.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolMeasureAvailable() id=measure class=viewer3dhopBtn ng-click="actionsToolbar(\'measure\')" title="{{ \'3DHOP.ENABLE_MEASURE_TOOL\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/measure.png /><br/> <img ng-if=::vm.isToolPickPointAvailable() id=pick_on class=viewer3dhopBtn ng-click="actionsToolbar(\'pick_on\')" title="{{ \'3DHOP.DISABLE_PICKPOINT_MODE\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/pick_on.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolPickPointAvailable() id=pick class=viewer3dhopBtn ng-click="actionsToolbar(\'pick\')" title="{{ \'3DHOP.ENABLE_PICKPOINT_MODE\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/pick.png /><br/> <img ng-if=::vm.isToolPlaneSectionsAvailable() id=sections_on class=viewer3dhopBtn ng-click="actionsToolbar(\'sections_on\')" title="{{ \'3DHOP.DISABLE_PLANE_SECTIONS\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/sections_on.png style=position:absolute;visibility:hidden /> <img ng-if=::vm.isToolPlaneSectionsAvailable() id=sections class=viewer3dhopBtn ng-click="actionsToolbar(\'sections\')" title="{{ \'3DHOP.ENABLE_PLANE_SECTIONS\' | translate }}" ng-src=js-plugins/tdhop/skins/dark/sections.png /><br/> <div ng-if=::vm.isToolLightControllerAvailable() ng-click=actionsToolbar id=lightcontroller> <canvas id=lightcontroller_canvas width=125 height=125 /> </div> </div> <div id=tdhlg></div> <div id=measure-box ng-click="onEndMeasure(\'measure-box\')" class=output-box>{{ \'3DHOP.MEASURED_LENGTH\' | translate }} <hr/><span id=measure-output ng-click="onEndMeasure(\'measure-output\')" class=output-text onmousedown=event.stopPropagation()>0.0</span></div> <div id=pickpoint-box ng-click="onEndPick(\'pickpoint-box\')" class=output-box>{{ \'3DHOP.XYZ_PICKED_POINT\' | translate }} <hr/><span id=pickpoint-output ng-click="onEndMeasure(\'pickpoint-output\')" class=output-text onmousedown=event.stopPropagation()>[ 0 , 0 , 0 ]</span></div> <div id=sections-box ng-click=sectiontoolInit class=output-box> <table class=output-table onmousedown=event.stopPropagation()> <tr> <td>{{ \'3DHOP.PLANE\' | translate }}</td> <td>{{ \'3DHOP.POSITION\' | translate }}</td> <td>{{ \'3DHOP.FLIP\' | translate }}</td> </tr> <tr> <td><img id=xplane_on title="{{ \'3DHOP.DISABLE_X_AXIS_SECTION\' | translate }}" ng-src=js-plugins/tdhop/skins/icons/sectionX_on.png onclick=sectionxSwitch() style="position:absolute;visibility:hidden;border:1px inset"/> <img id=xplane title="{{ \'3DHOP.ENABLE_X_AXIS_SECTION\' | translate }}" ng-src=js-plugins/tdhop/skins/icons/sectionX.png onclick=sectionxSwitch() /><br/></td> <td><input id=xplaneSlider class=output-input type=range title="{{ \'3DHOP.MOVE_X_AXIS_SECTION_POSITION\' | translate }}"/></td> <td><input id=xplaneFlip class=output-input type=checkbox title="{{ \'3DHOP.FLIP_X_AXIS_SECTION_DIRECTION\' | translate }}"/> </td> </tr> <tr> <td><img id=yplane_on title="{{ \'3DHOP.DISABLE_Y_AXIS_SECTION\' | translate }}" ng-src=js-plugins/tdhop/skins/icons/sectionY_on.png onclick=sectionySwitch() style="position:absolute;visibility:hidden;border:1px inset"/> <img id=yplane title="{{ \'3DHOP.ENABLE_Y_AXIS_SECTION\' | translate }}" ng-src=js-plugins/tdhop/skins/icons/sectionY.png onclick=sectionySwitch() /><br/></td> <td><input id=yplaneSlider class=output-input type=range title="{{ \'3DHOP.MOVE_Y_AXIS_SECTION_POSITION\' | translate }}"/></td> <td><input id=yplaneFlip class=output-input type=checkbox title="{{ \'3DHOP.FLIP_Y_AXIS_SECTION_DIRECTION\' | translate }}"/> </td> </tr> <tr> <td><img id=zplane_on title="{{ \'3DHOP.DISABLE_Z_AXIS_SECTION\' | translate }}" ng-src=js-plugins/tdhop/skins/icons/sectionZ_on.png onclick=sectionzSwitch() style="position:absolute;visibility:hidden;border:1px inset"/> <img id=zplane title="{{ \'3DHOP.ENABLE_Z_AXIS_SECTION\' | translate }}" ng-src=js-plugins/tdhop/skins/icons/sectionZ.png onclick=sectionzSwitch() /><br/></td> <td><input id=zplaneSlider class=output-input type=range title="{{ \'3DHOP.MOVE_Z_AXIS_SECTION_POSITION\' | translate }}"/></td> <td><input id=zplaneFlip class=output-input type=checkbox title="{{ \'3DHOP.FLIP_Z_AXIS_SECTION_DIRECTION\' | translate }}"/> </td> </tr> </table> <table class=output-table onmousedown=event.stopPropagation() style=text-align:right> <tr> <td>{{ \'3DHOP.SHOW_PLANES\' | translate }}<input id=showPlane class=output-input type=checkbox title="{{ \'3DHOP.SHOW_SECTION_PLANES\' | translate }}" style=bottom:-3px /></td> <td>{{ \'3DHOP.SHOW_EDGES\' | translate }}<input id=showBorder class=output-input type=checkbox title="{{ \'3DHOP.SHOW_SECTION_EDGES\' | translate }}" style=bottom:-3px /></td> </tr> </table> </div> <canvas id=draw-canvas style=background-image:url(js-plugins/tdhop/skins/backgrounds/light.jpg)></canvas> </div>';
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.tdhop").controller("TreDHOPCtrl", [
      "$scope",
      "$route",
      "evtInterface",
      "$log",
      "config",
      function (e, t, i, n, o) {
        var r = o.tdhopViewerOptions.Model_1
          ? o.tdhopViewerOptions.Model_1.name
          : void 0,
          a = o.tdhopViewerOptions.Model_2
            ? o.tdhopViewerOptions.Model_2.name
            : void 0;
        (e.change = function () {
          presenter.setInstanceVisibility(HOP_ALL, !1, !1),
            presenter.setInstanceVisibility("Mesh_2_mesh", !0, !0);
        }),
          (e.data = {
            model: null,
            availableOptions: [
              { id: "Mesh_1_mesh", name: r + " Cross" },
              { id: "Mesh_2_mesh", name: a + " Cross" },
            ],
          }),
          (e.button = { buttonValue: e.data }),
          (this.isToolHomeAvailable = function () {
            return o.tdhopViewerOptions.toolHome;
          }),
          (this.isToolZoominAvailable = function () {
            return o.tdhopViewerOptions.toolZoomin;
          }),
          (this.isToolZoomoutAvailable = function () {
            return o.tdhopViewerOptions.toolZoomout;
          }),
          (this.isToolLightingAvailable = function () {
            return o.tdhopViewerOptions.toolLighting;
          }),
          (this.isToolLightControlAvailable = function () {
            return o.tdhopViewerOptions.toolLightControl;
          }),
          (this.isToolPlaneSectionsAvailable = function () {
            return o.tdhopViewerOptions.toolPlaneSections;
          }),
          (this.isToolSolidColorAvailable = function () {
            return o.tdhopViewerOptions.toolSolidColor;
          }),
          (this.isToolCameraAvailable = function () {
            return o.tdhopViewerOptions.toolCamera;
          }),
          (this.isToolMeasureAvailable = function () {
            return o.tdhopViewerOptions.toolMeasure;
          }),
          (this.isToolPickPointAvailable = function () {
            return o.tdhopViewerOptions.toolPickPoint;
          }),
          (this.isToolHotspotAvailable = function () {
            return o.tdhopViewerOptions.toolHotspot;
          }),
          (this.isToolFullScreenAvailable = function () {
            return o.tdhopViewerOptions.toolFullScreen;
          }),
          (this.isToolSwitchModelAvailable = function () {
            return o.tdhopViewerOptions.toolSwitchModel;
          }),
          (this.isToolArrowsAvailable = function () {
            return o.tdhopViewerOptions.toolArrows;
          }),
          (this.isToolLightControllerAvailable = function () {
            return o.tdhopViewerOptions.toolLightController;
          });
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.navBar", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.navBar")
      .constant("NAVBARDEFAULTS", {})
      .config([
        "evtNavbarProvider",
        "configProvider",
        "NAVBARDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("navBar", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.navBar").provider("evtNavbar", function () {
      this.defaults;
      this.setDefaults = function (e) {
        e;
      };
      this.$get = [
        "parsedData",
        "evtInterface",
        function (e, t) {
          var i = {},
            n = {},
            o = [],
            r = 0,
            a = function () {
              var e = this.uid;
              i.destroy(e);
            };
          return (
            (i.build = function (i) {
              var s,
                l = r++;
              if (void 0 === n[l]) {
                var c = e.getPages(),
                  u = e.getDocuments(),
                  d = t.getState("currentDoc"),
                  p = t.getState("currentPage");
                return (
                  (s = {
                    uid: l,
                    pageSlider: {
                      value: 0,
                      options: {
                        floor: 0,
                        ceil: c ? c.length : 0,
                        translate: function (e, t, i) {
                          var n = c[e];
                          return c[n] ? c[n].label : e;
                        },
                        showSelectionBar: !0,
                        hideLimitLabels: !0,
                      },
                    },
                    pagesCollection: c,
                    documentsCollection: u,
                    page: p,
                    doc: d,
                    updateOptions: function (e) {
                      this.pageSlider.options = e;
                    },
                    updateSlider: function (e) {
                      var t = this;
                      if (t.pagesCollection) {
                        var i = t.pagesCollection._indexes.indexOf(e);
                        t.pageSlider.value !== i && (t.pageSlider.value = i),
                          t.folio !== e && (t.folio = e),
                          (t.page = e);
                      }
                    },
                    updatePage: function (e) {
                      if (e) {
                        var i = this.pagesCollection[e];
                        t.updateState("currentPage", i);
                        var n = t.getState("currentDoc"),
                          o = this.pagesCollection[i];
                        o &&
                          (o.docs.length > 0 &&
                            o.docs.indexOf(n) < 0 &&
                            t.updateState("currentDoc", o.docs[0]),
                            o.docs.length > 1 &&
                            t.updateState("currentDoc", o.docs[0])),
                          t.updateUrl();
                      }
                    },
                    updateOptionsValue: function (e, t) {
                      (this.pageSlider.options = this.pageSlider.options
                        ? this.pageSlider.options
                        : {}),
                        (this.pageSlider.options[e] = t);
                    },
                    destroy: a,
                  }),
                  (n[l] = angular.extend(i.vm, s)),
                  o.push({ id: l }),
                  n[l]
                );
              }
            }),
            (i.destroy = function (e) {
              delete n[e];
            }),
            i
          );
        },
      ];
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.navBar").controller("NavbarCtrl", [
      "$log",
      "evtInterface",
      "config",
      function (e, t, i) {
        var n = e.getInstance("navBar");
        (this.showNavigator = function () {
          return (
            !t.getState("isThumbNailsOpened") && !t.getState("isVisCollOpened")
          );
        }),
          (this.config = i),
          n.log(i, this.config);
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.navBar").directive("evtNavbar", [
      "$timeout",
      "evtNavbar",
      "parsedData",
      "evtInterface",
      function (e, t, n, o) {
        return {
          restrict: "E",
          scope: {},
          transclude: !0,
          template: i(374),
          controllerAs: "vm",
          controller: "NavbarCtrl",
          link: function (i, r, a) {
            var s = t.build(i);
            i.$watch(
              function () {
                return n.getPages();
              },
              function (t, n) {
                n !== t &&
                  (s.updateOptionsValue("floor", 0),
                    s.updateOptionsValue("ceil", t ? t.length - 1 : 0),
                    s.updateOptionsValue("translate", function (e, i, n) {
                      var o = t[e];
                      return t[o] ? t[o].label : e;
                    }),
                    e(function () {
                      i.$broadcast("rzSliderForceRender");
                    }));
              },
              !0
            ),
              i.$watch(
                function () {
                  return s.pageSlider.value;
                },
                function (e, t) {
                  t !== e && s.updatePage(e);
                },
                !0
              ),
              i.$watch(
                function () {
                  return o.getState("currentPage");
                },
                function (e, t) {
                  t !== e && s.updateSlider(e);
                },
                !0
              ),
              i.$watch(
                function () {
                  return s.showNavigator();
                },
                function (e, t) {
                  t !== e && s.updateOptionsValue("disabled", !e);
                },
                !0
              ),
              i.$on("$destroy", function () {
                s && s.destroy();
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      "<section class=navBarSliderWrapper> <button-switch ng-if=vm.config.thumbnailsButton title=\"{{ 'BUTTONS.THUMBNAILS' | translate }}\" data-icon=thumb-nails data-type=thumbNails class=sliders></button-switch> <button-switch ng-if=vm.config.viscollButton title=\"{{ 'BUTTONS.VISCOLL' | translate }}\" data-icon=viscoll data-type=visColl class=sliders></button-switch> <div class=navBarSlider> <rzslider rz-slider-model=vm.pageSlider.value rz-slider-options=vm.pageSlider.options id=slider data-folio={{vm.folio}}></rzslider> </div> <button-switch data-disabled={{!vm.showNavigator()}} title=\"{{ 'BUTTONS.PAGE_FIRST' | translate }}\" data-icon=first-page data-type=firstPage class=sliders></button-switch> <button-switch data-disabled={{!vm.showNavigator()}} title=\"{{ 'BUTTONS.PAGE_PREVIOUS' | translate }}\" data-icon=prev-page data-type=prevPage class=sliders></button-switch> <button-switch data-disabled={{!vm.showNavigator()}} title=\"{{ 'BUTTONS.PAGE_NEXT' | translate }}\" data-icon=next-page data-type=nextPage class=sliders></button-switch> <button-switch data-disabled={{!vm.showNavigator()}} title=\"{{ 'BUTTONS.PAGE_LAST' | translate }}\" data-icon=last-page data-type=lastPage class=sliders></button-switch> </section> ";
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.visColl", []);
  },
  function (e, t, i) {
    "use strict";
    angular
      .module("evtviewer.visColl")
      .constant("VISCOLLDEFAULTS", {})
      .config([
        "evtViscollProvider",
        "configProvider",
        "VISCOLLDEFAULTS",
        function (e, t, i) {
          var n = t.makeDefaults("visColl", i);
          e.setDefaults(n);
        },
      ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.visColl").provider("evtViscoll", function () {
      this.defaults;
      this.setDefaults = function (e) {
        e;
      };
      this.$get = [
        "$timeout",
        "parsedData",
        function (e, t) {
          var i = {},
            n = {},
            o = [],
            r = 0,
            a = function () {
              var e = this.uid;
              i.destroy(e);
            };
          return (
            (i.build = function (i) {
              var s,
                l = r++;
              if (void 0 === n[l]) {
                return (
                  (s = {
                    uid: l,
                    svgCollection: t.getViscollSvgs(),
                    selectedQuire: void 0,
                    quireOptions: [],
                    selectedFolios: void 0,
                    getSvgByQuire: function (e) {
                      return this.svgCollection.svgs[e] &&
                        this.svgCollection.svgs[e].textSvg
                        ? this.svgCollection.svgs[e].textSvg.outerHTML
                        : "<span>No data</span>";
                    },
                    getSvgQuireN: function (e) {
                      return this.svgCollection.svgs[e].quireN;
                    },
                    getQuire: function (e) {
                      return this.svgCollection.quires[e] || {};
                    },
                    getQuireBySvgId: function (e) {
                      var t = this.getSvgQuireN(e);
                      return this.getQuireByNumber(t);
                    },
                    getQuireByNumber: function (e) {
                      for (
                        var t, i = 0;
                        !t && i < this.svgCollection.quires._indexes.length;

                      ) {
                        var n = this.svgCollection.quires._indexes[i];
                        this.svgCollection.quires[n].n === e &&
                          (t = this.svgCollection.quires[n]),
                          i++;
                      }
                      return t;
                    },
                    getQuireIdBySvgId: function (e) {
                      return this.getQuireBySvgId(e).value;
                    },
                    getFilteredQuireLeaves: function (e) {
                      for (
                        var t = this.svgCollection.quires[e].leaves,
                        i = [],
                        n = [],
                        o = 0;
                        o < t._indexes.length;
                        o++
                      ) {
                        var r = t._indexes[o],
                          a = t[r];
                        if (a) {
                          var s = a.conjoin ? t[a.conjoin] : void 0,
                            l = !1;
                          s &&
                            ((a.label = a.leafno + " - " + s.leafno),
                              (l = n.indexOf(s.value) > -1)),
                            l || (i.push(a), n.push(r));
                        }
                      }
                      return { leaves: i, leavesInsertedInSelector: n };
                    },
                    getAllQuireLeaves: function (e) {
                      for (
                        var t = this.svgCollection.quires[e].leaves,
                        i = [],
                        n = 0;
                        n < t._indexes.length;
                        n++
                      )
                        i.push(t[t._indexes[n]]);
                      return i;
                    },
                    isSelectedQuire: function (e) {
                      return (
                        !this.selectedQuire || e === this.selectedQuire.value
                      );
                    },
                    displayResult: function () {
                      var i = this;
                      i.svgCollection = t.getViscollSvgs();
                      var n = [];
                      if (i.svgCollection.quires._indexes)
                        for (
                          var o = 0;
                          o < i.svgCollection.quires._indexes.length;
                          o++
                        ) {
                          var r = i.svgCollection.quires._indexes[o],
                            a = i.svgCollection.quires[r];
                          n.push({ value: a.value, label: a.n, title: a.n });
                          var s = i.getFilteredQuireLeaves(r);
                          (a.leavesList = s.leaves),
                            (a.leavesInsertedInSelector =
                              s.leavesInsertedInSelector);
                        }
                      (i.quireOptions = n),
                        e(function () {
                          var e = angular.element(".viscollContainer svg > g");
                          e &&
                            (e.click(function (e) {
                              try {
                                var t = angular
                                  .element(e.delegateTarget)
                                  .parents(".viscollContainer")[0].id,
                                  n = e.delegateTarget.id,
                                  o = i.svgCollection.quires[t].leaves[n];
                                if (
                                  i.svgCollection.quires[t]
                                    .leavesInsertedInSelector &&
                                  i.svgCollection.quires[
                                    t
                                  ].leavesInsertedInSelector.indexOf(n) > -1
                                )
                                  i.setSelectedFolioForQuire(t, o);
                                else {
                                  var r =
                                    i.svgCollection.quires[t].leaves[o.conjoin];
                                  i.setSelectedFolioForQuire(t, r);
                                }
                              } catch (e) {
                                console.log(e);
                              }
                            }),
                              e.hover(function (e) {
                                try {
                                  var t = angular
                                    .element(e.delegateTarget)
                                    .parents(".viscollContainer")[0].id,
                                    n = e.delegateTarget.id,
                                    o = i.svgCollection.quires[t].leaves[n];
                                  if (o) {
                                    var r = angular.element("#" + o.value),
                                      a = angular.element(".over_unit");
                                    a && a.removeClass("over_unit"),
                                      r.addClass("over_unit");
                                  }
                                  if (
                                    !i.svgCollection.quires[t]
                                      .leavesInsertedInSelector ||
                                    i.svgCollection.quires[
                                      t
                                    ].leavesInsertedInSelector.indexOf(n) < 0
                                  )
                                    angular
                                      .element("#" + o.conjoin)
                                      .addClass("over_unit");
                                } catch (e) {
                                  console.log(e);
                                }
                              }),
                              e.mouseout(function (e) {
                                var t = angular.element(".over_unit");
                                t && t.removeClass("over_unit");
                              }));
                        });
                    },
                    setSelectedQuire: function (e) {
                      e && e.value
                        ? (this.selectedQuire = { value: e.value, n: e.label })
                        : (this.selectedQuire = void 0);
                    },
                    setSelectedFolioForQuire: function (e, t) {
                      var i = this;
                      i.selectedFolios = i.selectedFolios
                        ? i.selectedFolios
                        : {};
                      var n = i.svgCollection.quires[e].leaves[t.value];
                      if (n) {
                        if (
                          !(
                            n.imageId &&
                            n.imageId2 &&
                            n.conjoinId &&
                            n.conjoinId2
                          )
                        ) {
                          var o = i.svgCollection.quires[e].leaves[t.conjoin];
                          o &&
                            (n.imageId ||
                              ((n.img = o.imgConjoin),
                                (n.imageId = o.conjoinId)),
                              n.imageId2 ||
                              ((n.img2 = o.imgConjoin2),
                                (n.imageId2 = o.conjoinId2)),
                              n.conjoinId ||
                              ((n.imgConjoin = o.img),
                                (n.conjoinId = o.imageId)),
                              n.conjoinId2 ||
                              ((n.imgConjoin2 = o.img2),
                                (n.conjoinId2 = o.imageId2)));
                        }
                        n.unitN = t.label;
                      }
                      i.selectedFolios[e] = n;
                      var r = angular.element("#" + e + " .active_unit");
                      r &&
                        (r.removeClass("active_unit"),
                          r.removeClass("first_unit"),
                          r.removeClass("second_unit"));
                      var a = angular.element("#" + t.value);
                      a &&
                        (a.addClass("active_unit"), a.addClass("first_unit"));
                      try {
                        for (
                          var s, l = i.svgCollection.quires[e], c = 0;
                          !s && c < l.leaves._indexes.length;

                        ) {
                          var u = l.leaves._indexes[c];
                          l.leaves[u].value === t.value && (s = l.leaves[u]),
                            c++;
                        }
                        if (s && s.conjoin) {
                          var d = angular.element("#" + s.conjoin);
                          d.addClass("active_unit"), d.addClass("second_unit");
                        }
                      } catch (e) {
                        console.log(e);
                      }
                    },
                    destroy: a,
                  }),
                  (n[l] = angular.extend(i.vm, s)),
                  o.push({ id: l }),
                  n[l]
                );
              }
            }),
            (i.destroy = function (e) {
              delete n[e];
            }),
            i
          );
        },
      ];
    });
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.visColl").controller("ViscollCtrl", [
      "config",
      "$log",
      "$scope",
      "$filter",
      "evtNavbar",
      "parsedData",
      "evtInterface",
      "evtSelect",
      "evtButtonSwitch",
      function (e, t, i, n, o, r, a, s, l) {
        t.getInstance("visColl");
        this.updateCurrentPage = function (e) {
          if (e) {
            var t = r.getPages();
            for (var i in t)
              void 0 !== t[i].n &&
                t[i].n === e &&
                (a.updateState("currentPage", i),
                  a.updateState("isVisCollOpened", !1));
            var n = l.getByType("visColl");
            n &&
              n.forEach(function (e) {
                e.setActive(!1);
              }),
              a.updateUrl();
          }
        };
      },
    ]);
  },
  function (e, t, i) {
    "use strict";
    angular.module("evtviewer.visColl").directive("evtViscoll", [
      "evtViscoll",
      "parsedData",
      "evtInterface",
      function (e, t, n) {
        return {
          restrict: "E",
          scope: {},
          transclude: !0,
          template: i(380),
          controllerAs: "vm",
          controller: "ViscollCtrl",
          link: function (i, o, r) {
            var a = e.build(i);
            i.$watch(
              function () {
                return t.areViscollSvgsLoaded();
              },
              function (e, t) {
                t !== e && !0 === e && a.displayResult();
              },
              !0
            ),
              i.$watch(
                function () {
                  return n.getState("currentViewMode");
                },
                function (e, t) {
                  t !== e &&
                    (n.updateState("isThumbNailsOpened", !1),
                      n.updateState("isVisCollOpened", !1));
                },
                !0
              ),
              i.$on("$destroy", function () {
                a && a.destroy();
              });
          },
        };
      },
    ]);
  },
  function (e, t) {
    e.exports =
      " <div class=selectorDiv> <form name=quireForm class=quireSelector> <label for=quireSelect>{{ 'VISCOLL.SELECT_QUIRE' | translate }}:</label> <evt-select ng-if=\"vm.quireOptions && vm.quireOptions.length > 0\" data-id=viscoll_quire data-smaller=true data-type=generic data-empty-option=true data-options=vm.quireOptions data-init={{vm.selectedQuire.value}} on-option-selected=vm.setSelectedQuire(option)> </evt-select> </form> </div> <div class=viscollItemsContainer> <div class=viscollContainer id={{quireId}} ng-repeat=\"quireId in vm.svgCollection.quires._indexes track by $index\" ng-show=vm.isSelectedQuire(quireId) ng-class=\"{'selected' : vm.isSelectedQuire(quireId) }\"> <div class=viscollItem-leftContainer> <span class=quireNumber>{{ 'VISCOLL.QUIRE_NUM' | translate }} {{vm.svgCollection.quires[quireId].n}}</span> <div class=visCollValue type=image/svg+xml compile=::vm.getSvgByQuire(quireId)> </div> </div> <div class=viscollItem-rightContainer> <div class=selectorViscoll> <span class=viscollNumber> {{ 'VISCOLL.UNIT' | translate }}: </span> <evt-select ng-if=\"vm.svgCollection.quires[quireId].leavesList && vm.svgCollection.quires[quireId].leavesList.length > 0\" data-id=folioSelect_{{$index}} data-smaller=true data-type=generic data-empty-option=true data-init={{vm.selectedFolios[quireId].value}} data-selected-option={{vm.selectedFolios[quireId].value}} data-options=::vm.svgCollection.quires[quireId].leavesList on-option-selected=\"vm.setSelectedFolioForQuire(quireId, option)\"> </evt-select> </div> <div class=imgSelectorViscoll ng-if=vm.selectedFolios[quireId]> <figure class=\"thumbnail thumb_single second_unit {{vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode}}\" ng-click=vm.updateCurrentPage(vm.selectedFolios[quireId].conjoinId)> <img class=thumb_single_img onerror='this.setAttribute(\"src\",\"images/empty-image.jpg\")' ng-src=\"{{vm.selectedFolios[quireId].imgConjoin || 'images/empty-image.jpg'}}\" title=\"{{ vm.selectedFolios[quireId].conjoinId ? 'BUTTONS.GO_TO_PAGE' : '' | translate }}\"> <figcaption ng-if=\"vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode !== 'notLeaf'\"> {{ vm.selectedFolios[quireId].conjoinId || (vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode === 'original' ? 'NO_INFO' : vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode) || 'NO_INFO' | translate}}</figcaption> <figcaption ng-if=\"vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode === 'notLeaf'\"> <i class=\"icon fa fa-remove\"></i></figcaption> </figure> <figure class=\"thumbnail thumb_single first_unit {{vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode}}\" ng-click=vm.updateCurrentPage(vm.selectedFolios[quireId].imageId)> <img class=thumb_single_img onerror='this.setAttribute(\"src\",\"images/empty-image.jpg\")' ng-src=\"{{vm.selectedFolios[quireId].img || 'images/empty-image.jpg'}}\" title=\"{{ vm.selectedFolios[quireId].imageId ? 'BUTTONS.GO_TO_PAGE' : '' | translate }}\"> <figcaption ng-if=\"vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode !== 'notLeaf'\">{{vm.selectedFolios[quireId].imageId || (vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode === 'original' ? 'NO_INFO' : vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode) || 'NO_INFO' | translate}}</figcaption> <figcaption ng-if=\"vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode === 'notLeaf'\"> <i class=\"icon fa fa-remove\"></i></figcaption> </figure> <figure class=\"thumbnail thumb_single first_unit {{vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode}}\" ng-click=vm.updateCurrentPage(vm.selectedFolios[quireId].imageId2)> <img class=thumb_single_img onerror='this.setAttribute(\"src\",\"images/empty-image.jpg\")' ng-src=\"{{vm.selectedFolios[quireId].img2 || 'images/empty-image.jpg'}}\" title=\"{{ vm.selectedFolios[quireId].imageId2 ? 'BUTTONS.GO_TO_PAGE' : '' | translate }}\"> <figcaption ng-if=\"vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode !== 'notLeaf'\"> {{vm.selectedFolios[quireId].imageId2 || (vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode === 'original' ? 'NO_INFO' : vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode) || 'NO_INFO' | translate}}</figcaption> <figcaption ng-if=\"vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].value].mode === 'notLeaf'\"> <i class=\"icon fa fa-remove\"></i></figcaption> </figure> <figure class=\"thumbnail thumb_single second_unit {{vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode}}\" ng-click=vm.updateCurrentPage(vm.selectedFolios[quireId].conjoinId2)> <img class=thumb_single_img onerror='this.setAttribute(\"src\",\"images/empty-image.jpg\")' ng-src=\"{{vm.selectedFolios[quireId].imgConjoin2 || 'images/empty-image.jpg'}}\" title=\"{{ vm.selectedFolios[quireId].conjoinId2 ? 'BUTTONS.GO_TO_PAGE' : '' | translate }}\"> <figcaption ng-if=\"vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode !== 'notLeaf'\"> {{vm.selectedFolios[quireId].conjoinId2 || (vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode === 'original' ? 'NO_INFO' : vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode) || 'NO_INFO' | translate}}</figcaption> <figcaption ng-if=\"vm.svgCollection.quires[quireId].leaves[vm.selectedFolios[quireId].conjoin].mode === 'notLeaf'\"> <i class=\"icon fa fa-remove\"></i></figcaption> </figure> </div> <div class=imgSelectorViscoll_empty ng-if=!vm.selectedFolios[quireId]> <span>{{ 'VISCOLL.SELECT_UNIT_MSG' | translate }}</span> </div> </div> </div> </div>";
  },
]);
//# sourceMappingURL=evtviewer.bundle.js.map
